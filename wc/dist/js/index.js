var eI=Object.defineProperty;var rI=(n,i,e)=>i in n?eI(n,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[i]=e;var li=(n,i,e)=>(rI(n,typeof i!="symbol"?i+"":i,e),e),iI=(n,i,e)=>{if(!i.has(n))throw TypeError("Cannot "+e)};var Nb=(n,i,e)=>{if(i.has(n))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(n):i.set(n,e)};var uv=(n,i,e)=>(iI(n,i,"access private method"),e);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const p of u.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function e(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=e(l);fetch(l.href,u)}})();const nI="modulepreload",oI=function(n){return"/mdpress/mdpress/dist/"+n},Uk={},sI=function(i,e,o){if(!e||e.length===0)return i();const l=document.getElementsByTagName("link");return Promise.all(e.map(u=>{if(u=oI(u),u in Uk)return;Uk[u]=!0;const p=u.endsWith(".css"),f=p?'[rel="stylesheet"]':"";if(!!o)for(let _=l.length-1;_>=0;_--){const E=l[_];if(E.href===u&&(!p||E.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":nI,p||(y.as="script",y.crossOrigin=""),y.href=u,document.head.appendChild(y),p)return new Promise((_,E)=>{y.addEventListener("load",_),y.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${u}`)))})})).then(()=>i()).catch(u=>{const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=u,window.dispatchEvent(p),!p.defaultPrevented)throw u})};function r1(n,i){const e=Object.create(null),o=n.split(",");for(let l=0;l<o.length;l++)e[o[l]]=!0;return i?l=>!!e[l.toLowerCase()]:l=>!!e[l]}const Fi={},Od=[],xa=()=>{},aI=()=>!1,lI=/^on[^a-z]/,B0=n=>lI.test(n),i1=n=>n.startsWith("onUpdate:"),Tn=Object.assign,n1=(n,i)=>{const e=n.indexOf(i);e>-1&&n.splice(e,1)},cI=Object.prototype.hasOwnProperty,si=(n,i)=>cI.call(n,i),or=Array.isArray,Nd=n=>j0(n)==="[object Map]",Q2=n=>j0(n)==="[object Set]",Zr=n=>typeof n=="function",Sn=n=>typeof n=="string",o1=n=>typeof n=="symbol",Zi=n=>n!==null&&typeof n=="object",$2=n=>Zi(n)&&Zr(n.then)&&Zr(n.catch),tT=Object.prototype.toString,j0=n=>tT.call(n),uI=n=>j0(n).slice(8,-1),eT=n=>j0(n)==="[object Object]",s1=n=>Sn(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,jv=r1(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),H0=n=>{const i=Object.create(null);return e=>i[e]||(i[e]=n(e))},hI=/-(\w)/g,ql=H0(n=>n.replace(hI,(i,e)=>e?e.toUpperCase():"")),dI=/\B([A-Z])/g,ma=H0(n=>n.replace(dI,"-$1").toLowerCase()),rT=H0(n=>n.charAt(0).toUpperCase()+n.slice(1)),Db=H0(n=>n?`on${rT(n)}`:""),$f=(n,i)=>!Object.is(n,i),Fb=(n,i)=>{for(let e=0;e<n.length;e++)n[e](i)},t0=(n,i,e)=>{Object.defineProperty(n,i,{configurable:!0,enumerable:!1,value:e})},pI=n=>{const i=parseFloat(n);return isNaN(i)?n:i},Gk=n=>{const i=Sn(n)?Number(n):NaN;return isNaN(i)?n:i};let qk;const vw=()=>qk||(qk=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function U0(n){if(or(n)){const i={};for(let e=0;e<n.length;e++){const o=n[e],l=Sn(o)?vI(o):U0(o);if(l)for(const u in l)i[u]=l[u]}return i}else{if(Sn(n))return n;if(Zi(n))return n}}const fI=/;(?![^(]*\))/g,gI=/:([^]+)/,mI=/\/\*[^]*?\*\//g;function vI(n){const i={};return n.replace(mI,"").split(fI).forEach(e=>{if(e){const o=e.split(gI);o.length>1&&(i[o[0].trim()]=o[1].trim())}}),i}function Pg(n){let i="";if(Sn(n))i=n;else if(or(n))for(let e=0;e<n.length;e++){const o=Pg(n[e]);o&&(i+=o+" ")}else if(Zi(n))for(const e in n)n[e]&&(i+=e+" ");return i.trim()}const yI="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",bI=r1(yI);function iT(n){return!!n||n===""}const e0=n=>Sn(n)?n:n==null?"":or(n)||Zi(n)&&(n.toString===tT||!Zr(n.toString))?JSON.stringify(n,nT,2):String(n),nT=(n,i)=>i&&i.__v_isRef?nT(n,i.value):Nd(i)?{[`Map(${i.size})`]:[...i.entries()].reduce((e,[o,l])=>(e[`${o} =>`]=l,e),{})}:Q2(i)?{[`Set(${i.size})`]:[...i.values()]}:Zi(i)&&!or(i)&&!eT(i)?String(i):i;let ga;class wI{constructor(i=!1){this.detached=i,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ga,!i&&ga&&(this.index=(ga.scopes||(ga.scopes=[])).push(this)-1)}get active(){return this._active}run(i){if(this._active){const e=ga;try{return ga=this,i()}finally{ga=e}}}on(){ga=this}off(){ga=this.parent}stop(i){if(this._active){let e,o;for(e=0,o=this.effects.length;e<o;e++)this.effects[e].stop();for(e=0,o=this.cleanups.length;e<o;e++)this.cleanups[e]();if(this.scopes)for(e=0,o=this.scopes.length;e<o;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!i){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.parent=void 0,this._active=!1}}}function xI(n,i=ga){i&&i.active&&i.effects.push(n)}function _I(){return ga}const a1=n=>{const i=new Set(n);return i.w=0,i.n=0,i},oT=n=>(n.w&Vc)>0,sT=n=>(n.n&Vc)>0,kI=({deps:n})=>{if(n.length)for(let i=0;i<n.length;i++)n[i].w|=Vc},EI=n=>{const{deps:i}=n;if(i.length){let e=0;for(let o=0;o<i.length;o++){const l=i[o];oT(l)&&!sT(l)?l.delete(n):i[e++]=l,l.w&=~Vc,l.n&=~Vc}i.length=e}},yw=new WeakMap;let zf=0,Vc=1;const bw=30;let va;const Ju=Symbol(""),ww=Symbol("");class l1{constructor(i,e=null,o){this.fn=i,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,xI(this,o)}run(){if(!this.active)return this.fn();let i=va,e=Uc;for(;i;){if(i===this)return;i=i.parent}try{return this.parent=va,va=this,Uc=!0,Vc=1<<++zf,zf<=bw?kI(this):Vk(this),this.fn()}finally{zf<=bw&&EI(this),Vc=1<<--zf,va=this.parent,Uc=e,this.parent=void 0,this.deferStop&&this.stop()}}stop(){va===this?this.deferStop=!0:this.active&&(Vk(this),this.onStop&&this.onStop(),this.active=!1)}}function Vk(n){const{deps:i}=n;if(i.length){for(let e=0;e<i.length;e++)i[e].delete(n);i.length=0}}let Uc=!0;const aT=[];function ep(){aT.push(Uc),Uc=!1}function rp(){const n=aT.pop();Uc=n===void 0?!0:n}function Go(n,i,e){if(Uc&&va){let o=yw.get(n);o||yw.set(n,o=new Map);let l=o.get(e);l||o.set(e,l=a1()),lT(l)}}function lT(n,i){let e=!1;zf<=bw?sT(n)||(n.n|=Vc,e=!oT(n)):e=!n.has(va),e&&(n.add(va),va.deps.push(n))}function Zl(n,i,e,o,l,u){const p=yw.get(n);if(!p)return;let f=[];if(i==="clear")f=[...p.values()];else if(e==="length"&&or(n)){const m=Number(o);p.forEach((y,_)=>{(_==="length"||_>=m)&&f.push(y)})}else switch(e!==void 0&&f.push(p.get(e)),i){case"add":or(n)?s1(e)&&f.push(p.get("length")):(f.push(p.get(Ju)),Nd(n)&&f.push(p.get(ww)));break;case"delete":or(n)||(f.push(p.get(Ju)),Nd(n)&&f.push(p.get(ww)));break;case"set":Nd(n)&&f.push(p.get(Ju));break}if(f.length===1)f[0]&&xw(f[0]);else{const m=[];for(const y of f)y&&m.push(...y);xw(a1(m))}}function xw(n,i){const e=or(n)?n:[...n];for(const o of e)o.computed&&Wk(o);for(const o of e)o.computed||Wk(o)}function Wk(n,i){(n!==va||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const TI=r1("__proto__,__v_isRef,__isVue"),cT=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(o1)),SI=c1(),CI=c1(!1,!0),PI=c1(!0),Zk=MI();function MI(){const n={};return["includes","indexOf","lastIndexOf"].forEach(i=>{n[i]=function(...e){const o=ui(this);for(let u=0,p=this.length;u<p;u++)Go(o,"get",u+"");const l=o[i](...e);return l===-1||l===!1?o[i](...e.map(ui)):l}}),["push","pop","shift","unshift","splice"].forEach(i=>{n[i]=function(...e){ep();const o=ui(this)[i].apply(this,e);return rp(),o}}),n}function II(n){const i=ui(this);return Go(i,"has",n),i.hasOwnProperty(n)}function c1(n=!1,i=!1){return function(o,l,u){if(l==="__v_isReactive")return!n;if(l==="__v_isReadonly")return n;if(l==="__v_isShallow")return i;if(l==="__v_raw"&&u===(n?i?WI:fT:i?pT:dT).get(o))return o;const p=or(o);if(!n){if(p&&si(Zk,l))return Reflect.get(Zk,l,u);if(l==="hasOwnProperty")return II}const f=Reflect.get(o,l,u);return(o1(l)?cT.has(l):TI(l))||(n||Go(o,"get",l),i)?f:lo(f)?p&&s1(l)?f:f.value:Zi(f)?n?gT(f):d1(f):f}}const LI=uT(),RI=uT(!0);function uT(n=!1){return function(e,o,l,u){let p=e[o];if(Hd(p)&&lo(p)&&!lo(l))return!1;if(!n&&(!r0(l)&&!Hd(l)&&(p=ui(p),l=ui(l)),!or(e)&&lo(p)&&!lo(l)))return p.value=l,!0;const f=or(e)&&s1(o)?Number(o)<e.length:si(e,o),m=Reflect.set(e,o,l,u);return e===ui(u)&&(f?$f(l,p)&&Zl(e,"set",o,l):Zl(e,"add",o,l)),m}}function AI(n,i){const e=si(n,i);n[i];const o=Reflect.deleteProperty(n,i);return o&&e&&Zl(n,"delete",i,void 0),o}function zI(n,i){const e=Reflect.has(n,i);return(!o1(i)||!cT.has(i))&&Go(n,"has",i),e}function OI(n){return Go(n,"iterate",or(n)?"length":Ju),Reflect.ownKeys(n)}const hT={get:SI,set:LI,deleteProperty:AI,has:zI,ownKeys:OI},NI={get:PI,set(n,i){return!0},deleteProperty(n,i){return!0}},DI=Tn({},hT,{get:CI,set:RI}),u1=n=>n,G0=n=>Reflect.getPrototypeOf(n);function hv(n,i,e=!1,o=!1){n=n.__v_raw;const l=ui(n),u=ui(i);e||(i!==u&&Go(l,"get",i),Go(l,"get",u));const{has:p}=G0(l),f=o?u1:e?f1:tg;if(p.call(l,i))return f(n.get(i));if(p.call(l,u))return f(n.get(u));n!==l&&n.get(i)}function dv(n,i=!1){const e=this.__v_raw,o=ui(e),l=ui(n);return i||(n!==l&&Go(o,"has",n),Go(o,"has",l)),n===l?e.has(n):e.has(n)||e.has(l)}function pv(n,i=!1){return n=n.__v_raw,!i&&Go(ui(n),"iterate",Ju),Reflect.get(n,"size",n)}function Xk(n){n=ui(n);const i=ui(this);return G0(i).has.call(i,n)||(i.add(n),Zl(i,"add",n,n)),this}function Yk(n,i){i=ui(i);const e=ui(this),{has:o,get:l}=G0(e);let u=o.call(e,n);u||(n=ui(n),u=o.call(e,n));const p=l.call(e,n);return e.set(n,i),u?$f(i,p)&&Zl(e,"set",n,i):Zl(e,"add",n,i),this}function Kk(n){const i=ui(this),{has:e,get:o}=G0(i);let l=e.call(i,n);l||(n=ui(n),l=e.call(i,n)),o&&o.call(i,n);const u=i.delete(n);return l&&Zl(i,"delete",n,void 0),u}function Jk(){const n=ui(this),i=n.size!==0,e=n.clear();return i&&Zl(n,"clear",void 0,void 0),e}function fv(n,i){return function(o,l){const u=this,p=u.__v_raw,f=ui(p),m=i?u1:n?f1:tg;return!n&&Go(f,"iterate",Ju),p.forEach((y,_)=>o.call(l,m(y),m(_),u))}}function gv(n,i,e){return function(...o){const l=this.__v_raw,u=ui(l),p=Nd(u),f=n==="entries"||n===Symbol.iterator&&p,m=n==="keys"&&p,y=l[n](...o),_=e?u1:i?f1:tg;return!i&&Go(u,"iterate",m?ww:Ju),{next(){const{value:E,done:C}=y.next();return C?{value:E,done:C}:{value:f?[_(E[0]),_(E[1])]:_(E),done:C}},[Symbol.iterator](){return this}}}}function Fc(n){return function(...i){return n==="delete"?!1:this}}function FI(){const n={get(u){return hv(this,u)},get size(){return pv(this)},has:dv,add:Xk,set:Yk,delete:Kk,clear:Jk,forEach:fv(!1,!1)},i={get(u){return hv(this,u,!1,!0)},get size(){return pv(this)},has:dv,add:Xk,set:Yk,delete:Kk,clear:Jk,forEach:fv(!1,!0)},e={get(u){return hv(this,u,!0)},get size(){return pv(this,!0)},has(u){return dv.call(this,u,!0)},add:Fc("add"),set:Fc("set"),delete:Fc("delete"),clear:Fc("clear"),forEach:fv(!0,!1)},o={get(u){return hv(this,u,!0,!0)},get size(){return pv(this,!0)},has(u){return dv.call(this,u,!0)},add:Fc("add"),set:Fc("set"),delete:Fc("delete"),clear:Fc("clear"),forEach:fv(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{n[u]=gv(u,!1,!1),e[u]=gv(u,!0,!1),i[u]=gv(u,!1,!0),o[u]=gv(u,!0,!0)}),[n,e,i,o]}const[BI,jI,HI,UI]=FI();function h1(n,i){const e=i?n?UI:HI:n?jI:BI;return(o,l,u)=>l==="__v_isReactive"?!n:l==="__v_isReadonly"?n:l==="__v_raw"?o:Reflect.get(si(e,l)&&l in o?e:o,l,u)}const GI={get:h1(!1,!1)},qI={get:h1(!1,!0)},VI={get:h1(!0,!1)},dT=new WeakMap,pT=new WeakMap,fT=new WeakMap,WI=new WeakMap;function ZI(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function XI(n){return n.__v_skip||!Object.isExtensible(n)?0:ZI(uI(n))}function d1(n){return Hd(n)?n:p1(n,!1,hT,GI,dT)}function YI(n){return p1(n,!1,DI,qI,pT)}function gT(n){return p1(n,!0,NI,VI,fT)}function p1(n,i,e,o,l){if(!Zi(n)||n.__v_raw&&!(i&&n.__v_isReactive))return n;const u=l.get(n);if(u)return u;const p=XI(n);if(p===0)return n;const f=new Proxy(n,p===2?o:e);return l.set(n,f),f}function Dd(n){return Hd(n)?Dd(n.__v_raw):!!(n&&n.__v_isReactive)}function Hd(n){return!!(n&&n.__v_isReadonly)}function r0(n){return!!(n&&n.__v_isShallow)}function mT(n){return Dd(n)||Hd(n)}function ui(n){const i=n&&n.__v_raw;return i?ui(i):n}function vT(n){return t0(n,"__v_skip",!0),n}const tg=n=>Zi(n)?d1(n):n,f1=n=>Zi(n)?gT(n):n;function yT(n){Uc&&va&&(n=ui(n),lT(n.dep||(n.dep=a1())))}function bT(n,i){n=ui(n);const e=n.dep;e&&xw(e)}function lo(n){return!!(n&&n.__v_isRef===!0)}function Oe(n){return KI(n,!1)}function KI(n,i){return lo(n)?n:new JI(n,i)}class JI{constructor(i,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?i:ui(i),this._value=e?i:tg(i)}get value(){return yT(this),this._value}set value(i){const e=this.__v_isShallow||r0(i)||Hd(i);i=e?i:ui(i),$f(i,this._rawValue)&&(this._rawValue=i,this._value=e?i:tg(i),bT(this))}}function QI(n){return lo(n)?n.value:n}const $I={get:(n,i,e)=>QI(Reflect.get(n,i,e)),set:(n,i,e,o)=>{const l=n[i];return lo(l)&&!lo(e)?(l.value=e,!0):Reflect.set(n,i,e,o)}};function wT(n){return Dd(n)?n:new Proxy(n,$I)}class tL{constructor(i,e,o,l){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new l1(i,()=>{this._dirty||(this._dirty=!0,bT(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!l,this.__v_isReadonly=o}get value(){const i=ui(this);return yT(i),(i._dirty||!i._cacheable)&&(i._dirty=!1,i._value=i.effect.run()),i._value}set value(i){this._setter(i)}}function eL(n,i,e=!1){let o,l;const u=Zr(n);return u?(o=n,l=xa):(o=n.get,l=n.set),new tL(o,l,u||!l,e)}function Gc(n,i,e,o){let l;try{l=o?n(...o):n()}catch(u){q0(u,i,e)}return l}function _a(n,i,e,o){if(Zr(n)){const u=Gc(n,i,e,o);return u&&$2(u)&&u.catch(p=>{q0(p,i,e)}),u}const l=[];for(let u=0;u<n.length;u++)l.push(_a(n[u],i,e,o));return l}function q0(n,i,e,o=!0){const l=i?i.vnode:null;if(i){let u=i.parent;const p=i.proxy,f=e;for(;u;){const y=u.ec;if(y){for(let _=0;_<y.length;_++)if(y[_](n,p,f)===!1)return}u=u.parent}const m=i.appContext.config.errorHandler;if(m){Gc(m,null,10,[n,p,f]);return}}rL(n,e,l,o)}function rL(n,i,e,o=!0){console.error(n)}let eg=!1,_w=!1;const so=[];let tl=0;const Fd=[];let Ul=null,Zu=0;const xT=Promise.resolve();let g1=null;function m1(n){const i=g1||xT;return n?i.then(this?n.bind(this):n):i}function iL(n){let i=tl+1,e=so.length;for(;i<e;){const o=i+e>>>1;rg(so[o])<n?i=o+1:e=o}return i}function v1(n){(!so.length||!so.includes(n,eg&&n.allowRecurse?tl+1:tl))&&(n.id==null?so.push(n):so.splice(iL(n.id),0,n),_T())}function _T(){!eg&&!_w&&(_w=!0,g1=xT.then(ET))}function nL(n){const i=so.indexOf(n);i>tl&&so.splice(i,1)}function oL(n){or(n)?Fd.push(...n):(!Ul||!Ul.includes(n,n.allowRecurse?Zu+1:Zu))&&Fd.push(n),_T()}function Qk(n,i=eg?tl+1:0){for(;i<so.length;i++){const e=so[i];e&&e.pre&&(so.splice(i,1),i--,e())}}function kT(n){if(Fd.length){const i=[...new Set(Fd)];if(Fd.length=0,Ul){Ul.push(...i);return}for(Ul=i,Ul.sort((e,o)=>rg(e)-rg(o)),Zu=0;Zu<Ul.length;Zu++)Ul[Zu]();Ul=null,Zu=0}}const rg=n=>n.id==null?1/0:n.id,sL=(n,i)=>{const e=rg(n)-rg(i);if(e===0){if(n.pre&&!i.pre)return-1;if(i.pre&&!n.pre)return 1}return e};function ET(n){_w=!1,eg=!0,so.sort(sL);const i=xa;try{for(tl=0;tl<so.length;tl++){const e=so[tl];e&&e.active!==!1&&Gc(e,null,14)}}finally{tl=0,so.length=0,kT(),eg=!1,g1=null,(so.length||Fd.length)&&ET()}}function aL(n,i,...e){if(n.isUnmounted)return;const o=n.vnode.props||Fi;let l=e;const u=i.startsWith("update:"),p=u&&i.slice(7);if(p&&p in o){const _=`${p==="modelValue"?"model":p}Modifiers`,{number:E,trim:C}=o[_]||Fi;C&&(l=e.map(I=>Sn(I)?I.trim():I)),E&&(l=e.map(pI))}let f,m=o[f=Db(i)]||o[f=Db(ql(i))];!m&&u&&(m=o[f=Db(ma(i))]),m&&_a(m,n,6,l);const y=o[f+"Once"];if(y){if(!n.emitted)n.emitted={};else if(n.emitted[f])return;n.emitted[f]=!0,_a(y,n,6,l)}}function TT(n,i,e=!1){const o=i.emitsCache,l=o.get(n);if(l!==void 0)return l;const u=n.emits;let p={},f=!1;if(!Zr(n)){const m=y=>{const _=TT(y,i,!0);_&&(f=!0,Tn(p,_))};!e&&i.mixins.length&&i.mixins.forEach(m),n.extends&&m(n.extends),n.mixins&&n.mixins.forEach(m)}return!u&&!f?(Zi(n)&&o.set(n,null),null):(or(u)?u.forEach(m=>p[m]=null):Tn(p,u),Zi(n)&&o.set(n,p),p)}function V0(n,i){return!n||!B0(i)?!1:(i=i.slice(2).replace(/Once$/,""),si(n,i[0].toLowerCase()+i.slice(1))||si(n,ma(i))||si(n,i))}let jo=null,W0=null;function i0(n){const i=jo;return jo=n,W0=n&&n.type.__scopeId||null,i}function lL(n){W0=n}function cL(){W0=null}function uL(n,i=jo,e){if(!i||n._n)return n;const o=(...l)=>{o._d&&lE(-1);const u=i0(i);let p;try{p=n(...l)}finally{i0(u),o._d&&lE(1)}return p};return o._n=!0,o._c=!0,o._d=!0,o}function Bb(n){const{type:i,vnode:e,proxy:o,withProxy:l,props:u,propsOptions:[p],slots:f,attrs:m,emit:y,render:_,renderCache:E,data:C,setupState:I,ctx:z,inheritAttrs:B}=n;let G,H;const $=i0(n);try{if(e.shapeFlag&4){const V=l||o;G=$a(_.call(V,V,E,u,I,C,z)),H=m}else{const V=i;G=$a(V.length>1?V(u,{attrs:m,slots:f,emit:y}):V(u,null)),H=i.props?m:hL(m)}}catch(V){Gf.length=0,q0(V,n,1),G=ka(Wc)}let j=G;if(H&&B!==!1){const V=Object.keys(H),{shapeFlag:ot}=j;V.length&&ot&7&&(p&&V.some(i1)&&(H=dL(H,p)),j=Ud(j,H))}return e.dirs&&(j=Ud(j),j.dirs=j.dirs?j.dirs.concat(e.dirs):e.dirs),e.transition&&(j.transition=e.transition),G=j,i0($),G}const hL=n=>{let i;for(const e in n)(e==="class"||e==="style"||B0(e))&&((i||(i={}))[e]=n[e]);return i},dL=(n,i)=>{const e={};for(const o in n)(!i1(o)||!(o.slice(9)in i))&&(e[o]=n[o]);return e};function pL(n,i,e){const{props:o,children:l,component:u}=n,{props:p,children:f,patchFlag:m}=i,y=u.emitsOptions;if(i.dirs||i.transition)return!0;if(e&&m>=0){if(m&1024)return!0;if(m&16)return o?$k(o,p,y):!!p;if(m&8){const _=i.dynamicProps;for(let E=0;E<_.length;E++){const C=_[E];if(p[C]!==o[C]&&!V0(y,C))return!0}}}else return(l||f)&&(!f||!f.$stable)?!0:o===p?!1:o?p?$k(o,p,y):!0:!!p;return!1}function $k(n,i,e){const o=Object.keys(i);if(o.length!==Object.keys(n).length)return!0;for(let l=0;l<o.length;l++){const u=o[l];if(i[u]!==n[u]&&!V0(e,u))return!0}return!1}function fL({vnode:n,parent:i},e){for(;i&&i.subTree===n;)(n=i.vnode).el=e,i=i.parent}const gL=n=>n.__isSuspense;function mL(n,i){i&&i.pendingBranch?or(n)?i.effects.push(...n):i.effects.push(n):oL(n)}const mv={};function ei(n,i,e){return ST(n,i,e)}function ST(n,i,{immediate:e,deep:o,flush:l,onTrack:u,onTrigger:p}=Fi){var f;const m=_I()===((f=ao)==null?void 0:f.scope)?ao:null;let y,_=!1,E=!1;if(lo(n)?(y=()=>n.value,_=r0(n)):Dd(n)?(y=()=>n,o=!0):or(n)?(E=!0,_=n.some(V=>Dd(V)||r0(V)),y=()=>n.map(V=>{if(lo(V))return V.value;if(Dd(V))return Rd(V);if(Zr(V))return Gc(V,m,2)})):Zr(n)?i?y=()=>Gc(n,m,2):y=()=>{if(!(m&&m.isUnmounted))return C&&C(),_a(n,m,3,[I])}:y=xa,i&&o){const V=y;y=()=>Rd(V())}let C,I=V=>{C=$.onStop=()=>{Gc(V,m,4)}},z;if(ng)if(I=xa,i?e&&_a(i,m,3,[y(),E?[]:void 0,I]):y(),l==="sync"){const V=cR();z=V.__watcherHandles||(V.__watcherHandles=[])}else return xa;let B=E?new Array(n.length).fill(mv):mv;const G=()=>{if($.active)if(i){const V=$.run();(o||_||(E?V.some((ot,ft)=>$f(ot,B[ft])):$f(V,B)))&&(C&&C(),_a(i,m,3,[V,B===mv?void 0:E&&B[0]===mv?[]:B,I]),B=V)}else $.run()};G.allowRecurse=!!i;let H;l==="sync"?H=G:l==="post"?H=()=>Do(G,m&&m.suspense):(G.pre=!0,m&&(G.id=m.uid),H=()=>v1(G));const $=new l1(y,H);i?e?G():B=$.run():l==="post"?Do($.run.bind($),m&&m.suspense):$.run();const j=()=>{$.stop(),m&&m.scope&&n1(m.scope.effects,$)};return z&&z.push(j),j}function vL(n,i,e){const o=this.proxy,l=Sn(n)?n.includes(".")?CT(o,n):()=>o[n]:n.bind(o,o);let u;Zr(i)?u=i:(u=i.handler,e=i);const p=ao;Gd(this);const f=ST(l,u.bind(o),e);return p?Gd(p):$u(),f}function CT(n,i){const e=i.split(".");return()=>{let o=n;for(let l=0;l<e.length&&o;l++)o=o[e[l]];return o}}function Rd(n,i){if(!Zi(n)||n.__v_skip||(i=i||new Set,i.has(n)))return n;if(i.add(n),lo(n))Rd(n.value,i);else if(or(n))for(let e=0;e<n.length;e++)Rd(n[e],i);else if(Q2(n)||Nd(n))n.forEach(e=>{Rd(e,i)});else if(eT(n))for(const e in n)Rd(n[e],i);return n}function qu(n,i,e,o){const l=n.dirs,u=i&&i.dirs;for(let p=0;p<l.length;p++){const f=l[p];u&&(f.oldValue=u[p].value);let m=f.dir[o];m&&(ep(),_a(m,e,8,[n.el,f,n,i]),rp())}}function hs(n,i){return Zr(n)?(()=>Tn({name:n.name},i,{setup:n}))():n}const Hf=n=>!!n.type.__asyncLoader,PT=n=>n.type.__isKeepAlive;function yL(n,i){MT(n,"a",i)}function bL(n,i){MT(n,"da",i)}function MT(n,i,e=ao){const o=n.__wdc||(n.__wdc=()=>{let l=e;for(;l;){if(l.isDeactivated)return;l=l.parent}return n()});if(Z0(i,o,e),e){let l=e.parent;for(;l&&l.parent;)PT(l.parent.vnode)&&wL(o,i,e,l),l=l.parent}}function wL(n,i,e,o){const l=Z0(i,n,o,!0);IT(()=>{n1(o[i],l)},e)}function Z0(n,i,e=ao,o=!1){if(e){const l=e[n]||(e[n]=[]),u=i.__weh||(i.__weh=(...p)=>{if(e.isUnmounted)return;ep(),Gd(e);const f=_a(i,e,n,p);return $u(),rp(),f});return o?l.unshift(u):l.push(u),u}}const Ql=n=>(i,e=ao)=>(!ng||n==="sp")&&Z0(n,(...o)=>i(...o),e),xL=Ql("bm"),ru=Ql("m"),_L=Ql("bu"),kL=Ql("u"),EL=Ql("bum"),IT=Ql("um"),TL=Ql("sp"),SL=Ql("rtg"),CL=Ql("rtc");function PL(n,i=ao){Z0("ec",n,i)}const ML=Symbol.for("v-ndc");function Qu(n,i,e,o){let l;const u=e&&e[o];if(or(n)||Sn(n)){l=new Array(n.length);for(let p=0,f=n.length;p<f;p++)l[p]=i(n[p],p,void 0,u&&u[p])}else if(typeof n=="number"){l=new Array(n);for(let p=0;p<n;p++)l[p]=i(p+1,p,void 0,u&&u[p])}else if(Zi(n))if(n[Symbol.iterator])l=Array.from(n,(p,f)=>i(p,f,void 0,u&&u[f]));else{const p=Object.keys(n);l=new Array(p.length);for(let f=0,m=p.length;f<m;f++){const y=p[f];l[f]=i(n[y],y,f,u&&u[f])}}else l=[];return e&&(e[o]=l),l}function IL(n,i,e={},o,l){if(jo.isCE||jo.parent&&Hf(jo.parent)&&jo.parent.isCE)return i!=="default"&&(e.name=i),ka("slot",e,o&&o());let u=n[i];u&&u._c&&(u._d=!1),Ae();const p=u&&LT(u(e)),f=HT(nn,{key:e.key||p&&p.key||`_${i}`},p||(o?o():[]),p&&n._===1?64:-2);return!l&&f.scopeId&&(f.slotScopeIds=[f.scopeId+"-s"]),u&&u._c&&(u._d=!0),f}function LT(n){return n.some(i=>UT(i)?!(i.type===Wc||i.type===nn&&!LT(i.children)):!0)?n:null}const kw=n=>n?qT(n)?_1(n)||n.proxy:kw(n.parent):null,Uf=Tn(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>kw(n.parent),$root:n=>kw(n.root),$emit:n=>n.emit,$options:n=>y1(n),$forceUpdate:n=>n.f||(n.f=()=>v1(n.update)),$nextTick:n=>n.n||(n.n=m1.bind(n.proxy)),$watch:n=>vL.bind(n)}),jb=(n,i)=>n!==Fi&&!n.__isScriptSetup&&si(n,i),LL={get({_:n},i){const{ctx:e,setupState:o,data:l,props:u,accessCache:p,type:f,appContext:m}=n;let y;if(i[0]!=="$"){const I=p[i];if(I!==void 0)switch(I){case 1:return o[i];case 2:return l[i];case 4:return e[i];case 3:return u[i]}else{if(jb(o,i))return p[i]=1,o[i];if(l!==Fi&&si(l,i))return p[i]=2,l[i];if((y=n.propsOptions[0])&&si(y,i))return p[i]=3,u[i];if(e!==Fi&&si(e,i))return p[i]=4,e[i];Ew&&(p[i]=0)}}const _=Uf[i];let E,C;if(_)return i==="$attrs"&&Go(n,"get",i),_(n);if((E=f.__cssModules)&&(E=E[i]))return E;if(e!==Fi&&si(e,i))return p[i]=4,e[i];if(C=m.config.globalProperties,si(C,i))return C[i]},set({_:n},i,e){const{data:o,setupState:l,ctx:u}=n;return jb(l,i)?(l[i]=e,!0):o!==Fi&&si(o,i)?(o[i]=e,!0):si(n.props,i)||i[0]==="$"&&i.slice(1)in n?!1:(u[i]=e,!0)},has({_:{data:n,setupState:i,accessCache:e,ctx:o,appContext:l,propsOptions:u}},p){let f;return!!e[p]||n!==Fi&&si(n,p)||jb(i,p)||(f=u[0])&&si(f,p)||si(o,p)||si(Uf,p)||si(l.config.globalProperties,p)},defineProperty(n,i,e){return e.get!=null?n._.accessCache[i]=0:si(e,"value")&&this.set(n,i,e.value,null),Reflect.defineProperty(n,i,e)}};function tE(n){return or(n)?n.reduce((i,e)=>(i[e]=null,i),{}):n}let Ew=!0;function RL(n){const i=y1(n),e=n.proxy,o=n.ctx;Ew=!1,i.beforeCreate&&eE(i.beforeCreate,n,"bc");const{data:l,computed:u,methods:p,watch:f,provide:m,inject:y,created:_,beforeMount:E,mounted:C,beforeUpdate:I,updated:z,activated:B,deactivated:G,beforeDestroy:H,beforeUnmount:$,destroyed:j,unmounted:V,render:ot,renderTracked:ft,renderTriggered:ht,errorCaptured:ct,serverPrefetch:Z,expose:lt,inheritAttrs:ut,components:mt,directives:te,filters:ne}=i;if(y&&AL(y,o,null),p)for(const he in p){const Kt=p[he];Zr(Kt)&&(o[he]=Kt.bind(e))}if(l){const he=l.call(e,e);Zi(he)&&(n.data=d1(he))}if(Ew=!0,u)for(const he in u){const Kt=u[he],Je=Zr(Kt)?Kt.bind(e,e):Zr(Kt.get)?Kt.get.bind(e,e):xa,kt=!Zr(Kt)&&Zr(Kt.set)?Kt.set.bind(e):xa,zt=qr({get:Je,set:kt});Object.defineProperty(o,he,{enumerable:!0,configurable:!0,get:()=>zt.value,set:Wt=>zt.value=Wt})}if(f)for(const he in f)RT(f[he],o,e,he);if(m){const he=Zr(m)?m.call(e):m;Reflect.ownKeys(he).forEach(Kt=>{BL(Kt,he[Kt])})}_&&eE(_,n,"c");function Gt(he,Kt){or(Kt)?Kt.forEach(Je=>he(Je.bind(e))):Kt&&he(Kt.bind(e))}if(Gt(xL,E),Gt(ru,C),Gt(_L,I),Gt(kL,z),Gt(yL,B),Gt(bL,G),Gt(PL,ct),Gt(CL,ft),Gt(SL,ht),Gt(EL,$),Gt(IT,V),Gt(TL,Z),or(lt))if(lt.length){const he=n.exposed||(n.exposed={});lt.forEach(Kt=>{Object.defineProperty(he,Kt,{get:()=>e[Kt],set:Je=>e[Kt]=Je})})}else n.exposed||(n.exposed={});ot&&n.render===xa&&(n.render=ot),ut!=null&&(n.inheritAttrs=ut),mt&&(n.components=mt),te&&(n.directives=te)}function AL(n,i,e=xa){or(n)&&(n=Tw(n));for(const o in n){const l=n[o];let u;Zi(l)?"default"in l?u=Hv(l.from||o,l.default,!0):u=Hv(l.from||o):u=Hv(l),lo(u)?Object.defineProperty(i,o,{enumerable:!0,configurable:!0,get:()=>u.value,set:p=>u.value=p}):i[o]=u}}function eE(n,i,e){_a(or(n)?n.map(o=>o.bind(i.proxy)):n.bind(i.proxy),i,e)}function RT(n,i,e,o){const l=o.includes(".")?CT(e,o):()=>e[o];if(Sn(n)){const u=i[n];Zr(u)&&ei(l,u)}else if(Zr(n))ei(l,n.bind(e));else if(Zi(n))if(or(n))n.forEach(u=>RT(u,i,e,o));else{const u=Zr(n.handler)?n.handler.bind(e):i[n.handler];Zr(u)&&ei(l,u,n)}}function y1(n){const i=n.type,{mixins:e,extends:o}=i,{mixins:l,optionsCache:u,config:{optionMergeStrategies:p}}=n.appContext,f=u.get(i);let m;return f?m=f:!l.length&&!e&&!o?m=i:(m={},l.length&&l.forEach(y=>n0(m,y,p,!0)),n0(m,i,p)),Zi(i)&&u.set(i,m),m}function n0(n,i,e,o=!1){const{mixins:l,extends:u}=i;u&&n0(n,u,e,!0),l&&l.forEach(p=>n0(n,p,e,!0));for(const p in i)if(!(o&&p==="expose")){const f=zL[p]||e&&e[p];n[p]=f?f(n[p],i[p]):i[p]}return n}const zL={data:rE,props:iE,emits:iE,methods:Of,computed:Of,beforeCreate:xo,created:xo,beforeMount:xo,mounted:xo,beforeUpdate:xo,updated:xo,beforeDestroy:xo,beforeUnmount:xo,destroyed:xo,unmounted:xo,activated:xo,deactivated:xo,errorCaptured:xo,serverPrefetch:xo,components:Of,directives:Of,watch:NL,provide:rE,inject:OL};function rE(n,i){return i?n?function(){return Tn(Zr(n)?n.call(this,this):n,Zr(i)?i.call(this,this):i)}:i:n}function OL(n,i){return Of(Tw(n),Tw(i))}function Tw(n){if(or(n)){const i={};for(let e=0;e<n.length;e++)i[n[e]]=n[e];return i}return n}function xo(n,i){return n?[...new Set([].concat(n,i))]:i}function Of(n,i){return n?Tn(Object.create(null),n,i):i}function iE(n,i){return n?or(n)&&or(i)?[...new Set([...n,...i])]:Tn(Object.create(null),tE(n),tE(i??{})):i}function NL(n,i){if(!n)return i;if(!i)return n;const e=Tn(Object.create(null),n);for(const o in i)e[o]=xo(n[o],i[o]);return e}function AT(){return{app:null,config:{isNativeTag:aI,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let DL=0;function FL(n,i){return function(o,l=null){Zr(o)||(o=Tn({},o)),l!=null&&!Zi(l)&&(l=null);const u=AT(),p=new Set;let f=!1;const m=u.app={_uid:DL++,_component:o,_props:l,_container:null,_context:u,_instance:null,version:uR,get config(){return u.config},set config(y){},use(y,..._){return p.has(y)||(y&&Zr(y.install)?(p.add(y),y.install(m,..._)):Zr(y)&&(p.add(y),y(m,..._))),m},mixin(y){return u.mixins.includes(y)||u.mixins.push(y),m},component(y,_){return _?(u.components[y]=_,m):u.components[y]},directive(y,_){return _?(u.directives[y]=_,m):u.directives[y]},mount(y,_,E){if(!f){const C=ka(o,l);return C.appContext=u,_&&i?i(C,y):n(C,y,E),f=!0,m._container=y,y.__vue_app__=m,_1(C.component)||C.component.proxy}},unmount(){f&&(n(null,m._container),delete m._container.__vue_app__)},provide(y,_){return u.provides[y]=_,m},runWithContext(y){o0=m;try{return y()}finally{o0=null}}};return m}}let o0=null;function BL(n,i){if(ao){let e=ao.provides;const o=ao.parent&&ao.parent.provides;o===e&&(e=ao.provides=Object.create(o)),e[n]=i}}function Hv(n,i,e=!1){const o=ao||jo;if(o||o0){const l=o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:o0._context.provides;if(l&&n in l)return l[n];if(arguments.length>1)return e&&Zr(i)?i.call(o&&o.proxy):i}}function jL(n,i,e,o=!1){const l={},u={};t0(u,Y0,1),n.propsDefaults=Object.create(null),zT(n,i,l,u);for(const p in n.propsOptions[0])p in l||(l[p]=void 0);e?n.props=o?l:YI(l):n.type.props?n.props=l:n.props=u,n.attrs=u}function HL(n,i,e,o){const{props:l,attrs:u,vnode:{patchFlag:p}}=n,f=ui(l),[m]=n.propsOptions;let y=!1;if((o||p>0)&&!(p&16)){if(p&8){const _=n.vnode.dynamicProps;for(let E=0;E<_.length;E++){let C=_[E];if(V0(n.emitsOptions,C))continue;const I=i[C];if(m)if(si(u,C))I!==u[C]&&(u[C]=I,y=!0);else{const z=ql(C);l[z]=Sw(m,f,z,I,n,!1)}else I!==u[C]&&(u[C]=I,y=!0)}}}else{zT(n,i,l,u)&&(y=!0);let _;for(const E in f)(!i||!si(i,E)&&((_=ma(E))===E||!si(i,_)))&&(m?e&&(e[E]!==void 0||e[_]!==void 0)&&(l[E]=Sw(m,f,E,void 0,n,!0)):delete l[E]);if(u!==f)for(const E in u)(!i||!si(i,E))&&(delete u[E],y=!0)}y&&Zl(n,"set","$attrs")}function zT(n,i,e,o){const[l,u]=n.propsOptions;let p=!1,f;if(i)for(let m in i){if(jv(m))continue;const y=i[m];let _;l&&si(l,_=ql(m))?!u||!u.includes(_)?e[_]=y:(f||(f={}))[_]=y:V0(n.emitsOptions,m)||(!(m in o)||y!==o[m])&&(o[m]=y,p=!0)}if(u){const m=ui(e),y=f||Fi;for(let _=0;_<u.length;_++){const E=u[_];e[E]=Sw(l,m,E,y[E],n,!si(y,E))}}return p}function Sw(n,i,e,o,l,u){const p=n[e];if(p!=null){const f=si(p,"default");if(f&&o===void 0){const m=p.default;if(p.type!==Function&&!p.skipFactory&&Zr(m)){const{propsDefaults:y}=l;e in y?o=y[e]:(Gd(l),o=y[e]=m.call(null,i),$u())}else o=m}p[0]&&(u&&!f?o=!1:p[1]&&(o===""||o===ma(e))&&(o=!0))}return o}function OT(n,i,e=!1){const o=i.propsCache,l=o.get(n);if(l)return l;const u=n.props,p={},f=[];let m=!1;if(!Zr(n)){const _=E=>{m=!0;const[C,I]=OT(E,i,!0);Tn(p,C),I&&f.push(...I)};!e&&i.mixins.length&&i.mixins.forEach(_),n.extends&&_(n.extends),n.mixins&&n.mixins.forEach(_)}if(!u&&!m)return Zi(n)&&o.set(n,Od),Od;if(or(u))for(let _=0;_<u.length;_++){const E=ql(u[_]);nE(E)&&(p[E]=Fi)}else if(u)for(const _ in u){const E=ql(_);if(nE(E)){const C=u[_],I=p[E]=or(C)||Zr(C)?{type:C}:Tn({},C);if(I){const z=aE(Boolean,I.type),B=aE(String,I.type);I[0]=z>-1,I[1]=B<0||z<B,(z>-1||si(I,"default"))&&f.push(E)}}}const y=[p,f];return Zi(n)&&o.set(n,y),y}function nE(n){return n[0]!=="$"}function oE(n){const i=n&&n.toString().match(/^\s*(function|class) (\w+)/);return i?i[2]:n===null?"null":""}function sE(n,i){return oE(n)===oE(i)}function aE(n,i){return or(i)?i.findIndex(e=>sE(e,n)):Zr(i)&&sE(i,n)?0:-1}const NT=n=>n[0]==="_"||n==="$stable",b1=n=>or(n)?n.map($a):[$a(n)],UL=(n,i,e)=>{if(i._n)return i;const o=uL((...l)=>b1(i(...l)),e);return o._c=!1,o},DT=(n,i,e)=>{const o=n._ctx;for(const l in n){if(NT(l))continue;const u=n[l];if(Zr(u))i[l]=UL(l,u,o);else if(u!=null){const p=b1(u);i[l]=()=>p}}},FT=(n,i)=>{const e=b1(i);n.slots.default=()=>e},GL=(n,i)=>{if(n.vnode.shapeFlag&32){const e=i._;e?(n.slots=ui(i),t0(i,"_",e)):DT(i,n.slots={})}else n.slots={},i&&FT(n,i);t0(n.slots,Y0,1)},qL=(n,i,e)=>{const{vnode:o,slots:l}=n;let u=!0,p=Fi;if(o.shapeFlag&32){const f=i._;f?e&&f===1?u=!1:(Tn(l,i),!e&&f===1&&delete l._):(u=!i.$stable,DT(i,l)),p=i}else i&&(FT(n,i),p={default:1});if(u)for(const f in l)!NT(f)&&!(f in p)&&delete l[f]};function Cw(n,i,e,o,l=!1){if(or(n)){n.forEach((C,I)=>Cw(C,i&&(or(i)?i[I]:i),e,o,l));return}if(Hf(o)&&!l)return;const u=o.shapeFlag&4?_1(o.component)||o.component.proxy:o.el,p=l?null:u,{i:f,r:m}=n,y=i&&i.r,_=f.refs===Fi?f.refs={}:f.refs,E=f.setupState;if(y!=null&&y!==m&&(Sn(y)?(_[y]=null,si(E,y)&&(E[y]=null)):lo(y)&&(y.value=null)),Zr(m))Gc(m,f,12,[p,_]);else{const C=Sn(m),I=lo(m);if(C||I){const z=()=>{if(n.f){const B=C?si(E,m)?E[m]:_[m]:m.value;l?or(B)&&n1(B,u):or(B)?B.includes(u)||B.push(u):C?(_[m]=[u],si(E,m)&&(E[m]=_[m])):(m.value=[u],n.k&&(_[n.k]=m.value))}else C?(_[m]=p,si(E,m)&&(E[m]=p)):I&&(m.value=p,n.k&&(_[n.k]=p))};p?(z.id=-1,Do(z,e)):z()}}}const Do=mL;function VL(n){return WL(n)}function WL(n,i){const e=vw();e.__VUE__=!0;const{insert:o,remove:l,patchProp:u,createElement:p,createText:f,createComment:m,setText:y,setElementText:_,parentNode:E,nextSibling:C,setScopeId:I=xa,insertStaticContent:z}=n,B=(nt,pt,vt,A=null,X=null,dt=null,_t=!1,wt=null,Ot=!!pt.dynamicChildren)=>{if(nt===pt)return;nt&&!Ef(nt,pt)&&(A=tr(nt),Wt(nt,X,dt,!0),nt=null),pt.patchFlag===-2&&(Ot=!1,pt.dynamicChildren=null);const{type:xt,ref:$t,shapeFlag:le}=pt;switch(xt){case X0:G(nt,pt,vt,A);break;case Wc:H(nt,pt,vt,A);break;case Hb:nt==null&&$(pt,vt,A,_t);break;case nn:mt(nt,pt,vt,A,X,dt,_t,wt,Ot);break;default:le&1?ot(nt,pt,vt,A,X,dt,_t,wt,Ot):le&6?te(nt,pt,vt,A,X,dt,_t,wt,Ot):(le&64||le&128)&&xt.process(nt,pt,vt,A,X,dt,_t,wt,Ot,qt)}$t!=null&&X&&Cw($t,nt&&nt.ref,dt,pt||nt,!pt)},G=(nt,pt,vt,A)=>{if(nt==null)o(pt.el=f(pt.children),vt,A);else{const X=pt.el=nt.el;pt.children!==nt.children&&y(X,pt.children)}},H=(nt,pt,vt,A)=>{nt==null?o(pt.el=m(pt.children||""),vt,A):pt.el=nt.el},$=(nt,pt,vt,A)=>{[nt.el,nt.anchor]=z(nt.children,pt,vt,A,nt.el,nt.anchor)},j=({el:nt,anchor:pt},vt,A)=>{let X;for(;nt&&nt!==pt;)X=C(nt),o(nt,vt,A),nt=X;o(pt,vt,A)},V=({el:nt,anchor:pt})=>{let vt;for(;nt&&nt!==pt;)vt=C(nt),l(nt),nt=vt;l(pt)},ot=(nt,pt,vt,A,X,dt,_t,wt,Ot)=>{_t=_t||pt.type==="svg",nt==null?ft(pt,vt,A,X,dt,_t,wt,Ot):Z(nt,pt,X,dt,_t,wt,Ot)},ft=(nt,pt,vt,A,X,dt,_t,wt)=>{let Ot,xt;const{type:$t,props:le,shapeFlag:de,transition:ae,dirs:Me}=nt;if(Ot=nt.el=p(nt.type,dt,le&&le.is,le),de&8?_(Ot,nt.children):de&16&&ct(nt.children,Ot,null,A,X,dt&&$t!=="foreignObject",_t,wt),Me&&qu(nt,null,A,"created"),ht(Ot,nt,nt.scopeId,_t,A),le){for(const qe in le)qe!=="value"&&!jv(qe)&&u(Ot,qe,null,le[qe],dt,nt.children,A,X,ue);"value"in le&&u(Ot,"value",null,le.value),(xt=le.onVnodeBeforeMount)&&Ya(xt,A,nt)}Me&&qu(nt,null,A,"beforeMount");const Ce=(!X||X&&!X.pendingBranch)&&ae&&!ae.persisted;Ce&&ae.beforeEnter(Ot),o(Ot,pt,vt),((xt=le&&le.onVnodeMounted)||Ce||Me)&&Do(()=>{xt&&Ya(xt,A,nt),Ce&&ae.enter(Ot),Me&&qu(nt,null,A,"mounted")},X)},ht=(nt,pt,vt,A,X)=>{if(vt&&I(nt,vt),A)for(let dt=0;dt<A.length;dt++)I(nt,A[dt]);if(X){let dt=X.subTree;if(pt===dt){const _t=X.vnode;ht(nt,_t,_t.scopeId,_t.slotScopeIds,X.parent)}}},ct=(nt,pt,vt,A,X,dt,_t,wt,Ot=0)=>{for(let xt=Ot;xt<nt.length;xt++){const $t=nt[xt]=wt?Bc(nt[xt]):$a(nt[xt]);B(null,$t,pt,vt,A,X,dt,_t,wt)}},Z=(nt,pt,vt,A,X,dt,_t)=>{const wt=pt.el=nt.el;let{patchFlag:Ot,dynamicChildren:xt,dirs:$t}=pt;Ot|=nt.patchFlag&16;const le=nt.props||Fi,de=pt.props||Fi;let ae;vt&&Vu(vt,!1),(ae=de.onVnodeBeforeUpdate)&&Ya(ae,vt,pt,nt),$t&&qu(pt,nt,vt,"beforeUpdate"),vt&&Vu(vt,!0);const Me=X&&pt.type!=="foreignObject";if(xt?lt(nt.dynamicChildren,xt,wt,vt,A,Me,dt):_t||Kt(nt,pt,wt,null,vt,A,Me,dt,!1),Ot>0){if(Ot&16)ut(wt,pt,le,de,vt,A,X);else if(Ot&2&&le.class!==de.class&&u(wt,"class",null,de.class,X),Ot&4&&u(wt,"style",le.style,de.style,X),Ot&8){const Ce=pt.dynamicProps;for(let qe=0;qe<Ce.length;qe++){const Q=Ce[qe],K=le[Q],at=de[Q];(at!==K||Q==="value")&&u(wt,Q,K,at,X,nt.children,vt,A,ue)}}Ot&1&&nt.children!==pt.children&&_(wt,pt.children)}else!_t&&xt==null&&ut(wt,pt,le,de,vt,A,X);((ae=de.onVnodeUpdated)||$t)&&Do(()=>{ae&&Ya(ae,vt,pt,nt),$t&&qu(pt,nt,vt,"updated")},A)},lt=(nt,pt,vt,A,X,dt,_t)=>{for(let wt=0;wt<pt.length;wt++){const Ot=nt[wt],xt=pt[wt],$t=Ot.el&&(Ot.type===nn||!Ef(Ot,xt)||Ot.shapeFlag&70)?E(Ot.el):vt;B(Ot,xt,$t,null,A,X,dt,_t,!0)}},ut=(nt,pt,vt,A,X,dt,_t)=>{if(vt!==A){if(vt!==Fi)for(const wt in vt)!jv(wt)&&!(wt in A)&&u(nt,wt,vt[wt],null,_t,pt.children,X,dt,ue);for(const wt in A){if(jv(wt))continue;const Ot=A[wt],xt=vt[wt];Ot!==xt&&wt!=="value"&&u(nt,wt,xt,Ot,_t,pt.children,X,dt,ue)}"value"in A&&u(nt,"value",vt.value,A.value)}},mt=(nt,pt,vt,A,X,dt,_t,wt,Ot)=>{const xt=pt.el=nt?nt.el:f(""),$t=pt.anchor=nt?nt.anchor:f("");let{patchFlag:le,dynamicChildren:de,slotScopeIds:ae}=pt;ae&&(wt=wt?wt.concat(ae):ae),nt==null?(o(xt,vt,A),o($t,vt,A),ct(pt.children,vt,$t,X,dt,_t,wt,Ot)):le>0&&le&64&&de&&nt.dynamicChildren?(lt(nt.dynamicChildren,de,vt,X,dt,_t,wt),(pt.key!=null||X&&pt===X.subTree)&&BT(nt,pt,!0)):Kt(nt,pt,vt,$t,X,dt,_t,wt,Ot)},te=(nt,pt,vt,A,X,dt,_t,wt,Ot)=>{pt.slotScopeIds=wt,nt==null?pt.shapeFlag&512?X.ctx.activate(pt,vt,A,_t,Ot):ne(pt,vt,A,X,dt,_t,Ot):ye(nt,pt,Ot)},ne=(nt,pt,vt,A,X,dt,_t)=>{const wt=nt.component=rR(nt,A,X);if(PT(nt)&&(wt.ctx.renderer=qt),iR(wt),wt.asyncDep){if(X&&X.registerDep(wt,Gt),!nt.el){const Ot=wt.subTree=ka(Wc);H(null,Ot,pt,vt)}return}Gt(wt,nt,pt,vt,X,dt,_t)},ye=(nt,pt,vt)=>{const A=pt.component=nt.component;if(pL(nt,pt,vt))if(A.asyncDep&&!A.asyncResolved){he(A,pt,vt);return}else A.next=pt,nL(A.update),A.update();else pt.el=nt.el,A.vnode=pt},Gt=(nt,pt,vt,A,X,dt,_t)=>{const wt=()=>{if(nt.isMounted){let{next:$t,bu:le,u:de,parent:ae,vnode:Me}=nt,Ce=$t,qe;Vu(nt,!1),$t?($t.el=Me.el,he(nt,$t,_t)):$t=Me,le&&Fb(le),(qe=$t.props&&$t.props.onVnodeBeforeUpdate)&&Ya(qe,ae,$t,Me),Vu(nt,!0);const Q=Bb(nt),K=nt.subTree;nt.subTree=Q,B(K,Q,E(K.el),tr(K),nt,X,dt),$t.el=Q.el,Ce===null&&fL(nt,Q.el),de&&Do(de,X),(qe=$t.props&&$t.props.onVnodeUpdated)&&Do(()=>Ya(qe,ae,$t,Me),X)}else{let $t;const{el:le,props:de}=pt,{bm:ae,m:Me,parent:Ce}=nt,qe=Hf(pt);if(Vu(nt,!1),ae&&Fb(ae),!qe&&($t=de&&de.onVnodeBeforeMount)&&Ya($t,Ce,pt),Vu(nt,!0),le&&Xt){const Q=()=>{nt.subTree=Bb(nt),Xt(le,nt.subTree,nt,X,null)};qe?pt.type.__asyncLoader().then(()=>!nt.isUnmounted&&Q()):Q()}else{const Q=nt.subTree=Bb(nt);B(null,Q,vt,A,nt,X,dt),pt.el=Q.el}if(Me&&Do(Me,X),!qe&&($t=de&&de.onVnodeMounted)){const Q=pt;Do(()=>Ya($t,Ce,Q),X)}(pt.shapeFlag&256||Ce&&Hf(Ce.vnode)&&Ce.vnode.shapeFlag&256)&&nt.a&&Do(nt.a,X),nt.isMounted=!0,pt=vt=A=null}},Ot=nt.effect=new l1(wt,()=>v1(xt),nt.scope),xt=nt.update=()=>Ot.run();xt.id=nt.uid,Vu(nt,!0),xt()},he=(nt,pt,vt)=>{pt.component=nt;const A=nt.vnode.props;nt.vnode=pt,nt.next=null,HL(nt,pt.props,A,vt),qL(nt,pt.children,vt),ep(),Qk(),rp()},Kt=(nt,pt,vt,A,X,dt,_t,wt,Ot=!1)=>{const xt=nt&&nt.children,$t=nt?nt.shapeFlag:0,le=pt.children,{patchFlag:de,shapeFlag:ae}=pt;if(de>0){if(de&128){kt(xt,le,vt,A,X,dt,_t,wt,Ot);return}else if(de&256){Je(xt,le,vt,A,X,dt,_t,wt,Ot);return}}ae&8?($t&16&&ue(xt,X,dt),le!==xt&&_(vt,le)):$t&16?ae&16?kt(xt,le,vt,A,X,dt,_t,wt,Ot):ue(xt,X,dt,!0):($t&8&&_(vt,""),ae&16&&ct(le,vt,A,X,dt,_t,wt,Ot))},Je=(nt,pt,vt,A,X,dt,_t,wt,Ot)=>{nt=nt||Od,pt=pt||Od;const xt=nt.length,$t=pt.length,le=Math.min(xt,$t);let de;for(de=0;de<le;de++){const ae=pt[de]=Ot?Bc(pt[de]):$a(pt[de]);B(nt[de],ae,vt,null,X,dt,_t,wt,Ot)}xt>$t?ue(nt,X,dt,!0,!1,le):ct(pt,vt,A,X,dt,_t,wt,Ot,le)},kt=(nt,pt,vt,A,X,dt,_t,wt,Ot)=>{let xt=0;const $t=pt.length;let le=nt.length-1,de=$t-1;for(;xt<=le&&xt<=de;){const ae=nt[xt],Me=pt[xt]=Ot?Bc(pt[xt]):$a(pt[xt]);if(Ef(ae,Me))B(ae,Me,vt,null,X,dt,_t,wt,Ot);else break;xt++}for(;xt<=le&&xt<=de;){const ae=nt[le],Me=pt[de]=Ot?Bc(pt[de]):$a(pt[de]);if(Ef(ae,Me))B(ae,Me,vt,null,X,dt,_t,wt,Ot);else break;le--,de--}if(xt>le){if(xt<=de){const ae=de+1,Me=ae<$t?pt[ae].el:A;for(;xt<=de;)B(null,pt[xt]=Ot?Bc(pt[xt]):$a(pt[xt]),vt,Me,X,dt,_t,wt,Ot),xt++}}else if(xt>de)for(;xt<=le;)Wt(nt[xt],X,dt,!0),xt++;else{const ae=xt,Me=xt,Ce=new Map;for(xt=Me;xt<=de;xt++){const ke=pt[xt]=Ot?Bc(pt[xt]):$a(pt[xt]);ke.key!=null&&Ce.set(ke.key,xt)}let qe,Q=0;const K=de-Me+1;let at=!1,st=0;const Vt=new Array(K);for(xt=0;xt<K;xt++)Vt[xt]=0;for(xt=ae;xt<=le;xt++){const ke=nt[xt];if(Q>=K){Wt(ke,X,dt,!0);continue}let ar;if(ke.key!=null)ar=Ce.get(ke.key);else for(qe=Me;qe<=de;qe++)if(Vt[qe-Me]===0&&Ef(ke,pt[qe])){ar=qe;break}ar===void 0?Wt(ke,X,dt,!0):(Vt[ar-Me]=xt+1,ar>=st?st=ar:at=!0,B(ke,pt[ar],vt,null,X,dt,_t,wt,Ot),Q++)}const re=at?ZL(Vt):Od;for(qe=re.length-1,xt=K-1;xt>=0;xt--){const ke=Me+xt,ar=pt[ke],Fe=ke+1<$t?pt[ke+1].el:A;Vt[xt]===0?B(null,ar,vt,Fe,X,dt,_t,wt,Ot):at&&(qe<0||xt!==re[qe]?zt(ar,vt,Fe,2):qe--)}}},zt=(nt,pt,vt,A,X=null)=>{const{el:dt,type:_t,transition:wt,children:Ot,shapeFlag:xt}=nt;if(xt&6){zt(nt.component.subTree,pt,vt,A);return}if(xt&128){nt.suspense.move(pt,vt,A);return}if(xt&64){_t.move(nt,pt,vt,qt);return}if(_t===nn){o(dt,pt,vt);for(let le=0;le<Ot.length;le++)zt(Ot[le],pt,vt,A);o(nt.anchor,pt,vt);return}if(_t===Hb){j(nt,pt,vt);return}if(A!==2&&xt&1&&wt)if(A===0)wt.beforeEnter(dt),o(dt,pt,vt),Do(()=>wt.enter(dt),X);else{const{leave:le,delayLeave:de,afterLeave:ae}=wt,Me=()=>o(dt,pt,vt),Ce=()=>{le(dt,()=>{Me(),ae&&ae()})};de?de(dt,Me,Ce):Ce()}else o(dt,pt,vt)},Wt=(nt,pt,vt,A=!1,X=!1)=>{const{type:dt,props:_t,ref:wt,children:Ot,dynamicChildren:xt,shapeFlag:$t,patchFlag:le,dirs:de}=nt;if(wt!=null&&Cw(wt,null,vt,nt,!0),$t&256){pt.ctx.deactivate(nt);return}const ae=$t&1&&de,Me=!Hf(nt);let Ce;if(Me&&(Ce=_t&&_t.onVnodeBeforeUnmount)&&Ya(Ce,pt,nt),$t&6)se(nt.component,vt,A);else{if($t&128){nt.suspense.unmount(vt,A);return}ae&&qu(nt,null,pt,"beforeUnmount"),$t&64?nt.type.remove(nt,pt,vt,X,qt,A):xt&&(dt!==nn||le>0&&le&64)?ue(xt,pt,vt,!1,!0):(dt===nn&&le&384||!X&&$t&16)&&ue(Ot,pt,vt),A&&ee(nt)}(Me&&(Ce=_t&&_t.onVnodeUnmounted)||ae)&&Do(()=>{Ce&&Ya(Ce,pt,nt),ae&&qu(nt,null,pt,"unmounted")},vt)},ee=nt=>{const{type:pt,el:vt,anchor:A,transition:X}=nt;if(pt===nn){ve(vt,A);return}if(pt===Hb){V(nt);return}const dt=()=>{l(vt),X&&!X.persisted&&X.afterLeave&&X.afterLeave()};if(nt.shapeFlag&1&&X&&!X.persisted){const{leave:_t,delayLeave:wt}=X,Ot=()=>_t(vt,dt);wt?wt(nt.el,dt,Ot):Ot()}else dt()},ve=(nt,pt)=>{let vt;for(;nt!==pt;)vt=C(nt),l(nt),nt=vt;l(pt)},se=(nt,pt,vt)=>{const{bum:A,scope:X,update:dt,subTree:_t,um:wt}=nt;A&&Fb(A),X.stop(),dt&&(dt.active=!1,Wt(_t,nt,pt,vt)),wt&&Do(wt,pt),Do(()=>{nt.isUnmounted=!0},pt),pt&&pt.pendingBranch&&!pt.isUnmounted&&nt.asyncDep&&!nt.asyncResolved&&nt.suspenseId===pt.pendingId&&(pt.deps--,pt.deps===0&&pt.resolve())},ue=(nt,pt,vt,A=!1,X=!1,dt=0)=>{for(let _t=dt;_t<nt.length;_t++)Wt(nt[_t],pt,vt,A,X)},tr=nt=>nt.shapeFlag&6?tr(nt.component.subTree):nt.shapeFlag&128?nt.suspense.next():C(nt.anchor||nt.el),Ft=(nt,pt,vt)=>{nt==null?pt._vnode&&Wt(pt._vnode,null,null,!0):B(pt._vnode||null,nt,pt,null,null,null,vt),Qk(),kT(),pt._vnode=nt},qt={p:B,um:Wt,m:zt,r:ee,mt:ne,mc:ct,pc:Kt,pbc:lt,n:tr,o:n};let Zt,Xt;return i&&([Zt,Xt]=i(qt)),{render:Ft,hydrate:Zt,createApp:FL(Ft,Zt)}}function Vu({effect:n,update:i},e){n.allowRecurse=i.allowRecurse=e}function BT(n,i,e=!1){const o=n.children,l=i.children;if(or(o)&&or(l))for(let u=0;u<o.length;u++){const p=o[u];let f=l[u];f.shapeFlag&1&&!f.dynamicChildren&&((f.patchFlag<=0||f.patchFlag===32)&&(f=l[u]=Bc(l[u]),f.el=p.el),e||BT(p,f)),f.type===X0&&(f.el=p.el)}}function ZL(n){const i=n.slice(),e=[0];let o,l,u,p,f;const m=n.length;for(o=0;o<m;o++){const y=n[o];if(y!==0){if(l=e[e.length-1],n[l]<y){i[o]=l,e.push(o);continue}for(u=0,p=e.length-1;u<p;)f=u+p>>1,n[e[f]]<y?u=f+1:p=f;y<n[e[u]]&&(u>0&&(i[o]=e[u-1]),e[u]=o)}}for(u=e.length,p=e[u-1];u-- >0;)e[u]=p,p=i[p];return e}const XL=n=>n.__isTeleport,nn=Symbol.for("v-fgt"),X0=Symbol.for("v-txt"),Wc=Symbol.for("v-cmt"),Hb=Symbol.for("v-stc"),Gf=[];let ya=null;function Ae(n=!1){Gf.push(ya=n?null:[])}function YL(){Gf.pop(),ya=Gf[Gf.length-1]||null}let ig=1;function lE(n){ig+=n}function jT(n){return n.dynamicChildren=ig>0?ya||Od:null,YL(),ig>0&&ya&&ya.push(n),n}function Ne(n,i,e,o,l,u){return jT(Jt(n,i,e,o,l,u,!0))}function HT(n,i,e,o,l){return jT(ka(n,i,e,o,l,!0))}function UT(n){return n?n.__v_isVNode===!0:!1}function Ef(n,i){return n.type===i.type&&n.key===i.key}const Y0="__vInternal",GT=({key:n})=>n??null,Uv=({ref:n,ref_key:i,ref_for:e})=>(typeof n=="number"&&(n=""+n),n!=null?Sn(n)||lo(n)||Zr(n)?{i:jo,r:n,k:i,f:!!e}:n:null);function Jt(n,i=null,e=null,o=0,l=null,u=n===nn?0:1,p=!1,f=!1){const m={__v_isVNode:!0,__v_skip:!0,type:n,props:i,key:i&&GT(i),ref:i&&Uv(i),scopeId:W0,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:o,dynamicProps:l,dynamicChildren:null,appContext:null,ctx:jo};return f?(w1(m,e),u&128&&n.normalize(m)):e&&(m.shapeFlag|=Sn(e)?8:16),ig>0&&!p&&ya&&(m.patchFlag>0||u&6)&&m.patchFlag!==32&&ya.push(m),m}const ka=KL;function KL(n,i=null,e=null,o=0,l=null,u=!1){if((!n||n===ML)&&(n=Wc),UT(n)){const f=Ud(n,i,!0);return e&&w1(f,e),ig>0&&!u&&ya&&(f.shapeFlag&6?ya[ya.indexOf(n)]=f:ya.push(f)),f.patchFlag|=-2,f}if(aR(n)&&(n=n.__vccOpts),i){i=JL(i);let{class:f,style:m}=i;f&&!Sn(f)&&(i.class=Pg(f)),Zi(m)&&(mT(m)&&!or(m)&&(m=Tn({},m)),i.style=U0(m))}const p=Sn(n)?1:gL(n)?128:XL(n)?64:Zi(n)?4:Zr(n)?2:0;return Jt(n,i,e,o,l,p,u,!0)}function JL(n){return n?mT(n)||Y0 in n?Tn({},n):n:null}function Ud(n,i,e=!1){const{props:o,ref:l,patchFlag:u,children:p}=n,f=i?$L(o||{},i):o;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:f,key:f&&GT(f),ref:i&&i.ref?e&&l?or(l)?l.concat(Uv(i)):[l,Uv(i)]:Uv(i):l,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:p,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:i&&n.type!==nn?u===-1?16:u|16:u,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Ud(n.ssContent),ssFallback:n.ssFallback&&Ud(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce}}function QL(n=" ",i=0){return ka(X0,null,n,i)}function fi(n="",i=!1){return i?(Ae(),HT(Wc,null,n)):ka(Wc,null,n)}function $a(n){return n==null||typeof n=="boolean"?ka(Wc):or(n)?ka(nn,null,n.slice()):typeof n=="object"?Bc(n):ka(X0,null,String(n))}function Bc(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Ud(n)}function w1(n,i){let e=0;const{shapeFlag:o}=n;if(i==null)i=null;else if(or(i))e=16;else if(typeof i=="object")if(o&65){const l=i.default;l&&(l._c&&(l._d=!1),w1(n,l()),l._c&&(l._d=!0));return}else{e=32;const l=i._;!l&&!(Y0 in i)?i._ctx=jo:l===3&&jo&&(jo.slots._===1?i._=1:(i._=2,n.patchFlag|=1024))}else Zr(i)?(i={default:i,_ctx:jo},e=32):(i=String(i),o&64?(e=16,i=[QL(i)]):e=8);n.children=i,n.shapeFlag|=e}function $L(...n){const i={};for(let e=0;e<n.length;e++){const o=n[e];for(const l in o)if(l==="class")i.class!==o.class&&(i.class=Pg([i.class,o.class]));else if(l==="style")i.style=U0([i.style,o.style]);else if(B0(l)){const u=i[l],p=o[l];p&&u!==p&&!(or(u)&&u.includes(p))&&(i[l]=u?[].concat(u,p):p)}else l!==""&&(i[l]=o[l])}return i}function Ya(n,i,e,o=null){_a(n,i,7,[e,o])}const tR=AT();let eR=0;function rR(n,i,e){const o=n.type,l=(i?i.appContext:n.appContext)||tR,u={uid:eR++,vnode:n,type:o,parent:i,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,scope:new wI(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:i?i.provides:Object.create(l.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:OT(o,l),emitsOptions:TT(o,l),emit:null,emitted:null,propsDefaults:Fi,inheritAttrs:o.inheritAttrs,ctx:Fi,data:Fi,props:Fi,attrs:Fi,slots:Fi,refs:Fi,setupState:Fi,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=i?i.root:u,u.emit=aL.bind(null,u),n.ce&&n.ce(u),u}let ao=null,x1,kd,cE="__VUE_INSTANCE_SETTERS__";(kd=vw()[cE])||(kd=vw()[cE]=[]),kd.push(n=>ao=n),x1=n=>{kd.length>1?kd.forEach(i=>i(n)):kd[0](n)};const Gd=n=>{x1(n),n.scope.on()},$u=()=>{ao&&ao.scope.off(),x1(null)};function qT(n){return n.vnode.shapeFlag&4}let ng=!1;function iR(n,i=!1){ng=i;const{props:e,children:o}=n.vnode,l=qT(n);jL(n,e,l,i),GL(n,o);const u=l?nR(n,i):void 0;return ng=!1,u}function nR(n,i){const e=n.type;n.accessCache=Object.create(null),n.proxy=vT(new Proxy(n.ctx,LL));const{setup:o}=e;if(o){const l=n.setupContext=o.length>1?sR(n):null;Gd(n),ep();const u=Gc(o,n,0,[n.props,l]);if(rp(),$u(),$2(u)){if(u.then($u,$u),i)return u.then(p=>{uE(n,p,i)}).catch(p=>{q0(p,n,0)});n.asyncDep=u}else uE(n,u,i)}else VT(n,i)}function uE(n,i,e){Zr(i)?n.type.__ssrInlineRender?n.ssrRender=i:n.render=i:Zi(i)&&(n.setupState=wT(i)),VT(n,e)}let hE;function VT(n,i,e){const o=n.type;if(!n.render){if(!i&&hE&&!o.render){const l=o.template||y1(n).template;if(l){const{isCustomElement:u,compilerOptions:p}=n.appContext.config,{delimiters:f,compilerOptions:m}=o,y=Tn(Tn({isCustomElement:u,delimiters:f},p),m);o.render=hE(l,y)}}n.render=o.render||xa}Gd(n),ep(),RL(n),rp(),$u()}function oR(n){return n.attrsProxy||(n.attrsProxy=new Proxy(n.attrs,{get(i,e){return Go(n,"get","$attrs"),i[e]}}))}function sR(n){const i=e=>{n.exposed=e||{}};return{get attrs(){return oR(n)},slots:n.slots,emit:n.emit,expose:i}}function _1(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(wT(vT(n.exposed)),{get(i,e){if(e in i)return i[e];if(e in Uf)return Uf[e](n)},has(i,e){return e in i||e in Uf}}))}function aR(n){return Zr(n)&&"__vccOpts"in n}const qr=(n,i)=>eL(n,i,ng),lR=Symbol.for("v-scx"),cR=()=>Hv(lR),uR="3.3.4",hR="http://www.w3.org/2000/svg",Xu=typeof document<"u"?document:null,dE=Xu&&Xu.createElement("template"),dR={insert:(n,i,e)=>{i.insertBefore(n,e||null)},remove:n=>{const i=n.parentNode;i&&i.removeChild(n)},createElement:(n,i,e,o)=>{const l=i?Xu.createElementNS(hR,n):Xu.createElement(n,e?{is:e}:void 0);return n==="select"&&o&&o.multiple!=null&&l.setAttribute("multiple",o.multiple),l},createText:n=>Xu.createTextNode(n),createComment:n=>Xu.createComment(n),setText:(n,i)=>{n.nodeValue=i},setElementText:(n,i)=>{n.textContent=i},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>Xu.querySelector(n),setScopeId(n,i){n.setAttribute(i,"")},insertStaticContent(n,i,e,o,l,u){const p=e?e.previousSibling:i.lastChild;if(l&&(l===u||l.nextSibling))for(;i.insertBefore(l.cloneNode(!0),e),!(l===u||!(l=l.nextSibling)););else{dE.innerHTML=o?`<svg>${n}</svg>`:n;const f=dE.content;if(o){const m=f.firstChild;for(;m.firstChild;)f.appendChild(m.firstChild);f.removeChild(m)}i.insertBefore(f,e)}return[p?p.nextSibling:i.firstChild,e?e.previousSibling:i.lastChild]}};function pR(n,i,e){const o=n._vtc;o&&(i=(i?[i,...o]:[...o]).join(" ")),i==null?n.removeAttribute("class"):e?n.setAttribute("class",i):n.className=i}function fR(n,i,e){const o=n.style,l=Sn(e);if(e&&!l){if(i&&!Sn(i))for(const u in i)e[u]==null&&Pw(o,u,"");for(const u in e)Pw(o,u,e[u])}else{const u=o.display;l?i!==e&&(o.cssText=e):i&&n.removeAttribute("style"),"_vod"in n&&(o.display=u)}}const pE=/\s*!important$/;function Pw(n,i,e){if(or(e))e.forEach(o=>Pw(n,i,o));else if(e==null&&(e=""),i.startsWith("--"))n.setProperty(i,e);else{const o=gR(n,i);pE.test(e)?n.setProperty(ma(o),e.replace(pE,""),"important"):n[o]=e}}const fE=["Webkit","Moz","ms"],Ub={};function gR(n,i){const e=Ub[i];if(e)return e;let o=ql(i);if(o!=="filter"&&o in n)return Ub[i]=o;o=rT(o);for(let l=0;l<fE.length;l++){const u=fE[l]+o;if(u in n)return Ub[i]=u}return i}const gE="http://www.w3.org/1999/xlink";function mR(n,i,e,o,l){if(o&&i.startsWith("xlink:"))e==null?n.removeAttributeNS(gE,i.slice(6,i.length)):n.setAttributeNS(gE,i,e);else{const u=bI(i);e==null||u&&!iT(e)?n.removeAttribute(i):n.setAttribute(i,u?"":e)}}function vR(n,i,e,o,l,u,p){if(i==="innerHTML"||i==="textContent"){o&&p(o,l,u),n[i]=e??"";return}const f=n.tagName;if(i==="value"&&f!=="PROGRESS"&&!f.includes("-")){n._value=e;const y=f==="OPTION"?n.getAttribute("value"):n.value,_=e??"";y!==_&&(n.value=_),e==null&&n.removeAttribute(i);return}let m=!1;if(e===""||e==null){const y=typeof n[i];y==="boolean"?e=iT(e):e==null&&y==="string"?(e="",m=!0):y==="number"&&(e=0,m=!0)}try{n[i]=e}catch{}m&&n.removeAttribute(i)}function yR(n,i,e,o){n.addEventListener(i,e,o)}function bR(n,i,e,o){n.removeEventListener(i,e,o)}function wR(n,i,e,o,l=null){const u=n._vei||(n._vei={}),p=u[i];if(o&&p)p.value=o;else{const[f,m]=xR(i);if(o){const y=u[i]=ER(o,l);yR(n,f,y,m)}else p&&(bR(n,f,p,m),u[i]=void 0)}}const mE=/(?:Once|Passive|Capture)$/;function xR(n){let i;if(mE.test(n)){i={};let o;for(;o=n.match(mE);)n=n.slice(0,n.length-o[0].length),i[o[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):ma(n.slice(2)),i]}let Gb=0;const _R=Promise.resolve(),kR=()=>Gb||(_R.then(()=>Gb=0),Gb=Date.now());function ER(n,i){const e=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=e.attached)return;_a(TR(o,e.value),i,5,[o])};return e.value=n,e.attached=kR(),e}function TR(n,i){if(or(i)){const e=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{e.call(n),n._stopped=!0},i.map(o=>l=>!l._stopped&&o&&o(l))}else return i}const vE=/^on[a-z]/,SR=(n,i,e,o,l=!1,u,p,f,m)=>{i==="class"?pR(n,o,l):i==="style"?fR(n,e,o):B0(i)?i1(i)||wR(n,i,e,o,p):(i[0]==="."?(i=i.slice(1),!0):i[0]==="^"?(i=i.slice(1),!1):CR(n,i,o,l))?vR(n,i,o,u,p,f,m):(i==="true-value"?n._trueValue=o:i==="false-value"&&(n._falseValue=o),mR(n,i,o,l))};function CR(n,i,e,o){return o?!!(i==="innerHTML"||i==="textContent"||i in n&&vE.test(i)&&Zr(e)):i==="spellcheck"||i==="draggable"||i==="translate"||i==="form"||i==="list"&&n.tagName==="INPUT"||i==="type"&&n.tagName==="TEXTAREA"||vE.test(i)&&Sn(e)?!1:i in n}function Ds(n,i){const e=hs(n);class o extends k1{constructor(u){super(e,u,i)}}return o.def=e,o}const PR=typeof HTMLElement<"u"?HTMLElement:class{};class k1 extends PR{constructor(i,e={},o){super(),this._def=i,this._props=e,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&o?o(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,m1(()=>{this._connected||(bE(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let o=0;o<this.attributes.length;o++)this._setAttr(this.attributes[o].name);new MutationObserver(o=>{for(const l of o)this._setAttr(l.attributeName)}).observe(this,{attributes:!0});const i=(o,l=!1)=>{const{props:u,styles:p}=o;let f;if(u&&!or(u))for(const m in u){const y=u[m];(y===Number||y&&y.type===Number)&&(m in this._props&&(this._props[m]=Gk(this._props[m])),(f||(f=Object.create(null)))[ql(m)]=!0)}this._numberProps=f,l&&this._resolveProps(o),this._applyStyles(p),this._update()},e=this._def.__asyncLoader;e?e().then(o=>i(o,!0)):i(this._def)}_resolveProps(i){const{props:e}=i,o=or(e)?e:Object.keys(e||{});for(const l of Object.keys(this))l[0]!=="_"&&o.includes(l)&&this._setProp(l,this[l],!0,!1);for(const l of o.map(ql))Object.defineProperty(this,l,{get(){return this._getProp(l)},set(u){this._setProp(l,u)}})}_setAttr(i){let e=this.getAttribute(i);const o=ql(i);this._numberProps&&this._numberProps[o]&&(e=Gk(e)),this._setProp(o,e,!1)}_getProp(i){return this._props[i]}_setProp(i,e,o=!0,l=!0){e!==this._props[i]&&(this._props[i]=e,l&&this._instance&&this._update(),o&&(e===!0?this.setAttribute(ma(i),""):typeof e=="string"||typeof e=="number"?this.setAttribute(ma(i),e+""):e||this.removeAttribute(ma(i))))}_update(){bE(this._createVNode(),this.shadowRoot)}_createVNode(){const i=ka(this._def,Tn({},this._props));return this._instance||(i.ce=e=>{this._instance=e,e.isCE=!0;const o=(u,p)=>{this.dispatchEvent(new CustomEvent(u,{detail:p}))};e.emit=(u,...p)=>{o(u,p),ma(u)!==u&&o(ma(u),p)};let l=this;for(;l=l&&(l.parentNode||l.host);)if(l instanceof k1){e.parent=l._instance,e.provides=l._instance.provides;break}}),i}_applyStyles(i){i&&i.forEach(e=>{const o=document.createElement("style");o.textContent=e,this.shadowRoot.appendChild(o)})}}const MR=Tn({patchProp:SR},dR);let yE;function IR(){return yE||(yE=VL(MR))}const bE=(...n)=>{IR().render(...n)};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Gv=globalThis,E1=Gv.ShadowRoot&&(Gv.ShadyCSS===void 0||Gv.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,T1=Symbol(),wE=new WeakMap;let WT=class{constructor(i,e,o){if(this._$cssResult$=!0,o!==T1)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=i,this.t=e}get styleSheet(){let i=this.o;const e=this.t;if(E1&&i===void 0){const o=e!==void 0&&e.length===1;o&&(i=wE.get(e)),i===void 0&&((this.o=i=new CSSStyleSheet).replaceSync(this.cssText),o&&wE.set(e,i))}return i}toString(){return this.cssText}};const LR=n=>new WT(typeof n=="string"?n:n+"",void 0,T1),qs=(n,...i)=>{const e=n.length===1?n[0]:i.reduce((o,l,u)=>o+(p=>{if(p._$cssResult$===!0)return p.cssText;if(typeof p=="number")return p;throw Error("Value passed to 'css' function must be a 'css' function result: "+p+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(l)+n[u+1],n[0]);return new WT(e,n,T1)},RR=(n,i)=>{if(E1)n.adoptedStyleSheets=i.map(e=>e instanceof CSSStyleSheet?e:e.styleSheet);else for(const e of i){const o=document.createElement("style"),l=Gv.litNonce;l!==void 0&&o.setAttribute("nonce",l),o.textContent=e.cssText,n.appendChild(o)}},xE=E1?n=>n:n=>n instanceof CSSStyleSheet?(i=>{let e="";for(const o of i.cssRules)e+=o.cssText;return LR(e)})(n):n;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:AR,defineProperty:zR,getOwnPropertyDescriptor:OR,getOwnPropertyNames:NR,getOwnPropertySymbols:DR,getPrototypeOf:FR}=Object,qc=globalThis,_E=qc.trustedTypes,BR=_E?_E.emptyScript:"",qb=qc.reactiveElementPolyfillSupport,qf=(n,i)=>n,s0={toAttribute(n,i){switch(i){case Boolean:n=n?BR:null;break;case Object:case Array:n=n==null?n:JSON.stringify(n)}return n},fromAttribute(n,i){let e=n;switch(i){case Boolean:e=n!==null;break;case Number:e=n===null?null:Number(n);break;case Object:case Array:try{e=JSON.parse(n)}catch{e=null}}return e}},S1=(n,i)=>!AR(n,i),kE={attribute:!0,type:String,converter:s0,reflect:!1,hasChanged:S1};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),qc.litPropertyMetadata??(qc.litPropertyMetadata=new WeakMap);class Cd extends HTMLElement{static addInitializer(i){this._$Ei(),(this.l??(this.l=[])).push(i)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(i,e=kE){if(e.state&&(e.attribute=!1),this._$Ei(),this.elementProperties.set(i,e),!e.noAccessor){const o=Symbol(),l=this.getPropertyDescriptor(i,o,e);l!==void 0&&zR(this.prototype,i,l)}}static getPropertyDescriptor(i,e,o){const{get:l,set:u}=OR(this.prototype,i)??{get(){return this[e]},set(p){this[e]=p}};return{get(){return l==null?void 0:l.call(this)},set(p){const f=l==null?void 0:l.call(this);u.call(this,p),this.requestUpdate(i,f,o)},configurable:!0,enumerable:!0}}static getPropertyOptions(i){return this.elementProperties.get(i)??kE}static _$Ei(){if(this.hasOwnProperty(qf("elementProperties")))return;const i=FR(this);i.finalize(),i.l!==void 0&&(this.l=[...i.l]),this.elementProperties=new Map(i.elementProperties)}static finalize(){if(this.hasOwnProperty(qf("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(qf("properties"))){const e=this.properties,o=[...NR(e),...DR(e)];for(const l of o)this.createProperty(l,e[l])}const i=this[Symbol.metadata];if(i!==null){const e=litPropertyMetadata.get(i);if(e!==void 0)for(const[o,l]of e)this.elementProperties.set(o,l)}this._$Eh=new Map;for(const[e,o]of this.elementProperties){const l=this._$Eu(e,o);l!==void 0&&this._$Eh.set(l,e)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(i){const e=[];if(Array.isArray(i)){const o=new Set(i.flat(1/0).reverse());for(const l of o)e.unshift(xE(l))}else i!==void 0&&e.push(xE(i));return e}static _$Eu(i,e){const o=e.attribute;return o===!1?void 0:typeof o=="string"?o:typeof i=="string"?i.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var i;this._$ES=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$E_(),this.requestUpdate(),(i=this.constructor.l)==null||i.forEach(e=>e(this))}addController(i){var e;(this._$EO??(this._$EO=new Set)).add(i),this.renderRoot!==void 0&&this.isConnected&&((e=i.hostConnected)==null||e.call(i))}removeController(i){var e;(e=this._$EO)==null||e.delete(i)}_$E_(){const i=new Map,e=this.constructor.elementProperties;for(const o of e.keys())this.hasOwnProperty(o)&&(i.set(o,this[o]),delete this[o]);i.size>0&&(this._$Ep=i)}createRenderRoot(){const i=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return RR(i,this.constructor.elementStyles),i}connectedCallback(){var i;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(i=this._$EO)==null||i.forEach(e=>{var o;return(o=e.hostConnected)==null?void 0:o.call(e)})}enableUpdating(i){}disconnectedCallback(){var i;(i=this._$EO)==null||i.forEach(e=>{var o;return(o=e.hostDisconnected)==null?void 0:o.call(e)})}attributeChangedCallback(i,e,o){this._$AK(i,o)}_$EC(i,e){var u;const o=this.constructor.elementProperties.get(i),l=this.constructor._$Eu(i,o);if(l!==void 0&&o.reflect===!0){const p=(((u=o.converter)==null?void 0:u.toAttribute)!==void 0?o.converter:s0).toAttribute(e,o.type);this._$Em=i,p==null?this.removeAttribute(l):this.setAttribute(l,p),this._$Em=null}}_$AK(i,e){var u;const o=this.constructor,l=o._$Eh.get(i);if(l!==void 0&&this._$Em!==l){const p=o.getPropertyOptions(l),f=typeof p.converter=="function"?{fromAttribute:p.converter}:((u=p.converter)==null?void 0:u.fromAttribute)!==void 0?p.converter:s0;this._$Em=l,this[l]=f.fromAttribute(e,p.type),this._$Em=null}}requestUpdate(i,e,o){if(i!==void 0){if(o??(o=this.constructor.getPropertyOptions(i)),!(o.hasChanged??S1)(this[i],e))return;this.P(i,e,o)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(i,e,o){this._$AL.has(i)||this._$AL.set(i,e),o.reflect===!0&&this._$Em!==i&&(this._$Ej??(this._$Ej=new Set)).add(i)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}const i=this.scheduleUpdate();return i!=null&&await i,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var o;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[u,p]of this._$Ep)this[u]=p;this._$Ep=void 0}const l=this.constructor.elementProperties;if(l.size>0)for(const[u,p]of l)p.wrapped!==!0||this._$AL.has(u)||this[u]===void 0||this.P(u,this[u],p)}let i=!1;const e=this._$AL;try{i=this.shouldUpdate(e),i?(this.willUpdate(e),(o=this._$EO)==null||o.forEach(l=>{var u;return(u=l.hostUpdate)==null?void 0:u.call(l)}),this.update(e)):this._$EU()}catch(l){throw i=!1,this._$EU(),l}i&&this._$AE(e)}willUpdate(i){}_$AE(i){var e;(e=this._$EO)==null||e.forEach(o=>{var l;return(l=o.hostUpdated)==null?void 0:l.call(o)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(i)),this.updated(i)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(i){return!0}update(i){this._$Ej&&(this._$Ej=this._$Ej.forEach(e=>this._$EC(e,this[e]))),this._$EU()}updated(i){}firstUpdated(i){}}Cd.elementStyles=[],Cd.shadowRootOptions={mode:"open"},Cd[qf("elementProperties")]=new Map,Cd[qf("finalized")]=new Map,qb==null||qb({ReactiveElement:Cd}),(qc.reactiveElementVersions??(qc.reactiveElementVersions=[])).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Vf=globalThis,a0=Vf.trustedTypes,EE=a0?a0.createPolicy("lit-html",{createHTML:n=>n}):void 0,ZT="$lit$",jc=`lit$${(Math.random()+"").slice(9)}$`,XT="?"+jc,jR=`<${XT}>`,rh=document,og=()=>rh.createComment(""),sg=n=>n===null||typeof n!="object"&&typeof n!="function",YT=Array.isArray,HR=n=>YT(n)||typeof(n==null?void 0:n[Symbol.iterator])=="function",Vb=`[ 	
\f\r]`,Tf=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,TE=/-->/g,SE=/>/g,Wu=RegExp(`>|${Vb}(?:([^\\s"'>=/]+)(${Vb}*=${Vb}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),CE=/'/g,PE=/"/g,KT=/^(?:script|style|textarea|title)$/i,UR=n=>(i,...e)=>({_$litType$:n,strings:i,values:e}),Yn=UR(1),ih=Symbol.for("lit-noChange"),on=Symbol.for("lit-nothing"),ME=new WeakMap,Ku=rh.createTreeWalker(rh,129);function JT(n,i){if(!Array.isArray(n)||!n.hasOwnProperty("raw"))throw Error("invalid template strings array");return EE!==void 0?EE.createHTML(i):i}const GR=(n,i)=>{const e=n.length-1,o=[];let l,u=i===2?"<svg>":"",p=Tf;for(let f=0;f<e;f++){const m=n[f];let y,_,E=-1,C=0;for(;C<m.length&&(p.lastIndex=C,_=p.exec(m),_!==null);)C=p.lastIndex,p===Tf?_[1]==="!--"?p=TE:_[1]!==void 0?p=SE:_[2]!==void 0?(KT.test(_[2])&&(l=RegExp("</"+_[2],"g")),p=Wu):_[3]!==void 0&&(p=Wu):p===Wu?_[0]===">"?(p=l??Tf,E=-1):_[1]===void 0?E=-2:(E=p.lastIndex-_[2].length,y=_[1],p=_[3]===void 0?Wu:_[3]==='"'?PE:CE):p===PE||p===CE?p=Wu:p===TE||p===SE?p=Tf:(p=Wu,l=void 0);const I=p===Wu&&n[f+1].startsWith("/>")?" ":"";u+=p===Tf?m+jR:E>=0?(o.push(y),m.slice(0,E)+ZT+m.slice(E)+jc+I):m+jc+(E===-2?f:I)}return[JT(n,u+(n[e]||"<?>")+(i===2?"</svg>":"")),o]};class ag{constructor({strings:i,_$litType$:e},o){let l;this.parts=[];let u=0,p=0;const f=i.length-1,m=this.parts,[y,_]=GR(i,e);if(this.el=ag.createElement(y,o),Ku.currentNode=this.el.content,e===2){const E=this.el.content.firstChild;E.replaceWith(...E.childNodes)}for(;(l=Ku.nextNode())!==null&&m.length<f;){if(l.nodeType===1){if(l.hasAttributes())for(const E of l.getAttributeNames())if(E.endsWith(ZT)){const C=_[p++],I=l.getAttribute(E).split(jc),z=/([.?@])?(.*)/.exec(C);m.push({type:1,index:u,name:z[2],strings:I,ctor:z[1]==="."?VR:z[1]==="?"?WR:z[1]==="@"?ZR:K0}),l.removeAttribute(E)}else E.startsWith(jc)&&(m.push({type:6,index:u}),l.removeAttribute(E));if(KT.test(l.tagName)){const E=l.textContent.split(jc),C=E.length-1;if(C>0){l.textContent=a0?a0.emptyScript:"";for(let I=0;I<C;I++)l.append(E[I],og()),Ku.nextNode(),m.push({type:2,index:++u});l.append(E[C],og())}}}else if(l.nodeType===8)if(l.data===XT)m.push({type:2,index:u});else{let E=-1;for(;(E=l.data.indexOf(jc,E+1))!==-1;)m.push({type:7,index:u}),E+=jc.length-1}u++}}static createElement(i,e){const o=rh.createElement("template");return o.innerHTML=i,o}}function qd(n,i,e=n,o){var p,f;if(i===ih)return i;let l=o!==void 0?(p=e._$Co)==null?void 0:p[o]:e._$Cl;const u=sg(i)?void 0:i._$litDirective$;return(l==null?void 0:l.constructor)!==u&&((f=l==null?void 0:l._$AO)==null||f.call(l,!1),u===void 0?l=void 0:(l=new u(n),l._$AT(n,e,o)),o!==void 0?(e._$Co??(e._$Co=[]))[o]=l:e._$Cl=l),l!==void 0&&(i=qd(n,l._$AS(n,i.values),l,o)),i}class qR{constructor(i,e){this._$AV=[],this._$AN=void 0,this._$AD=i,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(i){const{el:{content:e},parts:o}=this._$AD,l=((i==null?void 0:i.creationScope)??rh).importNode(e,!0);Ku.currentNode=l;let u=Ku.nextNode(),p=0,f=0,m=o[0];for(;m!==void 0;){if(p===m.index){let y;m.type===2?y=new Mg(u,u.nextSibling,this,i):m.type===1?y=new m.ctor(u,m.name,m.strings,this,i):m.type===6&&(y=new XR(u,this,i)),this._$AV.push(y),m=o[++f]}p!==(m==null?void 0:m.index)&&(u=Ku.nextNode(),p++)}return Ku.currentNode=rh,l}p(i){let e=0;for(const o of this._$AV)o!==void 0&&(o.strings!==void 0?(o._$AI(i,o,e),e+=o.strings.length-2):o._$AI(i[e])),e++}}class Mg{get _$AU(){var i;return((i=this._$AM)==null?void 0:i._$AU)??this._$Cv}constructor(i,e,o,l){this.type=2,this._$AH=on,this._$AN=void 0,this._$AA=i,this._$AB=e,this._$AM=o,this.options=l,this._$Cv=(l==null?void 0:l.isConnected)??!0}get parentNode(){let i=this._$AA.parentNode;const e=this._$AM;return e!==void 0&&(i==null?void 0:i.nodeType)===11&&(i=e.parentNode),i}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(i,e=this){i=qd(this,i,e),sg(i)?i===on||i==null||i===""?(this._$AH!==on&&this._$AR(),this._$AH=on):i!==this._$AH&&i!==ih&&this._(i):i._$litType$!==void 0?this.$(i):i.nodeType!==void 0?this.T(i):HR(i)?this.k(i):this._(i)}S(i){return this._$AA.parentNode.insertBefore(i,this._$AB)}T(i){this._$AH!==i&&(this._$AR(),this._$AH=this.S(i))}_(i){this._$AH!==on&&sg(this._$AH)?this._$AA.nextSibling.data=i:this.T(rh.createTextNode(i)),this._$AH=i}$(i){var u;const{values:e,_$litType$:o}=i,l=typeof o=="number"?this._$AC(i):(o.el===void 0&&(o.el=ag.createElement(JT(o.h,o.h[0]),this.options)),o);if(((u=this._$AH)==null?void 0:u._$AD)===l)this._$AH.p(e);else{const p=new qR(l,this),f=p.u(this.options);p.p(e),this.T(f),this._$AH=p}}_$AC(i){let e=ME.get(i.strings);return e===void 0&&ME.set(i.strings,e=new ag(i)),e}k(i){YT(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let o,l=0;for(const u of i)l===e.length?e.push(o=new Mg(this.S(og()),this.S(og()),this,this.options)):o=e[l],o._$AI(u),l++;l<e.length&&(this._$AR(o&&o._$AB.nextSibling,l),e.length=l)}_$AR(i=this._$AA.nextSibling,e){var o;for((o=this._$AP)==null?void 0:o.call(this,!1,!0,e);i&&i!==this._$AB;){const l=i.nextSibling;i.remove(),i=l}}setConnected(i){var e;this._$AM===void 0&&(this._$Cv=i,(e=this._$AP)==null||e.call(this,i))}}let K0=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(i,e,o,l,u){this.type=1,this._$AH=on,this._$AN=void 0,this.element=i,this.name=e,this._$AM=l,this.options=u,o.length>2||o[0]!==""||o[1]!==""?(this._$AH=Array(o.length-1).fill(new String),this.strings=o):this._$AH=on}_$AI(i,e=this,o,l){const u=this.strings;let p=!1;if(u===void 0)i=qd(this,i,e,0),p=!sg(i)||i!==this._$AH&&i!==ih,p&&(this._$AH=i);else{const f=i;let m,y;for(i=u[0],m=0;m<u.length-1;m++)y=qd(this,f[o+m],e,m),y===ih&&(y=this._$AH[m]),p||(p=!sg(y)||y!==this._$AH[m]),y===on?i=on:i!==on&&(i+=(y??"")+u[m+1]),this._$AH[m]=y}p&&!l&&this.j(i)}j(i){i===on?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,i??"")}},VR=class extends K0{constructor(){super(...arguments),this.type=3}j(i){this.element[this.name]=i===on?void 0:i}},WR=class extends K0{constructor(){super(...arguments),this.type=4}j(i){this.element.toggleAttribute(this.name,!!i&&i!==on)}};class ZR extends K0{constructor(i,e,o,l,u){super(i,e,o,l,u),this.type=5}_$AI(i,e=this){if((i=qd(this,i,e,0)??on)===ih)return;const o=this._$AH,l=i===on&&o!==on||i.capture!==o.capture||i.once!==o.once||i.passive!==o.passive,u=i!==on&&(o===on||l);l&&this.element.removeEventListener(this.name,this,o),u&&this.element.addEventListener(this.name,this,i),this._$AH=i}handleEvent(i){var e;typeof this._$AH=="function"?this._$AH.call(((e=this.options)==null?void 0:e.host)??this.element,i):this._$AH.handleEvent(i)}}let XR=class{constructor(i,e,o){this.element=i,this.type=6,this._$AN=void 0,this._$AM=e,this.options=o}get _$AU(){return this._$AM._$AU}_$AI(i){qd(this,i)}};const Wb=Vf.litHtmlPolyfillSupport;Wb==null||Wb(ag,Mg),(Vf.litHtmlVersions??(Vf.litHtmlVersions=[])).push("3.1.2");const YR=(n,i,e)=>{const o=(e==null?void 0:e.renderBefore)??i;let l=o._$litPart$;if(l===void 0){const u=(e==null?void 0:e.renderBefore)??null;o._$litPart$=l=new Mg(i.insertBefore(og(),u),u,void 0,e??{})}return l._$AI(n),l};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let Wf=class extends Cd{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e;const i=super.createRenderRoot();return(e=this.renderOptions).renderBefore??(e.renderBefore=i.firstChild),i}update(i){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(i),this._$Do=YR(e,this.renderRoot,this.renderOptions)}connectedCallback(){var i;super.connectedCallback(),(i=this._$Do)==null||i.setConnected(!0)}disconnectedCallback(){var i;super.disconnectedCallback(),(i=this._$Do)==null||i.setConnected(!1)}render(){return ih}};var J2;Wf._$litElement$=!0,Wf.finalized=!0,(J2=globalThis.litElementHydrateSupport)==null||J2.call(globalThis,{LitElement:Wf});const Zb=globalThis.litElementPolyfillSupport;Zb==null||Zb({LitElement:Wf});(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.0.4");var Ca=qs`
  :host {
    box-sizing: border-box;
  }

  :host *,
  :host *::before,
  :host *::after {
    box-sizing: inherit;
  }

  [hidden] {
    display: none !important;
  }
`,KR=qs`
  ${Ca}

  :host {
    --track-width: 2px;
    --track-color: rgb(128 128 128 / 25%);
    --indicator-color: var(--sl-color-primary-600);
    --speed: 2s;

    display: inline-flex;
    width: 1em;
    height: 1em;
    flex: none;
  }

  .spinner {
    flex: 1 1 auto;
    height: 100%;
    width: 100%;
  }

  .spinner__track,
  .spinner__indicator {
    fill: none;
    stroke-width: var(--track-width);
    r: calc(0.5em - var(--track-width) / 2);
    cx: 0.5em;
    cy: 0.5em;
    transform-origin: 50% 50%;
  }

  .spinner__track {
    stroke: var(--track-color);
    transform-origin: 0% 0%;
  }

  .spinner__indicator {
    stroke: var(--indicator-color);
    stroke-linecap: round;
    stroke-dasharray: 150% 75%;
    animation: spin var(--speed) linear infinite;
  }

  @keyframes spin {
    0% {
      transform: rotate(0deg);
      stroke-dasharray: 0.05em, 3em;
    }

    50% {
      transform: rotate(450deg);
      stroke-dasharray: 1.375em, 1.375em;
    }

    100% {
      transform: rotate(1080deg);
      stroke-dasharray: 0.05em, 3em;
    }
  }
`;const Mw=new Set,JR=new MutationObserver(eS),Ad=new Map;let QT=document.documentElement.dir||"ltr",$T=document.documentElement.lang||navigator.language,Yu;JR.observe(document.documentElement,{attributes:!0,attributeFilter:["dir","lang"]});function tS(...n){n.map(i=>{const e=i.$code.toLowerCase();Ad.has(e)?Ad.set(e,Object.assign(Object.assign({},Ad.get(e)),i)):Ad.set(e,i),Yu||(Yu=i)}),eS()}function eS(){QT=document.documentElement.dir||"ltr",$T=document.documentElement.lang||navigator.language,[...Mw.keys()].map(n=>{typeof n.requestUpdate=="function"&&n.requestUpdate()})}let QR=class{constructor(i){this.host=i,this.host.addController(this)}hostConnected(){Mw.add(this.host)}hostDisconnected(){Mw.delete(this.host)}dir(){return`${this.host.dir||QT}`.toLowerCase()}lang(){return`${this.host.lang||$T}`.toLowerCase()}getTranslationData(i){var e,o;const l=new Intl.Locale(i.replace(/_/g,"-")),u=l==null?void 0:l.language.toLowerCase(),p=(o=(e=l==null?void 0:l.region)===null||e===void 0?void 0:e.toLowerCase())!==null&&o!==void 0?o:"",f=Ad.get(`${u}-${p}`),m=Ad.get(u);return{locale:l,language:u,region:p,primary:f,secondary:m}}exists(i,e){var o;const{primary:l,secondary:u}=this.getTranslationData((o=e.lang)!==null&&o!==void 0?o:this.lang());return e=Object.assign({includeFallback:!1},e),!!(l&&l[i]||u&&u[i]||e.includeFallback&&Yu&&Yu[i])}term(i,...e){const{primary:o,secondary:l}=this.getTranslationData(this.lang());let u;if(o&&o[i])u=o[i];else if(l&&l[i])u=l[i];else if(Yu&&Yu[i])u=Yu[i];else return console.error(`No translation found for: ${String(i)}`),String(i);return typeof u=="function"?u(...e):u}date(i,e){return i=new Date(i),new Intl.DateTimeFormat(this.lang(),e).format(i)}number(i,e){return i=Number(i),isNaN(i)?"":new Intl.NumberFormat(this.lang(),e).format(i)}relativeTime(i,e,o){return new Intl.RelativeTimeFormat(this.lang(),o).format(i,e)}};var rS={$code:"en",$name:"English",$dir:"ltr",carousel:"Carousel",clearEntry:"Clear entry",close:"Close",copied:"Copied",copy:"Copy",currentValue:"Current value",error:"Error",goToSlide:(n,i)=>`Go to slide ${n} of ${i}`,hidePassword:"Hide password",loading:"Loading",nextSlide:"Next slide",numOptionsSelected:n=>n===0?"No options selected":n===1?"1 option selected":`${n} options selected`,previousSlide:"Previous slide",progress:"Progress",remove:"Remove",resize:"Resize",scrollToEnd:"Scroll to end",scrollToStart:"Scroll to start",selectAColorFromTheScreen:"Select a color from the screen",showPassword:"Show password",slideNum:n=>`Slide ${n}`,toggleColorFormat:"Toggle color format"};tS(rS);var $R=rS,ip=class extends QR{};tS($R);var iS=Object.defineProperty,t5=Object.defineProperties,e5=Object.getOwnPropertyDescriptor,r5=Object.getOwnPropertyDescriptors,IE=Object.getOwnPropertySymbols,i5=Object.prototype.hasOwnProperty,n5=Object.prototype.propertyIsEnumerable,LE=(n,i,e)=>i in n?iS(n,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[i]=e,iu=(n,i)=>{for(var e in i||(i={}))i5.call(i,e)&&LE(n,e,i[e]);if(IE)for(var e of IE(i))n5.call(i,e)&&LE(n,e,i[e]);return n},J0=(n,i)=>t5(n,r5(i)),Yt=(n,i,e,o)=>{for(var l=o>1?void 0:o?e5(i,e):i,u=n.length-1,p;u>=0;u--)(p=n[u])&&(l=(o?p(i,e,l):p(l))||l);return o&&l&&iS(i,e,l),l};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const o5={attribute:!0,type:String,converter:s0,reflect:!1,hasChanged:S1},s5=(n=o5,i,e)=>{const{kind:o,metadata:l}=e;let u=globalThis.litPropertyMetadata.get(l);if(u===void 0&&globalThis.litPropertyMetadata.set(l,u=new Map),u.set(e.name,n),o==="accessor"){const{name:p}=e;return{set(f){const m=i.get.call(this);i.set.call(this,f),this.requestUpdate(p,m,n)},init(f){return f!==void 0&&this.P(p,void 0,n),f}}}if(o==="setter"){const{name:p}=e;return function(f){const m=this[p];i.call(this,f),this.requestUpdate(p,m,n)}}throw Error("Unsupported decorator location: "+o)};function me(n){return(i,e)=>typeof e=="object"?s5(n,i,e):((o,l,u)=>{const p=l.hasOwnProperty(u);return l.constructor.createProperty(u,p?{...o,wrapped:!0}:o),p?Object.getOwnPropertyDescriptor(l,u):void 0})(n,i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Ig(n){return me({...n,state:!0,attribute:!1})}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const RE=(n,i,e)=>(e.configurable=!0,e.enumerable=!0,Reflect.decorate&&typeof i!="object"&&Object.defineProperty(n,i,e),e);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Eo(n,i){return(e,o,l)=>{const u=p=>{var f;return((f=p.renderRoot)==null?void 0:f.querySelector(n))??null};if(i){const{get:p,set:f}=typeof o=="object"?e:l??(()=>{const m=Symbol();return{get(){return this[m]},set(y){this[m]=y}}})();return RE(e,o,{get(){let m=p.call(this);return m===void 0&&(m=u(this),(m!==null||this.hasUpdated)&&f.call(this,m)),m}})}return RE(e,o,{get(){return u(this)}})}}var To=class extends Wf{constructor(){super(),Object.entries(this.constructor.dependencies).forEach(([n,i])=>{this.constructor.define(n,i)})}emit(n,i){const e=new CustomEvent(n,iu({bubbles:!0,cancelable:!1,composed:!0,detail:{}},i));return this.dispatchEvent(e),e}static define(n,i=this,e={}){const o=customElements.get(n);if(!o){customElements.define(n,class extends i{},e);return}let l=" (unknown version)",u=l;"version"in i&&i.version&&(l=" v"+i.version),"version"in o&&o.version&&(u=" v"+o.version),!(l&&u&&l===u)&&console.warn(`Attempted to register <${n}>${l}, but <${n}>${u} has already been registered.`)}};To.version="2.13.1";To.dependencies={};Yt([me()],To.prototype,"dir",2);Yt([me()],To.prototype,"lang",2);var Q0=class extends To{constructor(){super(...arguments),this.localize=new ip(this)}render(){return Yn`
      <svg part="base" class="spinner" role="progressbar" aria-label=${this.localize.term("loading")}>
        <circle class="spinner__track"></circle>
        <circle class="spinner__indicator"></circle>
      </svg>
    `}};Q0.styles=KR;var Sf=new WeakMap,Cf=new WeakMap,Pf=new WeakMap,Xb=new WeakSet,vv=new WeakMap,a5=class{constructor(n,i){this.handleFormData=e=>{const o=this.options.disabled(this.host),l=this.options.name(this.host),u=this.options.value(this.host),p=this.host.tagName.toLowerCase()==="sl-button";this.host.isConnected&&!o&&!p&&typeof l=="string"&&l.length>0&&typeof u<"u"&&(Array.isArray(u)?u.forEach(f=>{e.formData.append(l,f.toString())}):e.formData.append(l,u.toString()))},this.handleFormSubmit=e=>{var o;const l=this.options.disabled(this.host),u=this.options.reportValidity;this.form&&!this.form.noValidate&&((o=Sf.get(this.form))==null||o.forEach(p=>{this.setUserInteracted(p,!0)})),this.form&&!this.form.noValidate&&!l&&!u(this.host)&&(e.preventDefault(),e.stopImmediatePropagation())},this.handleFormReset=()=>{this.options.setValue(this.host,this.options.defaultValue(this.host)),this.setUserInteracted(this.host,!1),vv.set(this.host,[])},this.handleInteraction=e=>{const o=vv.get(this.host);o.includes(e.type)||o.push(e.type),o.length===this.options.assumeInteractionOn.length&&this.setUserInteracted(this.host,!0)},this.checkFormValidity=()=>{if(this.form&&!this.form.noValidate){const e=this.form.querySelectorAll("*");for(const o of e)if(typeof o.checkValidity=="function"&&!o.checkValidity())return!1}return!0},this.reportFormValidity=()=>{if(this.form&&!this.form.noValidate){const e=this.form.querySelectorAll("*");for(const o of e)if(typeof o.reportValidity=="function"&&!o.reportValidity())return!1}return!0},(this.host=n).addController(this),this.options=iu({form:e=>{const o=e.form;if(o){const u=e.getRootNode().getElementById(o);if(u)return u}return e.closest("form")},name:e=>e.name,value:e=>e.value,defaultValue:e=>e.defaultValue,disabled:e=>{var o;return(o=e.disabled)!=null?o:!1},reportValidity:e=>typeof e.reportValidity=="function"?e.reportValidity():!0,checkValidity:e=>typeof e.checkValidity=="function"?e.checkValidity():!0,setValue:(e,o)=>e.value=o,assumeInteractionOn:["sl-input"]},i)}hostConnected(){const n=this.options.form(this.host);n&&this.attachForm(n),vv.set(this.host,[]),this.options.assumeInteractionOn.forEach(i=>{this.host.addEventListener(i,this.handleInteraction)})}hostDisconnected(){this.detachForm(),vv.delete(this.host),this.options.assumeInteractionOn.forEach(n=>{this.host.removeEventListener(n,this.handleInteraction)})}hostUpdated(){const n=this.options.form(this.host);n||this.detachForm(),n&&this.form!==n&&(this.detachForm(),this.attachForm(n)),this.host.hasUpdated&&this.setValidity(this.host.validity.valid)}attachForm(n){n?(this.form=n,Sf.has(this.form)?Sf.get(this.form).add(this.host):Sf.set(this.form,new Set([this.host])),this.form.addEventListener("formdata",this.handleFormData),this.form.addEventListener("submit",this.handleFormSubmit),this.form.addEventListener("reset",this.handleFormReset),Cf.has(this.form)||(Cf.set(this.form,this.form.reportValidity),this.form.reportValidity=()=>this.reportFormValidity()),Pf.has(this.form)||(Pf.set(this.form,this.form.checkValidity),this.form.checkValidity=()=>this.checkFormValidity())):this.form=void 0}detachForm(){if(!this.form)return;const n=Sf.get(this.form);n&&(n.delete(this.host),n.size<=0&&(this.form.removeEventListener("formdata",this.handleFormData),this.form.removeEventListener("submit",this.handleFormSubmit),this.form.removeEventListener("reset",this.handleFormReset),Cf.has(this.form)&&(this.form.reportValidity=Cf.get(this.form),Cf.delete(this.form)),Pf.has(this.form)&&(this.form.checkValidity=Pf.get(this.form),Pf.delete(this.form)),this.form=void 0))}setUserInteracted(n,i){i?Xb.add(n):Xb.delete(n),n.requestUpdate()}doAction(n,i){if(this.form){const e=document.createElement("button");e.type=n,e.style.position="absolute",e.style.width="0",e.style.height="0",e.style.clipPath="inset(50%)",e.style.overflow="hidden",e.style.whiteSpace="nowrap",i&&(e.name=i.name,e.value=i.value,["formaction","formenctype","formmethod","formnovalidate","formtarget"].forEach(o=>{i.hasAttribute(o)&&e.setAttribute(o,i.getAttribute(o))})),this.form.append(e),e.click(),e.remove()}}getForm(){var n;return(n=this.form)!=null?n:null}reset(n){this.doAction("reset",n)}submit(n){this.doAction("submit",n)}setValidity(n){const i=this.host,e=!!Xb.has(i),o=!!i.required;i.toggleAttribute("data-required",o),i.toggleAttribute("data-optional",!o),i.toggleAttribute("data-invalid",!n),i.toggleAttribute("data-valid",n),i.toggleAttribute("data-user-invalid",!n&&e),i.toggleAttribute("data-user-valid",n&&e)}updateValidity(){const n=this.host;this.setValidity(n.validity.valid)}emitInvalidEvent(n){const i=new CustomEvent("sl-invalid",{bubbles:!1,composed:!1,cancelable:!0,detail:{}});n||i.preventDefault(),this.host.dispatchEvent(i)||n==null||n.preventDefault()}},C1=Object.freeze({badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valid:!0,valueMissing:!1});Object.freeze(J0(iu({},C1),{valid:!1,valueMissing:!0}));Object.freeze(J0(iu({},C1),{valid:!1,customError:!0}));var l5=qs`
  ${Ca}

  :host {
    display: inline-block;
    position: relative;
    width: auto;
    cursor: pointer;
  }

  .button {
    display: inline-flex;
    align-items: stretch;
    justify-content: center;
    width: 100%;
    border-style: solid;
    border-width: var(--sl-input-border-width);
    font-family: var(--sl-input-font-family);
    font-weight: var(--sl-font-weight-semibold);
    text-decoration: none;
    user-select: none;
    -webkit-user-select: none;
    white-space: nowrap;
    vertical-align: middle;
    padding: 0;
    transition:
      var(--sl-transition-x-fast) background-color,
      var(--sl-transition-x-fast) color,
      var(--sl-transition-x-fast) border,
      var(--sl-transition-x-fast) box-shadow;
    cursor: inherit;
  }

  .button::-moz-focus-inner {
    border: 0;
  }

  .button:focus {
    outline: none;
  }

  .button:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  /* When disabled, prevent mouse events from bubbling up from children */
  .button--disabled * {
    pointer-events: none;
  }

  .button__prefix,
  .button__suffix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    pointer-events: none;
  }

  .button__label {
    display: inline-block;
  }

  .button__label::slotted(sl-icon) {
    vertical-align: -2px;
  }

  /*
   * Standard buttons
   */

  /* Default */
  .button--standard.button--default {
    background-color: var(--sl-color-neutral-0);
    border-color: var(--sl-color-neutral-300);
    color: var(--sl-color-neutral-700);
  }

  .button--standard.button--default:hover:not(.button--disabled) {
    background-color: var(--sl-color-primary-50);
    border-color: var(--sl-color-primary-300);
    color: var(--sl-color-primary-700);
  }

  .button--standard.button--default:active:not(.button--disabled) {
    background-color: var(--sl-color-primary-100);
    border-color: var(--sl-color-primary-400);
    color: var(--sl-color-primary-700);
  }

  /* Primary */
  .button--standard.button--primary {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--primary:hover:not(.button--disabled) {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--primary:active:not(.button--disabled) {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  /* Success */
  .button--standard.button--success {
    background-color: var(--sl-color-success-600);
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--success:hover:not(.button--disabled) {
    background-color: var(--sl-color-success-500);
    border-color: var(--sl-color-success-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--success:active:not(.button--disabled) {
    background-color: var(--sl-color-success-600);
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  /* Neutral */
  .button--standard.button--neutral {
    background-color: var(--sl-color-neutral-600);
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--neutral:hover:not(.button--disabled) {
    background-color: var(--sl-color-neutral-500);
    border-color: var(--sl-color-neutral-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--neutral:active:not(.button--disabled) {
    background-color: var(--sl-color-neutral-600);
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  /* Warning */
  .button--standard.button--warning {
    background-color: var(--sl-color-warning-600);
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }
  .button--standard.button--warning:hover:not(.button--disabled) {
    background-color: var(--sl-color-warning-500);
    border-color: var(--sl-color-warning-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--warning:active:not(.button--disabled) {
    background-color: var(--sl-color-warning-600);
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  /* Danger */
  .button--standard.button--danger {
    background-color: var(--sl-color-danger-600);
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--danger:hover:not(.button--disabled) {
    background-color: var(--sl-color-danger-500);
    border-color: var(--sl-color-danger-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--danger:active:not(.button--disabled) {
    background-color: var(--sl-color-danger-600);
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  /*
   * Outline buttons
   */

  .button--outline {
    background: none;
    border: solid 1px;
  }

  /* Default */
  .button--outline.button--default {
    border-color: var(--sl-color-neutral-300);
    color: var(--sl-color-neutral-700);
  }

  .button--outline.button--default:hover:not(.button--disabled),
  .button--outline.button--default.button--checked:not(.button--disabled) {
    border-color: var(--sl-color-primary-600);
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--default:active:not(.button--disabled) {
    border-color: var(--sl-color-primary-700);
    background-color: var(--sl-color-primary-700);
    color: var(--sl-color-neutral-0);
  }

  /* Primary */
  .button--outline.button--primary {
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-primary-600);
  }

  .button--outline.button--primary:hover:not(.button--disabled),
  .button--outline.button--primary.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--primary:active:not(.button--disabled) {
    border-color: var(--sl-color-primary-700);
    background-color: var(--sl-color-primary-700);
    color: var(--sl-color-neutral-0);
  }

  /* Success */
  .button--outline.button--success {
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-success-600);
  }

  .button--outline.button--success:hover:not(.button--disabled),
  .button--outline.button--success.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--success:active:not(.button--disabled) {
    border-color: var(--sl-color-success-700);
    background-color: var(--sl-color-success-700);
    color: var(--sl-color-neutral-0);
  }

  /* Neutral */
  .button--outline.button--neutral {
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-600);
  }

  .button--outline.button--neutral:hover:not(.button--disabled),
  .button--outline.button--neutral.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--neutral:active:not(.button--disabled) {
    border-color: var(--sl-color-neutral-700);
    background-color: var(--sl-color-neutral-700);
    color: var(--sl-color-neutral-0);
  }

  /* Warning */
  .button--outline.button--warning {
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-warning-600);
  }

  .button--outline.button--warning:hover:not(.button--disabled),
  .button--outline.button--warning.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--warning:active:not(.button--disabled) {
    border-color: var(--sl-color-warning-700);
    background-color: var(--sl-color-warning-700);
    color: var(--sl-color-neutral-0);
  }

  /* Danger */
  .button--outline.button--danger {
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-danger-600);
  }

  .button--outline.button--danger:hover:not(.button--disabled),
  .button--outline.button--danger.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--danger:active:not(.button--disabled) {
    border-color: var(--sl-color-danger-700);
    background-color: var(--sl-color-danger-700);
    color: var(--sl-color-neutral-0);
  }

  @media (forced-colors: active) {
    .button.button--outline.button--checked:not(.button--disabled) {
      outline: solid 2px transparent;
    }
  }

  /*
   * Text buttons
   */

  .button--text {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-600);
  }

  .button--text:hover:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-500);
  }

  .button--text:focus-visible:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-500);
  }

  .button--text:active:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-700);
  }

  /*
   * Size modifiers
   */

  .button--small {
    height: auto;
    min-height: var(--sl-input-height-small);
    font-size: var(--sl-button-font-size-small);
    line-height: calc(var(--sl-input-height-small) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-small);
  }

  .button--medium {
    height: auto;
    min-height: var(--sl-input-height-medium);
    font-size: var(--sl-button-font-size-medium);
    line-height: calc(var(--sl-input-height-medium) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-medium);
  }

  .button--large {
    height: auto;
    min-height: var(--sl-input-height-large);
    font-size: var(--sl-button-font-size-large);
    line-height: calc(var(--sl-input-height-large) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-large);
  }

  /*
   * Pill modifier
   */

  .button--pill.button--small {
    border-radius: var(--sl-input-height-small);
  }

  .button--pill.button--medium {
    border-radius: var(--sl-input-height-medium);
  }

  .button--pill.button--large {
    border-radius: var(--sl-input-height-large);
  }

  /*
   * Circle modifier
   */

  .button--circle {
    padding-left: 0;
    padding-right: 0;
  }

  .button--circle.button--small {
    width: var(--sl-input-height-small);
    border-radius: 50%;
  }

  .button--circle.button--medium {
    width: var(--sl-input-height-medium);
    border-radius: 50%;
  }

  .button--circle.button--large {
    width: var(--sl-input-height-large);
    border-radius: 50%;
  }

  .button--circle .button__prefix,
  .button--circle .button__suffix,
  .button--circle .button__caret {
    display: none;
  }

  /*
   * Caret modifier
   */

  .button--caret .button__suffix {
    display: none;
  }

  .button--caret .button__caret {
    height: auto;
  }

  /*
   * Loading modifier
   */

  .button--loading {
    position: relative;
    cursor: wait;
  }

  .button--loading .button__prefix,
  .button--loading .button__label,
  .button--loading .button__suffix,
  .button--loading .button__caret {
    visibility: hidden;
  }

  .button--loading sl-spinner {
    --indicator-color: currentColor;
    position: absolute;
    font-size: 1em;
    height: 1em;
    width: 1em;
    top: calc(50% - 0.5em);
    left: calc(50% - 0.5em);
  }

  /*
   * Badges
   */

  .button ::slotted(sl-badge) {
    position: absolute;
    top: 0;
    right: 0;
    translate: 50% -50%;
    pointer-events: none;
  }

  .button--rtl ::slotted(sl-badge) {
    right: auto;
    left: 0;
    translate: -50% -50%;
  }

  /*
   * Button spacing
   */

  .button--has-label.button--small .button__label {
    padding: 0 var(--sl-spacing-small);
  }

  .button--has-label.button--medium .button__label {
    padding: 0 var(--sl-spacing-medium);
  }

  .button--has-label.button--large .button__label {
    padding: 0 var(--sl-spacing-large);
  }

  .button--has-prefix.button--small {
    padding-inline-start: var(--sl-spacing-x-small);
  }

  .button--has-prefix.button--small .button__label {
    padding-inline-start: var(--sl-spacing-x-small);
  }

  .button--has-prefix.button--medium {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--medium .button__label {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--large {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--large .button__label {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-suffix.button--small,
  .button--caret.button--small {
    padding-inline-end: var(--sl-spacing-x-small);
  }

  .button--has-suffix.button--small .button__label,
  .button--caret.button--small .button__label {
    padding-inline-end: var(--sl-spacing-x-small);
  }

  .button--has-suffix.button--medium,
  .button--caret.button--medium {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--medium .button__label,
  .button--caret.button--medium .button__label {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--large,
  .button--caret.button--large {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--large .button__label,
  .button--caret.button--large .button__label {
    padding-inline-end: var(--sl-spacing-small);
  }

  /*
   * Button groups support a variety of button types (e.g. buttons with tooltips, buttons as dropdown triggers, etc.).
   * This means buttons aren't always direct descendants of the button group, thus we can't target them with the
   * ::slotted selector. To work around this, the button group component does some magic to add these special classes to
   * buttons and we style them here instead.
   */

  :host(.sl-button-group__button--first:not(.sl-button-group__button--last)) .button {
    border-start-end-radius: 0;
    border-end-end-radius: 0;
  }

  :host(.sl-button-group__button--inner) .button {
    border-radius: 0;
  }

  :host(.sl-button-group__button--last:not(.sl-button-group__button--first)) .button {
    border-start-start-radius: 0;
    border-end-start-radius: 0;
  }

  /* All except the first */
  :host(.sl-button-group__button:not(.sl-button-group__button--first)) {
    margin-inline-start: calc(-1 * var(--sl-input-border-width));
  }

  /* Add a visual separator between solid buttons */
  :host(
      .sl-button-group__button:not(
          .sl-button-group__button--first,
          .sl-button-group__button--radio,
          [variant='default']
        ):not(:hover)
    )
    .button:after {
    content: '';
    position: absolute;
    top: 0;
    inset-inline-start: 0;
    bottom: 0;
    border-left: solid 1px rgb(128 128 128 / 33%);
    mix-blend-mode: multiply;
  }

  /* Bump hovered, focused, and checked buttons up so their focus ring isn't clipped */
  :host(.sl-button-group__button--hover) {
    z-index: 1;
  }

  /* Focus and checked are always on top */
  :host(.sl-button-group__button--focus),
  :host(.sl-button-group__button[checked]) {
    z-index: 2;
  }
`,nS=class{constructor(n,...i){this.slotNames=[],this.handleSlotChange=e=>{const o=e.target;(this.slotNames.includes("[default]")&&!o.name||o.name&&this.slotNames.includes(o.name))&&this.host.requestUpdate()},(this.host=n).addController(this),this.slotNames=i}hasDefaultSlot(){return[...this.host.childNodes].some(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent.trim()!=="")return!0;if(n.nodeType===n.ELEMENT_NODE){const i=n;if(i.tagName.toLowerCase()==="sl-visually-hidden")return!1;if(!i.hasAttribute("slot"))return!0}return!1})}hasNamedSlot(n){return this.host.querySelector(`:scope > [slot="${n}"]`)!==null}test(n){return n==="[default]"?this.hasDefaultSlot():this.hasNamedSlot(n)}hostConnected(){this.host.shadowRoot.addEventListener("slotchange",this.handleSlotChange)}hostDisconnected(){this.host.shadowRoot.removeEventListener("slotchange",this.handleSlotChange)}};function c5(n){if(!n)return"";const i=n.assignedNodes({flatten:!0});let e="";return[...i].forEach(o=>{o.nodeType===Node.TEXT_NODE&&(e+=o.textContent)}),e}var Iw="";function AE(n){Iw=n}function u5(n=""){if(!Iw){const i=[...document.getElementsByTagName("script")],e=i.find(o=>o.hasAttribute("data-shoelace"));if(e)AE(e.getAttribute("data-shoelace"));else{const o=i.find(u=>/shoelace(\.min)?\.js($|\?)/.test(u.src)||/shoelace-autoloader(\.min)?\.js($|\?)/.test(u.src));let l="";o&&(l=o.getAttribute("src")),AE(l.split("/").slice(0,-1).join("/"))}}return Iw.replace(/\/$/,"")+(n?`/${n.replace(/^\//,"")}`:"")}var h5={name:"default",resolver:n=>u5(`assets/icons/${n}.svg`)},d5=h5,zE={caret:`
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <polyline points="6 9 12 15 18 9"></polyline>
    </svg>
  `,check:`
    <svg part="checked-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor">
          <g transform="translate(3.428571, 3.428571)">
            <path d="M0,5.71428571 L3.42857143,9.14285714"></path>
            <path d="M9.14285714,0 L3.42857143,9.14285714"></path>
          </g>
        </g>
      </g>
    </svg>
  `,"chevron-down":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,"chevron-left":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
    </svg>
  `,"chevron-right":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,copy:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-copy" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M4 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V2Zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H6ZM2 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1h1v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1v1H2Z"/>
    </svg>
  `,eye:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
      <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
      <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
    </svg>
  `,"eye-slash":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-slash" viewBox="0 0 16 16">
      <path d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"/>
      <path d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z"/>
      <path d="M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708z"/>
    </svg>
  `,eyedropper:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eyedropper" viewBox="0 0 16 16">
      <path d="M13.354.646a1.207 1.207 0 0 0-1.708 0L8.5 3.793l-.646-.647a.5.5 0 1 0-.708.708L8.293 5l-7.147 7.146A.5.5 0 0 0 1 12.5v1.793l-.854.853a.5.5 0 1 0 .708.707L1.707 15H3.5a.5.5 0 0 0 .354-.146L11 7.707l1.146 1.147a.5.5 0 0 0 .708-.708l-.647-.646 3.147-3.146a1.207 1.207 0 0 0 0-1.708l-2-2zM2 12.707l7-7L10.293 7l-7 7H2v-1.293z"></path>
    </svg>
  `,"grip-vertical":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-grip-vertical" viewBox="0 0 16 16">
      <path d="M7 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path>
    </svg>
  `,indeterminate:`
    <svg part="indeterminate-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor" stroke-width="2">
          <g transform="translate(2.285714, 6.857143)">
            <path d="M10.2857143,1.14285714 L1.14285714,1.14285714"></path>
          </g>
        </g>
      </g>
    </svg>
  `,"person-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
      <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
    </svg>
  `,"play-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">
      <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"></path>
    </svg>
  `,"pause-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pause-fill" viewBox="0 0 16 16">
      <path d="M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"></path>
    </svg>
  `,radio:`
    <svg part="checked-icon" class="radio__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g fill="currentColor">
          <circle cx="8" cy="8" r="3.42857143"></circle>
        </g>
      </g>
    </svg>
  `,"star-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
    </svg>
  `,"x-lg":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
      <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/>
    </svg>
  `,"x-circle-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle-fill" viewBox="0 0 16 16">
      <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"></path>
    </svg>
  `},p5={name:"system",resolver:n=>n in zE?`data:image/svg+xml,${encodeURIComponent(zE[n])}`:""},f5=p5,g5=[d5,f5],Lw=[];function m5(n){Lw.push(n)}function v5(n){Lw=Lw.filter(i=>i!==n)}function OE(n){return g5.find(i=>i.name===n)}var y5=qs`
  ${Ca}

  :host {
    display: inline-block;
    width: 1em;
    height: 1em;
    box-sizing: content-box !important;
  }

  svg {
    display: block;
    height: 100%;
    width: 100%;
  }
`;function Vs(n,i){const e=iu({waitUntilFirstUpdate:!1},i);return(o,l)=>{const{update:u}=o,p=Array.isArray(n)?n:[n];o.update=function(f){p.forEach(m=>{const y=m;if(f.has(y)){const _=f.get(y),E=this[y];_!==E&&(!e.waitUntilFirstUpdate||this.hasUpdated)&&this[l](_,E)}}),u.call(this,f)}}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const b5=(n,i)=>i===void 0?(n==null?void 0:n._$litType$)!==void 0:(n==null?void 0:n._$litType$)===i,w5=n=>n.strings===void 0;var Mf=Symbol(),yv=Symbol(),Yb,Kb=new Map,Pa=class extends To{constructor(){super(...arguments),this.initialRender=!1,this.svg=null,this.label="",this.library="default"}async resolveIcon(n,i){var e;let o;if(i!=null&&i.spriteSheet)return Yn`<svg part="svg">
        <use part="use" href="${n}"></use>
      </svg>`;try{if(o=await fetch(n,{mode:"cors"}),!o.ok)return o.status===410?Mf:yv}catch{return yv}try{const l=document.createElement("div");l.innerHTML=await o.text();const u=l.firstElementChild;if(((e=u==null?void 0:u.tagName)==null?void 0:e.toLowerCase())!=="svg")return Mf;Yb||(Yb=new DOMParser);const f=Yb.parseFromString(u.outerHTML,"text/html").body.querySelector("svg");return f?(f.part.add("svg"),document.adoptNode(f)):Mf}catch{return Mf}}connectedCallback(){super.connectedCallback(),m5(this)}firstUpdated(){this.initialRender=!0,this.setIcon()}disconnectedCallback(){super.disconnectedCallback(),v5(this)}getIconSource(){const n=OE(this.library);return this.name&&n?{url:n.resolver(this.name),fromLibrary:!0}:{url:this.src,fromLibrary:!1}}handleLabelChange(){typeof this.label=="string"&&this.label.length>0?(this.setAttribute("role","img"),this.setAttribute("aria-label",this.label),this.removeAttribute("aria-hidden")):(this.removeAttribute("role"),this.removeAttribute("aria-label"),this.setAttribute("aria-hidden","true"))}async setIcon(){var n;const{url:i,fromLibrary:e}=this.getIconSource(),o=e?OE(this.library):void 0;if(!i){this.svg=null;return}let l=Kb.get(i);if(l||(l=this.resolveIcon(i,o),Kb.set(i,l)),!this.initialRender)return;const u=await l;if(u===yv&&Kb.delete(i),i===this.getIconSource().url){if(b5(u)){this.svg=u;return}switch(u){case yv:case Mf:this.svg=null,this.emit("sl-error");break;default:this.svg=u.cloneNode(!0),(n=o==null?void 0:o.mutator)==null||n.call(o,this.svg),this.emit("sl-load")}}}render(){return this.svg}};Pa.styles=y5;Yt([Ig()],Pa.prototype,"svg",2);Yt([me({reflect:!0})],Pa.prototype,"name",2);Yt([me()],Pa.prototype,"src",2);Yt([me()],Pa.prototype,"label",2);Yt([me({reflect:!0})],Pa.prototype,"library",2);Yt([Vs("label")],Pa.prototype,"handleLabelChange",1);Yt([Vs(["name","src","library"])],Pa.prototype,"setIcon",1);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const oS={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},sS=n=>(...i)=>({_$litDirective$:n,values:i});class aS{constructor(i){}get _$AU(){return this._$AM._$AU}_$AT(i,e,o){this._$Ct=i,this._$AM=e,this._$Ci=o}_$AS(i,e){return this.update(i,e)}update(i,e){return this.render(...e)}}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Xl=sS(class extends aS{constructor(n){var i;if(super(n),n.type!==oS.ATTRIBUTE||n.name!=="class"||((i=n.strings)==null?void 0:i.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(n){return" "+Object.keys(n).filter(i=>n[i]).join(" ")+" "}update(n,[i]){var o,l;if(this.st===void 0){this.st=new Set,n.strings!==void 0&&(this.nt=new Set(n.strings.join(" ").split(/\s/).filter(u=>u!=="")));for(const u in i)i[u]&&!((o=this.nt)!=null&&o.has(u))&&this.st.add(u);return this.render(i)}const e=n.element.classList;for(const u of this.st)u in i||(e.remove(u),this.st.delete(u));for(const u in i){const p=!!i[u];p===this.st.has(u)||(l=this.nt)!=null&&l.has(u)||(p?(e.add(u),this.st.add(u)):(e.remove(u),this.st.delete(u)))}return ih}});/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const lS=Symbol.for(""),x5=n=>{if((n==null?void 0:n.r)===lS)return n==null?void 0:n._$litStatic$},l0=(n,...i)=>({_$litStatic$:i.reduce((e,o,l)=>e+(u=>{if(u._$litStatic$!==void 0)return u._$litStatic$;throw Error(`Value passed to 'literal' function must be a 'literal' result: ${u}. Use 'unsafeStatic' to pass non-literal values, but
            take care to ensure page security.`)})(o)+n[l+1],n[0]),r:lS}),NE=new Map,_5=n=>(i,...e)=>{const o=e.length;let l,u;const p=[],f=[];let m,y=0,_=!1;for(;y<o;){for(m=i[y];y<o&&(u=e[y],(l=x5(u))!==void 0);)m+=l+i[++y],_=!0;y!==o&&f.push(u),p.push(m),y++}if(y===o&&p.push(i[o]),_){const E=p.join("$$lit$$");(i=NE.get(E))===void 0&&(p.raw=p,NE.set(E,i=p)),e=f}return n(i,...e)},qv=_5(Yn);/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const En=n=>n??on;var wi=class extends To{constructor(){super(...arguments),this.formControlController=new a5(this,{assumeInteractionOn:["click"]}),this.hasSlotController=new nS(this,"[default]","prefix","suffix"),this.localize=new ip(this),this.hasFocus=!1,this.invalid=!1,this.title="",this.variant="default",this.size="medium",this.caret=!1,this.disabled=!1,this.loading=!1,this.outline=!1,this.pill=!1,this.circle=!1,this.type="button",this.name="",this.value="",this.href="",this.rel="noreferrer noopener"}get validity(){return this.isButton()?this.button.validity:C1}get validationMessage(){return this.isButton()?this.button.validationMessage:""}firstUpdated(){this.isButton()&&this.formControlController.updateValidity()}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleClick(){this.type==="submit"&&this.formControlController.submit(this),this.type==="reset"&&this.formControlController.reset(this)}handleInvalid(n){this.formControlController.setValidity(!1),this.formControlController.emitInvalidEvent(n)}isButton(){return!this.href}isLink(){return!!this.href}handleDisabledChange(){this.isButton()&&this.formControlController.setValidity(this.disabled)}click(){this.button.click()}focus(n){this.button.focus(n)}blur(){this.button.blur()}checkValidity(){return this.isButton()?this.button.checkValidity():!0}getForm(){return this.formControlController.getForm()}reportValidity(){return this.isButton()?this.button.reportValidity():!0}setCustomValidity(n){this.isButton()&&(this.button.setCustomValidity(n),this.formControlController.updateValidity())}render(){const n=this.isLink(),i=n?l0`a`:l0`button`;return qv`
      <${i}
        part="base"
        class=${Xl({button:!0,"button--default":this.variant==="default","button--primary":this.variant==="primary","button--success":this.variant==="success","button--neutral":this.variant==="neutral","button--warning":this.variant==="warning","button--danger":this.variant==="danger","button--text":this.variant==="text","button--small":this.size==="small","button--medium":this.size==="medium","button--large":this.size==="large","button--caret":this.caret,"button--circle":this.circle,"button--disabled":this.disabled,"button--focused":this.hasFocus,"button--loading":this.loading,"button--standard":!this.outline,"button--outline":this.outline,"button--pill":this.pill,"button--rtl":this.localize.dir()==="rtl","button--has-label":this.hasSlotController.test("[default]"),"button--has-prefix":this.hasSlotController.test("prefix"),"button--has-suffix":this.hasSlotController.test("suffix")})}
        ?disabled=${En(n?void 0:this.disabled)}
        type=${En(n?void 0:this.type)}
        title=${this.title}
        name=${En(n?void 0:this.name)}
        value=${En(n?void 0:this.value)}
        href=${En(n?this.href:void 0)}
        target=${En(n?this.target:void 0)}
        download=${En(n?this.download:void 0)}
        rel=${En(n?this.rel:void 0)}
        role=${En(n?void 0:"button")}
        aria-disabled=${this.disabled?"true":"false"}
        tabindex=${this.disabled?"-1":"0"}
        @blur=${this.handleBlur}
        @focus=${this.handleFocus}
        @invalid=${this.isButton()?this.handleInvalid:null}
        @click=${this.handleClick}
      >
        <slot name="prefix" part="prefix" class="button__prefix"></slot>
        <slot part="label" class="button__label"></slot>
        <slot name="suffix" part="suffix" class="button__suffix"></slot>
        ${this.caret?qv` <sl-icon part="caret" class="button__caret" library="system" name="caret"></sl-icon> `:""}
        ${this.loading?qv`<sl-spinner part="spinner"></sl-spinner>`:""}
      </${i}>
    `}};wi.styles=l5;wi.dependencies={"sl-icon":Pa,"sl-spinner":Q0};Yt([Eo(".button")],wi.prototype,"button",2);Yt([Ig()],wi.prototype,"hasFocus",2);Yt([Ig()],wi.prototype,"invalid",2);Yt([me()],wi.prototype,"title",2);Yt([me({reflect:!0})],wi.prototype,"variant",2);Yt([me({reflect:!0})],wi.prototype,"size",2);Yt([me({type:Boolean,reflect:!0})],wi.prototype,"caret",2);Yt([me({type:Boolean,reflect:!0})],wi.prototype,"disabled",2);Yt([me({type:Boolean,reflect:!0})],wi.prototype,"loading",2);Yt([me({type:Boolean,reflect:!0})],wi.prototype,"outline",2);Yt([me({type:Boolean,reflect:!0})],wi.prototype,"pill",2);Yt([me({type:Boolean,reflect:!0})],wi.prototype,"circle",2);Yt([me()],wi.prototype,"type",2);Yt([me()],wi.prototype,"name",2);Yt([me()],wi.prototype,"value",2);Yt([me()],wi.prototype,"href",2);Yt([me()],wi.prototype,"target",2);Yt([me()],wi.prototype,"rel",2);Yt([me()],wi.prototype,"download",2);Yt([me()],wi.prototype,"form",2);Yt([me({attribute:"formaction"})],wi.prototype,"formAction",2);Yt([me({attribute:"formenctype"})],wi.prototype,"formEnctype",2);Yt([me({attribute:"formmethod"})],wi.prototype,"formMethod",2);Yt([me({attribute:"formnovalidate",type:Boolean})],wi.prototype,"formNoValidate",2);Yt([me({attribute:"formtarget"})],wi.prototype,"formTarget",2);Yt([Vs("disabled",{waitUntilFirstUpdate:!0})],wi.prototype,"handleDisabledChange",1);wi.define("sl-button");var k5=qs`
  ${Ca}

  :host {
    display: inline-block;
  }

  .dropdown::part(popup) {
    z-index: var(--sl-z-index-dropdown);
  }

  .dropdown[data-current-placement^='top']::part(popup) {
    transform-origin: bottom;
  }

  .dropdown[data-current-placement^='bottom']::part(popup) {
    transform-origin: top;
  }

  .dropdown[data-current-placement^='left']::part(popup) {
    transform-origin: right;
  }

  .dropdown[data-current-placement^='right']::part(popup) {
    transform-origin: left;
  }

  .dropdown__trigger {
    display: block;
  }

  .dropdown__panel {
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    box-shadow: var(--sl-shadow-large);
    border-radius: var(--sl-border-radius-medium);
    pointer-events: none;
  }

  .dropdown--open .dropdown__panel {
    display: block;
    pointer-events: all;
  }

  /* When users slot a menu, make sure it conforms to the popup's auto-size */
  ::slotted(sl-menu) {
    max-width: var(--auto-size-available-width) !important;
    max-height: var(--auto-size-available-height) !important;
  }
`,DE=new WeakMap;function cS(n){let i=DE.get(n);return i||(i=window.getComputedStyle(n,null),DE.set(n,i)),i}function E5(n){if(typeof n.checkVisibility=="function")return n.checkVisibility({checkOpacity:!1,checkVisibilityCSS:!0});const i=cS(n);return i.visibility!=="hidden"&&i.display!=="none"}function T5(n){const i=cS(n),{overflowY:e,overflowX:o}=i;return e==="scroll"||o==="scroll"?!0:e!=="auto"||o!=="auto"?!1:n.scrollHeight>n.clientHeight&&e==="auto"||n.scrollWidth>n.clientWidth&&o==="auto"}function S5(n){const i=n.tagName.toLowerCase(),e=Number(n.getAttribute("tabindex"));return n.hasAttribute("tabindex")&&(isNaN(e)||e<=-1)||n.hasAttribute("disabled")||n.closest("[inert]")||i==="input"&&n.getAttribute("type")==="radio"&&!n.hasAttribute("checked")||!E5(n)?!1:(i==="audio"||i==="video")&&n.hasAttribute("controls")||n.hasAttribute("tabindex")||n.hasAttribute("contenteditable")&&n.getAttribute("contenteditable")!=="false"||["button","input","select","textarea","a","audio","video","summary","iframe"].includes(i)?!0:T5(n)}function C5(n){var i,e;const o=M5(n),l=(i=o[0])!=null?i:null,u=(e=o[o.length-1])!=null?e:null;return{start:l,end:u}}function P5(n,i){var e;return((e=n.getRootNode({composed:!0}))==null?void 0:e.host)!==i}function M5(n){const i=new WeakMap,e=[];function o(l){if(l instanceof Element){if(l.hasAttribute("inert")||l.closest("[inert]")||i.has(l))return;i.set(l,!0),!e.includes(l)&&S5(l)&&e.push(l),l instanceof HTMLSlotElement&&P5(l,n)&&l.assignedElements({flatten:!0}).forEach(u=>{o(u)}),l.shadowRoot!==null&&l.shadowRoot.mode==="open"&&o(l.shadowRoot)}for(const u of l.children)o(u)}return o(n),e.sort((l,u)=>{const p=Number(l.getAttribute("tabindex"))||0;return(Number(u.getAttribute("tabindex"))||0)-p})}var I5=qs`
  ${Ca}

  :host {
    --arrow-color: var(--sl-color-neutral-1000);
    --arrow-size: 6px;

    /*
     * These properties are computed to account for the arrow's dimensions after being rotated 45. The constant
     * 0.7071 is derived from sin(45), which is the diagonal size of the arrow's container after rotating.
     */
    --arrow-size-diagonal: calc(var(--arrow-size) * 0.7071);
    --arrow-padding-offset: calc(var(--arrow-size-diagonal) - var(--arrow-size));

    display: contents;
  }

  .popup {
    position: absolute;
    isolation: isolate;
    max-width: var(--auto-size-available-width, none);
    max-height: var(--auto-size-available-height, none);
  }

  .popup--fixed {
    position: fixed;
  }

  .popup:not(.popup--active) {
    display: none;
  }

  .popup__arrow {
    position: absolute;
    width: calc(var(--arrow-size-diagonal) * 2);
    height: calc(var(--arrow-size-diagonal) * 2);
    rotate: 45deg;
    background: var(--arrow-color);
    z-index: -1;
  }

  /* Hover bridge */
  .popup-hover-bridge:not(.popup-hover-bridge--visible) {
    display: none;
  }

  .popup-hover-bridge {
    position: fixed;
    z-index: calc(var(--sl-z-index-dropdown) - 1);
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    clip-path: polygon(
      var(--hover-bridge-top-left-x, 0) var(--hover-bridge-top-left-y, 0),
      var(--hover-bridge-top-right-x, 0) var(--hover-bridge-top-right-y, 0),
      var(--hover-bridge-bottom-right-x, 0) var(--hover-bridge-bottom-right-y, 0),
      var(--hover-bridge-bottom-left-x, 0) var(--hover-bridge-bottom-left-y, 0)
    );
  }
`;const Zc=Math.min,as=Math.max,c0=Math.round,bv=Math.floor,Xc=n=>({x:n,y:n}),L5={left:"right",right:"left",bottom:"top",top:"bottom"},R5={start:"end",end:"start"};function Rw(n,i,e){return as(n,Zc(i,e))}function np(n,i){return typeof n=="function"?n(i):n}function Yc(n){return n.split("-")[0]}function op(n){return n.split("-")[1]}function uS(n){return n==="x"?"y":"x"}function P1(n){return n==="y"?"height":"width"}function Lg(n){return["top","bottom"].includes(Yc(n))?"y":"x"}function M1(n){return uS(Lg(n))}function A5(n,i,e){e===void 0&&(e=!1);const o=op(n),l=M1(n),u=P1(l);let p=l==="x"?o===(e?"end":"start")?"right":"left":o==="start"?"bottom":"top";return i.reference[u]>i.floating[u]&&(p=u0(p)),[p,u0(p)]}function z5(n){const i=u0(n);return[Aw(n),i,Aw(i)]}function Aw(n){return n.replace(/start|end/g,i=>R5[i])}function O5(n,i,e){const o=["left","right"],l=["right","left"],u=["top","bottom"],p=["bottom","top"];switch(n){case"top":case"bottom":return e?i?l:o:i?o:l;case"left":case"right":return i?u:p;default:return[]}}function N5(n,i,e,o){const l=op(n);let u=O5(Yc(n),e==="start",o);return l&&(u=u.map(p=>p+"-"+l),i&&(u=u.concat(u.map(Aw)))),u}function u0(n){return n.replace(/left|right|bottom|top/g,i=>L5[i])}function D5(n){return{top:0,right:0,bottom:0,left:0,...n}}function hS(n){return typeof n!="number"?D5(n):{top:n,right:n,bottom:n,left:n}}function h0(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}function FE(n,i,e){let{reference:o,floating:l}=n;const u=Lg(i),p=M1(i),f=P1(p),m=Yc(i),y=u==="y",_=o.x+o.width/2-l.width/2,E=o.y+o.height/2-l.height/2,C=o[f]/2-l[f]/2;let I;switch(m){case"top":I={x:_,y:o.y-l.height};break;case"bottom":I={x:_,y:o.y+o.height};break;case"right":I={x:o.x+o.width,y:E};break;case"left":I={x:o.x-l.width,y:E};break;default:I={x:o.x,y:o.y}}switch(op(i)){case"start":I[p]-=C*(e&&y?-1:1);break;case"end":I[p]+=C*(e&&y?-1:1);break}return I}const F5=async(n,i,e)=>{const{placement:o="bottom",strategy:l="absolute",middleware:u=[],platform:p}=e,f=u.filter(Boolean),m=await(p.isRTL==null?void 0:p.isRTL(i));let y=await p.getElementRects({reference:n,floating:i,strategy:l}),{x:_,y:E}=FE(y,o,m),C=o,I={},z=0;for(let B=0;B<f.length;B++){const{name:G,fn:H}=f[B],{x:$,y:j,data:V,reset:ot}=await H({x:_,y:E,initialPlacement:o,placement:C,strategy:l,middlewareData:I,rects:y,platform:p,elements:{reference:n,floating:i}});_=$??_,E=j??E,I={...I,[G]:{...I[G],...V}},ot&&z<=50&&(z++,typeof ot=="object"&&(ot.placement&&(C=ot.placement),ot.rects&&(y=ot.rects===!0?await p.getElementRects({reference:n,floating:i,strategy:l}):ot.rects),{x:_,y:E}=FE(y,C,m)),B=-1)}return{x:_,y:E,placement:C,strategy:l,middlewareData:I}};async function I1(n,i){var e;i===void 0&&(i={});const{x:o,y:l,platform:u,rects:p,elements:f,strategy:m}=n,{boundary:y="clippingAncestors",rootBoundary:_="viewport",elementContext:E="floating",altBoundary:C=!1,padding:I=0}=np(i,n),z=hS(I),G=f[C?E==="floating"?"reference":"floating":E],H=h0(await u.getClippingRect({element:(e=await(u.isElement==null?void 0:u.isElement(G)))==null||e?G:G.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(f.floating)),boundary:y,rootBoundary:_,strategy:m})),$=E==="floating"?{...p.floating,x:o,y:l}:p.reference,j=await(u.getOffsetParent==null?void 0:u.getOffsetParent(f.floating)),V=await(u.isElement==null?void 0:u.isElement(j))?await(u.getScale==null?void 0:u.getScale(j))||{x:1,y:1}:{x:1,y:1},ot=h0(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:$,offsetParent:j,strategy:m}):$);return{top:(H.top-ot.top+z.top)/V.y,bottom:(ot.bottom-H.bottom+z.bottom)/V.y,left:(H.left-ot.left+z.left)/V.x,right:(ot.right-H.right+z.right)/V.x}}const B5=n=>({name:"arrow",options:n,async fn(i){const{x:e,y:o,placement:l,rects:u,platform:p,elements:f,middlewareData:m}=i,{element:y,padding:_=0}=np(n,i)||{};if(y==null)return{};const E=hS(_),C={x:e,y:o},I=M1(l),z=P1(I),B=await p.getDimensions(y),G=I==="y",H=G?"top":"left",$=G?"bottom":"right",j=G?"clientHeight":"clientWidth",V=u.reference[z]+u.reference[I]-C[I]-u.floating[z],ot=C[I]-u.reference[I],ft=await(p.getOffsetParent==null?void 0:p.getOffsetParent(y));let ht=ft?ft[j]:0;(!ht||!await(p.isElement==null?void 0:p.isElement(ft)))&&(ht=f.floating[j]||u.floating[z]);const ct=V/2-ot/2,Z=ht/2-B[z]/2-1,lt=Zc(E[H],Z),ut=Zc(E[$],Z),mt=lt,te=ht-B[z]-ut,ne=ht/2-B[z]/2+ct,ye=Rw(mt,ne,te),Gt=!m.arrow&&op(l)!=null&&ne!==ye&&u.reference[z]/2-(ne<mt?lt:ut)-B[z]/2<0,he=Gt?ne<mt?ne-mt:ne-te:0;return{[I]:C[I]+he,data:{[I]:ye,centerOffset:ne-ye-he,...Gt&&{alignmentOffset:he}},reset:Gt}}}),j5=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(i){var e,o;const{placement:l,middlewareData:u,rects:p,initialPlacement:f,platform:m,elements:y}=i,{mainAxis:_=!0,crossAxis:E=!0,fallbackPlacements:C,fallbackStrategy:I="bestFit",fallbackAxisSideDirection:z="none",flipAlignment:B=!0,...G}=np(n,i);if((e=u.arrow)!=null&&e.alignmentOffset)return{};const H=Yc(l),$=Yc(f)===f,j=await(m.isRTL==null?void 0:m.isRTL(y.floating)),V=C||($||!B?[u0(f)]:z5(f));!C&&z!=="none"&&V.push(...N5(f,B,z,j));const ot=[f,...V],ft=await I1(i,G),ht=[];let ct=((o=u.flip)==null?void 0:o.overflows)||[];if(_&&ht.push(ft[H]),E){const mt=A5(l,p,j);ht.push(ft[mt[0]],ft[mt[1]])}if(ct=[...ct,{placement:l,overflows:ht}],!ht.every(mt=>mt<=0)){var Z,lt;const mt=(((Z=u.flip)==null?void 0:Z.index)||0)+1,te=ot[mt];if(te)return{data:{index:mt,overflows:ct},reset:{placement:te}};let ne=(lt=ct.filter(ye=>ye.overflows[0]<=0).sort((ye,Gt)=>ye.overflows[1]-Gt.overflows[1])[0])==null?void 0:lt.placement;if(!ne)switch(I){case"bestFit":{var ut;const ye=(ut=ct.map(Gt=>[Gt.placement,Gt.overflows.filter(he=>he>0).reduce((he,Kt)=>he+Kt,0)]).sort((Gt,he)=>Gt[1]-he[1])[0])==null?void 0:ut[0];ye&&(ne=ye);break}case"initialPlacement":ne=f;break}if(l!==ne)return{reset:{placement:ne}}}return{}}}};async function H5(n,i){const{placement:e,platform:o,elements:l}=n,u=await(o.isRTL==null?void 0:o.isRTL(l.floating)),p=Yc(e),f=op(e),m=Lg(e)==="y",y=["left","top"].includes(p)?-1:1,_=u&&m?-1:1,E=np(i,n);let{mainAxis:C,crossAxis:I,alignmentAxis:z}=typeof E=="number"?{mainAxis:E,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...E};return f&&typeof z=="number"&&(I=f==="end"?z*-1:z),m?{x:I*_,y:C*y}:{x:C*y,y:I*_}}const U5=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(i){var e,o;const{x:l,y:u,placement:p,middlewareData:f}=i,m=await H5(i,n);return p===((e=f.offset)==null?void 0:e.placement)&&(o=f.arrow)!=null&&o.alignmentOffset?{}:{x:l+m.x,y:u+m.y,data:{...m,placement:p}}}}},G5=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(i){const{x:e,y:o,placement:l}=i,{mainAxis:u=!0,crossAxis:p=!1,limiter:f={fn:G=>{let{x:H,y:$}=G;return{x:H,y:$}}},...m}=np(n,i),y={x:e,y:o},_=await I1(i,m),E=Lg(Yc(l)),C=uS(E);let I=y[C],z=y[E];if(u){const G=C==="y"?"top":"left",H=C==="y"?"bottom":"right",$=I+_[G],j=I-_[H];I=Rw($,I,j)}if(p){const G=E==="y"?"top":"left",H=E==="y"?"bottom":"right",$=z+_[G],j=z-_[H];z=Rw($,z,j)}const B=f.fn({...i,[C]:I,[E]:z});return{...B,data:{x:B.x-e,y:B.y-o}}}}},q5=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(i){const{placement:e,rects:o,platform:l,elements:u}=i,{apply:p=()=>{},...f}=np(n,i),m=await I1(i,f),y=Yc(e),_=op(e),E=Lg(e)==="y",{width:C,height:I}=o.floating;let z,B;y==="top"||y==="bottom"?(z=y,B=_===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(B=y,z=_==="end"?"top":"bottom");const G=I-m[z],H=C-m[B],$=!i.middlewareData.shift;let j=G,V=H;if(E){const ft=C-m.left-m.right;V=_||$?Zc(H,ft):ft}else{const ft=I-m.top-m.bottom;j=_||$?Zc(G,ft):ft}if($&&!_){const ft=as(m.left,0),ht=as(m.right,0),ct=as(m.top,0),Z=as(m.bottom,0);E?V=C-2*(ft!==0||ht!==0?ft+ht:as(m.left,m.right)):j=I-2*(ct!==0||Z!==0?ct+Z:as(m.top,m.bottom))}await p({...i,availableWidth:V,availableHeight:j});const ot=await l.getDimensions(u.floating);return C!==ot.width||I!==ot.height?{reset:{rects:!0}}:{}}}};function Kc(n){return dS(n)?(n.nodeName||"").toLowerCase():"#document"}function ls(n){var i;return(n==null||(i=n.ownerDocument)==null?void 0:i.defaultView)||window}function $l(n){var i;return(i=(dS(n)?n.ownerDocument:n.document)||window.document)==null?void 0:i.documentElement}function dS(n){return n instanceof Node||n instanceof ls(n).Node}function Yl(n){return n instanceof Element||n instanceof ls(n).Element}function nl(n){return n instanceof HTMLElement||n instanceof ls(n).HTMLElement}function BE(n){return typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ls(n).ShadowRoot}function Rg(n){const{overflow:i,overflowX:e,overflowY:o,display:l}=Hs(n);return/auto|scroll|overlay|hidden|clip/.test(i+o+e)&&!["inline","contents"].includes(l)}function V5(n){return["table","td","th"].includes(Kc(n))}function L1(n){const i=R1(),e=Hs(n);return e.transform!=="none"||e.perspective!=="none"||(e.containerType?e.containerType!=="normal":!1)||!i&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!i&&(e.filter?e.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(e.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(e.contain||"").includes(o))}function pS(n){let i=Vd(n);for(;nl(i)&&!$0(i);){if(L1(i))return i;i=Vd(i)}return null}function R1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function $0(n){return["html","body","#document"].includes(Kc(n))}function Hs(n){return ls(n).getComputedStyle(n)}function ty(n){return Yl(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function Vd(n){if(Kc(n)==="html")return n;const i=n.assignedSlot||n.parentNode||BE(n)&&n.host||$l(n);return BE(i)?i.host:i}function fS(n){const i=Vd(n);return $0(i)?n.ownerDocument?n.ownerDocument.body:n.body:nl(i)&&Rg(i)?i:fS(i)}function lg(n,i,e){var o;i===void 0&&(i=[]),e===void 0&&(e=!0);const l=fS(n),u=l===((o=n.ownerDocument)==null?void 0:o.body),p=ls(l);return u?i.concat(p,p.visualViewport||[],Rg(l)?l:[],p.frameElement&&e?lg(p.frameElement):[]):i.concat(l,lg(l,[],e))}function gS(n){const i=Hs(n);let e=parseFloat(i.width)||0,o=parseFloat(i.height)||0;const l=nl(n),u=l?n.offsetWidth:e,p=l?n.offsetHeight:o,f=c0(e)!==u||c0(o)!==p;return f&&(e=u,o=p),{width:e,height:o,$:f}}function A1(n){return Yl(n)?n:n.contextElement}function Bd(n){const i=A1(n);if(!nl(i))return Xc(1);const e=i.getBoundingClientRect(),{width:o,height:l,$:u}=gS(i);let p=(u?c0(e.width):e.width)/o,f=(u?c0(e.height):e.height)/l;return(!p||!Number.isFinite(p))&&(p=1),(!f||!Number.isFinite(f))&&(f=1),{x:p,y:f}}const W5=Xc(0);function mS(n){const i=ls(n);return!R1()||!i.visualViewport?W5:{x:i.visualViewport.offsetLeft,y:i.visualViewport.offsetTop}}function Z5(n,i,e){return i===void 0&&(i=!1),!e||i&&e!==ls(n)?!1:i}function nh(n,i,e,o){i===void 0&&(i=!1),e===void 0&&(e=!1);const l=n.getBoundingClientRect(),u=A1(n);let p=Xc(1);i&&(o?Yl(o)&&(p=Bd(o)):p=Bd(n));const f=Z5(u,e,o)?mS(u):Xc(0);let m=(l.left+f.x)/p.x,y=(l.top+f.y)/p.y,_=l.width/p.x,E=l.height/p.y;if(u){const C=ls(u),I=o&&Yl(o)?ls(o):o;let z=C.frameElement;for(;z&&o&&I!==C;){const B=Bd(z),G=z.getBoundingClientRect(),H=Hs(z),$=G.left+(z.clientLeft+parseFloat(H.paddingLeft))*B.x,j=G.top+(z.clientTop+parseFloat(H.paddingTop))*B.y;m*=B.x,y*=B.y,_*=B.x,E*=B.y,m+=$,y+=j,z=ls(z).frameElement}}return h0({width:_,height:E,x:m,y})}const X5=[":popover-open",":modal"];function vS(n){let i=!1,e=0,o=0;function l(u){try{i=i||n.matches(u)}catch{}}if(X5.forEach(u=>{l(u)}),i){const u=pS(n);if(u){const p=u.getBoundingClientRect();e=p.x,o=p.y}}return[i,e,o]}function Y5(n){let{elements:i,rect:e,offsetParent:o,strategy:l}=n;const u=$l(o),[p]=i?vS(i.floating):[!1];if(o===u||p)return e;let f={scrollLeft:0,scrollTop:0},m=Xc(1);const y=Xc(0),_=nl(o);if((_||!_&&l!=="fixed")&&((Kc(o)!=="body"||Rg(u))&&(f=ty(o)),nl(o))){const E=nh(o);m=Bd(o),y.x=E.x+o.clientLeft,y.y=E.y+o.clientTop}return{width:e.width*m.x,height:e.height*m.y,x:e.x*m.x-f.scrollLeft*m.x+y.x,y:e.y*m.y-f.scrollTop*m.y+y.y}}function K5(n){return Array.from(n.getClientRects())}function yS(n){return nh($l(n)).left+ty(n).scrollLeft}function J5(n){const i=$l(n),e=ty(n),o=n.ownerDocument.body,l=as(i.scrollWidth,i.clientWidth,o.scrollWidth,o.clientWidth),u=as(i.scrollHeight,i.clientHeight,o.scrollHeight,o.clientHeight);let p=-e.scrollLeft+yS(n);const f=-e.scrollTop;return Hs(o).direction==="rtl"&&(p+=as(i.clientWidth,o.clientWidth)-l),{width:l,height:u,x:p,y:f}}function Q5(n,i){const e=ls(n),o=$l(n),l=e.visualViewport;let u=o.clientWidth,p=o.clientHeight,f=0,m=0;if(l){u=l.width,p=l.height;const y=R1();(!y||y&&i==="fixed")&&(f=l.offsetLeft,m=l.offsetTop)}return{width:u,height:p,x:f,y:m}}function $5(n,i){const e=nh(n,!0,i==="fixed"),o=e.top+n.clientTop,l=e.left+n.clientLeft,u=nl(n)?Bd(n):Xc(1),p=n.clientWidth*u.x,f=n.clientHeight*u.y,m=l*u.x,y=o*u.y;return{width:p,height:f,x:m,y}}function jE(n,i,e){let o;if(i==="viewport")o=Q5(n,e);else if(i==="document")o=J5($l(n));else if(Yl(i))o=$5(i,e);else{const l=mS(n);o={...i,x:i.x-l.x,y:i.y-l.y}}return h0(o)}function bS(n,i){const e=Vd(n);return e===i||!Yl(e)||$0(e)?!1:Hs(e).position==="fixed"||bS(e,i)}function tA(n,i){const e=i.get(n);if(e)return e;let o=lg(n,[],!1).filter(f=>Yl(f)&&Kc(f)!=="body"),l=null;const u=Hs(n).position==="fixed";let p=u?Vd(n):n;for(;Yl(p)&&!$0(p);){const f=Hs(p),m=L1(p);!m&&f.position==="fixed"&&(l=null),(u?!m&&!l:!m&&f.position==="static"&&!!l&&["absolute","fixed"].includes(l.position)||Rg(p)&&!m&&bS(n,p))?o=o.filter(_=>_!==p):l=f,p=Vd(p)}return i.set(n,o),o}function eA(n){let{element:i,boundary:e,rootBoundary:o,strategy:l}=n;const p=[...e==="clippingAncestors"?tA(i,this._c):[].concat(e),o],f=p[0],m=p.reduce((y,_)=>{const E=jE(i,_,l);return y.top=as(E.top,y.top),y.right=Zc(E.right,y.right),y.bottom=Zc(E.bottom,y.bottom),y.left=as(E.left,y.left),y},jE(i,f,l));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function rA(n){const{width:i,height:e}=gS(n);return{width:i,height:e}}function iA(n,i,e,o){const l=nl(i),u=$l(i),p=e==="fixed",f=nh(n,!0,p,i);let m={scrollLeft:0,scrollTop:0};const y=Xc(0);if(l||!l&&!p)if((Kc(i)!=="body"||Rg(u))&&(m=ty(i)),l){const B=nh(i,!0,p,i);y.x=B.x+i.clientLeft,y.y=B.y+i.clientTop}else u&&(y.x=yS(u));let _=f.left+m.scrollLeft-y.x,E=f.top+m.scrollTop-y.y;const[C,I,z]=vS(o);return C&&(_+=I,E+=z,l&&(_+=i.clientLeft,E+=i.clientTop)),{x:_,y:E,width:f.width,height:f.height}}function HE(n,i){return!nl(n)||Hs(n).position==="fixed"?null:i?i(n):n.offsetParent}function wS(n,i){const e=ls(n);if(!nl(n))return e;let o=HE(n,i);for(;o&&V5(o)&&Hs(o).position==="static";)o=HE(o,i);return o&&(Kc(o)==="html"||Kc(o)==="body"&&Hs(o).position==="static"&&!L1(o))?e:o||pS(n)||e}const nA=async function(n){const i=this.getOffsetParent||wS,e=this.getDimensions;return{reference:iA(n.reference,await i(n.floating),n.strategy,n.floating),floating:{x:0,y:0,...await e(n.floating)}}};function oA(n){return Hs(n).direction==="rtl"}const Vv={convertOffsetParentRelativeRectToViewportRelativeRect:Y5,getDocumentElement:$l,getClippingRect:eA,getOffsetParent:wS,getElementRects:nA,getClientRects:K5,getDimensions:rA,getScale:Bd,isElement:Yl,isRTL:oA};function sA(n,i){let e=null,o;const l=$l(n);function u(){var f;clearTimeout(o),(f=e)==null||f.disconnect(),e=null}function p(f,m){f===void 0&&(f=!1),m===void 0&&(m=1),u();const{left:y,top:_,width:E,height:C}=n.getBoundingClientRect();if(f||i(),!E||!C)return;const I=bv(_),z=bv(l.clientWidth-(y+E)),B=bv(l.clientHeight-(_+C)),G=bv(y),$={rootMargin:-I+"px "+-z+"px "+-B+"px "+-G+"px",threshold:as(0,Zc(1,m))||1};let j=!0;function V(ot){const ft=ot[0].intersectionRatio;if(ft!==m){if(!j)return p();ft?p(!1,ft):o=setTimeout(()=>{p(!1,1e-7)},100)}j=!1}try{e=new IntersectionObserver(V,{...$,root:l.ownerDocument})}catch{e=new IntersectionObserver(V,$)}e.observe(n)}return p(!0),u}function aA(n,i,e,o){o===void 0&&(o={});const{ancestorScroll:l=!0,ancestorResize:u=!0,elementResize:p=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:m=!1}=o,y=A1(n),_=l||u?[...y?lg(y):[],...lg(i)]:[];_.forEach(H=>{l&&H.addEventListener("scroll",e,{passive:!0}),u&&H.addEventListener("resize",e)});const E=y&&f?sA(y,e):null;let C=-1,I=null;p&&(I=new ResizeObserver(H=>{let[$]=H;$&&$.target===y&&I&&(I.unobserve(i),cancelAnimationFrame(C),C=requestAnimationFrame(()=>{var j;(j=I)==null||j.observe(i)})),e()}),y&&!m&&I.observe(y),I.observe(i));let z,B=m?nh(n):null;m&&G();function G(){const H=nh(n);B&&(H.x!==B.x||H.y!==B.y||H.width!==B.width||H.height!==B.height)&&e(),B=H,z=requestAnimationFrame(G)}return e(),()=>{var H;_.forEach($=>{l&&$.removeEventListener("scroll",e),u&&$.removeEventListener("resize",e)}),E==null||E(),(H=I)==null||H.disconnect(),I=null,m&&cancelAnimationFrame(z)}}const lA=G5,cA=j5,UE=q5,uA=B5,hA=(n,i,e)=>{const o=new Map,l={platform:Vv,...e},u={...l.platform,_c:o};return F5(n,i,{...l,platform:u})};function dA(n){return pA(n)}function Jb(n){return n.assignedSlot?n.assignedSlot:n.parentNode instanceof ShadowRoot?n.parentNode.host:n.parentNode}function pA(n){for(let i=n;i;i=Jb(i))if(i instanceof Element&&getComputedStyle(i).display==="none")return null;for(let i=Jb(n);i;i=Jb(i)){if(!(i instanceof Element))continue;const e=getComputedStyle(i);if(e.display!=="contents"&&(e.position!=="static"||e.filter!=="none"||i.tagName==="BODY"))return i}return null}function fA(n){return n!==null&&typeof n=="object"&&"getBoundingClientRect"in n}var Si=class extends To{constructor(){super(...arguments),this.active=!1,this.placement="top",this.strategy="absolute",this.distance=0,this.skidding=0,this.arrow=!1,this.arrowPlacement="anchor",this.arrowPadding=10,this.flip=!1,this.flipFallbackPlacements="",this.flipFallbackStrategy="best-fit",this.flipPadding=0,this.shift=!1,this.shiftPadding=0,this.autoSizePadding=0,this.hoverBridge=!1,this.updateHoverBridge=()=>{if(this.hoverBridge&&this.anchorEl){const n=this.anchorEl.getBoundingClientRect(),i=this.popup.getBoundingClientRect(),e=this.placement.includes("top")||this.placement.includes("bottom");let o=0,l=0,u=0,p=0,f=0,m=0,y=0,_=0;e?n.top<i.top?(o=n.left,l=n.bottom,u=n.right,p=n.bottom,f=i.left,m=i.top,y=i.right,_=i.top):(o=i.left,l=i.bottom,u=i.right,p=i.bottom,f=n.left,m=n.top,y=n.right,_=n.top):n.left<i.left?(o=n.right,l=n.top,u=i.left,p=i.top,f=n.right,m=n.bottom,y=i.left,_=i.bottom):(o=i.right,l=i.top,u=n.left,p=n.top,f=i.right,m=i.bottom,y=n.left,_=n.bottom),this.style.setProperty("--hover-bridge-top-left-x",`${o}px`),this.style.setProperty("--hover-bridge-top-left-y",`${l}px`),this.style.setProperty("--hover-bridge-top-right-x",`${u}px`),this.style.setProperty("--hover-bridge-top-right-y",`${p}px`),this.style.setProperty("--hover-bridge-bottom-left-x",`${f}px`),this.style.setProperty("--hover-bridge-bottom-left-y",`${m}px`),this.style.setProperty("--hover-bridge-bottom-right-x",`${y}px`),this.style.setProperty("--hover-bridge-bottom-right-y",`${_}px`)}}}async connectedCallback(){super.connectedCallback(),await this.updateComplete,this.start()}disconnectedCallback(){super.disconnectedCallback(),this.stop()}async updated(n){super.updated(n),n.has("active")&&(this.active?this.start():this.stop()),n.has("anchor")&&this.handleAnchorChange(),this.active&&(await this.updateComplete,this.reposition())}async handleAnchorChange(){if(await this.stop(),this.anchor&&typeof this.anchor=="string"){const n=this.getRootNode();this.anchorEl=n.getElementById(this.anchor)}else this.anchor instanceof Element||fA(this.anchor)?this.anchorEl=this.anchor:this.anchorEl=this.querySelector('[slot="anchor"]');this.anchorEl instanceof HTMLSlotElement&&(this.anchorEl=this.anchorEl.assignedElements({flatten:!0})[0]),this.anchorEl&&this.start()}start(){this.anchorEl&&(this.cleanup=aA(this.anchorEl,this.popup,()=>{this.reposition()}))}async stop(){return new Promise(n=>{this.cleanup?(this.cleanup(),this.cleanup=void 0,this.removeAttribute("data-current-placement"),this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height"),requestAnimationFrame(()=>n())):n()})}reposition(){if(!this.active||!this.anchorEl)return;const n=[U5({mainAxis:this.distance,crossAxis:this.skidding})];this.sync?n.push(UE({apply:({rects:e})=>{const o=this.sync==="width"||this.sync==="both",l=this.sync==="height"||this.sync==="both";this.popup.style.width=o?`${e.reference.width}px`:"",this.popup.style.height=l?`${e.reference.height}px`:""}})):(this.popup.style.width="",this.popup.style.height=""),this.flip&&n.push(cA({boundary:this.flipBoundary,fallbackPlacements:this.flipFallbackPlacements,fallbackStrategy:this.flipFallbackStrategy==="best-fit"?"bestFit":"initialPlacement",padding:this.flipPadding})),this.shift&&n.push(lA({boundary:this.shiftBoundary,padding:this.shiftPadding})),this.autoSize?n.push(UE({boundary:this.autoSizeBoundary,padding:this.autoSizePadding,apply:({availableWidth:e,availableHeight:o})=>{this.autoSize==="vertical"||this.autoSize==="both"?this.style.setProperty("--auto-size-available-height",`${o}px`):this.style.removeProperty("--auto-size-available-height"),this.autoSize==="horizontal"||this.autoSize==="both"?this.style.setProperty("--auto-size-available-width",`${e}px`):this.style.removeProperty("--auto-size-available-width")}})):(this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height")),this.arrow&&n.push(uA({element:this.arrowEl,padding:this.arrowPadding}));const i=this.strategy==="absolute"?e=>Vv.getOffsetParent(e,dA):Vv.getOffsetParent;hA(this.anchorEl,this.popup,{placement:this.placement,middleware:n,strategy:this.strategy,platform:J0(iu({},Vv),{getOffsetParent:i})}).then(({x:e,y:o,middlewareData:l,placement:u})=>{const p=getComputedStyle(this).direction==="rtl",f={top:"bottom",right:"left",bottom:"top",left:"right"}[u.split("-")[0]];if(this.setAttribute("data-current-placement",u),Object.assign(this.popup.style,{left:`${e}px`,top:`${o}px`}),this.arrow){const m=l.arrow.x,y=l.arrow.y;let _="",E="",C="",I="";if(this.arrowPlacement==="start"){const z=typeof m=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";_=typeof y=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"",E=p?z:"",I=p?"":z}else if(this.arrowPlacement==="end"){const z=typeof m=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";E=p?"":z,I=p?z:"",C=typeof y=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:""}else this.arrowPlacement==="center"?(I=typeof m=="number"?"calc(50% - var(--arrow-size-diagonal))":"",_=typeof y=="number"?"calc(50% - var(--arrow-size-diagonal))":""):(I=typeof m=="number"?`${m}px`:"",_=typeof y=="number"?`${y}px`:"");Object.assign(this.arrowEl.style,{top:_,right:E,bottom:C,left:I,[f]:"calc(var(--arrow-size-diagonal) * -1)"})}}),requestAnimationFrame(()=>this.updateHoverBridge()),this.emit("sl-reposition")}render(){return Yn`
      <slot name="anchor" @slotchange=${this.handleAnchorChange}></slot>

      <span
        part="hover-bridge"
        class=${Xl({"popup-hover-bridge":!0,"popup-hover-bridge--visible":this.hoverBridge&&this.active})}
      ></span>

      <div
        part="popup"
        class=${Xl({popup:!0,"popup--active":this.active,"popup--fixed":this.strategy==="fixed","popup--has-arrow":this.arrow})}
      >
        <slot></slot>
        ${this.arrow?Yn`<div part="arrow" class="popup__arrow" role="presentation"></div>`:""}
      </div>
    `}};Si.styles=I5;Yt([Eo(".popup")],Si.prototype,"popup",2);Yt([Eo(".popup__arrow")],Si.prototype,"arrowEl",2);Yt([me()],Si.prototype,"anchor",2);Yt([me({type:Boolean,reflect:!0})],Si.prototype,"active",2);Yt([me({reflect:!0})],Si.prototype,"placement",2);Yt([me({reflect:!0})],Si.prototype,"strategy",2);Yt([me({type:Number})],Si.prototype,"distance",2);Yt([me({type:Number})],Si.prototype,"skidding",2);Yt([me({type:Boolean})],Si.prototype,"arrow",2);Yt([me({attribute:"arrow-placement"})],Si.prototype,"arrowPlacement",2);Yt([me({attribute:"arrow-padding",type:Number})],Si.prototype,"arrowPadding",2);Yt([me({type:Boolean})],Si.prototype,"flip",2);Yt([me({attribute:"flip-fallback-placements",converter:{fromAttribute:n=>n.split(" ").map(i=>i.trim()).filter(i=>i!==""),toAttribute:n=>n.join(" ")}})],Si.prototype,"flipFallbackPlacements",2);Yt([me({attribute:"flip-fallback-strategy"})],Si.prototype,"flipFallbackStrategy",2);Yt([me({type:Object})],Si.prototype,"flipBoundary",2);Yt([me({attribute:"flip-padding",type:Number})],Si.prototype,"flipPadding",2);Yt([me({type:Boolean})],Si.prototype,"shift",2);Yt([me({type:Object})],Si.prototype,"shiftBoundary",2);Yt([me({attribute:"shift-padding",type:Number})],Si.prototype,"shiftPadding",2);Yt([me({attribute:"auto-size"})],Si.prototype,"autoSize",2);Yt([me()],Si.prototype,"sync",2);Yt([me({type:Object})],Si.prototype,"autoSizeBoundary",2);Yt([me({attribute:"auto-size-padding",type:Number})],Si.prototype,"autoSizePadding",2);Yt([me({attribute:"hover-bridge",type:Boolean})],Si.prototype,"hoverBridge",2);var xS=new Map,gA=new WeakMap;function mA(n){return n??{keyframes:[],options:{duration:0}}}function GE(n,i){return i.toLowerCase()==="rtl"?{keyframes:n.rtlKeyframes||n.keyframes,options:n.options}:n}function _S(n,i){xS.set(n,mA(i))}function qE(n,i,e){const o=gA.get(n);if(o!=null&&o[i])return GE(o[i],e.dir);const l=xS.get(i);return l?GE(l,e.dir):{keyframes:[],options:{duration:0}}}function VE(n,i){return new Promise(e=>{function o(l){l.target===n&&(n.removeEventListener(i,o),e())}n.addEventListener(i,o)})}function WE(n,i,e){return new Promise(o=>{if((e==null?void 0:e.duration)===1/0)throw new Error("Promise-based animations must be finite.");const l=n.animate(i,J0(iu({},e),{duration:vA()?0:e.duration}));l.addEventListener("cancel",o,{once:!0}),l.addEventListener("finish",o,{once:!0})})}function vA(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches}function ZE(n){return Promise.all(n.getAnimations().map(i=>new Promise(e=>{i.cancel(),requestAnimationFrame(e)})))}var So=class extends To{constructor(){super(...arguments),this.localize=new ip(this),this.open=!1,this.placement="bottom-start",this.disabled=!1,this.stayOpenOnSelect=!1,this.distance=0,this.skidding=0,this.hoist=!1,this.handleKeyDown=n=>{this.open&&n.key==="Escape"&&(n.stopPropagation(),this.hide(),this.focusOnTrigger())},this.handleDocumentKeyDown=n=>{var i;if(n.key==="Escape"&&this.open&&!this.closeWatcher){n.stopPropagation(),this.focusOnTrigger(),this.hide();return}if(n.key==="Tab"){if(this.open&&((i=document.activeElement)==null?void 0:i.tagName.toLowerCase())==="sl-menu-item"){n.preventDefault(),this.hide(),this.focusOnTrigger();return}setTimeout(()=>{var e,o,l;const u=((e=this.containingElement)==null?void 0:e.getRootNode())instanceof ShadowRoot?(l=(o=document.activeElement)==null?void 0:o.shadowRoot)==null?void 0:l.activeElement:document.activeElement;(!this.containingElement||(u==null?void 0:u.closest(this.containingElement.tagName.toLowerCase()))!==this.containingElement)&&this.hide()})}},this.handleDocumentMouseDown=n=>{const i=n.composedPath();this.containingElement&&!i.includes(this.containingElement)&&this.hide()},this.handlePanelSelect=n=>{const i=n.target;!this.stayOpenOnSelect&&i.tagName.toLowerCase()==="sl-menu"&&(this.hide(),this.focusOnTrigger())}}connectedCallback(){super.connectedCallback(),this.containingElement||(this.containingElement=this)}firstUpdated(){this.panel.hidden=!this.open,this.open&&(this.addOpenListeners(),this.popup.active=!0)}disconnectedCallback(){super.disconnectedCallback(),this.removeOpenListeners(),this.hide()}focusOnTrigger(){const n=this.trigger.assignedElements({flatten:!0})[0];typeof(n==null?void 0:n.focus)=="function"&&n.focus()}getMenu(){return this.panel.assignedElements({flatten:!0}).find(n=>n.tagName.toLowerCase()==="sl-menu")}handleTriggerClick(){this.open?this.hide():(this.show(),this.focusOnTrigger())}async handleTriggerKeyDown(n){if([" ","Enter"].includes(n.key)){n.preventDefault(),this.handleTriggerClick();return}const i=this.getMenu();if(i){const e=i.getAllItems(),o=e[0],l=e[e.length-1];["ArrowDown","ArrowUp","Home","End"].includes(n.key)&&(n.preventDefault(),this.open||(this.show(),await this.updateComplete),e.length>0&&this.updateComplete.then(()=>{(n.key==="ArrowDown"||n.key==="Home")&&(i.setCurrentItem(o),o.focus()),(n.key==="ArrowUp"||n.key==="End")&&(i.setCurrentItem(l),l.focus())}))}}handleTriggerKeyUp(n){n.key===" "&&n.preventDefault()}handleTriggerSlotChange(){this.updateAccessibleTrigger()}updateAccessibleTrigger(){const i=this.trigger.assignedElements({flatten:!0}).find(o=>C5(o).start);let e;if(i){switch(i.tagName.toLowerCase()){case"sl-button":case"sl-icon-button":e=i.button;break;default:e=i}e.setAttribute("aria-haspopup","true"),e.setAttribute("aria-expanded",this.open?"true":"false")}}async show(){if(!this.open)return this.open=!0,VE(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,VE(this,"sl-after-hide")}reposition(){this.popup.reposition()}addOpenListeners(){var n;this.panel.addEventListener("sl-select",this.handlePanelSelect),"CloseWatcher"in window?((n=this.closeWatcher)==null||n.destroy(),this.closeWatcher=new CloseWatcher,this.closeWatcher.onclose=()=>{this.hide(),this.focusOnTrigger()}):this.panel.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("mousedown",this.handleDocumentMouseDown)}removeOpenListeners(){var n;this.panel&&(this.panel.removeEventListener("sl-select",this.handlePanelSelect),this.panel.removeEventListener("keydown",this.handleKeyDown)),document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("mousedown",this.handleDocumentMouseDown),(n=this.closeWatcher)==null||n.destroy()}async handleOpenChange(){if(this.disabled){this.open=!1;return}if(this.updateAccessibleTrigger(),this.open){this.emit("sl-show"),this.addOpenListeners(),await ZE(this),this.panel.hidden=!1,this.popup.active=!0;const{keyframes:n,options:i}=qE(this,"dropdown.show",{dir:this.localize.dir()});await WE(this.popup.popup,n,i),this.emit("sl-after-show")}else{this.emit("sl-hide"),this.removeOpenListeners(),await ZE(this);const{keyframes:n,options:i}=qE(this,"dropdown.hide",{dir:this.localize.dir()});await WE(this.popup.popup,n,i),this.panel.hidden=!0,this.popup.active=!1,this.emit("sl-after-hide")}}render(){return Yn`
      <sl-popup
        part="base"
        id="dropdown"
        placement=${this.placement}
        distance=${this.distance}
        skidding=${this.skidding}
        strategy=${this.hoist?"fixed":"absolute"}
        flip
        shift
        auto-size="vertical"
        auto-size-padding="10"
        class=${Xl({dropdown:!0,"dropdown--open":this.open})}
      >
        <slot
          name="trigger"
          slot="anchor"
          part="trigger"
          class="dropdown__trigger"
          @click=${this.handleTriggerClick}
          @keydown=${this.handleTriggerKeyDown}
          @keyup=${this.handleTriggerKeyUp}
          @slotchange=${this.handleTriggerSlotChange}
        ></slot>

        <div aria-hidden=${this.open?"false":"true"} aria-labelledby="dropdown">
          <slot part="panel" class="dropdown__panel"></slot>
        </div>
      </sl-popup>
    `}};So.styles=k5;So.dependencies={"sl-popup":Si};Yt([Eo(".dropdown")],So.prototype,"popup",2);Yt([Eo(".dropdown__trigger")],So.prototype,"trigger",2);Yt([Eo(".dropdown__panel")],So.prototype,"panel",2);Yt([me({type:Boolean,reflect:!0})],So.prototype,"open",2);Yt([me({reflect:!0})],So.prototype,"placement",2);Yt([me({type:Boolean,reflect:!0})],So.prototype,"disabled",2);Yt([me({attribute:"stay-open-on-select",type:Boolean,reflect:!0})],So.prototype,"stayOpenOnSelect",2);Yt([me({attribute:!1})],So.prototype,"containingElement",2);Yt([me({type:Number})],So.prototype,"distance",2);Yt([me({type:Number})],So.prototype,"skidding",2);Yt([me({type:Boolean})],So.prototype,"hoist",2);Yt([Vs("open",{waitUntilFirstUpdate:!0})],So.prototype,"handleOpenChange",1);_S("dropdown.show",{keyframes:[{opacity:0,scale:.9},{opacity:1,scale:1}],options:{duration:100,easing:"ease"}});_S("dropdown.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.9}],options:{duration:100,easing:"ease"}});So.define("sl-dropdown");var yA=qs`
  ${Ca}

  :host {
    display: block;
    position: relative;
    background: var(--sl-panel-background-color);
    border: solid var(--sl-panel-border-width) var(--sl-panel-border-color);
    border-radius: var(--sl-border-radius-medium);
    padding: var(--sl-spacing-x-small) 0;
    overflow: auto;
    overscroll-behavior: none;
  }

  ::slotted(sl-divider) {
    --spacing: var(--sl-spacing-x-small);
  }
`,z1=class extends To{connectedCallback(){super.connectedCallback(),this.setAttribute("role","menu")}handleClick(n){const i=["menuitem","menuitemcheckbox"],e=n.composedPath().find(l=>{var u;return i.includes(((u=l==null?void 0:l.getAttribute)==null?void 0:u.call(l,"role"))||"")});if(!e)return;const o=e;o.type==="checkbox"&&(o.checked=!o.checked),this.emit("sl-select",{detail:{item:o}})}handleKeyDown(n){if(n.key==="Enter"||n.key===" "){const i=this.getCurrentItem();n.preventDefault(),n.stopPropagation(),i==null||i.click()}else if(["ArrowDown","ArrowUp","Home","End"].includes(n.key)){const i=this.getAllItems(),e=this.getCurrentItem();let o=e?i.indexOf(e):0;i.length>0&&(n.preventDefault(),n.stopPropagation(),n.key==="ArrowDown"?o++:n.key==="ArrowUp"?o--:n.key==="Home"?o=0:n.key==="End"&&(o=i.length-1),o<0&&(o=i.length-1),o>i.length-1&&(o=0),this.setCurrentItem(i[o]),i[o].focus())}}handleMouseDown(n){const i=n.target;this.isMenuItem(i)&&this.setCurrentItem(i)}handleSlotChange(){const n=this.getAllItems();n.length>0&&this.setCurrentItem(n[0])}isMenuItem(n){var i;return n.tagName.toLowerCase()==="sl-menu-item"||["menuitem","menuitemcheckbox","menuitemradio"].includes((i=n.getAttribute("role"))!=null?i:"")}getAllItems(){return[...this.defaultSlot.assignedElements({flatten:!0})].filter(n=>!(n.inert||!this.isMenuItem(n)))}getCurrentItem(){return this.getAllItems().find(n=>n.getAttribute("tabindex")==="0")}setCurrentItem(n){this.getAllItems().forEach(e=>{e.setAttribute("tabindex",e===n?"0":"-1")})}render(){return Yn`
      <slot
        @slotchange=${this.handleSlotChange}
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
        @mousedown=${this.handleMouseDown}
      ></slot>
    `}};z1.styles=yA;Yt([Eo("slot")],z1.prototype,"defaultSlot",2);z1.define("sl-menu");var bA=qs`
  ${Ca}

  :host {
    --submenu-offset: -2px;

    display: block;
  }

  :host([inert]) {
    display: none;
  }

  .menu-item {
    position: relative;
    display: flex;
    align-items: stretch;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    line-height: var(--sl-line-height-normal);
    letter-spacing: var(--sl-letter-spacing-normal);
    color: var(--sl-color-neutral-700);
    padding: var(--sl-spacing-2x-small) var(--sl-spacing-2x-small);
    transition: var(--sl-transition-fast) fill;
    user-select: none;
    -webkit-user-select: none;
    white-space: nowrap;
    cursor: pointer;
  }

  .menu-item.menu-item--disabled {
    outline: none;
    opacity: 0.5;
    cursor: not-allowed;
  }

  .menu-item.menu-item--loading {
    outline: none;
    cursor: wait;
  }

  .menu-item.menu-item--loading *:not(sl-spinner) {
    opacity: 0.5;
  }

  .menu-item--loading sl-spinner {
    --indicator-color: currentColor;
    --track-width: 1px;
    position: absolute;
    font-size: 0.75em;
    top: calc(50% - 0.5em);
    left: 0.65rem;
    opacity: 1;
  }

  .menu-item .menu-item__label {
    flex: 1 1 auto;
    display: inline-block;
    text-overflow: ellipsis;
    overflow: hidden;
  }

  .menu-item .menu-item__prefix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .menu-item .menu-item__prefix::slotted(*) {
    margin-inline-end: var(--sl-spacing-x-small);
  }

  .menu-item .menu-item__suffix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .menu-item .menu-item__suffix::slotted(*) {
    margin-inline-start: var(--sl-spacing-x-small);
  }

  /* Safe triangle */
  .menu-item--submenu-expanded::after {
    content: '';
    position: fixed;
    z-index: calc(var(--sl-z-index-dropdown) - 1);
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    clip-path: polygon(
      var(--safe-triangle-cursor-x, 0) var(--safe-triangle-cursor-y, 0),
      var(--safe-triangle-submenu-start-x, 0) var(--safe-triangle-submenu-start-y, 0),
      var(--safe-triangle-submenu-end-x, 0) var(--safe-triangle-submenu-end-y, 0)
    );
  }

  :host(:focus-visible) {
    outline: none;
  }

  :host(:hover:not([aria-disabled='true'], :focus-visible)) .menu-item,
  .menu-item--submenu-expanded {
    background-color: var(--sl-color-neutral-100);
    color: var(--sl-color-neutral-1000);
  }

  :host(:focus-visible) .menu-item {
    outline: none;
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
    opacity: 1;
  }

  .menu-item .menu-item__check,
  .menu-item .menu-item__chevron {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 1.5em;
    visibility: hidden;
  }

  .menu-item--checked .menu-item__check,
  .menu-item--has-submenu .menu-item__chevron {
    visibility: visible;
  }

  /* Add elevation and z-index to submenus */
  sl-popup::part(popup) {
    box-shadow: var(--sl-shadow-large);
    z-index: var(--sl-z-index-dropdown);
    margin-left: var(--submenu-offset);
  }

  .menu-item--rtl sl-popup::part(popup) {
    margin-left: calc(-1 * var(--submenu-offset));
  }

  @media (forced-colors: active) {
    :host(:hover:not([aria-disabled='true'])) .menu-item,
    :host(:focus-visible) .menu-item {
      outline: dashed 1px SelectedItem;
      outline-offset: -1px;
    }
  }
`;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Zf=(n,i)=>{var o;const e=n._$AN;if(e===void 0)return!1;for(const l of e)(o=l._$AO)==null||o.call(l,i,!1),Zf(l,i);return!0},d0=n=>{let i,e;do{if((i=n._$AM)===void 0)break;e=i._$AN,e.delete(n),n=i}while((e==null?void 0:e.size)===0)},kS=n=>{for(let i;i=n._$AM;n=i){let e=i._$AN;if(e===void 0)i._$AN=e=new Set;else if(e.has(n))break;e.add(n),_A(i)}};function wA(n){this._$AN!==void 0?(d0(this),this._$AM=n,kS(this)):this._$AM=n}function xA(n,i=!1,e=0){const o=this._$AH,l=this._$AN;if(l!==void 0&&l.size!==0)if(i)if(Array.isArray(o))for(let u=e;u<o.length;u++)Zf(o[u],!1),d0(o[u]);else o!=null&&(Zf(o,!1),d0(o));else Zf(this,n)}const _A=n=>{n.type==oS.CHILD&&(n._$AP??(n._$AP=xA),n._$AQ??(n._$AQ=wA))};class kA extends aS{constructor(){super(...arguments),this._$AN=void 0}_$AT(i,e,o){super._$AT(i,e,o),kS(this),this.isConnected=i._$AU}_$AO(i,e=!0){var o,l;i!==this.isConnected&&(this.isConnected=i,i?(o=this.reconnected)==null||o.call(this):(l=this.disconnected)==null||l.call(this)),e&&(Zf(this,i),d0(this))}setValue(i){if(w5(this._$Ct))this._$Ct._$AI(i,this);else{const e=[...this._$Ct._$AH];e[this._$Ci]=i,this._$Ct._$AI(e,this,0)}}disconnected(){}reconnected(){}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const EA=()=>new TA;class TA{}const Qb=new WeakMap,SA=sS(class extends kA{render(n){return on}update(n,[i]){var o;const e=i!==this.Y;return e&&this.Y!==void 0&&this.rt(void 0),(e||this.lt!==this.ct)&&(this.Y=i,this.ht=(o=n.options)==null?void 0:o.host,this.rt(this.ct=n.element)),on}rt(n){if(typeof this.Y=="function"){const i=this.ht??globalThis;let e=Qb.get(i);e===void 0&&(e=new WeakMap,Qb.set(i,e)),e.get(this.Y)!==void 0&&this.Y.call(this.ht,void 0),e.set(this.Y,n),n!==void 0&&this.Y.call(this.ht,n)}else this.Y.value=n}get lt(){var n,i;return typeof this.Y=="function"?(n=Qb.get(this.ht??globalThis))==null?void 0:n.get(this.Y):(i=this.Y)==null?void 0:i.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});var CA=class{constructor(n,i,e){this.popupRef=EA(),this.enableSubmenuTimer=-1,this.isConnected=!1,this.isPopupConnected=!1,this.skidding=0,this.submenuOpenDelay=100,this.handleMouseMove=o=>{this.host.style.setProperty("--safe-triangle-cursor-x",`${o.clientX}px`),this.host.style.setProperty("--safe-triangle-cursor-y",`${o.clientY}px`)},this.handleMouseOver=()=>{this.hasSlotController.test("submenu")&&this.enableSubmenu()},this.handleKeyDown=o=>{switch(o.key){case"Escape":case"Tab":this.disableSubmenu();break;case"ArrowLeft":o.target!==this.host&&(o.preventDefault(),o.stopPropagation(),this.host.focus(),this.disableSubmenu());break;case"ArrowRight":case"Enter":case" ":this.handleSubmenuEntry(o);break}},this.handleClick=o=>{var l;o.target===this.host?(o.preventDefault(),o.stopPropagation()):o.target instanceof Element&&(o.target.tagName==="sl-menu-item"||(l=o.target.role)!=null&&l.startsWith("menuitem"))&&this.disableSubmenu()},this.handleFocusOut=o=>{o.relatedTarget&&o.relatedTarget instanceof Element&&this.host.contains(o.relatedTarget)||this.disableSubmenu()},this.handlePopupMouseover=o=>{o.stopPropagation()},this.handlePopupReposition=()=>{const o=this.host.renderRoot.querySelector("slot[name='submenu']"),l=o==null?void 0:o.assignedElements({flatten:!0}).filter(_=>_.localName==="sl-menu")[0],u=this.localize.dir()==="rtl";if(!l)return;const{left:p,top:f,width:m,height:y}=l.getBoundingClientRect();this.host.style.setProperty("--safe-triangle-submenu-start-x",`${u?p+m:p}px`),this.host.style.setProperty("--safe-triangle-submenu-start-y",`${f}px`),this.host.style.setProperty("--safe-triangle-submenu-end-x",`${u?p+m:p}px`),this.host.style.setProperty("--safe-triangle-submenu-end-y",`${f+y}px`)},(this.host=n).addController(this),this.hasSlotController=i,this.localize=e}hostConnected(){this.hasSlotController.test("submenu")&&!this.host.disabled&&this.addListeners()}hostDisconnected(){this.removeListeners()}hostUpdated(){this.hasSlotController.test("submenu")&&!this.host.disabled?(this.addListeners(),this.updateSkidding()):this.removeListeners()}addListeners(){this.isConnected||(this.host.addEventListener("mousemove",this.handleMouseMove),this.host.addEventListener("mouseover",this.handleMouseOver),this.host.addEventListener("keydown",this.handleKeyDown),this.host.addEventListener("click",this.handleClick),this.host.addEventListener("focusout",this.handleFocusOut),this.isConnected=!0),this.isPopupConnected||this.popupRef.value&&(this.popupRef.value.addEventListener("mouseover",this.handlePopupMouseover),this.popupRef.value.addEventListener("sl-reposition",this.handlePopupReposition),this.isPopupConnected=!0)}removeListeners(){this.isConnected&&(this.host.removeEventListener("mousemove",this.handleMouseMove),this.host.removeEventListener("mouseover",this.handleMouseOver),this.host.removeEventListener("keydown",this.handleKeyDown),this.host.removeEventListener("click",this.handleClick),this.host.removeEventListener("focusout",this.handleFocusOut),this.isConnected=!1),this.isPopupConnected&&this.popupRef.value&&(this.popupRef.value.removeEventListener("mouseover",this.handlePopupMouseover),this.popupRef.value.removeEventListener("sl-reposition",this.handlePopupReposition),this.isPopupConnected=!1)}handleSubmenuEntry(n){const i=this.host.renderRoot.querySelector("slot[name='submenu']");if(!i){console.error("Cannot activate a submenu if no corresponding menuitem can be found.",this);return}let e=null;for(const o of i.assignedElements())if(e=o.querySelectorAll("sl-menu-item, [role^='menuitem']"),e.length!==0)break;if(!(!e||e.length===0)){e[0].setAttribute("tabindex","0");for(let o=1;o!==e.length;++o)e[o].setAttribute("tabindex","-1");this.popupRef.value&&(n.preventDefault(),n.stopPropagation(),this.popupRef.value.active?e[0]instanceof HTMLElement&&e[0].focus():(this.enableSubmenu(!1),this.host.updateComplete.then(()=>{e[0]instanceof HTMLElement&&e[0].focus()}),this.host.requestUpdate()))}}setSubmenuState(n){this.popupRef.value&&this.popupRef.value.active!==n&&(this.popupRef.value.active=n,this.host.requestUpdate())}enableSubmenu(n=!0){n?this.enableSubmenuTimer=window.setTimeout(()=>{this.setSubmenuState(!0)},this.submenuOpenDelay):this.setSubmenuState(!0)}disableSubmenu(){clearTimeout(this.enableSubmenuTimer),this.setSubmenuState(!1)}updateSkidding(){var n;if(!((n=this.host.parentElement)!=null&&n.computedStyleMap))return;const i=this.host.parentElement.computedStyleMap(),o=["padding-top","border-top-width","margin-top"].reduce((l,u)=>{var p;const f=(p=i.get(u))!=null?p:new CSSUnitValue(0,"px"),y=(f instanceof CSSUnitValue?f:new CSSUnitValue(0,"px")).to("px");return l-y.value},0);this.skidding=o}isExpanded(){return this.popupRef.value?this.popupRef.value.active:!1}renderSubmenu(){const n=this.localize.dir()==="ltr";return this.isConnected?Yn`
      <sl-popup
        ${SA(this.popupRef)}
        placement=${n?"right-start":"left-start"}
        anchor="anchor"
        flip
        flip-fallback-strategy="best-fit"
        skidding="${this.skidding}"
        strategy="fixed"
      >
        <slot name="submenu"></slot>
      </sl-popup>
    `:Yn` <slot name="submenu" hidden></slot> `}},ds=class extends To{constructor(){super(...arguments),this.type="normal",this.checked=!1,this.value="",this.loading=!1,this.disabled=!1,this.localize=new ip(this),this.hasSlotController=new nS(this,"submenu"),this.submenuController=new CA(this,this.hasSlotController,this.localize),this.handleHostClick=n=>{this.disabled&&(n.preventDefault(),n.stopImmediatePropagation())},this.handleMouseOver=n=>{this.focus(),n.stopPropagation()}}connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.handleHostClick),this.addEventListener("mouseover",this.handleMouseOver)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("click",this.handleHostClick),this.removeEventListener("mouseover",this.handleMouseOver)}handleDefaultSlotChange(){const n=this.getTextLabel();if(typeof this.cachedTextLabel>"u"){this.cachedTextLabel=n;return}n!==this.cachedTextLabel&&(this.cachedTextLabel=n,this.emit("slotchange",{bubbles:!0,composed:!1,cancelable:!1}))}handleCheckedChange(){if(this.checked&&this.type!=="checkbox"){this.checked=!1,console.error('The checked attribute can only be used on menu items with type="checkbox"',this);return}this.type==="checkbox"?this.setAttribute("aria-checked",this.checked?"true":"false"):this.removeAttribute("aria-checked")}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false")}handleTypeChange(){this.type==="checkbox"?(this.setAttribute("role","menuitemcheckbox"),this.setAttribute("aria-checked",this.checked?"true":"false")):(this.setAttribute("role","menuitem"),this.removeAttribute("aria-checked"))}getTextLabel(){return c5(this.defaultSlot)}isSubmenu(){return this.hasSlotController.test("submenu")}render(){const n=this.localize.dir()==="rtl",i=this.submenuController.isExpanded();return Yn`
      <div
        id="anchor"
        part="base"
        class=${Xl({"menu-item":!0,"menu-item--rtl":n,"menu-item--checked":this.checked,"menu-item--disabled":this.disabled,"menu-item--loading":this.loading,"menu-item--has-submenu":this.isSubmenu(),"menu-item--submenu-expanded":i})}
        ?aria-haspopup="${this.isSubmenu()}"
        ?aria-expanded="${!!i}"
      >
        <span part="checked-icon" class="menu-item__check">
          <sl-icon name="check" library="system" aria-hidden="true"></sl-icon>
        </span>

        <slot name="prefix" part="prefix" class="menu-item__prefix"></slot>

        <slot part="label" class="menu-item__label" @slotchange=${this.handleDefaultSlotChange}></slot>

        <slot name="suffix" part="suffix" class="menu-item__suffix"></slot>

        <span part="submenu-icon" class="menu-item__chevron">
          <sl-icon name=${n?"chevron-left":"chevron-right"} library="system" aria-hidden="true"></sl-icon>
        </span>

        ${this.submenuController.renderSubmenu()}
        ${this.loading?Yn` <sl-spinner part="spinner" exportparts="base:spinner__base"></sl-spinner> `:""}
      </div>
    `}};ds.styles=bA;ds.dependencies={"sl-icon":Pa,"sl-popup":Si,"sl-spinner":Q0};Yt([Eo("slot:not([name])")],ds.prototype,"defaultSlot",2);Yt([Eo(".menu-item")],ds.prototype,"menuItem",2);Yt([me()],ds.prototype,"type",2);Yt([me({type:Boolean,reflect:!0})],ds.prototype,"checked",2);Yt([me()],ds.prototype,"value",2);Yt([me({type:Boolean,reflect:!0})],ds.prototype,"loading",2);Yt([me({type:Boolean,reflect:!0})],ds.prototype,"disabled",2);Yt([Vs("checked")],ds.prototype,"handleCheckedChange",1);Yt([Vs("disabled")],ds.prototype,"handleDisabledChange",1);Yt([Vs("type")],ds.prototype,"handleTypeChange",1);ds.define("sl-menu-item");Q0.define("sl-spinner");var PA=qs`
  ${Ca}

  :host {
    --indicator-color: var(--sl-color-primary-600);
    --track-color: var(--sl-color-neutral-200);
    --track-width: 2px;

    display: block;
  }

  .tab-group {
    display: flex;
    border-radius: 0;
  }

  .tab-group__tabs {
    display: flex;
    position: relative;
  }

  .tab-group__indicator {
    position: absolute;
    transition:
      var(--sl-transition-fast) translate ease,
      var(--sl-transition-fast) width ease;
  }

  .tab-group--has-scroll-controls .tab-group__nav-container {
    position: relative;
    padding: 0 var(--sl-spacing-x-large);
  }

  .tab-group__body {
    display: block;
    overflow: auto;
  }

  .tab-group__scroll-button {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    bottom: 0;
    width: var(--sl-spacing-x-large);
  }

  .tab-group__scroll-button--start {
    left: 0;
  }

  .tab-group__scroll-button--end {
    right: 0;
  }

  .tab-group--rtl .tab-group__scroll-button--start {
    left: auto;
    right: 0;
  }

  .tab-group--rtl .tab-group__scroll-button--end {
    left: 0;
    right: auto;
  }

  /*
   * Top
   */

  .tab-group--top {
    flex-direction: column;
  }

  .tab-group--top .tab-group__nav-container {
    order: 1;
  }

  .tab-group--top .tab-group__nav {
    display: flex;
    overflow-x: auto;

    /* Hide scrollbar in Firefox */
    scrollbar-width: none;
  }

  /* Hide scrollbar in Chrome/Safari */
  .tab-group--top .tab-group__nav::-webkit-scrollbar {
    width: 0;
    height: 0;
  }

  .tab-group--top .tab-group__tabs {
    flex: 1 1 auto;
    position: relative;
    flex-direction: row;
    border-bottom: solid var(--track-width) var(--track-color);
  }

  .tab-group--top .tab-group__indicator {
    bottom: calc(-1 * var(--track-width));
    border-bottom: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--top .tab-group__body {
    order: 2;
  }

  .tab-group--top ::slotted(sl-tab-panel) {
    --padding: var(--sl-spacing-medium) 0;
  }

  /*
   * Bottom
   */

  .tab-group--bottom {
    flex-direction: column;
  }

  .tab-group--bottom .tab-group__nav-container {
    order: 2;
  }

  .tab-group--bottom .tab-group__nav {
    display: flex;
    overflow-x: auto;

    /* Hide scrollbar in Firefox */
    scrollbar-width: none;
  }

  /* Hide scrollbar in Chrome/Safari */
  .tab-group--bottom .tab-group__nav::-webkit-scrollbar {
    width: 0;
    height: 0;
  }

  .tab-group--bottom .tab-group__tabs {
    flex: 1 1 auto;
    position: relative;
    flex-direction: row;
    border-top: solid var(--track-width) var(--track-color);
  }

  .tab-group--bottom .tab-group__indicator {
    top: calc(-1 * var(--track-width));
    border-top: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--bottom .tab-group__body {
    order: 1;
  }

  .tab-group--bottom ::slotted(sl-tab-panel) {
    --padding: var(--sl-spacing-medium) 0;
  }

  /*
   * Start
   */

  .tab-group--start {
    flex-direction: row;
  }

  .tab-group--start .tab-group__nav-container {
    order: 1;
  }

  .tab-group--start .tab-group__tabs {
    flex: 0 0 auto;
    flex-direction: column;
    border-inline-end: solid var(--track-width) var(--track-color);
  }

  .tab-group--start .tab-group__indicator {
    right: calc(-1 * var(--track-width));
    border-right: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--start.tab-group--rtl .tab-group__indicator {
    right: auto;
    left: calc(-1 * var(--track-width));
  }

  .tab-group--start .tab-group__body {
    flex: 1 1 auto;
    order: 2;
  }

  .tab-group--start ::slotted(sl-tab-panel) {
    --padding: 0 var(--sl-spacing-medium);
  }

  /*
   * End
   */

  .tab-group--end {
    flex-direction: row;
  }

  .tab-group--end .tab-group__nav-container {
    order: 2;
  }

  .tab-group--end .tab-group__tabs {
    flex: 0 0 auto;
    flex-direction: column;
    border-left: solid var(--track-width) var(--track-color);
  }

  .tab-group--end .tab-group__indicator {
    left: calc(-1 * var(--track-width));
    border-inline-start: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--end.tab-group--rtl .tab-group__indicator {
    right: calc(-1 * var(--track-width));
    left: auto;
  }

  .tab-group--end .tab-group__body {
    flex: 1 1 auto;
    order: 1;
  }

  .tab-group--end ::slotted(sl-tab-panel) {
    --padding: 0 var(--sl-spacing-medium);
  }
`;function MA(n,i){return{top:Math.round(n.getBoundingClientRect().top-i.getBoundingClientRect().top),left:Math.round(n.getBoundingClientRect().left-i.getBoundingClientRect().left)}}function XE(n,i,e="vertical",o="smooth"){const l=MA(n,i),u=l.top+i.scrollTop,p=l.left+i.scrollLeft,f=i.scrollLeft,m=i.scrollLeft+i.offsetWidth,y=i.scrollTop,_=i.scrollTop+i.offsetHeight;(e==="horizontal"||e==="both")&&(p<f?i.scrollTo({left:p,behavior:o}):p+n.clientWidth>m&&i.scrollTo({left:p-i.offsetWidth+n.clientWidth,behavior:o})),(e==="vertical"||e==="both")&&(u<y?i.scrollTo({top:u,behavior:o}):u+n.clientHeight>_&&i.scrollTo({top:u-i.offsetHeight+n.clientHeight,behavior:o}))}var IA=qs`
  ${Ca}

  :host {
    display: inline-block;
    color: var(--sl-color-neutral-600);
  }

  .icon-button {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    background: none;
    border: none;
    border-radius: var(--sl-border-radius-medium);
    font-size: inherit;
    color: inherit;
    padding: var(--sl-spacing-x-small);
    cursor: pointer;
    transition: var(--sl-transition-x-fast) color;
    -webkit-appearance: none;
  }

  .icon-button:hover:not(.icon-button--disabled),
  .icon-button:focus-visible:not(.icon-button--disabled) {
    color: var(--sl-color-primary-600);
  }

  .icon-button:active:not(.icon-button--disabled) {
    color: var(--sl-color-primary-700);
  }

  .icon-button:focus {
    outline: none;
  }

  .icon-button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .icon-button:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .icon-button__icon {
    pointer-events: none;
  }
`,qo=class extends To{constructor(){super(...arguments),this.hasFocus=!1,this.label="",this.disabled=!1}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleClick(n){this.disabled&&(n.preventDefault(),n.stopPropagation())}click(){this.button.click()}focus(n){this.button.focus(n)}blur(){this.button.blur()}render(){const n=!!this.href,i=n?l0`a`:l0`button`;return qv`
      <${i}
        part="base"
        class=${Xl({"icon-button":!0,"icon-button--disabled":!n&&this.disabled,"icon-button--focused":this.hasFocus})}
        ?disabled=${En(n?void 0:this.disabled)}
        type=${En(n?void 0:"button")}
        href=${En(n?this.href:void 0)}
        target=${En(n?this.target:void 0)}
        download=${En(n?this.download:void 0)}
        rel=${En(n&&this.target?"noreferrer noopener":void 0)}
        role=${En(n?void 0:"button")}
        aria-disabled=${this.disabled?"true":"false"}
        aria-label="${this.label}"
        tabindex=${this.disabled?"-1":"0"}
        @blur=${this.handleBlur}
        @focus=${this.handleFocus}
        @click=${this.handleClick}
      >
        <sl-icon
          class="icon-button__icon"
          name=${En(this.name)}
          library=${En(this.library)}
          src=${En(this.src)}
          aria-hidden="true"
        ></sl-icon>
      </${i}>
    `}};qo.styles=IA;qo.dependencies={"sl-icon":Pa};Yt([Eo(".icon-button")],qo.prototype,"button",2);Yt([Ig()],qo.prototype,"hasFocus",2);Yt([me()],qo.prototype,"name",2);Yt([me()],qo.prototype,"library",2);Yt([me()],qo.prototype,"src",2);Yt([me()],qo.prototype,"href",2);Yt([me()],qo.prototype,"target",2);Yt([me()],qo.prototype,"download",2);Yt([me()],qo.prototype,"label",2);Yt([me({type:Boolean,reflect:!0})],qo.prototype,"disabled",2);var ps=class extends To{constructor(){super(...arguments),this.localize=new ip(this),this.tabs=[],this.panels=[],this.hasScrollControls=!1,this.placement="top",this.activation="auto",this.noScrollControls=!1}connectedCallback(){const n=Promise.all([customElements.whenDefined("sl-tab"),customElements.whenDefined("sl-tab-panel")]);super.connectedCallback(),this.resizeObserver=new ResizeObserver(()=>{this.repositionIndicator(),this.updateScrollControls()}),this.mutationObserver=new MutationObserver(i=>{i.some(e=>!["aria-labelledby","aria-controls"].includes(e.attributeName))&&setTimeout(()=>this.setAriaLabels()),i.some(e=>e.attributeName==="disabled")&&this.syncTabsAndPanels()}),this.updateComplete.then(()=>{this.syncTabsAndPanels(),this.mutationObserver.observe(this,{attributes:!0,childList:!0,subtree:!0}),this.resizeObserver.observe(this.nav),n.then(()=>{new IntersectionObserver((e,o)=>{var l;e[0].intersectionRatio>0&&(this.setAriaLabels(),this.setActiveTab((l=this.getActiveTab())!=null?l:this.tabs[0],{emitEvents:!1}),o.unobserve(e[0].target))}).observe(this.tabGroup)})})}disconnectedCallback(){super.disconnectedCallback(),this.mutationObserver.disconnect(),this.resizeObserver.unobserve(this.nav)}getAllTabs(n={includeDisabled:!0}){return[...this.shadowRoot.querySelector('slot[name="nav"]').assignedElements()].filter(e=>n.includeDisabled?e.tagName.toLowerCase()==="sl-tab":e.tagName.toLowerCase()==="sl-tab"&&!e.disabled)}getAllPanels(){return[...this.body.assignedElements()].filter(n=>n.tagName.toLowerCase()==="sl-tab-panel")}getActiveTab(){return this.tabs.find(n=>n.active)}handleClick(n){const e=n.target.closest("sl-tab");(e==null?void 0:e.closest("sl-tab-group"))===this&&e!==null&&this.setActiveTab(e,{scrollBehavior:"smooth"})}handleKeyDown(n){const e=n.target.closest("sl-tab");if((e==null?void 0:e.closest("sl-tab-group"))===this&&(["Enter"," "].includes(n.key)&&e!==null&&(this.setActiveTab(e,{scrollBehavior:"smooth"}),n.preventDefault()),["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(n.key))){const l=this.tabs.find(p=>p.matches(":focus")),u=this.localize.dir()==="rtl";if((l==null?void 0:l.tagName.toLowerCase())==="sl-tab"){let p=this.tabs.indexOf(l);n.key==="Home"?p=0:n.key==="End"?p=this.tabs.length-1:["top","bottom"].includes(this.placement)&&n.key===(u?"ArrowRight":"ArrowLeft")||["start","end"].includes(this.placement)&&n.key==="ArrowUp"?p--:(["top","bottom"].includes(this.placement)&&n.key===(u?"ArrowLeft":"ArrowRight")||["start","end"].includes(this.placement)&&n.key==="ArrowDown")&&p++,p<0&&(p=this.tabs.length-1),p>this.tabs.length-1&&(p=0),this.tabs[p].focus({preventScroll:!0}),this.activation==="auto"&&this.setActiveTab(this.tabs[p],{scrollBehavior:"smooth"}),["top","bottom"].includes(this.placement)&&XE(this.tabs[p],this.nav,"horizontal"),n.preventDefault()}}}handleScrollToStart(){this.nav.scroll({left:this.localize.dir()==="rtl"?this.nav.scrollLeft+this.nav.clientWidth:this.nav.scrollLeft-this.nav.clientWidth,behavior:"smooth"})}handleScrollToEnd(){this.nav.scroll({left:this.localize.dir()==="rtl"?this.nav.scrollLeft-this.nav.clientWidth:this.nav.scrollLeft+this.nav.clientWidth,behavior:"smooth"})}setActiveTab(n,i){if(i=iu({emitEvents:!0,scrollBehavior:"auto"},i),n!==this.activeTab&&!n.disabled){const e=this.activeTab;this.activeTab=n,this.tabs.forEach(o=>o.active=o===this.activeTab),this.panels.forEach(o=>{var l;return o.active=o.name===((l=this.activeTab)==null?void 0:l.panel)}),this.syncIndicator(),["top","bottom"].includes(this.placement)&&XE(this.activeTab,this.nav,"horizontal",i.scrollBehavior),i.emitEvents&&(e&&this.emit("sl-tab-hide",{detail:{name:e.panel}}),this.emit("sl-tab-show",{detail:{name:this.activeTab.panel}}))}}setAriaLabels(){this.tabs.forEach(n=>{const i=this.panels.find(e=>e.name===n.panel);i&&(n.setAttribute("aria-controls",i.getAttribute("id")),i.setAttribute("aria-labelledby",n.getAttribute("id")))})}repositionIndicator(){const n=this.getActiveTab();if(!n)return;const i=n.clientWidth,e=n.clientHeight,o=this.localize.dir()==="rtl",l=this.getAllTabs(),p=l.slice(0,l.indexOf(n)).reduce((f,m)=>({left:f.left+m.clientWidth,top:f.top+m.clientHeight}),{left:0,top:0});switch(this.placement){case"top":case"bottom":this.indicator.style.width=`${i}px`,this.indicator.style.height="auto",this.indicator.style.translate=o?`${-1*p.left}px`:`${p.left}px`;break;case"start":case"end":this.indicator.style.width="auto",this.indicator.style.height=`${e}px`,this.indicator.style.translate=`0 ${p.top}px`;break}}syncTabsAndPanels(){this.tabs=this.getAllTabs({includeDisabled:!1}),this.panels=this.getAllPanels(),this.syncIndicator(),this.updateComplete.then(()=>this.updateScrollControls())}updateScrollControls(){this.noScrollControls?this.hasScrollControls=!1:this.hasScrollControls=["top","bottom"].includes(this.placement)&&this.nav.scrollWidth>this.nav.clientWidth}syncIndicator(){this.getActiveTab()?(this.indicator.style.display="block",this.repositionIndicator()):this.indicator.style.display="none"}show(n){const i=this.tabs.find(e=>e.panel===n);i&&this.setActiveTab(i,{scrollBehavior:"smooth"})}render(){const n=this.localize.dir()==="rtl";return Yn`
      <div
        part="base"
        class=${Xl({"tab-group":!0,"tab-group--top":this.placement==="top","tab-group--bottom":this.placement==="bottom","tab-group--start":this.placement==="start","tab-group--end":this.placement==="end","tab-group--rtl":this.localize.dir()==="rtl","tab-group--has-scroll-controls":this.hasScrollControls})}
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
      >
        <div class="tab-group__nav-container" part="nav">
          ${this.hasScrollControls?Yn`
                <sl-icon-button
                  part="scroll-button scroll-button--start"
                  exportparts="base:scroll-button__base"
                  class="tab-group__scroll-button tab-group__scroll-button--start"
                  name=${n?"chevron-right":"chevron-left"}
                  library="system"
                  label=${this.localize.term("scrollToStart")}
                  @click=${this.handleScrollToStart}
                ></sl-icon-button>
              `:""}

          <div class="tab-group__nav">
            <div part="tabs" class="tab-group__tabs" role="tablist">
              <div part="active-tab-indicator" class="tab-group__indicator"></div>
              <slot name="nav" @slotchange=${this.syncTabsAndPanels}></slot>
            </div>
          </div>

          ${this.hasScrollControls?Yn`
                <sl-icon-button
                  part="scroll-button scroll-button--end"
                  exportparts="base:scroll-button__base"
                  class="tab-group__scroll-button tab-group__scroll-button--end"
                  name=${n?"chevron-left":"chevron-right"}
                  library="system"
                  label=${this.localize.term("scrollToEnd")}
                  @click=${this.handleScrollToEnd}
                ></sl-icon-button>
              `:""}
        </div>

        <slot part="body" class="tab-group__body" @slotchange=${this.syncTabsAndPanels}></slot>
      </div>
    `}};ps.styles=PA;ps.dependencies={"sl-icon-button":qo};Yt([Eo(".tab-group")],ps.prototype,"tabGroup",2);Yt([Eo(".tab-group__body")],ps.prototype,"body",2);Yt([Eo(".tab-group__nav")],ps.prototype,"nav",2);Yt([Eo(".tab-group__indicator")],ps.prototype,"indicator",2);Yt([Ig()],ps.prototype,"hasScrollControls",2);Yt([me()],ps.prototype,"placement",2);Yt([me()],ps.prototype,"activation",2);Yt([me({attribute:"no-scroll-controls",type:Boolean})],ps.prototype,"noScrollControls",2);Yt([Vs("noScrollControls",{waitUntilFirstUpdate:!0})],ps.prototype,"updateScrollControls",1);Yt([Vs("placement",{waitUntilFirstUpdate:!0})],ps.prototype,"syncIndicator",1);ps.define("sl-tab-group");var LA=qs`
  ${Ca}

  :host {
    --padding: 0;

    display: none;
  }

  :host([active]) {
    display: block;
  }

  .tab-panel {
    display: block;
    padding: var(--padding);
  }
`,RA=0,Ag=class extends To{constructor(){super(...arguments),this.attrId=++RA,this.componentId=`sl-tab-panel-${this.attrId}`,this.name="",this.active=!1}connectedCallback(){super.connectedCallback(),this.id=this.id.length>0?this.id:this.componentId,this.setAttribute("role","tabpanel")}handleActiveChange(){this.setAttribute("aria-hidden",this.active?"false":"true")}render(){return Yn`
      <slot
        part="base"
        class=${Xl({"tab-panel":!0,"tab-panel--active":this.active})}
      ></slot>
    `}};Ag.styles=LA;Yt([me({reflect:!0})],Ag.prototype,"name",2);Yt([me({type:Boolean,reflect:!0})],Ag.prototype,"active",2);Yt([Vs("active")],Ag.prototype,"handleActiveChange",1);Ag.define("sl-tab-panel");var AA=qs`
  ${Ca}

  :host {
    display: inline-block;
  }

  .tab {
    display: inline-flex;
    align-items: center;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-small);
    font-weight: var(--sl-font-weight-semibold);
    border-radius: var(--sl-border-radius-medium);
    color: var(--sl-color-neutral-600);
    padding: var(--sl-spacing-medium) var(--sl-spacing-large);
    white-space: nowrap;
    user-select: none;
    -webkit-user-select: none;
    cursor: pointer;
    transition:
      var(--transition-speed) box-shadow,
      var(--transition-speed) color;
  }

  .tab:hover:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab:focus {
    outline: none;
  }

  .tab:focus-visible:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: calc(-1 * var(--sl-focus-ring-width) - var(--sl-focus-ring-offset));
  }

  .tab.tab--active:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab.tab--closable {
    padding-inline-end: var(--sl-spacing-small);
  }

  .tab.tab--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .tab__close-button {
    font-size: var(--sl-font-size-small);
    margin-inline-start: var(--sl-spacing-small);
  }

  .tab__close-button::part(base) {
    padding: var(--sl-spacing-3x-small);
  }

  @media (forced-colors: active) {
    .tab.tab--active:not(.tab--disabled) {
      outline: solid 1px transparent;
      outline-offset: -3px;
    }
  }
`,zA=0,ll=class extends To{constructor(){super(...arguments),this.localize=new ip(this),this.attrId=++zA,this.componentId=`sl-tab-${this.attrId}`,this.panel="",this.active=!1,this.closable=!1,this.disabled=!1}connectedCallback(){super.connectedCallback(),this.setAttribute("role","tab")}handleCloseClick(n){n.stopPropagation(),this.emit("sl-close")}handleActiveChange(){this.setAttribute("aria-selected",this.active?"true":"false")}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false")}focus(n){this.tab.focus(n)}blur(){this.tab.blur()}render(){return this.id=this.id.length>0?this.id:this.componentId,Yn`
      <div
        part="base"
        class=${Xl({tab:!0,"tab--active":this.active,"tab--closable":this.closable,"tab--disabled":this.disabled})}
        tabindex=${this.disabled?"-1":"0"}
      >
        <slot></slot>
        ${this.closable?Yn`
              <sl-icon-button
                part="close-button"
                exportparts="base:close-button__base"
                name="x-lg"
                library="system"
                label=${this.localize.term("close")}
                class="tab__close-button"
                @click=${this.handleCloseClick}
                tabindex="-1"
              ></sl-icon-button>
            `:""}
      </div>
    `}};ll.styles=AA;ll.dependencies={"sl-icon-button":qo};Yt([Eo(".tab")],ll.prototype,"tab",2);Yt([me({reflect:!0})],ll.prototype,"panel",2);Yt([me({type:Boolean,reflect:!0})],ll.prototype,"active",2);Yt([me({type:Boolean})],ll.prototype,"closable",2);Yt([me({type:Boolean,reflect:!0})],ll.prototype,"disabled",2);Yt([Vs("active")],ll.prototype,"handleActiveChange",1);Yt([Vs("disabled")],ll.prototype,"handleDisabledChange",1);ll.define("sl-tab");const OA=["href"],NA={key:1,class:"text-gray-500"},DA={key:2,class:"mx-2 text-gray-500"},FA=hs({__name:"Breadcrumbs.ce",setup(n){const i=Oe(null),e=qr(()=>{var l;return(l=i==null?void 0:i.value)==null?void 0:l.parentNode});ei(e,l=>{l.children[1].classList.remove("sticky")});const o=Oe();return ru(()=>{var p;let l=location.pathname,u=((p=window.config)==null?void 0:p.baseurl)||"";o.value=[...l.split("/").filter(f=>f).slice(u==null?void 0:u.split("/").filter(f=>f).length).map((f,m,y)=>({name:f,path:u+"/"+y.slice(0,m+1).join("/")}))]}),(l,u)=>{var p;return Ae(),Ne("div",{class:"inline-flex items-center gap-1 w-full flex-wrap leading-6",ref_key:"root",ref:i},[((p=o.value)==null?void 0:p.length)>1?(Ae(!0),Ne(nn,{key:0},Qu(o.value,(f,m)=>(Ae(),Ne(nn,{key:f.path},[m<o.value.length-1?(Ae(),Ne("a",{key:0,href:f.path,class:"text-[#0645ad] hover:underline"},e0(f.name),9,OA)):(Ae(),Ne("span",NA,e0(f.name),1)),m<o.value.length-1?(Ae(),Ne("span",DA," > ")):fi("",!0)],64))),128)):fi("",!0)],512)}}}),BA=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}ez-header ul,ez-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}
`,Ma=(n,i)=>{const e=n.__vccOpts||n;for(const[o,l]of i)e[o]=l;return e},jA=Ma(FA,[["styles",[BA]]]);class rn{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(i,e=!1){return this.onePassHasher.start().appendStr(i).end(e)}static hashAsciiStr(i,e=!1){return this.onePassHasher.start().appendAsciiStr(i).end(e)}static _hex(i){const e=rn.hexChars,o=rn.hexOut;let l,u,p,f;for(f=0;f<4;f+=1)for(u=f*8,l=i[f],p=0;p<8;p+=2)o[u+1+p]=e.charAt(l&15),l>>>=4,o[u+0+p]=e.charAt(l&15),l>>>=4;return o.join("")}static _md5cycle(i,e){let o=i[0],l=i[1],u=i[2],p=i[3];o+=(l&u|~l&p)+e[0]-680876936|0,o=(o<<7|o>>>25)+l|0,p+=(o&l|~o&u)+e[1]-389564586|0,p=(p<<12|p>>>20)+o|0,u+=(p&o|~p&l)+e[2]+606105819|0,u=(u<<17|u>>>15)+p|0,l+=(u&p|~u&o)+e[3]-1044525330|0,l=(l<<22|l>>>10)+u|0,o+=(l&u|~l&p)+e[4]-176418897|0,o=(o<<7|o>>>25)+l|0,p+=(o&l|~o&u)+e[5]+1200080426|0,p=(p<<12|p>>>20)+o|0,u+=(p&o|~p&l)+e[6]-1473231341|0,u=(u<<17|u>>>15)+p|0,l+=(u&p|~u&o)+e[7]-45705983|0,l=(l<<22|l>>>10)+u|0,o+=(l&u|~l&p)+e[8]+1770035416|0,o=(o<<7|o>>>25)+l|0,p+=(o&l|~o&u)+e[9]-1958414417|0,p=(p<<12|p>>>20)+o|0,u+=(p&o|~p&l)+e[10]-42063|0,u=(u<<17|u>>>15)+p|0,l+=(u&p|~u&o)+e[11]-1990404162|0,l=(l<<22|l>>>10)+u|0,o+=(l&u|~l&p)+e[12]+1804603682|0,o=(o<<7|o>>>25)+l|0,p+=(o&l|~o&u)+e[13]-40341101|0,p=(p<<12|p>>>20)+o|0,u+=(p&o|~p&l)+e[14]-1502002290|0,u=(u<<17|u>>>15)+p|0,l+=(u&p|~u&o)+e[15]+1236535329|0,l=(l<<22|l>>>10)+u|0,o+=(l&p|u&~p)+e[1]-165796510|0,o=(o<<5|o>>>27)+l|0,p+=(o&u|l&~u)+e[6]-1069501632|0,p=(p<<9|p>>>23)+o|0,u+=(p&l|o&~l)+e[11]+643717713|0,u=(u<<14|u>>>18)+p|0,l+=(u&o|p&~o)+e[0]-373897302|0,l=(l<<20|l>>>12)+u|0,o+=(l&p|u&~p)+e[5]-701558691|0,o=(o<<5|o>>>27)+l|0,p+=(o&u|l&~u)+e[10]+38016083|0,p=(p<<9|p>>>23)+o|0,u+=(p&l|o&~l)+e[15]-660478335|0,u=(u<<14|u>>>18)+p|0,l+=(u&o|p&~o)+e[4]-405537848|0,l=(l<<20|l>>>12)+u|0,o+=(l&p|u&~p)+e[9]+568446438|0,o=(o<<5|o>>>27)+l|0,p+=(o&u|l&~u)+e[14]-1019803690|0,p=(p<<9|p>>>23)+o|0,u+=(p&l|o&~l)+e[3]-187363961|0,u=(u<<14|u>>>18)+p|0,l+=(u&o|p&~o)+e[8]+1163531501|0,l=(l<<20|l>>>12)+u|0,o+=(l&p|u&~p)+e[13]-1444681467|0,o=(o<<5|o>>>27)+l|0,p+=(o&u|l&~u)+e[2]-51403784|0,p=(p<<9|p>>>23)+o|0,u+=(p&l|o&~l)+e[7]+1735328473|0,u=(u<<14|u>>>18)+p|0,l+=(u&o|p&~o)+e[12]-1926607734|0,l=(l<<20|l>>>12)+u|0,o+=(l^u^p)+e[5]-378558|0,o=(o<<4|o>>>28)+l|0,p+=(o^l^u)+e[8]-2022574463|0,p=(p<<11|p>>>21)+o|0,u+=(p^o^l)+e[11]+1839030562|0,u=(u<<16|u>>>16)+p|0,l+=(u^p^o)+e[14]-35309556|0,l=(l<<23|l>>>9)+u|0,o+=(l^u^p)+e[1]-1530992060|0,o=(o<<4|o>>>28)+l|0,p+=(o^l^u)+e[4]+1272893353|0,p=(p<<11|p>>>21)+o|0,u+=(p^o^l)+e[7]-155497632|0,u=(u<<16|u>>>16)+p|0,l+=(u^p^o)+e[10]-1094730640|0,l=(l<<23|l>>>9)+u|0,o+=(l^u^p)+e[13]+681279174|0,o=(o<<4|o>>>28)+l|0,p+=(o^l^u)+e[0]-358537222|0,p=(p<<11|p>>>21)+o|0,u+=(p^o^l)+e[3]-722521979|0,u=(u<<16|u>>>16)+p|0,l+=(u^p^o)+e[6]+76029189|0,l=(l<<23|l>>>9)+u|0,o+=(l^u^p)+e[9]-640364487|0,o=(o<<4|o>>>28)+l|0,p+=(o^l^u)+e[12]-421815835|0,p=(p<<11|p>>>21)+o|0,u+=(p^o^l)+e[15]+530742520|0,u=(u<<16|u>>>16)+p|0,l+=(u^p^o)+e[2]-995338651|0,l=(l<<23|l>>>9)+u|0,o+=(u^(l|~p))+e[0]-198630844|0,o=(o<<6|o>>>26)+l|0,p+=(l^(o|~u))+e[7]+1126891415|0,p=(p<<10|p>>>22)+o|0,u+=(o^(p|~l))+e[14]-1416354905|0,u=(u<<15|u>>>17)+p|0,l+=(p^(u|~o))+e[5]-57434055|0,l=(l<<21|l>>>11)+u|0,o+=(u^(l|~p))+e[12]+1700485571|0,o=(o<<6|o>>>26)+l|0,p+=(l^(o|~u))+e[3]-1894986606|0,p=(p<<10|p>>>22)+o|0,u+=(o^(p|~l))+e[10]-1051523|0,u=(u<<15|u>>>17)+p|0,l+=(p^(u|~o))+e[1]-2054922799|0,l=(l<<21|l>>>11)+u|0,o+=(u^(l|~p))+e[8]+1873313359|0,o=(o<<6|o>>>26)+l|0,p+=(l^(o|~u))+e[15]-30611744|0,p=(p<<10|p>>>22)+o|0,u+=(o^(p|~l))+e[6]-1560198380|0,u=(u<<15|u>>>17)+p|0,l+=(p^(u|~o))+e[13]+1309151649|0,l=(l<<21|l>>>11)+u|0,o+=(u^(l|~p))+e[4]-145523070|0,o=(o<<6|o>>>26)+l|0,p+=(l^(o|~u))+e[11]-1120210379|0,p=(p<<10|p>>>22)+o|0,u+=(o^(p|~l))+e[2]+718787259|0,u=(u<<15|u>>>17)+p|0,l+=(p^(u|~o))+e[9]-343485551|0,l=(l<<21|l>>>11)+u|0,i[0]=o+i[0]|0,i[1]=l+i[1]|0,i[2]=u+i[2]|0,i[3]=p+i[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(rn.stateIdentity),this}appendStr(i){const e=this._buffer8,o=this._buffer32;let l=this._bufferLength,u,p;for(p=0;p<i.length;p+=1){if(u=i.charCodeAt(p),u<128)e[l++]=u;else if(u<2048)e[l++]=(u>>>6)+192,e[l++]=u&63|128;else if(u<55296||u>56319)e[l++]=(u>>>12)+224,e[l++]=u>>>6&63|128,e[l++]=u&63|128;else{if(u=(u-55296)*1024+(i.charCodeAt(++p)-56320)+65536,u>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");e[l++]=(u>>>18)+240,e[l++]=u>>>12&63|128,e[l++]=u>>>6&63|128,e[l++]=u&63|128}l>=64&&(this._dataLength+=64,rn._md5cycle(this._state,o),l-=64,o[0]=o[16])}return this._bufferLength=l,this}appendAsciiStr(i){const e=this._buffer8,o=this._buffer32;let l=this._bufferLength,u,p=0;for(;;){for(u=Math.min(i.length-p,64-l);u--;)e[l++]=i.charCodeAt(p++);if(l<64)break;this._dataLength+=64,rn._md5cycle(this._state,o),l=0}return this._bufferLength=l,this}appendByteArray(i){const e=this._buffer8,o=this._buffer32;let l=this._bufferLength,u,p=0;for(;;){for(u=Math.min(i.length-p,64-l);u--;)e[l++]=i[p++];if(l<64)break;this._dataLength+=64,rn._md5cycle(this._state,o),l=0}return this._bufferLength=l,this}getState(){const i=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[i[0],i[1],i[2],i[3]]}}setState(i){const e=i.buffer,o=i.state,l=this._state;let u;for(this._dataLength=i.length,this._bufferLength=i.buflen,l[0]=o[0],l[1]=o[1],l[2]=o[2],l[3]=o[3],u=0;u<e.length;u+=1)this._buffer8[u]=e.charCodeAt(u)}end(i=!1){const e=this._bufferLength,o=this._buffer8,l=this._buffer32,u=(e>>2)+1;this._dataLength+=e;const p=this._dataLength*8;if(o[e]=128,o[e+1]=o[e+2]=o[e+3]=0,l.set(rn.buffer32Identity.subarray(u),u),e>55&&(rn._md5cycle(this._state,l),l.set(rn.buffer32Identity)),p<=4294967295)l[14]=p;else{const f=p.toString(16).match(/(.*?)(.{0,8})$/);if(f===null)return;const m=parseInt(f[2],16),y=parseInt(f[1],16)||0;l[14]=m,l[15]=y}return rn._md5cycle(this._state,l),i?this._state:rn._hex(this._state)}}rn.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]);rn.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);rn.hexChars="0123456789abcdef";rn.hexOut=[];rn.onePassHasher=new rn;if(rn.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592")throw new Error("Md5 self test failed.");/*
 * Component
 * @version: 1.3.0
 * @author: HtmlStream
 * @license: Licensed under MIT (https://preline.co/docs/license.html)
 * Copyright 2023 Htmlstream
 */class ES{constructor(i,e){this.$collection=[],this.selector=i,this.config=e,this.events={}}_fireEvent(i,e=null){this.events.hasOwnProperty(i)&&this.events[i](e)}_dispatch(i,e,o=null){const l=new CustomEvent(i,{detail:{payload:o},bubbles:!0,cancelable:!0,composed:!1});e.dispatchEvent(l)}on(i,e){this.events[i]=e}afterTransition(i,e){const o=()=>{e(),i.removeEventListener("transitionend",o,!0)};window.getComputedStyle(i,null).getPropertyValue("transition")!=="all 0s ease 0s"?i.addEventListener("transitionend",o,!0):e()}getClassProperty(i,e,o=""){return(window.getComputedStyle(i).getPropertyValue(e)||o).replace(" ","")}}var Ho="top",Us="bottom",Gs="right",Uo="left",O1="auto",zg=[Ho,Us,Gs,Uo],Wd="start",cg="end",HA="clippingParents",TS="viewport",If="popper",UA="reference",YE=zg.reduce(function(n,i){return n.concat([i+"-"+Wd,i+"-"+cg])},[]),SS=[].concat(zg,[O1]).reduce(function(n,i){return n.concat([i,i+"-"+Wd,i+"-"+cg])},[]),GA="beforeRead",qA="read",VA="afterRead",WA="beforeMain",ZA="main",XA="afterMain",YA="beforeWrite",KA="write",JA="afterWrite",QA=[GA,qA,VA,WA,ZA,XA,YA,KA,JA];function ol(n){return n?(n.nodeName||"").toLowerCase():null}function cs(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var i=n.ownerDocument;return i&&i.defaultView||window}return n}function oh(n){var i=cs(n).Element;return n instanceof i||n instanceof Element}function js(n){var i=cs(n).HTMLElement;return n instanceof i||n instanceof HTMLElement}function N1(n){if(typeof ShadowRoot>"u")return!1;var i=cs(n).ShadowRoot;return n instanceof i||n instanceof ShadowRoot}function $A(n){var i=n.state;Object.keys(i.elements).forEach(function(e){var o=i.styles[e]||{},l=i.attributes[e]||{},u=i.elements[e];!js(u)||!ol(u)||(Object.assign(u.style,o),Object.keys(l).forEach(function(p){var f=l[p];f===!1?u.removeAttribute(p):u.setAttribute(p,f===!0?"":f)}))})}function tz(n){var i=n.state,e={popper:{position:i.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(i.elements.popper.style,e.popper),i.styles=e,i.elements.arrow&&Object.assign(i.elements.arrow.style,e.arrow),function(){Object.keys(i.elements).forEach(function(o){var l=i.elements[o],u=i.attributes[o]||{},p=Object.keys(i.styles.hasOwnProperty(o)?i.styles[o]:e[o]),f=p.reduce(function(m,y){return m[y]="",m},{});!js(l)||!ol(l)||(Object.assign(l.style,f),Object.keys(u).forEach(function(m){l.removeAttribute(m)}))})}}const ez={name:"applyStyles",enabled:!0,phase:"write",fn:$A,effect:tz,requires:["computeStyles"]};function il(n){return n.split("-")[0]}var th=Math.max,p0=Math.min,Zd=Math.round;function zw(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(i){return i.brand+"/"+i.version}).join(" "):navigator.userAgent}function CS(){return!/^((?!chrome|android).)*safari/i.test(zw())}function Xd(n,i,e){i===void 0&&(i=!1),e===void 0&&(e=!1);var o=n.getBoundingClientRect(),l=1,u=1;i&&js(n)&&(l=n.offsetWidth>0&&Zd(o.width)/n.offsetWidth||1,u=n.offsetHeight>0&&Zd(o.height)/n.offsetHeight||1);var p=oh(n)?cs(n):window,f=p.visualViewport,m=!CS()&&e,y=(o.left+(m&&f?f.offsetLeft:0))/l,_=(o.top+(m&&f?f.offsetTop:0))/u,E=o.width/l,C=o.height/u;return{width:E,height:C,top:_,right:y+E,bottom:_+C,left:y,x:y,y:_}}function D1(n){var i=Xd(n),e=n.offsetWidth,o=n.offsetHeight;return Math.abs(i.width-e)<=1&&(e=i.width),Math.abs(i.height-o)<=1&&(o=i.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:o}}function PS(n,i){var e=i.getRootNode&&i.getRootNode();if(n.contains(i))return!0;if(e&&N1(e)){var o=i;do{if(o&&n.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function Kl(n){return cs(n).getComputedStyle(n)}function rz(n){return["table","td","th"].indexOf(ol(n))>=0}function nu(n){return((oh(n)?n.ownerDocument:n.document)||window.document).documentElement}function ey(n){return ol(n)==="html"?n:n.assignedSlot||n.parentNode||(N1(n)?n.host:null)||nu(n)}function KE(n){return!js(n)||Kl(n).position==="fixed"?null:n.offsetParent}function iz(n){var i=/firefox/i.test(zw()),e=/Trident/i.test(zw());if(e&&js(n)){var o=Kl(n);if(o.position==="fixed")return null}var l=ey(n);for(N1(l)&&(l=l.host);js(l)&&["html","body"].indexOf(ol(l))<0;){var u=Kl(l);if(u.transform!=="none"||u.perspective!=="none"||u.contain==="paint"||["transform","perspective"].indexOf(u.willChange)!==-1||i&&u.willChange==="filter"||i&&u.filter&&u.filter!=="none")return l;l=l.parentNode}return null}function Og(n){for(var i=cs(n),e=KE(n);e&&rz(e)&&Kl(e).position==="static";)e=KE(e);return e&&(ol(e)==="html"||ol(e)==="body"&&Kl(e).position==="static")?i:e||iz(n)||i}function F1(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Xf(n,i,e){return th(n,p0(i,e))}function nz(n,i,e){var o=Xf(n,i,e);return o>e?e:o}function MS(){return{top:0,right:0,bottom:0,left:0}}function IS(n){return Object.assign({},MS(),n)}function LS(n,i){return i.reduce(function(e,o){return e[o]=n,e},{})}var oz=function(i,e){return i=typeof i=="function"?i(Object.assign({},e.rects,{placement:e.placement})):i,IS(typeof i!="number"?i:LS(i,zg))};function sz(n){var i,e=n.state,o=n.name,l=n.options,u=e.elements.arrow,p=e.modifiersData.popperOffsets,f=il(e.placement),m=F1(f),y=[Uo,Gs].indexOf(f)>=0,_=y?"height":"width";if(!(!u||!p)){var E=oz(l.padding,e),C=D1(u),I=m==="y"?Ho:Uo,z=m==="y"?Us:Gs,B=e.rects.reference[_]+e.rects.reference[m]-p[m]-e.rects.popper[_],G=p[m]-e.rects.reference[m],H=Og(u),$=H?m==="y"?H.clientHeight||0:H.clientWidth||0:0,j=B/2-G/2,V=E[I],ot=$-C[_]-E[z],ft=$/2-C[_]/2+j,ht=Xf(V,ft,ot),ct=m;e.modifiersData[o]=(i={},i[ct]=ht,i.centerOffset=ht-ft,i)}}function az(n){var i=n.state,e=n.options,o=e.element,l=o===void 0?"[data-popper-arrow]":o;l!=null&&(typeof l=="string"&&(l=i.elements.popper.querySelector(l),!l)||PS(i.elements.popper,l)&&(i.elements.arrow=l))}const lz={name:"arrow",enabled:!0,phase:"main",fn:sz,effect:az,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Yd(n){return n.split("-")[1]}var cz={top:"auto",right:"auto",bottom:"auto",left:"auto"};function uz(n,i){var e=n.x,o=n.y,l=i.devicePixelRatio||1;return{x:Zd(e*l)/l||0,y:Zd(o*l)/l||0}}function JE(n){var i,e=n.popper,o=n.popperRect,l=n.placement,u=n.variation,p=n.offsets,f=n.position,m=n.gpuAcceleration,y=n.adaptive,_=n.roundOffsets,E=n.isFixed,C=p.x,I=C===void 0?0:C,z=p.y,B=z===void 0?0:z,G=typeof _=="function"?_({x:I,y:B}):{x:I,y:B};I=G.x,B=G.y;var H=p.hasOwnProperty("x"),$=p.hasOwnProperty("y"),j=Uo,V=Ho,ot=window;if(y){var ft=Og(e),ht="clientHeight",ct="clientWidth";if(ft===cs(e)&&(ft=nu(e),Kl(ft).position!=="static"&&f==="absolute"&&(ht="scrollHeight",ct="scrollWidth")),ft=ft,l===Ho||(l===Uo||l===Gs)&&u===cg){V=Us;var Z=E&&ft===ot&&ot.visualViewport?ot.visualViewport.height:ft[ht];B-=Z-o.height,B*=m?1:-1}if(l===Uo||(l===Ho||l===Us)&&u===cg){j=Gs;var lt=E&&ft===ot&&ot.visualViewport?ot.visualViewport.width:ft[ct];I-=lt-o.width,I*=m?1:-1}}var ut=Object.assign({position:f},y&&cz),mt=_===!0?uz({x:I,y:B},cs(e)):{x:I,y:B};if(I=mt.x,B=mt.y,m){var te;return Object.assign({},ut,(te={},te[V]=$?"0":"",te[j]=H?"0":"",te.transform=(ot.devicePixelRatio||1)<=1?"translate("+I+"px, "+B+"px)":"translate3d("+I+"px, "+B+"px, 0)",te))}return Object.assign({},ut,(i={},i[V]=$?B+"px":"",i[j]=H?I+"px":"",i.transform="",i))}function hz(n){var i=n.state,e=n.options,o=e.gpuAcceleration,l=o===void 0?!0:o,u=e.adaptive,p=u===void 0?!0:u,f=e.roundOffsets,m=f===void 0?!0:f,y={placement:il(i.placement),variation:Yd(i.placement),popper:i.elements.popper,popperRect:i.rects.popper,gpuAcceleration:l,isFixed:i.options.strategy==="fixed"};i.modifiersData.popperOffsets!=null&&(i.styles.popper=Object.assign({},i.styles.popper,JE(Object.assign({},y,{offsets:i.modifiersData.popperOffsets,position:i.options.strategy,adaptive:p,roundOffsets:m})))),i.modifiersData.arrow!=null&&(i.styles.arrow=Object.assign({},i.styles.arrow,JE(Object.assign({},y,{offsets:i.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:m})))),i.attributes.popper=Object.assign({},i.attributes.popper,{"data-popper-placement":i.placement})}const dz={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:hz,data:{}};var wv={passive:!0};function pz(n){var i=n.state,e=n.instance,o=n.options,l=o.scroll,u=l===void 0?!0:l,p=o.resize,f=p===void 0?!0:p,m=cs(i.elements.popper),y=[].concat(i.scrollParents.reference,i.scrollParents.popper);return u&&y.forEach(function(_){_.addEventListener("scroll",e.update,wv)}),f&&m.addEventListener("resize",e.update,wv),function(){u&&y.forEach(function(_){_.removeEventListener("scroll",e.update,wv)}),f&&m.removeEventListener("resize",e.update,wv)}}const fz={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:pz,data:{}};var gz={left:"right",right:"left",bottom:"top",top:"bottom"};function Wv(n){return n.replace(/left|right|bottom|top/g,function(i){return gz[i]})}var mz={start:"end",end:"start"};function QE(n){return n.replace(/start|end/g,function(i){return mz[i]})}function B1(n){var i=cs(n),e=i.pageXOffset,o=i.pageYOffset;return{scrollLeft:e,scrollTop:o}}function j1(n){return Xd(nu(n)).left+B1(n).scrollLeft}function vz(n,i){var e=cs(n),o=nu(n),l=e.visualViewport,u=o.clientWidth,p=o.clientHeight,f=0,m=0;if(l){u=l.width,p=l.height;var y=CS();(y||!y&&i==="fixed")&&(f=l.offsetLeft,m=l.offsetTop)}return{width:u,height:p,x:f+j1(n),y:m}}function yz(n){var i,e=nu(n),o=B1(n),l=(i=n.ownerDocument)==null?void 0:i.body,u=th(e.scrollWidth,e.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),p=th(e.scrollHeight,e.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),f=-o.scrollLeft+j1(n),m=-o.scrollTop;return Kl(l||e).direction==="rtl"&&(f+=th(e.clientWidth,l?l.clientWidth:0)-u),{width:u,height:p,x:f,y:m}}function H1(n){var i=Kl(n),e=i.overflow,o=i.overflowX,l=i.overflowY;return/auto|scroll|overlay|hidden/.test(e+l+o)}function RS(n){return["html","body","#document"].indexOf(ol(n))>=0?n.ownerDocument.body:js(n)&&H1(n)?n:RS(ey(n))}function Yf(n,i){var e;i===void 0&&(i=[]);var o=RS(n),l=o===((e=n.ownerDocument)==null?void 0:e.body),u=cs(o),p=l?[u].concat(u.visualViewport||[],H1(o)?o:[]):o,f=i.concat(p);return l?f:f.concat(Yf(ey(p)))}function Ow(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function bz(n,i){var e=Xd(n,!1,i==="fixed");return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}function $E(n,i,e){return i===TS?Ow(vz(n,e)):oh(i)?bz(i,e):Ow(yz(nu(n)))}function wz(n){var i=Yf(ey(n)),e=["absolute","fixed"].indexOf(Kl(n).position)>=0,o=e&&js(n)?Og(n):n;return oh(o)?i.filter(function(l){return oh(l)&&PS(l,o)&&ol(l)!=="body"}):[]}function xz(n,i,e,o){var l=i==="clippingParents"?wz(n):[].concat(i),u=[].concat(l,[e]),p=u[0],f=u.reduce(function(m,y){var _=$E(n,y,o);return m.top=th(_.top,m.top),m.right=p0(_.right,m.right),m.bottom=p0(_.bottom,m.bottom),m.left=th(_.left,m.left),m},$E(n,p,o));return f.width=f.right-f.left,f.height=f.bottom-f.top,f.x=f.left,f.y=f.top,f}function AS(n){var i=n.reference,e=n.element,o=n.placement,l=o?il(o):null,u=o?Yd(o):null,p=i.x+i.width/2-e.width/2,f=i.y+i.height/2-e.height/2,m;switch(l){case Ho:m={x:p,y:i.y-e.height};break;case Us:m={x:p,y:i.y+i.height};break;case Gs:m={x:i.x+i.width,y:f};break;case Uo:m={x:i.x-e.width,y:f};break;default:m={x:i.x,y:i.y}}var y=l?F1(l):null;if(y!=null){var _=y==="y"?"height":"width";switch(u){case Wd:m[y]=m[y]-(i[_]/2-e[_]/2);break;case cg:m[y]=m[y]+(i[_]/2-e[_]/2);break}}return m}function ug(n,i){i===void 0&&(i={});var e=i,o=e.placement,l=o===void 0?n.placement:o,u=e.strategy,p=u===void 0?n.strategy:u,f=e.boundary,m=f===void 0?HA:f,y=e.rootBoundary,_=y===void 0?TS:y,E=e.elementContext,C=E===void 0?If:E,I=e.altBoundary,z=I===void 0?!1:I,B=e.padding,G=B===void 0?0:B,H=IS(typeof G!="number"?G:LS(G,zg)),$=C===If?UA:If,j=n.rects.popper,V=n.elements[z?$:C],ot=xz(oh(V)?V:V.contextElement||nu(n.elements.popper),m,_,p),ft=Xd(n.elements.reference),ht=AS({reference:ft,element:j,strategy:"absolute",placement:l}),ct=Ow(Object.assign({},j,ht)),Z=C===If?ct:ft,lt={top:ot.top-Z.top+H.top,bottom:Z.bottom-ot.bottom+H.bottom,left:ot.left-Z.left+H.left,right:Z.right-ot.right+H.right},ut=n.modifiersData.offset;if(C===If&&ut){var mt=ut[l];Object.keys(lt).forEach(function(te){var ne=[Gs,Us].indexOf(te)>=0?1:-1,ye=[Ho,Us].indexOf(te)>=0?"y":"x";lt[te]+=mt[ye]*ne})}return lt}function _z(n,i){i===void 0&&(i={});var e=i,o=e.placement,l=e.boundary,u=e.rootBoundary,p=e.padding,f=e.flipVariations,m=e.allowedAutoPlacements,y=m===void 0?SS:m,_=Yd(o),E=_?f?YE:YE.filter(function(z){return Yd(z)===_}):zg,C=E.filter(function(z){return y.indexOf(z)>=0});C.length===0&&(C=E);var I=C.reduce(function(z,B){return z[B]=ug(n,{placement:B,boundary:l,rootBoundary:u,padding:p})[il(B)],z},{});return Object.keys(I).sort(function(z,B){return I[z]-I[B]})}function kz(n){if(il(n)===O1)return[];var i=Wv(n);return[QE(n),i,QE(i)]}function Ez(n){var i=n.state,e=n.options,o=n.name;if(!i.modifiersData[o]._skip){for(var l=e.mainAxis,u=l===void 0?!0:l,p=e.altAxis,f=p===void 0?!0:p,m=e.fallbackPlacements,y=e.padding,_=e.boundary,E=e.rootBoundary,C=e.altBoundary,I=e.flipVariations,z=I===void 0?!0:I,B=e.allowedAutoPlacements,G=i.options.placement,H=il(G),$=H===G,j=m||($||!z?[Wv(G)]:kz(G)),V=[G].concat(j).reduce(function(ve,se){return ve.concat(il(se)===O1?_z(i,{placement:se,boundary:_,rootBoundary:E,padding:y,flipVariations:z,allowedAutoPlacements:B}):se)},[]),ot=i.rects.reference,ft=i.rects.popper,ht=new Map,ct=!0,Z=V[0],lt=0;lt<V.length;lt++){var ut=V[lt],mt=il(ut),te=Yd(ut)===Wd,ne=[Ho,Us].indexOf(mt)>=0,ye=ne?"width":"height",Gt=ug(i,{placement:ut,boundary:_,rootBoundary:E,altBoundary:C,padding:y}),he=ne?te?Gs:Uo:te?Us:Ho;ot[ye]>ft[ye]&&(he=Wv(he));var Kt=Wv(he),Je=[];if(u&&Je.push(Gt[mt]<=0),f&&Je.push(Gt[he]<=0,Gt[Kt]<=0),Je.every(function(ve){return ve})){Z=ut,ct=!1;break}ht.set(ut,Je)}if(ct)for(var kt=z?3:1,zt=function(se){var ue=V.find(function(tr){var Ft=ht.get(tr);if(Ft)return Ft.slice(0,se).every(function(qt){return qt})});if(ue)return Z=ue,"break"},Wt=kt;Wt>0;Wt--){var ee=zt(Wt);if(ee==="break")break}i.placement!==Z&&(i.modifiersData[o]._skip=!0,i.placement=Z,i.reset=!0)}}const Tz={name:"flip",enabled:!0,phase:"main",fn:Ez,requiresIfExists:["offset"],data:{_skip:!1}};function t2(n,i,e){return e===void 0&&(e={x:0,y:0}),{top:n.top-i.height-e.y,right:n.right-i.width+e.x,bottom:n.bottom-i.height+e.y,left:n.left-i.width-e.x}}function e2(n){return[Ho,Gs,Us,Uo].some(function(i){return n[i]>=0})}function Sz(n){var i=n.state,e=n.name,o=i.rects.reference,l=i.rects.popper,u=i.modifiersData.preventOverflow,p=ug(i,{elementContext:"reference"}),f=ug(i,{altBoundary:!0}),m=t2(p,o),y=t2(f,l,u),_=e2(m),E=e2(y);i.modifiersData[e]={referenceClippingOffsets:m,popperEscapeOffsets:y,isReferenceHidden:_,hasPopperEscaped:E},i.attributes.popper=Object.assign({},i.attributes.popper,{"data-popper-reference-hidden":_,"data-popper-escaped":E})}const Cz={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Sz};function Pz(n,i,e){var o=il(n),l=[Uo,Ho].indexOf(o)>=0?-1:1,u=typeof e=="function"?e(Object.assign({},i,{placement:n})):e,p=u[0],f=u[1];return p=p||0,f=(f||0)*l,[Uo,Gs].indexOf(o)>=0?{x:f,y:p}:{x:p,y:f}}function Mz(n){var i=n.state,e=n.options,o=n.name,l=e.offset,u=l===void 0?[0,0]:l,p=SS.reduce(function(_,E){return _[E]=Pz(E,i.rects,u),_},{}),f=p[i.placement],m=f.x,y=f.y;i.modifiersData.popperOffsets!=null&&(i.modifiersData.popperOffsets.x+=m,i.modifiersData.popperOffsets.y+=y),i.modifiersData[o]=p}const Iz={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Mz};function Lz(n){var i=n.state,e=n.name;i.modifiersData[e]=AS({reference:i.rects.reference,element:i.rects.popper,strategy:"absolute",placement:i.placement})}const Rz={name:"popperOffsets",enabled:!0,phase:"read",fn:Lz,data:{}};function Az(n){return n==="x"?"y":"x"}function zz(n){var i=n.state,e=n.options,o=n.name,l=e.mainAxis,u=l===void 0?!0:l,p=e.altAxis,f=p===void 0?!1:p,m=e.boundary,y=e.rootBoundary,_=e.altBoundary,E=e.padding,C=e.tether,I=C===void 0?!0:C,z=e.tetherOffset,B=z===void 0?0:z,G=ug(i,{boundary:m,rootBoundary:y,padding:E,altBoundary:_}),H=il(i.placement),$=Yd(i.placement),j=!$,V=F1(H),ot=Az(V),ft=i.modifiersData.popperOffsets,ht=i.rects.reference,ct=i.rects.popper,Z=typeof B=="function"?B(Object.assign({},i.rects,{placement:i.placement})):B,lt=typeof Z=="number"?{mainAxis:Z,altAxis:Z}:Object.assign({mainAxis:0,altAxis:0},Z),ut=i.modifiersData.offset?i.modifiersData.offset[i.placement]:null,mt={x:0,y:0};if(ft){if(u){var te,ne=V==="y"?Ho:Uo,ye=V==="y"?Us:Gs,Gt=V==="y"?"height":"width",he=ft[V],Kt=he+G[ne],Je=he-G[ye],kt=I?-ct[Gt]/2:0,zt=$===Wd?ht[Gt]:ct[Gt],Wt=$===Wd?-ct[Gt]:-ht[Gt],ee=i.elements.arrow,ve=I&&ee?D1(ee):{width:0,height:0},se=i.modifiersData["arrow#persistent"]?i.modifiersData["arrow#persistent"].padding:MS(),ue=se[ne],tr=se[ye],Ft=Xf(0,ht[Gt],ve[Gt]),qt=j?ht[Gt]/2-kt-Ft-ue-lt.mainAxis:zt-Ft-ue-lt.mainAxis,Zt=j?-ht[Gt]/2+kt+Ft+tr+lt.mainAxis:Wt+Ft+tr+lt.mainAxis,Xt=i.elements.arrow&&Og(i.elements.arrow),nt=Xt?V==="y"?Xt.clientTop||0:Xt.clientLeft||0:0,pt=(te=ut==null?void 0:ut[V])!=null?te:0,vt=he+qt-pt-nt,A=he+Zt-pt,X=Xf(I?p0(Kt,vt):Kt,he,I?th(Je,A):Je);ft[V]=X,mt[V]=X-he}if(f){var dt,_t=V==="x"?Ho:Uo,wt=V==="x"?Us:Gs,Ot=ft[ot],xt=ot==="y"?"height":"width",$t=Ot+G[_t],le=Ot-G[wt],de=[Ho,Uo].indexOf(H)!==-1,ae=(dt=ut==null?void 0:ut[ot])!=null?dt:0,Me=de?$t:Ot-ht[xt]-ct[xt]-ae+lt.altAxis,Ce=de?Ot+ht[xt]+ct[xt]-ae-lt.altAxis:le,qe=I&&de?nz(Me,Ot,Ce):Xf(I?Me:$t,Ot,I?Ce:le);ft[ot]=qe,mt[ot]=qe-Ot}i.modifiersData[o]=mt}}const Oz={name:"preventOverflow",enabled:!0,phase:"main",fn:zz,requiresIfExists:["offset"]};function Nz(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function Dz(n){return n===cs(n)||!js(n)?B1(n):Nz(n)}function Fz(n){var i=n.getBoundingClientRect(),e=Zd(i.width)/n.offsetWidth||1,o=Zd(i.height)/n.offsetHeight||1;return e!==1||o!==1}function Bz(n,i,e){e===void 0&&(e=!1);var o=js(i),l=js(i)&&Fz(i),u=nu(i),p=Xd(n,l,e),f={scrollLeft:0,scrollTop:0},m={x:0,y:0};return(o||!o&&!e)&&((ol(i)!=="body"||H1(u))&&(f=Dz(i)),js(i)?(m=Xd(i,!0),m.x+=i.clientLeft,m.y+=i.clientTop):u&&(m.x=j1(u))),{x:p.left+f.scrollLeft-m.x,y:p.top+f.scrollTop-m.y,width:p.width,height:p.height}}function jz(n){var i=new Map,e=new Set,o=[];n.forEach(function(u){i.set(u.name,u)});function l(u){e.add(u.name);var p=[].concat(u.requires||[],u.requiresIfExists||[]);p.forEach(function(f){if(!e.has(f)){var m=i.get(f);m&&l(m)}}),o.push(u)}return n.forEach(function(u){e.has(u.name)||l(u)}),o}function Hz(n){var i=jz(n);return QA.reduce(function(e,o){return e.concat(i.filter(function(l){return l.phase===o}))},[])}function Uz(n){var i;return function(){return i||(i=new Promise(function(e){Promise.resolve().then(function(){i=void 0,e(n())})})),i}}function Gz(n){var i=n.reduce(function(e,o){var l=e[o.name];return e[o.name]=l?Object.assign({},l,o,{options:Object.assign({},l.options,o.options),data:Object.assign({},l.data,o.data)}):o,e},{});return Object.keys(i).map(function(e){return i[e]})}var r2={placement:"bottom",modifiers:[],strategy:"absolute"};function i2(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];return!i.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function qz(n){n===void 0&&(n={});var i=n,e=i.defaultModifiers,o=e===void 0?[]:e,l=i.defaultOptions,u=l===void 0?r2:l;return function(f,m,y){y===void 0&&(y=u);var _={placement:"bottom",orderedModifiers:[],options:Object.assign({},r2,u),modifiersData:{},elements:{reference:f,popper:m},attributes:{},styles:{}},E=[],C=!1,I={state:_,setOptions:function(H){var $=typeof H=="function"?H(_.options):H;B(),_.options=Object.assign({},u,_.options,$),_.scrollParents={reference:oh(f)?Yf(f):f.contextElement?Yf(f.contextElement):[],popper:Yf(m)};var j=Hz(Gz([].concat(o,_.options.modifiers)));return _.orderedModifiers=j.filter(function(V){return V.enabled}),z(),I.update()},forceUpdate:function(){if(!C){var H=_.elements,$=H.reference,j=H.popper;if(i2($,j)){_.rects={reference:Bz($,Og(j),_.options.strategy==="fixed"),popper:D1(j)},_.reset=!1,_.placement=_.options.placement,_.orderedModifiers.forEach(function(lt){return _.modifiersData[lt.name]=Object.assign({},lt.data)});for(var V=0;V<_.orderedModifiers.length;V++){if(_.reset===!0){_.reset=!1,V=-1;continue}var ot=_.orderedModifiers[V],ft=ot.fn,ht=ot.options,ct=ht===void 0?{}:ht,Z=ot.name;typeof ft=="function"&&(_=ft({state:_,options:ct,name:Z,instance:I})||_)}}}},update:Uz(function(){return new Promise(function(G){I.forceUpdate(),G(_)})}),destroy:function(){B(),C=!0}};if(!i2(f,m))return I;I.setOptions(y).then(function(G){!C&&y.onFirstUpdate&&y.onFirstUpdate(G)});function z(){_.orderedModifiers.forEach(function(G){var H=G.name,$=G.options,j=$===void 0?{}:$,V=G.effect;if(typeof V=="function"){var ot=V({state:_,name:H,instance:I,options:j}),ft=function(){};E.push(ot||ft)}})}function B(){E.forEach(function(G){return G()}),E=[]}return I}}var Vz=[fz,Rz,dz,ez,Iz,Tz,Oz,lz,Cz],$b=qz({defaultModifiers:Vz});/*
* HSTooltips
* @version: 1.4.0
* @author: HtmlStream
* @requires: @popperjs/core ^2.11.2
* @license: Licensed under MIT (https://preline.co/docs/license.html)
* Copyright 2023 Htmlstream
*/class zS extends ES{constructor(e){super(".hs-tooltip");li(this,"root");this.root=e}init(){var e;(e=this.root)==null||e.addEventListener("click",o=>{const u=o.target.closest(this.selector);u&&this.getClassProperty(u,"--trigger")==="focus"&&this._focus(u),u&&this.getClassProperty(u,"--trigger")==="click"&&this._click(u)}),this.root.addEventListener("mousemove",o=>{const u=o.target.closest(this.selector);u&&this.getClassProperty(u,"--trigger")!=="focus"&&this.getClassProperty(u,"--trigger")!=="click"&&this._hover(u)})}_hover(e){if(e.classList.contains("show"))return;const o=e.querySelector(".hs-tooltip-toggle"),l=e.querySelector(".hs-tooltip-content"),u=this.getClassProperty(e,"--placement");$b(o,l,{placement:u||"top",strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.show(e);const p=f=>{f.relatedTarget.closest(this.selector)&&f.relatedTarget.closest(this.selector)==e||(this.hide(e),e.removeEventListener("mouseleave",p,!0))};e.addEventListener("mouseleave",p,!0)}_focus(e){const o=e.querySelector(".hs-tooltip-toggle"),l=e.querySelector(".hs-tooltip-content"),u=this.getClassProperty(e,"--placement"),p=this.getClassProperty(e,"--strategy");$b(o,l,{placement:u||"top",strategy:p||"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.show(e);const f=()=>{this.hide(e),e.removeEventListener("blur",f,!0)};e.addEventListener("blur",f,!0)}_click(e){if(e.classList.contains("show"))return;const o=e.querySelector(".hs-tooltip-toggle"),l=e.querySelector(".hs-tooltip-content"),u=this.getClassProperty(e,"--placement"),p=this.getClassProperty(e,"--strategy");$b(o,l,{placement:u||"top",strategy:p||"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.show(e);const f=m=>{setTimeout(()=>{this.hide(e),e.removeEventListener("click",f,!0),e.removeEventListener("blur",f,!0)})};e.addEventListener("blur",f,!0),e.addEventListener("click",f,!0)}show(e){e.querySelector(".hs-tooltip-content").classList.remove("hidden"),setTimeout(()=>{e.classList.add("show"),this._fireEvent("show",e),this._dispatch("show.hs.tooltip",e,e)})}hide(e){const o=e.querySelector(".hs-tooltip-content");e.classList.remove("show"),this._fireEvent("hide",e),this._dispatch("hide.hs.tooltip",e,e),this.afterTransition(o,()=>{e.classList.contains("show")||o.classList.add("hidden")})}}const Wz={class:"hs-tooltip-toggle block text-center",href:"javascript:;",title:"Click for more information"},Zz=["innerHTML"],Xz={class:"hs-tooltip-content z-30 hs-tooltip-shown:opacity-100 hs-tooltip-shown:visible hidden opacity-0 transition-opacity absolute invisible max-w-xs bg-white border border-gray-100 text-left rounded-lg shadow-md dark:bg-gray-800 dark:border-gray-700",role:"tooltip"},Yz={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},Kz=["src"],Jz={class:"p-4 md:p-5"},Qz={class:"text-lg font-bold text-gray-800 dark:text-white"},$z={class:"mt-1 text-gray-800 dark:text-gray-400"},tO={class:"mt-5 text-xs text-gray-500 dark:text-gray-500"},eO=["href"],rO=Jt("img",{class:"max-w-[24px]",src:"https://upload.wikimedia.org/wikipedia/commons/7/77/Wikipedia_svg_logo.svg"},null,-1),iO=Jt("span",{class:"ml-1"},"Wikipedia",-1),nO=[rO,iO],oO=hs({__name:"EntityInfobox.ce",props:{qid:{type:String},label:{type:String},description:{type:String},language:{type:String,default:"en"}},setup(n){const i=n;ei(i,()=>{p.value=i.qid});const e=Oe(null),o=qr(()=>{var z,B;return(B=(z=e.value)==null?void 0:z.getRootNode())==null?void 0:B.host}),l=qr(()=>{var z;return(z=o.value)==null?void 0:z.textContent}),u=qr(()=>{var z;return(z=e==null?void 0:e.value)==null?void 0:z.parentNode});ei(u,()=>{new zS(u.value).init()});const p=Oe(i.qid);ei(p,()=>{C(p.value)});const f=Oe({}),m=qr(()=>p.value&&f.value[p.value]),y=qr(()=>{var z,B,G;return(G=(B=(z=m.value)==null?void 0:z.labels)==null?void 0:B[i.language])==null?void 0:G.value}),_=qr(()=>{var z,B,G;return(G=(B=(z=m.value)==null?void 0:z.descriptions)==null?void 0:B[i.language])==null?void 0:G.value}),E=qr(()=>{var z;return m.value&&((z=m.value.sitelinks[`${i.language}wiki`])==null?void 0:z.url)});ru(()=>{C(p.value)});async function C(z){if(!z||f.value[z])return;let B=`https://www.wikidata.org/wiki/Special:EntityData/${z}.json`;const H=await(await fetch(B)).json();Object.values(H.entities).forEach($=>{$.summaryText={},$.claims.P18&&($.image=$.claims.P18[0].mainsnak.datavalue.value,$.thumbnail=I($.image))}),f.value={...f.value,...H.entities}}function I(z,B=300){Array.isArray(z)&&(z=z[0]),z=z.split("/").pop(),z=decodeURIComponent(z).replace(/ /g,"_");const G=rn.hashStr(z),H=z.split(".").pop();let $=`https://upload.wikimedia.org/wikipedia/commons${B?"/thumb":""}`;return $+=`/${G.slice(0,1)}/${G.slice(0,2)}/${z}`,B&&($+=`/${B}px-${z}`,H==="svg"?$+=".png":(H==="tif"||H==="tiff")&&($+=".jpg")),$}return(z,B)=>{var G;return Ae(),Ne("div",{ref_key:"root",ref:e,class:"hs-tooltip inline-block [--trigger:click] [--placement:top]"},[Jt("a",Wz,[Jt("span",{innerHTML:l.value,class:"bg-yellow-100"},null,8,Zz),Jt("div",Xz,[Jt("div",Yz,[Jt("img",{class:"w-full h-auto rounded-t-xl",src:(G=m.value)==null?void 0:G.thumbnail,alt:"Image Description"},null,8,Kz),Jt("div",Jz,[Jt("h3",Qz,e0(y.value),1),Jt("p",$z,e0(_.value),1),Jt("div",tO,[Jt("a",{class:"inline-flex items-center gap-2 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all text-sm",target:"_blank",href:E.value},nO,8,eO)])])])])])],512)}}}),sO=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}ez-header ul,ez-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}
`,aO=Ma(oO,[["styles",[sO]]]);function U1(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!1,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!1,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let dh=U1();function OS(n){dh=n}const NS=/[&<>"']/,lO=new RegExp(NS.source,"g"),DS=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,cO=new RegExp(DS.source,"g"),uO={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},n2=n=>uO[n];function no(n,i){if(i){if(NS.test(n))return n.replace(lO,n2)}else if(DS.test(n))return n.replace(cO,n2);return n}const hO=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function FS(n){return n.replace(hO,(i,e)=>(e=e.toLowerCase(),e==="colon"?":":e.charAt(0)==="#"?e.charAt(1)==="x"?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""))}const dO=/(^|[^\[])\^/g;function yi(n,i){n=typeof n=="string"?n:n.source,i=i||"";const e={replace:(o,l)=>(l=typeof l=="object"&&"source"in l?l.source:l,l=l.replace(dO,"$1"),n=n.replace(o,l),e),getRegex:()=>new RegExp(n,i)};return e}const pO=/[^\w:]/g,fO=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function o2(n,i,e){if(n){let o;try{o=decodeURIComponent(FS(e)).replace(pO,"").toLowerCase()}catch{return null}if(o.indexOf("javascript:")===0||o.indexOf("vbscript:")===0||o.indexOf("data:")===0)return null}i&&!fO.test(e)&&(e=yO(i,e));try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const xv={},gO=/^[^:]+:\/*[^/]*$/,mO=/^([^:]+:)[\s\S]*$/,vO=/^([^:]+:\/*[^/]*)[\s\S]*$/;function yO(n,i){xv[" "+n]||(gO.test(n)?xv[" "+n]=n+"/":xv[" "+n]=Zv(n,"/",!0)),n=xv[" "+n];const e=n.indexOf(":")===-1;return i.substring(0,2)==="//"?e?i:n.replace(mO,"$1")+i:i.charAt(0)==="/"?e?i:n.replace(vO,"$1")+i:n+i}const f0={exec:()=>null};function s2(n,i){const e=n.replace(/\|/g,(u,p,f)=>{let m=!1,y=p;for(;--y>=0&&f[y]==="\\";)m=!m;return m?"|":" |"}),o=e.split(/ \|/);let l=0;if(o[0].trim()||o.shift(),o.length>0&&!o[o.length-1].trim()&&o.pop(),i)if(o.length>i)o.splice(i);else for(;o.length<i;)o.push("");for(;l<o.length;l++)o[l]=o[l].trim().replace(/\\\|/g,"|");return o}function Zv(n,i,e){const o=n.length;if(o===0)return"";let l=0;for(;l<o;){const u=n.charAt(o-l-1);if(u===i&&!e)l++;else if(u!==i&&e)l++;else break}return n.slice(0,o-l)}function bO(n,i){if(n.indexOf(i[1])===-1)return-1;let e=0;for(let o=0;o<n.length;o++)if(n[o]==="\\")o++;else if(n[o]===i[0])e++;else if(n[o]===i[1]&&(e--,e<0))return o;return-1}function wO(n,i){!n||n.silent||(i&&console.warn("marked(): callback is deprecated since version 5.0.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/using_pro#async"),(n.sanitize||n.sanitizer)&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options"),(n.highlight||n.langPrefix!=="language-")&&console.warn("marked(): highlight and langPrefix parameters are deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-highlight."),n.mangle&&console.warn("marked(): mangle parameter is enabled by default, but is deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install https://www.npmjs.com/package/marked-mangle, or disable by setting `{mangle: false}`."),n.baseUrl&&console.warn("marked(): baseUrl parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-base-url."),n.smartypants&&console.warn("marked(): smartypants parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-smartypants."),n.xhtml&&console.warn("marked(): xhtml parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-xhtml."),(n.headerIds||n.headerPrefix)&&console.warn("marked(): headerIds and headerPrefix parameters enabled by default, but are deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install  https://www.npmjs.com/package/marked-gfm-heading-id, or disable by setting `{headerIds: false}`."))}function a2(n,i,e,o){const l=i.href,u=i.title?no(i.title):null,p=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){o.state.inLink=!0;const f={type:"link",raw:e,href:l,title:u,text:p,tokens:o.inlineTokens(p)};return o.state.inLink=!1,f}return{type:"image",raw:e,href:l,title:u,text:no(p)}}function xO(n,i){const e=n.match(/^(\s+)(?:```)/);if(e===null)return i;const o=e[1];return i.split(`
`).map(l=>{const u=l.match(/^\s+/);if(u===null)return l;const[p]=u;return p.length>=o.length?l.slice(o.length):l}).join(`
`)}class g0{constructor(i){li(this,"options");li(this,"rules");li(this,"lexer");this.options=i||dh}space(i){const e=this.rules.block.newline.exec(i);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(i){const e=this.rules.block.code.exec(i);if(e){const o=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?o:Zv(o,`
`)}}}fences(i){const e=this.rules.block.fences.exec(i);if(e){const o=e[0],l=xO(o,e[3]||"");return{type:"code",raw:o,lang:e[2]?e[2].trim().replace(this.rules.inline._escapes,"$1"):e[2],text:l}}}heading(i){const e=this.rules.block.heading.exec(i);if(e){let o=e[2].trim();if(/#$/.test(o)){const l=Zv(o,"#");(this.options.pedantic||!l||/ $/.test(l))&&(o=l.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:o,tokens:this.lexer.inline(o)}}}hr(i){const e=this.rules.block.hr.exec(i);if(e)return{type:"hr",raw:e[0]}}blockquote(i){const e=this.rules.block.blockquote.exec(i);if(e){const o=e[0].replace(/^ *>[ \t]?/gm,""),l=this.lexer.state.top;this.lexer.state.top=!0;const u=this.lexer.blockTokens(o);return this.lexer.state.top=l,{type:"blockquote",raw:e[0],tokens:u,text:o}}}list(i){let e=this.rules.block.list.exec(i);if(e){let o=e[1].trim();const l=o.length>1,u={type:"list",raw:"",ordered:l,start:l?+o.slice(0,-1):"",loose:!1,items:[]};o=l?`\\d{1,9}\\${o.slice(-1)}`:`\\${o}`,this.options.pedantic&&(o=l?o:"[*+-]");const p=new RegExp(`^( {0,3}${o})((?:[	 ][^\\n]*)?(?:\\n|$))`);let f="",m="",y=!1;for(;i;){let _=!1;if(!(e=p.exec(i))||this.rules.block.hr.test(i))break;f=e[0],i=i.substring(f.length);let E=e[2].split(`
`,1)[0].replace(/^\t+/,H=>" ".repeat(3*H.length)),C=i.split(`
`,1)[0],I=0;this.options.pedantic?(I=2,m=E.trimLeft()):(I=e[2].search(/[^ ]/),I=I>4?1:I,m=E.slice(I),I+=e[1].length);let z=!1;if(!E&&/^ *$/.test(C)&&(f+=C+`
`,i=i.substring(C.length+1),_=!0),!_){const H=new RegExp(`^ {0,${Math.min(3,I-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),$=new RegExp(`^ {0,${Math.min(3,I-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),j=new RegExp(`^ {0,${Math.min(3,I-1)}}(?:\`\`\`|~~~)`),V=new RegExp(`^ {0,${Math.min(3,I-1)}}#`);for(;i;){const ot=i.split(`
`,1)[0];if(C=ot,this.options.pedantic&&(C=C.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),j.test(C)||V.test(C)||H.test(C)||$.test(i))break;if(C.search(/[^ ]/)>=I||!C.trim())m+=`
`+C.slice(I);else{if(z||E.search(/[^ ]/)>=4||j.test(E)||V.test(E)||$.test(E))break;m+=`
`+C}!z&&!C.trim()&&(z=!0),f+=ot+`
`,i=i.substring(ot.length+1),E=C.slice(I)}}u.loose||(y?u.loose=!0:/\n *\n *$/.test(f)&&(y=!0));let B=null,G;this.options.gfm&&(B=/^\[[ xX]\] /.exec(m),B&&(G=B[0]!=="[ ] ",m=m.replace(/^\[[ xX]\] +/,""))),u.items.push({type:"list_item",raw:f,task:!!B,checked:G,loose:!1,text:m,tokens:[]}),u.raw+=f}u.items[u.items.length-1].raw=f.trimRight(),u.items[u.items.length-1].text=m.trimRight(),u.raw=u.raw.trimRight();for(let _=0;_<u.items.length;_++)if(this.lexer.state.top=!1,u.items[_].tokens=this.lexer.blockTokens(u.items[_].text,[]),!u.loose){const E=u.items[_].tokens.filter(I=>I.type==="space"),C=E.length>0&&E.some(I=>/\n.*\n/.test(I.raw));u.loose=C}if(u.loose)for(let _=0;_<u.items.length;_++)u.items[_].loose=!0;return u}}html(i){const e=this.rules.block.html.exec(i);if(e){const o={type:"html",block:!0,raw:e[0],pre:!this.options.sanitizer&&(e[1]==="pre"||e[1]==="script"||e[1]==="style"),text:e[0]};if(this.options.sanitize){const l=this.options.sanitizer?this.options.sanitizer(e[0]):no(e[0]),u=o;u.type="paragraph",u.text=l,u.tokens=this.lexer.inline(l)}return o}}def(i){const e=this.rules.block.def.exec(i);if(e){const o=e[1].toLowerCase().replace(/\s+/g," "),l=e[2]?e[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",u=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline._escapes,"$1"):e[3];return{type:"def",tag:o,raw:e[0],href:l,title:u}}}table(i){const e=this.rules.block.table.exec(i);if(e){const o={type:"table",raw:e[0],header:s2(e[1]).map(l=>({text:l,tokens:[]})),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(o.header.length===o.align.length){let l=o.align.length,u,p,f,m;for(u=0;u<l;u++){const y=o.align[u];y&&(/^ *-+: *$/.test(y)?o.align[u]="right":/^ *:-+: *$/.test(y)?o.align[u]="center":/^ *:-+ *$/.test(y)?o.align[u]="left":o.align[u]=null)}for(l=o.rows.length,u=0;u<l;u++)o.rows[u]=s2(o.rows[u],o.header.length).map(y=>({text:y,tokens:[]}));for(l=o.header.length,p=0;p<l;p++)o.header[p].tokens=this.lexer.inline(o.header[p].text);for(l=o.rows.length,p=0;p<l;p++)for(m=o.rows[p],f=0;f<m.length;f++)m[f].tokens=this.lexer.inline(m[f].text);return o}}}lheading(i){const e=this.rules.block.lheading.exec(i);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(i){const e=this.rules.block.paragraph.exec(i);if(e){const o=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:o,tokens:this.lexer.inline(o)}}}text(i){const e=this.rules.block.text.exec(i);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(i){const e=this.rules.inline.escape.exec(i);if(e)return{type:"escape",raw:e[0],text:no(e[1])}}tag(i){const e=this.rules.inline.tag.exec(i);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):no(e[0]):e[0]}}link(i){const e=this.rules.inline.link.exec(i);if(e){const o=e[2].trim();if(!this.options.pedantic&&/^</.test(o)){if(!/>$/.test(o))return;const p=Zv(o.slice(0,-1),"\\");if((o.length-p.length)%2===0)return}else{const p=bO(e[2],"()");if(p>-1){const m=(e[0].indexOf("!")===0?5:4)+e[1].length+p;e[2]=e[2].substring(0,p),e[0]=e[0].substring(0,m).trim(),e[3]=""}}let l=e[2],u="";if(this.options.pedantic){const p=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(l);p&&(l=p[1],u=p[3])}else u=e[3]?e[3].slice(1,-1):"";return l=l.trim(),/^</.test(l)&&(this.options.pedantic&&!/>$/.test(o)?l=l.slice(1):l=l.slice(1,-1)),a2(e,{href:l&&l.replace(this.rules.inline._escapes,"$1"),title:u&&u.replace(this.rules.inline._escapes,"$1")},e[0],this.lexer)}}reflink(i,e){let o;if((o=this.rules.inline.reflink.exec(i))||(o=this.rules.inline.nolink.exec(i))){let l=(o[2]||o[1]).replace(/\s+/g," ");if(l=e[l.toLowerCase()],!l){const u=o[0].charAt(0);return{type:"text",raw:u,text:u}}return a2(o,l,o[0],this.lexer)}}emStrong(i,e,o=""){let l=this.rules.inline.emStrong.lDelim.exec(i);if(!l||l[3]&&o.match(/[\p{L}\p{N}]/u))return;if(!(l[1]||l[2]||"")||!o||this.rules.inline.punctuation.exec(o)){const p=[...l[0]].length-1;let f,m,y=p,_=0;const E=l[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(E.lastIndex=0,e=e.slice(-1*i.length+p);(l=E.exec(e))!=null;){if(f=l[1]||l[2]||l[3]||l[4]||l[5]||l[6],!f)continue;if(m=[...f].length,l[3]||l[4]){y+=m;continue}else if((l[5]||l[6])&&p%3&&!((p+m)%3)){_+=m;continue}if(y-=m,y>0)continue;m=Math.min(m,m+y+_);const C=[...i].slice(0,p+l.index+m+1).join("");if(Math.min(p,m)%2){const z=C.slice(1,-1);return{type:"em",raw:C,text:z,tokens:this.lexer.inlineTokens(z)}}const I=C.slice(2,-2);return{type:"strong",raw:C,text:I,tokens:this.lexer.inlineTokens(I)}}}}codespan(i){const e=this.rules.inline.code.exec(i);if(e){let o=e[2].replace(/\n/g," ");const l=/[^ ]/.test(o),u=/^ /.test(o)&&/ $/.test(o);return l&&u&&(o=o.substring(1,o.length-1)),o=no(o,!0),{type:"codespan",raw:e[0],text:o}}}br(i){const e=this.rules.inline.br.exec(i);if(e)return{type:"br",raw:e[0]}}del(i){const e=this.rules.inline.del.exec(i);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(i,e){const o=this.rules.inline.autolink.exec(i);if(o){let l,u;return o[2]==="@"?(l=no(this.options.mangle?e(o[1]):o[1]),u="mailto:"+l):(l=no(o[1]),u=l),{type:"link",raw:o[0],text:l,href:u,tokens:[{type:"text",raw:l,text:l}]}}}url(i,e){let o;if(o=this.rules.inline.url.exec(i)){let l,u;if(o[2]==="@")l=no(this.options.mangle?e(o[0]):o[0]),u="mailto:"+l;else{let p;do p=o[0],o[0]=this.rules.inline._backpedal.exec(o[0])[0];while(p!==o[0]);l=no(o[0]),o[1]==="www."?u="http://"+o[0]:u=o[0]}return{type:"link",raw:o[0],text:l,href:u,tokens:[{type:"text",raw:l,text:l}]}}}inlineText(i,e){const o=this.rules.inline.text.exec(i);if(o){let l;return this.lexer.state.inRawBlock?l=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):no(o[0]):o[0]:l=no(this.options.smartypants?e(o[0]):o[0]),{type:"text",raw:o[0],text:l}}}}const Ve={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:f0,lheading:/^((?:(?!^bull ).|\n(?!\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Ve._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;Ve._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;Ve.def=yi(Ve.def).replace("label",Ve._label).replace("title",Ve._title).getRegex();Ve.bullet=/(?:[*+-]|\d{1,9}[.)])/;Ve.listItemStart=yi(/^( *)(bull) */).replace("bull",Ve.bullet).getRegex();Ve.list=yi(Ve.list).replace(/bull/g,Ve.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Ve.def.source+")").getRegex();Ve._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";Ve._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;Ve.html=yi(Ve.html,"i").replace("comment",Ve._comment).replace("tag",Ve._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();Ve.lheading=yi(Ve.lheading).replace(/bull/g,Ve.bullet).getRegex();Ve.paragraph=yi(Ve._paragraph).replace("hr",Ve.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ve._tag).getRegex();Ve.blockquote=yi(Ve.blockquote).replace("paragraph",Ve.paragraph).getRegex();Ve.normal={...Ve};Ve.gfm={...Ve.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};Ve.gfm.table=yi(Ve.gfm.table).replace("hr",Ve.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ve._tag).getRegex();Ve.gfm.paragraph=yi(Ve._paragraph).replace("hr",Ve.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Ve.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ve._tag).getRegex();Ve.pedantic={...Ve.normal,html:yi(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ve._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:f0,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:yi(Ve.normal._paragraph).replace("hr",Ve.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ve.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const Se={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:f0,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:f0,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};Se._punctuation="\\p{P}$+<=>`^|~";Se.punctuation=yi(Se.punctuation,"u").replace(/punctuation/g,Se._punctuation).getRegex();Se.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;Se.anyPunctuation=/\\[punct]/g;Se._escapes=/\\([punct])/g;Se._comment=yi(Ve._comment).replace("(?:-->|$)","-->").getRegex();Se.emStrong.lDelim=yi(Se.emStrong.lDelim,"u").replace(/punct/g,Se._punctuation).getRegex();Se.emStrong.rDelimAst=yi(Se.emStrong.rDelimAst,"gu").replace(/punct/g,Se._punctuation).getRegex();Se.emStrong.rDelimUnd=yi(Se.emStrong.rDelimUnd,"gu").replace(/punct/g,Se._punctuation).getRegex();Se.anyPunctuation=yi(Se.anyPunctuation,"gu").replace(/punct/g,Se._punctuation).getRegex();Se._escapes=yi(Se._escapes,"gu").replace(/punct/g,Se._punctuation).getRegex();Se._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;Se._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;Se.autolink=yi(Se.autolink).replace("scheme",Se._scheme).replace("email",Se._email).getRegex();Se._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;Se.tag=yi(Se.tag).replace("comment",Se._comment).replace("attribute",Se._attribute).getRegex();Se._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;Se._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;Se._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;Se.link=yi(Se.link).replace("label",Se._label).replace("href",Se._href).replace("title",Se._title).getRegex();Se.reflink=yi(Se.reflink).replace("label",Se._label).replace("ref",Ve._label).getRegex();Se.nolink=yi(Se.nolink).replace("ref",Ve._label).getRegex();Se.reflinkSearch=yi(Se.reflinkSearch,"g").replace("reflink",Se.reflink).replace("nolink",Se.nolink).getRegex();Se.normal={...Se};Se.pedantic={...Se.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:yi(/^!?\[(label)\]\((.*?)\)/).replace("label",Se._label).getRegex(),reflink:yi(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Se._label).getRegex()};Se.gfm={...Se.normal,escape:yi(Se.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};Se.gfm.url=yi(Se.gfm.url,"i").replace("email",Se.gfm._extended_email).getRegex();Se.breaks={...Se.gfm,br:yi(Se.br).replace("{2,}","*").getRegex(),text:yi(Se.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function _O(n){return n.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function l2(n){let i="";for(let e=0;e<n.length;e++){const o=Math.random()>.5?"x"+n.charCodeAt(e).toString(16):n.charCodeAt(e).toString();i+="&#"+o+";"}return i}class el{constructor(i){li(this,"tokens");li(this,"options");li(this,"state");li(this,"tokenizer");li(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=i||dh,this.options.tokenizer=this.options.tokenizer||new g0,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={block:Ve.normal,inline:Se.normal};this.options.pedantic?(e.block=Ve.pedantic,e.inline=Se.pedantic):this.options.gfm&&(e.block=Ve.gfm,this.options.breaks?e.inline=Se.breaks:e.inline=Se.gfm),this.tokenizer.rules=e}static get rules(){return{block:Ve,inline:Se}}static lex(i,e){return new el(e).lex(i)}static lexInline(i,e){return new el(e).inlineTokens(i)}lex(i){i=i.replace(/\r\n|\r/g,`
`),this.blockTokens(i,this.tokens);let e;for(;e=this.inlineQueue.shift();)this.inlineTokens(e.src,e.tokens);return this.tokens}blockTokens(i,e=[]){this.options.pedantic?i=i.replace(/\t/g,"    ").replace(/^ +$/gm,""):i=i.replace(/^( *)(\t+)/gm,(f,m,y)=>m+"    ".repeat(y.length));let o,l,u,p;for(;i;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(f=>(o=f.call({lexer:this},i,e))?(i=i.substring(o.raw.length),e.push(o),!0):!1))){if(o=this.tokenizer.space(i)){i=i.substring(o.raw.length),o.raw.length===1&&e.length>0?e[e.length-1].raw+=`
`:e.push(o);continue}if(o=this.tokenizer.code(i)){i=i.substring(o.raw.length),l=e[e.length-1],l&&(l.type==="paragraph"||l.type==="text")?(l.raw+=`
`+o.raw,l.text+=`
`+o.text,this.inlineQueue[this.inlineQueue.length-1].src=l.text):e.push(o);continue}if(o=this.tokenizer.fences(i)){i=i.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.heading(i)){i=i.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.hr(i)){i=i.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.blockquote(i)){i=i.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.list(i)){i=i.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.html(i)){i=i.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.def(i)){i=i.substring(o.raw.length),l=e[e.length-1],l&&(l.type==="paragraph"||l.type==="text")?(l.raw+=`
`+o.raw,l.text+=`
`+o.raw,this.inlineQueue[this.inlineQueue.length-1].src=l.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title});continue}if(o=this.tokenizer.table(i)){i=i.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.lheading(i)){i=i.substring(o.raw.length),e.push(o);continue}if(u=i,this.options.extensions&&this.options.extensions.startBlock){let f=1/0;const m=i.slice(1);let y;this.options.extensions.startBlock.forEach(_=>{y=_.call({lexer:this},m),typeof y=="number"&&y>=0&&(f=Math.min(f,y))}),f<1/0&&f>=0&&(u=i.substring(0,f+1))}if(this.state.top&&(o=this.tokenizer.paragraph(u))){l=e[e.length-1],p&&l.type==="paragraph"?(l.raw+=`
`+o.raw,l.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=l.text):e.push(o),p=u.length!==i.length,i=i.substring(o.raw.length);continue}if(o=this.tokenizer.text(i)){i=i.substring(o.raw.length),l=e[e.length-1],l&&l.type==="text"?(l.raw+=`
`+o.raw,l.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=l.text):e.push(o);continue}if(i){const f="Infinite loop on byte: "+i.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return this.state.top=!0,e}inline(i,e=[]){return this.inlineQueue.push({src:i,tokens:e}),e}inlineTokens(i,e=[]){let o,l,u,p=i,f,m,y;if(this.tokens.links){const _=Object.keys(this.tokens.links);if(_.length>0)for(;(f=this.tokenizer.rules.inline.reflinkSearch.exec(p))!=null;)_.includes(f[0].slice(f[0].lastIndexOf("[")+1,-1))&&(p=p.slice(0,f.index)+"["+"a".repeat(f[0].length-2)+"]"+p.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(f=this.tokenizer.rules.inline.blockSkip.exec(p))!=null;)p=p.slice(0,f.index)+"["+"a".repeat(f[0].length-2)+"]"+p.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(f=this.tokenizer.rules.inline.anyPunctuation.exec(p))!=null;)p=p.slice(0,f.index)+"++"+p.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;i;)if(m||(y=""),m=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(_=>(o=_.call({lexer:this},i,e))?(i=i.substring(o.raw.length),e.push(o),!0):!1))){if(o=this.tokenizer.escape(i)){i=i.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.tag(i)){i=i.substring(o.raw.length),l=e[e.length-1],l&&o.type==="text"&&l.type==="text"?(l.raw+=o.raw,l.text+=o.text):e.push(o);continue}if(o=this.tokenizer.link(i)){i=i.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.reflink(i,this.tokens.links)){i=i.substring(o.raw.length),l=e[e.length-1],l&&o.type==="text"&&l.type==="text"?(l.raw+=o.raw,l.text+=o.text):e.push(o);continue}if(o=this.tokenizer.emStrong(i,p,y)){i=i.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.codespan(i)){i=i.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.br(i)){i=i.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.del(i)){i=i.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.autolink(i,l2)){i=i.substring(o.raw.length),e.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(i,l2))){i=i.substring(o.raw.length),e.push(o);continue}if(u=i,this.options.extensions&&this.options.extensions.startInline){let _=1/0;const E=i.slice(1);let C;this.options.extensions.startInline.forEach(I=>{C=I.call({lexer:this},E),typeof C=="number"&&C>=0&&(_=Math.min(_,C))}),_<1/0&&_>=0&&(u=i.substring(0,_+1))}if(o=this.tokenizer.inlineText(u,_O)){i=i.substring(o.raw.length),o.raw.slice(-1)!=="_"&&(y=o.raw.slice(-1)),m=!0,l=e[e.length-1],l&&l.type==="text"?(l.raw+=o.raw,l.text+=o.text):e.push(o);continue}if(i){const _="Infinite loop on byte: "+i.charCodeAt(0);if(this.options.silent){console.error(_);break}else throw new Error(_)}}return e}}class m0{constructor(i){li(this,"options");this.options=i||dh}code(i,e,o){var u;const l=(u=(e||"").match(/^\S*/))==null?void 0:u[0];if(this.options.highlight){const p=this.options.highlight(i,l);p!=null&&p!==i&&(o=!0,i=p)}return i=i.replace(/\n$/,"")+`
`,l?'<pre><code class="'+this.options.langPrefix+no(l)+'">'+(o?i:no(i,!0))+`</code></pre>
`:"<pre><code>"+(o?i:no(i,!0))+`</code></pre>
`}blockquote(i){return`<blockquote>
${i}</blockquote>
`}html(i,e){return i}heading(i,e,o,l){if(this.options.headerIds){const u=this.options.headerPrefix+l.slug(o);return`<h${e} id="${u}">${i}</h${e}>
`}return`<h${e}>${i}</h${e}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(i,e,o){const l=e?"ol":"ul",u=e&&o!==1?' start="'+o+'"':"";return"<"+l+u+`>
`+i+"</"+l+`>
`}listitem(i,e,o){return`<li>${i}</li>
`}checkbox(i){return"<input "+(i?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(i){return`<p>${i}</p>
`}table(i,e){return e&&(e=`<tbody>${e}</tbody>`),`<table>
<thead>
`+i+`</thead>
`+e+`</table>
`}tablerow(i){return`<tr>
${i}</tr>
`}tablecell(i,e){const o=e.header?"th":"td";return(e.align?`<${o} align="${e.align}">`:`<${o}>`)+i+`</${o}>
`}strong(i){return`<strong>${i}</strong>`}em(i){return`<em>${i}</em>`}codespan(i){return`<code>${i}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(i){return`<del>${i}</del>`}link(i,e,o){const l=o2(this.options.sanitize,this.options.baseUrl,i);if(l===null)return o;i=l;let u='<a href="'+i+'"';return e&&(u+=' title="'+e+'"'),u+=">"+o+"</a>",u}image(i,e,o){const l=o2(this.options.sanitize,this.options.baseUrl,i);if(l===null)return o;i=l;let u=`<img src="${i}" alt="${o}"`;return e&&(u+=` title="${e}"`),u+=this.options.xhtml?"/>":">",u}text(i){return i}}class G1{strong(i){return i}em(i){return i}codespan(i){return i}del(i){return i}html(i){return i}text(i){return i}link(i,e,o){return""+o}image(i,e,o){return""+o}br(){return""}}class q1{constructor(){li(this,"seen");this.seen={}}serialize(i){return i.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(i,e){let o=i,l=0;if(this.seen.hasOwnProperty(o)){l=this.seen[i];do l++,o=i+"-"+l;while(this.seen.hasOwnProperty(o))}return e||(this.seen[i]=l,this.seen[o]=0),o}slug(i,e={}){const o=this.serialize(i);return this.getNextSafeSlug(o,e.dryrun)}}class rl{constructor(i){li(this,"options");li(this,"renderer");li(this,"textRenderer");li(this,"slugger");this.options=i||dh,this.options.renderer=this.options.renderer||new m0,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new G1,this.slugger=new q1}static parse(i,e){return new rl(e).parse(i)}static parseInline(i,e){return new rl(e).parseInline(i)}parse(i,e=!0){let o="";for(let l=0;l<i.length;l++){const u=i[l];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[u.type]){const p=u,f=this.options.extensions.renderers[p.type].call({parser:this},p);if(f!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(p.type)){o+=f||"";continue}}switch(u.type){case"space":continue;case"hr":{o+=this.renderer.hr();continue}case"heading":{const p=u;o+=this.renderer.heading(this.parseInline(p.tokens),p.depth,FS(this.parseInline(p.tokens,this.textRenderer)),this.slugger);continue}case"code":{const p=u;o+=this.renderer.code(p.text,p.lang,!!p.escaped);continue}case"table":{const p=u;let f="",m="";for(let _=0;_<p.header.length;_++)m+=this.renderer.tablecell(this.parseInline(p.header[_].tokens),{header:!0,align:p.align[_]});f+=this.renderer.tablerow(m);let y="";for(let _=0;_<p.rows.length;_++){const E=p.rows[_];m="";for(let C=0;C<E.length;C++)m+=this.renderer.tablecell(this.parseInline(E[C].tokens),{header:!1,align:p.align[C]});y+=this.renderer.tablerow(m)}o+=this.renderer.table(f,y);continue}case"blockquote":{const p=u,f=this.parse(p.tokens);o+=this.renderer.blockquote(f);continue}case"list":{const p=u,f=p.ordered,m=p.start,y=p.loose;let _="";for(let E=0;E<p.items.length;E++){const C=p.items[E],I=C.checked,z=C.task;let B="";if(C.task){const G=this.renderer.checkbox(!!I);y?C.tokens.length>0&&C.tokens[0].type==="paragraph"?(C.tokens[0].text=G+" "+C.tokens[0].text,C.tokens[0].tokens&&C.tokens[0].tokens.length>0&&C.tokens[0].tokens[0].type==="text"&&(C.tokens[0].tokens[0].text=G+" "+C.tokens[0].tokens[0].text)):C.tokens.unshift({type:"text",text:G}):B+=G}B+=this.parse(C.tokens,y),_+=this.renderer.listitem(B,z,!!I)}o+=this.renderer.list(_,f,m);continue}case"html":{const p=u;o+=this.renderer.html(p.text,p.block);continue}case"paragraph":{const p=u;o+=this.renderer.paragraph(this.parseInline(p.tokens));continue}case"text":{let p=u,f=p.tokens?this.parseInline(p.tokens):p.text;for(;l+1<i.length&&i[l+1].type==="text";)p=i[++l],f+=`
`+(p.tokens?this.parseInline(p.tokens):p.text);o+=e?this.renderer.paragraph(f):f;continue}default:{const p='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(p),"";throw new Error(p)}}}return o}parseInline(i,e){e=e||this.renderer;let o="";for(let l=0;l<i.length;l++){const u=i[l];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[u.type]){const p=this.options.extensions.renderers[u.type].call({parser:this},u);if(p!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(u.type)){o+=p||"";continue}}switch(u.type){case"escape":{const p=u;o+=e.text(p.text);break}case"html":{const p=u;o+=e.html(p.text);break}case"link":{const p=u;o+=e.link(p.href,p.title,this.parseInline(p.tokens,e));break}case"image":{const p=u;o+=e.image(p.href,p.title,p.text);break}case"strong":{const p=u;o+=e.strong(this.parseInline(p.tokens,e));break}case"em":{const p=u;o+=e.em(this.parseInline(p.tokens,e));break}case"codespan":{const p=u;o+=e.codespan(p.text);break}case"br":{o+=e.br();break}case"del":{const p=u;o+=e.del(this.parseInline(p.tokens,e));break}case"text":{const p=u;o+=e.text(p.text);break}default:{const p='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(p),"";throw new Error(p)}}}return o}}class Kf{constructor(i){li(this,"options");this.options=i||dh}preprocess(i){return i}postprocess(i){return i}}li(Kf,"passThroughHooks",new Set(["preprocess","postprocess"]));var Cg,Nw,F0,BS;class kO{constructor(...i){Nb(this,Cg);Nb(this,F0);li(this,"defaults",U1());li(this,"options",this.setOptions);li(this,"parse",uv(this,Cg,Nw).call(this,el.lex,rl.parse));li(this,"parseInline",uv(this,Cg,Nw).call(this,el.lexInline,rl.parseInline));li(this,"Parser",rl);li(this,"parser",rl.parse);li(this,"Renderer",m0);li(this,"TextRenderer",G1);li(this,"Lexer",el);li(this,"lexer",el.lex);li(this,"Tokenizer",g0);li(this,"Slugger",q1);li(this,"Hooks",Kf);this.use(...i)}walkTokens(i,e){var l,u;let o=[];for(const p of i)switch(o=o.concat(e.call(this,p)),p.type){case"table":{const f=p;for(const m of f.header)o=o.concat(this.walkTokens(m.tokens,e));for(const m of f.rows)for(const y of m)o=o.concat(this.walkTokens(y.tokens,e));break}case"list":{const f=p;o=o.concat(this.walkTokens(f.items,e));break}default:{const f=p;(u=(l=this.defaults.extensions)==null?void 0:l.childTokens)!=null&&u[f.type]?this.defaults.extensions.childTokens[f.type].forEach(m=>{o=o.concat(this.walkTokens(f[m],e))}):f.tokens&&(o=o.concat(this.walkTokens(f.tokens,e)))}}return o}use(...i){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return i.forEach(o=>{const l={...o};if(l.async=this.defaults.async||l.async||!1,o.extensions&&(o.extensions.forEach(u=>{if(!u.name)throw new Error("extension name required");if("renderer"in u){const p=e.renderers[u.name];p?e.renderers[u.name]=function(...f){let m=u.renderer.apply(this,f);return m===!1&&(m=p.apply(this,f)),m}:e.renderers[u.name]=u.renderer}if("tokenizer"in u){if(!u.level||u.level!=="block"&&u.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const p=e[u.level];p?p.unshift(u.tokenizer):e[u.level]=[u.tokenizer],u.start&&(u.level==="block"?e.startBlock?e.startBlock.push(u.start):e.startBlock=[u.start]:u.level==="inline"&&(e.startInline?e.startInline.push(u.start):e.startInline=[u.start]))}"childTokens"in u&&u.childTokens&&(e.childTokens[u.name]=u.childTokens)}),l.extensions=e),o.renderer){const u=this.defaults.renderer||new m0(this.defaults);for(const p in o.renderer){const f=o.renderer[p],m=p,y=u[m];u[m]=(..._)=>{let E=f.apply(u,_);return E===!1&&(E=y.apply(u,_)),E||""}}l.renderer=u}if(o.tokenizer){const u=this.defaults.tokenizer||new g0(this.defaults);for(const p in o.tokenizer){const f=o.tokenizer[p],m=p,y=u[m];u[m]=(..._)=>{let E=f.apply(u,_);return E===!1&&(E=y.apply(u,_)),E}}l.tokenizer=u}if(o.hooks){const u=this.defaults.hooks||new Kf;for(const p in o.hooks){const f=o.hooks[p],m=p,y=u[m];Kf.passThroughHooks.has(p)?u[m]=_=>{if(this.defaults.async)return Promise.resolve(f.call(u,_)).then(C=>y.call(u,C));const E=f.call(u,_);return y.call(u,E)}:u[m]=(..._)=>{let E=f.apply(u,_);return E===!1&&(E=y.apply(u,_)),E}}l.hooks=u}if(o.walkTokens){const u=this.defaults.walkTokens,p=o.walkTokens;l.walkTokens=function(f){let m=[];return m.push(p.call(this,f)),u&&(m=m.concat(u.call(this,f))),m}}this.defaults={...this.defaults,...l}}),this}setOptions(i){return this.defaults={...this.defaults,...i},this}}Cg=new WeakSet,Nw=function(i,e){return(o,l,u)=>{typeof l=="function"&&(u=l,l=null);const p={...l},f={...this.defaults,...p};this.defaults.async===!0&&p.async===!1&&(f.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),f.async=!0);const m=uv(this,F0,BS).call(this,!!f.silent,!!f.async,u);if(typeof o>"u"||o===null)return m(new Error("marked(): input parameter is undefined or null"));if(typeof o!="string")return m(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(o)+", string expected"));if(wO(f,u),f.hooks&&(f.hooks.options=f),u){const y=u,_=f.highlight;let E;try{f.hooks&&(o=f.hooks.preprocess(o)),E=i(o,f)}catch(z){return m(z)}const C=z=>{let B;if(!z)try{f.walkTokens&&this.walkTokens(E,f.walkTokens),B=e(E,f),f.hooks&&(B=f.hooks.postprocess(B))}catch(G){z=G}return f.highlight=_,z?m(z):y(null,B)};if(!_||_.length<3||(delete f.highlight,!E.length))return C();let I=0;this.walkTokens(E,z=>{z.type==="code"&&(I++,setTimeout(()=>{_(z.text,z.lang,(B,G)=>{if(B)return C(B);G!=null&&G!==z.text&&(z.text=G,z.escaped=!0),I--,I===0&&C()})},0))}),I===0&&C();return}if(f.async)return Promise.resolve(f.hooks?f.hooks.preprocess(o):o).then(y=>i(y,f)).then(y=>f.walkTokens?Promise.all(this.walkTokens(y,f.walkTokens)).then(()=>y):y).then(y=>e(y,f)).then(y=>f.hooks?f.hooks.postprocess(y):y).catch(m);try{f.hooks&&(o=f.hooks.preprocess(o));const y=i(o,f);f.walkTokens&&this.walkTokens(y,f.walkTokens);let _=e(y,f);return f.hooks&&(_=f.hooks.postprocess(_)),_}catch(y){return m(y)}}},F0=new WeakSet,BS=function(i,e,o){return l=>{if(l.message+=`
Please report this to https://github.com/markedjs/marked.`,i){const u="<p>An error occurred:</p><pre>"+no(l.message+"",!0)+"</pre>";if(e)return Promise.resolve(u);if(o){o(null,u);return}return u}if(e)return Promise.reject(l);if(o){o(l);return}throw l}};const sh=new kO;function mi(n,i,e){return sh.parse(n,i,e)}mi.options=mi.setOptions=function(n){return sh.setOptions(n),mi.defaults=sh.defaults,OS(mi.defaults),mi};mi.getDefaults=U1;mi.defaults=dh;mi.use=function(...n){return sh.use(...n),mi.defaults=sh.defaults,OS(mi.defaults),mi};mi.walkTokens=function(n,i){return sh.walkTokens(n,i)};mi.parseInline=sh.parseInline;mi.Parser=rl;mi.parser=rl.parse;mi.Renderer=m0;mi.TextRenderer=G1;mi.Lexer=el;mi.lexer=el.lex;mi.Tokenizer=g0;mi.Slugger=q1;mi.Hooks=Kf;mi.parse=mi;mi.options;mi.setOptions;mi.use;mi.walkTokens;mi.parseInline;rl.parse;el.lex;/*
 * HSOverlay
 * @version: 1.3.0
 * @author: HtmlStream
 * @license: Htmlstream Libraries (https://preline.co/docs/license.html)
 * Copyright 2023 Htmlstream
 */class V1 extends ES{constructor(e){super("[data-hs-overlay]");li(this,"root");this.root=e,this.openNextOverlay=!1}init(){this.root.addEventListener("click",e=>{const l=e.target.closest(this.selector),u=e.target.closest("[data-hs-overlay-close]"),p=e.target.getAttribute("aria-overlay")==="true";if(u)return this.close(u.closest(".hs-overlay.open"));if(l)return this.toggle(this.root.querySelector(l.getAttribute("data-hs-overlay")));p&&this._onBackdropClick(e.target)}),this.root.addEventListener("keydown",e=>{if(e.keyCode===27){const o=this.root.querySelector(".hs-overlay.open");if(!o)return;setTimeout(()=>{o.getAttribute("data-hs-overlay-keyboard")!=="false"&&this.close(o)})}})}toggle(e){e&&(e.classList.contains("hidden")?this.open(e):this.close(e))}open(e){if(!e)return;const o=this.root.querySelector(".hs-overlay.open"),l=this.getClassProperty(e,"--body-scroll","false")!=="true";if(o)return this.openNextOverlay=!0,this.close(o).then(()=>{this.open(e),this.openNextOverlay=!1});l&&(this.root.style.overflow="hidden"),this._buildBackdrop(e),this._checkTimer(e),this._autoHide(e),e.classList.remove("hidden"),e.setAttribute("aria-overlay","true"),e.setAttribute("tabindex","-1"),setTimeout(()=>{e.classList.contains("hidden")||(e.classList.add("open"),this._fireEvent("open",e),this._dispatch("open.hs.overlay",e,e),this._focusInput(e))},50)}close(e){return new Promise(o=>{e&&(e.classList.remove("open"),e.removeAttribute("aria-overlay"),e.removeAttribute("tabindex","-1"),this.afterTransition(e,()=>{e.classList.contains("open")||(e.classList.add("hidden"),this._destroyBackdrop(),this._fireEvent("close",e),this._dispatch("close.hs.overlay",e,e),this.root.style.overflow="",o(e))}))})}_autoHide(e){const o=parseInt(this.getClassProperty(e,"--auto-hide","0"));o&&(e.autoHide=setTimeout(()=>{this.close(e)},o))}_checkTimer(e){e.autoHide&&(clearTimeout(e.autoHide),delete e.autoHide)}_onBackdropClick(e){this.getClassProperty(e,"--overlay-backdrop","true")!=="static"&&this.close(e)}_buildBackdrop(e){const o=e.getAttribute("data-hs-overlay-backdrop-container")||!1;let l=document.createElement("div"),u="transition duration fixed inset-0 z-50 bg-gray-900 bg-opacity-50 dark:bg-opacity-80 hs-overlay-backdrop";for(const m of e.classList.values())m.startsWith("hs-overlay-backdrop-open:")&&(u+=` ${m}`);const p=this.getClassProperty(e,"--overlay-backdrop","true")!=="static";this.getClassProperty(e,"--overlay-backdrop","true")!=="false"&&(o&&(l=this.root.querySelector(o).cloneNode(!0),l.classList.remove("hidden"),u=l.classList,l.classList=""),p&&l.addEventListener("click",()=>this.close(e),!0),l.setAttribute("data-hs-overlay-backdrop-template",""),this.root.appendChild(l),setTimeout(()=>{l.classList=u}))}_destroyBackdrop(){const e=this.root.querySelector("[data-hs-overlay-backdrop-template]");e&&(this.openNextOverlay&&(e.style.transitionDuration=`${parseFloat(window.getComputedStyle(e).transitionDuration.replace(/[^\d.-]/g,""))*1.8}s`),e.classList.add("opacity-0"),this.afterTransition(e,()=>{e.remove()}))}_focusInput(e){const o=e.querySelector("[autofocus]");o&&o.focus()}}const EO=["innerHTML"],TO={class:"hs-overlay-open:mt-7 hs-overlay-open:opacity-100 hs-overlay-open:duration-500 mt-0 opacity-0 ease-out transition-all sm:max-w-lg sm:w-full m-3 sm:mx-auto min-h-[calc(100%-3.5rem)] flex items-center"},SO={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},CO={class:"p-4 overflow-y-auto flex items-center gap-4"},PO=Jt("sl-spinner",{style:{"font-size":"3rem","--indicator-color":"deeppink","--track-color":"pink"}},null,-1),MO=["innerHTML"],IO=hs({__name:"Footer.ce",setup(n){const i=Oe([]),e=Oe(null),o=qr(()=>{var I,z;return(z=(I=e.value)==null?void 0:I.getRootNode())==null?void 0:z.host}),l=Oe(null),u=qr(()=>l==null?void 0:l.value),p=qr(()=>new V1(u.value)),f=Oe(null),m=qr(()=>f==null?void 0:f.value),y=Oe("Generating PDF...");ei(m,I=>{p.value.init(),I.addEventListener("open.hs.overlay",z=>_.value=!0),I.addEventListener("close.hs.overlay",z=>_.value=!1)});const _=Oe(!1);ei(_,I=>{I?p.value.open(m.value):p.value.close(m.value)}),ei(o,()=>{E()});function E(){function I(){return Array.from(o.value.querySelectorAll("li")).map(z=>{let B=document.createElement("li");B.innerHTML=mi.parse(z.textContent||"");let G=B.querySelector("code");if(G){let H=G.previousElementSibling,$=H||B,j=C(G.innerHTML);j.id&&($.id=j.id),j.class&&j.class.split(" ").forEach(V=>$.classList.add(V)),j.style&&$.setAttribute("style",j.style),G.remove()}return B})}i.value=I(),new MutationObserver(z=>{for(let B of z)B.type==="childList"&&(i.value=I())}).observe(o.value,{childList:!0,subtree:!0})}function C(I){var H;let z=[];I=I.replace(//g,'"').replace(//g,'"').replace(//g,"'"),(H=I==null?void 0:I.match(/[^\s"]+|"([^"]*)"/gmi))==null||H.filter($=>$).forEach($=>{z.length>0&&z[z.length-1].indexOf("=")===z[z.length-1].length-1?z[z.length-1]=`${z[z.length-1]}${$}`:z.push($)});let B={},G=0;for(;G<z.length;){let $=z[G];if($.indexOf("=")>0){let[j,V]=$.split("=");V=V[0]==='"'&&V[V.length-1]==='"'?V.slice(1,-1):V,B[j]?B[j]+=` ${V}`:B[j]=V}else if($[0]==="."){let j="class",V=$.slice(1);V=V[0]==='"'&&V[V.length-1]==='"'?V.slice(1,-1):V,B[j]?B[j]+=` ${V}`:B[j]=V}else if($[0]===":"){let j="style",V;$.length===1&&G<$.length&&z[G+1][0]==='"'?(V=z[G+1].slice(1,-1),G++):V=$.slice(1),B[j]?B[j]+=` ${V}`:B[j]=V}else if($[0]==='"'){let j="args",V=$.slice(1,-1);B[j]?B[j].push(V):B[j]=[V]}else $[0]==="#"?B.id=$.slice(1):B[$]=!0;G++}return B}return(I,z)=>(Ae(),Ne(nn,null,[Jt("ul",{ref_key:"footer",ref:e,id:"footer",class:"flex bg-slate-100 p-2 gap-3 mt-8 items-center w-full h-8"},[(Ae(!0),Ne(nn,null,Qu(i.value,(B,G)=>(Ae(),Ne("li",{key:`li-${G}`,innerHTML:B.innerHTML,class:Pg(B.className),style:U0(B.getAttribute("style")||"")},null,14,EO))),128))],512),Jt("div",{ref_key:"overlayRef",ref:l},[Jt("div",{ref_key:"modalRef",ref:f,id:"hs-basic-modal",class:"hs-overlay hidden w-full h-full fixed top-0 start-0 z-[80] overflow-x-hidden overflow-y-auto pointer-events-none"},[Jt("div",TO,[Jt("div",SO,[Jt("div",CO,[PO,Jt("p",{innerHTML:y.value},null,8,MO)])])])],512)],512)],64))}}),LO=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}ez-header ul,ez-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}img,svg{height:36px}.push{margin-left:auto}@media only screen and (max-width: 768px){#footer{font-size:.8em}li{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}}.overlay{position:fixed;display:none;width:100%;height:100%;top:0;left:0;right:0;bottom:0;background-color:#00000080;z-index:2;cursor:pointer}
`,RO=Ma(IO,[["styles",[LO]]]),jS="https://iiif.juncture-digital.org";function tw(n){return/^Q\d+$/.test(n)}function AO(n){return n.replace(/-([a-z])/g,function(i){return i[1].toUpperCase()})}function c2(n,i="en"){return typeof n=="object"?n[i]||n.none||n[Object.keys(n).sort()[0]]:n}function zO(n,i="en"){let e=[];return n.metadata&&n.metadata.forEach(o=>{e.push({label:c2(o.label,i)[0],value:c2(o.value,i)})}),e}function OO(n,i="en"){return Object.fromEntries(zO(n,i).map(e=>[e.label,e.value]))}function ew(){return"ontouchstart"in document.documentElement&&/mobi/i.test(navigator.userAgent)}let kn={};async function NO(n=[],i="en"){let e=n.filter(o=>!kn[o]).map(o=>`(<http://www.wikidata.org/entity/${o}>)`);if(e.length>0){let o=`
      SELECT ?item ?label ?description ?alias ?image ?logoImage ?coords ?pageBanner ?whosOnFirst ?wikipedia WHERE {
        VALUES (?item) { ${e.join(" ")} }
        ?item rdfs:label ?label . 
        FILTER (LANG(?label) = "${i}" || LANG(?label) = "en")
        OPTIONAL { ?item schema:description ?description . FILTER (LANG(?description) = "${i}" || LANG(?description) = "en")}
        OPTIONAL { ?item skos:altLabel ?alias . FILTER (LANG(?alias) = "${i}" || LANG(?alias) = "en")}
        OPTIONAL { ?item wdt:P625 ?coords . }
        OPTIONAL { ?item wdt:P18 ?image . }
        OPTIONAL { ?item wdt:P154 ?logoImage . }
        OPTIONAL { ?item wdt:P948 ?pageBanner . }
        OPTIONAL { ?item wdt:P6766 ?whosOnFirst . }
        OPTIONAL { ?wikipedia schema:about ?item; schema:isPartOf <https://${i}.wikipedia.org/> . }
    }`,l=await fetch("https://query.wikidata.org/sparql",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/sparql-results+json"},body:`query=${encodeURIComponent(o)}`});if(l.ok)return(await l.json()).results.bindings.forEach(p=>{let f=p.item.value.split("/").pop();kn[f]?p.alias&&kn[f].aliases.push(p.alias.value):(kn[f]={id:f,label:p.label.value},p.description&&(kn[f].description=p.description.value),p.alias&&(kn[f].aliases=[p.alias.value]),p.coords&&(kn[f].coords=p.coords.value.slice(6,-1).split(" ").reverse().join(",")),p.wikipedia&&(kn[f].wikipedia=p.wikipedia.value),p.pageBanner&&(kn[f].pageBanner=p.pageBanner.value),p.image&&(kn[f].image=p.image.value,kn[f].thumbnail=u2(p.image.value,300)),p.logoImage&&(kn[f].logoImage=p.logoImage.value,kn[f].thumbnail||(kn[f].thumbnail=u2(p.logoImage.value,300))),p.whosOnFirst&&(kn[f].geojson=DO(p.whosOnFirst.value)))}),Object.fromEntries(n.filter(p=>kn[p]).map(p=>[p,kn[p]]))}return Object.fromEntries(n.filter(o=>kn[o]).map(o=>[o,kn[o]]))}function u2(n,i){n=(Array.isArray(n)?n[0]:n).replace(/Special:FilePath\//,"File:").split("File:").pop(),n=decodeURIComponent(n).replace(/ /g,"_");const e=rn.hashStr(n),o=n.split(".").pop();let l=`https://upload.wikimedia.org/wikipedia/commons${i?"/thumb":""}`;return l+=`/${e.slice(0,1)}/${e.slice(0,2)}/${n}`,i&&(l+=`/${i}px-${n}`,o==="svg"?l+=".png":(o==="tif"||o==="tiff")&&(l+=".jpg")),l}function DO(n){let i=[];for(let e=0;e<n.length;e+=3)i.push(n.slice(e,e+3));return`https://data.whosonfirst.org/${i.join("/")}/${n}.geojson`}async function FO(n,i,e){return new Promise(o=>{let{x:l,y:u,w:p,h:f}=i,{width:m,height:y}=e,_=new Image;_.crossOrigin="anonymous",l=l?l/100:0,u=u?u/100:0,p=p?p/100:0,f=f?f/100:0,_.onload=()=>{let E=_.width,C=_.height,I=p>0?E*p:E-E*l,z=f>0?C*f:C-C*u,B=I/z;B>1?y=m/B:m=y*B;const G=document.createElement("canvas"),H=G.getContext("2d");G.width=m,G.height=y,l=l*E,u=u*C,H==null||H.drawImage(_,l,u,I,z,0,0,m,y);let $=G.toDataURL();o($)},_.src=n})}async function Ed(n,i="en"){return(await NO([n],i))[n]}function HS(n,i,e=[]){if(e=e||[],i.items)for(let o=0;o<i.items.length;o++){let l=i.items[o];!Object.entries(n).find(([p,f])=>l[p]&&l[p]!==f)?e.push(l):HS(n,l,e)}return e}function BO(n,i,e=1){const o=HS(n,i);return o.length>=e?o[e-1]:null}function US(n,i=1){return BO({type:"Annotation",motivation:"painting"},n,i).body}function jO(n){let i=(n==null?void 0:n.split("/"))||[],e="full",o="full",l="0",u="default",p="jpg",f=0;return{region:i.length>f&&i[f]?i[f]:e,size:i.length>f+1&&i[f+1]?i[f+1]:o,rotation:i.length>f+2&&i[f+2]?i[f+2]:l,quality:i.length>f+3&&i[f+3]?i[f+3]:u,format:i.length>f+4&&i[f+4]?i[f+4]:p}}const _v={};async function HO(n,i=!1){let e=n.map(l=>l.indexOf("http")===0?l:`${jS}/${l}/manifest.json`),o=e.filter(l=>!_v[l]);if(o.length>0){let l=o.map(f=>(i&&["localhost","iiif.juncture-digital.org"].includes(new URL(f).hostname)&&(f+="?refresh"),fetch(f))),u=await Promise.all(l),p=await Promise.all(u.map(f=>f.json()));if(l=p.filter(f=>!Array.isArray(f["@context"])&&parseFloat(f["@context"].split("/").slice(-2,-1).pop())<3).map(f=>fetch("https://iiif.juncture-digital.org/prezi2to3/",{method:"POST",body:JSON.stringify(f)})),l.length>0){u=await Promise.all(l);let f=await Promise.all(u.map(m=>m.json()));for(let m=0;m<p.length;m++){let y=p[m].id||p[m]["@id"],_=f.find(E=>(E.id||E["@id"])===y);_&&(p[m]=_)}}return p.forEach((f,m)=>_v[o[m]]=f),e.map(f=>_v[f])}else return e.map(l=>_v[l])}async function v0(n,i=!1){let e=n.indexOf("http")===0?n:`${jS}/${n}/manifest.json`;return(await HO([e],i))[0]}const UO={key:0,class:"logo"},GO=["href"],qO=["src"],VO={class:"branding"},WO={key:0,class:"title"},ZO=["href","innerHTML"],XO=["innerHTML"],YO={class:"search-and-menu"},KO=["search-domain","search-cx","search-key"],JO=["contact","pdf-download-enabled","innerHTML"],QO={key:0},$O=["manifest"],tN=hs({__name:"Header.ce",props:{alpha:{type:Number},background:{type:String},breadcrumbs:{type:Boolean,default:!1},color:{type:String},contact:{type:String},height:{type:Number},iconFilter:{type:String},logo:{type:String},options:{type:String},pdfDownloadEnabled:{type:Boolean,default:!1},position:{type:String,default:"center"},subtitle:{type:String},searchDomain:{type:String},searchCx:{type:String},searchKey:{type:String},title:{type:String},top:{type:Number,default:0}},setup(n){const i=n,e=self.window,o=Oe(null),l=qr(()=>{var Z,lt;return(lt=(Z=o.value)==null?void 0:Z.getRootNode())==null?void 0:lt.host}),u=Oe(null),p=Oe(null),f=Oe(),m=Oe(e.config||{});ei(m,Z=>{console.log("watch.config",Z)});const y=qr(()=>{var Z;return i.title||((Z=m.value.meta)==null?void 0:Z.title)}),_=qr(()=>{var Z,lt;return i.background||((lt=(Z=m.value.defaults)==null?void 0:Z.header)==null?void 0:lt.backgroundImage)}),E=qr(()=>{var lt,ut;let Z=i.logo||((ut=(lt=m.value.defaults)==null?void 0:lt.header)==null?void 0:ut.logo);return Z&&((Z==null?void 0:Z.indexOf("http"))===0?Z:`${m.value.baseurl}/${Z[0]==="/"?Z.slice(1):Z}`)}),C=qr(()=>{var Z,lt;return i.iconFilter===void 0?(lt=(Z=m.value.defaults)==null?void 0:Z.header)==null?void 0:lt.iconFilter:i.iconFilter}),I=qr(()=>i.color||(_.value?"black":"#ddd")),z=qr(()=>{var Z,lt;return i.contact||((lt=(Z=m.value.defaults)==null?void 0:Z.header)==null?void 0:lt.contact)}),B=qr(()=>{var Z,lt;return i.breadcrumbs||((lt=(Z=m.value.defaults)==null?void 0:Z.header)==null?void 0:lt.breadcrumbs)}),G=qr(()=>{var Z,lt;return i.pdfDownloadEnabled||((lt=(Z=m.value.defaults)==null?void 0:Z.header)==null?void 0:lt.pdfDownloadEnabled)});ei(p,Z=>{Z&&(Z.style.backgroundColor=ct(I.value,i.alpha||(_.value?.3:1)))});const H=Oe(!1),$=Oe(),j=Oe(),V=Oe(),ot=Oe();ei(l,Z=>{var lt,ut;if(m.value=e.config||{},j.value=jO(i.options||""),_.value&&v0(_.value).then(mt=>$.value=mt),u.value&&(u.value.style.height=i.height?`${i.height}px`:_.value?"400px":"100px"),(ut=(lt=m.value.defaults)==null?void 0:lt.header)!=null&&ut.class&&m.value.defaults.header.class.split(" ").forEach(mt=>Z.classList.add(mt)),H.value=Z.classList.contains("sticky"),H.value){let mt=parseInt(Z.style.top.replace(/px/,"")),te=i.top?i.top:mt||(_.value?-300:0);Z.style.top=`${te}px`}}),ru(()=>{m1(()=>{var lt,ut,mt,te;let Z=l.value.querySelector("ul");!Z&&((ut=(lt=m.value.defaults)==null?void 0:lt.header)!=null&&ut.nav)&&(Z=document.createElement("ul"),(te=(mt=m.value.defaults)==null?void 0:mt.header)==null||te.nav.forEach(ne=>{const ye=document.createElement("li"),Gt=document.createElement("a");Gt.href=ne.href,Gt.innerHTML=ne.label,ne.icon&&(Gt.innerHTML+=ne.icon),ye.appendChild(Gt),Z.appendChild(ye)})),f.value=Z==null?void 0:Z.innerHTML})}),ei($,(Z,lt)=>{Z!==lt&&(V.value=US(Z))}),ei(V,async(Z,lt)=>{Z!==lt&&(ot.value=Z.service?ft(Z.service[0].id||Z.service[0]["@id"],j.value):await FO(V.value.id,j.value.region,{width:l.value.clientWidth,height:i.height}))}),ei(ot,()=>{u.value&&(u.value.style.backgroundImage=`url("${ot.value}")`,u.value.style.backgroundPosition=i.position)});function ft(Z,lt){let ut=V.value,mt=Number((ut.width/ut.height).toFixed(4)),te=Math.min(800,l.value.getBoundingClientRect().width),ne=Number(te/mt).toFixed(0),ye=`${te},${ne}`;return`${Z.replace(/\/info.json$/,"")}/${lt.region}/${ye}/${lt.rotation}/${lt.quality}.${lt.format}`}const ht={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#964B00",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8B4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function ct(Z,lt=1){let ut=Z[0]==="#"?Z:ht[Z.toLowerCase()];if(ut.length===4){let mt=ut.slice(1,2),te=ut.slice(2,3),ne=ut.slice(3,4);return mt=parseInt(mt+mt,16),te=parseInt(te+te,16),ne=parseInt(ne+ne,16),`rgba(${mt}, ${te}, ${ne}, ${lt})`}else{const mt=parseInt(ut.slice(1,3),16),te=parseInt(ut.slice(3,5),16),ne=parseInt(ut.slice(5,7),16);return`rgba(${mt}, ${te}, ${ne}, ${lt})`}}return(Z,lt)=>(Ae(),Ne("div",{class:"header",ref_key:"root",ref:o},[Jt("div",{class:"background",ref_key:"background",ref:u},null,512),Jt("div",{class:"navbar",ref_key:"navbar",ref:p},[E.value?(Ae(),Ne("div",UO,[Jt("a",{href:`${m.value.baseurl}/`},[Jt("img",{src:E.value,class:Pg(`${C.value?"icon-"+C.value:""}`),alt:"logo"},null,10,qO)],8,GO)])):fi("",!0),Jt("div",VO,[y.value?(Ae(),Ne("div",WO,[Jt("a",{href:`${m.value.baseurl}/`,innerHTML:y.value},null,8,ZO)])):fi("",!0),n.subtitle?(Ae(),Ne("div",{key:1,class:"subtitle clamp1",innerHTML:n.subtitle},null,8,XO)):fi("",!0)]),Jt("div",YO,[i.searchDomain?(Ae(),Ne("ez-site-search",{key:0,"search-domain":i.searchDomain,"search-cx":i.searchCx,"search-key":i.searchKey},null,8,KO)):fi("",!0),f.value!==void 0?(Ae(),Ne("ez-menu",{key:1,contact:z.value,"pdf-download-enabled":G.value?"":null,innerHTML:f.value},null,8,JO)):fi("",!0)])],512),B.value?(Ae(),Ne("ez-breadcrumbs",QO)):fi("",!0),$.value?(Ae(),Ne("ez-manifest-popup",{key:1,manifest:$.value},null,8,$O)):fi("",!0)],512))}}),eN=`:host{display:block}.header{display:grid;grid-template-rows:1fr 100px auto;grid-template-columns:1fr}.background{grid-area:1 / 1 / 3 / 2;background-repeat:no-repeat;background-size:cover;background-position:center;z-index:1;position:relative}.navbar{grid-area:2 / 1 / 3 / 2;background-color:#0006;color:#fff;z-index:2;display:flex;align-items:center;gap:1.5em;padding:0 20px}ez-manifest-popup{visibility:hidden;position:absolute;top:1em;right:1em;z-index:10}.header:hover ez-manifest-popup{visibility:visible;transition:all .5s ease-in}ez-breadcrumbs{grid-area:3 / 1 / 4 / 2;background-color:inherit;color:#fff;z-index:1}.branding{display:flex;flex-direction:column;gap:6px}.title a{font-size:2em;line-height:1;font-weight:500;text-decoration:none;color:inherit}.subtitle{font-size:1.2em;line-height:1;font-weight:300}.logo{display:flex;align-items:center;justify-content:center;height:50%}.logo a{height:100%}.logo img{-o-object-fit:contain;object-fit:contain;vertical-align:middle;height:100%}.search-and-menu{margin-left:auto;display:flex;align-items:center;gap:1em}.clamp1{display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}@media only screen and (max-width: 768px){.navbar{gap:.75em;padding:0 1em}.title a{font-size:1.3em}.subtitle{font-size:1em}.logo img{max-width:40px}ez-breadcrumbs{padding-left:.5rem}}.icon-white{filter:invert(100%) sepia(0%) saturate(7487%) hue-rotate(339deg) brightness(115%) contrast(100%)}
`,rN=Ma(tN,[["styles",[eN]]]);var W1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function GS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var qS={exports:{}};(function(n){//! openseadragon 4.0.0
//! Built on 2022-12-16
//! Git commit: v4.0.0-0-8e6196a
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function i(e){return new i.Viewer(e)}(function(e){e.version={versionStr:"4.0.0",major:parseInt("4",10),minor:parseInt("0",10),revision:parseInt("0",10)};var o={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},l=Object.prototype.toString,u=Object.prototype.hasOwnProperty;e.isFunction=function(p){return e.type(p)==="function"},e.isArray=Array.isArray||function(p){return e.type(p)==="array"},e.isWindow=function(p){return p&&typeof p=="object"&&"setInterval"in p},e.type=function(p){return p==null?String(p):o[l.call(p)]||"object"},e.isPlainObject=function(p){if(!p||i.type(p)!=="object"||p.nodeType||e.isWindow(p)||p.constructor&&!u.call(p,"constructor")&&!u.call(p.constructor.prototype,"isPrototypeOf"))return!1;var f;for(var m in p)f=m;return f===void 0||u.call(p,f)},e.isEmptyObject=function(p){for(var f in p)return!1;return!0},e.freezeObject=function(p){return Object.freeze?e.freezeObject=Object.freeze:e.freezeObject=function(f){return f},e.freezeObject(p)},e.supportsCanvas=function(){var p=document.createElement("canvas");return!!(e.isFunction(p.getContext)&&p.getContext("2d"))}(),e.isCanvasTainted=function(p){var f=!1;try{p.getContext("2d").getImageData(0,0,1,1)}catch{f=!0}return f},e.supportsAddEventListener=function(){return!!(document.documentElement.addEventListener&&document.addEventListener)}(),e.supportsRemoveEventListener=function(){return!!(document.documentElement.removeEventListener&&document.removeEventListener)}(),e.supportsEventListenerOptions=function(){var p=0;if(e.supportsAddEventListener)try{var f={get capture(){return p++,!1},get once(){return p++,!1},get passive(){return p++,!1}};window.addEventListener("test",null,f),window.removeEventListener("test",null,f)}catch{p=0}return p>=3}(),e.getCurrentPixelDensityRatio=function(){if(e.supportsCanvas){var p=document.createElement("canvas").getContext("2d"),f=window.devicePixelRatio||1,m=p.webkitBackingStorePixelRatio||p.mozBackingStorePixelRatio||p.msBackingStorePixelRatio||p.oBackingStorePixelRatio||p.backingStorePixelRatio||1;return Math.max(f,1)/m}else return 1},e.pixelDensityRatio=e.getCurrentPixelDensityRatio()})(i),function(e){e.extend=function(){var m,y,_,E,C,I,z=arguments[0]||{},B=arguments.length,G=!1,H=1;for(typeof z=="boolean"&&(G=z,z=arguments[1]||{},H=2),typeof z!="object"&&!i.isFunction(z)&&(z={}),B===H&&(z=this,--H);H<B;H++)if(m=arguments[H],m!==null||m!==void 0)for(y in m){var $=Object.getOwnPropertyDescriptor(m,y);if($!==void 0){if($.get||$.set){Object.defineProperty(z,y,$);continue}E=$.value}else{e.console.warn('Could not copy inherited property "'+y+'".');continue}z!==E&&(G&&E&&(i.isPlainObject(E)||(C=i.isArray(E)))?(_=z[y],C?(C=!1,I=_&&i.isArray(_)?_:[]):I=_&&i.isPlainObject(_)?_:{},z[y]=i.extend(G,I,E)):E!==void 0&&(z[y]=E))}return z};var o=function(){if(typeof navigator!="object")return!1;var m=navigator.userAgent;return typeof m!="string"?!1:m.indexOf("iPhone")!==-1||m.indexOf("iPad")!==-1||m.indexOf("iPod")!==-1};e.extend(e,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},splitHashDataForPost:!1,panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!1,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerDblClickDrag:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:o(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorElement:null,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,subPixelRoundingForTransparency:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"],silenceMultiImageWarnings:!1},SIGNAL:"----seadragon----",delegate:function(m,y){return function(){var _=arguments;return _===void 0&&(_=[]),y.apply(m,_)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},SUBPIXEL_ROUNDING_OCCURRENCES:{NEVER:0,ONLY_AT_REST:1,ALWAYS:2},_viewers:new Map,getViewer:function(m){return e._viewers.get(this.getElement(m))},getElement:function(m){return typeof m=="string"&&(m=document.getElementById(m)),m},getElementPosition:function(m){var y=new e.Point,_,E;for(m=e.getElement(m),_=e.getElementStyle(m).position==="fixed",E=f(m,_);E;)y.x+=m.offsetLeft,y.y+=m.offsetTop,_&&(y=y.plus(e.getPageScroll())),m=E,_=e.getElementStyle(m).position==="fixed",E=f(m,_);return y},getElementOffset:function(m){m=e.getElement(m);var y=m&&m.ownerDocument,_,E,C={top:0,left:0};return y?(_=y.documentElement,typeof m.getBoundingClientRect<"u"&&(C=m.getBoundingClientRect()),E=y===y.window?y:y.nodeType===9?y.defaultView||y.parentWindow:!1,new e.Point(C.left+(E.pageXOffset||_.scrollLeft)-(_.clientLeft||0),C.top+(E.pageYOffset||_.scrollTop)-(_.clientTop||0))):new e.Point},getElementSize:function(m){return m=e.getElement(m),new e.Point(m.clientWidth,m.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(m){return m=e.getElement(m),m.currentStyle}:function(m){return m=e.getElement(m),window.getComputedStyle(m,"")},getCssPropertyWithVendorPrefix:function(m){var y={};return e.getCssPropertyWithVendorPrefix=function(_){if(y[_]!==void 0)return y[_];var E=document.createElement("div").style,C=null;if(E[_]!==void 0)C=_;else for(var I=["Webkit","Moz","MS","O","webkit","moz","ms","o"],z=e.capitalizeFirstLetter(_),B=0;B<I.length;B++){var G=I[B]+z;if(E[G]!==void 0){C=G;break}}return y[_]=C,C},e.getCssPropertyWithVendorPrefix(m)},capitalizeFirstLetter:function(m){return m.charAt(0).toUpperCase()+m.slice(1)},positiveModulo:function(m,y){var _=m%y;return _<0&&(_+=y),_},pointInElement:function(m,y){m=e.getElement(m);var _=e.getElementOffset(m),E=e.getElementSize(m);return y.x>=_.x&&y.x<_.x+E.x&&y.y<_.y+E.y&&y.y>=_.y},getMousePosition:function(m){if(typeof m.pageX=="number")e.getMousePosition=function(y){var _=new e.Point;return _.x=y.pageX,_.y=y.pageY,_};else if(typeof m.clientX=="number")e.getMousePosition=function(y){var _=new e.Point;return _.x=y.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,_.y=y.clientY+document.body.scrollTop+document.documentElement.scrollTop,_};else throw new Error("Unknown event mouse position, no known technique.");return e.getMousePosition(m)},getPageScroll:function(){var m=document.documentElement||{},y=document.body||{};if(typeof window.pageXOffset=="number")e.getPageScroll=function(){return new e.Point(window.pageXOffset,window.pageYOffset)};else if(y.scrollLeft||y.scrollTop)e.getPageScroll=function(){return new e.Point(document.body.scrollLeft,document.body.scrollTop)};else if(m.scrollLeft||m.scrollTop)e.getPageScroll=function(){return new e.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)};else return new e.Point(0,0);return e.getPageScroll()},setPageScroll:function(m){if(typeof window.scrollTo<"u")e.setPageScroll=function(E){window.scrollTo(E.x,E.y)};else{var y=e.getPageScroll();if(y.x===m.x&&y.y===m.y)return;document.body.scrollLeft=m.x,document.body.scrollTop=m.y;var _=e.getPageScroll();if(_.x!==y.x&&_.y!==y.y){e.setPageScroll=function(E){document.body.scrollLeft=E.x,document.body.scrollTop=E.y};return}if(document.documentElement.scrollLeft=m.x,document.documentElement.scrollTop=m.y,_=e.getPageScroll(),_.x!==y.x&&_.y!==y.y){e.setPageScroll=function(E){document.documentElement.scrollLeft=E.x,document.documentElement.scrollTop=E.y};return}e.setPageScroll=function(E){}}e.setPageScroll(m)},getWindowSize:function(){var m=document.documentElement||{},y=document.body||{};if(typeof window.innerWidth=="number")e.getWindowSize=function(){return new e.Point(window.innerWidth,window.innerHeight)};else if(m.clientWidth||m.clientHeight)e.getWindowSize=function(){return new e.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else if(y.clientWidth||y.clientHeight)e.getWindowSize=function(){return new e.Point(document.body.clientWidth,document.body.clientHeight)};else throw new Error("Unknown window size, no known technique.");return e.getWindowSize()},makeCenteredNode:function(m){m=e.getElement(m);var y=[e.makeNeutralElement("div"),e.makeNeutralElement("div"),e.makeNeutralElement("div")];return e.extend(y[0].style,{display:"table",height:"100%",width:"100%"}),e.extend(y[1].style,{display:"table-row"}),e.extend(y[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),y[0].appendChild(y[1]),y[1].appendChild(y[2]),y[2].appendChild(m),y[0]},makeNeutralElement:function(m){var y=document.createElement(m),_=y.style;return _.background="transparent none",_.border="none",_.margin="0px",_.padding="0px",_.position="static",y},now:function(){return Date.now?e.now=Date.now:e.now=function(){return new Date().getTime()},e.now()},makeTransparentImage:function(m){var y=e.makeNeutralElement("img");return y.src=m,y},setElementOpacity:function(m,y,_){var E,C;m=e.getElement(m),_&&!e.Browser.alpha&&(y=Math.round(y)),e.Browser.opacity?m.style.opacity=y<1?y:"":y<1?(E=Math.round(100*y),C="alpha(opacity="+E+")",m.style.filter=C):m.style.filter=""},setElementTouchActionNone:function(m){m=e.getElement(m),typeof m.style.touchAction<"u"?m.style.touchAction="none":typeof m.style.msTouchAction<"u"&&(m.style.msTouchAction="none")},setElementPointerEvents:function(m,y){m=e.getElement(m),typeof m.style<"u"&&typeof m.style.pointerEvents<"u"&&(m.style.pointerEvents=y)},setElementPointerEventsNone:function(m){e.setElementPointerEvents(m,"none")},addClass:function(m,y){m=e.getElement(m),m.className?(" "+m.className+" ").indexOf(" "+y+" ")===-1&&(m.className+=" "+y):m.className=y},indexOf:function(m,y,_){return Array.prototype.indexOf?this.indexOf=function(E,C,I){return E.indexOf(C,I)}:this.indexOf=function(E,C,I){var z,B=I||0,G;if(!E)throw new TypeError;if(G=E.length,G===0||B>=G)return-1;for(B<0&&(B=G-Math.abs(B)),z=B;z<G;z++)if(E[z]===C)return z;return-1},this.indexOf(m,y,_)},removeClass:function(m,y){var _,E=[],C;for(m=e.getElement(m),_=m.className.split(/\s+/),C=0;C<_.length;C++)_[C]&&_[C]!==y&&E.push(_[C]);m.className=E.join(" ")},normalizeEventListenerOptions:function(m){var y;return typeof m<"u"?typeof m=="boolean"?y=e.supportsEventListenerOptions?{capture:m}:m:y=e.supportsEventListenerOptions?m:typeof m.capture<"u"?m.capture:!1:y=e.supportsEventListenerOptions?{capture:!1}:!1,y},addEvent:function(){if(e.supportsAddEventListener)return function(m,y,_,E){E=e.normalizeEventListenerOptions(E),m=e.getElement(m),m.addEventListener(y,_,E)};if(document.documentElement.attachEvent&&document.attachEvent)return function(m,y,_){m=e.getElement(m),m.attachEvent("on"+y,_)};throw new Error("No known event model.")}(),removeEvent:function(){if(e.supportsRemoveEventListener)return function(m,y,_,E){E=e.normalizeEventListenerOptions(E),m=e.getElement(m),m.removeEventListener(y,_,E)};if(document.documentElement.detachEvent&&document.detachEvent)return function(m,y,_){m=e.getElement(m),m.detachEvent("on"+y,_)};throw new Error("No known event model.")}(),cancelEvent:function(m){m.preventDefault()},eventIsCanceled:function(m){return m.defaultPrevented},stopEvent:function(m){m.stopPropagation()},createCallback:function(m,y){var _=[],E;for(E=2;E<arguments.length;E++)_.push(arguments[E]);return function(){var C=_.concat([]),I;for(I=0;I<arguments.length;I++)C.push(arguments[I]);return y.apply(m,C)}},getUrlParameter:function(m){var y=p[m];return y||null},getUrlProtocol:function(m){var y=m.match(/^([a-z]+:)\/\//i);return y===null?window.location.protocol:y[1].toLowerCase()},createAjaxRequest:function(m){var y;try{y=!!new ActiveXObject("Microsoft.XMLHTTP")}catch{y=!1}if(y)window.XMLHttpRequest?e.createAjaxRequest=function(_){return _?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:e.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else if(window.XMLHttpRequest)e.createAjaxRequest=function(){return new XMLHttpRequest};else throw new Error("Browser doesn't support XMLHttpRequest.");return e.createAjaxRequest(m)},makeAjaxRequest:function(m,y,_){var E,C,I,z;e.isPlainObject(m)&&(y=m.success,_=m.error,E=m.withCredentials,C=m.headers,I=m.responseType||null,z=m.postData||null,m=m.url);var B=e.getUrlProtocol(m),G=e.createAjaxRequest(B==="file:");if(!e.isFunction(y))throw new Error("makeAjaxRequest requires a success callback");G.onreadystatechange=function(){G.readyState===4&&(G.onreadystatechange=function(){},G.status>=200&&G.status<300||G.status===0&&B!=="http:"&&B!=="https:"?y(G):e.isFunction(_)?_(G):e.console.error("AJAX request returned %d: %s",G.status,m))};var H=z?"POST":"GET";try{if(G.open(H,m,!0),I&&(G.responseType=I),C)for(var $ in C)Object.prototype.hasOwnProperty.call(C,$)&&C[$]&&G.setRequestHeader($,C[$]);E&&(G.withCredentials=!0),G.send(z)}catch(j){e.console.error("%s while making AJAX request: %s",j.name,j.message),G.onreadystatechange=function(){},e.isFunction(_)&&_(G,j)}return G},jsonp:function(m){var y,_=m.url,E=document.head||document.getElementsByTagName("head")[0]||document.documentElement,C=m.callbackName||"openseadragon"+e.now(),I=window[C],z="$1"+C+"$2",B=m.param||"callback",G=m.callback;_=_.replace(/(=)\?(&|$)|\?\?/i,z),_+=(/\?/.test(_)?"&":"?")+B+"="+C,window[C]=function(H){if(I)window[C]=I;else try{delete window[C]}catch{}G&&e.isFunction(G)&&G(H)},y=document.createElement("script"),(m.async!==void 0||m.async!==!1)&&(y.async="async"),m.scriptCharset&&(y.charset=m.scriptCharset),y.src=_,y.onload=y.onreadystatechange=function(H,$){($||!y.readyState||/loaded|complete/.test(y.readyState))&&(y.onload=y.onreadystatechange=null,E&&y.parentNode&&E.removeChild(y),y=void 0)},E.insertBefore(y,E.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(m){if(window.DOMParser)e.parseXml=function(y){var _=null,E;return E=new DOMParser,_=E.parseFromString(y,"text/xml"),_};else if(window.ActiveXObject)e.parseXml=function(y){var _=null;return _=new ActiveXObject("Microsoft.XMLDOM"),_.async=!1,_.loadXML(y),_};else throw new Error("Browser doesn't support XML DOM.");return e.parseXml(m)},parseJSON:function(m){return e.parseJSON=window.JSON.parse,e.parseJSON(m)},imageFormatSupported:function(m){return m=m||"",!!u[m.toLowerCase()]},setImageFormatsSupported:function(m){e.extend(u,m)}});var l=function(m){};e.console=window.console||{log:l,debug:l,info:l,warn:l,error:l,assert:l},e.Browser={vendor:e.BROWSERS.UNKNOWN,version:0,alpha:!0};var u={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},p={};(function(){var m=navigator.appVersion,y=navigator.userAgent,_;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&(e.Browser.vendor=e.BROWSERS.IE,e.Browser.version=parseFloat(y.substring(y.indexOf("MSIE")+5,y.indexOf(";",y.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(y.indexOf("Edge")>=0?(e.Browser.vendor=e.BROWSERS.EDGE,e.Browser.version=parseFloat(y.substring(y.indexOf("Edge")+5))):y.indexOf("Edg")>=0?(e.Browser.vendor=e.BROWSERS.CHROMEEDGE,e.Browser.version=parseFloat(y.substring(y.indexOf("Edg")+4))):y.indexOf("Firefox")>=0?(e.Browser.vendor=e.BROWSERS.FIREFOX,e.Browser.version=parseFloat(y.substring(y.indexOf("Firefox")+8))):y.indexOf("Safari")>=0?(e.Browser.vendor=y.indexOf("Chrome")>=0?e.BROWSERS.CHROME:e.BROWSERS.SAFARI,e.Browser.version=parseFloat(y.substring(y.substring(0,y.indexOf("Safari")).lastIndexOf("/")+1,y.indexOf("Safari")))):(_=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),_.exec(y)!==null&&(e.Browser.vendor=e.BROWSERS.IE,e.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":e.Browser.vendor=e.BROWSERS.OPERA,e.Browser.version=parseFloat(m);break}var E=window.location.search.substring(1),C=E.split("&"),I,z,B;for(B=0;B<C.length;B++)if(I=C[B],z=I.indexOf("="),z>0){var G=I.substring(0,z),H=I.substring(z+1);try{p[G]=decodeURIComponent(H)}catch{e.console.error("Ignoring malformed URL parameter: %s=%s",G,H)}}e.Browser.alpha=!(e.Browser.vendor===e.BROWSERS.CHROME&&e.Browser.version<2),e.Browser.opacity=!0,e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<11&&e.console.error("Internet Explorer versions < 11 are not supported by OpenSeadragon")})(),function(m){var y=m.requestAnimationFrame||m.mozRequestAnimationFrame||m.webkitRequestAnimationFrame||m.msRequestAnimationFrame,_=m.cancelAnimationFrame||m.mozCancelAnimationFrame||m.webkitCancelAnimationFrame||m.msCancelAnimationFrame;if(y&&_)e.requestAnimationFrame=function(){return y.apply(m,arguments)},e.cancelAnimationFrame=function(){return _.apply(m,arguments)};else{var E=[],C=[],I=0,z;e.requestAnimationFrame=function(B){return E.push([++I,B]),z||(z=setInterval(function(){if(E.length){var G=e.now(),H=C;for(C=E,E=H;C.length;)C.shift()[1](G)}else clearInterval(z),z=void 0},1e3/50)),I},e.cancelAnimationFrame=function(B){var G,H;for(G=0,H=E.length;G<H;G+=1)if(E[G][0]===B){E.splice(G,1);return}for(G=0,H=C.length;G<H;G+=1)if(C[G][0]===B){C.splice(G,1);return}}}}(window);function f(m,y){return y&&m!==document.body?document.body:m.offsetParent}}(i),function(e,o){n.exports?n.exports=o():e.OpenSeadragon=o()}(W1,function(){return i}),function(e){var o={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(o.supportsFullScreen=!0,o.getFullScreenElement=function(){return document.fullscreenElement},o.requestFullScreen=function(l){return l.requestFullscreen()},o.exitFullScreen=function(){document.exitFullscreen()},o.fullScreenEventName="fullscreenchange",o.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(o.supportsFullScreen=!0,o.getFullScreenElement=function(){return document.msFullscreenElement},o.requestFullScreen=function(l){return l.msRequestFullscreen()},o.exitFullScreen=function(){document.msExitFullscreen()},o.fullScreenEventName="MSFullscreenChange",o.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(o.supportsFullScreen=!0,o.getFullScreenElement=function(){return document.webkitFullscreenElement},o.requestFullScreen=function(l){return l.webkitRequestFullscreen()},o.exitFullScreen=function(){document.webkitExitFullscreen()},o.fullScreenEventName="webkitfullscreenchange",o.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(o.supportsFullScreen=!0,o.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},o.requestFullScreen=function(l){return l.webkitRequestFullScreen()},o.exitFullScreen=function(){document.webkitCancelFullScreen()},o.fullScreenEventName="webkitfullscreenchange",o.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(o.supportsFullScreen=!0,o.getFullScreenElement=function(){return document.mozFullScreenElement},o.requestFullScreen=function(l){return l.mozRequestFullScreen()},o.exitFullScreen=function(){document.mozCancelFullScreen()},o.fullScreenEventName="mozfullscreenchange",o.fullScreenErrorEventName="mozfullscreenerror"),o.isFullScreen=function(){return o.getFullScreenElement()!==null},o.cancelFullScreen=function(){e.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),o.exitFullScreen()},e.extend(e,o)}(i),function(e){e.EventSource=function(){this.events={}},e.EventSource.prototype={addOnceHandler:function(o,l,u,p){var f=this;p=p||1;var m=0,y=function(_){m++,m===p&&f.removeHandler(o,y),l(_)};this.addHandler(o,y,u)},addHandler:function(o,l,u){var p=this.events[o];p||(this.events[o]=p=[]),l&&e.isFunction(l)&&(p[p.length]={handler:l,userData:u||null})},removeHandler:function(o,l){var u=this.events[o],p=[],f;if(u&&e.isArray(u)){for(f=0;f<u.length;f++)u[f].handler!==l&&p.push(u[f]);this.events[o]=p}},numberOfHandlers:function(o){var l=this.events[o];return l?l.length:0},removeAllHandlers:function(o){if(o)this.events[o]=[];else for(var l in this.events)this.events[l]=[]},getHandler:function(o){var l=this.events[o];return!l||!l.length?null:(l=l.length===1?[l[0]]:Array.apply(null,l),function(u,p){var f,m=l.length;for(f=0;f<m;f++)l[f]&&(p.eventSource=u,p.userData=l[f].userData,l[f].handler(p))})},raiseEvent:function(o,l){var u=this.getHandler(o);u&&(l||(l={}),u(this,l))}}}(i),function(e){var o={};e.MouseTracker=function(Q){var K=arguments;e.isPlainObject(Q)||(Q={element:K[0],clickTimeThreshold:K[1],clickDistThreshold:K[2]}),this.hash=Math.random(),this.element=e.getElement(Q.element),this.clickTimeThreshold=Q.clickTimeThreshold||e.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=Q.clickDistThreshold||e.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=Q.dblClickTimeThreshold||e.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=Q.dblClickDistThreshold||e.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=Q.userData||null,this.stopDelay=Q.stopDelay||50,this.preProcessEventHandler=Q.preProcessEventHandler||null,this.contextMenuHandler=Q.contextMenuHandler||null,this.enterHandler=Q.enterHandler||null,this.leaveHandler=Q.leaveHandler||null,this.exitHandler=Q.exitHandler||null,this.overHandler=Q.overHandler||null,this.outHandler=Q.outHandler||null,this.pressHandler=Q.pressHandler||null,this.nonPrimaryPressHandler=Q.nonPrimaryPressHandler||null,this.releaseHandler=Q.releaseHandler||null,this.nonPrimaryReleaseHandler=Q.nonPrimaryReleaseHandler||null,this.moveHandler=Q.moveHandler||null,this.scrollHandler=Q.scrollHandler||null,this.clickHandler=Q.clickHandler||null,this.dblClickHandler=Q.dblClickHandler||null,this.dragHandler=Q.dragHandler||null,this.dragEndHandler=Q.dragEndHandler||null,this.pinchHandler=Q.pinchHandler||null,this.stopHandler=Q.stopHandler||null,this.keyDownHandler=Q.keyDownHandler||null,this.keyUpHandler=Q.keyUpHandler||null,this.keyHandler=Q.keyHandler||null,this.focusHandler=Q.focusHandler||null,this.blurHandler=Q.blurHandler||null;var at=this;o[this.hash]={click:function(st){j(at,st)},dblclick:function(st){V(at,st)},keydown:function(st){ot(at,st)},keyup:function(st){ft(at,st)},keypress:function(st){ht(at,st)},focus:function(st){ct(at,st)},blur:function(st){Z(at,st)},contextmenu:function(st){lt(at,st)},wheel:function(st){ut(at,st)},mousewheel:function(st){mt(at,st)},DOMMouseScroll:function(st){mt(at,st)},MozMousePixelScroll:function(st){mt(at,st)},losecapture:function(st){ne(at,st)},mouseenter:function(st){ee(at,st)},mouseleave:function(st){ve(at,st)},mouseover:function(st){se(at,st)},mouseout:function(st){ue(at,st)},mousedown:function(st){tr(at,st)},mouseup:function(st){Ft(at,st)},mousemove:function(st){Xt(at,st)},touchstart:function(st){ye(at,st)},touchend:function(st){Gt(at,st)},touchmove:function(st){he(at,st)},touchcancel:function(st){Kt(at,st)},gesturestart:function(st){Je(at,st)},gesturechange:function(st){kt(at,st)},gotpointercapture:function(st){zt(at,st)},lostpointercapture:function(st){Wt(at,st)},pointerenter:function(st){ee(at,st)},pointerleave:function(st){ve(at,st)},pointerover:function(st){se(at,st)},pointerout:function(st){ue(at,st)},pointerdown:function(st){tr(at,st)},pointerup:function(st){Ft(at,st)},pointermove:function(st){Xt(at,st)},pointercancel:function(st){vt(at,st)},pointerupcaptured:function(st){qt(at,st)},pointermovecaptured:function(st){nt(at,st)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,e.MouseTracker.havePointerEvents&&e.setElementPointerEvents(this.element,"auto"),this.exitHandler&&e.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),Q.startDisabled||this.setTracking(!0)},e.MouseTracker.prototype={destroy:function(){m(this),this.element=null,o[this.hash]=null,delete o[this.hash]},isTracking:function(){return o[this.hash].tracking},setTracking:function(Q){return Q?f(this):m(this),this},getActivePointersListByType:function(Q){var K=o[this.hash],at,st=K.activePointersLists.length,Vt;for(at=0;at<st;at++)if(K.activePointersLists[at].type===Q)return K.activePointersLists[at];return Vt=new e.MouseTracker.GesturePointList(Q),K.activePointersLists.push(Vt),Vt},getActivePointerCount:function(){var Q=o[this.hash],K,at=Q.activePointersLists.length,st=0;for(K=0;K<at;K++)st+=Q.activePointersLists[K].getLength();return st},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var l=function(){try{return window.self!==window.top}catch{return!0}}();function u(Q){try{return Q.addEventListener&&Q.removeEventListener}catch{return!1}}e.MouseTracker.gesturePointVelocityTracker=function(){var Q=[],K=0,at=0,st=function(ar,Fe){return ar.hash.toString()+Fe.type+Fe.id.toString()},Vt=function(){var ar,Fe=Q.length,jn,Bi,fs=e.now(),Ws,ou,Yi;for(Ws=fs-at,at=fs,ar=0;ar<Fe;ar++)jn=Q[ar],Bi=jn.gPoint,Bi.direction=Math.atan2(Bi.currentPos.y-jn.lastPos.y,Bi.currentPos.x-jn.lastPos.x),ou=jn.lastPos.distanceTo(Bi.currentPos),jn.lastPos=Bi.currentPos,Yi=1e3*ou/(Ws+1),Bi.speed=.75*Yi+.25*Bi.speed},re=function(ar,Fe){var jn=st(ar,Fe);Q.push({guid:jn,gPoint:Fe,lastPos:Fe.currentPos}),Q.length===1&&(at=e.now(),K=window.setInterval(Vt,50))},ke=function(ar,Fe){var jn=st(ar,Fe),Bi,fs=Q.length;for(Bi=0;Bi<fs;Bi++)if(Q[Bi].guid===jn){Q.splice(Bi,1),fs--,fs===0&&window.clearInterval(K);break}};return{addPoint:re,removePoint:ke}}(),e.MouseTracker.captureElement=document,e.MouseTracker.wheelEventName=e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll",e.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",e.MouseTracker.wheelEventName],e.MouseTracker.wheelEventName==="DOMMouseScroll"&&e.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?(e.MouseTracker.havePointerEvents=!0,e.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),e.MouseTracker.havePointerCapture=function(){var Q=document.createElement("div");return e.isFunction(Q.setPointerCapture)&&e.isFunction(Q.releasePointerCapture)}(),e.MouseTracker.havePointerCapture&&e.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(e.MouseTracker.havePointerEvents=!1,e.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),e.MouseTracker.mousePointerId="legacy-mouse",e.MouseTracker.havePointerCapture=function(){var Q=document.createElement("div");return e.isFunction(Q.setCapture)&&e.isFunction(Q.releaseCapture)}(),e.MouseTracker.havePointerCapture&&e.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&e.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&e.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),e.MouseTracker.GesturePointList=function(Q){this._gPoints=[],this.type=Q,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},e.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(Q){return this._gPoints.push(Q)},removeById:function(Q){var K,at=this._gPoints.length;for(K=0;K<at;K++)if(this._gPoints[K].id===Q){this._gPoints.splice(K,1);break}return this._gPoints.length},getByIndex:function(Q){return Q<this._gPoints.length?this._gPoints[Q]:null},getById:function(Q){var K,at=this._gPoints.length;for(K=0;K<at;K++)if(this._gPoints[K].id===Q)return this._gPoints[K];return null},getPrimary:function(Q){var K,at=this._gPoints.length;for(K=0;K<at;K++)if(this._gPoints[K].isPrimary)return this._gPoints[K];return null},addContact:function(){++this.contacts,this.contacts>1&&(this.type==="mouse"||this.type==="pen")&&(e.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}};function p(Q){var K=o[Q.hash],at,st,Vt,re,ke,ar=K.activePointersLists.length;for(at=0;at<ar;at++)if(Vt=K.activePointersLists[at],Vt.getLength()>0){for(ke=[],re=Vt.asArray(),st=0;st<re.length;st++)ke.push(re[st]);for(st=0;st<ke.length;st++)X(Q,Vt,ke[st])}for(at=0;at<ar;at++)K.activePointersLists.pop();K.sentDragEvent=!1}function f(Q){var K=o[Q.hash],at,st;if(!K.tracking){for(st=0;st<e.MouseTracker.subscribeEvents.length;st++)at=e.MouseTracker.subscribeEvents[st],e.addEvent(Q.element,at,K[at],at===e.MouseTracker.wheelEventName?{passive:!1,capture:!1}:!1);p(Q),K.tracking=!0}}function m(Q){var K=o[Q.hash],at,st;if(K.tracking){for(st=0;st<e.MouseTracker.subscribeEvents.length;st++)at=e.MouseTracker.subscribeEvents[st],e.removeEvent(Q.element,at,K[at],!1);p(Q),K.tracking=!1}}function y(Q,K){var at=o[Q.hash];if(K==="pointerevent")return{upName:"pointerup",upHandler:at.pointerupcaptured,moveName:"pointermove",moveHandler:at.pointermovecaptured};if(K==="mouse")return{upName:"pointerup",upHandler:at.pointerupcaptured,moveName:"pointermove",moveHandler:at.pointermovecaptured};if(K==="touch")return{upName:"touchend",upHandler:at.touchendcaptured,moveName:"touchmove",moveHandler:at.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function _(Q,K){var at;if(e.MouseTracker.havePointerCapture)if(e.MouseTracker.havePointerEvents)try{Q.element.setPointerCapture(K.id)}catch{e.console.warn("setPointerCapture() called on invalid pointer ID");return}else Q.element.setCapture(!0);else at=y(Q,e.MouseTracker.havePointerEvents?"pointerevent":K.type),l&&u(window.top)&&e.addEvent(window.top,at.upName,at.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,at.upName,at.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,at.moveName,at.moveHandler,!0);wt(Q,K,!0)}function E(Q,K){var at,st,Vt;if(e.MouseTracker.havePointerCapture)if(e.MouseTracker.havePointerEvents){if(st=Q.getActivePointersListByType(K.type),Vt=st.getById(K.id),!Vt||!Vt.captured)return;try{Q.element.releasePointerCapture(K.id)}catch{}}else Q.element.releaseCapture();else at=y(Q,e.MouseTracker.havePointerEvents?"pointerevent":K.type),l&&u(window.top)&&e.removeEvent(window.top,at.upName,at.upHandler,!0),e.removeEvent(e.MouseTracker.captureElement,at.moveName,at.moveHandler,!0),e.removeEvent(e.MouseTracker.captureElement,at.upName,at.upHandler,!0);wt(Q,K,!1)}function C(Q){return e.MouseTracker.havePointerEvents?Q.pointerId:e.MouseTracker.mousePointerId}function I(Q){return e.MouseTracker.havePointerEvents?Q.pointerType||(e.Browser.vendor===e.BROWSERS.IE?"mouse":""):"mouse"}function z(Q){return e.MouseTracker.havePointerEvents?Q.isPrimary:!0}function B(Q){return e.getMousePosition(Q)}function G(Q,K){return H(B(Q),K)}function H(Q,K){var at=e.getElementOffset(K);return Q.minus(at)}function $(Q,K){return new e.Point((Q.x+K.x)/2,(Q.y+K.y)/2)}function j(Q,K){var at={originalEvent:K,eventType:"click",pointerType:"mouse",isEmulated:!1};_t(Q,at),at.preventDefault&&!at.defaultPrevented&&e.cancelEvent(K),at.stopPropagation&&e.stopEvent(K)}function V(Q,K){var at={originalEvent:K,eventType:"dblclick",pointerType:"mouse",isEmulated:!1};_t(Q,at),at.preventDefault&&!at.defaultPrevented&&e.cancelEvent(K),at.stopPropagation&&e.stopEvent(K)}function ot(Q,K){var at=null,st={originalEvent:K,eventType:"keydown",pointerType:"",isEmulated:!1};_t(Q,st),Q.keyDownHandler&&!st.preventGesture&&!st.defaultPrevented&&(at={eventSource:Q,keyCode:K.keyCode?K.keyCode:K.charCode,ctrl:K.ctrlKey,shift:K.shiftKey,alt:K.altKey,meta:K.metaKey,originalEvent:K,preventDefault:st.preventDefault||st.defaultPrevented,userData:Q.userData},Q.keyDownHandler(at)),(at&&at.preventDefault||st.preventDefault&&!st.defaultPrevented)&&e.cancelEvent(K),st.stopPropagation&&e.stopEvent(K)}function ft(Q,K){var at=null,st={originalEvent:K,eventType:"keyup",pointerType:"",isEmulated:!1};_t(Q,st),Q.keyUpHandler&&!st.preventGesture&&!st.defaultPrevented&&(at={eventSource:Q,keyCode:K.keyCode?K.keyCode:K.charCode,ctrl:K.ctrlKey,shift:K.shiftKey,alt:K.altKey,meta:K.metaKey,originalEvent:K,preventDefault:st.preventDefault||st.defaultPrevented,userData:Q.userData},Q.keyUpHandler(at)),(at&&at.preventDefault||st.preventDefault&&!st.defaultPrevented)&&e.cancelEvent(K),st.stopPropagation&&e.stopEvent(K)}function ht(Q,K){var at=null,st={originalEvent:K,eventType:"keypress",pointerType:"",isEmulated:!1};_t(Q,st),Q.keyHandler&&!st.preventGesture&&!st.defaultPrevented&&(at={eventSource:Q,keyCode:K.keyCode?K.keyCode:K.charCode,ctrl:K.ctrlKey,shift:K.shiftKey,alt:K.altKey,meta:K.metaKey,originalEvent:K,preventDefault:st.preventDefault||st.defaultPrevented,userData:Q.userData},Q.keyHandler(at)),(at&&at.preventDefault||st.preventDefault&&!st.defaultPrevented)&&e.cancelEvent(K),st.stopPropagation&&e.stopEvent(K)}function ct(Q,K){var at={originalEvent:K,eventType:"focus",pointerType:"",isEmulated:!1};_t(Q,at),Q.focusHandler&&!at.preventGesture&&Q.focusHandler({eventSource:Q,originalEvent:K,userData:Q.userData})}function Z(Q,K){var at={originalEvent:K,eventType:"blur",pointerType:"",isEmulated:!1};_t(Q,at),Q.blurHandler&&!at.preventGesture&&Q.blurHandler({eventSource:Q,originalEvent:K,userData:Q.userData})}function lt(Q,K){var at=null,st={originalEvent:K,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1};_t(Q,st),Q.contextMenuHandler&&!st.preventGesture&&!st.defaultPrevented&&(at={eventSource:Q,position:H(B(K),Q.element),originalEvent:st.originalEvent,preventDefault:st.preventDefault||st.defaultPrevented,userData:Q.userData},Q.contextMenuHandler(at)),(at&&at.preventDefault||st.preventDefault&&!st.defaultPrevented)&&e.cancelEvent(K),st.stopPropagation&&e.stopEvent(K)}function ut(Q,K){te(Q,K,K)}function mt(Q,K){var at={target:K.target||K.srcElement,type:"wheel",shiftKey:K.shiftKey||!1,clientX:K.clientX,clientY:K.clientY,pageX:K.pageX?K.pageX:K.clientX,pageY:K.pageY?K.pageY:K.clientY,deltaMode:K.type==="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0};e.MouseTracker.wheelEventName==="mousewheel"?at.deltaY=-K.wheelDelta/e.DEFAULT_SETTINGS.pixelsPerWheelLine:at.deltaY=K.detail,te(Q,at,K)}function te(Q,K,at){var st=0,Vt,re=null;st=K.deltaY<0?1:-1,Vt={originalEvent:K,eventType:"wheel",pointerType:"mouse",isEmulated:K!==at},_t(Q,Vt),Q.scrollHandler&&!Vt.preventGesture&&!Vt.defaultPrevented&&(re={eventSource:Q,pointerType:"mouse",position:G(K,Q.element),scroll:st,shift:K.shiftKey,isTouchEvent:!1,originalEvent:at,preventDefault:Vt.preventDefault||Vt.defaultPrevented,userData:Q.userData},Q.scrollHandler(re)),Vt.stopPropagation&&e.stopEvent(at),(re&&re.preventDefault||Vt.preventDefault&&!Vt.defaultPrevented)&&e.cancelEvent(at)}function ne(Q,K){var at={id:e.MouseTracker.mousePointerId,type:"mouse"},st={originalEvent:K,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1};_t(Q,st),K.target===Q.element&&wt(Q,at,!1),st.stopPropagation&&e.stopEvent(K)}function ye(Q,K){var at,st,Vt=K.changedTouches.length,re,ke=Q.getActivePointersListByType("touch");at=e.now(),ke.getLength()>K.touches.length-Vt&&e.console.warn("Tracked touch contact count doesn't match event.touches.length");var ar={originalEvent:K,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(_t(Q,ar),st=0;st<Vt;st++)re={id:K.changedTouches[st].identifier,type:"touch",isPrimary:ke.getLength()===0,currentPos:B(K.changedTouches[st]),currentTime:at},Ot(Q,ar,re),de(Q,ar,re,0),wt(Q,re,!0);ar.preventDefault&&!ar.defaultPrevented&&e.cancelEvent(K),ar.stopPropagation&&e.stopEvent(K)}function Gt(Q,K){var at,st,Vt=K.changedTouches.length,re;at=e.now();var ke={originalEvent:K,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(_t(Q,ke),st=0;st<Vt;st++)re={id:K.changedTouches[st].identifier,type:"touch",currentPos:B(K.changedTouches[st]),currentTime:at},ae(Q,ke,re,0),wt(Q,re,!1),xt(Q,ke,re);ke.preventDefault&&!ke.defaultPrevented&&e.cancelEvent(K),ke.stopPropagation&&e.stopEvent(K)}function he(Q,K){var at,st,Vt=K.changedTouches.length,re;at=e.now();var ke={originalEvent:K,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(_t(Q,ke),st=0;st<Vt;st++)re={id:K.changedTouches[st].identifier,type:"touch",currentPos:B(K.changedTouches[st]),currentTime:at},Me(Q,ke,re);ke.preventDefault&&!ke.defaultPrevented&&e.cancelEvent(K),ke.stopPropagation&&e.stopEvent(K)}function Kt(Q,K){var at=K.changedTouches.length,st,Vt,re={originalEvent:K,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(_t(Q,re),st=0;st<at;st++)Vt={id:K.changedTouches[st].identifier,type:"touch"},Ce(Q,re,Vt);re.stopPropagation&&e.stopEvent(K)}function Je(Q,K){return e.eventIsCanceled(K)||K.preventDefault(),!1}function kt(Q,K){return e.eventIsCanceled(K)||K.preventDefault(),!1}function zt(Q,K){var at={originalEvent:K,eventType:"gotpointercapture",pointerType:I(K),isEmulated:!1};_t(Q,at),K.target===Q.element&&wt(Q,{id:K.pointerId,type:I(K)},!0),at.stopPropagation&&e.stopEvent(K)}function Wt(Q,K){var at={originalEvent:K,eventType:"lostpointercapture",pointerType:I(K),isEmulated:!1};_t(Q,at),K.target===Q.element&&wt(Q,{id:K.pointerId,type:I(K)},!1),at.stopPropagation&&e.stopEvent(K)}function ee(Q,K){var at={id:C(K),type:I(K),isPrimary:z(K),currentPos:B(K),currentTime:e.now()},st={originalEvent:K,eventType:"pointerenter",pointerType:at.type,isEmulated:!1};_t(Q,st),Ot(Q,st,at)}function ve(Q,K){var at={id:C(K),type:I(K),isPrimary:z(K),currentPos:B(K),currentTime:e.now()},st={originalEvent:K,eventType:"pointerleave",pointerType:at.type,isEmulated:!1};_t(Q,st),xt(Q,st,at)}function se(Q,K){var at={id:C(K),type:I(K),isPrimary:z(K),currentPos:B(K),currentTime:e.now()},st={originalEvent:K,eventType:"pointerover",pointerType:at.type,isEmulated:!1};_t(Q,st),$t(Q,st,at),st.preventDefault&&!st.defaultPrevented&&e.cancelEvent(K),st.stopPropagation&&e.stopEvent(K)}function ue(Q,K){var at={id:C(K),type:I(K),isPrimary:z(K),currentPos:B(K),currentTime:e.now()},st={originalEvent:K,eventType:"pointerout",pointerType:at.type,isEmulated:!1};_t(Q,st),le(Q,st,at),st.preventDefault&&!st.defaultPrevented&&e.cancelEvent(K),st.stopPropagation&&e.stopEvent(K)}function tr(Q,K){var at={id:C(K),type:I(K),isPrimary:z(K),currentPos:B(K),currentTime:e.now()},st=e.MouseTracker.havePointerEvents&&at.type==="touch"&&e.Browser.vendor!==e.BROWSERS.IE,Vt={originalEvent:K,eventType:"pointerdown",pointerType:at.type,isEmulated:!1};_t(Q,Vt),de(Q,Vt,at,K.button),Vt.preventDefault&&!Vt.defaultPrevented&&e.cancelEvent(K),Vt.stopPropagation&&e.stopEvent(K),Vt.shouldCapture&&(st?wt(Q,at,!0):_(Q,at))}function Ft(Q,K){Zt(Q,K)}function qt(Q,K){var at=Q.getActivePointersListByType(I(K));at.getById(K.pointerId)&&Zt(Q,K),e.stopEvent(K)}function Zt(Q,K){var at;at={id:C(K),type:I(K),isPrimary:z(K),currentPos:B(K),currentTime:e.now()};var st={originalEvent:K,eventType:"pointerup",pointerType:at.type,isEmulated:!1};_t(Q,st),ae(Q,st,at,K.button),st.preventDefault&&!st.defaultPrevented&&e.cancelEvent(K),st.stopPropagation&&e.stopEvent(K),st.shouldReleaseCapture&&(K.target===Q.element?E(Q,at):wt(Q,at,!1))}function Xt(Q,K){pt(Q,K)}function nt(Q,K){var at=Q.getActivePointersListByType(I(K));at.getById(K.pointerId)&&pt(Q,K),e.stopEvent(K)}function pt(Q,K){var at={id:C(K),type:I(K),isPrimary:z(K),currentPos:B(K),currentTime:e.now()},st={originalEvent:K,eventType:"pointermove",pointerType:at.type,isEmulated:!1};_t(Q,st),Me(Q,st,at),st.preventDefault&&!st.defaultPrevented&&e.cancelEvent(K),st.stopPropagation&&e.stopEvent(K)}function vt(Q,K){var at={id:K.pointerId,type:I(K)},st={originalEvent:K,eventType:"pointercancel",pointerType:at.type,isEmulated:!1};_t(Q,st),Ce(Q,st,at),st.stopPropagation&&e.stopEvent(K)}function A(Q,K){return K.speed=0,K.direction=0,K.contactPos=K.currentPos,K.contactTime=K.currentTime,K.lastPos=K.currentPos,K.lastTime=K.currentTime,Q.add(K)}function X(Q,K,at){var st,Vt=K.getById(at.id);return Vt?(Vt.captured&&(e.console.warn("stopTrackingPointer() called on captured pointer"),E(Q,Vt)),K.removeContact(),st=K.removeById(at.id)):st=K.getLength(),st}function dt(Q,K){switch(K.eventType){case"pointermove":K.isStoppable=!0,K.isCancelable=!0,K.preventDefault=!1,K.preventGesture=!Q.hasGestureHandlers,K.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":K.isStoppable=!0,K.isCancelable=!0,K.preventDefault=!1,K.preventGesture=!1,K.stopPropagation=!1;break;case"pointerdown":K.isStoppable=!0,K.isCancelable=!0,K.preventDefault=!1,K.preventGesture=!Q.hasGestureHandlers,K.stopPropagation=!1;break;case"pointerup":K.isStoppable=!0,K.isCancelable=!0,K.preventDefault=!1,K.preventGesture=!Q.hasGestureHandlers,K.stopPropagation=!1;break;case"wheel":K.isStoppable=!0,K.isCancelable=!0,K.preventDefault=!1,K.preventGesture=!Q.hasScrollHandler,K.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":K.isStoppable=!0,K.isCancelable=!1,K.preventDefault=!1,K.preventGesture=!1,K.stopPropagation=!1;break;case"click":K.isStoppable=!0,K.isCancelable=!0,K.preventDefault=!!Q.clickHandler,K.preventGesture=!1,K.stopPropagation=!1;break;case"dblclick":K.isStoppable=!0,K.isCancelable=!0,K.preventDefault=!!Q.dblClickHandler,K.preventGesture=!1,K.stopPropagation=!1;break;case"focus":case"blur":case"pointerenter":case"pointerleave":default:K.isStoppable=!1,K.isCancelable=!1,K.preventDefault=!1,K.preventGesture=!1,K.stopPropagation=!1;break}}function _t(Q,K){K.eventSource=Q,K.eventPhase=K.originalEvent&&typeof K.originalEvent.eventPhase<"u"?K.originalEvent.eventPhase:0,K.defaultPrevented=e.eventIsCanceled(K.originalEvent),K.shouldCapture=!1,K.shouldReleaseCapture=!1,K.userData=Q.userData,dt(Q,K),Q.preProcessEventHandler&&Q.preProcessEventHandler(K)}function wt(Q,K,at){var st=Q.getActivePointersListByType(K.type),Vt=st.getById(K.id);Vt?at&&!Vt.captured?(Vt.captured=!0,st.captureCount++):!at&&Vt.captured&&(Vt.captured=!1,st.captureCount--,st.captureCount<0&&(st.captureCount=0,e.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):e.console.warn("updatePointerCaptured() called on untracked pointer")}function Ot(Q,K,at){var st=Q.getActivePointersListByType(at.type),Vt;Vt=st.getById(at.id),Vt?(Vt.insideElement=!0,Vt.lastPos=Vt.currentPos,Vt.lastTime=Vt.currentTime,Vt.currentPos=at.currentPos,Vt.currentTime=at.currentTime,at=Vt):(at.captured=!1,at.insideElementPressed=!1,at.insideElement=!0,A(st,at)),Q.enterHandler&&Q.enterHandler({eventSource:Q,pointerType:at.type,position:H(at.currentPos,Q.element),buttons:st.buttons,pointers:Q.getActivePointerCount(),insideElementPressed:at.insideElementPressed,buttonDownAny:st.buttons!==0,isTouchEvent:at.type==="touch",originalEvent:K.originalEvent,userData:Q.userData})}function xt(Q,K,at){var st=Q.getActivePointersListByType(at.type),Vt,re;Vt=st.getById(at.id),Vt?(Vt.captured?(Vt.insideElement=!1,Vt.lastPos=Vt.currentPos,Vt.lastTime=Vt.currentTime,Vt.currentPos=at.currentPos,Vt.currentTime=at.currentTime):X(Q,st,Vt),at=Vt):(at.captured=!1,at.insideElementPressed=!1),(Q.leaveHandler||Q.exitHandler)&&(re={eventSource:Q,pointerType:at.type,position:at.currentPos&&H(at.currentPos,Q.element),buttons:st.buttons,pointers:Q.getActivePointerCount(),insideElementPressed:at.insideElementPressed,buttonDownAny:st.buttons!==0,isTouchEvent:at.type==="touch",originalEvent:K.originalEvent,userData:Q.userData},Q.leaveHandler&&Q.leaveHandler(re),Q.exitHandler&&Q.exitHandler(re))}function $t(Q,K,at){var st,Vt;st=Q.getActivePointersListByType(at.type),Vt=st.getById(at.id),Vt?at=Vt:(at.captured=!1,at.insideElementPressed=!1),Q.overHandler&&Q.overHandler({eventSource:Q,pointerType:at.type,position:H(at.currentPos,Q.element),buttons:st.buttons,pointers:Q.getActivePointerCount(),insideElementPressed:at.insideElementPressed,buttonDownAny:st.buttons!==0,isTouchEvent:at.type==="touch",originalEvent:K.originalEvent,userData:Q.userData})}function le(Q,K,at){var st,Vt;st=Q.getActivePointersListByType(at.type),Vt=st.getById(at.id),Vt?at=Vt:(at.captured=!1,at.insideElementPressed=!1),Q.outHandler&&Q.outHandler({eventSource:Q,pointerType:at.type,position:at.currentPos&&H(at.currentPos,Q.element),buttons:st.buttons,pointers:Q.getActivePointerCount(),insideElementPressed:at.insideElementPressed,buttonDownAny:st.buttons!==0,isTouchEvent:at.type==="touch",originalEvent:K.originalEvent,userData:Q.userData})}function de(Q,K,at,st){var Vt=o[Q.hash],re=Q.getActivePointersListByType(at.type),ke;if(typeof K.originalEvent.buttons<"u"?re.buttons=K.originalEvent.buttons:st===0?re.buttons|=1:st===1?re.buttons|=4:st===2?re.buttons|=2:st===3?re.buttons|=8:st===4?re.buttons|=16:st===5&&(re.buttons|=32),st!==0){K.shouldCapture=!1,K.shouldReleaseCapture=!1,Q.nonPrimaryPressHandler&&!K.preventGesture&&!K.defaultPrevented&&(K.preventDefault=!0,Q.nonPrimaryPressHandler({eventSource:Q,pointerType:at.type,position:H(at.currentPos,Q.element),button:st,buttons:re.buttons,isTouchEvent:at.type==="touch",originalEvent:K.originalEvent,userData:Q.userData}));return}ke=re.getById(at.id),ke?(ke.insideElementPressed=!0,ke.insideElement=!0,ke.originalTarget=K.originalEvent.target,ke.contactPos=at.currentPos,ke.contactTime=at.currentTime,ke.lastPos=ke.currentPos,ke.lastTime=ke.currentTime,ke.currentPos=at.currentPos,ke.currentTime=at.currentTime,at=ke):(at.captured=!1,at.insideElementPressed=!0,at.insideElement=!0,at.originalTarget=K.originalEvent.target,A(re,at)),re.addContact(),!K.preventGesture&&!K.defaultPrevented?(K.shouldCapture=!0,K.shouldReleaseCapture=!1,K.preventDefault=!0,(Q.dragHandler||Q.dragEndHandler||Q.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.addPoint(Q,at),re.contacts===1?Q.pressHandler&&!K.preventGesture&&Q.pressHandler({eventSource:Q,pointerType:at.type,position:H(at.contactPos,Q.element),buttons:re.buttons,isTouchEvent:at.type==="touch",originalEvent:K.originalEvent,userData:Q.userData}):re.contacts===2&&Q.pinchHandler&&at.type==="touch"&&(Vt.pinchGPoints=re.asArray(),Vt.lastPinchDist=Vt.currentPinchDist=Vt.pinchGPoints[0].currentPos.distanceTo(Vt.pinchGPoints[1].currentPos),Vt.lastPinchCenter=Vt.currentPinchCenter=$(Vt.pinchGPoints[0].currentPos,Vt.pinchGPoints[1].currentPos))):(K.shouldCapture=!1,K.shouldReleaseCapture=!1)}function ae(Q,K,at,st){var Vt=o[Q.hash],re=Q.getActivePointersListByType(at.type),ke,ar,Fe,jn=!1,Bi;if(typeof K.originalEvent.buttons<"u"?re.buttons=K.originalEvent.buttons:st===0?re.buttons^=-2:st===1?re.buttons^=-5:st===2?re.buttons^=-3:st===3?re.buttons^=-9:st===4?re.buttons^=-17:st===5&&(re.buttons^=-33),K.shouldCapture=!1,st!==0){K.shouldReleaseCapture=!1,Q.nonPrimaryReleaseHandler&&!K.preventGesture&&!K.defaultPrevented&&(K.preventDefault=!0,Q.nonPrimaryReleaseHandler({eventSource:Q,pointerType:at.type,position:H(at.currentPos,Q.element),button:st,buttons:re.buttons,isTouchEvent:at.type==="touch",originalEvent:K.originalEvent,userData:Q.userData}));return}Fe=re.getById(at.id),Fe?(re.removeContact(),Fe.captured&&(jn=!0),Fe.lastPos=Fe.currentPos,Fe.lastTime=Fe.currentTime,Fe.currentPos=at.currentPos,Fe.currentTime=at.currentTime,Fe.insideElement||X(Q,re,Fe),ke=Fe.currentPos,ar=Fe.currentTime):(at.captured=!1,at.insideElementPressed=!1,at.insideElement=!0,A(re,at),Fe=at),!K.preventGesture&&!K.defaultPrevented&&(jn?(K.shouldReleaseCapture=!0,K.preventDefault=!0,(Q.dragHandler||Q.dragEndHandler||Q.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.removePoint(Q,Fe),re.contacts===0?(Q.releaseHandler&&ke&&Q.releaseHandler({eventSource:Q,pointerType:Fe.type,position:H(ke,Q.element),buttons:re.buttons,insideElementPressed:Fe.insideElementPressed,insideElementReleased:Fe.insideElement,isTouchEvent:Fe.type==="touch",originalEvent:K.originalEvent,userData:Q.userData}),Q.dragEndHandler&&Vt.sentDragEvent&&Q.dragEndHandler({eventSource:Q,pointerType:Fe.type,position:H(Fe.currentPos,Q.element),speed:Fe.speed,direction:Fe.direction,shift:K.originalEvent.shiftKey,isTouchEvent:Fe.type==="touch",originalEvent:K.originalEvent,userData:Q.userData}),Vt.sentDragEvent=!1,(Q.clickHandler||Q.dblClickHandler)&&Fe.insideElement&&(Bi=ar-Fe.contactTime<=Q.clickTimeThreshold&&Fe.contactPos.distanceTo(ke)<=Q.clickDistThreshold,Q.clickHandler&&Q.clickHandler({eventSource:Q,pointerType:Fe.type,position:H(Fe.currentPos,Q.element),quick:Bi,shift:K.originalEvent.shiftKey,isTouchEvent:Fe.type==="touch",originalEvent:K.originalEvent,originalTarget:Fe.originalTarget,userData:Q.userData}),Q.dblClickHandler&&Bi&&(re.clicks++,re.clicks===1?(Vt.lastClickPos=ke,Vt.dblClickTimeOut=setTimeout(function(){re.clicks=0},Q.dblClickTimeThreshold)):re.clicks===2&&(clearTimeout(Vt.dblClickTimeOut),re.clicks=0,Vt.lastClickPos.distanceTo(ke)<=Q.dblClickDistThreshold&&Q.dblClickHandler({eventSource:Q,pointerType:Fe.type,position:H(Fe.currentPos,Q.element),shift:K.originalEvent.shiftKey,isTouchEvent:Fe.type==="touch",originalEvent:K.originalEvent,userData:Q.userData}),Vt.lastClickPos=null)))):re.contacts===2&&Q.pinchHandler&&Fe.type==="touch"&&(Vt.pinchGPoints=re.asArray(),Vt.lastPinchDist=Vt.currentPinchDist=Vt.pinchGPoints[0].currentPos.distanceTo(Vt.pinchGPoints[1].currentPos),Vt.lastPinchCenter=Vt.currentPinchCenter=$(Vt.pinchGPoints[0].currentPos,Vt.pinchGPoints[1].currentPos))):(K.shouldReleaseCapture=!1,Q.releaseHandler&&ke&&(Q.releaseHandler({eventSource:Q,pointerType:Fe.type,position:H(ke,Q.element),buttons:re.buttons,insideElementPressed:Fe.insideElementPressed,insideElementReleased:Fe.insideElement,isTouchEvent:Fe.type==="touch",originalEvent:K.originalEvent,userData:Q.userData}),K.preventDefault=!0)))}function Me(Q,K,at){var st=o[Q.hash],Vt=Q.getActivePointersListByType(at.type),re,ke,ar;if(typeof K.originalEvent.buttons<"u"&&(Vt.buttons=K.originalEvent.buttons),re=Vt.getById(at.id),re)re.lastPos=re.currentPos,re.lastTime=re.currentTime,re.currentPos=at.currentPos,re.currentTime=at.currentTime;else return;K.shouldCapture=!1,K.shouldReleaseCapture=!1,Q.stopHandler&&at.type==="mouse"&&(clearTimeout(Q.stopTimeOut),Q.stopTimeOut=setTimeout(function(){qe(Q,K.originalEvent,at.type)},Q.stopDelay)),Vt.contacts===0?Q.moveHandler&&Q.moveHandler({eventSource:Q,pointerType:at.type,position:H(at.currentPos,Q.element),buttons:Vt.buttons,isTouchEvent:at.type==="touch",originalEvent:K.originalEvent,userData:Q.userData}):Vt.contacts===1?(Q.moveHandler&&(re=Vt.asArray()[0],Q.moveHandler({eventSource:Q,pointerType:re.type,position:H(re.currentPos,Q.element),buttons:Vt.buttons,isTouchEvent:re.type==="touch",originalEvent:K.originalEvent,userData:Q.userData})),Q.dragHandler&&!K.preventGesture&&!K.defaultPrevented&&(re=Vt.asArray()[0],ar=re.currentPos.minus(re.lastPos),Q.dragHandler({eventSource:Q,pointerType:re.type,position:H(re.currentPos,Q.element),buttons:Vt.buttons,delta:ar,speed:re.speed,direction:re.direction,shift:K.originalEvent.shiftKey,isTouchEvent:re.type==="touch",originalEvent:K.originalEvent,userData:Q.userData}),K.preventDefault=!0,st.sentDragEvent=!0)):Vt.contacts===2&&(Q.moveHandler&&(ke=Vt.asArray(),Q.moveHandler({eventSource:Q,pointerType:ke[0].type,position:H($(ke[0].currentPos,ke[1].currentPos),Q.element),buttons:Vt.buttons,isTouchEvent:ke[0].type==="touch",originalEvent:K.originalEvent,userData:Q.userData})),Q.pinchHandler&&at.type==="touch"&&!K.preventGesture&&!K.defaultPrevented&&(ar=st.pinchGPoints[0].currentPos.distanceTo(st.pinchGPoints[1].currentPos),ar!==st.currentPinchDist&&(st.lastPinchDist=st.currentPinchDist,st.currentPinchDist=ar,st.lastPinchCenter=st.currentPinchCenter,st.currentPinchCenter=$(st.pinchGPoints[0].currentPos,st.pinchGPoints[1].currentPos),Q.pinchHandler({eventSource:Q,pointerType:"touch",gesturePoints:st.pinchGPoints,lastCenter:H(st.lastPinchCenter,Q.element),center:H(st.currentPinchCenter,Q.element),lastDistance:st.lastPinchDist,distance:st.currentPinchDist,shift:K.originalEvent.shiftKey,originalEvent:K.originalEvent,userData:Q.userData}),K.preventDefault=!0)))}function Ce(Q,K,at){var st=Q.getActivePointersListByType(at.type),Vt;Vt=st.getById(at.id),Vt&&X(Q,st,Vt)}function qe(Q,K,at){Q.stopHandler&&Q.stopHandler({eventSource:Q,pointerType:at,position:G(K,Q.element),buttons:Q.getActivePointersListByType(at).buttons,isTouchEvent:at==="touch",originalEvent:K,userData:Q.userData})}}(i),function(e){e.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},e.Control=function(o,l,u){var p=o.parentNode;typeof l=="number"&&(e.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),l={anchor:l}),l.attachToViewer=typeof l.attachToViewer>"u"?!0:l.attachToViewer,this.autoFade=typeof l.autoFade>"u"?!0:l.autoFade,this.element=o,this.anchor=l.anchor,this.container=u,this.anchor===e.ControlAnchor.ABSOLUTE?(this.wrapper=e.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top=typeof l.top=="number"?l.top+"px":l.top,this.wrapper.style.left=typeof l.left=="number"?l.left+"px":l.left,this.wrapper.style.height=typeof l.height=="number"?l.height+"px":l.height,this.wrapper.style.width=typeof l.width=="number"?l.width+"px":l.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=e.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===e.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),l.attachToViewer?this.anchor===e.ControlAnchor.TOP_RIGHT||this.anchor===e.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):p.appendChild(this.wrapper)},e.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==e.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return this.wrapper.style.display!=="none"},setVisible:function(o){this.wrapper.style.display=o?this.anchor===e.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(o){this.element[e.SIGNAL]&&e.Browser.vendor===e.BROWSERS.IE?e.setElementOpacity(this.element,o,!0):e.setElementOpacity(this.wrapper,o,!0)}}}(i),function(e){e.ControlDock=function(l){var u=["topleft","topright","bottomright","bottomleft"],p,f;for(e.extend(!0,this,{id:"controldock-"+e.now()+"-"+Math.floor(Math.random()*1e6),container:e.makeNeutralElement("div"),controls:[]},l),this.container.onsubmit=function(){return!1},this.element&&(this.element=e.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),f=0;f<u.length;f++)p=u[f],this.controls[p]=e.makeNeutralElement("div"),this.controls[p].style.position="absolute",p.match("left")&&(this.controls[p].style.left="0px"),p.match("right")&&(this.controls[p].style.right="0px"),p.match("top")&&(this.controls[p].style.top="0px"),p.match("bottom")&&(this.controls[p].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},e.ControlDock.prototype={addControl:function(l,u){l=e.getElement(l);var p=null;if(!(o(this,l)>=0)){switch(u.anchor){case e.ControlAnchor.TOP_RIGHT:p=this.controls.topright,l.style.position="relative",l.style.paddingRight="0px",l.style.paddingTop="0px";break;case e.ControlAnchor.BOTTOM_RIGHT:p=this.controls.bottomright,l.style.position="relative",l.style.paddingRight="0px",l.style.paddingBottom="0px";break;case e.ControlAnchor.BOTTOM_LEFT:p=this.controls.bottomleft,l.style.position="relative",l.style.paddingLeft="0px",l.style.paddingBottom="0px";break;case e.ControlAnchor.TOP_LEFT:p=this.controls.topleft,l.style.position="relative",l.style.paddingLeft="0px",l.style.paddingTop="0px";break;case e.ControlAnchor.ABSOLUTE:p=this.container,l.style.margin="0px",l.style.padding="0px";break;default:case e.ControlAnchor.NONE:p=this.container,l.style.margin="0px",l.style.padding="0px";break}this.controls.push(new e.Control(l,u,p)),l.style.display="inline-block"}},removeControl:function(l){l=e.getElement(l);var u=o(this,l);return u>=0&&(this.controls[u].destroy(),this.controls.splice(u,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var l;for(l=this.controls.length-1;l>=0;l--)if(this.controls[l].isVisible())return!0;return!1},setControlsEnabled:function(l){var u;for(u=this.controls.length-1;u>=0;u--)this.controls[u].setVisible(l);return this}};function o(l,u){var p=l.controls,f;for(f=p.length-1;f>=0;f--)if(p[f].element===u)return f;return-1}}(i),function(e){e.Placement=e.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(i),function(e){var o={},l=1;e.Viewer=function(A){var X=arguments,dt=this,_t;if(e.isPlainObject(A)||(A={id:X[0],xmlPath:X.length>1?X[1]:void 0,prefixUrl:X.length>2?X[2]:void 0,controls:X.length>3?X[3]:void 0,overlays:X.length>4?X[4]:void 0}),A.config&&(e.extend(!0,A,A.config),delete A.config),e.extend(!0,this,{id:A.id,hash:A.hash||l++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttonGroup:null,profiler:null},e.DEFAULT_SETTINGS,A),typeof this.hash>"u")throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(typeof o[this.hash]<"u"&&e.console.warn("Hash "+this.hash+" has already been used."),o[this.hash]={fsBoundsDelta:new e.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,needsResize:!1,forceResize:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null,lastClickTime:null,draggingToZoom:!1},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=e.now(),e.EventSource.call(this),this.addHandler("open-failed",function(wt){var Ot=e.getString("Errors.OpenFailed",wt.eventSource,wt.message);dt._showMessage(Ot)}),e.ControlDock.call(this,A),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=e.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(wt){wt.width="100%",wt.height="100%",wt.overflow="hidden",wt.position="absolute",wt.top="0px",wt.left="0px"}(this.canvas.style),e.setElementTouchActionNone(this.canvas),A.tabIndex!==""&&(this.canvas.tabIndex=A.tabIndex===void 0?0:A.tabIndex),this.container.className="openseadragon-container",function(wt){wt.width="100%",wt.height="100%",wt.position="relative",wt.overflow="hidden",wt.left="0px",wt.top="0px",wt.textAlign="left"}(this.container.style),e.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new e.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:e.delegate(this,G),keyDownHandler:e.delegate(this,H),keyHandler:e.delegate(this,$),clickHandler:e.delegate(this,j),dblClickHandler:e.delegate(this,V),dragHandler:e.delegate(this,ot),dragEndHandler:e.delegate(this,ft),enterHandler:e.delegate(this,ht),leaveHandler:e.delegate(this,ct),pressHandler:e.delegate(this,Z),releaseHandler:e.delegate(this,lt),nonPrimaryPressHandler:e.delegate(this,ut),nonPrimaryReleaseHandler:e.delegate(this,mt),scrollHandler:e.delegate(this,ne),pinchHandler:e.delegate(this,te)}),this.outerTracker=new e.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:e.delegate(this,ye),leaveHandler:e.delegate(this,Gt)}),this.toolbar&&(this.toolbar=new e.ControlDock({element:this.toolbar})),this.bindStandardControls(),o[this.hash].prevContainerSize=u(this.container),window.ResizeObserver?(this._autoResizePolling=!1,this._resizeObserver=new ResizeObserver(function(){o[dt.hash].needsResize=!0}),this._resizeObserver.observe(this.container,{})):this._autoResizePolling=!0,this.world=new e.World({viewer:this}),this.world.addHandler("add-item",function(wt){dt.source=dt.world.getItemAt(0).source,o[dt.hash].forceRedraw=!0,dt._updateRequestId||(dt._updateRequestId=y(dt,he))}),this.world.addHandler("remove-item",function(wt){dt.world.getItemCount()?dt.source=dt.world.getItemAt(0).source:dt.source=null,o[dt.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(wt){dt.viewport&&dt.viewport._setContentBounds(dt.world.getHomeBounds(),dt.world.getContentFactor())}),this.world.addHandler("item-index-change",function(wt){dt.source=dt.world.getItemAt(0).source}),this.viewport=new e.Viewport({containerSize:o[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins,silenceMultiImageWarnings:this.silenceMultiImageWarnings}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new e.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:A.timeout}),this.tileCache=new e.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new e.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=e.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(_t=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(_t,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(_t=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(_t,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new e.Navigator({element:this.navigatorElement,id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy,animationTime:this.animationTime})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),_t=0;_t<this.customControls.length;_t++)this.addControl(this.customControls[_t].id,{anchor:this.customControls[_t].anchor});e.requestAnimationFrame(function(){E(dt)}),this.imageSmoothingEnabled!==void 0&&!this.imageSmoothingEnabled&&this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),e._viewers.set(this.element,this)},e.extend(e.Viewer.prototype,e.EventSource.prototype,e.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(A){return e.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(A)},openTileSource:function(A){return e.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(A)},get buttons(){return e.console.warn("Viewer.buttons is deprecated; Please use Viewer.buttonGroup"),this.buttonGroup},open:function(A,X){var dt=this;if(this.close(),!A)return this;if(this.sequenceMode&&e.isArray(A))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),typeof X<"u"&&!isNaN(X)&&(this.initialPage=X),this.tileSources=A,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(e.isArray(A)||(A=[A]),!A.length)return this;this._opening=!0;for(var _t=A.length,wt=0,Ot=0,xt,$t=function(){if(wt+Ot===_t)if(wt){(dt._firstOpen||!dt.preserveViewport)&&(dt.viewport.goHome(!0),dt.viewport.update()),dt._firstOpen=!1;var ae=A[0];if(ae.tileSource&&(ae=ae.tileSource),dt.overlays&&!dt.preserveOverlays)for(var Me=0;Me<dt.overlays.length;Me++)dt.currentOverlays[Me]=f(dt,dt.overlays[Me]);dt._drawOverlays(),dt._opening=!1,dt.raiseEvent("open",{source:ae})}else dt._opening=!1,dt.raiseEvent("open-failed",xt)},le=function(ae){(!e.isPlainObject(ae)||!ae.tileSource)&&(ae={tileSource:ae}),ae.index!==void 0&&(e.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete ae.index),ae.collectionImmediately===void 0&&(ae.collectionImmediately=!0);var Me=ae.success;ae.success=function(qe){if(wt++,ae.tileSource.overlays)for(var Q=0;Q<ae.tileSource.overlays.length;Q++)dt.addOverlay(ae.tileSource.overlays[Q]);Me&&Me(qe),$t()};var Ce=ae.error;ae.error=function(qe){Ot++,xt||(xt=qe),Ce&&Ce(qe),$t()},dt.addTiledImage(ae)},de=0;de<A.length;de++)le(A[de]);return this},close:function(){return o[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),o[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(o[this.hash]){if(this.raiseEvent("before-destroy"),this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this._resizeObserver&&this._resizeObserver.disconnect(),this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),this._updateRequestId!==null&&(e.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),o[this.navigator.hash]=null,delete o[this.navigator.hash],this.navigator=null),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)for(;this.customButtons.length;)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),o[this.hash]=null,delete o[this.hash],this.canvas=null,this.container=null,e._viewers.delete(this.element),this.element=null,this.raiseEvent("destroy"),this.removeAllHandlers()}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(A){return this.innerTracker.setTracking(A),this.outerTracker.setTracking(A),this.raiseEvent("mouse-enabled",{enabled:A}),this},areControlsEnabled:function(){var A=this.controls.length,X;for(X=0;X<this.controls.length;X++)A=A&&this.controls[X].isVisible();return A},setControlsEnabled:function(A){return A?I(this):E(this),this.raiseEvent("controls-enabled",{enabled:A}),this},setDebugMode:function(A){for(var X=0;X<this.world.getItemCount();X++)this.world.getItemAt(X).debugMode=A;this.debugMode=A,this.forceRedraw()},isFullPage:function(){return o[this.hash].fullPage},setFullPage:function(A){var X=document.body,dt=X.style,_t=document.documentElement.style,wt=this,Ot,xt;if(A===this.isFullPage())return this;var $t={fullPage:A,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",$t),$t.preventDefaultAction)return this;if(A){for(this.elementSize=e.getElementSize(this.element),this.pageScroll=e.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=dt.margin,this.docMargin=_t.margin,dt.margin="0",_t.margin="0",this.bodyPadding=dt.padding,this.docPadding=_t.padding,dt.padding="0",_t.padding="0",this.bodyWidth=dt.width,this.docWidth=_t.width,dt.width="100%",_t.width="100%",this.bodyHeight=dt.height,this.docHeight=_t.height,dt.height="100%",_t.height="100%",this.bodyDisplay=dt.display,dt.display="block",this.previousBody=[],o[this.hash].prevElementParent=this.element.parentNode,o[this.hash].prevNextSibling=this.element.nextSibling,o[this.hash].prevElementWidth=this.element.style.width,o[this.hash].prevElementHeight=this.element.style.height,Ot=X.childNodes.length,xt=0;xt<Ot;xt++)this.previousBody.push(X.childNodes[0]),X.removeChild(X.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,X.appendChild(this.toolbar.element),e.addClass(this.toolbar.element,"fullpage")),e.addClass(this.element,"fullpage"),X.appendChild(this.element),this.element.style.height="100vh",this.element.style.width="100vw",this.toolbar&&this.toolbar.element&&(this.element.style.height=e.getElementSize(this.element).y-e.getElementSize(this.toolbar.element).y+"px"),o[this.hash].fullPage=!0,e.delegate(this,ye)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,dt.margin=this.bodyMargin,_t.margin=this.docMargin,dt.padding=this.bodyPadding,_t.padding=this.docPadding,dt.width=this.bodyWidth,_t.width=this.docWidth,dt.height=this.bodyHeight,_t.height=this.docHeight,dt.display=this.bodyDisplay,X.removeChild(this.element),Ot=this.previousBody.length,xt=0;xt<Ot;xt++)X.appendChild(this.previousBody.shift());e.removeClass(this.element,"fullpage"),o[this.hash].prevElementParent.insertBefore(this.element,o[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(X.removeChild(this.toolbar.element),e.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=o[this.hash].prevElementWidth,this.element.style.height=o[this.hash].prevElementHeight;var le=0,de=function(){e.setPageScroll(wt.pageScroll);var ae=e.getPageScroll();le++,le<10&&(ae.x!==wt.pageScroll.x||ae.y!==wt.pageScroll.y)&&e.requestAnimationFrame(de)};e.requestAnimationFrame(de),o[this.hash].fullPage=!1,e.delegate(this,Gt)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:A}),this},setFullScreen:function(A){var X=this;if(!e.supportsFullScreen)return this.setFullPage(A);if(e.isFullScreen()===A)return this;var dt={fullScreen:A,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",dt),dt.preventDefaultAction)return this;if(A){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var _t=function(){var wt=e.isFullScreen();wt||(e.removeEvent(document,e.fullScreenEventName,_t),e.removeEvent(document,e.fullScreenErrorEventName,_t),X.setFullPage(!1),X.isFullPage()&&(X.element.style.width=X.fullPageStyleWidth,X.element.style.height=X.fullPageStyleHeight)),X.navigator&&X.viewport&&setTimeout(function(){X.navigator.update(X.viewport)}),X.raiseEvent("full-screen",{fullScreen:wt})};e.addEvent(document,e.fullScreenEventName,_t),e.addEvent(document,e.fullScreenErrorEventName,_t),e.requestFullScreen(document.body)}else e.exitFullScreen();return this},isVisible:function(){return this.container.style.visibility!=="hidden"},isFullScreen:function(){return e.isFullScreen()&&this.isFullPage()},setVisible:function(A){return this.container.style.visibility=A?"":"hidden",this.raiseEvent("visible",{visible:A}),this},addTiledImage:function(A){e.console.assert(A,"[Viewer.addTiledImage] options is required"),e.console.assert(A.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),e.console.assert(!A.replace||A.index>-1&&A.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var X=this;A.replace&&(A.replaceItem=X.world.getItemAt(A.index)),this._hideMessage(),A.placeholderFillStyle===void 0&&(A.placeholderFillStyle=this.placeholderFillStyle),A.opacity===void 0&&(A.opacity=this.opacity),A.preload===void 0&&(A.preload=this.preload),A.compositeOperation===void 0&&(A.compositeOperation=this.compositeOperation),A.crossOriginPolicy===void 0&&(A.crossOriginPolicy=A.tileSource.crossOriginPolicy!==void 0?A.tileSource.crossOriginPolicy:this.crossOriginPolicy),A.ajaxWithCredentials===void 0&&(A.ajaxWithCredentials=this.ajaxWithCredentials),A.loadTilesWithAjax===void 0&&(A.loadTilesWithAjax=this.loadTilesWithAjax),A.ajaxHeaders===void 0||A.ajaxHeaders===null?A.ajaxHeaders=this.ajaxHeaders:e.isPlainObject(A.ajaxHeaders)&&e.isPlainObject(this.ajaxHeaders)&&(A.ajaxHeaders=e.extend({},this.ajaxHeaders,A.ajaxHeaders));var dt={options:A};function _t(xt){for(var $t=0;$t<X._loadQueue.length;$t++)if(X._loadQueue[$t]===dt){X._loadQueue.splice($t,1);break}X._loadQueue.length===0&&wt(dt),X.raiseEvent("add-item-failed",xt),A.error&&A.error(xt)}function wt(xt){X.collectionMode&&(X.world.arrange({immediately:xt.options.collectionImmediately,rows:X.collectionRows,columns:X.collectionColumns,layout:X.collectionLayout,tileSize:X.collectionTileSize,tileMargin:X.collectionTileMargin}),X.world.setAutoRefigureSizes(!0))}if(e.isArray(A.tileSource)){setTimeout(function(){_t({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:A.tileSource,options:A})});return}this._loadQueue.push(dt);function Ot(){for(var xt,$t,le;X._loadQueue.length&&(xt=X._loadQueue[0],!!xt.tileSource);){if(X._loadQueue.splice(0,1),xt.options.replace){var de=X.world.getIndexOfItem(xt.options.replaceItem);de!==-1&&(xt.options.index=de),X.world.removeItem(xt.options.replaceItem)}$t=new e.TiledImage({viewer:X,source:xt.tileSource,viewport:X.viewport,drawer:X.drawer,tileCache:X.tileCache,imageLoader:X.imageLoader,x:xt.options.x,y:xt.options.y,width:xt.options.width,height:xt.options.height,fitBounds:xt.options.fitBounds,fitBoundsPlacement:xt.options.fitBoundsPlacement,clip:xt.options.clip,placeholderFillStyle:xt.options.placeholderFillStyle,opacity:xt.options.opacity,preload:xt.options.preload,degrees:xt.options.degrees,flipped:xt.options.flipped,compositeOperation:xt.options.compositeOperation,springStiffness:X.springStiffness,animationTime:X.animationTime,minZoomImageRatio:X.minZoomImageRatio,wrapHorizontal:X.wrapHorizontal,wrapVertical:X.wrapVertical,immediateRender:X.immediateRender,blendTime:X.blendTime,alwaysBlend:X.alwaysBlend,minPixelRatio:X.minPixelRatio,smoothTileEdgesMinZoom:X.smoothTileEdgesMinZoom,iOSDevice:X.iOSDevice,crossOriginPolicy:xt.options.crossOriginPolicy,ajaxWithCredentials:xt.options.ajaxWithCredentials,loadTilesWithAjax:xt.options.loadTilesWithAjax,ajaxHeaders:xt.options.ajaxHeaders,debugMode:X.debugMode,subPixelRoundingForTransparency:X.subPixelRoundingForTransparency}),X.collectionMode&&X.world.setAutoRefigureSizes(!1),X.navigator&&(le=e.extend({},xt.options,{replace:!1,originalTiledImage:$t,tileSource:xt.tileSource}),X.navigator.addTiledImage(le)),X.world.addItem($t,{index:xt.options.index}),X._loadQueue.length===0&&wt(xt),X.world.getItemCount()===1&&!X.preserveViewport&&X.viewport.goHome(!0),xt.options.success&&xt.options.success({item:$t})}}p(this,A.tileSource,A,function(xt){dt.tileSource=xt,Ot()},function(xt){xt.options=A,_t(xt),Ot()})},addSimpleImage:function(A){e.console.assert(A,"[Viewer.addSimpleImage] options is required"),e.console.assert(A.url,"[Viewer.addSimpleImage] options.url is required");var X=e.extend({},A,{tileSource:{type:"image",url:A.url}});delete X.url,this.addTiledImage(X)},addLayer:function(A){var X=this;e.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var dt=e.extend({},A,{success:function(_t){X.raiseEvent("add-layer",{options:A,drawer:_t.item})},error:function(_t){X.raiseEvent("add-layer-failed",_t)}});return this.addTiledImage(dt),this},getLayerAtLevel:function(A){return e.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(A)},getLevelOfLayer:function(A){return e.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(A)},getLayersCount:function(){return e.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(A,X){return e.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(A,X)},removeLayer:function(A){return e.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(A)},forceRedraw:function(){return o[this.hash].forceRedraw=!0,this},forceResize:function(){o[this.hash].needsResize=!0,o[this.hash].forceResize=!0},bindSequenceControls:function(){var A=e.delegate(this,z),X=e.delegate(this,B),dt=e.delegate(this,this.goToNextPage),_t=e.delegate(this,this.goToPreviousPage),wt=this.navImages,Ot=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(Ot=!1),this.previousButton=new e.Button({element:this.previousButton?e.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.PreviousPage"),srcRest:zt(this.prefixUrl,wt.previous.REST),srcGroup:zt(this.prefixUrl,wt.previous.GROUP),srcHover:zt(this.prefixUrl,wt.previous.HOVER),srcDown:zt(this.prefixUrl,wt.previous.DOWN),onRelease:_t,onFocus:A,onBlur:X}),this.nextButton=new e.Button({element:this.nextButton?e.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.NextPage"),srcRest:zt(this.prefixUrl,wt.next.REST),srcGroup:zt(this.prefixUrl,wt.next.GROUP),srcHover:zt(this.prefixUrl,wt.next.HOVER),srcDown:zt(this.prefixUrl,wt.next.DOWN),onRelease:dt,onFocus:A,onBlur:X}),this.navPrevNextWrap||this.previousButton.disable(),(!this.tileSources||!this.tileSources.length)&&this.nextButton.disable(),Ot&&(this.paging=new e.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:e.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||e.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var A=e.delegate(this,Wt),X=e.delegate(this,ve),dt=e.delegate(this,tr),_t=e.delegate(this,ee),wt=e.delegate(this,Ft),Ot=e.delegate(this,Zt),xt=e.delegate(this,Xt),$t=e.delegate(this,nt),le=e.delegate(this,pt),de=e.delegate(this,vt),ae=e.delegate(this,z),Me=e.delegate(this,B),Ce=this.navImages,qe=[],Q=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(Q=!1),this.showZoomControl&&(qe.push(this.zoomInButton=new e.Button({element:this.zoomInButton?e.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomIn"),srcRest:zt(this.prefixUrl,Ce.zoomIn.REST),srcGroup:zt(this.prefixUrl,Ce.zoomIn.GROUP),srcHover:zt(this.prefixUrl,Ce.zoomIn.HOVER),srcDown:zt(this.prefixUrl,Ce.zoomIn.DOWN),onPress:A,onRelease:X,onClick:dt,onEnter:A,onExit:X,onFocus:ae,onBlur:Me})),qe.push(this.zoomOutButton=new e.Button({element:this.zoomOutButton?e.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomOut"),srcRest:zt(this.prefixUrl,Ce.zoomOut.REST),srcGroup:zt(this.prefixUrl,Ce.zoomOut.GROUP),srcHover:zt(this.prefixUrl,Ce.zoomOut.HOVER),srcDown:zt(this.prefixUrl,Ce.zoomOut.DOWN),onPress:_t,onRelease:X,onClick:wt,onEnter:_t,onExit:X,onFocus:ae,onBlur:Me}))),this.showHomeControl&&qe.push(this.homeButton=new e.Button({element:this.homeButton?e.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.Home"),srcRest:zt(this.prefixUrl,Ce.home.REST),srcGroup:zt(this.prefixUrl,Ce.home.GROUP),srcHover:zt(this.prefixUrl,Ce.home.HOVER),srcDown:zt(this.prefixUrl,Ce.home.DOWN),onRelease:Ot,onFocus:ae,onBlur:Me})),this.showFullPageControl&&qe.push(this.fullPageButton=new e.Button({element:this.fullPageButton?e.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.FullPage"),srcRest:zt(this.prefixUrl,Ce.fullpage.REST),srcGroup:zt(this.prefixUrl,Ce.fullpage.GROUP),srcHover:zt(this.prefixUrl,Ce.fullpage.HOVER),srcDown:zt(this.prefixUrl,Ce.fullpage.DOWN),onRelease:xt,onFocus:ae,onBlur:Me})),this.showRotationControl&&(qe.push(this.rotateLeftButton=new e.Button({element:this.rotateLeftButton?e.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateLeft"),srcRest:zt(this.prefixUrl,Ce.rotateleft.REST),srcGroup:zt(this.prefixUrl,Ce.rotateleft.GROUP),srcHover:zt(this.prefixUrl,Ce.rotateleft.HOVER),srcDown:zt(this.prefixUrl,Ce.rotateleft.DOWN),onRelease:$t,onFocus:ae,onBlur:Me})),qe.push(this.rotateRightButton=new e.Button({element:this.rotateRightButton?e.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateRight"),srcRest:zt(this.prefixUrl,Ce.rotateright.REST),srcGroup:zt(this.prefixUrl,Ce.rotateright.GROUP),srcHover:zt(this.prefixUrl,Ce.rotateright.HOVER),srcDown:zt(this.prefixUrl,Ce.rotateright.DOWN),onRelease:le,onFocus:ae,onBlur:Me}))),this.showFlipControl&&qe.push(this.flipButton=new e.Button({element:this.flipButton?e.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.Flip"),srcRest:zt(this.prefixUrl,Ce.flip.REST),srcGroup:zt(this.prefixUrl,Ce.flip.GROUP),srcHover:zt(this.prefixUrl,Ce.flip.HOVER),srcDown:zt(this.prefixUrl,Ce.flip.DOWN),onRelease:de,onFocus:ae,onBlur:Me})),Q?(this.buttonGroup=new e.ButtonGroup({buttons:qe,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",e.delegate(this,qt)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT})):this.customButtons=qe),this},currentPage:function(){return this._sequenceIndex},goToPage:function(A){return this.tileSources&&A>=0&&A<this.tileSources.length&&(this._sequenceIndex=A,this._updateSequenceButtons(A),this.open(this.tileSources[A]),this.referenceStrip&&this.referenceStrip.setFocus(A),this.raiseEvent("page",{page:A})),this},addOverlay:function(A,X,dt,_t){var wt;if(e.isPlainObject(A)?wt=A:wt={element:A,location:X,placement:dt,onDraw:_t},A=e.getElement(wt.element),m(this.currentOverlays,A)>=0)return this;var Ot=f(this,wt);return this.currentOverlays.push(Ot),Ot.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:A,location:wt.location,placement:wt.placement}),this},updateOverlay:function(A,X,dt){var _t;return A=e.getElement(A),_t=m(this.currentOverlays,A),_t>=0&&(this.currentOverlays[_t].update(X,dt),o[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:A,location:X,placement:dt})),this},removeOverlay:function(A){var X;return A=e.getElement(A),X=m(this.currentOverlays,A),X>=0&&(this.currentOverlays[X].destroy(),this.currentOverlays.splice(X,1),o[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:A})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return o[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(A){var X;return A=e.getElement(A),X=m(this.currentOverlays,A),X>=0?this.currentOverlays[X]:null},_updateSequenceButtons:function(A){this.nextButton&&(!this.tileSources||this.tileSources.length-1===A?this.navPrevNextWrap||this.nextButton.disable():this.nextButton.enable()),this.previousButton&&(A>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(A){this._hideMessage();var X=e.makeNeutralElement("div");X.appendChild(document.createTextNode(A)),this.messageDiv=e.makeCenteredNode(X),e.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var A=this.messageDiv;A&&(A.parentNode.removeChild(A),delete this.messageDiv)},gestureSettingsByDeviceType:function(A){switch(A){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var A,X=this.currentOverlays.length;for(A=0;A<X;A++)this.currentOverlays[A].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new e.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,useCanvas:this.useCanvas,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else e.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),e.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){e.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var A=e.pixelDensityRatio,X=e.getCurrentPixelDensityRatio();A!==X&&(e.pixelDensityRatio=X,this.world.resetItems(),this.forceRedraw())},goToPreviousPage:function(){var A=this._sequenceIndex-1;this.navPrevNextWrap&&A<0&&(A+=this.tileSources.length),this.goToPage(A)},goToNextPage:function(){var A=this._sequenceIndex+1;this.navPrevNextWrap&&A>=this.tileSources.length&&(A=0),this.goToPage(A)},isAnimating:function(){return o[this.hash].animating}});function u(A){return A=e.getElement(A),new e.Point(A.clientWidth===0?1:A.clientWidth,A.clientHeight===0?1:A.clientHeight)}function p(A,X,dt,_t,wt){var Ot=A;if(e.type(X)==="string"){if(X.match(/^\s*<.*>\s*$/))X=e.parseXml(X);else if(X.match(/^\s*[{[].*[}\]]\s*$/))try{var xt=e.parseJSON(X);X=xt}catch{}}function $t(le,de){le.ready?_t(le):(le.addHandler("ready",function(){_t(le)}),le.addHandler("open-failed",function(ae){wt({message:ae.message,source:de})}))}setTimeout(function(){if(e.type(X)==="string")X=new e.TileSource({url:X,crossOriginPolicy:dt.crossOriginPolicy!==void 0?dt.crossOriginPolicy:A.crossOriginPolicy,ajaxWithCredentials:A.ajaxWithCredentials,ajaxHeaders:dt.ajaxHeaders?dt.ajaxHeaders:A.ajaxHeaders,splitHashDataForPost:A.splitHashDataForPost,useCanvas:A.useCanvas,success:function(Me){_t(Me.tileSource)}}),X.addHandler("open-failed",function(Me){wt(Me)});else if(e.isPlainObject(X)||X.nodeType)if(X.crossOriginPolicy===void 0&&(dt.crossOriginPolicy!==void 0||A.crossOriginPolicy!==void 0)&&(X.crossOriginPolicy=dt.crossOriginPolicy!==void 0?dt.crossOriginPolicy:A.crossOriginPolicy),X.ajaxWithCredentials===void 0&&(X.ajaxWithCredentials=A.ajaxWithCredentials),X.useCanvas===void 0&&(X.useCanvas=A.useCanvas),e.isFunction(X.getTileUrl)){var le=new e.TileSource(X);le.getTileUrl=X.getTileUrl,_t(le)}else{var de=e.TileSource.determineType(Ot,X);if(!de){wt({message:"Unable to load TileSource",source:X});return}var ae=de.prototype.configure.apply(Ot,[X]);$t(new de(ae),X)}else $t(X,X)})}function f(A,X){if(X instanceof e.Overlay)return X;var dt=null;if(X.element)dt=e.getElement(X.element);else{var _t=X.id?X.id:"openseadragon-overlay-"+Math.floor(Math.random()*1e7);dt=e.getElement(X.id),dt||(dt=document.createElement("a"),dt.href="#/overlay/"+_t),dt.id=_t,e.addClass(dt,X.className?X.className:"openseadragon-overlay")}var wt=X.location,Ot=X.width,xt=X.height;if(!wt){var $t=X.x,le=X.y;if(X.px!==void 0){var de=A.viewport.imageToViewportRectangle(new e.Rect(X.px,X.py,Ot||0,xt||0));$t=de.x,le=de.y,Ot=Ot!==void 0?de.width:void 0,xt=xt!==void 0?de.height:void 0}wt=new e.Point($t,le)}var ae=X.placement;return ae&&e.type(ae)==="string"&&(ae=e.Placement[X.placement.toUpperCase()]),new e.Overlay({element:dt,location:wt,placement:ae,onDraw:X.onDraw,checkResize:X.checkResize,width:Ot,height:xt,rotationMode:X.rotationMode})}function m(A,X){var dt;for(dt=A.length-1;dt>=0;dt--)if(A[dt].element===X)return dt;return-1}function y(A,X){return e.requestAnimationFrame(function(){X(A)})}function _(A){e.requestAnimationFrame(function(){C(A)})}function E(A){A.autoHideControls&&(A.controlsShouldFade=!0,A.controlsFadeBeginTime=e.now()+A.controlsFadeDelay,window.setTimeout(function(){_(A)},A.controlsFadeDelay))}function C(A){var X,dt,_t,wt;if(A.controlsShouldFade){for(X=e.now(),dt=X-A.controlsFadeBeginTime,_t=1-dt/A.controlsFadeLength,_t=Math.min(1,_t),_t=Math.max(0,_t),wt=A.controls.length-1;wt>=0;wt--)A.controls[wt].autoFade&&A.controls[wt].setOpacity(_t);_t>0&&_(A)}}function I(A){var X;for(A.controlsShouldFade=!1,X=A.controls.length-1;X>=0;X--)A.controls[X].setOpacity(1)}function z(){I(this)}function B(){E(this)}function G(A){var X={tracker:A.eventSource,position:A.position,originalEvent:A.originalEvent,preventDefault:A.preventDefault};this.raiseEvent("canvas-contextmenu",X),A.preventDefault=X.preventDefault}function H(A){var X={originalEvent:A.originalEvent,preventDefaultAction:!1,preventVerticalPan:A.preventVerticalPan||!this.panVertical,preventHorizontalPan:A.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",X),!X.preventDefaultAction&&!A.ctrl&&!A.alt&&!A.meta)switch(A.keyCode){case 38:X.preventVerticalPan||(A.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),A.preventDefault=!0;break;case 40:X.preventVerticalPan||(A.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),A.preventDefault=!0;break;case 37:X.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),A.preventDefault=!0;break;case 39:X.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),A.preventDefault=!0;break;default:A.preventDefault=!1;break}else A.preventDefault=!1}function $(A){var X={originalEvent:A.originalEvent,preventDefaultAction:!1,preventVerticalPan:A.preventVerticalPan||!this.panVertical,preventHorizontalPan:A.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",X),!X.preventDefaultAction&&!A.ctrl&&!A.alt&&!A.meta)switch(A.keyCode){case 43:case 61:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),A.preventDefault=!0;break;case 45:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),A.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),A.preventDefault=!0;break;case 119:case 87:X.preventVerticalPan||(A.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-40))),this.viewport.applyConstraints()),A.preventDefault=!0;break;case 115:case 83:X.preventVerticalPan||(A.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,40))),this.viewport.applyConstraints()),A.preventDefault=!0;break;case 97:X.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-40,0))),this.viewport.applyConstraints()),A.preventDefault=!0;break;case 100:X.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(40,0))),this.viewport.applyConstraints()),A.preventDefault=!0;break;case 114:this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement),this.viewport.applyConstraints(),A.preventDefault=!0;break;case 82:this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement),this.viewport.applyConstraints(),A.preventDefault=!0;break;case 102:this.viewport.toggleFlip(),A.preventDefault=!0;break;case 106:this.goToPreviousPage();break;case 107:this.goToNextPage();break;default:A.preventDefault=!1;break}else A.preventDefault=!1}function j(A){var X,dt=document.activeElement===this.canvas;dt||this.canvas.focus(),this.viewport.flipped&&(A.position.x=this.viewport.getContainerSize().x-A.position.x);var _t={tracker:A.eventSource,position:A.position,quick:A.quick,shift:A.shift,originalEvent:A.originalEvent,originalTarget:A.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",_t),!_t.preventDefaultAction&&this.viewport&&A.quick&&(X=this.gestureSettingsByDeviceType(A.pointerType),X.clickToZoom===!0&&(this.viewport.zoomBy(A.shift?1/this.zoomPerClick:this.zoomPerClick,X.zoomToRefPoint?this.viewport.pointFromPixel(A.position,!0):null),this.viewport.applyConstraints()),X.dblClickDragToZoom&&(o[this.hash].draggingToZoom===!0?(o[this.hash].lastClickTime=null,o[this.hash].draggingToZoom=!1):o[this.hash].lastClickTime=e.now()))}function V(A){var X,dt={tracker:A.eventSource,position:A.position,shift:A.shift,originalEvent:A.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",dt),!dt.preventDefaultAction&&this.viewport&&(X=this.gestureSettingsByDeviceType(A.pointerType),X.dblClickToZoom&&(this.viewport.zoomBy(A.shift?1/this.zoomPerClick:this.zoomPerClick,X.zoomToRefPoint?this.viewport.pointFromPixel(A.position,!0):null),this.viewport.applyConstraints()))}function ot(A){var X,dt={tracker:A.eventSource,pointerType:A.pointerType,position:A.position,delta:A.delta,speed:A.speed,direction:A.direction,shift:A.shift,originalEvent:A.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",dt),X=this.gestureSettingsByDeviceType(A.pointerType),!dt.preventDefaultAction&&this.viewport){if(X.dblClickDragToZoom&&o[this.hash].draggingToZoom){var _t=Math.pow(this.zoomPerDblClickDrag,A.delta.y/50);this.viewport.zoomBy(_t)}else if(X.dragToPan&&!o[this.hash].draggingToZoom){if(this.panHorizontal||(A.delta.x=0),this.panVertical||(A.delta.y=0),this.viewport.flipped&&(A.delta.x=-A.delta.x),this.constrainDuringPan){var wt=this.viewport.deltaPointsFromPixels(A.delta.negate());this.viewport.centerSpringX.target.value+=wt.x,this.viewport.centerSpringY.target.value+=wt.y;var Ot=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=wt.x,this.viewport.centerSpringY.target.value-=wt.y,Ot.xConstrained&&(A.delta.x=0),Ot.yConstrained&&(A.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(A.delta.negate()),X.flickEnabled&&!this.constrainDuringPan)}}}function ft(A){var X,dt={tracker:A.eventSource,pointerType:A.pointerType,position:A.position,speed:A.speed,direction:A.direction,shift:A.shift,originalEvent:A.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",dt),X=this.gestureSettingsByDeviceType(A.pointerType),!dt.preventDefaultAction&&this.viewport){if(!o[this.hash].draggingToZoom&&X.flickEnabled&&A.speed>=X.flickMinSpeed){var _t=0;this.panHorizontal&&(_t=X.flickMomentum*A.speed*Math.cos(A.direction));var wt=0;this.panVertical&&(wt=X.flickMomentum*A.speed*Math.sin(A.direction));var Ot=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),xt=this.viewport.pointFromPixel(new e.Point(Ot.x-_t,Ot.y-wt));this.viewport.panTo(xt,!1)}this.viewport.applyConstraints()}X.dblClickDragToZoom&&o[this.hash].draggingToZoom===!0&&(o[this.hash].draggingToZoom=!1)}function ht(A){this.raiseEvent("canvas-enter",{tracker:A.eventSource,pointerType:A.pointerType,position:A.position,buttons:A.buttons,pointers:A.pointers,insideElementPressed:A.insideElementPressed,buttonDownAny:A.buttonDownAny,originalEvent:A.originalEvent})}function ct(A){this.raiseEvent("canvas-exit",{tracker:A.eventSource,pointerType:A.pointerType,position:A.position,buttons:A.buttons,pointers:A.pointers,insideElementPressed:A.insideElementPressed,buttonDownAny:A.buttonDownAny,originalEvent:A.originalEvent})}function Z(A){var X;if(this.raiseEvent("canvas-press",{tracker:A.eventSource,pointerType:A.pointerType,position:A.position,insideElementPressed:A.insideElementPressed,insideElementReleased:A.insideElementReleased,originalEvent:A.originalEvent}),X=this.gestureSettingsByDeviceType(A.pointerType),X.dblClickDragToZoom){var dt=o[this.hash].lastClickTime,_t=e.now();if(dt===null)return;_t-dt<this.dblClickTimeThreshold&&(o[this.hash].draggingToZoom=!0),o[this.hash].lastClickTime=null}}function lt(A){this.raiseEvent("canvas-release",{tracker:A.eventSource,pointerType:A.pointerType,position:A.position,insideElementPressed:A.insideElementPressed,insideElementReleased:A.insideElementReleased,originalEvent:A.originalEvent})}function ut(A){this.raiseEvent("canvas-nonprimary-press",{tracker:A.eventSource,position:A.position,pointerType:A.pointerType,button:A.button,buttons:A.buttons,originalEvent:A.originalEvent})}function mt(A){this.raiseEvent("canvas-nonprimary-release",{tracker:A.eventSource,position:A.position,pointerType:A.pointerType,button:A.button,buttons:A.buttons,originalEvent:A.originalEvent})}function te(A){var X,dt,_t,wt,Ot={tracker:A.eventSource,pointerType:A.pointerType,gesturePoints:A.gesturePoints,lastCenter:A.lastCenter,center:A.center,lastDistance:A.lastDistance,distance:A.distance,shift:A.shift,originalEvent:A.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",Ot),this.viewport&&(X=this.gestureSettingsByDeviceType(A.pointerType),X.pinchToZoom&&(!Ot.preventDefaultPanAction||!Ot.preventDefaultZoomAction)&&(dt=this.viewport.pointFromPixel(A.center,!0),X.zoomToRefPoint&&!Ot.preventDefaultPanAction&&(_t=this.viewport.pointFromPixel(A.lastCenter,!0),wt=_t.minus(dt),this.panHorizontal||(wt.x=0),this.panVertical||(wt.y=0),this.viewport.panBy(wt,!0)),Ot.preventDefaultZoomAction||this.viewport.zoomBy(A.distance/A.lastDistance,dt,!0),this.viewport.applyConstraints()),X.pinchRotate&&!Ot.preventDefaultRotateAction)){var xt=Math.atan2(A.gesturePoints[0].currentPos.y-A.gesturePoints[1].currentPos.y,A.gesturePoints[0].currentPos.x-A.gesturePoints[1].currentPos.x),$t=Math.atan2(A.gesturePoints[0].lastPos.y-A.gesturePoints[1].lastPos.y,A.gesturePoints[0].lastPos.x-A.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(xt-$t)*(180/Math.PI))}}function ne(A){var X,dt,_t,wt,Ot;wt=e.now(),Ot=wt-this._lastScrollTime,Ot>this.minScrollDeltaTime?(this._lastScrollTime=wt,X={tracker:A.eventSource,position:A.position,scroll:A.scroll,shift:A.shift,originalEvent:A.originalEvent,preventDefaultAction:!1,preventDefault:!0},this.raiseEvent("canvas-scroll",X),!X.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(A.position.x=this.viewport.getContainerSize().x-A.position.x),dt=this.gestureSettingsByDeviceType(A.pointerType),dt.scrollToZoom&&(_t=Math.pow(this.zoomPerScroll,A.scroll),this.viewport.zoomBy(_t,dt.zoomToRefPoint?this.viewport.pointFromPixel(A.position,!0):null),this.viewport.applyConstraints())),A.preventDefault=X.preventDefault):A.preventDefault=!0}function ye(A){o[this.hash].mouseInside=!0,I(this),this.raiseEvent("container-enter",{tracker:A.eventSource,pointerType:A.pointerType,position:A.position,buttons:A.buttons,pointers:A.pointers,insideElementPressed:A.insideElementPressed,buttonDownAny:A.buttonDownAny,originalEvent:A.originalEvent})}function Gt(A){A.pointers<1&&(o[this.hash].mouseInside=!1,o[this.hash].animating||E(this)),this.raiseEvent("container-exit",{tracker:A.eventSource,pointerType:A.pointerType,position:A.position,buttons:A.buttons,pointers:A.pointers,insideElementPressed:A.insideElementPressed,buttonDownAny:A.buttonDownAny,originalEvent:A.originalEvent})}function he(A){Je(A),A.isOpen()?A._updateRequestId=y(A,he):A._updateRequestId=!1}function Kt(A,X){var dt=A.viewport,_t=dt.getZoom(),wt=dt.getCenter();dt.resize(X,A.preserveImageSizeOnResize),dt.panTo(wt,!0);var Ot;if(A.preserveImageSizeOnResize)Ot=o[A.hash].prevContainerSize.x/X.x;else{var xt=new e.Point(0,0),$t=new e.Point(o[A.hash].prevContainerSize.x,o[A.hash].prevContainerSize.y).distanceTo(xt),le=new e.Point(X.x,X.y).distanceTo(xt);Ot=le/$t*o[A.hash].prevContainerSize.x/X.x}dt.zoomTo(_t*Ot,null,!0),o[A.hash].prevContainerSize=X,o[A.hash].forceRedraw=!0,o[A.hash].needsResize=!1,o[A.hash].forceResize=!1}function Je(A){if(!(A._opening||!o[A.hash])){if(A.autoResize||o[A.hash].forceResize){var X;if(A._autoResizePolling){X=u(A.container);var dt=o[A.hash].prevContainerSize;X.equals(dt)||(o[A.hash].needsResize=!0)}o[A.hash].needsResize&&Kt(A,X||u(A.container))}var _t=A.viewport.update(),wt=A.world.update()||_t;_t&&A.raiseEvent("viewport-change"),A.referenceStrip&&(wt=A.referenceStrip.update(A.viewport)||wt);var Ot=o[A.hash].animating;!Ot&&wt&&(A.raiseEvent("animation-start"),I(A));var xt=Ot&&!wt;xt&&(o[A.hash].animating=!1),(wt||xt||o[A.hash].forceRedraw||A.world.needsDraw())&&(kt(A),A._drawOverlays(),A.navigator&&A.navigator.update(A.viewport),o[A.hash].forceRedraw=!1,wt&&A.raiseEvent("animation")),xt&&(A.raiseEvent("animation-finish"),o[A.hash].mouseInside||E(A)),o[A.hash].animating=wt}}function kt(A){A.imageLoader.clear(),A.drawer.clear(),A.world.draw(),A.raiseEvent("update-viewport",{})}function zt(A,X){return A?A+X:X}function Wt(){o[this.hash].lastZoomTime=e.now(),o[this.hash].zoomFactor=this.zoomPerSecond,o[this.hash].zooming=!0,se(this)}function ee(){o[this.hash].lastZoomTime=e.now(),o[this.hash].zoomFactor=1/this.zoomPerSecond,o[this.hash].zooming=!0,se(this)}function ve(){o[this.hash].zooming=!1}function se(A){e.requestAnimationFrame(e.delegate(A,ue))}function ue(){var A,X,dt;o[this.hash].zooming&&this.viewport&&(A=e.now(),X=A-o[this.hash].lastZoomTime,dt=Math.pow(o[this.hash].zoomFactor,X/1e3),this.viewport.zoomBy(dt),this.viewport.applyConstraints(),o[this.hash].lastZoomTime=A,se(this))}function tr(){this.viewport&&(o[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function Ft(){this.viewport&&(o[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function qt(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function Zt(){this.viewport&&this.viewport.goHome()}function Xt(){this.isFullPage()&&!e.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function nt(){if(this.viewport){var A=this.viewport.getRotation();this.viewport.flipped?A+=this.rotationIncrement:A-=this.rotationIncrement,this.viewport.setRotation(A)}}function pt(){if(this.viewport){var A=this.viewport.getRotation();this.viewport.flipped?A-=this.rotationIncrement:A+=this.rotationIncrement,this.viewport.setRotation(A)}}function vt(){this.viewport.toggleFlip()}}(i),function(e){e.Navigator=function(y){var _=y.viewer,E=this,C,I;y.element||y.id?(y.element?(y.id&&e.console.warn("Given option.id for Navigator was ignored since option.element was provided and is being used instead."),y.element.id?y.id=y.element.id:y.id="navigator-"+e.now(),this.element=y.element):this.element=document.getElementById(y.id),y.controlOptions={anchor:e.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(y.id="navigator-"+e.now(),this.element=e.makeNeutralElement("div"),y.controlOptions={anchor:e.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:y.autoFade},y.position&&(y.position==="BOTTOM_RIGHT"?y.controlOptions.anchor=e.ControlAnchor.BOTTOM_RIGHT:y.position==="BOTTOM_LEFT"?y.controlOptions.anchor=e.ControlAnchor.BOTTOM_LEFT:y.position==="TOP_RIGHT"?y.controlOptions.anchor=e.ControlAnchor.TOP_RIGHT:y.position==="TOP_LEFT"?y.controlOptions.anchor=e.ControlAnchor.TOP_LEFT:y.position==="ABSOLUTE"&&(y.controlOptions.anchor=e.ControlAnchor.ABSOLUTE,y.controlOptions.top=y.top,y.controlOptions.left=y.left,y.controlOptions.height=y.height,y.controlOptions.width=y.width))),this.element.id=y.id,this.element.className+=" navigator",y=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.navigatorSizeRatio},y,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:y.animationTime,autoResize:!1,minZoomImageRatio:1,background:y.background,opacity:y.opacity,borderColor:y.borderColor,displayRegionColor:y.displayRegionColor}),y.minPixelRatio=this.minPixelRatio=_.minPixelRatio,e.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new e.Point(1,1),this.totalBorderWidths=new e.Point(this.borderWidth*2,this.borderWidth*2).minus(this.fudge),y.controlOptions.anchor!==e.ControlAnchor.NONE&&function(G,H){G.margin="0px",G.border=H+"px solid "+y.borderColor,G.padding="0px",G.background=y.background,G.opacity=y.opacity,G.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=e.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(G,H){G.position="relative",G.top="0px",G.left="0px",G.fontSize="0px",G.overflow="hidden",G.border=H+"px solid "+y.displayRegionColor,G.margin="0px",G.padding="0px",G.background="transparent",G.float="left",G.cssFloat="left",G.styleFloat="left",G.zIndex=999999999,G.cursor="default"}(this.displayRegion.style,this.borderWidth),e.setElementPointerEventsNone(this.displayRegion),e.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=e.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",e.setElementPointerEventsNone(this.displayRegionContainer),e.setElementTouchActionNone(this.displayRegionContainer),_.addControl(this.element,y.controlOptions),this._resizeWithViewer=y.controlOptions.anchor!==e.ControlAnchor.ABSOLUTE&&y.controlOptions.anchor!==e.ControlAnchor.NONE,y.width&&y.height?(this.setWidth(y.width),this.setHeight(y.height)):this._resizeWithViewer&&(C=e.getElementSize(_.element),this.element.style.height=Math.round(C.y*y.sizeRatio)+"px",this.element.style.width=Math.round(C.x*y.sizeRatio)+"px",this.oldViewerSize=C,I=e.getElementSize(this.element),this.elementArea=I.x*I.y),this.oldContainerSize=new e.Point(0,0),e.Viewer.apply(this,[y]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer);function z(G){f(E.displayRegionContainer,G),f(E.displayRegion,-G),E.viewport.setRotation(G)}if(y.navigatorRotate){var B=y.viewer.viewport?y.viewer.viewport.getRotation():y.viewer.degrees||0;z(B),y.viewer.addHandler("rotate",function(G){z(G.degrees)})}this.innerTracker.destroy(),this.innerTracker=new e.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:e.delegate(this,l),clickHandler:e.delegate(this,o),releaseHandler:e.delegate(this,u),scrollHandler:e.delegate(this,p),preProcessEventHandler:function(G){G.eventType==="wheel"&&(G.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",e.setElementPointerEventsNone(this.canvas),e.setElementPointerEventsNone(this.container),this.addHandler("reset-size",function(){E.viewport&&E.viewport.goHome(!0)}),_.world.addHandler("item-index-change",function(G){window.setTimeout(function(){var H=E.world.getItemAt(G.previousIndex);E.world.setItemIndex(H,G.newIndex)},1)}),_.world.addHandler("remove-item",function(G){var H=G.item,$=E._getMatchingItem(H);$&&E.world.removeItem($)}),this.update(_.viewport)},e.extend(e.Navigator.prototype,e.EventSource.prototype,e.Viewer.prototype,{updateSize:function(){if(this.viewport){var y=new e.Point(this.container.clientWidth===0?1:this.container.clientWidth,this.container.clientHeight===0?1:this.container.clientHeight);y.equals(this.oldContainerSize)||(this.viewport.resize(y,!0),this.viewport.goHome(!0),this.oldContainerSize=y,this.drawer.clear(),this.world.draw())}},setWidth:function(y){this.width=y,this.element.style.width=typeof y=="number"?y+"px":y,this._resizeWithViewer=!1},setHeight:function(y){this.height=y,this.element.style.height=typeof y=="number"?y+"px":y,this._resizeWithViewer=!1},setFlip:function(y){return this.viewport.setFlip(y),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(y){m(this.displayRegion,y),m(this.canvas,y),m(this.element,y)},update:function(y){var _,E,C,I,z,B;if(_=e.getElementSize(this.viewer.element),this._resizeWithViewer&&_.x&&_.y&&!_.equals(this.oldViewerSize)&&(this.oldViewerSize=_,this.maintainSizeRatio||!this.elementArea?(E=_.x*this.sizeRatio,C=_.y*this.sizeRatio):(E=Math.sqrt(this.elementArea*(_.x/_.y)),C=this.elementArea/E),this.element.style.width=Math.round(E)+"px",this.element.style.height=Math.round(C)+"px",this.elementArea||(this.elementArea=E*C),this.updateSize()),y&&this.viewport){I=y.getBoundsNoRotate(!0),z=this.viewport.pixelFromPointNoRotate(I.getTopLeft(),!1),B=this.viewport.pixelFromPointNoRotate(I.getBottomRight(),!1).minus(this.totalBorderWidths);var G=this.displayRegion.style;G.display=this.world.getItemCount()?"block":"none",G.top=Math.round(z.y)+"px",G.left=Math.round(z.x)+"px";var H=Math.abs(z.x-B.x),$=Math.abs(z.y-B.y);G.width=Math.round(Math.max(H,0))+"px",G.height=Math.round(Math.max($,0))+"px"}},addTiledImage:function(y){var _=this,E=y.originalTiledImage;delete y.original;var C=e.extend({},y,{success:function(I){var z=I.item;z._originalForNavigator=E,_._matchBounds(z,E,!0),_._matchOpacity(z,E),_._matchCompositeOperation(z,E);function B(){_._matchBounds(z,E)}function G(){_._matchOpacity(z,E)}function H(){_._matchCompositeOperation(z,E)}E.addHandler("bounds-change",B),E.addHandler("clip-change",B),E.addHandler("opacity-change",G),E.addHandler("composite-operation-change",H)}});return e.Viewer.prototype.addTiledImage.apply(this,[C])},destroy:function(){return e.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(y){for(var _=this.world.getItemCount(),E,C=0;C<_;C++)if(E=this.world.getItemAt(C),E._originalForNavigator===y)return E;return null},_matchBounds:function(y,_,E){var C=_.getBoundsNoRotate();y.setPosition(C.getTopLeft(),E),y.setWidth(C.width,E),y.setRotation(_.getRotation(),E),y.setClip(_.getClip()),y.setFlip(_.getFlip())},_matchOpacity:function(y,_){y.setOpacity(_.opacity)},_matchCompositeOperation:function(y,_){y.setCompositeOperation(_.compositeOperation)}});function o(y){var _={tracker:y.eventSource,position:y.position,quick:y.quick,shift:y.shift,originalEvent:y.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",_),!_.preventDefaultAction&&y.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(y.position.x=this.viewport.getContainerSize().x-y.position.x);var E=this.viewport.pointFromPixel(y.position);this.panVertical?this.panHorizontal||(E.x=this.viewer.viewport.getCenter(!0).x):E.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(E),this.viewer.viewport.applyConstraints()}}function l(y){var _={tracker:y.eventSource,position:y.position,delta:y.delta,speed:y.speed,direction:y.direction,shift:y.shift,originalEvent:y.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",_),!_.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(y.delta.x=0),this.panVertical||(y.delta.y=0),this.viewer.viewport.flipped&&(y.delta.x=-y.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(y.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function u(y){y.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function p(y){var _={tracker:y.eventSource,position:y.position,scroll:y.scroll,shift:y.shift,originalEvent:y.originalEvent,preventDefault:y.preventDefault};this.viewer.raiseEvent("navigator-scroll",_),y.preventDefault=_.preventDefault}function f(y,_){m(y,"rotate("+_+"deg)")}function m(y,_){y.style.webkitTransform=_,y.style.mozTransform=_,y.style.msTransform=_,y.style.oTransform=_,y.style.transform=_}}(i),function(e){var o={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};e.extend(e,{getString:function(l){var u=l.split("."),p=null,f=arguments,m=o,y;for(y=0;y<u.length-1;y++)m=m[u[y]]||{};return p=m[u[y]],typeof p!="string"&&(e.console.error("Untranslated source string:",l),p=""),p.replace(/\{\d+\}/g,function(_){var E=parseInt(_.match(/\d+/),10)+1;return E<f.length?f[E]:""})},setString:function(l,u){var p=l.split("."),f=o,m;for(m=0;m<p.length-1;m++)f[p[m]]||(f[p[m]]={}),f=f[p[m]];f[p[m]]=u}})}(i),function(e){e.Point=function(o,l){this.x=typeof o=="number"?o:0,this.y=typeof l=="number"?l:0},e.Point.prototype={clone:function(){return new e.Point(this.x,this.y)},plus:function(o){return new e.Point(this.x+o.x,this.y+o.y)},minus:function(o){return new e.Point(this.x-o.x,this.y-o.y)},times:function(o){return new e.Point(this.x*o,this.y*o)},divide:function(o){return new e.Point(this.x/o,this.y/o)},negate:function(){return new e.Point(-this.x,-this.y)},distanceTo:function(o){return Math.sqrt(Math.pow(this.x-o.x,2)+Math.pow(this.y-o.y,2))},squaredDistanceTo:function(o){return Math.pow(this.x-o.x,2)+Math.pow(this.y-o.y,2)},apply:function(o){return new e.Point(o(this.x),o(this.y))},equals:function(o){return o instanceof e.Point&&this.x===o.x&&this.y===o.y},rotate:function(o,l){l=l||new e.Point(0,0);var u,p;if(o%90===0){var f=e.positiveModulo(o,360);switch(f){case 0:u=1,p=0;break;case 90:u=0,p=1;break;case 180:u=-1,p=0;break;case 270:u=0,p=-1;break}}else{var m=o*Math.PI/180;u=Math.cos(m),p=Math.sin(m)}var y=u*(this.x-l.x)-p*(this.y-l.y)+l.x,_=p*(this.x-l.x)+u*(this.y-l.y)+l.y;return new e.Point(y,_)},toString:function(){return"("+Math.round(this.x*100)/100+","+Math.round(this.y*100)/100+")"}}}(i),function(e){e.TileSource=function(l,u,p,f,m,y){var _=this,E=arguments,C,I;if(e.isPlainObject(l)?C=l:C={width:E[0],height:E[1],tileSize:E[2],tileOverlap:E[3],minLevel:E[4],maxLevel:E[5]},e.EventSource.call(this),e.extend(!0,this,C),!this.success){for(I=0;I<arguments.length;I++)if(e.isFunction(arguments[I])){this.success=arguments[I];break}}this.success&&this.addHandler("ready",function(z){_.success(z)}),e.type(arguments[0])==="string"&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new e.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=C.width&&C.height?C.width/C.height:1,this.dimensions=new e.Point(C.width,C.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=C.tileOverlap?C.tileOverlap:0,this.minLevel=C.minLevel?C.minLevel:0,this.maxLevel=C.maxLevel!==void 0&&C.maxLevel!==null?C.maxLevel:C.width&&C.height?Math.ceil(Math.log(Math.max(C.width,C.height))/Math.log(2)):0,this.success&&e.isFunction(this.success)&&this.success(this))},e.TileSource.prototype={getTileSize:function(l){return e.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(l){return this._tileWidth?this._tileWidth:this.getTileSize(l)},getTileHeight:function(l){return this._tileHeight?this._tileHeight:this.getTileSize(l)},setMaxLevel:function(l){this.maxLevel=l,this._memoizeLevelScale()},getLevelScale:function(l){return this._memoizeLevelScale(),this.getLevelScale(l)},_memoizeLevelScale:function(){var l={},u;for(u=0;u<=this.maxLevel;u++)l[u]=1/Math.pow(2,this.maxLevel-u);this.getLevelScale=function(p){return l[p]}},getNumTiles:function(l){var u=this.getLevelScale(l),p=Math.ceil(u*this.dimensions.x/this.getTileWidth(l)),f=Math.ceil(u*this.dimensions.y/this.getTileHeight(l));return new e.Point(p,f)},getPixelRatio:function(l){var u=this.dimensions.times(this.getLevelScale(l)),p=1/u.x*e.pixelDensityRatio,f=1/u.y*e.pixelDensityRatio;return new e.Point(p,f)},getClosestLevel:function(){var l,u;for(l=this.minLevel+1;l<=this.maxLevel&&(u=this.getNumTiles(l),!(u.x>1||u.y>1));l++);return l-1},getTileAtPoint:function(l,u){var p=u.x>=0&&u.x<=1&&u.y>=0&&u.y<=1/this.aspectRatio;e.console.assert(p,"[TileSource.getTileAtPoint] must be called with a valid point.");var f=this.dimensions.x*this.getLevelScale(l),m=u.x*f,y=u.y*f,_=Math.floor(m/this.getTileWidth(l)),E=Math.floor(y/this.getTileHeight(l));u.x>=1&&(_=this.getNumTiles(l).x-1);var C=1e-15;return u.y>=1/this.aspectRatio-C&&(E=this.getNumTiles(l).y-1),new e.Point(_,E)},getTileBounds:function(l,u,p,f){var m=this.dimensions.times(this.getLevelScale(l)),y=this.getTileWidth(l),_=this.getTileHeight(l),E=u===0?0:y*u-this.tileOverlap,C=p===0?0:_*p-this.tileOverlap,I=y+(u===0?1:2)*this.tileOverlap,z=_+(p===0?1:2)*this.tileOverlap,B=1/m.x;return I=Math.min(I,m.x-E),z=Math.min(z,m.y-C),f?new e.Rect(0,0,I,z):new e.Rect(E*B,C*B,I*B,z*B)},getImageInfo:function(l){var u=this,p,f,m,y,_,E,C;l&&(_=l.split("/"),E=_[_.length-1],C=E.lastIndexOf("."),C>-1&&(_[_.length-1]=E.slice(0,C)));var I=null;if(this.splitHashDataForPost){var z=l.indexOf("#");z!==-1&&(I=l.substring(z+1),l=l.substr(0,z))}f=function(B){typeof B=="string"&&(B=e.parseXml(B));var G=e.TileSource.determineType(u,B,l);if(!G){u.raiseEvent("open-failed",{message:"Unable to load TileSource",source:l});return}y=G.prototype.configure.apply(u,[B,l,I]),y.ajaxWithCredentials===void 0&&(y.ajaxWithCredentials=u.ajaxWithCredentials),m=new G(y),u.ready=!0,u.raiseEvent("ready",{tileSource:m})},l.match(/\.js$/)?(p=l.split("/").pop().replace(".js",""),e.jsonp({url:l,async:!1,callbackName:p,callback:f})):e.makeAjaxRequest({url:l,postData:I,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(B){var G=o(B);f(G)},error:function(B,G){var H;try{H="HTTP "+B.status+" attempting to load TileSource: "+l}catch{var $;typeof G>"u"||!G.toString?$="Unknown error":$=G.toString(),H=$+" attempting to load TileSource: "+l}e.console.error(H),u.raiseEvent("open-failed",{message:H,source:l,postData:I})}})},supports:function(l,u){return!1},configure:function(l,u,p){throw new Error("Method not implemented.")},getTileUrl:function(l,u,p){throw new Error("Method not implemented.")},getTilePostData:function(l,u,p){return null},getTileAjaxHeaders:function(l,u,p){return{}},getTileHashKey:function(l,u,p,f,m,y){function _(E){return m?E+"+"+JSON.stringify(m):E}return _(typeof f!="string"?l+"/"+u+"_"+p:f)},tileExists:function(l,u,p){var f=this.getNumTiles(l);return l>=this.minLevel&&l<=this.maxLevel&&u>=0&&p>=0&&u<f.x&&p<f.y},hasTransparency:function(l,u,p,f){return!!l||u.match(".png")},downloadTileStart:function(l){var u=l.userData,p=new Image;u.image=p,u.request=null;var f=function(m){if(!p){l.finish(null,u.request,"Image load failed: undefined Image instance.");return}p.onload=p.onerror=p.onabort=null,l.finish(m?null:p,u.request,m)};p.onload=function(){f()},p.onabort=p.onerror=function(){f("Image load aborted.")},l.loadWithAjax?u.request=e.makeAjaxRequest({url:l.src,withCredentials:l.ajaxWithCredentials,headers:l.ajaxHeaders,responseType:"arraybuffer",postData:l.postData,success:function(m){var y;try{y=new window.Blob([m.response])}catch(C){var _=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(C.name==="TypeError"&&_){var E=new _;E.append(m.response),y=E.getBlob()}}y.size===0?f("Empty image response."):p.src=(window.URL||window.webkitURL).createObjectURL(y)},error:function(m){f("Image load aborted - XHR error")}}):(l.crossOriginPolicy!==!1&&(p.crossOrigin=l.crossOriginPolicy),p.src=l.src)},downloadTileAbort:function(l){l.userData.request&&l.userData.request.abort();var u=l.userData.image;l.userData.image&&(u.onload=u.onerror=u.onabort=null)},createTileCache:function(l,u,p){l._data=u},destroyTileCache:function(l){l._data=null,l._renderedContext=null},getTileCacheData:function(l){return l._data},getTileCacheDataAsImage:function(l){return l._data},getTileCacheDataAsContext2D:function(l){if(!l._renderedContext){var u=document.createElement("canvas");u.width=l._data.width,u.height=l._data.height,l._renderedContext=u.getContext("2d"),l._renderedContext.drawImage(l._data,0,0),l._data=null}return l._renderedContext}},e.extend(!0,e.TileSource.prototype,e.EventSource.prototype);function o(l){var u=l.responseText,p=l.status,f,m;if(l){if(l.status!==200&&l.status!==0)throw p=l.status,f=p===404?"Not Found":l.statusText,new Error(e.getString("Errors.Status",p,f))}else throw new Error(e.getString("Errors.Security"));if(u.match(/\s*<.*/))try{m=l.responseXML&&l.responseXML.documentElement?l.responseXML:e.parseXml(u)}catch{m=l.responseText}else if(u.match(/\s*[{[].*/))try{m=e.parseJSON(u)}catch{m=u}else m=u;return m}e.TileSource.determineType=function(l,u,p){var f;for(f in i)if(f.match(/.+TileSource$/)&&e.isFunction(i[f])&&e.isFunction(i[f].prototype.supports)&&i[f].prototype.supports.call(l,u,p))return i[f];return e.console.error("No TileSource was able to open %s %s",p,u),null}}(i),function(e){e.DziTileSource=function(u,p,f,m,y,_,E,C,I){var z,B,G,H;if(e.isPlainObject(u)?H=u:H={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=H.tilesUrl,this.fileFormat=H.fileFormat,this.displayRects=H.displayRects,this.displayRects)for(z=this.displayRects.length-1;z>=0;z--)for(B=this.displayRects[z],G=B.minLevel;G<=B.maxLevel;G++)this._levelRects[G]||(this._levelRects[G]=[]),this._levelRects[G].push(B);e.TileSource.apply(this,[H])},e.extend(e.DziTileSource.prototype,e.TileSource.prototype,{supports:function(u,p){var f;return u.Image?f=u.Image.xmlns:u.documentElement&&(u.documentElement.localName==="Image"||u.documentElement.tagName==="Image")&&(f=u.documentElement.namespaceURI),f=(f||"").toLowerCase(),f.indexOf("schemas.microsoft.com/deepzoom/2008")!==-1||f.indexOf("schemas.microsoft.com/deepzoom/2009")!==-1},configure:function(u,p,f){var m;return e.isPlainObject(u)?m=l(this,u):m=o(this,u),p&&!m.tilesUrl&&(m.tilesUrl=p.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),p.search(/\.(dzi|xml|js)\?/)!==-1?m.queryParams=p.match(/\?.*/):m.queryParams=""),m},getTileUrl:function(u,p,f){return[this.tilesUrl,u,"/",p,"_",f,".",this.fileFormat,this.queryParams].join("")},tileExists:function(u,p,f){var m=this._levelRects[u],y,_,E,C,I,z,B;if(this.minLevel&&u<this.minLevel||this.maxLevel&&u>this.maxLevel)return!1;if(!m||!m.length)return!0;for(B=m.length-1;B>=0;B--)if(y=m[B],!(u<y.minLevel||u>y.maxLevel)&&(_=this.getLevelScale(u),E=y.x*_,C=y.y*_,I=E+y.width*_,z=C+y.height*_,E=Math.floor(E/this._tileWidth),C=Math.floor(C/this._tileWidth),I=Math.ceil(I/this._tileWidth),z=Math.ceil(z/this._tileWidth),E<=p&&p<I&&C<=f&&f<z))return!0;return!1}});function o(u,p){if(!p||!p.documentElement)throw new Error(e.getString("Errors.Xml"));var f=p.documentElement,m=f.localName||f.tagName,y=p.documentElement.namespaceURI,_=null,E=[],C,I,z,B,G;if(m==="Image")try{if(B=f.getElementsByTagName("Size")[0],B===void 0&&(B=f.getElementsByTagNameNS(y,"Size")[0]),_={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:f.getAttribute("Url"),Format:f.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(f.getAttribute("Overlap"),10),TileSize:parseInt(f.getAttribute("TileSize"),10),Size:{Height:parseInt(B.getAttribute("Height"),10),Width:parseInt(B.getAttribute("Width"),10)}}},!e.imageFormatSupported(_.Image.Format))throw new Error(e.getString("Errors.ImageFormat",_.Image.Format.toUpperCase()));for(C=f.getElementsByTagName("DisplayRect"),C===void 0&&(C=f.getElementsByTagNameNS(y,"DisplayRect")[0]),G=0;G<C.length;G++)I=C[G],z=I.getElementsByTagName("Rect")[0],z===void 0&&(z=I.getElementsByTagNameNS(y,"Rect")[0]),E.push({Rect:{X:parseInt(z.getAttribute("X"),10),Y:parseInt(z.getAttribute("Y"),10),Width:parseInt(z.getAttribute("Width"),10),Height:parseInt(z.getAttribute("Height"),10),MinLevel:parseInt(I.getAttribute("MinLevel"),10),MaxLevel:parseInt(I.getAttribute("MaxLevel"),10)}});return E.length&&(_.Image.DisplayRect=E),l(u,_)}catch(j){throw j instanceof Error?j:new Error(e.getString("Errors.Dzi"))}else{if(m==="Collection")throw new Error(e.getString("Errors.Dzc"));if(m==="Error"){var H=f.getElementsByTagName("Message")[0],$=H.firstChild.nodeValue;throw new Error($)}}throw new Error(e.getString("Errors.Dzi"))}function l(u,p){var f=p.Image,m=f.Url,y=f.Format,_=f.Size,E=f.DisplayRect||[],C=parseInt(_.Width,10),I=parseInt(_.Height,10),z=parseInt(f.TileSize,10),B=parseInt(f.Overlap,10),G=[],H,$;for($=0;$<E.length;$++)H=E[$].Rect,G.push(new e.DisplayRect(parseInt(H.X,10),parseInt(H.Y,10),parseInt(H.Width,10),parseInt(H.Height,10),parseInt(H.MinLevel,10),parseInt(H.MaxLevel,10)));return e.extend(!0,{width:C,height:I,tileSize:z,tileOverlap:B,minLevel:null,maxLevel:null,tilesUrl:m,fileFormat:y,displayRects:G},p)}}(i),function(e){e.IIIFTileSource=function(f){if(e.extend(!0,this,f),this._id=this["@id"]||this.id||this.identifier||null,!(this.height&&this.width&&this._id))throw new Error("IIIF required parameters (width, height, or id) not provided.");if(f.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=f.version,this.tile_width&&this.tile_height)f.tileWidth=this.tile_width,f.tileHeight=this.tile_height;else if(this.tile_width)f.tileSize=this.tile_width;else if(this.tile_height)f.tileSize=this.tile_height;else if(this.tiles)if(this.tiles.length===1)f.tileWidth=this.tiles[0].width,f.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var m=0;m<this.tiles.length;m++)for(var y=0;y<this.tiles[m].scaleFactors.length;y++){var _=this.tiles[m].scaleFactors[y];this.scale_factors.push(_),f.tileSizePerScaleFactor[_]={width:this.tiles[m].width,height:this.tiles[m].height||this.tiles[m].width}}}else if(o(f)){for(var E=Math.min(this.height,this.width),C=[256,512,1024],I=[],z=0;z<C.length;z++)C[z]<=E&&I.push(C[z]);I.length>0?f.tileSize=Math.max.apply(null,I):f.tileSize=E}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,f.levels=l(this),e.extend(!0,f,{width:f.levels[f.levels.length-1].width,height:f.levels[f.levels.length-1].height,tileSize:Math.max(f.height,f.width),tileOverlap:0,minLevel:0,maxLevel:f.levels.length-1}),this.levels=f.levels):e.console.error("Nothing in the info.json to construct image pyramids from");if(!f.maxLevel&&!this.emulateLegacyImagePyramid)if(!this.scale_factors)f.maxLevel=Number(Math.round(Math.log(Math.max(this.width,this.height),2)));else{var B=Math.max.apply(null,this.scale_factors);f.maxLevel=Math.round(Math.log(B)*Math.LOG2E)}e.TileSource.apply(this,[f])},e.extend(e.IIIFTileSource.prototype,e.TileSource.prototype,{supports:function(f,m){return f.protocol&&f.protocol==="http://iiif.io/api/image"||f["@context"]&&(f["@context"]==="http://library.stanford.edu/iiif/image-api/1.1/context.json"||f["@context"]==="http://iiif.io/api/image/1/context.json")||f.profile&&f.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")===0||f.identifier&&f.width&&f.height?!0:!!(f.documentElement&&f.documentElement.tagName==="info"&&f.documentElement.namespaceURI==="http://library.stanford.edu/iiif/image-api/ns/")},configure:function(f,m,y){if(e.isPlainObject(f)){if(!f["@context"])f["@context"]="http://iiif.io/api/image/1.0/context.json",f["@id"]=m.replace("/info.json",""),f.version=1;else{var E=f["@context"];if(Array.isArray(E)){for(var C=0;C<E.length;C++)if(typeof E[C]=="string"&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(E[C])||E[C]==="http://library.stanford.edu/iiif/image-api/1.1/context.json")){E=E[C];break}}switch(E){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":f.version=1;break;case"http://iiif.io/api/image/2/context.json":f.version=2;break;case"http://iiif.io/api/image/3/context.json":f.version=3;break;default:e.console.error("Data has a @context property which contains no known IIIF context URI.")}}if(f.preferredFormats){for(var I=0;I<f.preferredFormats.length;I++)if(i.imageFormatSupported(f.preferredFormats[I])){f.tileFormat=f.preferredFormats[I];break}}return f}else{var _=u(f);return _["@context"]="http://iiif.io/api/image/1.0/context.json",_["@id"]=m.replace("/info.xml",""),_.version=1,_}},getTileWidth:function(f){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileWidth.call(this,f);var m=Math.pow(2,this.maxLevel-f);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[m]?this.tileSizePerScaleFactor[m].width:this._tileWidth},getTileHeight:function(f){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileHeight.call(this,f);var m=Math.pow(2,this.maxLevel-f);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[m]?this.tileSizePerScaleFactor[m].height:this._tileHeight},getLevelScale:function(f){if(this.emulateLegacyImagePyramid){var m=NaN;return this.levels.length>0&&f>=this.minLevel&&f<=this.maxLevel&&(m=this.levels[f].width/this.levels[this.maxLevel].width),m}return e.TileSource.prototype.getLevelScale.call(this,f)},getNumTiles:function(f){if(this.emulateLegacyImagePyramid){var m=this.getLevelScale(f);return m?new e.Point(1,1):new e.Point(0,0)}return e.TileSource.prototype.getNumTiles.call(this,f)},getTileAtPoint:function(f,m){return this.emulateLegacyImagePyramid?new e.Point(0,0):e.TileSource.prototype.getTileAtPoint.call(this,f,m)},getTileUrl:function(f,m,y){if(this.emulateLegacyImagePyramid){var _=null;return this.levels.length>0&&f>=this.minLevel&&f<=this.maxLevel&&(_=this.levels[f].url),_}var E="0",C=Math.pow(.5,this.maxLevel-f),I=Math.round(this.width*C),z=Math.round(this.height*C),B,G,H,$,j,V,ot,ft,ht,ct,Z,lt,ut,mt;return B=this.getTileWidth(f),G=this.getTileHeight(f),H=Math.round(B/C),$=Math.round(G/C),this.version===1?ut="native."+this.tileFormat:ut="default."+this.tileFormat,I<B&&z<G?(this.version===2&&I===this.width?ct="full":this.version===3&&I===this.width&&z===this.height?ct="max":this.version===3?ct=I+","+z:ct=I+",",j="full"):(V=m*H,ot=y*$,ft=Math.min(H,this.width-V),ht=Math.min($,this.height-ot),m===0&&y===0&&ft===this.width&&ht===this.height?j="full":j=[V,ot,ft,ht].join(","),Z=Math.round(ft*C),lt=Math.round(ht*C),this.version===2&&Z===this.width?ct="full":this.version===3&&Z===this.width&&lt===this.height?ct="max":this.version===3?ct=Z+","+lt:ct=Z+","),mt=[this._id,j,ct,E,ut].join("/"),mt},__testonly__:{canBeTiled:o,constructLevels:l}});function o(f){var m=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],y=Array.isArray(f.profile)?f.profile[0]:f.profile,_=m.indexOf(y)!==-1,E=!1;return f.version===2&&f.profile.length>1&&f.profile[1].supports&&(E=f.profile[1].supports.indexOf("sizeByW")!==-1),f.version===3&&f.extraFeatures&&(E=f.extraFeatures.indexOf("sizeByWh")!==-1),!_||E}function l(f){for(var m=[],y=0;y<f.sizes.length;y++)m.push({url:f._id+"/full/"+f.sizes[y].width+","+(f.version===3?f.sizes[y].height:"")+"/0/default."+f.tileFormat,width:f.sizes[y].width,height:f.sizes[y].height});return m.sort(function(_,E){return _.width-E.width})}function u(f){if(!f||!f.documentElement)throw new Error(e.getString("Errors.Xml"));var m=f.documentElement,y=m.tagName,_=null;if(y==="info")try{return _={},p(m,_),_}catch(E){throw E instanceof Error?E:new Error(e.getString("Errors.IIIF"))}throw new Error(e.getString("Errors.IIIF"))}function p(f,m,y){var _,E;if(f.nodeType===3&&y)E=f.nodeValue.trim(),E.match(/^\d*$/)&&(E=Number(E)),m[y]?(e.isArray(m[y])||(m[y]=[m[y]]),m[y].push(E)):m[y]=E;else if(f.nodeType===1)for(_=0;_<f.childNodes.length;_++)p(f.childNodes[_],m,f.nodeName)}}(i),function(e){e.OsmTileSource=function(o,l,u,p,f){var m;e.isPlainObject(o)?m=o:m={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},(!m.width||!m.height)&&(m.width=65572864,m.height=65572864),m.tileSize||(m.tileSize=256,m.tileOverlap=0),m.tilesUrl||(m.tilesUrl="http://tile.openstreetmap.org/"),m.minLevel=8,e.TileSource.apply(this,[m])},e.extend(e.OsmTileSource.prototype,e.TileSource.prototype,{supports:function(o,l){return o.type&&o.type==="openstreetmaps"},configure:function(o,l,u){return o},getTileUrl:function(o,l,u){return this.tilesUrl+(o-8)+"/"+l+"/"+u+".png"}})}(i),function(e){e.TmsTileSource=function(o,l,u,p,f){var m;e.isPlainObject(o)?m=o:m={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var y=Math.ceil(m.width/256)*256,_=Math.ceil(m.height/256)*256,E;y>_?E=y/256:E=_/256,m.maxLevel=Math.ceil(Math.log(E)/Math.log(2))-1,m.tileSize=256,m.width=y,m.height=_,e.TileSource.apply(this,[m])},e.extend(e.TmsTileSource.prototype,e.TileSource.prototype,{supports:function(o,l){return o.type&&o.type==="tiledmapservice"},configure:function(o,l,u){return o},getTileUrl:function(o,l,u){var p=this.getNumTiles(o).y-1;return this.tilesUrl+o+"/"+l+"/"+(p-u)+".png"}})}(i),function(e){e.ZoomifyTileSource=function(o){typeof o.tileSize>"u"&&(o.tileSize=256),typeof o.fileFormat>"u"&&(o.fileFormat="jpg",this.fileFormat=o.fileFormat);var l={x:o.width,y:o.height};for(o.imageSizes=[{x:o.width,y:o.height}],o.gridSize=[this._getGridSize(o.width,o.height,o.tileSize)];parseInt(l.x,10)>o.tileSize||parseInt(l.y,10)>o.tileSize;)l.x=Math.floor(l.x/2),l.y=Math.floor(l.y/2),o.imageSizes.push({x:l.x,y:l.y}),o.gridSize.push(this._getGridSize(l.x,l.y,o.tileSize));o.imageSizes.reverse(),o.gridSize.reverse(),o.minLevel=0,o.maxLevel=o.gridSize.length-1,i.TileSource.apply(this,[o])},e.extend(e.ZoomifyTileSource.prototype,e.TileSource.prototype,{_getGridSize:function(o,l,u){return{x:Math.ceil(o/u),y:Math.ceil(l/u)}},_calculateAbsoluteTileNumber:function(o,l,u){for(var p=0,f={},m=0;m<o;m++)f=this.gridSize[m],p+=f.x*f.y;return f=this.gridSize[o],p+=f.x*u+l,p},supports:function(o,l){return o.type&&o.type==="zoomifytileservice"},configure:function(o,l,u){return o},getTileUrl:function(o,l,u){var p=0,f=this._calculateAbsoluteTileNumber(o,l,u);return p=Math.floor(f/256),this.tilesUrl+"TileGroup"+p+"/"+o+"-"+l+"-"+u+"."+this.fileFormat}})}(i),function(e){e.LegacyTileSource=function(p){var f,m,y;e.isArray(p)&&(f={type:"legacy-image-pyramid",levels:p}),f.levels=o(f.levels),f.levels.length>0?(m=f.levels[f.levels.length-1].width,y=f.levels[f.levels.length-1].height):(m=0,y=0,e.console.error("No supported image formats found")),e.extend(!0,f,{width:m,height:y,tileSize:Math.max(y,m),tileOverlap:0,minLevel:0,maxLevel:f.levels.length>0?f.levels.length-1:0}),e.TileSource.apply(this,[f]),this.levels=f.levels},e.extend(e.LegacyTileSource.prototype,e.TileSource.prototype,{supports:function(p,f){return p.type&&p.type==="legacy-image-pyramid"||p.documentElement&&p.documentElement.getAttribute("type")==="legacy-image-pyramid"},configure:function(p,f,m){var y;return e.isPlainObject(p)?y=u(this,p):y=l(this,p),y},getLevelScale:function(p){var f=NaN;return this.levels.length>0&&p>=this.minLevel&&p<=this.maxLevel&&(f=this.levels[p].width/this.levels[this.maxLevel].width),f},getNumTiles:function(p){var f=this.getLevelScale(p);return f?new e.Point(1,1):new e.Point(0,0)},getTileUrl:function(p,f,m){var y=null;return this.levels.length>0&&p>=this.minLevel&&p<=this.maxLevel&&(y=this.levels[p].url),y}});function o(p){var f=[],m,y;for(y=0;y<p.length;y++)m=p[y],m.height&&m.width&&m.url?f.push({url:m.url,width:Number(m.width),height:Number(m.height)}):e.console.error("Unsupported image format: %s",m.url?m.url:"<no URL>");return f.sort(function(_,E){return _.height-E.height})}function l(p,f){if(!f||!f.documentElement)throw new Error(e.getString("Errors.Xml"));var m=f.documentElement,y=m.tagName,_=null,E=[],C,I;if(y==="image")try{for(_={type:m.getAttribute("type"),levels:[]},E=m.getElementsByTagName("level"),I=0;I<E.length;I++)C=E[I],_.levels.push({url:C.getAttribute("url"),width:parseInt(C.getAttribute("width"),10),height:parseInt(C.getAttribute("height"),10)});return u(p,_)}catch(z){throw z instanceof Error?z:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if(y==="collection")throw new Error("Legacy Image Pyramid Collections not yet supported.");if(y==="error")throw new Error("Error: "+f)}throw new Error("Unknown element "+y)}function u(p,f){return f.levels}}(i),function(e){e.ImageTileSource=function(o){o=e.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},o),e.TileSource.apply(this,[o])},e.extend(e.ImageTileSource.prototype,e.TileSource.prototype,{supports:function(o,l){return o.type&&o.type==="image"},configure:function(o,l,u){return o},getImageInfo:function(o){var l=this._image=new Image,u=this;this.crossOriginPolicy&&(l.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(l.useCredentials=this.ajaxWithCredentials),e.addEvent(l,"load",function(){u.width=l.naturalWidth,u.height=l.naturalHeight,u.aspectRatio=u.width/u.height,u.dimensions=new e.Point(u.width,u.height),u._tileWidth=u.width,u._tileHeight=u.height,u.tileOverlap=0,u.minLevel=0,u.levels=u._buildLevels(),u.maxLevel=u.levels.length-1,u.ready=!0,u.raiseEvent("ready",{tileSource:u})}),e.addEvent(l,"error",function(){u.raiseEvent("open-failed",{message:"Error loading image at "+o,source:o})}),l.src=o},getLevelScale:function(o){var l=NaN;return o>=this.minLevel&&o<=this.maxLevel&&(l=this.levels[o].width/this.levels[this.maxLevel].width),l},getNumTiles:function(o){var l=this.getLevelScale(o);return l?new e.Point(1,1):new e.Point(0,0)},getTileUrl:function(o,l,u){var p=null;return o>=this.minLevel&&o<=this.maxLevel&&(p=this.levels[o].url),p},getContext2D:function(o,l,u){var p=null;return o>=this.minLevel&&o<=this.maxLevel&&(p=this.levels[o].context2D),p},destroy:function(){this._freeupCanvasMemory()},_buildLevels:function(){var o=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!e.supportsCanvas||!this.useCanvas)return delete this._image,o;var l=this._image.naturalWidth,u=this._image.naturalHeight,p=document.createElement("canvas"),f=p.getContext("2d");if(p.width=l,p.height=u,f.drawImage(this._image,0,0,l,u),o[0].context2D=f,delete this._image,e.isCanvasTainted(p))return o;for(;l>=2&&u>=2;){l=Math.floor(l/2),u=Math.floor(u/2);var m=document.createElement("canvas"),y=m.getContext("2d");m.width=l,m.height=u,y.drawImage(p,0,0,l,u),o.splice(0,0,{context2D:y,width:l,height:u}),p=m,f=y}return o},_freeupCanvasMemory:function(){for(var o=0;o<this.levels.length;o++)this.levels[o].context2D&&(this.levels[o].context2D.canvas.height=0,this.levels[o].context2D.canvas.width=0)}})}(i),function(e){e.TileSourceCollection=function(o,l,u,p){e.console.error("TileSourceCollection is deprecated; use World instead")}}(i),function(e){e.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},e.Button=function(y){var _=this;e.EventSource.call(this),e.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},y),this.element=y.element||e.makeNeutralElement("div"),y.element||(this.imgRest=e.makeTransparentImage(this.srcRest),this.imgGroup=e.makeTransparentImage(this.srcGroup),this.imgHover=e.makeTransparentImage(this.srcHover),this.imgDown=e.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,e.setElementPointerEventsNone(this.imgRest),e.setElementPointerEventsNone(this.imgGroup),e.setElementPointerEventsNone(this.imgHover),e.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",e.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",e.Browser.vendor===e.BROWSERS.FIREFOX&&e.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=e.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new e.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(E){E.insideElementPressed?(f(_,e.ButtonState.DOWN),_.raiseEvent("enter",{originalEvent:E.originalEvent})):E.buttonDownAny||f(_,e.ButtonState.HOVER)},focusHandler:function(E){_.tracker.enterHandler(E),_.raiseEvent("focus",{originalEvent:E.originalEvent})},leaveHandler:function(E){m(_,e.ButtonState.GROUP),E.insideElementPressed&&_.raiseEvent("exit",{originalEvent:E.originalEvent})},blurHandler:function(E){_.tracker.leaveHandler(E),_.raiseEvent("blur",{originalEvent:E.originalEvent})},pressHandler:function(E){f(_,e.ButtonState.DOWN),_.raiseEvent("press",{originalEvent:E.originalEvent})},releaseHandler:function(E){E.insideElementPressed&&E.insideElementReleased?(m(_,e.ButtonState.HOVER),_.raiseEvent("release",{originalEvent:E.originalEvent})):E.insideElementPressed?m(_,e.ButtonState.GROUP):f(_,e.ButtonState.HOVER)},clickHandler:function(E){E.quick&&_.raiseEvent("click",{originalEvent:E.originalEvent})},keyHandler:function(E){E.keyCode===13?(_.raiseEvent("click",{originalEvent:E.originalEvent}),_.raiseEvent("release",{originalEvent:E.originalEvent}),E.preventDefault=!0):E.preventDefault=!1}}),m(this,e.ButtonState.REST)},e.extend(e.Button.prototype,e.EventSource.prototype,{notifyGroupEnter:function(){f(this,e.ButtonState.GROUP)},notifyGroupExit:function(){m(this,e.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,this.tracker.setTracking(!1),e.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,this.tracker.setTracking(!0),e.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}});function o(y){e.requestAnimationFrame(function(){l(y)})}function l(y){var _,E,C;y.shouldFade&&(_=e.now(),E=_-y.fadeBeginTime,C=1-E/y.fadeLength,C=Math.min(1,C),C=Math.max(0,C),y.imgGroup&&e.setElementOpacity(y.imgGroup,C,!0),C>0&&o(y))}function u(y){y.shouldFade=!0,y.fadeBeginTime=e.now()+y.fadeDelay,window.setTimeout(function(){o(y)},y.fadeDelay)}function p(y){y.shouldFade=!1,y.imgGroup&&e.setElementOpacity(y.imgGroup,1,!0)}function f(y,_){y.element.disabled||(_>=e.ButtonState.GROUP&&y.currentState===e.ButtonState.REST&&(p(y),y.currentState=e.ButtonState.GROUP),_>=e.ButtonState.HOVER&&y.currentState===e.ButtonState.GROUP&&(y.imgHover&&(y.imgHover.style.visibility=""),y.currentState=e.ButtonState.HOVER),_>=e.ButtonState.DOWN&&y.currentState===e.ButtonState.HOVER&&(y.imgDown&&(y.imgDown.style.visibility=""),y.currentState=e.ButtonState.DOWN))}function m(y,_){y.element.disabled||(_<=e.ButtonState.HOVER&&y.currentState===e.ButtonState.DOWN&&(y.imgDown&&(y.imgDown.style.visibility="hidden"),y.currentState=e.ButtonState.HOVER),_<=e.ButtonState.GROUP&&y.currentState===e.ButtonState.HOVER&&(y.imgHover&&(y.imgHover.style.visibility="hidden"),y.currentState=e.ButtonState.GROUP),_<=e.ButtonState.REST&&y.currentState===e.ButtonState.GROUP&&(u(y),y.currentState=e.ButtonState.REST))}}(i),function(e){e.ButtonGroup=function(o){e.extend(!0,this,{buttons:[],clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},o);var l=this.buttons.concat([]),u=this,p;if(this.element=o.element||e.makeNeutralElement("div"),!o.group)for(this.element.style.display="inline-block",p=0;p<l.length;p++)this.element.appendChild(l[p].element);e.setElementTouchActionNone(this.element),this.tracker=new e.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(f){var m;for(m=0;m<u.buttons.length;m++)u.buttons[m].notifyGroupEnter()},leaveHandler:function(f){var m;if(!f.insideElementPressed)for(m=0;m<u.buttons.length;m++)u.buttons[m].notifyGroupExit()}})},e.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){for(;this.buttons.length;){var o=this.buttons.pop();this.element.removeChild(o.element),o.destroy()}this.tracker.destroy(),this.element=null}}}(i),function(e){e.Rect=function(o,l,u,p,f){this.x=typeof o=="number"?o:0,this.y=typeof l=="number"?l:0,this.width=typeof u=="number"?u:0,this.height=typeof p=="number"?p:0,this.degrees=typeof f=="number"?f:0,this.degrees=e.positiveModulo(this.degrees,360);var m,y;this.degrees>=270?(m=this.getTopRight(),this.x=m.x,this.y=m.y,y=this.height,this.height=this.width,this.width=y,this.degrees-=270):this.degrees>=180?(m=this.getBottomRight(),this.x=m.x,this.y=m.y,this.degrees-=180):this.degrees>=90&&(m=this.getBottomLeft(),this.x=m.x,this.y=m.y,y=this.height,this.height=this.width,this.width=y,this.degrees-=90)},e.Rect.fromSummits=function(o,l,u){var p=o.distanceTo(l),f=o.distanceTo(u),m=l.minus(o),y=Math.atan(m.y/m.x);return m.x<0?y+=Math.PI:m.y<0&&(y+=2*Math.PI),new e.Rect(o.x,o.y,p,f,y/Math.PI*180)},e.Rect.prototype={clone:function(){return new e.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new e.Point(this.x,this.y)},getBottomRight:function(){return new e.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new e.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new e.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new e.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new e.Point(this.width,this.height)},equals:function(o){return o instanceof e.Rect&&this.x===o.x&&this.y===o.y&&this.width===o.width&&this.height===o.height&&this.degrees===o.degrees},times:function(o){return new e.Rect(this.x*o,this.y*o,this.width*o,this.height*o,this.degrees)},translate:function(o){return new e.Rect(this.x+o.x,this.y+o.y,this.width,this.height,this.degrees)},union:function(o){var l=this.getBoundingBox(),u=o.getBoundingBox(),p=Math.min(l.x,u.x),f=Math.min(l.y,u.y),m=Math.max(l.x+l.width,u.x+u.width),y=Math.max(l.y+l.height,u.y+u.height);return new e.Rect(p,f,m-p,y-f)},intersection:function(o){var l=1e-10,u=[],p=this.getTopLeft();o.containsPoint(p,l)&&u.push(p);var f=this.getTopRight();o.containsPoint(f,l)&&u.push(f);var m=this.getBottomLeft();o.containsPoint(m,l)&&u.push(m);var y=this.getBottomRight();o.containsPoint(y,l)&&u.push(y);var _=o.getTopLeft();this.containsPoint(_,l)&&u.push(_);var E=o.getTopRight();this.containsPoint(E,l)&&u.push(E);var C=o.getBottomLeft();this.containsPoint(C,l)&&u.push(C);var I=o.getBottomRight();this.containsPoint(I,l)&&u.push(I);for(var z=this._getSegments(),B=o._getSegments(),G=0;G<z.length;G++)for(var H=z[G],$=0;$<B.length;$++){var j=B[$],V=ot(H[0],H[1],j[0],j[1]);V&&u.push(V)}function ot(mt,te,ne,ye){var Gt=te.minus(mt),he=ye.minus(ne),Kt=-he.x*Gt.y+Gt.x*he.y;if(Kt===0)return null;var Je=(Gt.x*(mt.y-ne.y)-Gt.y*(mt.x-ne.x))/Kt,kt=(he.x*(mt.y-ne.y)-he.y*(mt.x-ne.x))/Kt;return-l<=Je&&Je<=1-l&&-l<=kt&&kt<=1-l?new e.Point(mt.x+kt*Gt.x,mt.y+kt*Gt.y):null}if(u.length===0)return null;for(var ft=u[0].x,ht=u[0].x,ct=u[0].y,Z=u[0].y,lt=1;lt<u.length;lt++){var ut=u[lt];ut.x<ft&&(ft=ut.x),ut.x>ht&&(ht=ut.x),ut.y<ct&&(ct=ut.y),ut.y>Z&&(Z=ut.y)}return new e.Rect(ft,ct,ht-ft,Z-ct)},_getSegments:function(){var o=this.getTopLeft(),l=this.getTopRight(),u=this.getBottomLeft(),p=this.getBottomRight();return[[o,l],[l,p],[p,u],[u,o]]},rotate:function(o,l){if(o=e.positiveModulo(o,360),o===0)return this.clone();l=l||this.getCenter();var u=this.getTopLeft().rotate(o,l),p=this.getTopRight().rotate(o,l),f=p.minus(u);f=f.apply(function(y){var _=1e-15;return Math.abs(y)<_?0:y});var m=Math.atan(f.y/f.x);return f.x<0?m+=Math.PI:f.y<0&&(m+=2*Math.PI),new e.Rect(u.x,u.y,this.width,this.height,m/Math.PI*180)},getBoundingBox:function(){if(this.degrees===0)return this.clone();var o=this.getTopLeft(),l=this.getTopRight(),u=this.getBottomLeft(),p=this.getBottomRight(),f=Math.min(o.x,l.x,u.x,p.x),m=Math.max(o.x,l.x,u.x,p.x),y=Math.min(o.y,l.y,u.y,p.y),_=Math.max(o.y,l.y,u.y,p.y);return new e.Rect(f,y,m-f,_-y)},getIntegerBoundingBox:function(){var o=this.getBoundingBox(),l=Math.floor(o.x),u=Math.floor(o.y),p=Math.ceil(o.width+o.x-l),f=Math.ceil(o.height+o.y-u);return new e.Rect(l,u,p,f)},containsPoint:function(o,l){l=l||0;var u=this.getTopLeft(),p=this.getTopRight(),f=this.getBottomLeft(),m=p.minus(u),y=f.minus(u);return(o.x-u.x)*m.x+(o.y-u.y)*m.y>=-l&&(o.x-p.x)*m.x+(o.y-p.y)*m.y<=l&&(o.x-u.x)*y.x+(o.y-u.y)*y.y>=-l&&(o.x-f.x)*y.x+(o.y-f.y)*y.y<=l},toString:function(){return"["+Math.round(this.x*100)/100+", "+Math.round(this.y*100)/100+", "+Math.round(this.width*100)/100+"x"+Math.round(this.height*100)/100+", "+Math.round(this.degrees*100)/100+"deg]"}}}(i),function(e){var o={};e.ReferenceStrip=function(C){var I=this,z=C.viewer,B=e.getElementSize(z.element),G,H,$;for(C.id||(C.id="referencestrip-"+e.now(),this.element=e.makeNeutralElement("div"),this.element.id=C.id,this.element.className="referencestrip"),C=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.referenceStripSizeRatio,position:e.DEFAULT_SETTINGS.referenceStripPosition,scroll:e.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold},C,{element:this.element}),e.extend(this,C),o[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,H=this.element.style,H.marginTop="0px",H.marginRight="0px",H.marginBottom="0px",H.marginLeft="0px",H.left="0px",H.bottom="0px",H.border="0px",H.background="#000",H.position="relative",e.setElementTouchActionNone(this.element),e.setElementOpacity(this.element,.8),this.viewer=z,this.tracker=new e.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:e.delegate(this,l),dragHandler:e.delegate(this,u),scrollHandler:e.delegate(this,p),enterHandler:e.delegate(this,m),leaveHandler:e.delegate(this,y),keyDownHandler:e.delegate(this,_),keyHandler:e.delegate(this,E),preProcessEventHandler:function(j){j.eventType==="wheel"&&(j.preventDefault=!0)}}),C.width&&C.height?(this.element.style.width=C.width+"px",this.element.style.height=C.height+"px",z.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):C.scroll==="horizontal"?(this.element.style.width=B.x*C.sizeRatio*z.tileSources.length+12*z.tileSources.length+"px",this.element.style.height=B.y*C.sizeRatio+"px",z.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=B.y*C.sizeRatio*z.tileSources.length+12*z.tileSources.length+"px",this.element.style.width=B.x*C.sizeRatio+"px",z.addControl(this.element,{anchor:e.ControlAnchor.TOP_LEFT})),this.panelWidth=B.x*this.sizeRatio+8,this.panelHeight=B.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},$=0;$<z.tileSources.length;$++)G=e.makeNeutralElement("div"),G.id=this.element.id+"-"+$,G.style.width=I.panelWidth+"px",G.style.height=I.panelHeight+"px",G.style.display="inline",G.style.float="left",G.style.cssFloat="left",G.style.styleFloat="left",G.style.padding="2px",e.setElementTouchActionNone(G),e.setElementPointerEventsNone(G),this.element.appendChild(G),G.activePanel=!1,this.panels.push(G);f(this,this.scroll==="vertical"?B.y:B.x,0),this.setFocus(0)},e.ReferenceStrip.prototype={setFocus:function(C){var I=this.element.querySelector("#"+this.element.id+"-"+C),z=e.getElementSize(this.viewer.canvas),B=Number(this.element.style.width.replace("px","")),G=Number(this.element.style.height.replace("px","")),H=-Number(this.element.style.marginLeft.replace("px","")),$=-Number(this.element.style.marginTop.replace("px","")),j;this.currentSelected!==I&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=I,this.currentSelected.style.background="#999",this.scroll==="horizontal"?(j=Number(C)*(this.panelWidth+3),j>H+z.x-this.panelWidth?(j=Math.min(j,B-z.x),this.element.style.marginLeft=-j+"px",f(this,z.x,-j)):j<H&&(j=Math.max(0,j-z.x/2),this.element.style.marginLeft=-j+"px",f(this,z.x,-j))):(j=Number(C)*(this.panelHeight+3),j>$+z.y-this.panelHeight?(j=Math.min(j,G-z.y),this.element.style.marginTop=-j+"px",f(this,z.y,-j)):j<$&&(j=Math.max(0,j-z.y/2),this.element.style.marginTop=-j+"px",f(this,z.y,-j))),this.currentPage=C,m.call(this,{eventSource:this.tracker}))},update:function(){return!!o[this.id].animating},destroy:function(){if(this.miniViewers)for(var C in this.miniViewers)this.miniViewers[C].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}};function l(C){if(C.quick){var I;this.scroll==="horizontal"?I=Math.floor(C.position.x/this.panelWidth):I=Math.floor(C.position.y/this.panelHeight),this.viewer.goToPage(I)}this.element.focus()}function u(C){if(this.dragging=!0,this.element){var I=Number(this.element.style.marginLeft.replace("px","")),z=Number(this.element.style.marginTop.replace("px","")),B=Number(this.element.style.width.replace("px","")),G=Number(this.element.style.height.replace("px","")),H=e.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?-C.delta.x>0?I>-(B-H.x)&&(this.element.style.marginLeft=I+C.delta.x*2+"px",f(this,H.x,I+C.delta.x*2)):-C.delta.x<0&&I<0&&(this.element.style.marginLeft=I+C.delta.x*2+"px",f(this,H.x,I+C.delta.x*2)):-C.delta.y>0?z>-(G-H.y)&&(this.element.style.marginTop=z+C.delta.y*2+"px",f(this,H.y,z+C.delta.y*2)):-C.delta.y<0&&z<0&&(this.element.style.marginTop=z+C.delta.y*2+"px",f(this,H.y,z+C.delta.y*2))}}function p(C){if(this.element){var I=Number(this.element.style.marginLeft.replace("px","")),z=Number(this.element.style.marginTop.replace("px","")),B=Number(this.element.style.width.replace("px","")),G=Number(this.element.style.height.replace("px","")),H=e.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?C.scroll>0?I>-(B-H.x)&&(this.element.style.marginLeft=I-C.scroll*60+"px",f(this,H.x,I-C.scroll*60)):C.scroll<0&&I<0&&(this.element.style.marginLeft=I-C.scroll*60+"px",f(this,H.x,I-C.scroll*60)):C.scroll<0?z>H.y-G&&(this.element.style.marginTop=z+C.scroll*60+"px",f(this,H.y,z+C.scroll*60)):C.scroll>0&&z<0&&(this.element.style.marginTop=z+C.scroll*60+"px",f(this,H.y,z+C.scroll*60)),C.preventDefault=!0}}function f(C,I,z){var B,G,H,$,j,V;for(C.scroll==="horizontal"?B=C.panelWidth:B=C.panelHeight,G=Math.ceil(I/B)+5,H=Math.ceil((Math.abs(z)+I)/B)+1,G=H-G,G=G<0?0:G,j=G;j<H&&j<C.panels.length;j++)if(V=C.panels[j],!V.activePanel){var ot,ft=C.viewer.tileSources[j];ft.referenceStripThumbnailUrl?ot={type:"image",url:ft.referenceStripThumbnailUrl}:ot=ft,$=new e.Viewer({id:V.id,tileSources:[ot],element:V,navigatorSizeRatio:C.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:C.viewer.loadTilesWithAjax,ajaxHeaders:C.viewer.ajaxHeaders,useCanvas:C.useCanvas}),e.setElementPointerEventsNone($.canvas),e.setElementPointerEventsNone($.container),$.innerTracker.setTracking(!1),$.outerTracker.setTracking(!1),C.miniViewers[V.id]=$,V.activePanel=!0}}function m(C){var I=C.eventSource.element;this.scroll==="horizontal"?I.style.marginBottom="0px":I.style.marginLeft="0px"}function y(C){var I=C.eventSource.element;this.scroll==="horizontal"?I.style.marginBottom="-"+e.getElementSize(I).y/2+"px":I.style.marginLeft="-"+e.getElementSize(I).x/2+"px"}function _(C){if(!C.ctrl&&!C.alt&&!C.meta)switch(C.keyCode){case 38:p.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;case 40:p.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 37:p.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 39:p.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;default:C.preventDefault=!1;break}else C.preventDefault=!1}function E(C){if(!C.ctrl&&!C.alt&&!C.meta)switch(C.keyCode){case 61:p.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;case 45:p.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 48:case 119:case 87:p.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;case 115:case 83:p.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 97:p.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 100:p.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;default:C.preventDefault=!1;break}else C.preventDefault=!1}}(i),function(e){e.DisplayRect=function(o,l,u,p,f,m){e.Rect.apply(this,[o,l,u,p]),this.minLevel=f,this.maxLevel=m},e.extend(e.DisplayRect.prototype,e.Rect.prototype)}(i),function(e){e.Spring=function(l){var u=arguments;typeof l!="object"&&(l={initial:u.length&&typeof u[0]=="number"?u[0]:void 0,springStiffness:u.length>1?u[1].springStiffness:5,animationTime:u.length>1?u[1].animationTime:1.5}),e.console.assert(typeof l.springStiffness=="number"&&l.springStiffness!==0,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),e.console.assert(typeof l.animationTime=="number"&&l.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),l.exponential&&(this._exponential=!0,delete l.exponential),e.extend(!0,this,l),this.current={value:typeof this.initial=="number"?this.initial:this._exponential?0:1,time:e.now()},e.console.assert(!this._exponential||this.current.value!==0,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},e.Spring.prototype={resetTo:function(l){e.console.assert(!this._exponential||l!==0,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=l,this.start.time=this.target.time=this.current.time=e.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(l){e.console.assert(!this._exponential||l!==0,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=l,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(l){this.start.value+=l,this.target.value+=l,this._exponential&&(e.console.assert(this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(l){this._exponential=l,this._exponential&&(e.console.assert(this.current.value!==0&&this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){this.current.time=e.now();var l,u;this._exponential?(l=this.start._logValue,u=this.target._logValue):(l=this.start.value,u=this.target.value);var p=this.current.time>=this.target.time?u:l+(u-l)*o(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),f=this.current.value;return this._exponential?this.current.value=Math.exp(p):this.current.value=p,f!==this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}};function o(l,u){return(1-Math.exp(l*-u))/(1-Math.exp(-l))}}(i),function(e){e.ImageJob=function(l){e.extend(!0,this,{timeout:e.DEFAULT_SETTINGS.timeout,jobId:null},l),this.data=null,this.userData={},this.errorMsg=null},e.ImageJob.prototype={start:function(){var l=this,u=this.abort;this.jobId=window.setTimeout(function(){l.finish(null,null,"Image load exceeded timeout ("+l.timeout+" ms)")},this.timeout),this.abort=function(){l.source.downloadTileAbort(l),typeof u=="function"&&u()},this.source.downloadTileStart(this)},finish:function(l,u,p){this.data=l,this.request=u,this.errorMsg=p,this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},e.ImageLoader=function(l){e.extend(!0,this,{jobLimit:e.DEFAULT_SETTINGS.imageLoaderLimit,timeout:e.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},l)},e.ImageLoader.prototype={addJob:function(l){if(!l.source){e.console.error("ImageLoader.prototype.addJob() requires [options.source]. TileSource since new API defines how images are fetched. Creating a dummy TileSource.");var u=e.TileSource.prototype;l.source={downloadTileStart:u.downloadTileStart,downloadTileAbort:u.downloadTileAbort}}var p=this,f=function(_){o(p,_,l.callback)},m={src:l.src,tile:l.tile||{},source:l.source,loadWithAjax:l.loadWithAjax,ajaxHeaders:l.loadWithAjax?l.ajaxHeaders:null,crossOriginPolicy:l.crossOriginPolicy,ajaxWithCredentials:l.ajaxWithCredentials,postData:l.postData,callback:f,abort:l.abort,timeout:this.timeout},y=new e.ImageJob(m);!this.jobLimit||this.jobsInProgress<this.jobLimit?(y.start(),this.jobsInProgress++):this.jobQueue.push(y)},clear:function(){for(var l=0;l<this.jobQueue.length;l++){var u=this.jobQueue[l];typeof u.abort=="function"&&u.abort()}this.jobQueue=[]}};function o(l,u,p){var f;l.jobsInProgress--,(!l.jobLimit||l.jobsInProgress<l.jobLimit)&&l.jobQueue.length>0&&(f=l.jobQueue.shift(),f.start(),l.jobsInProgress++),p(u.data,u.errorMsg,u.request)}}(i),function(e){e.Tile=function(o,l,u,p,f,m,y,_,E,C,I,z){this.level=o,this.x=l,this.y=u,this.bounds=p,this.sourceBounds=C,this.exists=f,this._url=m,this.postData=I,this.context2D=y,this.loadWithAjax=_,this.ajaxHeaders=E,z===void 0&&(e.console.warn("Tile constructor needs 'cacheKey' variable: creation tile cache in Tile class is deprecated. TileSource.prototype.getTileHashKey will be used."),z=e.TileSource.prototype.getTileHashKey(o,l,u,m,E,I)),this.cacheKey=z,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.hasTransparency=!1,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},e.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return console.warn("Tile.prototype._hasTransparencyChannel() has been deprecated and will be removed in the future. Use TileSource.prototype.hasTransparency() instead."),!!this.context2D||this.getUrl().match(".png")},drawHTML:function(o){if(!this.cacheImageRecord){e.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString());return}if(!this.loaded){e.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}if(!this.element){var l=this.getImage();if(!l)return;this.element=e.makeNeutralElement("div"),this.imgElement=l.cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"}this.element.parentNode!==o&&o.appendChild(this.element),this.imgElement.parentNode!==this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",this.flipped&&(this.style.transform="scaleX(-1)"),e.setElementOpacity(this.element,this.opacity)},get image(){return e.console.error("[Tile.image] property has been deprecated. Use [Tile.prototype.getImage] instead."),this.getImage()},get url(){return e.console.error("[Tile.url] property has been deprecated. Use [Tile.prototype.getUrl] instead."),this.getUrl()},getImage:function(){return this.cacheImageRecord.getImage()},getUrl:function(){return typeof this._url=="function"?this._url():this._url},getCanvasContext:function(){return this.context2D||this.cacheImageRecord.getRenderedContext()},drawCanvas:function(o,l,u,p,f,m){var y=this.position.times(e.pixelDensityRatio),_=this.size.times(e.pixelDensityRatio),E;if(!this.context2D&&!this.cacheImageRecord){e.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString());return}if(E=this.getCanvasContext(),!this.loaded||!E){e.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}o.save(),o.globalAlpha=this.opacity,typeof u=="number"&&u!==1&&(y=y.times(u),_=_.times(u)),p instanceof e.Point&&(y=y.plus(p)),o.globalAlpha===1&&this.hasTransparency&&(f&&(y.x=Math.round(y.x),y.y=Math.round(y.y),_.x=Math.round(_.x),_.y=Math.round(_.y)),o.clearRect(y.x,y.y,_.x,_.y)),l({context:o,tile:this,rendered:E});var C,I;this.sourceBounds?(C=Math.min(this.sourceBounds.width,E.canvas.width),I=Math.min(this.sourceBounds.height,E.canvas.height)):(C=E.canvas.width,I=E.canvas.height),o.translate(y.x+_.x/2,0),this.flipped&&o.scale(-1,1),o.drawImage(E.canvas,0,0,C,I,-_.x/2,y.y,_.x,_.y),o.restore()},getScaleForEdgeSmoothing:function(){var o;if(this.cacheImageRecord)o=this.cacheImageRecord.getRenderedContext();else if(this.context2D)o=this.context2D;else return e.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;return o.canvas.width/(this.size.x*e.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(o,l,u){var p=Math.max(1,Math.ceil((u.x-l.x)/2)),f=Math.max(1,Math.ceil((u.y-l.y)/2));return new e.Point(p,f).minus(this.position.times(e.pixelDensityRatio).times(o||1).apply(function(m){return m%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(i),function(e){e.OverlayPlacement=e.Placement,e.OverlayRotationMode=e.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),e.Overlay=function(o,l,u){var p;e.isPlainObject(o)?p=o:p={element:o,location:l,placement:u},this.element=p.element,this.style=p.element.style,this._init(p)},e.Overlay.prototype={_init:function(o){this.location=o.location,this.placement=o.placement===void 0?e.Placement.TOP_LEFT:o.placement,this.onDraw=o.onDraw,this.checkResize=o.checkResize===void 0?!0:o.checkResize,this.width=o.width===void 0?null:o.width,this.height=o.height===void 0?null:o.height,this.rotationMode=o.rotationMode||e.OverlayRotationMode.EXACT,this.location instanceof e.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=e.Placement.TOP_LEFT),this.scales=this.width!==null&&this.height!==null,this.bounds=new e.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(o,l){var u=e.Placement.properties[this.placement];u&&(u.isHorizontallyCentered?o.x-=l.x/2:u.isRight&&(o.x-=l.x),u.isVerticallyCentered?o.y-=l.y/2:u.isBottom&&(o.y-=l.y))},destroy:function(){var o=this.element,l=this.style;o.parentNode&&(o.parentNode.removeChild(o),o.prevElementParent&&(l.display="none",document.body.appendChild(o))),this.onDraw=null,l.top="",l.left="",l.position="",this.width!==null&&(l.width=""),this.height!==null&&(l.height="");var u=e.getCssPropertyWithVendorPrefix("transformOrigin"),p=e.getCssPropertyWithVendorPrefix("transform");u&&p&&(l[u]="",l[p]="")},drawHTML:function(o,l){var u=this.element;u.parentNode!==o&&(u.prevElementParent=u.parentNode,u.prevNextSibling=u.nextSibling,o.appendChild(u),this.style.position="absolute",this.size=e.getElementSize(u));var p=this._getOverlayPositionAndSize(l),f=p.position,m=this.size=p.size,y=p.rotate;if(this.onDraw)this.onDraw(f,m,this.element);else{var _=this.style;_.left=f.x+"px",_.top=f.y+"px",this.width!==null&&(_.width=m.x+"px"),this.height!==null&&(_.height=m.y+"px");var E=e.getCssPropertyWithVendorPrefix("transformOrigin"),C=e.getCssPropertyWithVendorPrefix("transform");E&&C&&(y?(_[E]=this._getTransformOrigin(),_[C]="rotate("+y+"deg)"):(_[E]="",_[C]="")),_.display="block"}},_getOverlayPositionAndSize:function(o){var l=o.pixelFromPoint(this.location,!0),u=this._getSizeInPixels(o);this.adjust(l,u);var p=0;if(o.getRotation(!0)&&this.rotationMode!==e.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX&&this.width!==null&&this.height!==null){var f=new e.Rect(l.x,l.y,u.x,u.y),m=this._getBoundingBox(f,o.getRotation(!0));l=m.getTopLeft(),u=m.getSize()}else p=o.getRotation(!0);return{position:l,size:u,rotate:p}},_getSizeInPixels:function(o){var l=this.size.x,u=this.size.y;if(this.width!==null||this.height!==null){var p=o.deltaPixelsFromPointsNoRotate(new e.Point(this.width||0,this.height||0),!0);this.width!==null&&(l=p.x),this.height!==null&&(u=p.y)}if(this.checkResize&&(this.width===null||this.height===null)){var f=this.size=e.getElementSize(this.element);this.width===null&&(l=f.x),this.height===null&&(u=f.y)}return new e.Point(l,u)},_getBoundingBox:function(o,l){var u=this._getPlacementPoint(o);return o.rotate(l,u).getBoundingBox()},_getPlacementPoint:function(o){var l=new e.Point(o.x,o.y),u=e.Placement.properties[this.placement];return u&&(u.isHorizontallyCentered?l.x+=o.width/2:u.isRight&&(l.x+=o.width),u.isVerticallyCentered?l.y+=o.height/2:u.isBottom&&(l.y+=o.height)),l},_getTransformOrigin:function(){var o="",l=e.Placement.properties[this.placement];return l&&(l.isLeft?o="left":l.isRight&&(o="right"),l.isTop?o+=" top":l.isBottom&&(o+=" bottom")),o},update:function(o,l){var u=e.isPlainObject(o)?o:{location:o,placement:l};this._init({location:u.location||this.location,placement:u.placement!==void 0?u.placement:this.placement,onDraw:u.onDraw||this.onDraw,checkResize:u.checkResize||this.checkResize,width:u.width!==void 0?u.width:this.width,height:u.height!==void 0?u.height:this.height,rotationMode:u.rotationMode||this.rotationMode})},getBounds:function(o){e.console.assert(o,"A viewport must now be passed to Overlay.getBounds.");var l=this.width,u=this.height;if(l===null||u===null){var p=o.deltaPointsFromPixelsNoRotate(this.size,!0);l===null&&(l=p.x),u===null&&(u=p.y)}var f=this.location.clone();return this.adjust(f,new e.Point(l,u)),this._adjustBoundsForRotation(o,new e.Rect(f.x,f.y,l,u))},_adjustBoundsForRotation:function(o,l){if(!o||o.getRotation(!0)===0||this.rotationMode===e.OverlayRotationMode.EXACT)return l;if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX){if(this.width===null||this.height===null)return l;var u=this._getOverlayPositionAndSize(o);return o.viewerElementToViewportRectangle(new e.Rect(u.position.x,u.position.y,u.size.x,u.size.y))}return l.rotate(-o.getRotation(!0),this._getPlacementPoint(l))}}}(i),function(e){e.Drawer=function(o){e.console.assert(o.viewer,"[Drawer] options.viewer is required");var l=arguments;if(e.isPlainObject(o)||(o={source:l[0],viewport:l[1],element:l[2]}),e.console.assert(o.viewport,"[Drawer] options.viewport is required"),e.console.assert(o.element,"[Drawer] options.element is required"),o.source&&e.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=o.viewer,this.viewport=o.viewport,this.debugGridColor=typeof o.debugGridColor=="string"?[o.debugGridColor]:o.debugGridColor||e.DEFAULT_SETTINGS.debugGridColor,o.opacity&&e.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=e.supportsCanvas&&(this.viewer?this.viewer.useCanvas:!0),this.container=e.getElement(o.element),this.canvas=e.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var u=this._calculateCanvasSize();this.canvas.width=u.x,this.canvas.height=u.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",e.setElementOpacity(this.canvas,this.opacity,!0),e.setElementPointerEventsNone(this.canvas),e.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},e.Drawer.prototype={addOverlay:function(o,l,u,p){return e.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(o,l,u,p),this},updateOverlay:function(o,l,u){return e.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(o,l,u),this},removeOverlay:function(o){return e.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(o),this},clearOverlays:function(){return e.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},viewportCoordToDrawerCoord:function(o){var l=this.viewport.pixelFromPointNoRotate(o,!0);return new e.Point(l.x*e.pixelDensityRatio,l.y*e.pixelDensityRatio)},clipWithPolygons:function(o,l){if(this.useCanvas){var u=this._getContext(l);u.beginPath(),o.forEach(function(p){p.forEach(function(f,m){u[m===0?"moveTo":"lineTo"](f.x,f.y)})}),u.clip()}},setOpacity:function(o){e.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var l=this.viewer.world,u=0;u<l.getItemCount();u++)l.getItemAt(u).setOpacity(o);return this},getOpacity:function(){e.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var o=this.viewer.world,l=0,u=0;u<o.getItemCount();u++){var p=o.getItemAt(u).getOpacity();p>l&&(l=p)}return l},needsUpdate:function(){return e.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return e.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return e.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return e.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var o=this._calculateCanvasSize();if((this.canvas.width!==o.x||this.canvas.height!==o.y)&&(this.canvas.width=o.x,this.canvas.height=o.y,this._updateImageSmoothingEnabled(this.context),this.sketchCanvas!==null)){var l=this._calculateSketchCanvasSize();this.sketchCanvas.width=l.x,this.sketchCanvas.height=l.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(o,l){if(this.useCanvas){var u=this._getContext(o);if(l)u.clearRect(l.x,l.y,l.width,l.height);else{var p=u.canvas;u.clearRect(0,0,p.width,p.height)}}},viewportToDrawerRectangle:function(o){var l=this.viewport.pixelFromPointNoRotate(o.getTopLeft(),!0),u=this.viewport.deltaPixelsFromPointsNoRotate(o.getSize(),!0);return new e.Rect(l.x*e.pixelDensityRatio,l.y*e.pixelDensityRatio,u.x*e.pixelDensityRatio,u.y*e.pixelDensityRatio)},drawTile:function(o,l,u,p,f,m,y){if(e.console.assert(o,"[Drawer.drawTile] tile is required"),e.console.assert(l,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var _=this._getContext(u);p=p||1,o.drawCanvas(_,l,p,f,m,y)}else o.drawHTML(this.canvas)},_getContext:function(o){var l=this.context;if(o){if(this.sketchCanvas===null){this.sketchCanvas=document.createElement("canvas");var u=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=u.x,this.sketchCanvas.height=u.y,this.sketchContext=this.sketchCanvas.getContext("2d"),this.viewport.getRotation()===0){var p=this;this.viewer.addHandler("rotate",function f(){if(p.viewport.getRotation()!==0){p.viewer.removeHandler("rotate",f);var m=p._calculateSketchCanvasSize();p.sketchCanvas.width=m.x,p.sketchCanvas.height=m.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}l=this.sketchContext}return l},saveContext:function(o){this.useCanvas&&this._getContext(o).save()},restoreContext:function(o){this.useCanvas&&this._getContext(o).restore()},setClip:function(o,l){if(this.useCanvas){var u=this._getContext(l);u.beginPath(),u.rect(o.x,o.y,o.width,o.height),u.clip()}},drawRectangle:function(o,l,u){if(this.useCanvas){var p=this._getContext(u);p.save(),p.fillStyle=l,p.fillRect(o.x,o.y,o.width,o.height),p.restore()}},blendSketch:function(o,l,u,p){var f=o;if(e.isPlainObject(f)||(f={opacity:o,scale:l,translate:u,compositeOperation:p}),!(!this.useCanvas||!this.sketchCanvas)){o=f.opacity,p=f.compositeOperation;var m=f.bounds;if(this.context.save(),this.context.globalAlpha=o,p&&(this.context.globalCompositeOperation=p),m)m.x<0&&(m.width+=m.x,m.x=0),m.x+m.width>this.canvas.width&&(m.width=this.canvas.width-m.x),m.y<0&&(m.height+=m.y,m.y=0),m.y+m.height>this.canvas.height&&(m.height=this.canvas.height-m.y),this.context.drawImage(this.sketchCanvas,m.x,m.y,m.width,m.height,m.x,m.y,m.width,m.height);else{l=f.scale||1,u=f.translate;var y=u instanceof e.Point?u:new e.Point(0,0),_=0,E=0;if(u){var C=this.sketchCanvas.width-this.canvas.width,I=this.sketchCanvas.height-this.canvas.height;_=Math.round(C/2),E=Math.round(I/2)}this.context.drawImage(this.sketchCanvas,y.x-_*l,y.y-E*l,(this.canvas.width+2*_)*l,(this.canvas.height+2*E)*l,-_,-E,this.canvas.width+2*_,this.canvas.height+2*E)}this.context.restore()}},drawDebugInfo:function(o,l,u,p){if(this.useCanvas){var f=this.viewer.world.getIndexOfItem(p)%this.debugGridColor.length,m=this.context;m.save(),m.lineWidth=2*e.pixelDensityRatio,m.font="small-caps bold "+13*e.pixelDensityRatio+"px arial",m.strokeStyle=this.debugGridColor[f],m.fillStyle=this.debugGridColor[f],this.viewport.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:this.viewport.getRotation(!0)}),p.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:p.getRotation(!0),point:p.viewport.pixelFromPointNoRotate(p._getRotationPoint(!0),!0)}),p.viewport.getRotation(!0)%360===0&&p.getRotation(!0)%360===0&&p._drawer.viewer.viewport.getFlip()&&p._drawer._flip(),m.strokeRect(o.position.x*e.pixelDensityRatio,o.position.y*e.pixelDensityRatio,o.size.x*e.pixelDensityRatio,o.size.y*e.pixelDensityRatio);var y=(o.position.x+o.size.x/2)*e.pixelDensityRatio,_=(o.position.y+o.size.y/2)*e.pixelDensityRatio;m.translate(y,_),m.rotate(Math.PI/180*-this.viewport.getRotation(!0)),m.translate(-y,-_),o.x===0&&o.y===0&&(m.fillText("Zoom: "+this.viewport.getZoom(),o.position.x*e.pixelDensityRatio,(o.position.y-30)*e.pixelDensityRatio),m.fillText("Pan: "+this.viewport.getBounds().toString(),o.position.x*e.pixelDensityRatio,(o.position.y-20)*e.pixelDensityRatio)),m.fillText("Level: "+o.level,(o.position.x+10)*e.pixelDensityRatio,(o.position.y+20)*e.pixelDensityRatio),m.fillText("Column: "+o.x,(o.position.x+10)*e.pixelDensityRatio,(o.position.y+30)*e.pixelDensityRatio),m.fillText("Row: "+o.y,(o.position.x+10)*e.pixelDensityRatio,(o.position.y+40)*e.pixelDensityRatio),m.fillText("Order: "+u+" of "+l,(o.position.x+10)*e.pixelDensityRatio,(o.position.y+50)*e.pixelDensityRatio),m.fillText("Size: "+o.size.toString(),(o.position.x+10)*e.pixelDensityRatio,(o.position.y+60)*e.pixelDensityRatio),m.fillText("Position: "+o.position.toString(),(o.position.x+10)*e.pixelDensityRatio,(o.position.y+70)*e.pixelDensityRatio),this.viewport.getRotation(!0)%360!==0&&this._restoreRotationChanges(),p.getRotation(!0)%360!==0&&this._restoreRotationChanges(),p.viewport.getRotation(!0)%360===0&&p.getRotation(!0)%360===0&&p._drawer.viewer.viewport.getFlip()&&p._drawer._flip(),m.restore()}},debugRect:function(o){if(this.useCanvas){var l=this.context;l.save(),l.lineWidth=2*e.pixelDensityRatio,l.strokeStyle=this.debugGridColor[0],l.fillStyle=this.debugGridColor[0],l.strokeRect(o.x*e.pixelDensityRatio,o.y*e.pixelDensityRatio,o.width*e.pixelDensityRatio,o.height*e.pixelDensityRatio),l.restore()}},setImageSmoothingEnabled:function(o){this.useCanvas&&(this._imageSmoothingEnabled=o,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(o){o.msImageSmoothingEnabled=this._imageSmoothingEnabled,o.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(o){var l=this._getContext(o).canvas;return new e.Point(l.width,l.height)},getCanvasCenter:function(){return new e.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(o){var l=o.point?o.point.times(e.pixelDensityRatio):this.getCanvasCenter(),u=this._getContext(o.useSketch);u.save(),u.translate(l.x,l.y),this.viewer.viewport.flipped?(u.rotate(Math.PI/180*-o.degrees),u.scale(-1,1)):u.rotate(Math.PI/180*o.degrees),u.translate(-l.x,-l.y)},_flip:function(o){o=o||{};var l=o.point?o.point.times(e.pixelDensityRatio):this.getCanvasCenter(),u=this._getContext(o.useSketch);u.translate(l.x,0),u.scale(-1,1),u.translate(-l.x,0)},_restoreRotationChanges:function(o){var l=this._getContext(o);l.restore()},_calculateCanvasSize:function(){var o=e.pixelDensityRatio,l=this.viewport.getContainerSize();return{x:Math.round(l.x*o),y:Math.round(l.y*o)}},_calculateSketchCanvasSize:function(){var o=this._calculateCanvasSize();if(this.viewport.getRotation()===0)return o;var l=Math.ceil(Math.sqrt(o.x*o.x+o.y*o.y));return{x:l,y:l}}}}(i),function(e){e.Viewport=function(o){var l=arguments;l.length&&l[0]instanceof e.Point&&(o={containerSize:l[0],contentSize:l[1],config:l[2]}),o.config&&(e.extend(!0,o,o.config),delete o.config),this._margins=e.extend({left:0,top:0,right:0,bottom:0},o.margins||{}),delete o.margins,o.initialDegrees=o.degrees,delete o.degrees,e.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,rotationPivot:null,viewer:null,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:e.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:e.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:e.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:e.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:e.DEFAULT_SETTINGS.maxZoomLevel,initialDegrees:e.DEFAULT_SETTINGS.degrees,flipped:e.DEFAULT_SETTINGS.flipped,homeFillsViewer:e.DEFAULT_SETTINGS.homeFillsViewer,silenceMultiImageWarnings:e.DEFAULT_SETTINGS.silenceMultiImageWarnings},o),this._updateContainerInnerSize(),this.centerSpringX=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new e.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.degreesSpring=new e.Spring({initial:o.initialDegrees,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,this._setContentBounds(new e.Rect(0,0,1,1),1),this.goHome(!0),this.update()},e.Viewport.prototype={get degrees(){return e.console.warn("Accessing [Viewport.degrees] is deprecated. Use viewport.getRotation instead."),this.getRotation()},set degrees(o){e.console.warn("Setting [Viewport.degrees] is deprecated. Use viewport.rotateTo, viewport.rotateBy, or viewport.setRotation instead."),this.rotateTo(o)},resetContentSize:function(o){return e.console.assert(o,"[Viewport.resetContentSize] contentSize is required"),e.console.assert(o instanceof e.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),e.console.assert(o.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),e.console.assert(o.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new e.Rect(0,0,1,o.y/o.x),o.x),this},setHomeBounds:function(o,l){e.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(o,l)},_setContentBounds:function(o,l){e.console.assert(o,"[Viewport._setContentBounds] bounds is required"),e.console.assert(o instanceof e.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),e.console.assert(o.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),e.console.assert(o.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=o.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(l),this._contentBounds=o.rotate(this.getRotation()).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(l),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:l,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var o=this._contentAspectRatio/this.getAspectRatio(),l;return this.homeFillsViewer?l=o>=1?o:1:l=o>=1?1:o,l/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var o=this._contentBounds.getCenter(),l=1/this.getHomeZoom(),u=l/this.getAspectRatio();return new e.Rect(o.x-l/2,o.y-u/2,l,u)},goHome:function(o){return this.viewer&&this.viewer.raiseEvent("home",{immediately:o}),this.fitBounds(this.getHomeBounds(),o)},getMinZoom:function(){var o=this.getHomeZoom(),l=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*o;return l},getMaxZoom:function(){var o=this.maxZoomLevel;return o||(o=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,o/=this._contentBounds.width),Math.max(o,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new e.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return e.extend({},this._margins)},setMargins:function(o){e.console.assert(e.type(o)==="object","[Viewport.setMargins] margins must be an object"),this._margins=e.extend({left:0,top:0,right:0,bottom:0},o),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(o){return this.getBoundsNoRotate(o).rotate(-this.getRotation(o))},getBoundsNoRotate:function(o){var l=this.getCenter(o),u=1/this.getZoom(o),p=u/this.getAspectRatio();return new e.Rect(l.x-u/2,l.y-p/2,u,p)},getBoundsWithMargins:function(o){return this.getBoundsNoRotateWithMargins(o).rotate(-this.getRotation(o),this.getCenter(o))},getBoundsNoRotateWithMargins:function(o){var l=this.getBoundsNoRotate(o),u=this._containerInnerSize.x*this.getZoom(o);return l.x-=this._margins.left/u,l.y-=this._margins.top/u,l.width+=(this._margins.left+this._margins.right)/u,l.height+=(this._margins.top+this._margins.bottom)/u,l},getCenter:function(o){var l=new e.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),u=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value),p,f,m,y,_,E,C,I;return o?l:this.zoomPoint?(p=this.pixelFromPoint(this.zoomPoint,!0),f=this.getZoom(),m=1/f,y=m/this.getAspectRatio(),_=new e.Rect(l.x-m/2,l.y-y/2,m,y),E=this._pixelFromPoint(this.zoomPoint,_),C=E.minus(p).rotate(-this.getRotation(!0)),I=C.divide(this._containerInnerSize.x*f),u.plus(I)):u},getZoom:function(o){return o?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(o){return Math.max(Math.min(o,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(o){var l=this.viewportToViewerElementRectangle(o).getBoundingBox(),u=this.viewportToViewerElementRectangle(this._contentBoundsNoRotate).getBoundingBox(),p=!1,f=!1;if(!this.wrapHorizontal){var m=l.x+l.width,y=u.x+u.width,_,E,C;l.width>u.width?_=this.visibilityRatio*u.width:_=this.visibilityRatio*l.width,E=u.x-m+_,C=y-l.x-_,_>u.width?(l.x+=(E+C)/2,p=!0):C<0?(l.x+=C,p=!0):E>0&&(l.x+=E,p=!0)}if(!this.wrapVertical){var I=l.y+l.height,z=u.y+u.height,B,G,H;l.height>u.height?B=this.visibilityRatio*u.height:B=this.visibilityRatio*l.height,G=u.y-I+B,H=z-l.y-B,B>u.height?(l.y+=(G+H)/2,f=!0):H<0?(l.y+=H,f=!0):G>0&&(l.y+=G,f=!0)}var $=p||f,j=$?this.viewerElementToViewportRectangle(l):o.clone();return j.xConstrained=p,j.yConstrained=f,j.constraintApplied=$,j},_raiseConstraintsEvent:function(o){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:o})},applyConstraints:function(o){var l=this.getZoom(),u=this._applyZoomConstraints(l);l!==u&&this.zoomTo(u,this.zoomPoint,o);var p=this.getConstrainedBounds(!1);return p.constraintApplied&&(this.fitBounds(p,o),this._raiseConstraintsEvent(o)),this},ensureVisible:function(o){return this.applyConstraints(o)},_fitBounds:function(o,l){l=l||{};var u=l.immediately||!1,p=l.constraints||!1,f=this.getAspectRatio(),m=o.getCenter(),y=new e.Rect(o.x,o.y,o.width,o.height,o.degrees+this.getRotation()).getBoundingBox();y.getAspectRatio()>=f?y.height=y.width/f:y.width=y.height*f,y.x=m.x-y.width/2,y.y=m.y-y.height/2;var _=1/y.width;if(u)return this.panTo(m,!0),this.zoomTo(_,null,!0),p&&this.applyConstraints(!0),this;var E=this.getCenter(!0),C=this.getZoom(!0);this.panTo(E,!0),this.zoomTo(C,null,!0);var I=this.getBounds(),z=this.getZoom();if(z===0||Math.abs(_/z-1)<1e-8)return this.zoomTo(_,null,!0),this.panTo(m,u),p&&this.applyConstraints(!1),this;if(p){this.panTo(m,!1),this.zoomTo(_,null,!1);var B=this.getConstrainedBounds();this.panTo(E,!0),this.zoomTo(C,null,!0),this.fitBounds(B)}else{var G=y.rotate(-this.getRotation()),H=G.getTopLeft().times(_).minus(I.getTopLeft().times(z)).divide(_-z);this.zoomTo(_,H,u)}return this},fitBounds:function(o,l){return this._fitBounds(o,{immediately:l,constraints:!1})},fitBoundsWithConstraints:function(o,l){return this._fitBounds(o,{immediately:l,constraints:!0})},fitVertically:function(o){var l=new e.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(l,o)},fitHorizontally:function(o){var l=new e.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(l,o)},getConstrainedBounds:function(o){var l,u;return l=this.getBounds(o),u=this._applyBoundaryConstraints(l),u},panBy:function(o,l){var u=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(u.plus(o),l)},panTo:function(o,l){return l?(this.centerSpringX.resetTo(o.x),this.centerSpringY.resetTo(o.y)):(this.centerSpringX.springTo(o.x),this.centerSpringY.springTo(o.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:o,immediately:l}),this},zoomBy:function(o,l,u){return this.zoomTo(this.zoomSpring.target.value*o,l,u)},zoomTo:function(o,l,u){var p=this;return this.zoomPoint=l instanceof e.Point&&!isNaN(l.x)&&!isNaN(l.y)?l:null,u?this._adjustCenterSpringsForZoomPoint(function(){p.zoomSpring.resetTo(o)}):this.zoomSpring.springTo(o),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:o,refPoint:l,immediately:u}),this},setRotation:function(o,l){return this.rotateTo(o,null,l)},getRotation:function(o){return o?this.degreesSpring.current.value:this.degreesSpring.target.value},setRotationWithPivot:function(o,l,u){return this.rotateTo(o,l,u)},rotateTo:function(o,l,u){if(!this.viewer||!this.viewer.drawer.canRotate())return this;if(this.degreesSpring.target.value===o&&this.degreesSpring.isAtTargetValue())return this;if(this.rotationPivot=l instanceof e.Point&&!isNaN(l.x)&&!isNaN(l.y)?l:null,u)if(this.rotationPivot){var p=o-this._oldDegrees;if(!p)return this.rotationPivot=null,this;this._rotateAboutPivot(o)}else this.degreesSpring.resetTo(o);else{var f=e.positiveModulo(this.degreesSpring.current.value,360),m=e.positiveModulo(o,360),y=m-f;y>180?m-=360:y<-180&&(m+=360);var _=f-m;this.degreesSpring.resetTo(o+_),this.degreesSpring.springTo(o)}return this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:o,immediately:!!u,pivot:this.rotationPivot||this.getCenter()}),this},rotateBy:function(o,l,u){return this.rotateTo(this.degreesSpring.target.value+o,l,u)},resize:function(o,l){var u=this.getBoundsNoRotate(),p=u,f;return this.containerSize.x=o.x,this.containerSize.y=o.y,this._updateContainerInnerSize(),l&&(f=o.x/this.containerSize.x,p.width=u.width*f,p.height=p.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:o,maintain:l}),this.fitBounds(p,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new e.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var o=this;this._adjustCenterSpringsForZoomPoint(function(){o.zoomSpring.update()}),this.degreesSpring.isAtTargetValue()&&(this.rotationPivot=null),this.centerSpringX.update(),this.centerSpringY.update(),this.rotationPivot?this._rotateAboutPivot(!0):this.degreesSpring.update();var l=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom||this.degreesSpring.current.value!==this._oldDegrees;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,l},_rotateAboutPivot:function(o){var l=o===!0,u=this.rotationPivot.minus(this.getCenter());this.centerSpringX.shiftBy(u.x),this.centerSpringY.shiftBy(u.y),l?this.degreesSpring.update():this.degreesSpring.resetTo(o);var p=this.degreesSpring.current.value-this._oldDegrees,f=u.rotate(p*-1).times(-1);this.centerSpringX.shiftBy(f.x),this.centerSpringY.shiftBy(f.y)},_adjustCenterSpringsForZoomPoint:function(o){if(this.zoomPoint){var l=this.pixelFromPoint(this.zoomPoint,!0);o();var u=this.pixelFromPoint(this.zoomPoint,!0),p=u.minus(l),f=this.deltaPointsFromPixels(p,!0);this.centerSpringX.shiftBy(f.x),this.centerSpringY.shiftBy(f.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else o()},deltaPixelsFromPointsNoRotate:function(o,l){return o.times(this._containerInnerSize.x*this.getZoom(l))},deltaPixelsFromPoints:function(o,l){return this.deltaPixelsFromPointsNoRotate(o.rotate(this.getRotation(l)),l)},deltaPointsFromPixelsNoRotate:function(o,l){return o.divide(this._containerInnerSize.x*this.getZoom(l))},deltaPointsFromPixels:function(o,l){return this.deltaPointsFromPixelsNoRotate(o,l).rotate(-this.getRotation(l))},pixelFromPointNoRotate:function(o,l){return this._pixelFromPointNoRotate(o,this.getBoundsNoRotate(l))},pixelFromPoint:function(o,l){return this._pixelFromPoint(o,this.getBoundsNoRotate(l))},_pixelFromPointNoRotate:function(o,l){return o.minus(l.getTopLeft()).times(this._containerInnerSize.x/l.width).plus(new e.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(o,l){return this._pixelFromPointNoRotate(o.rotate(this.getRotation(!0),this.getCenter(!0)),l)},pointFromPixelNoRotate:function(o,l){var u=this.getBoundsNoRotate(l);return o.minus(new e.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/u.width).plus(u.getTopLeft())},pointFromPixel:function(o,l){return this.pointFromPixelNoRotate(o,l).rotate(-this.getRotation(l),this.getCenter(l))},_viewportToImageDelta:function(o,l){var u=this._contentBoundsNoRotate.width;return new e.Point(o*this._contentSizeNoRotate.x/u,l*this._contentSizeNoRotate.x/u)},viewportToImageCoordinates:function(o,l){if(o instanceof e.Point)return this.viewportToImageCoordinates(o.x,o.y);if(this.viewer){var u=this.viewer.world.getItemCount();if(u>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(u===1){var p=this.viewer.world.getItemAt(0);return p.viewportToImageCoordinates(o,l,!0)}}return this._viewportToImageDelta(o-this._contentBoundsNoRotate.x,l-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(o,l){var u=this._contentBoundsNoRotate.width;return new e.Point(o/this._contentSizeNoRotate.x*u,l/this._contentSizeNoRotate.x*u)},imageToViewportCoordinates:function(o,l){if(o instanceof e.Point)return this.imageToViewportCoordinates(o.x,o.y);if(this.viewer){var u=this.viewer.world.getItemCount();if(u>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(u===1){var p=this.viewer.world.getItemAt(0);return p.imageToViewportCoordinates(o,l,!0)}}var f=this._imageToViewportDelta(o,l);return f.x+=this._contentBoundsNoRotate.x,f.y+=this._contentBoundsNoRotate.y,f},imageToViewportRectangle:function(o,l,u,p){var f=o;if(f instanceof e.Rect||(f=new e.Rect(o,l,u,p)),this.viewer){var m=this.viewer.world.getItemCount();if(m>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(m===1){var y=this.viewer.world.getItemAt(0);return y.imageToViewportRectangle(o,l,u,p,!0)}}var _=this.imageToViewportCoordinates(f.x,f.y),E=this._imageToViewportDelta(f.width,f.height);return new e.Rect(_.x,_.y,E.x,E.y,f.degrees)},viewportToImageRectangle:function(o,l,u,p){var f=o;if(f instanceof e.Rect||(f=new e.Rect(o,l,u,p)),this.viewer){var m=this.viewer.world.getItemCount();if(m>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(m===1){var y=this.viewer.world.getItemAt(0);return y.viewportToImageRectangle(o,l,u,p,!0)}}var _=this.viewportToImageCoordinates(f.x,f.y),E=this._viewportToImageDelta(f.width,f.height);return new e.Rect(_.x,_.y,E.x,E.y,f.degrees)},viewerElementToImageCoordinates:function(o){var l=this.pointFromPixel(o,!0);return this.viewportToImageCoordinates(l)},imageToViewerElementCoordinates:function(o){var l=this.imageToViewportCoordinates(o);return this.pixelFromPoint(l,!0)},windowToImageCoordinates:function(o){e.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var l=o.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(l)},imageToWindowCoordinates:function(o){e.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var l=this.imageToViewerElementCoordinates(o);return l.plus(e.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(o){return this.pointFromPixel(o,!0)},viewportToViewerElementCoordinates:function(o){return this.pixelFromPoint(o,!0)},viewerElementToViewportRectangle:function(o){return e.Rect.fromSummits(this.pointFromPixel(o.getTopLeft(),!0),this.pointFromPixel(o.getTopRight(),!0),this.pointFromPixel(o.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(o){return e.Rect.fromSummits(this.pixelFromPoint(o.getTopLeft(),!0),this.pixelFromPoint(o.getTopRight(),!0),this.pixelFromPoint(o.getBottomLeft(),!0))},windowToViewportCoordinates:function(o){e.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var l=o.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(l)},viewportToWindowCoordinates:function(o){e.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var l=this.viewportToViewerElementCoordinates(o);return l.plus(e.getElementPosition(this.viewer.element))},viewportToImageZoom:function(o){if(this.viewer){var l=this.viewer.world.getItemCount();if(l>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(l===1){var u=this.viewer.world.getItemAt(0);return u.viewportToImageZoom(o)}}var p=this._contentSizeNoRotate.x,f=this._containerInnerSize.x,m=this._contentBoundsNoRotate.width,y=f/p*m;return o*y},imageToViewportZoom:function(o){if(this.viewer){var l=this.viewer.world.getItemCount();if(l>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(l===1){var u=this.viewer.world.getItemAt(0);return u.imageToViewportZoom(o)}}var p=this._contentSizeNoRotate.x,f=this._containerInnerSize.x,m=this._contentBoundsNoRotate.width,y=p/f/m;return o*y},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(o){return this.flipped===o?this:(this.flipped=o,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:o}),this)}}}(i),function(e){e.TiledImage=function(f){var m=this;e.console.assert(f.tileCache,"[TiledImage] options.tileCache is required"),e.console.assert(f.drawer,"[TiledImage] options.drawer is required"),e.console.assert(f.viewer,"[TiledImage] options.viewer is required"),e.console.assert(f.imageLoader,"[TiledImage] options.imageLoader is required"),e.console.assert(f.source,"[TiledImage] options.source is required"),e.console.assert(!f.clip||f.clip instanceof e.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),e.EventSource.call(this),this._tileCache=f.tileCache,delete f.tileCache,this._drawer=f.drawer,delete f.drawer,this._imageLoader=f.imageLoader,delete f.imageLoader,f.clip instanceof e.Rect&&(this._clip=f.clip.clone()),delete f.clip;var y=f.x||0;delete f.x;var _=f.y||0;delete f.y,this.normHeight=f.source.dimensions.y/f.source.dimensions.x,this.contentAspectX=f.source.dimensions.x/f.source.dimensions.y;var E=1;f.width?(E=f.width,delete f.width,f.height&&(e.console.error("specifying both width and height to a tiledImage is not supported"),delete f.height)):f.height&&(E=f.height/this.normHeight,delete f.height);var C=f.fitBounds;delete f.fitBounds;var I=f.fitBoundsPlacement||i.Placement.CENTER;delete f.fitBoundsPlacement;var z=f.degrees||0;delete f.degrees,e.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,immediateRender:e.DEFAULT_SETTINGS.immediateRender,blendTime:e.DEFAULT_SETTINGS.blendTime,alwaysBlend:e.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:e.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:e.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:e.DEFAULT_SETTINGS.iOSDevice,debugMode:e.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:e.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:e.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:e.DEFAULT_SETTINGS.placeholderFillStyle,opacity:e.DEFAULT_SETTINGS.opacity,preload:e.DEFAULT_SETTINGS.preload,compositeOperation:e.DEFAULT_SETTINGS.compositeOperation,subPixelRoundingForTransparency:e.DEFAULT_SETTINGS.subPixelRoundingForTransparency},f),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new e.Spring({initial:y,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new e.Spring({initial:_,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new e.Spring({initial:E,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new e.Spring({initial:z,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),C&&this.fitBounds(C,I,!0),this._drawingHandler=function(B){m.viewer.raiseEvent("tile-drawing",e.extend({tiledImage:m},B))}},e.extend(e.TiledImage.prototype,e.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(f){f!==this._fullyLoaded&&(this._fullyLoaded=f,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=e.now(),this._needsDraw=!0},update:function(){var f=this._xSpring.update(),m=this._ySpring.update(),y=this._scaleSpring.update(),_=this._degreesSpring.update();return f||m||y||_?(this._updateForScale(),this._needsDraw=!0,!0):!1},draw:function(){this.opacity!==0||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy()},getBounds:function(f){return this.getBoundsNoRotate(f).rotate(this.getRotation(f),this._getRotationPoint(f))},getBoundsNoRotate:function(f){return f?new e.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new e.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return e.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(f){var m=this.getBoundsNoRotate(f);if(this._clip){var y=f?this._worldWidthCurrent:this._worldWidthTarget,_=y/this.source.dimensions.x,E=this._clip.times(_);m=new e.Rect(m.x+E.x,m.y+E.y,E.width,E.height)}return m.rotate(this.getRotation(f),this._getRotationPoint(f))},getTileBounds:function(f,m,y){var _=this.source.getNumTiles(f),E=(_.x+m%_.x)%_.x,C=(_.y+y%_.y)%_.y,I=this.source.getTileBounds(f,E,C);return this.getFlip()&&(I.x=1-I.x-I.width),I.x+=(m-E)/_.x,I.y+=this._worldHeightCurrent/this._worldWidthCurrent*((y-C)/_.y),I},getContentSize:function(){return new e.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var f=this.imageToWindowCoordinates(new e.Point(0,0)),m=this.imageToWindowCoordinates(this.getContentSize());return new e.Point(m.x-f.x,m.y-f.y)},_viewportToImageDelta:function(f,m,y){var _=y?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(f*(this.source.dimensions.x/_),m*(this.source.dimensions.y*this.contentAspectX/_))},viewportToImageCoordinates:function(f,m,y){var _;return f instanceof e.Point?(y=m,_=f):_=new e.Point(f,m),_=_.rotate(-this.getRotation(y),this._getRotationPoint(y)),y?this._viewportToImageDelta(_.x-this._xSpring.current.value,_.y-this._ySpring.current.value):this._viewportToImageDelta(_.x-this._xSpring.target.value,_.y-this._ySpring.target.value)},_imageToViewportDelta:function(f,m,y){var _=y?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(f/this.source.dimensions.x*_,m/this.source.dimensions.y/this.contentAspectX*_)},imageToViewportCoordinates:function(f,m,y){f instanceof e.Point&&(y=m,m=f.y,f=f.x);var _=this._imageToViewportDelta(f,m);return y?(_.x+=this._xSpring.current.value,_.y+=this._ySpring.current.value):(_.x+=this._xSpring.target.value,_.y+=this._ySpring.target.value),_.rotate(this.getRotation(y),this._getRotationPoint(y))},imageToViewportRectangle:function(f,m,y,_,E){var C=f;C instanceof e.Rect?E=m:C=new e.Rect(f,m,y,_);var I=this.imageToViewportCoordinates(C.getTopLeft(),E),z=this._imageToViewportDelta(C.width,C.height,E);return new e.Rect(I.x,I.y,z.x,z.y,C.degrees+this.getRotation(E))},viewportToImageRectangle:function(f,m,y,_,E){var C=f;f instanceof e.Rect?E=m:C=new e.Rect(f,m,y,_);var I=this.viewportToImageCoordinates(C.getTopLeft(),E),z=this._viewportToImageDelta(C.width,C.height,E);return new e.Rect(I.x,I.y,z.x,z.y,C.degrees-this.getRotation(E))},viewerElementToImageCoordinates:function(f){var m=this.viewport.pointFromPixel(f,!0);return this.viewportToImageCoordinates(m)},imageToViewerElementCoordinates:function(f){var m=this.imageToViewportCoordinates(f);return this.viewport.pixelFromPoint(m,!0)},windowToImageCoordinates:function(f){var m=f.minus(i.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(m)},imageToWindowCoordinates:function(f){var m=this.imageToViewerElementCoordinates(f);return m.plus(i.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(f){var m=this._scaleSpring.current.value;return f=f.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new e.Rect((f.x-this._xSpring.current.value)/m,(f.y-this._ySpring.current.value)/m,f.width/m,f.height/m,f.degrees)},viewportToImageZoom:function(f){var m=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return m*f},imageToViewportZoom:function(f){var m=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return f/m},setPosition:function(f,m){var y=this._xSpring.target.value===f.x&&this._ySpring.target.value===f.y;if(m){if(y&&this._xSpring.current.value===f.x&&this._ySpring.current.value===f.y)return;this._xSpring.resetTo(f.x),this._ySpring.resetTo(f.y),this._needsDraw=!0}else{if(y)return;this._xSpring.springTo(f.x),this._ySpring.springTo(f.y),this._needsDraw=!0}y||this._raiseBoundsChange()},setWidth:function(f,m){this._setScale(f,m)},setHeight:function(f,m){this._setScale(f/this.normHeight,m)},setCroppingPolygons:function(f){var m=function(_){return _ instanceof e.Point||typeof _.x=="number"&&typeof _.y=="number"},y=function(_){return _.map(function(E){try{if(m(E))return{x:E.x,y:E.y};throw new Error}catch{throw new Error("A Provided cropping polygon point is not supported")}})};try{if(!e.isArray(f))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=f.map(function(_){return y(_)})}catch(_){e.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),e.console.error(_),this._croppingPolygons=null}},resetCroppingPolygons:function(){this._croppingPolygons=null},fitBounds:function(f,m,y){m=m||e.Placement.CENTER;var _=e.Placement.properties[m],E=this.contentAspectX,C=0,I=0,z=1,B=1;if(this._clip&&(E=this._clip.getAspectRatio(),z=this._clip.width/this.source.dimensions.x,B=this._clip.height/this.source.dimensions.y,f.getAspectRatio()>E?(C=this._clip.x/this._clip.height*f.height,I=this._clip.y/this._clip.height*f.height):(C=this._clip.x/this._clip.width*f.width,I=this._clip.y/this._clip.width*f.width)),f.getAspectRatio()>E){var G=f.height/B,H=0;_.isHorizontallyCentered?H=(f.width-f.height*E)/2:_.isRight&&(H=f.width-f.height*E),this.setPosition(new e.Point(f.x-C+H,f.y-I),y),this.setHeight(G,y)}else{var $=f.width/z,j=0;_.isVerticallyCentered?j=(f.height-f.width/E)/2:_.isBottom&&(j=f.height-f.width/E),this.setPosition(new e.Point(f.x-C,f.y-I+j),y),this.setWidth($,y)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(f){e.console.assert(!f||f instanceof e.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),f instanceof e.Rect?this._clip=f.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return!!this.flipped},setFlip:function(f){this.flipped=!!f,this._needsDraw=!0,this._raiseBoundsChange()},getOpacity:function(){return this.opacity},setOpacity:function(f){f!==this.opacity&&(this.opacity=f,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(f){this._preload=!!f,this._needsDraw=!0},getRotation:function(f){return f?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(f,m){this._degreesSpring.target.value===f&&this._degreesSpring.isAtTargetValue()||(m?this._degreesSpring.resetTo(f):this._degreesSpring.springTo(f),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(f){return this.getBoundsNoRotate(f).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(f){f!==this.compositeOperation&&(this.compositeOperation=f,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(f,m){var y=this._scaleSpring.target.value===f;if(m){if(y&&this._scaleSpring.current.value===f)return;this._scaleSpring.resetTo(f),this._updateForScale(),this._needsDraw=!0}else{if(y)return;this._scaleSpring.springTo(f),this._updateForScale(),this._needsDraw=!0}y||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var f=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),m=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,y=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(m/this.minPixelRatio)/Math.log(2))));return y=Math.max(y,this.source.minLevel||0),f=Math.min(f,y),{lowestLevel:f,highestLevel:y}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){var f=this.lastDrawn.pop();f.beingDrawn=!1}var m=this.viewport,y=this._viewportToTiledImageRectangle(m.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var _=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(y=y.intersection(_),y===null)return}for(var E=this._getLevelsInterval(),C=E.lowestLevel,I=E.highestLevel,z=null,B=!1,G=e.now(),H=I;H>=C;H--){var $=!1,j=m.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(H),!0).x*this._scaleSpring.current.value;if(H===C||!B&&j>=this.minPixelRatio)$=!0,B=!0;else if(!B)continue;var V=m.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(H),!1).x*this._scaleSpring.current.value,ot=m.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,ft=this.immediateRender?1:ot,ht=Math.min(1,(j-.5)/.5),ct=ft/Math.abs(ft-V);if(z=this._updateLevel(B,$,H,ht,ct,y,G,z),this._providesCoverage(this.coverage,H))break}this._drawTiles(this.lastDrawn),z&&!z.context2D?(this._loadTile(z,G),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(this._tilesLoading===0)},_getCornerTiles:function(f,m,y){var _,E;this.wrapHorizontal?(_=e.positiveModulo(m.x,1),E=e.positiveModulo(y.x,1)):(_=Math.max(0,m.x),E=Math.min(1,y.x));var C,I,z=1/this.source.aspectRatio;this.wrapVertical?(C=e.positiveModulo(m.y,z),I=e.positiveModulo(y.y,z)):(C=Math.max(0,m.y),I=Math.min(z,y.y));var B=this.source.getTileAtPoint(f,new e.Point(_,C)),G=this.source.getTileAtPoint(f,new e.Point(E,I)),H=this.source.getNumTiles(f);return this.wrapHorizontal&&(B.x+=H.x*Math.floor(m.x),G.x+=H.x*Math.floor(y.x)),this.wrapVertical&&(B.y+=H.y*Math.floor(m.y/z),G.y+=H.y*Math.floor(y.y/z)),{topLeft:B,bottomRight:G}},_updateLevel:function(f,m,y,_,E,C,I,z){var B=C.getBoundingBox().getTopLeft(),G=C.getBoundingBox().getBottomRight();this.viewer&&this.viewer.raiseEvent("update-level",{tiledImage:this,havedrawn:f,level:y,opacity:_,visibility:E,drawArea:C,topleft:B,bottomright:G,currenttime:I,best:z}),this._resetCoverage(this.coverage,y),this._resetCoverage(this.loadingCoverage,y);var H=this._getCornerTiles(y,B,G),$=H.topLeft,j=H.bottomRight,V=this.source.getNumTiles(y),ot=this.viewport.pixelFromPoint(this.viewport.getCenter());this.getFlip()&&(j.x+=1,this.wrapHorizontal||(j.x=Math.min(j.x,V.x-1)));for(var ft=$.x;ft<=j.x;ft++)for(var ht=$.y;ht<=j.y;ht++){var ct;if(this.getFlip()){var Z=(V.x+ft%V.x)%V.x;ct=ft+V.x-Z-Z-1}else ct=ft;C.intersection(this.getTileBounds(y,ct,ht))!==null&&(z=this._updateTile(m,f,ct,ht,y,_,E,ot,V,I,z))}return z},_updateTile:function(f,m,y,_,E,C,I,z,B,G,H){var $=this._getTile(y,_,E,G,B,this._worldWidthCurrent,this._worldHeightCurrent),j=m;this.viewer&&this.viewer.raiseEvent("update-tile",{tiledImage:this,tile:$}),this._setCoverage(this.coverage,E,y,_,!1);var V=$.loaded||$.loading||this._isCovered(this.loadingCoverage,E,y,_);if(this._setCoverage(this.loadingCoverage,E,y,_,V),!$.exists||(f&&!j&&(this._isCovered(this.coverage,E,y,_)?this._setCoverage(this.coverage,E,y,_,!0):j=!0),!j))return H;if(this._positionTile($,this.source.tileOverlap,this.viewport,z,I),!$.loaded)if($.context2D)this._setTileLoaded($);else{var ot=this._tileCache.getImageRecord($.cacheKey);ot&&this._setTileLoaded($,ot.getData())}if($.loaded){var ft=this._blendTile($,y,_,E,C,G);ft&&(this._needsDraw=!0)}else $.loading?this._tilesLoading++:V||(H=this._compareTiles(H,$));return H},_getTile:function(f,m,y,_,E,C,I){var z,B,G,H,$,j,V,ot,ft,ht,ct=this.tilesMatrix,Z=this.source;return ct[y]||(ct[y]={}),ct[y][f]||(ct[y][f]={}),(!ct[y][f][m]||!ct[y][f][m].flipped!=!this.flipped)&&(z=(E.x+f%E.x)%E.x,B=(E.y+m%E.y)%E.y,G=this.getTileBounds(y,f,m),H=Z.getTileBounds(y,z,B,!0),$=Z.tileExists(y,z,B),j=Z.getTileUrl(y,z,B),V=Z.getTilePostData(y,z,B),this.loadTilesWithAjax?(ot=Z.getTileAjaxHeaders(y,z,B),e.isPlainObject(this.ajaxHeaders)&&(ot=e.extend({},this.ajaxHeaders,ot))):ot=null,ft=Z.getContext2D?Z.getContext2D(y,z,B):void 0,ht=new e.Tile(y,f,m,G,$,j,ft,this.loadTilesWithAjax,ot,H,V,Z.getTileHashKey(y,z,B,j,ot,V)),this.getFlip()?z===0&&(ht.isRightMost=!0):z===E.x-1&&(ht.isRightMost=!0),B===E.y-1&&(ht.isBottomMost=!0),ht.flipped=this.flipped,ct[y][f][m]=ht),ht=ct[y][f][m],ht.lastTouchTime=_,ht},_loadTile:function(f,m){var y=this;f.loading=!0,this._imageLoader.addJob({src:f.getUrl(),tile:f,source:this.source,postData:f.postData,loadWithAjax:f.loadWithAjax,ajaxHeaders:f.ajaxHeaders,crossOriginPolicy:this.crossOriginPolicy,ajaxWithCredentials:this.ajaxWithCredentials,callback:function(_,E,C){y._onTileLoad(f,m,_,E,C)},abort:function(){f.loading=!1}})},_onTileLoad:function(f,m,y,_,E){if(!y){e.console.error("Tile %s failed to load: %s - error: %s",f,f.getUrl(),_),this.viewer.raiseEvent("tile-load-failed",{tile:f,tiledImage:this,time:m,message:_,tileRequest:E}),f.loading=!1,f.exists=!1;return}if(m<this.lastResetTime){e.console.warn("Ignoring tile %s loaded before reset: %s",f,f.getUrl()),f.loading=!1;return}var C=this,I=function(){var z=C.source,B=z.getClosestLevel();C._setTileLoaded(f,y,B,E)};this._midDraw?window.setTimeout(I,1):I()},_setTileLoaded:function(f,m,y,_){var E=0,C=this;function I(){return E++,z}function z(){E--,E===0&&(f.loading=!1,f.loaded=!0,f.hasTransparency=C.source.hasTransparency(f.context2D,f.getUrl(),f.ajaxHeaders,f.postData),f.context2D||C._tileCache.cacheTile({data:m,tile:f,cutoff:y,tiledImage:C}),C._needsDraw=!0)}this.viewer.raiseEvent("tile-loaded",{tile:f,tiledImage:this,tileRequest:_,get image(){return e.console.error("[tile-loaded] event 'image' has been deprecated. Use 'data' property instead."),m},data:m,getCompletionCallback:I}),I()()},_positionTile:function(f,m,y,_,E){var C=f.bounds.getTopLeft();C.x*=this._scaleSpring.current.value,C.y*=this._scaleSpring.current.value,C.x+=this._xSpring.current.value,C.y+=this._ySpring.current.value;var I=f.bounds.getSize();I.x*=this._scaleSpring.current.value,I.y*=this._scaleSpring.current.value;var z=y.pixelFromPointNoRotate(C,!0),B=y.pixelFromPointNoRotate(C,!1),G=y.deltaPixelsFromPointsNoRotate(I,!0),H=y.deltaPixelsFromPointsNoRotate(I,!1),$=B.plus(H.divide(2)),j=_.squaredDistanceTo($);m||(G=G.plus(new e.Point(1,1))),f.isRightMost&&this.wrapHorizontal&&(G.x+=.75),f.isBottomMost&&this.wrapVertical&&(G.y+=.75),f.position=z,f.size=G,f.squaredDistance=j,f.visibility=E},_blendTile:function(f,m,y,_,E,C){var I=1e3*this.blendTime,z,B;if(f.blendStart||(f.blendStart=C),z=C-f.blendStart,B=I?Math.min(1,z/I):1,this.alwaysBlend&&(B*=E),f.opacity=B,this.lastDrawn.push(f),B===1)this._setCoverage(this.coverage,_,m,y,!0),this._hasOpaqueTile=!0;else if(z<I)return!0;return!1},_compareTiles:function(f,m){return!f||m.visibility>f.visibility||m.visibility===f.visibility&&m.squaredDistance<f.squaredDistance?m:f},_drawTiles:function(f){if(!(this.opacity===0||f.length===0&&!this.placeholderFillStyle)){var m=f[0],y;m&&(y=this.opacity<1||this.compositeOperation&&this.compositeOperation!=="source-over"||!this._isBottomItem()&&this.source.hasTransparency(m.context2D,m.getUrl(),m.ajaxHeaders,m.postData));var _,E,C=this.viewport.getZoom(!0),I=this.viewportToImageZoom(C);f.length>1&&I>this.smoothTileEdgesMinZoom&&!this.iOSDevice&&this.getRotation(!0)%360===0&&e.supportsCanvas&&this.viewer.useCanvas&&(y=!0,_=m.getScaleForEdgeSmoothing(),E=m.getTranslationForEdgeSmoothing(_,this._drawer.getCanvasSize(!1),this._drawer.getCanvasSize(!0)));var z;y&&(_||(z=this.viewport.viewportToViewerElementRectangle(this.getClippedBounds(!0)).getIntegerBoundingBox(),this._drawer.viewer.viewport.getFlip()&&(this.viewport.getRotation(!0)%360!==0||this.getRotation(!0)%360!==0)&&(z.x=this._drawer.viewer.container.clientWidth-(z.x+z.width)),z=z.times(e.pixelDensityRatio)),this._drawer._clear(!0,z)),_||(this.viewport.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:y}),this.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(this._getRotationPoint(!0),!0),useSketch:y}),this.viewport.getRotation(!0)%360===0&&this.getRotation(!0)%360===0&&this._drawer.viewer.viewport.getFlip()&&this._drawer._flip());var B=!1;if(this._clip){this._drawer.saveContext(y);var G=this.imageToViewportRectangle(this._clip,!0);G=G.rotate(-this.getRotation(!0),this._getRotationPoint(!0));var H=this._drawer.viewportToDrawerRectangle(G);_&&(H=H.times(_)),E&&(H=H.translate(E)),this._drawer.setClip(H,y),B=!0}if(this._croppingPolygons){var $=this;this._drawer.saveContext(y);try{var j=this._croppingPolygons.map(function(lt){return lt.map(function(ut){var mt=$.imageToViewportCoordinates(ut.x,ut.y,!0).rotate(-$.getRotation(!0),$._getRotationPoint(!0)),te=$._drawer.viewportCoordToDrawerCoord(mt);return _&&(te=te.times(_)),te})});this._drawer.clipWithPolygons(j,y)}catch(lt){e.console.error(lt)}B=!0}if(this.placeholderFillStyle&&this._hasOpaqueTile===!1){var V=this._drawer.viewportToDrawerRectangle(this.getBounds(!0));_&&(V=V.times(_)),E&&(V=V.translate(E));var ot=null;typeof this.placeholderFillStyle=="function"?ot=this.placeholderFillStyle(this,this._drawer.context):ot=this.placeholderFillStyle,this._drawer.drawRectangle(V,ot,y)}var ft=p(this.subPixelRoundingForTransparency),ht=!1;if(ft===e.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS)ht=!0;else if(ft===e.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST){var ct=this.viewer&&this.viewer.isAnimating();ht=!ct}for(var Z=f.length-1;Z>=0;Z--)m=f[Z],this._drawer.drawTile(m,this._drawingHandler,y,_,E,ht,this.source),m.beingDrawn=!0,this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:this,tile:m});B&&this._drawer.restoreContext(y),_||(this.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(y),this.viewport.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(y)),y&&(_&&(this.viewport.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:!1}),this.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(this._getRotationPoint(!0),!0),useSketch:!1})),this._drawer.blendSketch({opacity:this.opacity,scale:_,translate:E,compositeOperation:this.compositeOperation,bounds:z}),_&&(this.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(!1),this.viewport.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(!1))),_||this.viewport.getRotation(!0)%360===0&&this.getRotation(!0)%360===0&&this._drawer.viewer.viewport.getFlip()&&this._drawer._flip(),this._drawDebugInfo(f)}},_drawDebugInfo:function(f){if(this.debugMode)for(var m=f.length-1;m>=0;m--){var y=f[m];try{this._drawer.drawDebugInfo(y,f.length,m,this)}catch(_){e.console.error(_)}}},_providesCoverage:function(f,m,y,_){var E,C,I,z;if(!f[m])return!1;if(y===void 0||_===void 0){E=f[m];for(I in E)if(Object.prototype.hasOwnProperty.call(E,I)){C=E[I];for(z in C)if(Object.prototype.hasOwnProperty.call(C,z)&&!C[z])return!1}return!0}return f[m][y]===void 0||f[m][y][_]===void 0||f[m][y][_]===!0},_isCovered:function(f,m,y,_){return y===void 0||_===void 0?this._providesCoverage(f,m+1):this._providesCoverage(f,m+1,2*y,2*_)&&this._providesCoverage(f,m+1,2*y,2*_+1)&&this._providesCoverage(f,m+1,2*y+1,2*_)&&this._providesCoverage(f,m+1,2*y+1,2*_+1)},_setCoverage:function(f,m,y,_,E){if(!f[m]){e.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",m);return}f[m][y]||(f[m][y]={}),f[m][y][_]=E},_resetCoverage:function(f,m){f[m]={}}});var o=e.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER;function l(f){return f!==e.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS&&f!==e.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST&&f!==e.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER}function u(f){return l(f)?o:f}function p(f){if(typeof f=="number")return u(f);if(!f||!e.Browser)return o;var m=f[e.Browser.vendor];return l(m)&&(m=f["*"]),u(m)}}(i),function(e){var o=function(u){e.console.assert(u,"[TileCache.cacheTile] options is required"),e.console.assert(u.tile,"[TileCache.cacheTile] options.tile is required"),e.console.assert(u.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=u.tile,this.tiledImage=u.tiledImage},l=function(u){e.console.assert(u,"[ImageRecord] options is required"),e.console.assert(u.data,"[ImageRecord] options.data is required"),this._tiles=[],u.create.apply(null,[this,u.data,u.ownerTile]),this._destroyImplementation=u.destroy.bind(null,this),this.getImage=u.getImage.bind(null,this),this.getData=u.getData.bind(null,this),this.getRenderedContext=u.getRenderedContext.bind(null,this)};l.prototype={destroy:function(){this._destroyImplementation(),this._tiles=null},addTile:function(u){e.console.assert(u,"[ImageRecord.addTile] tile is required"),this._tiles.push(u)},removeTile:function(u){for(var p=0;p<this._tiles.length;p++)if(this._tiles[p]===u){this._tiles.splice(p,1);return}e.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",u)},getTileCount:function(){return this._tiles.length}},e.TileCache=function(u){u=u||{},this._maxImageCacheCount=u.maxImageCacheCount||e.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},e.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(u){e.console.assert(u,"[TileCache.cacheTile] options is required"),e.console.assert(u.tile,"[TileCache.cacheTile] options.tile is required"),e.console.assert(u.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),e.console.assert(u.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var p=u.cutoff||0,f=this._tilesLoaded.length,m=this._imagesLoaded[u.tile.cacheKey];if(m||(u.data||(e.console.error("[TileCache.cacheTile] options.image was renamed to options.data. '.image' attribute has been deprecated and will be removed in the future."),u.data=u.image),e.console.assert(u.data,"[TileCache.cacheTile] options.data is required to create an ImageRecord"),m=this._imagesLoaded[u.tile.cacheKey]=new l({data:u.data,ownerTile:u.tile,create:u.tiledImage.source.createTileCache,destroy:u.tiledImage.source.destroyTileCache,getImage:u.tiledImage.source.getTileCacheDataAsImage,getData:u.tiledImage.source.getTileCacheData,getRenderedContext:u.tiledImage.source.getTileCacheDataAsContext2D}),this._imagesLoadedCount++),m.addTile(u.tile),u.tile.cacheImageRecord=m,this._imagesLoadedCount>this._maxImageCacheCount){for(var y=null,_=-1,E=null,C,I,z,B,G,H,$=this._tilesLoaded.length-1;$>=0;$--)if(H=this._tilesLoaded[$],C=H.tile,!(C.level<=p||C.beingDrawn)){if(!y){y=C,_=$,E=H;continue}B=C.lastTouchTime,I=y.lastTouchTime,G=C.level,z=y.level,(B<I||B===I&&G>z)&&(y=C,_=$,E=H)}y&&_>=0&&(this._unloadTile(E),f=_)}this._tilesLoaded[f]=new o({tile:u.tile,tiledImage:u.tiledImage})},clearTilesFor:function(u){e.console.assert(u,"[TileCache.clearTilesFor] tiledImage is required");for(var p,f=0;f<this._tilesLoaded.length;++f)p=this._tilesLoaded[f],p.tiledImage===u&&(this._unloadTile(p),this._tilesLoaded.splice(f,1),f--)},getImageRecord:function(u){return e.console.assert(u,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[u]},_unloadTile:function(u){e.console.assert(u,"[TileCache._unloadTile] tileRecord is required");var p=u.tile,f=u.tiledImage;p.unload(),p.cacheImageRecord=null;var m=this._imagesLoaded[p.cacheKey];m.removeTile(p),m.getTileCount()||(m.destroy(),delete this._imagesLoaded[p.cacheKey],this._imagesLoadedCount--),f.viewer.raiseEvent("tile-unloaded",{tile:p,tiledImage:f})}}}(i),function(e){e.World=function(o){var l=this;e.console.assert(o.viewer,"[World] options.viewer is required"),e.EventSource.call(this),this.viewer=o.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(u){l._autoRefigureSizes?l._figureSizes():l._needsSizesFigured=!0},this._figureSizes()},e.extend(e.World.prototype,e.EventSource.prototype,{addItem:function(o,l){if(e.console.assert(o,"[World.addItem] item is required"),e.console.assert(o instanceof e.TiledImage,"[World.addItem] only TiledImages supported at this time"),l=l||{},l.index!==void 0){var u=Math.max(0,Math.min(this._items.length,l.index));this._items.splice(u,0,o)}else this._items.push(o);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,o.addHandler("bounds-change",this._delegatedFigureSizes),o.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:o})},getItemAt:function(o){return e.console.assert(o!==void 0,"[World.getItemAt] index is required"),this._items[o]},getIndexOfItem:function(o){return e.console.assert(o,"[World.getIndexOfItem] item is required"),e.indexOf(this._items,o)},getItemCount:function(){return this._items.length},setItemIndex:function(o,l){e.console.assert(o,"[World.setItemIndex] item is required"),e.console.assert(l!==void 0,"[World.setItemIndex] index is required");var u=this.getIndexOfItem(o);if(l>=this._items.length)throw new Error("Index bigger than number of layers.");l===u||u===-1||(this._items.splice(u,1),this._items.splice(l,0,o),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:o,previousIndex:u,newIndex:l}))},removeItem:function(o){e.console.assert(o,"[World.removeItem] item is required");var l=e.indexOf(this._items,o);l!==-1&&(o.removeHandler("bounds-change",this._delegatedFigureSizes),o.removeHandler("clip-change",this._delegatedFigureSizes),o.destroy(),this._items.splice(l,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(o))},removeAll:function(){this.viewer._cancelPendingImages();var o,l;for(l=0;l<this._items.length;l++)o=this._items[l],o.removeHandler("bounds-change",this._delegatedFigureSizes),o.removeHandler("clip-change",this._delegatedFigureSizes),o.destroy();var u=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,l=0;l<u.length;l++)o=u[l],this._raiseRemoveItem(o)},resetItems:function(){for(var o=0;o<this._items.length;o++)this._items[o].reset()},update:function(){for(var o=!1,l=0;l<this._items.length;l++)o=this._items[l].update()||o;return o},draw:function(){for(var o=0;o<this._items.length;o++)this._items[o].draw();this._needsDraw=!1},needsDraw:function(){for(var o=0;o<this._items.length;o++)if(this._items[o].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(o){this._autoRefigureSizes=o,o&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(o){o=o||{};var l=o.immediately||!1,u=o.layout||e.DEFAULT_SETTINGS.collectionLayout,p=o.rows||e.DEFAULT_SETTINGS.collectionRows,f=o.columns||e.DEFAULT_SETTINGS.collectionColumns,m=o.tileSize||e.DEFAULT_SETTINGS.collectionTileSize,y=o.tileMargin||e.DEFAULT_SETTINGS.collectionTileMargin,_=m+y,E;!o.rows&&f?E=f:E=Math.ceil(this._items.length/p);var C=0,I=0,z,B,G,H,$;this.setAutoRefigureSizes(!1);for(var j=0;j<this._items.length;j++)j&&j%E===0&&(u==="horizontal"?(I+=_,C=0):(C+=_,I=0)),z=this._items[j],B=z.getBounds(),B.width>B.height?G=m:G=m*(B.width/B.height),H=G*(B.height/B.width),$=new e.Point(C+(m-G)/2,I+(m-H)/2),z.setPosition($,l),z.setWidth(G,l),u==="horizontal"?C+=_:I+=_;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var o=this._homeBounds?this._homeBounds.clone():null,l=this._contentSize?this._contentSize.clone():null,u=this._contentFactor||0;if(!this._items.length)this._homeBounds=new e.Rect(0,0,1,1),this._contentSize=new e.Point(1,1),this._contentFactor=1;else{var p=this._items[0],f=p.getBounds();this._contentFactor=p.getContentSize().x/f.width;for(var m=p.getClippedBounds().getBoundingBox(),y=m.x,_=m.y,E=m.x+m.width,C=m.y+m.height,I=1;I<this._items.length;I++)p=this._items[I],f=p.getBounds(),this._contentFactor=Math.max(this._contentFactor,p.getContentSize().x/f.width),m=p.getClippedBounds().getBoundingBox(),y=Math.min(y,m.x),_=Math.min(_,m.y),E=Math.max(E,m.x+m.width),C=Math.max(C,m.y+m.height);this._homeBounds=new e.Rect(y,_,E-y,C-_),this._contentSize=new e.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}(this._contentFactor!==u||!this._homeBounds.equals(o)||!this._contentSize.equals(l))&&this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(o){this.raiseEvent("remove-item",{item:o})}})}(i)})(qS);var iN=qS.exports;const nN=GS(iN),oN=["aria-label","alt"],sN={key:1,class:"group relative h-10 p-2"},aN=["innerHTML"],lN=["innerHTML"],cN=["manifest"],uN=hs({__name:"Image.ce",props:{caption:{type:String},cover:{type:Boolean,default:!1},data:{type:String},fit:{type:String,default:"contain"},height:{type:Number},noCaption:{type:Boolean,default:!1},src:{type:String,required:!0},width:{type:Number}},setup(n){const i=n,e=Oe(null),o=Oe(null),l=qr(()=>{var kt,zt;return(zt=(kt=e.value)==null?void 0:kt.getRootNode())==null?void 0:zt.host}),u=qr(()=>{var kt;return(kt=e==null?void 0:e.value)==null?void 0:kt.parentNode});ei(u,kt=>{kt.children[1].classList.remove("sticky")});const p=Oe();ei(p,()=>{Z()});const f=Oe(),m=qr(()=>{var kt,zt;return Number(((((kt=f.value)==null?void 0:kt.width)||1)/(((zt=f.value)==null?void 0:zt.height)||1)).toFixed(4))});ei(m,()=>{Z(),o.value&&lt()}),ei(o,()=>{var kt;o.value&&(i.width?((kt=e.value)==null||kt.setAttribute("style",`width: ${i.width}px;margin: auto`),p.value=i.width):new ResizeObserver(()=>{var zt;p.value=(zt=o.value)==null?void 0:zt.clientWidth}).observe(o.value),f.value&&lt())}),ei(i,()=>{G()});const y=Oe(),_=Oe(),E=Oe();ei(E,()=>{j(E.value)});function C(kt){if(/upload\.wikimedia\.org/.test(kt)){let zt=kt.split("/"),Wt=zt[5]==="thumb"?zt[8]:zt[7];E.value=`https://iiif.juncture-digital.org/wc:${Wt.replace(/ /g,"_")}/manifest.json`}else E.value=/^http/.test(kt)?kt:/^\w+:/.test(kt)?`https://iiif.juncture-digital.org/${kt.replace(/ /g,"_")}/manifest.json`:kt}const I=Oe(),z=qr(()=>{var kt,zt,Wt;return i.caption||I.value&&((Wt=(zt=(kt=I.value)==null?void 0:kt.label)==null?void 0:zt.en)==null?void 0:Wt[0])}),B=Oe();function G(){C(i.src)}ru(()=>{G(),ut()});async function H(kt){var Wt;return kt.indexOf("manifest.json")>0?!0:((Wt=(await fetch(kt,{method:"HEAD"})).headers.get("Content-Type"))==null?void 0:Wt.indexOf("image"))===-1}async function $(kt){let zt=await fetch("https://iiif.juncture-digital.org/prezi2to3/",{method:"POST",body:JSON.stringify(kt)});if(zt.ok)return(await zt).json()}async function j(kt){if(await H(kt)){let zt=await ft(kt),Wt=V({type:"Annotation",motivation:"painting"},zt).body;f.value={width:Wt.width,height:Wt.height},_.value=Wt.service?`${Wt.service[0].id||Wt.service[0]["@id"]}/info.json`:{url:Wt.id,type:"image",buildPyramid:!0}}else ht(kt).then(zt=>{f.value=zt}),_.value={url:kt,type:"image",buildPyramid:!0}}function V(kt,zt,Wt=1){const ee=ot(kt,zt);return ee.length>=Wt?ee[Wt-1]:null}function ot(kt,zt,Wt=[]){if(Wt=Wt||[],zt.items)for(let ee=0;ee<zt.items.length;ee++){let ve=zt.items[ee];!Object.entries(kt).find(([ue,tr])=>ve[ue]&&ve[ue]!==tr)?Wt.push(ve):ot(kt,ve,Wt)}return Wt}async function ft(kt){let zt=await fetch(kt);if(zt.ok){let Wt=await zt.json();return I.value=parseFloat(Wt["@context"].split("/").slice(-2,-1).pop())<3?await $(I):Wt,I.value}}async function ht(kt){return new Promise((zt,Wt)=>{let ee=new Image;ee.onload=()=>zt({width:ee.width,height:ee.height}),ee.onerror=()=>Wt(),ee.src=kt})}function ct(){var kt,zt,Wt;if((kt=o.value)!=null&&kt.clientWidth){let ee=i.height||Number(((zt=o.value)==null?void 0:zt.clientWidth)/m.value).toFixed(0);(Wt=o.value)==null||Wt.setAttribute("style",`height: ${ee}px;`)}}function Z(){setTimeout(()=>{var kt,zt;return(zt=(kt=y.value)==null?void 0:kt.viewport)==null?void 0:zt.goHome(!0)},100)}function lt(){if(!o.value)return;let kt=u.value.querySelector("#osd");ct();const zt={element:kt,prefixUrl:"https://openseadragon.github.io/openseadragon/images/",tileSources:_.value,homeFillsViewer:i.cover||i.fit==="cover",maxZoomPixelRatio:10};y.value=nN(zt),y.value.addHandler("viewport-change",()=>Kt()),setTimeout(()=>Gt(),500)}function ut(){let kt=l.value.parentElement;for(;kt.parentElement&&kt.tagName!=="MAIN";)Array.from(kt.querySelectorAll("a")).forEach(zt=>{let ee=new URL(zt.href).pathname.split("/").filter(se=>se),ve=ee.indexOf("zoom");if(ve>=0&&ee.length>ve+1&&mt(zt)){let ue=ee[ve+1];zt.classList.add("zoom"),zt.href="javascript:;",zt.setAttribute("data-region",ue),zt.addEventListener("click",tr=>{let Ft=tr.target.getAttribute("data-region");Ft&&ne(Ft)})}}),kt=kt.parentElement}function mt(kt){function zt(Wt){let ee=Wt.previousSibling;for(;ee;){if(ee.nodeName==="EZ-IMAGE")return ee===l.value?ee:null;ee=ee.previousSibling}}for(zt(kt);kt.parentElement&&kt.tagName!=="BODY";){kt=kt.parentElement;let Wt=kt.querySelector(":scope ez-image");if(Wt)return Wt===l.value?Wt:null}}let te="";function ne(kt){var Wt,ee,ve;kt=kt.replace(/^zoom\|/i,"");const zt=kt==null?void 0:kt.match(/^(?<region>(pct:|pixel:|px:)?[\d.]+,[\d.]+,[\d.]+,[\d.]+)?$/);if(zt){let se=(Wt=zt==null?void 0:zt.groups)==null?void 0:Wt.region;se&&(te===se?((ee=y.value)==null||ee.viewport.goHome(),te=""):(te=se,(ve=y.value)==null||ve.viewport.fitBounds(ye(se,y.value),!1)))}}function ye(kt,zt){let Wt;const ee=kt.split(":");let[ve,se,ue,tr]=ee[ee.length-1].split(",").map(qt=>parseInt(qt));const Ft=zt.world.getItemAt(0).getContentSize();return ee.length===2&&(ee[0]==="pct"||ee[0]==="percent")&&(ve=Math.round(Ft.x*ve/100),se=Math.round(Ft.y*se/100),ue=Math.round(Ft.x*ue/100),tr=Math.round(Ft.y*tr/100)),Wt=zt.viewport.imageToViewportRectangle(ve,se,ue,tr),Wt}function Gt(){var zt,Wt;const kt=(zt=y.value)==null?void 0:zt.world.getItemAt(0);if(kt){let ee=(Wt=y.value)==null?void 0:Wt.viewport.getBounds();const ve=ee?kt.viewportToImageRectangle(ee):null;B.value=ve?`${Math.ceil(ve.x)},${Math.ceil(ve.y)},${Math.ceil(ve.width)},${Math.ceil(ve.height)}`:""}}let he=null;function Kt(){he!==null&&(clearTimeout(he),he=null),he=window.setTimeout(()=>Gt(),100)}function Je(kt){navigator.clipboard&&navigator.clipboard.writeText(kt)}return(kt,zt)=>(Ae(),Ne("div",{ref_key:"root",ref:e,class:"image relative rounded overflow-hidden shadow-lg"},[_.value?(Ae(),Ne("div",{key:0,ref_key:"osdEl",ref:o,id:"osd",class:"w-full",role:"img","aria-label":z.value,alt:z.value},null,8,oN)):fi("",!0),_.value&&z.value&&!n.noCaption?(Ae(),Ne("div",sN,[Jt("div",{class:"font-bold text-xl mb-2",innerHTML:z.value},null,8,aN),B.value?(Ae(),Ne("div",{key:0,class:"invisible group-hover:visible absolute pr-4 pl-4 pt-2 pb-2 mt-24 bottom-0 right-0 cursor-copy ml-4 bg-slate-100 text-black",innerHTML:B.value,onClick:zt[0]||(zt[0]=Wt=>Je(B.value||""))},null,8,lN)):fi("",!0)])):fi("",!0),I.value?(Ae(),Ne("ez-manifest-popup",{key:2,manifest:I.value},null,8,cN)):fi("",!0)],512))}}),hN=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}ez-header ul,ez-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}ez-manifest-popup{visibility:hidden;position:absolute;top:1em;right:1em;z-index:10}.image:hover ez-manifest-popup{visibility:visible;transition:all .5s ease-in}
`,dN=Ma(uN,[["styles",[hN]]]),Ia=n=>(lL("data-v-8cad8409"),n=n(),cL(),n),pN={class:"main"},fN=["src"],gN=["innerHTML"],mN=["innerHTML"],vN=["href","innerHTML"],yN={class:"links"},bN={class:"detail"},wN={key:0,class:"provider"},xN=Ia(()=>Jt("span",{class:"label"},"provider",-1)),_N={key:0,style:{display:"flex","align-items":"center"}},kN=["src"],EN=["href","innerHTML"],TN={key:1},SN=["src"],CN=["href","innerHTML"],PN={key:1,class:"requiredStatement"},MN=["innerHTML"],IN={key:2,class:"rights"},LN=Ia(()=>Jt("span",{class:"label"},"Reuse rights",-1)),RN=["href","innerHTML"],AN={key:3,class:"metadata"},zN=Ia(()=>Jt("span",{class:"label"},"metadata",-1)),ON=["innerHTML"],NN=["innerHTML"],DN={key:1},FN=["innerHTML"],BN={key:4,class:"navDate"},jN=Ia(()=>Jt("span",{class:"label"},"navDate",-1)),HN=["innerHTML"],UN={key:5,class:"homepage"},GN=Ia(()=>Jt("span",{class:"label"},"homepage",-1)),qN=["href","innerHTML"],VN={key:6,class:"seeAlso"},WN=Ia(()=>Jt("span",{class:"label"},"seeAlso",-1)),ZN=["href","innerHTML"],XN={key:7,class:"logo"},YN=Ia(()=>Jt("span",{class:"label"},"logo",-1)),KN=["href","innerHTML"],JN={key:8,class:"imageData"},QN=Ia(()=>Jt("span",{class:"label"},"source",-1)),$N=["href","innerHTML"],t3=Ia(()=>Jt("span",{class:"label"},"format",-1)),e3=["innerHTML"],r3=Ia(()=>Jt("span",{class:"label"},"width",-1)),i3=["innerHTML"],n3=Ia(()=>Jt("span",{class:"label"},"height",-1)),o3=["innerHTML"],s3=hs({__name:"Manifest.ce",props:{manifest:{type:Object,required:!0}},setup(n){const i=n,e=Oe(null);qr(()=>{var E,C;return(C=(E=e.value)==null?void 0:E.getRootNode())==null?void 0:C.host});const o=Oe(null),l=Oe(null);ei(o,()=>l.value=m(o.value));const u=qr(()=>l.value&&_(l.value));ru(()=>p());function p(){typeof i.manifest=="object"?o.value=i.manifest:v0(i.manifest).then(E=>o.value=E)}function f(E,C="en"){return typeof E=="object"&&!Array.isArray(E)?E[C]||E.none||E[Object.keys(E).sort()[0]]:E}function m(E){let C={};if(C.id=f(E.id),C.label=f(E.label),E.summary&&(C.summary=f(E.summary)),E.rights&&(C.rights=E.rights),E.thumbnail&&(C.thumbnail=E.thumbnail[0].id||E.thumbnail),E.metadata){C.metadata=E.metadata.map(B=>({label:f(B.label)[0],value:f(B.value)}));let I=C.metadata.find(B=>B.label=="source_url");C.sourceUrl=I?I.value[0]:null;let z=C.metadata.find(B=>B.label==="depicts");z&&(C.depicts=z.value)}if(E.provider&&(C.provider=E.provider.map(I=>{let z={label:f(I.label),href:I.id};return I.logo&&(z.logo={src:I.logo[0].id}),z})),E.logo&&(C.logo=E.logo.map(I=>{let z={src:typeof I=="object"?I.id||I["@id"]:I};return typeof I=="object"&&(I.width&&(z.width=I.width),I.height&&(z.height=I.height)),z})),C.imageData=US(E),C.service=C.imageData.service&&`${(C.imageData.service[0].id||C.imageData.service[0]["@id"]).replace(/\/info\.json$/,"")}/info.json`,E.requiredStatement){let I=E.requiredStatement;C.requiredStatement={label:f(I.label),value:f(I.value)}}return E.homepage&&(C.homepage={label:E.homepage.label?f(E.homepage.label):E.homepage.id,href:E.homepage.id}),E.seeAlso&&(C.seeAlso=E.seeAlso.map(I=>({label:I.label?f(I.label):I.id,href:I.id}))),C}function y(E){navigator.clipboard&&navigator.clipboard.writeText(E)}function _(E){let C={cc:{badgeWidth:88,badgeHeight:31,badgeTemplate:'https://licensebuttons.net/l/${this.rightsCode}${this.rightsCode === "publicdomain" ? "" : "/"+this.version}/${this.badgeWidth}x${this.badgeHeight}.png'},rs:{badgeTemplate:"https://rightsstatements.org/files/buttons/${this.rightsCode}.white.svg",backgroundColor:"318ac7"}};const I=function(V,ot){return new Function("return `"+V+"`;").call(ot)};let z=E.rights||"",B="",[G,H,$,j]=z.split("/").slice(2);return G==="creativecommons.org"?($=$==="zero"?"publicdomain":$,B=`<img src="${I(C.cc.badgeTemplate,{...C.cc,rightsCode:$,version:j})}"/>`):G==="rightsstatements.org"&&(B=`<div style="display:inline-block;height:25px;padding:3px;background-color:#${C.rs.backgroundColor};"><img style="height:100%;" src="${I(C.rs.badgeTemplate,{...C.rs,rightsCode:$})}"/></div>`),B}return(E,C)=>{var I,z,B,G,H,$,j,V,ot,ft,ht,ct,Z,lt,ut;return Ae(),Ne("div",{ref_key:"root",ref:e,class:"manifest"},[Jt("div",pN,[Jt("img",{class:"thumbnail",src:(I=l.value)==null?void 0:I.thumbnail},null,8,fN),Jt("div",{class:"label",innerHTML:(z=l.value)==null?void 0:z.label},null,8,gN),(B=l.value)!=null&&B.summary?(Ae(),Ne("div",{key:0,class:"summary",innerHTML:(G=l.value)==null?void 0:G.summary},null,8,mN)):fi("",!0),(H=l.value)!=null&&H.rights?(Ae(),Ne("a",{key:1,href:($=l.value)==null?void 0:$.rights,innerHTML:u.value},null,8,vN)):fi("",!0),Jt("div",yN,[Jt("img",{src:"https://mdpress.io/images/iiif.png",class:"iiif",alt:"IIIF manifest icon",onClick:C[0]||(C[0]=mt=>y(o.value.id))})])]),Jt("div",bN,[(j=l.value)!=null&&j.provider?(Ae(),Ne("div",wN,[xN,l.value.provider.length===1?(Ae(),Ne("div",_N,[l.value.provider[0].logo?(Ae(),Ne("img",{key:0,class:"logo",src:l.value.provider[0].logo.src},null,8,kN)):fi("",!0),Jt("a",{class:"value",href:l.value.provider[0].href,innerHTML:l.value.provider[0].label},null,8,EN)])):(Ae(),Ne("ul",TN,[(Ae(!0),Ne(nn,null,Qu(l.value.provider,(mt,te)=>(Ae(),Ne("li",{key:`provider-${te}`},[mt.logo?(Ae(),Ne("img",{key:0,class:"logo",src:mt.logo.src},null,8,SN)):fi("",!0),Jt("a",{class:"value",href:mt.href,innerHTML:mt.label},null,8,CN)]))),128))]))])):fi("",!0),(V=l.value)!=null&&V.requiredStatement?(Ae(),Ne("div",PN,[Jt("span",{class:"value",innerHTML:l.value.requiredStatement.value},null,8,MN)])):fi("",!0),(ot=l.value)!=null&&ot.rights?(Ae(),Ne("div",IN,[LN,Jt("a",{class:"value",href:l.value.rights,innerHTML:l.value.rights},null,8,RN)])):fi("",!0),(ft=l.value)!=null&&ft.metadata?(Ae(),Ne("div",AN,[zN,Jt("ul",null,[(Ae(!0),Ne(nn,null,Qu(l.value.metadata,(mt,te)=>(Ae(),Ne("li",{key:`md-${te}`},[Jt("span",{class:"label",innerHTML:mt.label},null,8,ON),mt.value.length===1?(Ae(),Ne("span",{key:0,class:"value",innerHTML:mt.value[0]},null,8,NN)):(Ae(),Ne("ul",DN,[(Ae(!0),Ne(nn,null,Qu(mt.value,ne=>(Ae(),Ne("li",{class:"value",innerHTML:ne},null,8,FN))),256))]))]))),128))])])):fi("",!0),(ht=l.value)!=null&&ht.navDate?(Ae(),Ne("div",BN,[jN,Jt("span",{class:"value",innerHTML:l.value.navDate},null,8,HN)])):fi("",!0),(ct=l.value)!=null&&ct.homepage?(Ae(),Ne("div",UN,[GN,Jt("a",{class:"value",href:l.value.homepage.href,innerHTML:l.value.homepage.label},null,8,qN)])):fi("",!0),(Z=l.value)!=null&&Z.seeAlso?(Ae(),Ne("div",VN,[WN,Jt("a",{class:"value",href:l.value.seeAlso[0].href,innerHTML:l.value.seeAlso[0].label},null,8,ZN)])):fi("",!0),(lt=l.value)!=null&&lt.logo?(Ae(),Ne("div",XN,[YN,Jt("a",{class:"value",href:l.value.logo[0].src,innerHTML:l.value.logo[0].src},null,8,KN)])):fi("",!0),(ut=l.value)!=null&&ut.imageData?(Ae(),Ne("div",JN,[Jt("div",null,[QN,Jt("a",{class:"value",href:l.value.imageData.id,innerHTML:l.value.imageData.id.split("/").pop()},null,8,$N)]),Jt("div",null,[t3,Jt("span",{class:"value",innerHTML:l.value.imageData.format},null,8,e3)]),Jt("div",null,[r3,Jt("span",{class:"value",innerHTML:l.value.imageData.width},null,8,i3)]),Jt("div",null,[n3,Jt("span",{class:"value",innerHTML:l.value.imageData.height},null,8,o3)])])):fi("",!0)])],512)}}}),a3=`*[data-v-8cad8409]{box-sizing:border-box}.manifest[data-v-8cad8409]{width:100%;height:100%;overflow-y:scroll;background-color:#fff;font-size:.8em}.main[data-v-8cad8409],.detail[data-v-8cad8409]{display:flow-root;margin:6px}.main>*[data-v-8cad8409]{margin-bottom:6px}.detail>div[data-v-8cad8409]{margin-top:12px}.main .label[data-v-8cad8409]{font-size:1.2em;font-weight:700}.thumbnail[data-v-8cad8409]{float:left;max-width:45%;max-height:200px;margin:0 6px 6px 0}.links[data-v-8cad8409]{margin-top:6px}img.iiif[data-v-8cad8409]{height:24px;cursor:copy}ul[data-v-8cad8409]{list-style:none;padding-left:12px;margin-top:0}.detail .label[data-v-8cad8409]{font-size:1.1em;font-weight:700;min-width:80px;margin-right:6px}.detail .label[data-v-8cad8409]:after{content:":"}.detail .value[data-v-8cad8409],.main .label[data-v-8cad8409]{white-space:pre-wrap;overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}.logo[data-v-8cad8409]{padding-right:6px}img.logo[data-v-8cad8409]{height:40px}.manifest-id[data-v-8cad8409],.manifest-label[data-v-8cad8409],.summary[data-v-8cad8409],.provider[data-v-8cad8409],.rights[data-v-8cad8409],.service[data-v-8cad8409],.imageData div[data-v-8cad8409],.thumbnail[data-v-8cad8409]{display:flex;align-items:flex-start}.metadata>ul[data-v-8cad8409],.requiredStatement ul[data-v-8cad8409]{padding-left:24px}.metadata ul li[data-v-8cad8409],.requiredStatement ul li[data-v-8cad8409]{display:flex}.metadata ul ul[data-v-8cad8409]{padding-left:0}a[data-v-8cad8409]:link,a[data-v-8cad8409]:visited{color:#00e}
`,l3=Ma(s3,[["styles",[a3]],["__scopeId","data-v-8cad8409"]]),c3={class:"hs-tooltip-toggle block text-center",href:"javascript:;",title:"Click for more information"},u3=Jt("div",{class:"icon-wrapper"},[Jt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[Jt("path",{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"})])],-1),h3={class:"hs-tooltip-content z-30 hs-tooltip-shown:opacity-100 hs-tooltip-shown:visible hidden opacity-0 transition-opacity absolute invisible max-w-xs bg-white border border-gray-100 text-left rounded-lg shadow-md dark:bg-gray-800 dark:border-gray-700",role:"tooltip"},d3={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},p3={class:"p-4 md:p-5"},f3=["manifest"],g3=hs({__name:"ManifestPopup.ce",props:{manifest:{type:Object,required:!0}},setup(n){const i=Oe(null),e=qr(()=>{var o;return(o=i==null?void 0:i.value)==null?void 0:o.parentNode});return ei(e,()=>{new zS(e.value).init()}),(o,l)=>(Ae(),Ne("div",{ref_key:"root",ref:i,class:"hs-tooltip inline-block [--trigger:click] [--placement:bottom]"},[Jt("a",c3,[u3,Jt("div",h3,[Jt("div",d3,[Jt("div",p3,[n.manifest?(Ae(),Ne("ez-manifest",{key:0,manifest:n.manifest},null,8,f3)):fi("",!0)])])])])],512))}}),m3=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}ez-header ul,ez-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}svg{filter:invert(100%) sepia(0%) saturate(7487%) hue-rotate(339deg) brightness(115%) contrast(100%)}.icon-wrapper{background:rgba(0,0,0,.4);width:28px;height:28px;border-radius:50%;text-align:center;vertical-align:middle;padding:5px}
`,v3=Ma(g3,[["styles",[m3]]]);var kv={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var h2;function VS(){return h2||(h2=1,function(n,i){(function(e,o){o(i)})(W1,function(e){var o="1.9.4";function l(d){var b,S,R,U;for(S=1,R=arguments.length;S<R;S++){U=arguments[S];for(b in U)d[b]=U[b]}return d}var u=Object.create||function(){function d(){}return function(b){return d.prototype=b,new d}}();function p(d,b){var S=Array.prototype.slice;if(d.bind)return d.bind.apply(d,S.call(arguments,1));var R=S.call(arguments,2);return function(){return d.apply(b,R.length?R.concat(S.call(arguments)):arguments)}}var f=0;function m(d){return"_leaflet_id"in d||(d._leaflet_id=++f),d._leaflet_id}function y(d,b,S){var R,U,rt,yt;return yt=function(){R=!1,U&&(rt.apply(S,U),U=!1)},rt=function(){R?U=arguments:(d.apply(S,arguments),setTimeout(yt,b),R=!0)},rt}function _(d,b,S){var R=b[1],U=b[0],rt=R-U;return d===R&&S?d:((d-U)%rt+rt)%rt+U}function E(){return!1}function C(d,b){if(b===!1)return d;var S=Math.pow(10,b===void 0?6:b);return Math.round(d*S)/S}function I(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")}function z(d){return I(d).split(/\s+/)}function B(d,b){Object.prototype.hasOwnProperty.call(d,"options")||(d.options=d.options?u(d.options):{});for(var S in b)d.options[S]=b[S];return d.options}function G(d,b,S){var R=[];for(var U in d)R.push(encodeURIComponent(S?U.toUpperCase():U)+"="+encodeURIComponent(d[U]));return(!b||b.indexOf("?")===-1?"?":"&")+R.join("&")}var H=/\{ *([\w_ -]+) *\}/g;function $(d,b){return d.replace(H,function(S,R){var U=b[R];if(U===void 0)throw new Error("No value provided for variable "+S);return typeof U=="function"&&(U=U(b)),U})}var j=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"};function V(d,b){for(var S=0;S<d.length;S++)if(d[S]===b)return S;return-1}var ot="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ft(d){return window["webkit"+d]||window["moz"+d]||window["ms"+d]}var ht=0;function ct(d){var b=+new Date,S=Math.max(0,16-(b-ht));return ht=b+S,window.setTimeout(d,S)}var Z=window.requestAnimationFrame||ft("RequestAnimationFrame")||ct,lt=window.cancelAnimationFrame||ft("CancelAnimationFrame")||ft("CancelRequestAnimationFrame")||function(d){window.clearTimeout(d)};function ut(d,b,S){if(S&&Z===ct)d.call(b);else return Z.call(window,p(d,b))}function mt(d){d&&lt.call(window,d)}var te={__proto__:null,extend:l,create:u,bind:p,get lastId(){return f},stamp:m,throttle:y,wrapNum:_,falseFn:E,formatNum:C,trim:I,splitWords:z,setOptions:B,getParamString:G,template:$,isArray:j,indexOf:V,emptyImageUrl:ot,requestFn:Z,cancelFn:lt,requestAnimFrame:ut,cancelAnimFrame:mt};function ne(){}ne.extend=function(d){var b=function(){B(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},S=b.__super__=this.prototype,R=u(S);R.constructor=b,b.prototype=R;for(var U in this)Object.prototype.hasOwnProperty.call(this,U)&&U!=="prototype"&&U!=="__super__"&&(b[U]=this[U]);return d.statics&&l(b,d.statics),d.includes&&(ye(d.includes),l.apply(null,[R].concat(d.includes))),l(R,d),delete R.statics,delete R.includes,R.options&&(R.options=S.options?u(S.options):{},l(R.options,d.options)),R._initHooks=[],R.callInitHooks=function(){if(!this._initHooksCalled){S.callInitHooks&&S.callInitHooks.call(this),this._initHooksCalled=!0;for(var rt=0,yt=R._initHooks.length;rt<yt;rt++)R._initHooks[rt].call(this)}},b},ne.include=function(d){var b=this.prototype.options;return l(this.prototype,d),d.options&&(this.prototype.options=b,this.mergeOptions(d.options)),this},ne.mergeOptions=function(d){return l(this.prototype.options,d),this},ne.addInitHook=function(d){var b=Array.prototype.slice.call(arguments,1),S=typeof d=="function"?d:function(){this[d].apply(this,b)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(S),this};function ye(d){if(!(typeof L>"u"||!L||!L.Mixin)){d=j(d)?d:[d];for(var b=0;b<d.length;b++)d[b]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Gt={on:function(d,b,S){if(typeof d=="object")for(var R in d)this._on(R,d[R],b);else{d=z(d);for(var U=0,rt=d.length;U<rt;U++)this._on(d[U],b,S)}return this},off:function(d,b,S){if(!arguments.length)delete this._events;else if(typeof d=="object")for(var R in d)this._off(R,d[R],b);else{d=z(d);for(var U=arguments.length===1,rt=0,yt=d.length;rt<yt;rt++)U?this._off(d[rt]):this._off(d[rt],b,S)}return this},_on:function(d,b,S,R){if(typeof b!="function"){console.warn("wrong listener type: "+typeof b);return}if(this._listens(d,b,S)===!1){S===this&&(S=void 0);var U={fn:b,ctx:S};R&&(U.once=!0),this._events=this._events||{},this._events[d]=this._events[d]||[],this._events[d].push(U)}},_off:function(d,b,S){var R,U,rt;if(this._events&&(R=this._events[d],!!R)){if(arguments.length===1){if(this._firingCount)for(U=0,rt=R.length;U<rt;U++)R[U].fn=E;delete this._events[d];return}if(typeof b!="function"){console.warn("wrong listener type: "+typeof b);return}var yt=this._listens(d,b,S);if(yt!==!1){var Lt=R[yt];this._firingCount&&(Lt.fn=E,this._events[d]=R=R.slice()),R.splice(yt,1)}}},fire:function(d,b,S){if(!this.listens(d,S))return this;var R=l({},b,{type:d,target:this,sourceTarget:b&&b.sourceTarget||this});if(this._events){var U=this._events[d];if(U){this._firingCount=this._firingCount+1||1;for(var rt=0,yt=U.length;rt<yt;rt++){var Lt=U[rt],Ht=Lt.fn;Lt.once&&this.off(d,Ht,Lt.ctx),Ht.call(Lt.ctx||this,R)}this._firingCount--}}return S&&this._propagateEvent(R),this},listens:function(d,b,S,R){typeof d!="string"&&console.warn('"string" type argument expected');var U=b;typeof b!="function"&&(R=!!b,U=void 0,S=void 0);var rt=this._events&&this._events[d];if(rt&&rt.length&&this._listens(d,U,S)!==!1)return!0;if(R){for(var yt in this._eventParents)if(this._eventParents[yt].listens(d,b,S,R))return!0}return!1},_listens:function(d,b,S){if(!this._events)return!1;var R=this._events[d]||[];if(!b)return!!R.length;S===this&&(S=void 0);for(var U=0,rt=R.length;U<rt;U++)if(R[U].fn===b&&R[U].ctx===S)return U;return!1},once:function(d,b,S){if(typeof d=="object")for(var R in d)this._on(R,d[R],b,!0);else{d=z(d);for(var U=0,rt=d.length;U<rt;U++)this._on(d[U],b,S,!0)}return this},addEventParent:function(d){return this._eventParents=this._eventParents||{},this._eventParents[m(d)]=d,this},removeEventParent:function(d){return this._eventParents&&delete this._eventParents[m(d)],this},_propagateEvent:function(d){for(var b in this._eventParents)this._eventParents[b].fire(d.type,l({layer:d.target,propagatedFrom:d.target},d),!0)}};Gt.addEventListener=Gt.on,Gt.removeEventListener=Gt.clearAllEventListeners=Gt.off,Gt.addOneTimeEventListener=Gt.once,Gt.fireEvent=Gt.fire,Gt.hasEventListeners=Gt.listens;var he=ne.extend(Gt);function Kt(d,b,S){this.x=S?Math.round(d):d,this.y=S?Math.round(b):b}var Je=Math.trunc||function(d){return d>0?Math.floor(d):Math.ceil(d)};Kt.prototype={clone:function(){return new Kt(this.x,this.y)},add:function(d){return this.clone()._add(kt(d))},_add:function(d){return this.x+=d.x,this.y+=d.y,this},subtract:function(d){return this.clone()._subtract(kt(d))},_subtract:function(d){return this.x-=d.x,this.y-=d.y,this},divideBy:function(d){return this.clone()._divideBy(d)},_divideBy:function(d){return this.x/=d,this.y/=d,this},multiplyBy:function(d){return this.clone()._multiplyBy(d)},_multiplyBy:function(d){return this.x*=d,this.y*=d,this},scaleBy:function(d){return new Kt(this.x*d.x,this.y*d.y)},unscaleBy:function(d){return new Kt(this.x/d.x,this.y/d.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Je(this.x),this.y=Je(this.y),this},distanceTo:function(d){d=kt(d);var b=d.x-this.x,S=d.y-this.y;return Math.sqrt(b*b+S*S)},equals:function(d){return d=kt(d),d.x===this.x&&d.y===this.y},contains:function(d){return d=kt(d),Math.abs(d.x)<=Math.abs(this.x)&&Math.abs(d.y)<=Math.abs(this.y)},toString:function(){return"Point("+C(this.x)+", "+C(this.y)+")"}};function kt(d,b,S){return d instanceof Kt?d:j(d)?new Kt(d[0],d[1]):d==null?d:typeof d=="object"&&"x"in d&&"y"in d?new Kt(d.x,d.y):new Kt(d,b,S)}function zt(d,b){if(d)for(var S=b?[d,b]:d,R=0,U=S.length;R<U;R++)this.extend(S[R])}zt.prototype={extend:function(d){var b,S;if(!d)return this;if(d instanceof Kt||typeof d[0]=="number"||"x"in d)b=S=kt(d);else if(d=Wt(d),b=d.min,S=d.max,!b||!S)return this;return!this.min&&!this.max?(this.min=b.clone(),this.max=S.clone()):(this.min.x=Math.min(b.x,this.min.x),this.max.x=Math.max(S.x,this.max.x),this.min.y=Math.min(b.y,this.min.y),this.max.y=Math.max(S.y,this.max.y)),this},getCenter:function(d){return kt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,d)},getBottomLeft:function(){return kt(this.min.x,this.max.y)},getTopRight:function(){return kt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(d){var b,S;return typeof d[0]=="number"||d instanceof Kt?d=kt(d):d=Wt(d),d instanceof zt?(b=d.min,S=d.max):b=S=d,b.x>=this.min.x&&S.x<=this.max.x&&b.y>=this.min.y&&S.y<=this.max.y},intersects:function(d){d=Wt(d);var b=this.min,S=this.max,R=d.min,U=d.max,rt=U.x>=b.x&&R.x<=S.x,yt=U.y>=b.y&&R.y<=S.y;return rt&&yt},overlaps:function(d){d=Wt(d);var b=this.min,S=this.max,R=d.min,U=d.max,rt=U.x>b.x&&R.x<S.x,yt=U.y>b.y&&R.y<S.y;return rt&&yt},isValid:function(){return!!(this.min&&this.max)},pad:function(d){var b=this.min,S=this.max,R=Math.abs(b.x-S.x)*d,U=Math.abs(b.y-S.y)*d;return Wt(kt(b.x-R,b.y-U),kt(S.x+R,S.y+U))},equals:function(d){return d?(d=Wt(d),this.min.equals(d.getTopLeft())&&this.max.equals(d.getBottomRight())):!1}};function Wt(d,b){return!d||d instanceof zt?d:new zt(d,b)}function ee(d,b){if(d)for(var S=b?[d,b]:d,R=0,U=S.length;R<U;R++)this.extend(S[R])}ee.prototype={extend:function(d){var b=this._southWest,S=this._northEast,R,U;if(d instanceof se)R=d,U=d;else if(d instanceof ee){if(R=d._southWest,U=d._northEast,!R||!U)return this}else return d?this.extend(ue(d)||ve(d)):this;return!b&&!S?(this._southWest=new se(R.lat,R.lng),this._northEast=new se(U.lat,U.lng)):(b.lat=Math.min(R.lat,b.lat),b.lng=Math.min(R.lng,b.lng),S.lat=Math.max(U.lat,S.lat),S.lng=Math.max(U.lng,S.lng)),this},pad:function(d){var b=this._southWest,S=this._northEast,R=Math.abs(b.lat-S.lat)*d,U=Math.abs(b.lng-S.lng)*d;return new ee(new se(b.lat-R,b.lng-U),new se(S.lat+R,S.lng+U))},getCenter:function(){return new se((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new se(this.getNorth(),this.getWest())},getSouthEast:function(){return new se(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(d){typeof d[0]=="number"||d instanceof se||"lat"in d?d=ue(d):d=ve(d);var b=this._southWest,S=this._northEast,R,U;return d instanceof ee?(R=d.getSouthWest(),U=d.getNorthEast()):R=U=d,R.lat>=b.lat&&U.lat<=S.lat&&R.lng>=b.lng&&U.lng<=S.lng},intersects:function(d){d=ve(d);var b=this._southWest,S=this._northEast,R=d.getSouthWest(),U=d.getNorthEast(),rt=U.lat>=b.lat&&R.lat<=S.lat,yt=U.lng>=b.lng&&R.lng<=S.lng;return rt&&yt},overlaps:function(d){d=ve(d);var b=this._southWest,S=this._northEast,R=d.getSouthWest(),U=d.getNorthEast(),rt=U.lat>b.lat&&R.lat<S.lat,yt=U.lng>b.lng&&R.lng<S.lng;return rt&&yt},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(d,b){return d?(d=ve(d),this._southWest.equals(d.getSouthWest(),b)&&this._northEast.equals(d.getNorthEast(),b)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ve(d,b){return d instanceof ee?d:new ee(d,b)}function se(d,b,S){if(isNaN(d)||isNaN(b))throw new Error("Invalid LatLng object: ("+d+", "+b+")");this.lat=+d,this.lng=+b,S!==void 0&&(this.alt=+S)}se.prototype={equals:function(d,b){if(!d)return!1;d=ue(d);var S=Math.max(Math.abs(this.lat-d.lat),Math.abs(this.lng-d.lng));return S<=(b===void 0?1e-9:b)},toString:function(d){return"LatLng("+C(this.lat,d)+", "+C(this.lng,d)+")"},distanceTo:function(d){return Ft.distance(this,ue(d))},wrap:function(){return Ft.wrapLatLng(this)},toBounds:function(d){var b=180*d/40075017,S=b/Math.cos(Math.PI/180*this.lat);return ve([this.lat-b,this.lng-S],[this.lat+b,this.lng+S])},clone:function(){return new se(this.lat,this.lng,this.alt)}};function ue(d,b,S){return d instanceof se?d:j(d)&&typeof d[0]!="object"?d.length===3?new se(d[0],d[1],d[2]):d.length===2?new se(d[0],d[1]):null:d==null?d:typeof d=="object"&&"lat"in d?new se(d.lat,"lng"in d?d.lng:d.lon,d.alt):b===void 0?null:new se(d,b,S)}var tr={latLngToPoint:function(d,b){var S=this.projection.project(d),R=this.scale(b);return this.transformation._transform(S,R)},pointToLatLng:function(d,b){var S=this.scale(b),R=this.transformation.untransform(d,S);return this.projection.unproject(R)},project:function(d){return this.projection.project(d)},unproject:function(d){return this.projection.unproject(d)},scale:function(d){return 256*Math.pow(2,d)},zoom:function(d){return Math.log(d/256)/Math.LN2},getProjectedBounds:function(d){if(this.infinite)return null;var b=this.projection.bounds,S=this.scale(d),R=this.transformation.transform(b.min,S),U=this.transformation.transform(b.max,S);return new zt(R,U)},infinite:!1,wrapLatLng:function(d){var b=this.wrapLng?_(d.lng,this.wrapLng,!0):d.lng,S=this.wrapLat?_(d.lat,this.wrapLat,!0):d.lat,R=d.alt;return new se(S,b,R)},wrapLatLngBounds:function(d){var b=d.getCenter(),S=this.wrapLatLng(b),R=b.lat-S.lat,U=b.lng-S.lng;if(R===0&&U===0)return d;var rt=d.getSouthWest(),yt=d.getNorthEast(),Lt=new se(rt.lat-R,rt.lng-U),Ht=new se(yt.lat-R,yt.lng-U);return new ee(Lt,Ht)}},Ft=l({},tr,{wrapLng:[-180,180],R:6371e3,distance:function(d,b){var S=Math.PI/180,R=d.lat*S,U=b.lat*S,rt=Math.sin((b.lat-d.lat)*S/2),yt=Math.sin((b.lng-d.lng)*S/2),Lt=rt*rt+Math.cos(R)*Math.cos(U)*yt*yt,Ht=2*Math.atan2(Math.sqrt(Lt),Math.sqrt(1-Lt));return this.R*Ht}}),qt=6378137,Zt={R:qt,MAX_LATITUDE:85.0511287798,project:function(d){var b=Math.PI/180,S=this.MAX_LATITUDE,R=Math.max(Math.min(S,d.lat),-S),U=Math.sin(R*b);return new Kt(this.R*d.lng*b,this.R*Math.log((1+U)/(1-U))/2)},unproject:function(d){var b=180/Math.PI;return new se((2*Math.atan(Math.exp(d.y/this.R))-Math.PI/2)*b,d.x*b/this.R)},bounds:function(){var d=qt*Math.PI;return new zt([-d,-d],[d,d])}()};function Xt(d,b,S,R){if(j(d)){this._a=d[0],this._b=d[1],this._c=d[2],this._d=d[3];return}this._a=d,this._b=b,this._c=S,this._d=R}Xt.prototype={transform:function(d,b){return this._transform(d.clone(),b)},_transform:function(d,b){return b=b||1,d.x=b*(this._a*d.x+this._b),d.y=b*(this._c*d.y+this._d),d},untransform:function(d,b){return b=b||1,new Kt((d.x/b-this._b)/this._a,(d.y/b-this._d)/this._c)}};function nt(d,b,S,R){return new Xt(d,b,S,R)}var pt=l({},Ft,{code:"EPSG:3857",projection:Zt,transformation:function(){var d=.5/(Math.PI*Zt.R);return nt(d,.5,-d,.5)}()}),vt=l({},pt,{code:"EPSG:900913"});function A(d){return document.createElementNS("http://www.w3.org/2000/svg",d)}function X(d,b){var S="",R,U,rt,yt,Lt,Ht;for(R=0,rt=d.length;R<rt;R++){for(Lt=d[R],U=0,yt=Lt.length;U<yt;U++)Ht=Lt[U],S+=(U?"L":"M")+Ht.x+" "+Ht.y;S+=b?Be.svg?"z":"x":""}return S||"M0 0"}var dt=document.documentElement.style,_t="ActiveXObject"in window,wt=_t&&!document.addEventListener,Ot="msLaunchUri"in navigator&&!("documentMode"in document),xt=Co("webkit"),$t=Co("android"),le=Co("android 2")||Co("android 3"),de=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ae=$t&&Co("Google")&&de<537&&!("AudioNode"in window),Me=!!window.opera,Ce=!Ot&&Co("chrome"),qe=Co("gecko")&&!xt&&!Me&&!_t,Q=!Ce&&Co("safari"),K=Co("phantom"),at="OTransition"in dt,st=navigator.platform.indexOf("Win")===0,Vt=_t&&"transition"in dt,re="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!le,ke="MozPerspective"in dt,ar=!window.L_DISABLE_3D&&(Vt||re||ke)&&!at&&!K,Fe=typeof orientation<"u"||Co("mobile"),jn=Fe&&xt,Bi=Fe&&re,fs=!window.PointerEvent&&window.MSPointerEvent,Ws=!!(window.PointerEvent||fs),ou="ontouchstart"in window||!!window.TouchEvent,Yi=!window.L_NO_TOUCH&&(ou||Ws),gy=Fe&&Me,su=Fe&&qe,my=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ec=function(){var d=!1;try{var b=Object.defineProperty({},"passive",{get:function(){d=!0}});window.addEventListener("testPassiveEventSupport",E,b),window.removeEventListener("testPassiveEventSupport",E,b)}catch{}return d}(),au=function(){return!!document.createElement("canvas").getContext}(),ul=!!(document.createElementNS&&A("svg").createSVGRect),jg=!!ul&&function(){var d=document.createElement("div");return d.innerHTML="<svg/>",(d.firstChild&&d.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Hg=!ul&&function(){try{var d=document.createElement("div");d.innerHTML='<v:shape adj="1"/>';var b=d.firstChild;return b.style.behavior="url(#default#VML)",b&&typeof b.adj=="object"}catch{return!1}}(),lp=navigator.platform.indexOf("Mac")===0,ph=navigator.platform.indexOf("Linux")===0;function Co(d){return navigator.userAgent.toLowerCase().indexOf(d)>=0}var Be={ie:_t,ielt9:wt,edge:Ot,webkit:xt,android:$t,android23:le,androidStock:ae,opera:Me,chrome:Ce,gecko:qe,safari:Q,phantom:K,opera12:at,win:st,ie3d:Vt,webkit3d:re,gecko3d:ke,any3d:ar,mobile:Fe,mobileWebkit:jn,mobileWebkit3d:Bi,msPointer:fs,pointer:Ws,touch:Yi,touchNative:ou,mobileOpera:gy,mobileGecko:su,retina:my,passiveEvents:ec,canvas:au,svg:ul,vml:Hg,inlineSvg:jg,mac:lp,linux:ph},hl=Be.msPointer?"MSPointerDown":"pointerdown",cp=Be.msPointer?"MSPointerMove":"pointermove",Vo=Be.msPointer?"MSPointerUp":"pointerup",lu=Be.msPointer?"MSPointerCancel":"pointercancel",fh={touchstart:hl,touchmove:cp,touchend:Vo,touchcancel:lu},Ug={touchstart:wy,touchmove:La,touchend:La,touchcancel:La},rc={},Gg=!1;function vy(d,b,S){return b==="touchstart"&&by(),Ug[b]?(S=Ug[b].bind(this,S),d.addEventListener(fh[b],S,!1),S):(console.warn("wrong event specified:",b),E)}function qg(d,b,S){if(!fh[b]){console.warn("wrong event specified:",b);return}d.removeEventListener(fh[b],S,!1)}function yy(d){rc[d.pointerId]=d}function Vg(d){rc[d.pointerId]&&(rc[d.pointerId]=d)}function up(d){delete rc[d.pointerId]}function by(){Gg||(document.addEventListener(hl,yy,!0),document.addEventListener(cp,Vg,!0),document.addEventListener(Vo,up,!0),document.addEventListener(lu,up,!0),Gg=!0)}function La(d,b){if(b.pointerType!==(b.MSPOINTER_TYPE_MOUSE||"mouse")){b.touches=[];for(var S in rc)b.touches.push(rc[S]);b.changedTouches=[b],d(b)}}function wy(d,b){b.MSPOINTER_TYPE_TOUCH&&b.pointerType===b.MSPOINTER_TYPE_TOUCH&&Ki(b),La(d,b)}function xy(d){var b={},S,R;for(R in d)S=d[R],b[R]=S&&S.bind?S.bind(d):S;return d=b,b.type="dblclick",b.detail=2,b.isTrusted=!1,b._simulated=!0,b}var gh=200;function Wg(d,b){d.addEventListener("dblclick",b);var S=0,R;function U(rt){if(rt.detail!==1){R=rt.detail;return}if(!(rt.pointerType==="mouse"||rt.sourceCapabilities&&!rt.sourceCapabilities.firesTouchEvents)){var yt=Kg(rt);if(!(yt.some(function(Ht){return Ht instanceof HTMLLabelElement&&Ht.attributes.for})&&!yt.some(function(Ht){return Ht instanceof HTMLInputElement||Ht instanceof HTMLSelectElement}))){var Lt=Date.now();Lt-S<=gh?(R++,R===2&&b(xy(rt))):R=1,S=Lt}}}return d.addEventListener("click",U),{dblclick:b,simDblclick:U}}function _y(d,b){d.removeEventListener("dblclick",b.dblclick),d.removeEventListener("click",b.simDblclick)}var mh=hu(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),cu=hu(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Zg=cu==="webkitTransition"||cu==="OTransition"?cu+"End":"transitionend";function Xg(d){return typeof d=="string"?document.getElementById(d):d}function ic(d,b){var S=d.style[b]||d.currentStyle&&d.currentStyle[b];if((!S||S==="auto")&&document.defaultView){var R=document.defaultView.getComputedStyle(d,null);S=R?R[b]:null}return S==="auto"?null:S}function ri(d,b,S){var R=document.createElement(d);return R.className=b||"",S&&S.appendChild(R),R}function ki(d){var b=d.parentNode;b&&b.removeChild(d)}function uu(d){for(;d.firstChild;)d.removeChild(d.firstChild)}function Ra(d){var b=d.parentNode;b&&b.lastChild!==d&&b.appendChild(d)}function Aa(d){var b=d.parentNode;b&&b.firstChild!==d&&b.insertBefore(d,b.firstChild)}function nc(d,b){if(d.classList!==void 0)return d.classList.contains(b);var S=oc(d);return S.length>0&&new RegExp("(^|\\s)"+b+"(\\s|$)").test(S)}function ur(d,b){if(d.classList!==void 0)for(var S=z(b),R=0,U=S.length;R<U;R++)d.classList.add(S[R]);else if(!nc(d,b)){var rt=oc(d);vh(d,(rt?rt+" ":"")+b)}}function Qe(d,b){d.classList!==void 0?d.classList.remove(b):vh(d,I((" "+oc(d)+" ").replace(" "+b+" "," ")))}function vh(d,b){d.className.baseVal===void 0?d.className=b:d.className.baseVal=b}function oc(d){return d.correspondingElement&&(d=d.correspondingElement),d.className.baseVal===void 0?d.className:d.className.baseVal}function nr(d,b){"opacity"in d.style?d.style.opacity=b:"filter"in d.style&&Yg(d,b)}function Yg(d,b){var S=!1,R="DXImageTransform.Microsoft.Alpha";try{S=d.filters.item(R)}catch{if(b===1)return}b=Math.round(b*100),S?(S.Enabled=b!==100,S.Opacity=b):d.style.filter+=" progid:"+R+"(opacity="+b+")"}function hu(d){for(var b=document.documentElement.style,S=0;S<d.length;S++)if(d[S]in b)return d[S];return!1}function dl(d,b,S){var R=b||new Kt(0,0);d.style[mh]=(Be.ie3d?"translate("+R.x+"px,"+R.y+"px)":"translate3d("+R.x+"px,"+R.y+"px,0)")+(S?" scale("+S+")":"")}function Xi(d,b){d._leaflet_pos=b,Be.any3d?dl(d,b):(d.style.left=b.x+"px",d.style.top=b.y+"px")}function Ci(d){return d._leaflet_pos||new Kt(0,0)}var sc,ac,du;if("onselectstart"in document)sc=function(){sr(window,"selectstart",Ki)},ac=function(){hi(window,"selectstart",Ki)};else{var lc=hu(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);sc=function(){if(lc){var d=document.documentElement.style;du=d[lc],d[lc]="none"}},ac=function(){lc&&(document.documentElement.style[lc]=du,du=void 0)}}function hp(){sr(window,"dragstart",Ki)}function cc(){hi(window,"dragstart",Ki)}var yh,bh;function dp(d){for(;d.tabIndex===-1;)d=d.parentNode;d.style&&(wh(),yh=d,bh=d.style.outlineStyle,d.style.outlineStyle="none",sr(window,"keydown",wh))}function wh(){yh&&(yh.style.outlineStyle=bh,yh=void 0,bh=void 0,hi(window,"keydown",wh))}function pu(d){do d=d.parentNode;while((!d.offsetWidth||!d.offsetHeight)&&d!==document.body);return d}function fu(d){var b=d.getBoundingClientRect();return{x:b.width/d.offsetWidth||1,y:b.height/d.offsetHeight||1,boundingClientRect:b}}var pl={__proto__:null,TRANSFORM:mh,TRANSITION:cu,TRANSITION_END:Zg,get:Xg,getStyle:ic,create:ri,remove:ki,empty:uu,toFront:Ra,toBack:Aa,hasClass:nc,addClass:ur,removeClass:Qe,setClass:vh,getClass:oc,setOpacity:nr,testProp:hu,setTransform:dl,setPosition:Xi,getPosition:Ci,get disableTextSelection(){return sc},get enableTextSelection(){return ac},disableImageDrag:hp,enableImageDrag:cc,preventOutline:dp,restoreOutline:wh,getSizedParentNode:pu,getScale:fu};function sr(d,b,S,R){if(b&&typeof b=="object")for(var U in b)fp(d,U,b[U],S);else{b=z(b);for(var rt=0,yt=b.length;rt<yt;rt++)fp(d,b[rt],S,R)}return this}var Wo="_leaflet_events";function hi(d,b,S,R){if(arguments.length===1)xh(d),delete d[Wo];else if(b&&typeof b=="object")for(var U in b)gu(d,U,b[U],S);else if(b=z(b),arguments.length===2)xh(d,function(Lt){return V(b,Lt)!==-1});else for(var rt=0,yt=b.length;rt<yt;rt++)gu(d,b[rt],S,R);return this}function xh(d,b){for(var S in d[Wo]){var R=S.split(/\d/)[0];(!b||b(R))&&gu(d,R,null,null,S)}}var pp={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function fp(d,b,S,R){var U=b+m(S)+(R?"_"+m(R):"");if(d[Wo]&&d[Wo][U])return this;var rt=function(Lt){return S.call(R||d,Lt||window.event)},yt=rt;!Be.touchNative&&Be.pointer&&b.indexOf("touch")===0?rt=vy(d,b,rt):Be.touch&&b==="dblclick"?rt=Wg(d,rt):"addEventListener"in d?b==="touchstart"||b==="touchmove"||b==="wheel"||b==="mousewheel"?d.addEventListener(pp[b]||b,rt,Be.passiveEvents?{passive:!1}:!1):b==="mouseenter"||b==="mouseleave"?(rt=function(Lt){Lt=Lt||window.event,Zs(d,Lt)&&yt(Lt)},d.addEventListener(pp[b],rt,!1)):d.addEventListener(b,yt,!1):d.attachEvent("on"+b,rt),d[Wo]=d[Wo]||{},d[Wo][U]=rt}function gu(d,b,S,R,U){U=U||b+m(S)+(R?"_"+m(R):"");var rt=d[Wo]&&d[Wo][U];if(!rt)return this;!Be.touchNative&&Be.pointer&&b.indexOf("touch")===0?qg(d,b,rt):Be.touch&&b==="dblclick"?_y(d,rt):"removeEventListener"in d?d.removeEventListener(pp[b]||b,rt,!1):d.detachEvent("on"+b,rt),d[Wo][U]=null}function fl(d){return d.stopPropagation?d.stopPropagation():d.originalEvent?d.originalEvent._stopped=!0:d.cancelBubble=!0,this}function gp(d){return fp(d,"wheel",fl),this}function uc(d){return sr(d,"mousedown touchstart dblclick contextmenu",fl),d._leaflet_disable_click=!0,this}function Ki(d){return d.preventDefault?d.preventDefault():d.returnValue=!1,this}function gl(d){return Ki(d),fl(d),this}function Kg(d){if(d.composedPath)return d.composedPath();for(var b=[],S=d.target;S;)b.push(S),S=S.parentNode;return b}function Jg(d,b){if(!b)return new Kt(d.clientX,d.clientY);var S=fu(b),R=S.boundingClientRect;return new Kt((d.clientX-R.left)/S.x-b.clientLeft,(d.clientY-R.top)/S.y-b.clientTop)}var ky=Be.linux&&Be.chrome?window.devicePixelRatio:Be.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Qg(d){return Be.edge?d.wheelDeltaY/2:d.deltaY&&d.deltaMode===0?-d.deltaY/ky:d.deltaY&&d.deltaMode===1?-d.deltaY*20:d.deltaY&&d.deltaMode===2?-d.deltaY*60:d.deltaX||d.deltaZ?0:d.wheelDelta?(d.wheelDeltaY||d.wheelDelta)/2:d.detail&&Math.abs(d.detail)<32765?-d.detail*20:d.detail?d.detail/-32765*60:0}function Zs(d,b){var S=b.relatedTarget;if(!S)return!0;try{for(;S&&S!==d;)S=S.parentNode}catch{return!1}return S!==d}var mp={__proto__:null,on:sr,off:hi,stopPropagation:fl,disableScrollPropagation:gp,disableClickPropagation:uc,preventDefault:Ki,stop:gl,getPropagationPath:Kg,getMousePosition:Jg,getWheelDelta:Qg,isExternalTarget:Zs,addListener:sr,removeListener:hi},vp=he.extend({run:function(d,b,S,R){this.stop(),this._el=d,this._inProgress=!0,this._duration=S||.25,this._easeOutPower=1/Math.max(R||.5,.2),this._startPos=Ci(d),this._offset=b.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ut(this._animate,this),this._step()},_step:function(d){var b=+new Date-this._startTime,S=this._duration*1e3;b<S?this._runFrame(this._easeOut(b/S),d):(this._runFrame(1),this._complete())},_runFrame:function(d,b){var S=this._startPos.add(this._offset.multiplyBy(d));b&&S._round(),Xi(this._el,S),this.fire("step")},_complete:function(){mt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(d){return 1-Math.pow(1-d,this._easeOutPower)}}),Xr=he.extend({options:{crs:pt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(d,b){b=B(this,b),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(d),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),b.maxBounds&&this.setMaxBounds(b.maxBounds),b.zoom!==void 0&&(this._zoom=this._limitZoom(b.zoom)),b.center&&b.zoom!==void 0&&this.setView(ue(b.center),b.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=cu&&Be.any3d&&!Be.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),sr(this._proxy,Zg,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(d,b,S){if(b=b===void 0?this._zoom:this._limitZoom(b),d=this._limitCenter(ue(d),b,this.options.maxBounds),S=S||{},this._stop(),this._loaded&&!S.reset&&S!==!0){S.animate!==void 0&&(S.zoom=l({animate:S.animate},S.zoom),S.pan=l({animate:S.animate,duration:S.duration},S.pan));var R=this._zoom!==b?this._tryAnimatedZoom&&this._tryAnimatedZoom(d,b,S.zoom):this._tryAnimatedPan(d,S.pan);if(R)return clearTimeout(this._sizeTimer),this}return this._resetView(d,b,S.pan&&S.pan.noMoveStart),this},setZoom:function(d,b){return this._loaded?this.setView(this.getCenter(),d,{zoom:b}):(this._zoom=d,this)},zoomIn:function(d,b){return d=d||(Be.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+d,b)},zoomOut:function(d,b){return d=d||(Be.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-d,b)},setZoomAround:function(d,b,S){var R=this.getZoomScale(b),U=this.getSize().divideBy(2),rt=d instanceof Kt?d:this.latLngToContainerPoint(d),yt=rt.subtract(U).multiplyBy(1-1/R),Lt=this.containerPointToLatLng(U.add(yt));return this.setView(Lt,b,{zoom:S})},_getBoundsCenterZoom:function(d,b){b=b||{},d=d.getBounds?d.getBounds():ve(d);var S=kt(b.paddingTopLeft||b.padding||[0,0]),R=kt(b.paddingBottomRight||b.padding||[0,0]),U=this.getBoundsZoom(d,!1,S.add(R));if(U=typeof b.maxZoom=="number"?Math.min(b.maxZoom,U):U,U===1/0)return{center:d.getCenter(),zoom:U};var rt=R.subtract(S).divideBy(2),yt=this.project(d.getSouthWest(),U),Lt=this.project(d.getNorthEast(),U),Ht=this.unproject(yt.add(Lt).divideBy(2).add(rt),U);return{center:Ht,zoom:U}},fitBounds:function(d,b){if(d=ve(d),!d.isValid())throw new Error("Bounds are not valid.");var S=this._getBoundsCenterZoom(d,b);return this.setView(S.center,S.zoom,b)},fitWorld:function(d){return this.fitBounds([[-90,-180],[90,180]],d)},panTo:function(d,b){return this.setView(d,this._zoom,{pan:b})},panBy:function(d,b){if(d=kt(d).round(),b=b||{},!d.x&&!d.y)return this.fire("moveend");if(b.animate!==!0&&!this.getSize().contains(d))return this._resetView(this.unproject(this.project(this.getCenter()).add(d)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new vp,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),b.noMoveStart||this.fire("movestart"),b.animate!==!1){ur(this._mapPane,"leaflet-pan-anim");var S=this._getMapPanePos().subtract(d).round();this._panAnim.run(this._mapPane,S,b.duration||.25,b.easeLinearity)}else this._rawPanBy(d),this.fire("move").fire("moveend");return this},flyTo:function(d,b,S){if(S=S||{},S.animate===!1||!Be.any3d)return this.setView(d,b,S);this._stop();var R=this.project(this.getCenter()),U=this.project(d),rt=this.getSize(),yt=this._zoom;d=ue(d),b=b===void 0?yt:b;var Lt=Math.max(rt.x,rt.y),Ht=Lt*this.getZoomScale(yt,b),Qt=U.distanceTo(R)||1,xe=1.42,Ye=xe*xe;function dr(ji){var Tu=ji?-1:1,wm=ji?Ht:Lt,bc=Ht*Ht-Lt*Lt+Tu*Ye*Ye*Qt*Qt,xm=2*wm*Ye*Qt,Uh=bc/xm,Fp=Math.sqrt(Uh*Uh+1)-Uh,Tl=Fp<1e-9?-18:Math.log(Fp);return Tl}function Pn(ji){return(Math.exp(ji)-Math.exp(-ji))/2}function Qi(ji){return(Math.exp(ji)+Math.exp(-ji))/2}function Mn(ji){return Pn(ji)/Qi(ji)}var Un=dr(0);function kl(ji){return Lt*(Qi(Un)/Qi(Un+xe*ji))}function mm(ji){return Lt*(Qi(Un)*Mn(Un+xe*ji)-Pn(Un))/Ye}function vm(ji){return 1-Math.pow(1-ji,1.5)}var ym=Date.now(),bm=(dr(1)-Un)/xe,Dp=S.duration?1e3*S.duration:1e3*bm*.8;function El(){var ji=(Date.now()-ym)/Dp,Tu=vm(ji)*bm;ji<=1?(this._flyToFrame=ut(El,this),this._move(this.unproject(R.add(U.subtract(R).multiplyBy(mm(Tu)/Qt)),yt),this.getScaleZoom(Lt/kl(Tu),yt),{flyTo:!0})):this._move(d,b)._moveEnd(!0)}return this._moveStart(!0,S.noMoveStart),El.call(this),this},flyToBounds:function(d,b){var S=this._getBoundsCenterZoom(d,b);return this.flyTo(S.center,S.zoom,b)},setMaxBounds:function(d){return d=ve(d),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),d.isValid()?(this.options.maxBounds=d,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(d){var b=this.options.minZoom;return this.options.minZoom=d,this._loaded&&b!==d&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(d):this},setMaxZoom:function(d){var b=this.options.maxZoom;return this.options.maxZoom=d,this._loaded&&b!==d&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(d):this},panInsideBounds:function(d,b){this._enforcingBounds=!0;var S=this.getCenter(),R=this._limitCenter(S,this._zoom,ve(d));return S.equals(R)||this.panTo(R,b),this._enforcingBounds=!1,this},panInside:function(d,b){b=b||{};var S=kt(b.paddingTopLeft||b.padding||[0,0]),R=kt(b.paddingBottomRight||b.padding||[0,0]),U=this.project(this.getCenter()),rt=this.project(d),yt=this.getPixelBounds(),Lt=Wt([yt.min.add(S),yt.max.subtract(R)]),Ht=Lt.getSize();if(!Lt.contains(rt)){this._enforcingBounds=!0;var Qt=rt.subtract(Lt.getCenter()),xe=Lt.extend(rt).getSize().subtract(Ht);U.x+=Qt.x<0?-xe.x:xe.x,U.y+=Qt.y<0?-xe.y:xe.y,this.panTo(this.unproject(U),b),this._enforcingBounds=!1}return this},invalidateSize:function(d){if(!this._loaded)return this;d=l({animate:!1,pan:!0},d===!0?{animate:!0}:d);var b=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var S=this.getSize(),R=b.divideBy(2).round(),U=S.divideBy(2).round(),rt=R.subtract(U);return!rt.x&&!rt.y?this:(d.animate&&d.pan?this.panBy(rt):(d.pan&&this._rawPanBy(rt),this.fire("move"),d.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:b,newSize:S}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(d){if(d=this._locateOptions=l({timeout:1e4,watch:!1},d),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var b=p(this._handleGeolocationResponse,this),S=p(this._handleGeolocationError,this);return d.watch?this._locationWatchId=navigator.geolocation.watchPosition(b,S,d):navigator.geolocation.getCurrentPosition(b,S,d),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(d){if(this._container._leaflet_id){var b=d.code,S=d.message||(b===1?"permission denied":b===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:b,message:"Geolocation error: "+S+"."})}},_handleGeolocationResponse:function(d){if(this._container._leaflet_id){var b=d.coords.latitude,S=d.coords.longitude,R=new se(b,S),U=R.toBounds(d.coords.accuracy*2),rt=this._locateOptions;if(rt.setView){var yt=this.getBoundsZoom(U);this.setView(R,rt.maxZoom?Math.min(yt,rt.maxZoom):yt)}var Lt={latlng:R,bounds:U,timestamp:d.timestamp};for(var Ht in d.coords)typeof d.coords[Ht]=="number"&&(Lt[Ht]=d.coords[Ht]);this.fire("locationfound",Lt)}},addHandler:function(d,b){if(!b)return this;var S=this[d]=new b(this);return this._handlers.push(S),this.options[d]&&S.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ki(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(mt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var d;for(d in this._layers)this._layers[d].remove();for(d in this._panes)ki(this._panes[d]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(d,b){var S="leaflet-pane"+(d?" leaflet-"+d.replace("Pane","")+"-pane":""),R=ri("div",S,b||this._mapPane);return d&&(this._panes[d]=R),R},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var d=this.getPixelBounds(),b=this.unproject(d.getBottomLeft()),S=this.unproject(d.getTopRight());return new ee(b,S)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(d,b,S){d=ve(d),S=kt(S||[0,0]);var R=this.getZoom()||0,U=this.getMinZoom(),rt=this.getMaxZoom(),yt=d.getNorthWest(),Lt=d.getSouthEast(),Ht=this.getSize().subtract(S),Qt=Wt(this.project(Lt,R),this.project(yt,R)).getSize(),xe=Be.any3d?this.options.zoomSnap:1,Ye=Ht.x/Qt.x,dr=Ht.y/Qt.y,Pn=b?Math.max(Ye,dr):Math.min(Ye,dr);return R=this.getScaleZoom(Pn,R),xe&&(R=Math.round(R/(xe/100))*(xe/100),R=b?Math.ceil(R/xe)*xe:Math.floor(R/xe)*xe),Math.max(U,Math.min(rt,R))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Kt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(d,b){var S=this._getTopLeftPoint(d,b);return new zt(S,S.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(d){return this.options.crs.getProjectedBounds(d===void 0?this.getZoom():d)},getPane:function(d){return typeof d=="string"?this._panes[d]:d},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(d,b){var S=this.options.crs;return b=b===void 0?this._zoom:b,S.scale(d)/S.scale(b)},getScaleZoom:function(d,b){var S=this.options.crs;b=b===void 0?this._zoom:b;var R=S.zoom(d*S.scale(b));return isNaN(R)?1/0:R},project:function(d,b){return b=b===void 0?this._zoom:b,this.options.crs.latLngToPoint(ue(d),b)},unproject:function(d,b){return b=b===void 0?this._zoom:b,this.options.crs.pointToLatLng(kt(d),b)},layerPointToLatLng:function(d){var b=kt(d).add(this.getPixelOrigin());return this.unproject(b)},latLngToLayerPoint:function(d){var b=this.project(ue(d))._round();return b._subtract(this.getPixelOrigin())},wrapLatLng:function(d){return this.options.crs.wrapLatLng(ue(d))},wrapLatLngBounds:function(d){return this.options.crs.wrapLatLngBounds(ve(d))},distance:function(d,b){return this.options.crs.distance(ue(d),ue(b))},containerPointToLayerPoint:function(d){return kt(d).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(d){return kt(d).add(this._getMapPanePos())},containerPointToLatLng:function(d){var b=this.containerPointToLayerPoint(kt(d));return this.layerPointToLatLng(b)},latLngToContainerPoint:function(d){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ue(d)))},mouseEventToContainerPoint:function(d){return Jg(d,this._container)},mouseEventToLayerPoint:function(d){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(d))},mouseEventToLatLng:function(d){return this.layerPointToLatLng(this.mouseEventToLayerPoint(d))},_initContainer:function(d){var b=this._container=Xg(d);if(b){if(b._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");sr(b,"scroll",this._onScroll,this),this._containerId=m(b)},_initLayout:function(){var d=this._container;this._fadeAnimated=this.options.fadeAnimation&&Be.any3d,ur(d,"leaflet-container"+(Be.touch?" leaflet-touch":"")+(Be.retina?" leaflet-retina":"")+(Be.ielt9?" leaflet-oldie":"")+(Be.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var b=ic(d,"position");b!=="absolute"&&b!=="relative"&&b!=="fixed"&&b!=="sticky"&&(d.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var d=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Xi(this._mapPane,new Kt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ur(d.markerPane,"leaflet-zoom-hide"),ur(d.shadowPane,"leaflet-zoom-hide"))},_resetView:function(d,b,S){Xi(this._mapPane,new Kt(0,0));var R=!this._loaded;this._loaded=!0,b=this._limitZoom(b),this.fire("viewprereset");var U=this._zoom!==b;this._moveStart(U,S)._move(d,b)._moveEnd(U),this.fire("viewreset"),R&&this.fire("load")},_moveStart:function(d,b){return d&&this.fire("zoomstart"),b||this.fire("movestart"),this},_move:function(d,b,S,R){b===void 0&&(b=this._zoom);var U=this._zoom!==b;return this._zoom=b,this._lastCenter=d,this._pixelOrigin=this._getNewPixelOrigin(d),R?S&&S.pinch&&this.fire("zoom",S):((U||S&&S.pinch)&&this.fire("zoom",S),this.fire("move",S)),this},_moveEnd:function(d){return d&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return mt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(d){Xi(this._mapPane,this._getMapPanePos().subtract(d))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(d){this._targets={},this._targets[m(this._container)]=this;var b=d?hi:sr;b(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&b(window,"resize",this._onResize,this),Be.any3d&&this.options.transform3DLimit&&(d?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){mt(this._resizeRequest),this._resizeRequest=ut(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var d=this._getMapPanePos();Math.max(Math.abs(d.x),Math.abs(d.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(d,b){for(var S=[],R,U=b==="mouseout"||b==="mouseover",rt=d.target||d.srcElement,yt=!1;rt;){if(R=this._targets[m(rt)],R&&(b==="click"||b==="preclick")&&this._draggableMoved(R)){yt=!0;break}if(R&&R.listens(b,!0)&&(U&&!Zs(rt,d)||(S.push(R),U))||rt===this._container)break;rt=rt.parentNode}return!S.length&&!yt&&!U&&this.listens(b,!0)&&(S=[this]),S},_isClickDisabled:function(d){for(;d&&d!==this._container;){if(d._leaflet_disable_click)return!0;d=d.parentNode}},_handleDOMEvent:function(d){var b=d.target||d.srcElement;if(!(!this._loaded||b._leaflet_disable_events||d.type==="click"&&this._isClickDisabled(b))){var S=d.type;S==="mousedown"&&dp(b),this._fireDOMEvent(d,S)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(d,b,S){if(d.type==="click"){var R=l({},d);R.type="preclick",this._fireDOMEvent(R,R.type,S)}var U=this._findEventTargets(d,b);if(S){for(var rt=[],yt=0;yt<S.length;yt++)S[yt].listens(b,!0)&&rt.push(S[yt]);U=rt.concat(U)}if(U.length){b==="contextmenu"&&Ki(d);var Lt=U[0],Ht={originalEvent:d};if(d.type!=="keypress"&&d.type!=="keydown"&&d.type!=="keyup"){var Qt=Lt.getLatLng&&(!Lt._radius||Lt._radius<=10);Ht.containerPoint=Qt?this.latLngToContainerPoint(Lt.getLatLng()):this.mouseEventToContainerPoint(d),Ht.layerPoint=this.containerPointToLayerPoint(Ht.containerPoint),Ht.latlng=Qt?Lt.getLatLng():this.layerPointToLatLng(Ht.layerPoint)}for(yt=0;yt<U.length;yt++)if(U[yt].fire(b,Ht,!0),Ht.originalEvent._stopped||U[yt].options.bubblingMouseEvents===!1&&V(this._mouseEvents,b)!==-1)return}},_draggableMoved:function(d){return d=d.dragging&&d.dragging.enabled()?d:this,d.dragging&&d.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var d=0,b=this._handlers.length;d<b;d++)this._handlers[d].disable()},whenReady:function(d,b){return this._loaded?d.call(b||this,{target:this}):this.on("load",d,b),this},_getMapPanePos:function(){return Ci(this._mapPane)||new Kt(0,0)},_moved:function(){var d=this._getMapPanePos();return d&&!d.equals([0,0])},_getTopLeftPoint:function(d,b){var S=d&&b!==void 0?this._getNewPixelOrigin(d,b):this.getPixelOrigin();return S.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(d,b){var S=this.getSize()._divideBy(2);return this.project(d,b)._subtract(S)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(d,b,S){var R=this._getNewPixelOrigin(S,b);return this.project(d,b)._subtract(R)},_latLngBoundsToNewLayerBounds:function(d,b,S){var R=this._getNewPixelOrigin(S,b);return Wt([this.project(d.getSouthWest(),b)._subtract(R),this.project(d.getNorthWest(),b)._subtract(R),this.project(d.getSouthEast(),b)._subtract(R),this.project(d.getNorthEast(),b)._subtract(R)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(d){return this.latLngToLayerPoint(d).subtract(this._getCenterLayerPoint())},_limitCenter:function(d,b,S){if(!S)return d;var R=this.project(d,b),U=this.getSize().divideBy(2),rt=new zt(R.subtract(U),R.add(U)),yt=this._getBoundsOffset(rt,S,b);return Math.abs(yt.x)<=1&&Math.abs(yt.y)<=1?d:this.unproject(R.add(yt),b)},_limitOffset:function(d,b){if(!b)return d;var S=this.getPixelBounds(),R=new zt(S.min.add(d),S.max.add(d));return d.add(this._getBoundsOffset(R,b))},_getBoundsOffset:function(d,b,S){var R=Wt(this.project(b.getNorthEast(),S),this.project(b.getSouthWest(),S)),U=R.min.subtract(d.min),rt=R.max.subtract(d.max),yt=this._rebound(U.x,-rt.x),Lt=this._rebound(U.y,-rt.y);return new Kt(yt,Lt)},_rebound:function(d,b){return d+b>0?Math.round(d-b)/2:Math.max(0,Math.ceil(d))-Math.max(0,Math.floor(b))},_limitZoom:function(d){var b=this.getMinZoom(),S=this.getMaxZoom(),R=Be.any3d?this.options.zoomSnap:1;return R&&(d=Math.round(d/R)*R),Math.max(b,Math.min(S,d))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Qe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(d,b){var S=this._getCenterOffset(d)._trunc();return(b&&b.animate)!==!0&&!this.getSize().contains(S)?!1:(this.panBy(S,b),!0)},_createAnimProxy:function(){var d=this._proxy=ri("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(d),this.on("zoomanim",function(b){var S=mh,R=this._proxy.style[S];dl(this._proxy,this.project(b.center,b.zoom),this.getZoomScale(b.zoom,1)),R===this._proxy.style[S]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ki(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var d=this.getCenter(),b=this.getZoom();dl(this._proxy,this.project(d,b),this.getZoomScale(b,1))},_catchTransitionEnd:function(d){this._animatingZoom&&d.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(d,b,S){if(this._animatingZoom)return!0;if(S=S||{},!this._zoomAnimated||S.animate===!1||this._nothingToAnimate()||Math.abs(b-this._zoom)>this.options.zoomAnimationThreshold)return!1;var R=this.getZoomScale(b),U=this._getCenterOffset(d)._divideBy(1-1/R);return S.animate!==!0&&!this.getSize().contains(U)?!1:(ut(function(){this._moveStart(!0,S.noMoveStart||!1)._animateZoom(d,b,!0)},this),!0)},_animateZoom:function(d,b,S,R){this._mapPane&&(S&&(this._animatingZoom=!0,this._animateToCenter=d,this._animateToZoom=b,ur(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:d,zoom:b,noUpdate:R}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Qe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ey(d,b){return new Xr(d,b)}var uo=ne.extend({options:{position:"topright"},initialize:function(d){B(this,d)},getPosition:function(){return this.options.position},setPosition:function(d){var b=this._map;return b&&b.removeControl(this),this.options.position=d,b&&b.addControl(this),this},getContainer:function(){return this._container},addTo:function(d){this.remove(),this._map=d;var b=this._container=this.onAdd(d),S=this.getPosition(),R=d._controlCorners[S];return ur(b,"leaflet-control"),S.indexOf("bottom")!==-1?R.insertBefore(b,R.firstChild):R.appendChild(b),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ki(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(d){this._map&&d&&d.screenX>0&&d.screenY>0&&this._map.getContainer().focus()}}),mu=function(d){return new uo(d)};Xr.include({addControl:function(d){return d.addTo(this),this},removeControl:function(d){return d.remove(),this},_initControlPos:function(){var d=this._controlCorners={},b="leaflet-",S=this._controlContainer=ri("div",b+"control-container",this._container);function R(U,rt){var yt=b+U+" "+b+rt;d[U+rt]=ri("div",yt,S)}R("top","left"),R("top","right"),R("bottom","left"),R("bottom","right")},_clearControlPos:function(){for(var d in this._controlCorners)ki(this._controlCorners[d]);ki(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var _h=uo.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(d,b,S,R){return S<R?-1:R<S?1:0}},initialize:function(d,b,S){B(this,S),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var R in d)this._addLayer(d[R],R);for(R in b)this._addLayer(b[R],R,!0)},onAdd:function(d){this._initLayout(),this._update(),this._map=d,d.on("zoomend",this._checkDisabledLayers,this);for(var b=0;b<this._layers.length;b++)this._layers[b].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(d){return uo.prototype.addTo.call(this,d),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(d,b){return this._addLayer(d,b),this._map?this._update():this},addOverlay:function(d,b){return this._addLayer(d,b,!0),this._map?this._update():this},removeLayer:function(d){d.off("add remove",this._onLayerChange,this);var b=this._getLayer(m(d));return b&&this._layers.splice(this._layers.indexOf(b),1),this._map?this._update():this},expand:function(){ur(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var d=this._map.getSize().y-(this._container.offsetTop+50);return d<this._section.clientHeight?(ur(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=d+"px"):Qe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Qe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var d="leaflet-control-layers",b=this._container=ri("div",d),S=this.options.collapsed;b.setAttribute("aria-haspopup",!0),uc(b),gp(b);var R=this._section=ri("section",d+"-list");S&&(this._map.on("click",this.collapse,this),sr(b,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var U=this._layersLink=ri("a",d+"-toggle",b);U.href="#",U.title="Layers",U.setAttribute("role","button"),sr(U,{keydown:function(rt){rt.keyCode===13&&this._expandSafely()},click:function(rt){Ki(rt),this._expandSafely()}},this),S||this.expand(),this._baseLayersList=ri("div",d+"-base",R),this._separator=ri("div",d+"-separator",R),this._overlaysList=ri("div",d+"-overlays",R),b.appendChild(R)},_getLayer:function(d){for(var b=0;b<this._layers.length;b++)if(this._layers[b]&&m(this._layers[b].layer)===d)return this._layers[b]},_addLayer:function(d,b,S){this._map&&d.on("add remove",this._onLayerChange,this),this._layers.push({layer:d,name:b,overlay:S}),this.options.sortLayers&&this._layers.sort(p(function(R,U){return this.options.sortFunction(R.layer,U.layer,R.name,U.name)},this)),this.options.autoZIndex&&d.setZIndex&&(this._lastZIndex++,d.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;uu(this._baseLayersList),uu(this._overlaysList),this._layerControlInputs=[];var d,b,S,R,U=0;for(S=0;S<this._layers.length;S++)R=this._layers[S],this._addItem(R),b=b||R.overlay,d=d||!R.overlay,U+=R.overlay?0:1;return this.options.hideSingleBase&&(d=d&&U>1,this._baseLayersList.style.display=d?"":"none"),this._separator.style.display=b&&d?"":"none",this},_onLayerChange:function(d){this._handlingClick||this._update();var b=this._getLayer(m(d.target)),S=b.overlay?d.type==="add"?"overlayadd":"overlayremove":d.type==="add"?"baselayerchange":null;S&&this._map.fire(S,b)},_createRadioElement:function(d,b){var S='<input type="radio" class="leaflet-control-layers-selector" name="'+d+'"'+(b?' checked="checked"':"")+"/>",R=document.createElement("div");return R.innerHTML=S,R.firstChild},_addItem:function(d){var b=document.createElement("label"),S=this._map.hasLayer(d.layer),R;d.overlay?(R=document.createElement("input"),R.type="checkbox",R.className="leaflet-control-layers-selector",R.defaultChecked=S):R=this._createRadioElement("leaflet-base-layers_"+m(this),S),this._layerControlInputs.push(R),R.layerId=m(d.layer),sr(R,"click",this._onInputClick,this);var U=document.createElement("span");U.innerHTML=" "+d.name;var rt=document.createElement("span");b.appendChild(rt),rt.appendChild(R),rt.appendChild(U);var yt=d.overlay?this._overlaysList:this._baseLayersList;return yt.appendChild(b),this._checkDisabledLayers(),b},_onInputClick:function(){if(!this._preventClick){var d=this._layerControlInputs,b,S,R=[],U=[];this._handlingClick=!0;for(var rt=d.length-1;rt>=0;rt--)b=d[rt],S=this._getLayer(b.layerId).layer,b.checked?R.push(S):b.checked||U.push(S);for(rt=0;rt<U.length;rt++)this._map.hasLayer(U[rt])&&this._map.removeLayer(U[rt]);for(rt=0;rt<R.length;rt++)this._map.hasLayer(R[rt])||this._map.addLayer(R[rt]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var d=this._layerControlInputs,b,S,R=this._map.getZoom(),U=d.length-1;U>=0;U--)b=d[U],S=this._getLayer(b.layerId).layer,b.disabled=S.options.minZoom!==void 0&&R<S.options.minZoom||S.options.maxZoom!==void 0&&R>S.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var d=this._section;this._preventClick=!0,sr(d,"click",Ki),this.expand();var b=this;setTimeout(function(){hi(d,"click",Ki),b._preventClick=!1})}}),$g=function(d,b,S){return new _h(d,b,S)},kh=uo.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(d){var b="leaflet-control-zoom",S=ri("div",b+" leaflet-bar"),R=this.options;return this._zoomInButton=this._createButton(R.zoomInText,R.zoomInTitle,b+"-in",S,this._zoomIn),this._zoomOutButton=this._createButton(R.zoomOutText,R.zoomOutTitle,b+"-out",S,this._zoomOut),this._updateDisabled(),d.on("zoomend zoomlevelschange",this._updateDisabled,this),S},onRemove:function(d){d.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(d){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(d.shiftKey?3:1))},_zoomOut:function(d){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(d.shiftKey?3:1))},_createButton:function(d,b,S,R,U){var rt=ri("a",S,R);return rt.innerHTML=d,rt.href="#",rt.title=b,rt.setAttribute("role","button"),rt.setAttribute("aria-label",b),uc(rt),sr(rt,"click",gl),sr(rt,"click",U,this),sr(rt,"click",this._refocusOnMap,this),rt},_updateDisabled:function(){var d=this._map,b="leaflet-disabled";Qe(this._zoomInButton,b),Qe(this._zoomOutButton,b),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||d._zoom===d.getMinZoom())&&(ur(this._zoomOutButton,b),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||d._zoom===d.getMaxZoom())&&(ur(this._zoomInButton,b),this._zoomInButton.setAttribute("aria-disabled","true"))}});Xr.mergeOptions({zoomControl:!0}),Xr.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new kh,this.addControl(this.zoomControl))});var Ty=function(d){return new kh(d)},tm=uo.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(d){var b="leaflet-control-scale",S=ri("div",b),R=this.options;return this._addScales(R,b+"-line",S),d.on(R.updateWhenIdle?"moveend":"move",this._update,this),d.whenReady(this._update,this),S},onRemove:function(d){d.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(d,b,S){d.metric&&(this._mScale=ri("div",b,S)),d.imperial&&(this._iScale=ri("div",b,S))},_update:function(){var d=this._map,b=d.getSize().y/2,S=d.distance(d.containerPointToLatLng([0,b]),d.containerPointToLatLng([this.options.maxWidth,b]));this._updateScales(S)},_updateScales:function(d){this.options.metric&&d&&this._updateMetric(d),this.options.imperial&&d&&this._updateImperial(d)},_updateMetric:function(d){var b=this._getRoundNum(d),S=b<1e3?b+" m":b/1e3+" km";this._updateScale(this._mScale,S,b/d)},_updateImperial:function(d){var b=d*3.2808399,S,R,U;b>5280?(S=b/5280,R=this._getRoundNum(S),this._updateScale(this._iScale,R+" mi",R/S)):(U=this._getRoundNum(b),this._updateScale(this._iScale,U+" ft",U/b))},_updateScale:function(d,b,S){d.style.width=Math.round(this.options.maxWidth*S)+"px",d.innerHTML=b},_getRoundNum:function(d){var b=Math.pow(10,(Math.floor(d)+"").length-1),S=d/b;return S=S>=10?10:S>=5?5:S>=3?3:S>=2?2:1,b*S}}),em=function(d){return new tm(d)},yp='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Eh=uo.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Be.inlineSvg?yp+" ":"")+"Leaflet</a>"},initialize:function(d){B(this,d),this._attributions={}},onAdd:function(d){d.attributionControl=this,this._container=ri("div","leaflet-control-attribution"),uc(this._container);for(var b in d._layers)d._layers[b].getAttribution&&this.addAttribution(d._layers[b].getAttribution());return this._update(),d.on("layeradd",this._addAttribution,this),this._container},onRemove:function(d){d.off("layeradd",this._addAttribution,this)},_addAttribution:function(d){d.layer.getAttribution&&(this.addAttribution(d.layer.getAttribution()),d.layer.once("remove",function(){this.removeAttribution(d.layer.getAttribution())},this))},setPrefix:function(d){return this.options.prefix=d,this._update(),this},addAttribution:function(d){return d?(this._attributions[d]||(this._attributions[d]=0),this._attributions[d]++,this._update(),this):this},removeAttribution:function(d){return d?(this._attributions[d]&&(this._attributions[d]--,this._update()),this):this},_update:function(){if(this._map){var d=[];for(var b in this._attributions)this._attributions[b]&&d.push(b);var S=[];this.options.prefix&&S.push(this.options.prefix),d.length&&S.push(d.join(", ")),this._container.innerHTML=S.join(' <span aria-hidden="true">|</span> ')}}});Xr.mergeOptions({attributionControl:!0}),Xr.addInitHook(function(){this.options.attributionControl&&new Eh().addTo(this)});var rm=function(d){return new Eh(d)};uo.Layers=_h,uo.Zoom=kh,uo.Scale=tm,uo.Attribution=Eh,mu.layers=$g,mu.zoom=Ty,mu.scale=em,mu.attribution=rm;var Ji=ne.extend({initialize:function(d){this._map=d},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ji.addTo=function(d,b){return d.addHandler(b,this),this};var bp={Events:Gt},gs=Be.touch?"touchstart mousedown":"mousedown",Zo=he.extend({options:{clickTolerance:3},initialize:function(d,b,S,R){B(this,R),this._element=d,this._dragStartTarget=b||d,this._preventOutline=S},enable:function(){this._enabled||(sr(this._dragStartTarget,gs,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Zo._dragging===this&&this.finishDrag(!0),hi(this._dragStartTarget,gs,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(d){if(this._enabled&&(this._moved=!1,!nc(this._element,"leaflet-zoom-anim"))){if(d.touches&&d.touches.length!==1){Zo._dragging===this&&this.finishDrag();return}if(!(Zo._dragging||d.shiftKey||d.which!==1&&d.button!==1&&!d.touches)&&(Zo._dragging=this,this._preventOutline&&dp(this._element),hp(),sc(),!this._moving)){this.fire("down");var b=d.touches?d.touches[0]:d,S=pu(this._element);this._startPoint=new Kt(b.clientX,b.clientY),this._startPos=Ci(this._element),this._parentScale=fu(S);var R=d.type==="mousedown";sr(document,R?"mousemove":"touchmove",this._onMove,this),sr(document,R?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(d){if(this._enabled){if(d.touches&&d.touches.length>1){this._moved=!0;return}var b=d.touches&&d.touches.length===1?d.touches[0]:d,S=new Kt(b.clientX,b.clientY)._subtract(this._startPoint);!S.x&&!S.y||Math.abs(S.x)+Math.abs(S.y)<this.options.clickTolerance||(S.x/=this._parentScale.x,S.y/=this._parentScale.y,Ki(d),this._moved||(this.fire("dragstart"),this._moved=!0,ur(document.body,"leaflet-dragging"),this._lastTarget=d.target||d.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ur(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(S),this._moving=!0,this._lastEvent=d,this._updatePosition())}},_updatePosition:function(){var d={originalEvent:this._lastEvent};this.fire("predrag",d),Xi(this._element,this._newPos),this.fire("drag",d)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(d){Qe(document.body,"leaflet-dragging"),this._lastTarget&&(Qe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),hi(document,"mousemove touchmove",this._onMove,this),hi(document,"mouseup touchend touchcancel",this._onUp,this),cc(),ac();var b=this._moved&&this._moving;this._moving=!1,Zo._dragging=!1,b&&this.fire("dragend",{noInertia:d,distance:this._newPos.distanceTo(this._startPos)})}});function Xs(d,b,S){var R,U=[1,4,2,8],rt,yt,Lt,Ht,Qt,xe,Ye,dr;for(rt=0,xe=d.length;rt<xe;rt++)d[rt]._code=ml(d[rt],b);for(Lt=0;Lt<4;Lt++){for(Ye=U[Lt],R=[],rt=0,xe=d.length,yt=xe-1;rt<xe;yt=rt++)Ht=d[rt],Qt=d[yt],Ht._code&Ye?Qt._code&Ye||(dr=Sh(Qt,Ht,Ye,b,S),dr._code=ml(dr,b),R.push(dr)):(Qt._code&Ye&&(dr=Sh(Qt,Ht,Ye,b,S),dr._code=ml(dr,b),R.push(dr)),R.push(Ht));d=R}return d}function vu(d,b){var S,R,U,rt,yt,Lt,Ht,Qt,xe;if(!d||d.length===0)throw new Error("latlngs not passed");yn(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var Ye=ue([0,0]),dr=ve(d),Pn=dr.getNorthWest().distanceTo(dr.getSouthWest())*dr.getNorthEast().distanceTo(dr.getNorthWest());Pn<1700&&(Ye=Th(d));var Qi=d.length,Mn=[];for(S=0;S<Qi;S++){var Un=ue(d[S]);Mn.push(b.project(ue([Un.lat-Ye.lat,Un.lng-Ye.lng])))}for(Lt=Ht=Qt=0,S=0,R=Qi-1;S<Qi;R=S++)U=Mn[S],rt=Mn[R],yt=U.y*rt.x-rt.y*U.x,Ht+=(U.x+rt.x)*yt,Qt+=(U.y+rt.y)*yt,Lt+=yt*3;Lt===0?xe=Mn[0]:xe=[Ht/Lt,Qt/Lt];var kl=b.unproject(kt(xe));return ue([kl.lat+Ye.lat,kl.lng+Ye.lng])}function Th(d){for(var b=0,S=0,R=0,U=0;U<d.length;U++){var rt=ue(d[U]);b+=rt.lat,S+=rt.lng,R++}return ue([b/R,S/R])}var Sy={__proto__:null,clipPolygon:Xs,polygonCenter:vu,centroid:Th};function yu(d,b){if(!b||!d.length)return d.slice();var S=b*b;return d=Cy(d,S),d=wu(d,S),d}function wp(d,b,S){return Math.sqrt(xu(d,b,S,!0))}function bu(d,b,S){return xu(d,b,S)}function wu(d,b){var S=d.length,R=typeof Uint8Array!=void 0+""?Uint8Array:Array,U=new R(S);U[0]=U[S-1]=1,xp(d,U,b,0,S-1);var rt,yt=[];for(rt=0;rt<S;rt++)U[rt]&&yt.push(d[rt]);return yt}function xp(d,b,S,R,U){var rt=0,yt,Lt,Ht;for(Lt=R+1;Lt<=U-1;Lt++)Ht=xu(d[Lt],d[R],d[U],!0),Ht>rt&&(yt=Lt,rt=Ht);rt>S&&(b[yt]=1,xp(d,b,S,R,yt),xp(d,b,S,yt,U))}function Cy(d,b){for(var S=[d[0]],R=1,U=0,rt=d.length;R<rt;R++)_p(d[R],d[U])>b&&(S.push(d[R]),U=R);return U<rt-1&&S.push(d[rt-1]),S}var im;function nm(d,b,S,R,U){var rt=R?im:ml(d,S),yt=ml(b,S),Lt,Ht,Qt;for(im=yt;;){if(!(rt|yt))return[d,b];if(rt&yt)return!1;Lt=rt||yt,Ht=Sh(d,b,Lt,S,U),Qt=ml(Ht,S),Lt===rt?(d=Ht,rt=Qt):(b=Ht,yt=Qt)}}function Sh(d,b,S,R,U){var rt=b.x-d.x,yt=b.y-d.y,Lt=R.min,Ht=R.max,Qt,xe;return S&8?(Qt=d.x+rt*(Ht.y-d.y)/yt,xe=Ht.y):S&4?(Qt=d.x+rt*(Lt.y-d.y)/yt,xe=Lt.y):S&2?(Qt=Ht.x,xe=d.y+yt*(Ht.x-d.x)/rt):S&1&&(Qt=Lt.x,xe=d.y+yt*(Lt.x-d.x)/rt),new Kt(Qt,xe,U)}function ml(d,b){var S=0;return d.x<b.min.x?S|=1:d.x>b.max.x&&(S|=2),d.y<b.min.y?S|=4:d.y>b.max.y&&(S|=8),S}function _p(d,b){var S=b.x-d.x,R=b.y-d.y;return S*S+R*R}function xu(d,b,S,R){var U=b.x,rt=b.y,yt=S.x-U,Lt=S.y-rt,Ht=yt*yt+Lt*Lt,Qt;return Ht>0&&(Qt=((d.x-U)*yt+(d.y-rt)*Lt)/Ht,Qt>1?(U=S.x,rt=S.y):Qt>0&&(U+=yt*Qt,rt+=Lt*Qt)),yt=d.x-U,Lt=d.y-rt,R?yt*yt+Lt*Lt:new Kt(U,rt)}function yn(d){return!j(d[0])||typeof d[0][0]!="object"&&typeof d[0][0]<"u"}function om(d){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),yn(d)}function an(d,b){var S,R,U,rt,yt,Lt,Ht,Qt;if(!d||d.length===0)throw new Error("latlngs not passed");yn(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var xe=ue([0,0]),Ye=ve(d),dr=Ye.getNorthWest().distanceTo(Ye.getSouthWest())*Ye.getNorthEast().distanceTo(Ye.getNorthWest());dr<1700&&(xe=Th(d));var Pn=d.length,Qi=[];for(S=0;S<Pn;S++){var Mn=ue(d[S]);Qi.push(b.project(ue([Mn.lat-xe.lat,Mn.lng-xe.lng])))}for(S=0,R=0;S<Pn-1;S++)R+=Qi[S].distanceTo(Qi[S+1])/2;if(R===0)Qt=Qi[0];else for(S=0,rt=0;S<Pn-1;S++)if(yt=Qi[S],Lt=Qi[S+1],U=yt.distanceTo(Lt),rt+=U,rt>R){Ht=(rt-R)/U,Qt=[Lt.x-Ht*(Lt.x-yt.x),Lt.y-Ht*(Lt.y-yt.y)];break}var Un=b.unproject(kt(Qt));return ue([Un.lat+xe.lat,Un.lng+xe.lng])}var vl={__proto__:null,simplify:yu,pointToSegmentDistance:wp,closestPointOnSegment:bu,clipSegment:nm,_getEdgeIntersection:Sh,_getBitCode:ml,_sqClosestPointOnSegment:xu,isFlat:yn,_flat:om,polylineCenter:an},Ch={project:function(d){return new Kt(d.lng,d.lat)},unproject:function(d){return new se(d.y,d.x)},bounds:new zt([-180,-90],[180,90])},yl={R:6378137,R_MINOR:6356752314245179e-9,bounds:new zt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(d){var b=Math.PI/180,S=this.R,R=d.lat*b,U=this.R_MINOR/S,rt=Math.sqrt(1-U*U),yt=rt*Math.sin(R),Lt=Math.tan(Math.PI/4-R/2)/Math.pow((1-yt)/(1+yt),rt/2);return R=-S*Math.log(Math.max(Lt,1e-10)),new Kt(d.lng*b*S,R)},unproject:function(d){for(var b=180/Math.PI,S=this.R,R=this.R_MINOR/S,U=Math.sqrt(1-R*R),rt=Math.exp(-d.y/S),yt=Math.PI/2-2*Math.atan(rt),Lt=0,Ht=.1,Qt;Lt<15&&Math.abs(Ht)>1e-7;Lt++)Qt=U*Math.sin(yt),Qt=Math.pow((1-Qt)/(1+Qt),U/2),Ht=Math.PI/2-2*Math.atan(rt*Qt)-yt,yt+=Ht;return new se(yt*b,d.x*b/S)}},sm={__proto__:null,LonLat:Ch,Mercator:yl,SphericalMercator:Zt},am=l({},Ft,{code:"EPSG:3395",projection:yl,transformation:function(){var d=.5/(Math.PI*yl.R);return nt(d,.5,-d,.5)}()}),hc=l({},Ft,{code:"EPSG:4326",projection:Ch,transformation:nt(1/180,1,-1/180,.5)}),kp=l({},tr,{projection:Ch,transformation:nt(1,0,-1,0),scale:function(d){return Math.pow(2,d)},zoom:function(d){return Math.log(d)/Math.LN2},distance:function(d,b){var S=b.lng-d.lng,R=b.lat-d.lat;return Math.sqrt(S*S+R*R)},infinite:!0});tr.Earth=Ft,tr.EPSG3395=am,tr.EPSG3857=pt,tr.EPSG900913=vt,tr.EPSG4326=hc,tr.Simple=kp;var ho=he.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(d){return d.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(d){return d&&d.removeLayer(this),this},getPane:function(d){return this._map.getPane(d?this.options[d]||d:this.options.pane)},addInteractiveTarget:function(d){return this._map._targets[m(d)]=this,this},removeInteractiveTarget:function(d){return delete this._map._targets[m(d)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(d){var b=d.target;if(b.hasLayer(this)){if(this._map=b,this._zoomAnimated=b._zoomAnimated,this.getEvents){var S=this.getEvents();b.on(S,this),this.once("remove",function(){b.off(S,this)},this)}this.onAdd(b),this.fire("add"),b.fire("layeradd",{layer:this})}}});Xr.include({addLayer:function(d){if(!d._layerAdd)throw new Error("The provided object is not a Layer.");var b=m(d);return this._layers[b]?this:(this._layers[b]=d,d._mapToAdd=this,d.beforeAdd&&d.beforeAdd(this),this.whenReady(d._layerAdd,d),this)},removeLayer:function(d){var b=m(d);return this._layers[b]?(this._loaded&&d.onRemove(this),delete this._layers[b],this._loaded&&(this.fire("layerremove",{layer:d}),d.fire("remove")),d._map=d._mapToAdd=null,this):this},hasLayer:function(d){return m(d)in this._layers},eachLayer:function(d,b){for(var S in this._layers)d.call(b,this._layers[S]);return this},_addLayers:function(d){d=d?j(d)?d:[d]:[];for(var b=0,S=d.length;b<S;b++)this.addLayer(d[b])},_addZoomLimit:function(d){(!isNaN(d.options.maxZoom)||!isNaN(d.options.minZoom))&&(this._zoomBoundLayers[m(d)]=d,this._updateZoomLevels())},_removeZoomLimit:function(d){var b=m(d);this._zoomBoundLayers[b]&&(delete this._zoomBoundLayers[b],this._updateZoomLevels())},_updateZoomLevels:function(){var d=1/0,b=-1/0,S=this._getZoomSpan();for(var R in this._zoomBoundLayers){var U=this._zoomBoundLayers[R].options;d=U.minZoom===void 0?d:Math.min(d,U.minZoom),b=U.maxZoom===void 0?b:Math.max(b,U.maxZoom)}this._layersMaxZoom=b===-1/0?void 0:b,this._layersMinZoom=d===1/0?void 0:d,S!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var bl=ho.extend({initialize:function(d,b){B(this,b),this._layers={};var S,R;if(d)for(S=0,R=d.length;S<R;S++)this.addLayer(d[S])},addLayer:function(d){var b=this.getLayerId(d);return this._layers[b]=d,this._map&&this._map.addLayer(d),this},removeLayer:function(d){var b=d in this._layers?d:this.getLayerId(d);return this._map&&this._layers[b]&&this._map.removeLayer(this._layers[b]),delete this._layers[b],this},hasLayer:function(d){var b=typeof d=="number"?d:this.getLayerId(d);return b in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(d){var b=Array.prototype.slice.call(arguments,1),S,R;for(S in this._layers)R=this._layers[S],R[d]&&R[d].apply(R,b);return this},onAdd:function(d){this.eachLayer(d.addLayer,d)},onRemove:function(d){this.eachLayer(d.removeLayer,d)},eachLayer:function(d,b){for(var S in this._layers)d.call(b,this._layers[S]);return this},getLayer:function(d){return this._layers[d]},getLayers:function(){var d=[];return this.eachLayer(d.push,d),d},setZIndex:function(d){return this.invoke("setZIndex",d)},getLayerId:function(d){return m(d)}}),Ph=function(d,b){return new bl(d,b)},Hn=bl.extend({addLayer:function(d){return this.hasLayer(d)?this:(d.addEventParent(this),bl.prototype.addLayer.call(this,d),this.fire("layeradd",{layer:d}))},removeLayer:function(d){return this.hasLayer(d)?(d in this._layers&&(d=this._layers[d]),d.removeEventParent(this),bl.prototype.removeLayer.call(this,d),this.fire("layerremove",{layer:d})):this},setStyle:function(d){return this.invoke("setStyle",d)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var d=new ee;for(var b in this._layers){var S=this._layers[b];d.extend(S.getBounds?S.getBounds():S.getLatLng())}return d}}),ln=function(d,b){return new Hn(d,b)},ms=ne.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(d){B(this,d)},createIcon:function(d){return this._createIcon("icon",d)},createShadow:function(d){return this._createIcon("shadow",d)},_createIcon:function(d,b){var S=this._getIconUrl(d);if(!S){if(d==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var R=this._createImg(S,b&&b.tagName==="IMG"?b:null);return this._setIconStyles(R,d),(this.options.crossOrigin||this.options.crossOrigin==="")&&(R.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),R},_setIconStyles:function(d,b){var S=this.options,R=S[b+"Size"];typeof R=="number"&&(R=[R,R]);var U=kt(R),rt=kt(b==="shadow"&&S.shadowAnchor||S.iconAnchor||U&&U.divideBy(2,!0));d.className="leaflet-marker-"+b+" "+(S.className||""),rt&&(d.style.marginLeft=-rt.x+"px",d.style.marginTop=-rt.y+"px"),U&&(d.style.width=U.x+"px",d.style.height=U.y+"px")},_createImg:function(d,b){return b=b||document.createElement("img"),b.src=d,b},_getIconUrl:function(d){return Be.retina&&this.options[d+"RetinaUrl"]||this.options[d+"Url"]}});function lm(d){return new ms(d)}var dc=ms.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(d){return typeof dc.imagePath!="string"&&(dc.imagePath=this._detectIconPath()),(this.options.imagePath||dc.imagePath)+ms.prototype._getIconUrl.call(this,d)},_stripUrl:function(d){var b=function(S,R,U){var rt=R.exec(S);return rt&&rt[U]};return d=b(d,/^url\((['"])?(.+)\1\)$/,2),d&&b(d,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var d=ri("div","leaflet-default-icon-path",document.body),b=ic(d,"background-image")||ic(d,"backgroundImage");if(document.body.removeChild(d),b=this._stripUrl(b),b)return b;var S=document.querySelector('link[href$="leaflet.css"]');return S?S.href.substring(0,S.href.length-11-1):""}}),Mh=Ji.extend({initialize:function(d){this._marker=d},addHooks:function(){var d=this._marker._icon;this._draggable||(this._draggable=new Zo(d,d,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ur(d,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Qe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(d){var b=this._marker,S=b._map,R=this._marker.options.autoPanSpeed,U=this._marker.options.autoPanPadding,rt=Ci(b._icon),yt=S.getPixelBounds(),Lt=S.getPixelOrigin(),Ht=Wt(yt.min._subtract(Lt).add(U),yt.max._subtract(Lt).subtract(U));if(!Ht.contains(rt)){var Qt=kt((Math.max(Ht.max.x,rt.x)-Ht.max.x)/(yt.max.x-Ht.max.x)-(Math.min(Ht.min.x,rt.x)-Ht.min.x)/(yt.min.x-Ht.min.x),(Math.max(Ht.max.y,rt.y)-Ht.max.y)/(yt.max.y-Ht.max.y)-(Math.min(Ht.min.y,rt.y)-Ht.min.y)/(yt.min.y-Ht.min.y)).multiplyBy(R);S.panBy(Qt,{animate:!1}),this._draggable._newPos._add(Qt),this._draggable._startPos._add(Qt),Xi(b._icon,this._draggable._newPos),this._onDrag(d),this._panRequest=ut(this._adjustPan.bind(this,d))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(d){this._marker.options.autoPan&&(mt(this._panRequest),this._panRequest=ut(this._adjustPan.bind(this,d)))},_onDrag:function(d){var b=this._marker,S=b._shadow,R=Ci(b._icon),U=b._map.layerPointToLatLng(R);S&&Xi(S,R),b._latlng=U,d.latlng=U,d.oldLatLng=this._oldLatLng,b.fire("move",d).fire("drag",d)},_onDragEnd:function(d){mt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",d)}}),wl=ho.extend({options:{icon:new dc,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(d,b){B(this,b),this._latlng=ue(d)},onAdd:function(d){this._zoomAnimated=this._zoomAnimated&&d.options.markerZoomAnimation,this._zoomAnimated&&d.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(d){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&d.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(d){var b=this._latlng;return this._latlng=ue(d),this.update(),this.fire("move",{oldLatLng:b,latlng:this._latlng})},setZIndexOffset:function(d){return this.options.zIndexOffset=d,this.update()},getIcon:function(){return this.options.icon},setIcon:function(d){return this.options.icon=d,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var d=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(d)}return this},_initIcon:function(){var d=this.options,b="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),S=d.icon.createIcon(this._icon),R=!1;S!==this._icon&&(this._icon&&this._removeIcon(),R=!0,d.title&&(S.title=d.title),S.tagName==="IMG"&&(S.alt=d.alt||"")),ur(S,b),d.keyboard&&(S.tabIndex="0",S.setAttribute("role","button")),this._icon=S,d.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&sr(S,"focus",this._panOnFocus,this);var U=d.icon.createShadow(this._shadow),rt=!1;U!==this._shadow&&(this._removeShadow(),rt=!0),U&&(ur(U,b),U.alt=""),this._shadow=U,d.opacity<1&&this._updateOpacity(),R&&this.getPane().appendChild(this._icon),this._initInteraction(),U&&rt&&this.getPane(d.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&hi(this._icon,"focus",this._panOnFocus,this),ki(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ki(this._shadow),this._shadow=null},_setPos:function(d){this._icon&&Xi(this._icon,d),this._shadow&&Xi(this._shadow,d),this._zIndex=d.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(d){this._icon&&(this._icon.style.zIndex=this._zIndex+d)},_animateZoom:function(d){var b=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center).round();this._setPos(b)},_initInteraction:function(){if(this.options.interactive&&(ur(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Mh)){var d=this.options.draggable;this.dragging&&(d=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Mh(this),d&&this.dragging.enable()}},setOpacity:function(d){return this.options.opacity=d,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var d=this.options.opacity;this._icon&&nr(this._icon,d),this._shadow&&nr(this._shadow,d)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var d=this._map;if(d){var b=this.options.icon.options,S=b.iconSize?kt(b.iconSize):kt(0,0),R=b.iconAnchor?kt(b.iconAnchor):kt(0,0);d.panInside(this._latlng,{paddingTopLeft:R,paddingBottomRight:S.subtract(R)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function cm(d,b){return new wl(d,b)}var Ys=ho.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(d){this._renderer=d.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(d){return B(this,d),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&d&&Object.prototype.hasOwnProperty.call(d,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ih=Ys.extend({options:{fill:!0,radius:10},initialize:function(d,b){B(this,b),this._latlng=ue(d),this._radius=this.options.radius},setLatLng:function(d){var b=this._latlng;return this._latlng=ue(d),this.redraw(),this.fire("move",{oldLatLng:b,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(d){return this.options.radius=this._radius=d,this.redraw()},getRadius:function(){return this._radius},setStyle:function(d){var b=d&&d.radius||this._radius;return Ys.prototype.setStyle.call(this,d),this.setRadius(b),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var d=this._radius,b=this._radiusY||d,S=this._clickTolerance(),R=[d+S,b+S];this._pxBounds=new zt(this._point.subtract(R),this._point.add(R))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(d){return d.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Py(d,b){return new Ih(d,b)}var Ep=Ih.extend({initialize:function(d,b,S){if(typeof b=="number"&&(b=l({},S,{radius:b})),B(this,b),this._latlng=ue(d),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(d){return this._mRadius=d,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var d=[this._radius,this._radiusY||this._radius];return new ee(this._map.layerPointToLatLng(this._point.subtract(d)),this._map.layerPointToLatLng(this._point.add(d)))},setStyle:Ys.prototype.setStyle,_project:function(){var d=this._latlng.lng,b=this._latlng.lat,S=this._map,R=S.options.crs;if(R.distance===Ft.distance){var U=Math.PI/180,rt=this._mRadius/Ft.R/U,yt=S.project([b+rt,d]),Lt=S.project([b-rt,d]),Ht=yt.add(Lt).divideBy(2),Qt=S.unproject(Ht).lat,xe=Math.acos((Math.cos(rt*U)-Math.sin(b*U)*Math.sin(Qt*U))/(Math.cos(b*U)*Math.cos(Qt*U)))/U;(isNaN(xe)||xe===0)&&(xe=rt/Math.cos(Math.PI/180*b)),this._point=Ht.subtract(S.getPixelOrigin()),this._radius=isNaN(xe)?0:Ht.x-S.project([Qt,d-xe]).x,this._radiusY=Ht.y-yt.y}else{var Ye=R.unproject(R.project(this._latlng).subtract([this._mRadius,0]));this._point=S.latLngToLayerPoint(this._latlng),this._radius=this._point.x-S.latLngToLayerPoint(Ye).x}this._updateBounds()}});function My(d,b,S){return new Ep(d,b,S)}var Ks=Ys.extend({options:{smoothFactor:1,noClip:!1},initialize:function(d,b){B(this,b),this._setLatLngs(d)},getLatLngs:function(){return this._latlngs},setLatLngs:function(d){return this._setLatLngs(d),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(d){for(var b=1/0,S=null,R=xu,U,rt,yt=0,Lt=this._parts.length;yt<Lt;yt++)for(var Ht=this._parts[yt],Qt=1,xe=Ht.length;Qt<xe;Qt++){U=Ht[Qt-1],rt=Ht[Qt];var Ye=R(d,U,rt,!0);Ye<b&&(b=Ye,S=R(d,U,rt))}return S&&(S.distance=Math.sqrt(b)),S},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return an(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(d,b){return b=b||this._defaultShape(),d=ue(d),b.push(d),this._bounds.extend(d),this.redraw()},_setLatLngs:function(d){this._bounds=new ee,this._latlngs=this._convertLatLngs(d)},_defaultShape:function(){return yn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(d){for(var b=[],S=yn(d),R=0,U=d.length;R<U;R++)S?(b[R]=ue(d[R]),this._bounds.extend(b[R])):b[R]=this._convertLatLngs(d[R]);return b},_project:function(){var d=new zt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,d),this._bounds.isValid()&&d.isValid()&&(this._rawPxBounds=d,this._updateBounds())},_updateBounds:function(){var d=this._clickTolerance(),b=new Kt(d,d);this._rawPxBounds&&(this._pxBounds=new zt([this._rawPxBounds.min.subtract(b),this._rawPxBounds.max.add(b)]))},_projectLatlngs:function(d,b,S){var R=d[0]instanceof se,U=d.length,rt,yt;if(R){for(yt=[],rt=0;rt<U;rt++)yt[rt]=this._map.latLngToLayerPoint(d[rt]),S.extend(yt[rt]);b.push(yt)}else for(rt=0;rt<U;rt++)this._projectLatlngs(d[rt],b,S)},_clipPoints:function(){var d=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}var b=this._parts,S,R,U,rt,yt,Lt,Ht;for(S=0,U=0,rt=this._rings.length;S<rt;S++)for(Ht=this._rings[S],R=0,yt=Ht.length;R<yt-1;R++)Lt=nm(Ht[R],Ht[R+1],d,R,!0),Lt&&(b[U]=b[U]||[],b[U].push(Lt[0]),(Lt[1]!==Ht[R+1]||R===yt-2)&&(b[U].push(Lt[1]),U++))}},_simplifyPoints:function(){for(var d=this._parts,b=this.options.smoothFactor,S=0,R=d.length;S<R;S++)d[S]=yu(d[S],b)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(d,b){var S,R,U,rt,yt,Lt,Ht=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(S=0,rt=this._parts.length;S<rt;S++)for(Lt=this._parts[S],R=0,yt=Lt.length,U=yt-1;R<yt;U=R++)if(!(!b&&R===0)&&wp(d,Lt[U],Lt[R])<=Ht)return!0;return!1}});function Iy(d,b){return new Ks(d,b)}Ks._flat=om;var pc=Ks.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return vu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(d){var b=Ks.prototype._convertLatLngs.call(this,d),S=b.length;return S>=2&&b[0]instanceof se&&b[0].equals(b[S-1])&&b.pop(),b},_setLatLngs:function(d){Ks.prototype._setLatLngs.call(this,d),yn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return yn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var d=this._renderer._bounds,b=this.options.weight,S=new Kt(b,b);if(d=new zt(d.min.subtract(S),d.max.add(S)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}for(var R=0,U=this._rings.length,rt;R<U;R++)rt=Xs(this._rings[R],d,!0),rt.length&&this._parts.push(rt)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(d){var b=!1,S,R,U,rt,yt,Lt,Ht,Qt;if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(rt=0,Ht=this._parts.length;rt<Ht;rt++)for(S=this._parts[rt],yt=0,Qt=S.length,Lt=Qt-1;yt<Qt;Lt=yt++)R=S[yt],U=S[Lt],R.y>d.y!=U.y>d.y&&d.x<(U.x-R.x)*(d.y-R.y)/(U.y-R.y)+R.x&&(b=!b);return b||Ks.prototype._containsPoint.call(this,d,!0)}});function Ly(d,b){return new pc(d,b)}var Js=Hn.extend({initialize:function(d,b){B(this,b),this._layers={},d&&this.addData(d)},addData:function(d){var b=j(d)?d:d.features,S,R,U;if(b){for(S=0,R=b.length;S<R;S++)U=b[S],(U.geometries||U.geometry||U.features||U.coordinates)&&this.addData(U);return this}var rt=this.options;if(rt.filter&&!rt.filter(d))return this;var yt=Lh(d,rt);return yt?(yt.feature=zh(d),yt.defaultOptions=yt.options,this.resetStyle(yt),rt.onEachFeature&&rt.onEachFeature(d,yt),this.addLayer(yt)):this},resetStyle:function(d){return d===void 0?this.eachLayer(this.resetStyle,this):(d.options=l({},d.defaultOptions),this._setLayerStyle(d,this.options.style),this)},setStyle:function(d){return this.eachLayer(function(b){this._setLayerStyle(b,d)},this)},_setLayerStyle:function(d,b){d.setStyle&&(typeof b=="function"&&(b=b(d.feature)),d.setStyle(b))}});function Lh(d,b){var S=d.type==="Feature"?d.geometry:d,R=S?S.coordinates:null,U=[],rt=b&&b.pointToLayer,yt=b&&b.coordsToLatLng||Tp,Lt,Ht,Qt,xe;if(!R&&!S)return null;switch(S.type){case"Point":return Lt=yt(R),um(rt,d,Lt,b);case"MultiPoint":for(Qt=0,xe=R.length;Qt<xe;Qt++)Lt=yt(R[Qt]),U.push(um(rt,d,Lt,b));return new Hn(U);case"LineString":case"MultiLineString":return Ht=Rh(R,S.type==="LineString"?0:1,yt),new Ks(Ht,b);case"Polygon":case"MultiPolygon":return Ht=Rh(R,S.type==="Polygon"?1:2,yt),new pc(Ht,b);case"GeometryCollection":for(Qt=0,xe=S.geometries.length;Qt<xe;Qt++){var Ye=Lh({geometry:S.geometries[Qt],type:"Feature",properties:d.properties},b);Ye&&U.push(Ye)}return new Hn(U);case"FeatureCollection":for(Qt=0,xe=S.features.length;Qt<xe;Qt++){var dr=Lh(S.features[Qt],b);dr&&U.push(dr)}return new Hn(U);default:throw new Error("Invalid GeoJSON object.")}}function um(d,b,S,R){return d?d(b,S):new wl(S,R&&R.markersInheritOptions&&R)}function Tp(d){return new se(d[1],d[0],d[2])}function Rh(d,b,S){for(var R=[],U=0,rt=d.length,yt;U<rt;U++)yt=b?Rh(d[U],b-1,S):(S||Tp)(d[U]),R.push(yt);return R}function Sp(d,b){return d=ue(d),d.alt!==void 0?[C(d.lng,b),C(d.lat,b),C(d.alt,b)]:[C(d.lng,b),C(d.lat,b)]}function Ah(d,b,S,R){for(var U=[],rt=0,yt=d.length;rt<yt;rt++)U.push(b?Ah(d[rt],yn(d[rt])?0:b-1,S,R):Sp(d[rt],R));return!b&&S&&U.length>0&&U.push(U[0].slice()),U}function fc(d,b){return d.feature?l({},d.feature,{geometry:b}):zh(b)}function zh(d){return d.type==="Feature"||d.type==="FeatureCollection"?d:{type:"Feature",properties:{},geometry:d}}var _u={toGeoJSON:function(d){return fc(this,{type:"Point",coordinates:Sp(this.getLatLng(),d)})}};wl.include(_u),Ep.include(_u),Ih.include(_u),Ks.include({toGeoJSON:function(d){var b=!yn(this._latlngs),S=Ah(this._latlngs,b?1:0,!1,d);return fc(this,{type:(b?"Multi":"")+"LineString",coordinates:S})}}),pc.include({toGeoJSON:function(d){var b=!yn(this._latlngs),S=b&&!yn(this._latlngs[0]),R=Ah(this._latlngs,S?2:b?1:0,!0,d);return b||(R=[R]),fc(this,{type:(S?"Multi":"")+"Polygon",coordinates:R})}}),bl.include({toMultiPoint:function(d){var b=[];return this.eachLayer(function(S){b.push(S.toGeoJSON(d).geometry.coordinates)}),fc(this,{type:"MultiPoint",coordinates:b})},toGeoJSON:function(d){var b=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(b==="MultiPoint")return this.toMultiPoint(d);var S=b==="GeometryCollection",R=[];return this.eachLayer(function(U){if(U.toGeoJSON){var rt=U.toGeoJSON(d);if(S)R.push(rt.geometry);else{var yt=zh(rt);yt.type==="FeatureCollection"?R.push.apply(R,yt.features):R.push(yt)}}}),S?fc(this,{geometries:R,type:"GeometryCollection"}):{type:"FeatureCollection",features:R}}});function Oh(d,b){return new Js(d,b)}var Ry=Oh,Qs=ho.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(d,b,S){this._url=d,this._bounds=ve(b),B(this,S)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ur(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ki(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(d){return this.options.opacity=d,this._image&&this._updateOpacity(),this},setStyle:function(d){return d.opacity&&this.setOpacity(d.opacity),this},bringToFront:function(){return this._map&&Ra(this._image),this},bringToBack:function(){return this._map&&Aa(this._image),this},setUrl:function(d){return this._url=d,this._image&&(this._image.src=d),this},setBounds:function(d){return this._bounds=ve(d),this._map&&this._reset(),this},getEvents:function(){var d={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var d=this._url.tagName==="IMG",b=this._image=d?this._url:ri("img");if(ur(b,"leaflet-image-layer"),this._zoomAnimated&&ur(b,"leaflet-zoom-animated"),this.options.className&&ur(b,this.options.className),b.onselectstart=E,b.onmousemove=E,b.onload=p(this.fire,this,"load"),b.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),d){this._url=b.src;return}b.src=this._url,b.alt=this.options.alt},_animateZoom:function(d){var b=this._map.getZoomScale(d.zoom),S=this._map._latLngBoundsToNewLayerBounds(this._bounds,d.zoom,d.center).min;dl(this._image,S,b)},_reset:function(){var d=this._image,b=new zt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),S=b.getSize();Xi(d,b.min),d.style.width=S.x+"px",d.style.height=S.y+"px"},_updateOpacity:function(){nr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var d=this.options.errorOverlayUrl;d&&this._url!==d&&(this._url=d,this._image.src=d)},getCenter:function(){return this._bounds.getCenter()}}),Ay=function(d,b,S){return new Qs(d,b,S)},Cp=Qs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var d=this._url.tagName==="VIDEO",b=this._image=d?this._url:ri("video");if(ur(b,"leaflet-image-layer"),this._zoomAnimated&&ur(b,"leaflet-zoom-animated"),this.options.className&&ur(b,this.options.className),b.onselectstart=E,b.onmousemove=E,b.onloadeddata=p(this.fire,this,"load"),d){for(var S=b.getElementsByTagName("source"),R=[],U=0;U<S.length;U++)R.push(S[U].src);this._url=S.length>0?R:[b.src];return}j(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(b.style,"objectFit")&&(b.style.objectFit="fill"),b.autoplay=!!this.options.autoplay,b.loop=!!this.options.loop,b.muted=!!this.options.muted,b.playsInline=!!this.options.playsInline;for(var rt=0;rt<this._url.length;rt++){var yt=ri("source");yt.src=this._url[rt],b.appendChild(yt)}}});function hm(d,b,S){return new Cp(d,b,S)}var gc=Qs.extend({_initImage:function(){var d=this._image=this._url;ur(d,"leaflet-image-layer"),this._zoomAnimated&&ur(d,"leaflet-zoom-animated"),this.options.className&&ur(d,this.options.className),d.onselectstart=E,d.onmousemove=E}});function zy(d,b,S){return new gc(d,b,S)}var cn=ho.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(d,b){d&&(d instanceof se||j(d))?(this._latlng=ue(d),B(this,b)):(B(this,d),this._source=b),this.options.content&&(this._content=this.options.content)},openOn:function(d){return d=arguments.length?d:this._source._map,d.hasLayer(this)||d.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(d){return this._map?this.close():(arguments.length?this._source=d:d=this._source,this._prepareOpen(),this.openOn(d._map)),this},onAdd:function(d){this._zoomAnimated=d._zoomAnimated,this._container||this._initLayout(),d._fadeAnimated&&nr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),d._fadeAnimated&&nr(this._container,1),this.bringToFront(),this.options.interactive&&(ur(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(d){d._fadeAnimated?(nr(this._container,0),this._removeTimeout=setTimeout(p(ki,void 0,this._container),200)):ki(this._container),this.options.interactive&&(Qe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(d){return this._latlng=ue(d),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(d){return this._content=d,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var d={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ra(this._container),this},bringToBack:function(){return this._map&&Aa(this._container),this},_prepareOpen:function(d){var b=this._source;if(!b._map)return!1;if(b instanceof Hn){b=null;var S=this._source._layers;for(var R in S)if(S[R]._map){b=S[R];break}if(!b)return!1;this._source=b}if(!d)if(b.getCenter)d=b.getCenter();else if(b.getLatLng)d=b.getLatLng();else if(b.getBounds)d=b.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(d),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var d=this._contentNode,b=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof b=="string")d.innerHTML=b;else{for(;d.hasChildNodes();)d.removeChild(d.firstChild);d.appendChild(b)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var d=this._map.latLngToLayerPoint(this._latlng),b=kt(this.options.offset),S=this._getAnchor();this._zoomAnimated?Xi(this._container,d.add(S)):b=b.add(d).add(S);var R=this._containerBottom=-b.y,U=this._containerLeft=-Math.round(this._containerWidth/2)+b.x;this._container.style.bottom=R+"px",this._container.style.left=U+"px"}},_getAnchor:function(){return[0,0]}});Xr.include({_initOverlay:function(d,b,S,R){var U=b;return U instanceof d||(U=new d(R).setContent(b)),S&&U.setLatLng(S),U}}),ho.include({_initOverlay:function(d,b,S,R){var U=S;return U instanceof d?(B(U,R),U._source=this):(U=b&&!R?b:new d(R,this),U.setContent(S)),U}});var ku=cn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(d){return d=arguments.length?d:this._source._map,!d.hasLayer(this)&&d._popup&&d._popup.options.autoClose&&d.removeLayer(d._popup),d._popup=this,cn.prototype.openOn.call(this,d)},onAdd:function(d){cn.prototype.onAdd.call(this,d),d.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ys||this._source.on("preclick",fl))},onRemove:function(d){cn.prototype.onRemove.call(this,d),d.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ys||this._source.off("preclick",fl))},getEvents:function(){var d=cn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(d.preclick=this.close),this.options.keepInView&&(d.moveend=this._adjustPan),d},_initLayout:function(){var d="leaflet-popup",b=this._container=ri("div",d+" "+(this.options.className||"")+" leaflet-zoom-animated"),S=this._wrapper=ri("div",d+"-content-wrapper",b);if(this._contentNode=ri("div",d+"-content",S),uc(b),gp(this._contentNode),sr(b,"contextmenu",fl),this._tipContainer=ri("div",d+"-tip-container",b),this._tip=ri("div",d+"-tip",this._tipContainer),this.options.closeButton){var R=this._closeButton=ri("a",d+"-close-button",b);R.setAttribute("role","button"),R.setAttribute("aria-label","Close popup"),R.href="#close",R.innerHTML='<span aria-hidden="true">&#215;</span>',sr(R,"click",function(U){Ki(U),this.close()},this)}},_updateLayout:function(){var d=this._contentNode,b=d.style;b.width="",b.whiteSpace="nowrap";var S=d.offsetWidth;S=Math.min(S,this.options.maxWidth),S=Math.max(S,this.options.minWidth),b.width=S+1+"px",b.whiteSpace="",b.height="";var R=d.offsetHeight,U=this.options.maxHeight,rt="leaflet-popup-scrolled";U&&R>U?(b.height=U+"px",ur(d,rt)):Qe(d,rt),this._containerWidth=this._container.offsetWidth},_animateZoom:function(d){var b=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center),S=this._getAnchor();Xi(this._container,b.add(S))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var d=this._map,b=parseInt(ic(this._container,"marginBottom"),10)||0,S=this._container.offsetHeight+b,R=this._containerWidth,U=new Kt(this._containerLeft,-S-this._containerBottom);U._add(Ci(this._container));var rt=d.layerPointToContainerPoint(U),yt=kt(this.options.autoPanPadding),Lt=kt(this.options.autoPanPaddingTopLeft||yt),Ht=kt(this.options.autoPanPaddingBottomRight||yt),Qt=d.getSize(),xe=0,Ye=0;rt.x+R+Ht.x>Qt.x&&(xe=rt.x+R-Qt.x+Ht.x),rt.x-xe-Lt.x<0&&(xe=rt.x-Lt.x),rt.y+S+Ht.y>Qt.y&&(Ye=rt.y+S-Qt.y+Ht.y),rt.y-Ye-Lt.y<0&&(Ye=rt.y-Lt.y),(xe||Ye)&&(this.options.keepInView&&(this._autopanning=!0),d.fire("autopanstart").panBy([xe,Ye]))}},_getAnchor:function(){return kt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),$s=function(d,b){return new ku(d,b)};Xr.mergeOptions({closePopupOnClick:!0}),Xr.include({openPopup:function(d,b,S){return this._initOverlay(ku,d,b,S).openOn(this),this},closePopup:function(d){return d=arguments.length?d:this._popup,d&&d.close(),this}}),ho.include({bindPopup:function(d,b){return this._popup=this._initOverlay(ku,this._popup,d,b),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(d){return this._popup&&(this instanceof Hn||(this._popup._source=this),this._popup._prepareOpen(d||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(d){return this._popup&&this._popup.setContent(d),this},getPopup:function(){return this._popup},_openPopup:function(d){if(!(!this._popup||!this._map)){gl(d);var b=d.layer||d.target;if(this._popup._source===b&&!(b instanceof Ys)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(d.latlng);return}this._popup._source=b,this.openPopup(d.latlng)}},_movePopup:function(d){this._popup.setLatLng(d.latlng)},_onKeyPress:function(d){d.originalEvent.keyCode===13&&this._openPopup(d)}});var xl=cn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(d){cn.prototype.onAdd.call(this,d),this.setOpacity(this.options.opacity),d.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(d){cn.prototype.onRemove.call(this,d),d.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var d=cn.prototype.getEvents.call(this);return this.options.permanent||(d.preclick=this.close),d},_initLayout:function(){var d="leaflet-tooltip",b=d+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ri("div",b),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(d){var b,S,R=this._map,U=this._container,rt=R.latLngToContainerPoint(R.getCenter()),yt=R.layerPointToContainerPoint(d),Lt=this.options.direction,Ht=U.offsetWidth,Qt=U.offsetHeight,xe=kt(this.options.offset),Ye=this._getAnchor();Lt==="top"?(b=Ht/2,S=Qt):Lt==="bottom"?(b=Ht/2,S=0):Lt==="center"?(b=Ht/2,S=Qt/2):Lt==="right"?(b=0,S=Qt/2):Lt==="left"?(b=Ht,S=Qt/2):yt.x<rt.x?(Lt="right",b=0,S=Qt/2):(Lt="left",b=Ht+(xe.x+Ye.x)*2,S=Qt/2),d=d.subtract(kt(b,S,!0)).add(xe).add(Ye),Qe(U,"leaflet-tooltip-right"),Qe(U,"leaflet-tooltip-left"),Qe(U,"leaflet-tooltip-top"),Qe(U,"leaflet-tooltip-bottom"),ur(U,"leaflet-tooltip-"+Lt),Xi(U,d)},_updatePosition:function(){var d=this._map.latLngToLayerPoint(this._latlng);this._setPosition(d)},setOpacity:function(d){this.options.opacity=d,this._container&&nr(this._container,d)},_animateZoom:function(d){var b=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center);this._setPosition(b)},_getAnchor:function(){return kt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),dm=function(d,b){return new xl(d,b)};Xr.include({openTooltip:function(d,b,S){return this._initOverlay(xl,d,b,S).openOn(this),this},closeTooltip:function(d){return d.close(),this}}),ho.include({bindTooltip:function(d,b){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(xl,this._tooltip,d,b),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(d){if(!(!d&&this._tooltipHandlersAdded)){var b=d?"off":"on",S={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?S.add=this._openTooltip:(S.mouseover=this._openTooltip,S.mouseout=this.closeTooltip,S.click=this._openTooltip,this._map?this._addFocusListeners():S.add=this._addFocusListeners),this._tooltip.options.sticky&&(S.mousemove=this._moveTooltip),this[b](S),this._tooltipHandlersAdded=!d}},openTooltip:function(d){return this._tooltip&&(this instanceof Hn||(this._tooltip._source=this),this._tooltip._prepareOpen(d)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(d){return this._tooltip&&this._tooltip.setContent(d),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(d){var b=typeof d.getElement=="function"&&d.getElement();b&&(sr(b,"focus",function(){this._tooltip._source=d,this.openTooltip()},this),sr(b,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(d){var b=typeof d.getElement=="function"&&d.getElement();b&&b.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(d){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var b=this;this._map.once("moveend",function(){b._openOnceFlag=!1,b._openTooltip(d)});return}this._tooltip._source=d.layer||d.target,this.openTooltip(this._tooltip.options.sticky?d.latlng:void 0)}},_moveTooltip:function(d){var b=d.latlng,S,R;this._tooltip.options.sticky&&d.originalEvent&&(S=this._map.mouseEventToContainerPoint(d.originalEvent),R=this._map.containerPointToLayerPoint(S),b=this._map.layerPointToLatLng(R)),this._tooltip.setLatLng(b)}});var Pp=ms.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(d){var b=d&&d.tagName==="DIV"?d:document.createElement("div"),S=this.options;if(S.html instanceof Element?(uu(b),b.appendChild(S.html)):b.innerHTML=S.html!==!1?S.html:"",S.bgPos){var R=kt(S.bgPos);b.style.backgroundPosition=-R.x+"px "+-R.y+"px"}return this._setIconStyles(b,"icon"),b},createShadow:function(){return null}});function Mp(d){return new Pp(d)}ms.Default=dc;var Eu=ho.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Be.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(d){B(this,d)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(d){d._addZoomLimit(this)},onRemove:function(d){this._removeAllTiles(),ki(this._container),d._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ra(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Aa(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(d){return this.options.opacity=d,this._updateOpacity(),this},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var d=this._clampZoom(this._map.getZoom());d!==this._tileZoom&&(this._tileZoom=d,this._updateLevels()),this._update()}return this},getEvents:function(){var d={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=y(this._onMoveEnd,this.options.updateInterval,this)),d.move=this._onMove),this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},createTile:function(){return document.createElement("div")},getTileSize:function(){var d=this.options.tileSize;return d instanceof Kt?d:new Kt(d,d)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(d){for(var b=this.getPane().children,S=-d(-1/0,1/0),R=0,U=b.length,rt;R<U;R++)rt=b[R].style.zIndex,b[R]!==this._container&&rt&&(S=d(S,+rt));isFinite(S)&&(this.options.zIndex=S+d(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Be.ielt9){nr(this._container,this.options.opacity);var d=+new Date,b=!1,S=!1;for(var R in this._tiles){var U=this._tiles[R];if(!(!U.current||!U.loaded)){var rt=Math.min(1,(d-U.loaded)/200);nr(U.el,rt),rt<1?b=!0:(U.active?S=!0:this._onOpaqueTile(U),U.active=!0)}}S&&!this._noPrune&&this._pruneTiles(),b&&(mt(this._fadeFrame),this._fadeFrame=ut(this._updateOpacity,this))}},_onOpaqueTile:E,_initContainer:function(){this._container||(this._container=ri("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var d=this._tileZoom,b=this.options.maxZoom;if(d!==void 0){for(var S in this._levels)S=Number(S),this._levels[S].el.children.length||S===d?(this._levels[S].el.style.zIndex=b-Math.abs(d-S),this._onUpdateLevel(S)):(ki(this._levels[S].el),this._removeTilesAtZoom(S),this._onRemoveLevel(S),delete this._levels[S]);var R=this._levels[d],U=this._map;return R||(R=this._levels[d]={},R.el=ri("div","leaflet-tile-container leaflet-zoom-animated",this._container),R.el.style.zIndex=b,R.origin=U.project(U.unproject(U.getPixelOrigin()),d).round(),R.zoom=d,this._setZoomTransform(R,U.getCenter(),U.getZoom()),E(R.el.offsetWidth),this._onCreateLevel(R)),this._level=R,R}},_onUpdateLevel:E,_onRemoveLevel:E,_onCreateLevel:E,_pruneTiles:function(){if(this._map){var d,b,S=this._map.getZoom();if(S>this.options.maxZoom||S<this.options.minZoom){this._removeAllTiles();return}for(d in this._tiles)b=this._tiles[d],b.retain=b.current;for(d in this._tiles)if(b=this._tiles[d],b.current&&!b.active){var R=b.coords;this._retainParent(R.x,R.y,R.z,R.z-5)||this._retainChildren(R.x,R.y,R.z,R.z+2)}for(d in this._tiles)this._tiles[d].retain||this._removeTile(d)}},_removeTilesAtZoom:function(d){for(var b in this._tiles)this._tiles[b].coords.z===d&&this._removeTile(b)},_removeAllTiles:function(){for(var d in this._tiles)this._removeTile(d)},_invalidateAll:function(){for(var d in this._levels)ki(this._levels[d].el),this._onRemoveLevel(Number(d)),delete this._levels[d];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(d,b,S,R){var U=Math.floor(d/2),rt=Math.floor(b/2),yt=S-1,Lt=new Kt(+U,+rt);Lt.z=+yt;var Ht=this._tileCoordsToKey(Lt),Qt=this._tiles[Ht];return Qt&&Qt.active?(Qt.retain=!0,!0):(Qt&&Qt.loaded&&(Qt.retain=!0),yt>R?this._retainParent(U,rt,yt,R):!1)},_retainChildren:function(d,b,S,R){for(var U=2*d;U<2*d+2;U++)for(var rt=2*b;rt<2*b+2;rt++){var yt=new Kt(U,rt);yt.z=S+1;var Lt=this._tileCoordsToKey(yt),Ht=this._tiles[Lt];if(Ht&&Ht.active){Ht.retain=!0;continue}else Ht&&Ht.loaded&&(Ht.retain=!0);S+1<R&&this._retainChildren(U,rt,S+1,R)}},_resetView:function(d){var b=d&&(d.pinch||d.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),b,b)},_animateZoom:function(d){this._setView(d.center,d.zoom,!0,d.noUpdate)},_clampZoom:function(d){var b=this.options;return b.minNativeZoom!==void 0&&d<b.minNativeZoom?b.minNativeZoom:b.maxNativeZoom!==void 0&&b.maxNativeZoom<d?b.maxNativeZoom:d},_setView:function(d,b,S,R){var U=Math.round(b);this.options.maxZoom!==void 0&&U>this.options.maxZoom||this.options.minZoom!==void 0&&U<this.options.minZoom?U=void 0:U=this._clampZoom(U);var rt=this.options.updateWhenZooming&&U!==this._tileZoom;(!R||rt)&&(this._tileZoom=U,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),U!==void 0&&this._update(d),S||this._pruneTiles(),this._noPrune=!!S),this._setZoomTransforms(d,b)},_setZoomTransforms:function(d,b){for(var S in this._levels)this._setZoomTransform(this._levels[S],d,b)},_setZoomTransform:function(d,b,S){var R=this._map.getZoomScale(S,d.zoom),U=d.origin.multiplyBy(R).subtract(this._map._getNewPixelOrigin(b,S)).round();Be.any3d?dl(d.el,U,R):Xi(d.el,U)},_resetGrid:function(){var d=this._map,b=d.options.crs,S=this._tileSize=this.getTileSize(),R=this._tileZoom,U=this._map.getPixelWorldBounds(this._tileZoom);U&&(this._globalTileRange=this._pxBoundsToTileRange(U)),this._wrapX=b.wrapLng&&!this.options.noWrap&&[Math.floor(d.project([0,b.wrapLng[0]],R).x/S.x),Math.ceil(d.project([0,b.wrapLng[1]],R).x/S.y)],this._wrapY=b.wrapLat&&!this.options.noWrap&&[Math.floor(d.project([b.wrapLat[0],0],R).y/S.x),Math.ceil(d.project([b.wrapLat[1],0],R).y/S.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(d){var b=this._map,S=b._animatingZoom?Math.max(b._animateToZoom,b.getZoom()):b.getZoom(),R=b.getZoomScale(S,this._tileZoom),U=b.project(d,this._tileZoom).floor(),rt=b.getSize().divideBy(R*2);return new zt(U.subtract(rt),U.add(rt))},_update:function(d){var b=this._map;if(b){var S=this._clampZoom(b.getZoom());if(d===void 0&&(d=b.getCenter()),this._tileZoom!==void 0){var R=this._getTiledPixelBounds(d),U=this._pxBoundsToTileRange(R),rt=U.getCenter(),yt=[],Lt=this.options.keepBuffer,Ht=new zt(U.getBottomLeft().subtract([Lt,-Lt]),U.getTopRight().add([Lt,-Lt]));if(!(isFinite(U.min.x)&&isFinite(U.min.y)&&isFinite(U.max.x)&&isFinite(U.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Qt in this._tiles){var xe=this._tiles[Qt].coords;(xe.z!==this._tileZoom||!Ht.contains(new Kt(xe.x,xe.y)))&&(this._tiles[Qt].current=!1)}if(Math.abs(S-this._tileZoom)>1){this._setView(d,S);return}for(var Ye=U.min.y;Ye<=U.max.y;Ye++)for(var dr=U.min.x;dr<=U.max.x;dr++){var Pn=new Kt(dr,Ye);if(Pn.z=this._tileZoom,!!this._isValidTile(Pn)){var Qi=this._tiles[this._tileCoordsToKey(Pn)];Qi?Qi.current=!0:yt.push(Pn)}}if(yt.sort(function(Un,kl){return Un.distanceTo(rt)-kl.distanceTo(rt)}),yt.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Mn=document.createDocumentFragment();for(dr=0;dr<yt.length;dr++)this._addTile(yt[dr],Mn);this._level.el.appendChild(Mn)}}}},_isValidTile:function(d){var b=this._map.options.crs;if(!b.infinite){var S=this._globalTileRange;if(!b.wrapLng&&(d.x<S.min.x||d.x>S.max.x)||!b.wrapLat&&(d.y<S.min.y||d.y>S.max.y))return!1}if(!this.options.bounds)return!0;var R=this._tileCoordsToBounds(d);return ve(this.options.bounds).overlaps(R)},_keyToBounds:function(d){return this._tileCoordsToBounds(this._keyToTileCoords(d))},_tileCoordsToNwSe:function(d){var b=this._map,S=this.getTileSize(),R=d.scaleBy(S),U=R.add(S),rt=b.unproject(R,d.z),yt=b.unproject(U,d.z);return[rt,yt]},_tileCoordsToBounds:function(d){var b=this._tileCoordsToNwSe(d),S=new ee(b[0],b[1]);return this.options.noWrap||(S=this._map.wrapLatLngBounds(S)),S},_tileCoordsToKey:function(d){return d.x+":"+d.y+":"+d.z},_keyToTileCoords:function(d){var b=d.split(":"),S=new Kt(+b[0],+b[1]);return S.z=+b[2],S},_removeTile:function(d){var b=this._tiles[d];b&&(ki(b.el),delete this._tiles[d],this.fire("tileunload",{tile:b.el,coords:this._keyToTileCoords(d)}))},_initTile:function(d){ur(d,"leaflet-tile");var b=this.getTileSize();d.style.width=b.x+"px",d.style.height=b.y+"px",d.onselectstart=E,d.onmousemove=E,Be.ielt9&&this.options.opacity<1&&nr(d,this.options.opacity)},_addTile:function(d,b){var S=this._getTilePos(d),R=this._tileCoordsToKey(d),U=this.createTile(this._wrapCoords(d),p(this._tileReady,this,d));this._initTile(U),this.createTile.length<2&&ut(p(this._tileReady,this,d,null,U)),Xi(U,S),this._tiles[R]={el:U,coords:d,current:!0},b.appendChild(U),this.fire("tileloadstart",{tile:U,coords:d})},_tileReady:function(d,b,S){b&&this.fire("tileerror",{error:b,tile:S,coords:d});var R=this._tileCoordsToKey(d);S=this._tiles[R],S&&(S.loaded=+new Date,this._map._fadeAnimated?(nr(S.el,0),mt(this._fadeFrame),this._fadeFrame=ut(this._updateOpacity,this)):(S.active=!0,this._pruneTiles()),b||(ur(S.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:S.el,coords:d})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Be.ielt9||!this._map._fadeAnimated?ut(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(d){return d.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(d){var b=new Kt(this._wrapX?_(d.x,this._wrapX):d.x,this._wrapY?_(d.y,this._wrapY):d.y);return b.z=d.z,b},_pxBoundsToTileRange:function(d){var b=this.getTileSize();return new zt(d.min.unscaleBy(b).floor(),d.max.unscaleBy(b).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var d in this._tiles)if(!this._tiles[d].loaded)return!1;return!0}});function pm(d){return new Eu(d)}var _l=Eu.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(d,b){this._url=d,b=B(this,b),b.detectRetina&&Be.retina&&b.maxZoom>0?(b.tileSize=Math.floor(b.tileSize/2),b.zoomReverse?(b.zoomOffset--,b.minZoom=Math.min(b.maxZoom,b.minZoom+1)):(b.zoomOffset++,b.maxZoom=Math.max(b.minZoom,b.maxZoom-1)),b.minZoom=Math.max(0,b.minZoom)):b.zoomReverse?b.minZoom=Math.min(b.maxZoom,b.minZoom):b.maxZoom=Math.max(b.minZoom,b.maxZoom),typeof b.subdomains=="string"&&(b.subdomains=b.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(d,b){return this._url===d&&b===void 0&&(b=!0),this._url=d,b||this.redraw(),this},createTile:function(d,b){var S=document.createElement("img");return sr(S,"load",p(this._tileOnLoad,this,b,S)),sr(S,"error",p(this._tileOnError,this,b,S)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(S.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(S.referrerPolicy=this.options.referrerPolicy),S.alt="",S.src=this.getTileUrl(d),S},getTileUrl:function(d){var b={r:Be.retina?"@2x":"",s:this._getSubdomain(d),x:d.x,y:d.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var S=this._globalTileRange.max.y-d.y;this.options.tms&&(b.y=S),b["-y"]=S}return $(this._url,l(b,this.options))},_tileOnLoad:function(d,b){Be.ielt9?setTimeout(p(d,this,null,b),0):d(null,b)},_tileOnError:function(d,b,S){var R=this.options.errorTileUrl;R&&b.getAttribute("src")!==R&&(b.src=R),d(S,b)},_onTileRemove:function(d){d.tile.onload=null},_getZoomForUrl:function(){var d=this._tileZoom,b=this.options.maxZoom,S=this.options.zoomReverse,R=this.options.zoomOffset;return S&&(d=b-d),d+R},_getSubdomain:function(d){var b=Math.abs(d.x+d.y)%this.options.subdomains.length;return this.options.subdomains[b]},_abortLoading:function(){var d,b;for(d in this._tiles)if(this._tiles[d].coords.z!==this._tileZoom&&(b=this._tiles[d].el,b.onload=E,b.onerror=E,!b.complete)){b.src=ot;var S=this._tiles[d].coords;ki(b),delete this._tiles[d],this.fire("tileabort",{tile:b,coords:S})}},_removeTile:function(d){var b=this._tiles[d];if(b)return b.el.setAttribute("src",ot),Eu.prototype._removeTile.call(this,d)},_tileReady:function(d,b,S){if(!(!this._map||S&&S.getAttribute("src")===ot))return Eu.prototype._tileReady.call(this,d,b,S)}});function Ip(d,b){return new _l(d,b)}var Nh=_l.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(d,b){this._url=d;var S=l({},this.defaultWmsParams);for(var R in b)R in this.options||(S[R]=b[R]);b=B(this,b);var U=b.detectRetina&&Be.retina?2:1,rt=this.getTileSize();S.width=rt.x*U,S.height=rt.y*U,this.wmsParams=S},onAdd:function(d){this._crs=this.options.crs||d.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var b=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[b]=this._crs.code,_l.prototype.onAdd.call(this,d)},getTileUrl:function(d){var b=this._tileCoordsToNwSe(d),S=this._crs,R=Wt(S.project(b[0]),S.project(b[1])),U=R.min,rt=R.max,yt=(this._wmsVersion>=1.3&&this._crs===hc?[U.y,U.x,rt.y,rt.x]:[U.x,U.y,rt.x,rt.y]).join(","),Lt=_l.prototype.getTileUrl.call(this,d);return Lt+G(this.wmsParams,Lt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+yt},setParams:function(d,b){return l(this.wmsParams,d),b||this.redraw(),this}});function fm(d,b){return new Nh(d,b)}_l.WMS=Nh,Ip.wms=fm;var vs=ho.extend({options:{padding:.1},initialize:function(d){B(this,d),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ur(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var d={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(d.zoomanim=this._onAnimZoom),d},_onAnimZoom:function(d){this._updateTransform(d.center,d.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(d,b){var S=this._map.getZoomScale(b,this._zoom),R=this._map.getSize().multiplyBy(.5+this.options.padding),U=this._map.project(this._center,b),rt=R.multiplyBy(-S).add(U).subtract(this._map._getNewPixelOrigin(d,b));Be.any3d?dl(this._container,rt,S):Xi(this._container,rt)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var d in this._layers)this._layers[d]._reset()},_onZoomEnd:function(){for(var d in this._layers)this._layers[d]._project()},_updatePaths:function(){for(var d in this._layers)this._layers[d]._update()},_update:function(){var d=this.options.padding,b=this._map.getSize(),S=this._map.containerPointToLayerPoint(b.multiplyBy(-d)).round();this._bounds=new zt(S,S.add(b.multiplyBy(1+d*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Dh=vs.extend({options:{tolerance:0},getEvents:function(){var d=vs.prototype.getEvents.call(this);return d.viewprereset=this._onViewPreReset,d},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){vs.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var d=this._container=document.createElement("canvas");sr(d,"mousemove",this._onMouseMove,this),sr(d,"click dblclick mousedown mouseup contextmenu",this._onClick,this),sr(d,"mouseout",this._handleMouseOut,this),d._leaflet_disable_events=!0,this._ctx=d.getContext("2d")},_destroyContainer:function(){mt(this._redrawRequest),delete this._ctx,ki(this._container),hi(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var d;this._redrawBounds=null;for(var b in this._layers)d=this._layers[b],d._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){vs.prototype._update.call(this);var d=this._bounds,b=this._container,S=d.getSize(),R=Be.retina?2:1;Xi(b,d.min),b.width=R*S.x,b.height=R*S.y,b.style.width=S.x+"px",b.style.height=S.y+"px",Be.retina&&this._ctx.scale(2,2),this._ctx.translate(-d.min.x,-d.min.y),this.fire("update")}},_reset:function(){vs.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(d){this._updateDashArray(d),this._layers[m(d)]=d;var b=d._order={layer:d,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=b),this._drawLast=b,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(d){this._requestRedraw(d)},_removePath:function(d){var b=d._order,S=b.next,R=b.prev;S?S.prev=R:this._drawLast=R,R?R.next=S:this._drawFirst=S,delete d._order,delete this._layers[m(d)],this._requestRedraw(d)},_updatePath:function(d){this._extendRedrawBounds(d),d._project(),d._update(),this._requestRedraw(d)},_updateStyle:function(d){this._updateDashArray(d),this._requestRedraw(d)},_updateDashArray:function(d){if(typeof d.options.dashArray=="string"){var b=d.options.dashArray.split(/[, ]+/),S=[],R,U;for(U=0;U<b.length;U++){if(R=Number(b[U]),isNaN(R))return;S.push(R)}d.options._dashArray=S}else d.options._dashArray=d.options.dashArray},_requestRedraw:function(d){this._map&&(this._extendRedrawBounds(d),this._redrawRequest=this._redrawRequest||ut(this._redraw,this))},_extendRedrawBounds:function(d){if(d._pxBounds){var b=(d.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new zt,this._redrawBounds.extend(d._pxBounds.min.subtract([b,b])),this._redrawBounds.extend(d._pxBounds.max.add([b,b]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var d=this._redrawBounds;if(d){var b=d.getSize();this._ctx.clearRect(d.min.x,d.min.y,b.x,b.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var d,b=this._redrawBounds;if(this._ctx.save(),b){var S=b.getSize();this._ctx.beginPath(),this._ctx.rect(b.min.x,b.min.y,S.x,S.y),this._ctx.clip()}this._drawing=!0;for(var R=this._drawFirst;R;R=R.next)d=R.layer,(!b||d._pxBounds&&d._pxBounds.intersects(b))&&d._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(d,b){if(this._drawing){var S,R,U,rt,yt=d._parts,Lt=yt.length,Ht=this._ctx;if(Lt){for(Ht.beginPath(),S=0;S<Lt;S++){for(R=0,U=yt[S].length;R<U;R++)rt=yt[S][R],Ht[R?"lineTo":"moveTo"](rt.x,rt.y);b&&Ht.closePath()}this._fillStroke(Ht,d)}}},_updateCircle:function(d){if(!(!this._drawing||d._empty())){var b=d._point,S=this._ctx,R=Math.max(Math.round(d._radius),1),U=(Math.max(Math.round(d._radiusY),1)||R)/R;U!==1&&(S.save(),S.scale(1,U)),S.beginPath(),S.arc(b.x,b.y/U,R,0,Math.PI*2,!1),U!==1&&S.restore(),this._fillStroke(S,d)}},_fillStroke:function(d,b){var S=b.options;S.fill&&(d.globalAlpha=S.fillOpacity,d.fillStyle=S.fillColor||S.color,d.fill(S.fillRule||"evenodd")),S.stroke&&S.weight!==0&&(d.setLineDash&&d.setLineDash(b.options&&b.options._dashArray||[]),d.globalAlpha=S.opacity,d.lineWidth=S.weight,d.strokeStyle=S.color,d.lineCap=S.lineCap,d.lineJoin=S.lineJoin,d.stroke())},_onClick:function(d){for(var b=this._map.mouseEventToLayerPoint(d),S,R,U=this._drawFirst;U;U=U.next)S=U.layer,S.options.interactive&&S._containsPoint(b)&&(!(d.type==="click"||d.type==="preclick")||!this._map._draggableMoved(S))&&(R=S);this._fireEvent(R?[R]:!1,d)},_onMouseMove:function(d){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var b=this._map.mouseEventToLayerPoint(d);this._handleMouseHover(d,b)}},_handleMouseOut:function(d){var b=this._hoveredLayer;b&&(Qe(this._container,"leaflet-interactive"),this._fireEvent([b],d,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(d,b){if(!this._mouseHoverThrottled){for(var S,R,U=this._drawFirst;U;U=U.next)S=U.layer,S.options.interactive&&S._containsPoint(b)&&(R=S);R!==this._hoveredLayer&&(this._handleMouseOut(d),R&&(ur(this._container,"leaflet-interactive"),this._fireEvent([R],d,"mouseover"),this._hoveredLayer=R)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,d),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(d,b,S){this._map._fireDOMEvent(b,S||b.type,d)},_bringToFront:function(d){var b=d._order;if(b){var S=b.next,R=b.prev;if(S)S.prev=R;else return;R?R.next=S:S&&(this._drawFirst=S),b.prev=this._drawLast,this._drawLast.next=b,b.next=null,this._drawLast=b,this._requestRedraw(d)}},_bringToBack:function(d){var b=d._order;if(b){var S=b.next,R=b.prev;if(R)R.next=S;else return;S?S.prev=R:R&&(this._drawLast=R),b.prev=null,b.next=this._drawFirst,this._drawFirst.prev=b,this._drawFirst=b,this._requestRedraw(d)}}});function Fh(d){return Be.canvas?new Dh(d):null}var mc=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(d){return document.createElement("<lvml:"+d+' class="lvml">')}}catch{}return function(d){return document.createElement("<"+d+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Kn={_initContainer:function(){this._container=ri("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(vs.prototype._update.call(this),this.fire("update"))},_initPath:function(d){var b=d._container=mc("shape");ur(b,"leaflet-vml-shape "+(this.options.className||"")),b.coordsize="1 1",d._path=mc("path"),b.appendChild(d._path),this._updateStyle(d),this._layers[m(d)]=d},_addPath:function(d){var b=d._container;this._container.appendChild(b),d.options.interactive&&d.addInteractiveTarget(b)},_removePath:function(d){var b=d._container;ki(b),d.removeInteractiveTarget(b),delete this._layers[m(d)]},_updateStyle:function(d){var b=d._stroke,S=d._fill,R=d.options,U=d._container;U.stroked=!!R.stroke,U.filled=!!R.fill,R.stroke?(b||(b=d._stroke=mc("stroke")),U.appendChild(b),b.weight=R.weight+"px",b.color=R.color,b.opacity=R.opacity,R.dashArray?b.dashStyle=j(R.dashArray)?R.dashArray.join(" "):R.dashArray.replace(/( *, *)/g," "):b.dashStyle="",b.endcap=R.lineCap.replace("butt","flat"),b.joinstyle=R.lineJoin):b&&(U.removeChild(b),d._stroke=null),R.fill?(S||(S=d._fill=mc("fill")),U.appendChild(S),S.color=R.fillColor||R.color,S.opacity=R.fillOpacity):S&&(U.removeChild(S),d._fill=null)},_updateCircle:function(d){var b=d._point.round(),S=Math.round(d._radius),R=Math.round(d._radiusY||S);this._setPath(d,d._empty()?"M0 0":"AL "+b.x+","+b.y+" "+S+","+R+" 0,"+65535*360)},_setPath:function(d,b){d._path.v=b},_bringToFront:function(d){Ra(d._container)},_bringToBack:function(d){Aa(d._container)}},Bh=Be.vml?mc:A,vc=vs.extend({_initContainer:function(){this._container=Bh("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Bh("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ki(this._container),hi(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){vs.prototype._update.call(this);var d=this._bounds,b=d.getSize(),S=this._container;(!this._svgSize||!this._svgSize.equals(b))&&(this._svgSize=b,S.setAttribute("width",b.x),S.setAttribute("height",b.y)),Xi(S,d.min),S.setAttribute("viewBox",[d.min.x,d.min.y,b.x,b.y].join(" ")),this.fire("update")}},_initPath:function(d){var b=d._path=Bh("path");d.options.className&&ur(b,d.options.className),d.options.interactive&&ur(b,"leaflet-interactive"),this._updateStyle(d),this._layers[m(d)]=d},_addPath:function(d){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(d._path),d.addInteractiveTarget(d._path)},_removePath:function(d){ki(d._path),d.removeInteractiveTarget(d._path),delete this._layers[m(d)]},_updatePath:function(d){d._project(),d._update()},_updateStyle:function(d){var b=d._path,S=d.options;b&&(S.stroke?(b.setAttribute("stroke",S.color),b.setAttribute("stroke-opacity",S.opacity),b.setAttribute("stroke-width",S.weight),b.setAttribute("stroke-linecap",S.lineCap),b.setAttribute("stroke-linejoin",S.lineJoin),S.dashArray?b.setAttribute("stroke-dasharray",S.dashArray):b.removeAttribute("stroke-dasharray"),S.dashOffset?b.setAttribute("stroke-dashoffset",S.dashOffset):b.removeAttribute("stroke-dashoffset")):b.setAttribute("stroke","none"),S.fill?(b.setAttribute("fill",S.fillColor||S.color),b.setAttribute("fill-opacity",S.fillOpacity),b.setAttribute("fill-rule",S.fillRule||"evenodd")):b.setAttribute("fill","none"))},_updatePoly:function(d,b){this._setPath(d,X(d._parts,b))},_updateCircle:function(d){var b=d._point,S=Math.max(Math.round(d._radius),1),R=Math.max(Math.round(d._radiusY),1)||S,U="a"+S+","+R+" 0 1,0 ",rt=d._empty()?"M0 0":"M"+(b.x-S)+","+b.y+U+S*2+",0 "+U+-S*2+",0 ";this._setPath(d,rt)},_setPath:function(d,b){d._path.setAttribute("d",b)},_bringToFront:function(d){Ra(d._path)},_bringToBack:function(d){Aa(d._path)}});Be.vml&&vc.include(Kn);function Lp(d){return Be.svg||Be.vml?new vc(d):null}Xr.include({getRenderer:function(d){var b=d.options.renderer||this._getPaneRenderer(d.options.pane)||this.options.renderer||this._renderer;return b||(b=this._renderer=this._createRenderer()),this.hasLayer(b)||this.addLayer(b),b},_getPaneRenderer:function(d){if(d==="overlayPane"||d===void 0)return!1;var b=this._paneRenderers[d];return b===void 0&&(b=this._createRenderer({pane:d}),this._paneRenderers[d]=b),b},_createRenderer:function(d){return this.options.preferCanvas&&Fh(d)||Lp(d)}});var Rp=pc.extend({initialize:function(d,b){pc.prototype.initialize.call(this,this._boundsToLatLngs(d),b)},setBounds:function(d){return this.setLatLngs(this._boundsToLatLngs(d))},_boundsToLatLngs:function(d){return d=ve(d),[d.getSouthWest(),d.getNorthWest(),d.getNorthEast(),d.getSouthEast()]}});function Oy(d,b){return new Rp(d,b)}vc.create=Bh,vc.pointsToPath=X,Js.geometryToLayer=Lh,Js.coordsToLatLng=Tp,Js.coordsToLatLngs=Rh,Js.latLngToCoords=Sp,Js.latLngsToCoords=Ah,Js.getFeature=fc,Js.asFeature=zh,Xr.mergeOptions({boxZoom:!0});var Ap=Ji.extend({initialize:function(d){this._map=d,this._container=d._container,this._pane=d._panes.overlayPane,this._resetStateTimeout=0,d.on("unload",this._destroy,this)},addHooks:function(){sr(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){hi(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ki(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(d){if(!d.shiftKey||d.which!==1&&d.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),sc(),hp(),this._startPoint=this._map.mouseEventToContainerPoint(d),sr(document,{contextmenu:gl,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(d){this._moved||(this._moved=!0,this._box=ri("div","leaflet-zoom-box",this._container),ur(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(d);var b=new zt(this._point,this._startPoint),S=b.getSize();Xi(this._box,b.min),this._box.style.width=S.x+"px",this._box.style.height=S.y+"px"},_finish:function(){this._moved&&(ki(this._box),Qe(this._container,"leaflet-crosshair")),ac(),cc(),hi(document,{contextmenu:gl,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(d){if(!(d.which!==1&&d.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var b=new ee(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(b).fire("boxzoomend",{boxZoomBounds:b})}},_onKeyDown:function(d){d.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Xr.addInitHook("addHandler","boxZoom",Ap),Xr.mergeOptions({doubleClickZoom:!0});var zp=Ji.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(d){var b=this._map,S=b.getZoom(),R=b.options.zoomDelta,U=d.originalEvent.shiftKey?S-R:S+R;b.options.doubleClickZoom==="center"?b.setZoom(U):b.setZoomAround(d.containerPoint,U)}});Xr.addInitHook("addHandler","doubleClickZoom",zp),Xr.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var jh=Ji.extend({addHooks:function(){if(!this._draggable){var d=this._map;this._draggable=new Zo(d._mapPane,d._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),d.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),d.on("zoomend",this._onZoomEnd,this),d.whenReady(this._onZoomEnd,this))}ur(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Qe(this._map._container,"leaflet-grab"),Qe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var d=this._map;if(d._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var b=ve(this._map.options.maxBounds);this._offsetLimit=Wt(this._map.latLngToContainerPoint(b.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(b.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;d.fire("movestart").fire("dragstart"),d.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(d){if(this._map.options.inertia){var b=this._lastTime=+new Date,S=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(S),this._times.push(b),this._prunePositions(b)}this._map.fire("move",d).fire("drag",d)},_prunePositions:function(d){for(;this._positions.length>1&&d-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var d=this._map.getSize().divideBy(2),b=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=b.subtract(d).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(d,b){return d-(d-b)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var d=this._draggable._newPos.subtract(this._draggable._startPos),b=this._offsetLimit;d.x<b.min.x&&(d.x=this._viscousLimit(d.x,b.min.x)),d.y<b.min.y&&(d.y=this._viscousLimit(d.y,b.min.y)),d.x>b.max.x&&(d.x=this._viscousLimit(d.x,b.max.x)),d.y>b.max.y&&(d.y=this._viscousLimit(d.y,b.max.y)),this._draggable._newPos=this._draggable._startPos.add(d)}},_onPreDragWrap:function(){var d=this._worldWidth,b=Math.round(d/2),S=this._initialWorldOffset,R=this._draggable._newPos.x,U=(R-b+S)%d+b-S,rt=(R+b+S)%d-b-S,yt=Math.abs(U+S)<Math.abs(rt+S)?U:rt;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=yt},_onDragEnd:function(d){var b=this._map,S=b.options,R=!S.inertia||d.noInertia||this._times.length<2;if(b.fire("dragend",d),R)b.fire("moveend");else{this._prunePositions(+new Date);var U=this._lastPos.subtract(this._positions[0]),rt=(this._lastTime-this._times[0])/1e3,yt=S.easeLinearity,Lt=U.multiplyBy(yt/rt),Ht=Lt.distanceTo([0,0]),Qt=Math.min(S.inertiaMaxSpeed,Ht),xe=Lt.multiplyBy(Qt/Ht),Ye=Qt/(S.inertiaDeceleration*yt),dr=xe.multiplyBy(-Ye/2).round();!dr.x&&!dr.y?b.fire("moveend"):(dr=b._limitOffset(dr,b.options.maxBounds),ut(function(){b.panBy(dr,{duration:Ye,easeLinearity:yt,noMoveStart:!0,animate:!0})}))}}});Xr.addInitHook("addHandler","dragging",jh),Xr.mergeOptions({keyboard:!0,keyboardPanDelta:80});var gm=Ji.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(d){this._map=d,this._setPanDelta(d.options.keyboardPanDelta),this._setZoomDelta(d.options.zoomDelta)},addHooks:function(){var d=this._map._container;d.tabIndex<=0&&(d.tabIndex="0"),sr(d,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),hi(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var d=document.body,b=document.documentElement,S=d.scrollTop||b.scrollTop,R=d.scrollLeft||b.scrollLeft;this._map._container.focus(),window.scrollTo(R,S)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(d){var b=this._panKeys={},S=this.keyCodes,R,U;for(R=0,U=S.left.length;R<U;R++)b[S.left[R]]=[-1*d,0];for(R=0,U=S.right.length;R<U;R++)b[S.right[R]]=[d,0];for(R=0,U=S.down.length;R<U;R++)b[S.down[R]]=[0,d];for(R=0,U=S.up.length;R<U;R++)b[S.up[R]]=[0,-1*d]},_setZoomDelta:function(d){var b=this._zoomKeys={},S=this.keyCodes,R,U;for(R=0,U=S.zoomIn.length;R<U;R++)b[S.zoomIn[R]]=d;for(R=0,U=S.zoomOut.length;R<U;R++)b[S.zoomOut[R]]=-d},_addHooks:function(){sr(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){hi(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(d){if(!(d.altKey||d.ctrlKey||d.metaKey)){var b=d.keyCode,S=this._map,R;if(b in this._panKeys){if(!S._panAnim||!S._panAnim._inProgress)if(R=this._panKeys[b],d.shiftKey&&(R=kt(R).multiplyBy(3)),S.options.maxBounds&&(R=S._limitOffset(kt(R),S.options.maxBounds)),S.options.worldCopyJump){var U=S.wrapLatLng(S.unproject(S.project(S.getCenter()).add(R)));S.panTo(U)}else S.panBy(R)}else if(b in this._zoomKeys)S.setZoom(S.getZoom()+(d.shiftKey?3:1)*this._zoomKeys[b]);else if(b===27&&S._popup&&S._popup.options.closeOnEscapeKey)S.closePopup();else return;gl(d)}}});Xr.addInitHook("addHandler","keyboard",gm),Xr.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var yc=Ji.extend({addHooks:function(){sr(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){hi(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(d){var b=Qg(d),S=this._map.options.wheelDebounceTime;this._delta+=b,this._lastMousePos=this._map.mouseEventToContainerPoint(d),this._startTime||(this._startTime=+new Date);var R=Math.max(S-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),R),gl(d)},_performZoom:function(){var d=this._map,b=d.getZoom(),S=this._map.options.zoomSnap||0;d._stop();var R=this._delta/(this._map.options.wheelPxPerZoomLevel*4),U=4*Math.log(2/(1+Math.exp(-Math.abs(R))))/Math.LN2,rt=S?Math.ceil(U/S)*S:U,yt=d._limitZoom(b+(this._delta>0?rt:-rt))-b;this._delta=0,this._startTime=null,yt&&(d.options.scrollWheelZoom==="center"?d.setZoom(b+yt):d.setZoomAround(this._lastMousePos,b+yt))}});Xr.addInitHook("addHandler","scrollWheelZoom",yc);var Ny=600;Xr.mergeOptions({tapHold:Be.touchNative&&Be.safari&&Be.mobile,tapTolerance:15});var Op=Ji.extend({addHooks:function(){sr(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){hi(this._map._container,"touchstart",this._onDown,this)},_onDown:function(d){if(clearTimeout(this._holdTimeout),d.touches.length===1){var b=d.touches[0];this._startPos=this._newPos=new Kt(b.clientX,b.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(sr(document,"touchend",Ki),sr(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",b))},this),Ny),sr(document,"touchend touchcancel contextmenu",this._cancel,this),sr(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function d(){hi(document,"touchend",Ki),hi(document,"touchend touchcancel",d)},_cancel:function(){clearTimeout(this._holdTimeout),hi(document,"touchend touchcancel contextmenu",this._cancel,this),hi(document,"touchmove",this._onMove,this)},_onMove:function(d){var b=d.touches[0];this._newPos=new Kt(b.clientX,b.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(d,b){var S=new MouseEvent(d,{bubbles:!0,cancelable:!0,view:window,screenX:b.screenX,screenY:b.screenY,clientX:b.clientX,clientY:b.clientY});S._simulated=!0,b.target.dispatchEvent(S)}});Xr.addInitHook("addHandler","tapHold",Op),Xr.mergeOptions({touchZoom:Be.touch,bounceAtZoomLimits:!0});var Np=Ji.extend({addHooks:function(){ur(this._map._container,"leaflet-touch-zoom"),sr(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Qe(this._map._container,"leaflet-touch-zoom"),hi(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(d){var b=this._map;if(!(!d.touches||d.touches.length!==2||b._animatingZoom||this._zooming)){var S=b.mouseEventToContainerPoint(d.touches[0]),R=b.mouseEventToContainerPoint(d.touches[1]);this._centerPoint=b.getSize()._divideBy(2),this._startLatLng=b.containerPointToLatLng(this._centerPoint),b.options.touchZoom!=="center"&&(this._pinchStartLatLng=b.containerPointToLatLng(S.add(R)._divideBy(2))),this._startDist=S.distanceTo(R),this._startZoom=b.getZoom(),this._moved=!1,this._zooming=!0,b._stop(),sr(document,"touchmove",this._onTouchMove,this),sr(document,"touchend touchcancel",this._onTouchEnd,this),Ki(d)}},_onTouchMove:function(d){if(!(!d.touches||d.touches.length!==2||!this._zooming)){var b=this._map,S=b.mouseEventToContainerPoint(d.touches[0]),R=b.mouseEventToContainerPoint(d.touches[1]),U=S.distanceTo(R)/this._startDist;if(this._zoom=b.getScaleZoom(U,this._startZoom),!b.options.bounceAtZoomLimits&&(this._zoom<b.getMinZoom()&&U<1||this._zoom>b.getMaxZoom()&&U>1)&&(this._zoom=b._limitZoom(this._zoom)),b.options.touchZoom==="center"){if(this._center=this._startLatLng,U===1)return}else{var rt=S._add(R)._divideBy(2)._subtract(this._centerPoint);if(U===1&&rt.x===0&&rt.y===0)return;this._center=b.unproject(b.project(this._pinchStartLatLng,this._zoom).subtract(rt),this._zoom)}this._moved||(b._moveStart(!0,!1),this._moved=!0),mt(this._animRequest);var yt=p(b._move,b,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ut(yt,this,!0),Ki(d)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,mt(this._animRequest),hi(document,"touchmove",this._onTouchMove,this),hi(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Xr.addInitHook("addHandler","touchZoom",Np),Xr.BoxZoom=Ap,Xr.DoubleClickZoom=zp,Xr.Drag=jh,Xr.Keyboard=gm,Xr.ScrollWheelZoom=yc,Xr.TapHold=Op,Xr.TouchZoom=Np,e.Bounds=zt,e.Browser=Be,e.CRS=tr,e.Canvas=Dh,e.Circle=Ep,e.CircleMarker=Ih,e.Class=ne,e.Control=uo,e.DivIcon=Pp,e.DivOverlay=cn,e.DomEvent=mp,e.DomUtil=pl,e.Draggable=Zo,e.Evented=he,e.FeatureGroup=Hn,e.GeoJSON=Js,e.GridLayer=Eu,e.Handler=Ji,e.Icon=ms,e.ImageOverlay=Qs,e.LatLng=se,e.LatLngBounds=ee,e.Layer=ho,e.LayerGroup=bl,e.LineUtil=vl,e.Map=Xr,e.Marker=wl,e.Mixin=bp,e.Path=Ys,e.Point=Kt,e.PolyUtil=Sy,e.Polygon=pc,e.Polyline=Ks,e.Popup=ku,e.PosAnimation=vp,e.Projection=sm,e.Rectangle=Rp,e.Renderer=vs,e.SVG=vc,e.SVGOverlay=gc,e.TileLayer=_l,e.Tooltip=xl,e.Transformation=Xt,e.Util=te,e.VideoOverlay=Cp,e.bind=p,e.bounds=Wt,e.canvas=Fh,e.circle=My,e.circleMarker=Py,e.control=mu,e.divIcon=Mp,e.extend=l,e.featureGroup=ln,e.geoJSON=Oh,e.geoJson=Ry,e.gridLayer=pm,e.icon=lm,e.imageOverlay=Ay,e.latLng=ue,e.latLngBounds=ve,e.layerGroup=Ph,e.map=Ey,e.marker=cm,e.point=kt,e.polygon=Ly,e.polyline=Iy,e.popup=$s,e.rectangle=Oy,e.setOptions=B,e.stamp=m,e.svg=Lp,e.svgOverlay=zy,e.tileLayer=Ip,e.tooltip=dm,e.transformation=nt,e.version=o,e.videoOverlay=hm;var Hh=window.L;e.noConflict=function(){return window.L=Hh,this},window.L=e})}(kv,kv.exports)),kv.exports}var io=VS();const ss=GS(io);var Dw={exports:{}};(function(n,i){(function(e,o){o(i)})(W1,function(e){var o={ar:{touch:"   ",scroll:" ctrl + scroll / ",scrollMac:"   +  / "},bg:{touch:"  ,    ",scroll:"  Ctrl ,  ,      ",scrollMac:"   ,  ,      "},bn:{touch:"     ",scroll:"   ctrl + scroll  ",scrollMac:"       "},ca:{touch:"Fes servir dos dits per moure el mapa",scroll:"Prem la tecla Control mentre et desplaces per apropar i allunyar el mapa",scrollMac:"Prem la tecla  mentre et desplaces per apropar i allunyar el mapa"},cs:{touch:"Kposunut mapy pouijte dva prsty",scroll:"Velikost zobrazen mapy zmte podrenm klvesy Ctrl aposouvnm koleka myi",scrollMac:"Velikost zobrazen mapy zmnte podrenm klvesy  aposunutm koleka myi / touchpadu"},da:{touch:"Brug to fingre til at flytte kortet",scroll:"Brug ctrl + rullefunktionen til at zoome ind og ud p kortet",scrollMac:"Brug  + rullefunktionen til at zoome ind og ud p kortet"},de:{touch:"Verschieben der Karte mit zwei Fingern",scroll:"Verwende Strg+Scrollen zum Zoomen der Karte",scrollMac:""},el:{touch:"      ",scroll:"   Ctrl  ,     ",scrollMac:"    +     "},en:{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use  + scroll to zoom the map"},"en-AU":{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use  + scroll to zoom the map"},"en-GB":{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use  + scroll to zoom the map"},es:{touch:"Para mover el mapa, utiliza dos dedos",scroll:"Mantn pulsada la tecla Ctrl mientras te desplazas para acercar o alejar el mapa",scrollMac:"Mantn pulsada la tecla  mientras te desplazas para acercar o alejar el mapa"},eu:{touch:"Erabili bi hatz mapa mugitzeko",scroll:"Mapan zooma aplikatzeko, sakatu Ktrl eta egin gora edo behera",scrollMac:"Eduki sakatuta  eta egin gora eta behera mapa handitu eta txikitzeko"},fa:{touch:"        .",scroll:"    ctrl + scroll  ",scrollMac:"     +   ."},fi:{touch:"Siirr karttaa kahdella sormella.",scroll:"Zoomaa karttaa painamalla Ctrl-painiketta ja vierittmll.",scrollMac:"Zoomaa karttaa pitmll painike  painettuna ja vierittmll."},fil:{touch:"Gumamit ng dalawang daliri upang iusog ang mapa",scroll:"Gamitin ang ctrl + scroll upang i-zoom ang mapa",scrollMac:"Gamitin ang  + scroll upang i-zoom ang mapa"},fr:{touch:"Utilisez deuxdoigts pour dplacer la carte",scroll:"Vous pouvez zoomer sur la carte  l'aide de CTRL+Molette de dfilement",scrollMac:"Vous pouvez zoomer sur la carte  l'aide de +Molette de dfilement"},gl:{touch:"Utiliza dous dedos para mover o mapa",scroll:"Preme Ctrl mentres te desprazas para ampliar o mapa",scrollMac:"Preme  e desprzate para ampliar o mapa"},gu:{touch:"     ",scroll:"    ctrl +   ",scrollMac:"    +   "},hi:{touch:"              ",scroll:"      ctrl +    ",scrollMac:"       +    "},hr:{touch:"Pomiite kartu pomou dva prsta",scroll:"Upotrijebite Ctrl i kliza mia da biste zumirali kartu",scrollMac:"Upotrijebite gumb  dok se pomiete za zumiranje karte"},hu:{touch:"Kt ujjal mozgassa a trkpet",scroll:"A trkp a ctrl + grgets hasznlatval nagythat",scrollMac:"A trkp a  + grgets hasznlatval nagythat"},id:{touch:"Gunakan dua jari untuk menggerakkan peta",scroll:"Gunakan ctrl + scroll untuk memperbesar atau memperkecil peta",scrollMac:"Gunakan  + scroll untuk memperbesar atau memperkecil peta"},it:{touch:"Utilizza due dita per spostare la mappa",scroll:"Utilizza CTRL + scorrimento per eseguire lo zoom della mappa",scrollMac:"Utilizza  + scorrimento per eseguire lo zoom della mappa"},iw:{touch:"     ",scroll:"        ctrl ",scrollMac:"         "},ja:{touch:" 2 ",scroll:"Ctrl ",scrollMac:" "},kn:{touch:"Use two fingers to move the map",scroll:"Use Ctrl + scroll to zoom the map",scrollMac:"Use  + scroll to zoom the map"},ko:{touch:"    .",scroll:" / Ctrl   .",scrollMac:"   +  "},lt:{touch:"Perkelkite emlap dviem pirtais",scroll:"Slinkite nuspaud klavi Ctrl, kad pakeistumte emlapio mastel",scrollMac:"Paspauskite klavi  ir slinkite, kad priartintumte emlap"},lv:{touch:"Lai prvietotu karti, bdiet to ar diviem pirkstiem",scroll:"Kartes tlummaiai izmantojiet ctrl + ritinanu",scrollMac:"Lai veiktu kartes tlummaiu, izmantojiet  + ritinanu"},ml:{touch:"    ",scroll:" +     ",scrollMac:" +     "},mr:{touch:"    ",scroll:"   ctrl + scroll ",scrollMac:"    +  "},nl:{touch:"Gebruik twee vingers om de kaart te verplaatsen",scroll:"Gebruik Ctrl + scrollen om in- en uit te zoomen op de kaart",scrollMac:"Gebruik  + scrollen om in en uit te zoomen op de kaart"},no:{touch:"Bruk to fingre for  flytte kartet",scroll:"Hold ctrl-tasten inne og rull for  zoome p kartet",scrollMac:"Hold inne -tasten og rull for  zoome p kartet"},pl:{touch:"Przesu map dwoma palcami",scroll:"Nacinij CTRL i przewi, by przybliy map",scrollMac:"Nacinij i przewi, by przybliy map"},pt:{touch:"Use dois dedos para mover o mapa",scroll:"Pressione Ctrl e role a tela simultaneamente para aplicar zoom no mapa",scrollMac:"Use  e role a tela simultaneamente para aplicar zoom no mapa"},"pt-BR":{touch:"Use dois dedos para mover o mapa",scroll:"Pressione Ctrl e role a tela simultaneamente para aplicar zoom no mapa",scrollMac:"Use  e role a tela simultaneamente para aplicar zoom no mapa"},"pt-PT":{touch:"Utilize dois dedos para mover o mapa",scroll:"Utilizar ctrl + deslocar para aumentar/diminuir zoom do mapa",scrollMac:"Utilize  + deslocar para aumentar/diminuir o zoom do mapa"},ro:{touch:"Folosii dou degete pentru a deplasa harta",scroll:"Apsai tasta ctrl i derulai simultan pentru a mri harta",scrollMac:"Folosii  i derulai pentru a mri/micora harta"},ru:{touch:"  ,     ",scroll:"  ,  ,   Ctrl.",scrollMac:"  ,  + "},sk:{touch:"Mapu mete posun dvoma prstami",scroll:"Ak chcete pribli mapu, stlate klves ctrl aposvajte",scrollMac:"Ak chcete pribli mapu, stlate klves  aposvajte kolieskom myi"},sl:{touch:"Premaknite zemljevid z dvema prstoma",scroll:"Zemljevid poveate tako, da drite tipko Ctrl in vrtite kolesce na miki",scrollMac:"Uporabite  + funkcijo pomika, da poveate ali pomanjate zemljevid"},sr:{touch:"    ",scroll:" ctrl       ",scrollMac:"        "},sv:{touch:"Anvnd tv fingrar fr att flytta kartan",scroll:"Anvnd ctrl + rulla fr att zooma kartan",scrollMac:"Anvnd  + rulla fr att zooma p kartan"},ta:{touch:"    ",scroll:" / , ctrl  , /  ",scrollMac:" / ,   , /  "},te:{touch:"     ",scroll:"   ctrl   ,  ",scrollMac:"    +  "},th:{touch:" 2 ",scroll:" Ctrl  ",scrollMac:"  "},tl:{touch:"Gumamit ng dalawang daliri upang iusog ang mapa",scroll:"Gamitin ang ctrl + scroll upang i-zoom ang mapa",scrollMac:"Gamitin ang  + scroll upang i-zoom ang mapa"},tr:{touch:"Haritada gezinmek iin iki parmanz kullann",scroll:"Haritay yaknlatrmak iin ctrl + kaydrma kombinasyonunu kullann",scrollMac:"Haritay yaknlatrmak iin  tuuna basp ekran kaydrn"},uk:{touch:"   ",scroll:"   ,   ,   Ctrl",scrollMac:"   ,   + "},vi:{touch:"S dng hai ngn tay  di chuyn bn ",scroll:"S dng ctrl + cun  thu phng bn ",scrollMac:"S dng  + cun  thu phng bn "},"zh-CN":{touch:"",scroll:" Ctrl ",scrollMac:"  "},"zh-TW":{touch:"",scroll:" ctrl ",scrollMac:"  "}};L.Map.mergeOptions({gestureHandlingOptions:{text:{},duration:1e3}});var l=!1,u=L.Handler.extend({addHooks:function(){this._handleTouch=this._handleTouch.bind(this),this._setupPluginOptions(),this._setLanguageContent(),this._disableInteractions(),this._map._container.addEventListener("touchstart",this._handleTouch),this._map._container.addEventListener("touchmove",this._handleTouch),this._map._container.addEventListener("touchend",this._handleTouch),this._map._container.addEventListener("touchcancel",this._handleTouch),this._map._container.addEventListener("click",this._handleTouch),L.DomEvent.on(this._map._container,"wheel",this._handleScroll,this),L.DomEvent.on(this._map,"mouseover",this._handleMouseOver,this),L.DomEvent.on(this._map,"mouseout",this._handleMouseOut,this),L.DomEvent.on(this._map,"movestart",this._handleDragging,this),L.DomEvent.on(this._map,"move",this._handleDragging,this),L.DomEvent.on(this._map,"moveend",this._handleDragging,this)},removeHooks:function(){this._enableInteractions(),this._map._container.removeEventListener("touchstart",this._handleTouch),this._map._container.removeEventListener("touchmove",this._handleTouch),this._map._container.removeEventListener("touchend",this._handleTouch),this._map._container.removeEventListener("touchcancel",this._handleTouch),this._map._container.removeEventListener("click",this._handleTouch),L.DomEvent.off(this._map._container,"wheel",this._handleScroll,this),L.DomEvent.off(this._map,"mouseover",this._handleMouseOver,this),L.DomEvent.off(this._map,"mouseout",this._handleMouseOut,this),L.DomEvent.off(this._map,"movestart",this._handleDragging,this),L.DomEvent.off(this._map,"move",this._handleDragging,this),L.DomEvent.off(this._map,"moveend",this._handleDragging,this)},_handleDragging:function(p){p.type=="movestart"||p.type=="move"?l=!0:p.type=="moveend"&&(l=!1)},_disableInteractions:function(){this._map.dragging.disable(),this._map.scrollWheelZoom.disable(),this._map.tap&&this._map.tap.disable()},_enableInteractions:function(){this._map.dragging.enable(),this._map.scrollWheelZoom.enable(),this._map.tap&&this._map.tap.enable()},_setupPluginOptions:function(){this._map.options.gestureHandlingText&&(this._map.options.gestureHandlingOptions.text=this._map.options.gestureHandlingText)},_setLanguageContent:function(){var p;if(this._map.options.gestureHandlingOptions&&this._map.options.gestureHandlingOptions.text&&this._map.options.gestureHandlingOptions.text.touch&&this._map.options.gestureHandlingOptions.text.scroll&&this._map.options.gestureHandlingOptions.text.scrollMac)p=this._map.options.gestureHandlingOptions.text;else{var f=this._getUserLanguage();f||(f="en"),o[f]&&(p=o[f]),p||f.indexOf("-")===-1||(f=f.split("-")[0],p=o[f]),p||(p=o[f="en"])}var m=!1;0<=navigator.platform.toUpperCase().indexOf("MAC")&&(m=!0);var y=p.scroll;m&&(y=p.scrollMac),this._map._container.setAttribute("data-gesture-handling-touch-content",p.touch),this._map._container.setAttribute("data-gesture-handling-scroll-content",y)},_getUserLanguage:function(){return navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage},_handleTouch:function(p){for(var f=["leaflet-control-minimap","leaflet-interactive","leaflet-popup-content","leaflet-popup-content-wrapper","leaflet-popup-close-button","leaflet-control-zoom-in","leaflet-control-zoom-out"],m=!1,y=0;y<f.length;y++)L.DomUtil.hasClass(p.target,f[y])&&(m=!0);m?L.DomUtil.hasClass(p.target,"leaflet-interactive")&&p.type==="touchmove"&&p.touches.length===1?(L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-touch-warning"),this._disableInteractions()):L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-touch-warning"):p.type==="touchmove"||p.type==="touchstart"?p.touches.length===1?(L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-touch-warning"),this._disableInteractions()):(p.preventDefault(),this._enableInteractions(),L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-touch-warning")):L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-touch-warning")},_isScrolling:!1,_handleScroll:function(p){p.metaKey||p.ctrlKey?(p.preventDefault(),L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-scroll-warning"),this._map.scrollWheelZoom.enable()):(L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-scroll-warning"),this._map.scrollWheelZoom.disable(),clearTimeout(this._isScrolling),this._isScrolling=setTimeout(function(){for(var f=document.getElementsByClassName("leaflet-gesture-handling-scroll-warning"),m=0;m<f.length;m++)L.DomUtil.removeClass(f[m],"leaflet-gesture-handling-scroll-warning")},this._map.options.gestureHandlingOptions.duration))},_handleMouseOver:function(p){this._enableInteractions()},_handleMouseOut:function(p){l||this._disableInteractions()}});L.Map.addInitHook("addHandler","gestureHandling",u),e.GestureHandling=u,e.default=u,Object.defineProperty(e,"__esModule",{value:!0})})})(Dw,Dw.exports);var y3=Dw.exports;L.Control.Opacity=L.Control.extend({options:{collapsed:!1,position:"topright",label:null},initialize:function(n,i){for(const e in L.Util.setOptions(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,n)this._addLayer(n[e],e,!0)},onAdd:function(n){return this._initLayout(),this._update(),this._container},expand:function(){L.DomUtil.addClass(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._form.clientHeight?(L.DomUtil.addClass(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=n+"px"):L.DomUtil.removeClass(this._form,"leaflet-control-layers-scrollbar"),this},collapse:function(){return L.DomUtil.removeClass(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){const n="leaflet-control-layers",i=this._container=L.DomUtil.create("div",n),e=this.options.collapsed;if(i.setAttribute("aria-haspopup",!0),L.DomEvent.disableClickPropagation(i),L.DomEvent.disableScrollPropagation(i),this.options.label){const u=L.DomUtil.create("p",n+"-label");u.innerHTML=this.options.label,i.appendChild(u)}var o=this._form=L.DomUtil.create("form",n+"-list");e&&(this._map.on("click zoom move",this.collapse,this),L.Browser.android||L.DomEvent.on(i,{mouseenter:this.expand,mouseleave:this.collapse},this));const l=this._layersLink=L.DomUtil.create("a",n+"-toggle",i);l.href="#",l.title="Layers",L.Browser.touch?(L.DomEvent.on(l,"click",L.DomEvent.stop),L.DomEvent.on(l,"click",this.expand,this)):L.DomEvent.on(l,"focus",this.expand,this),e||this.expand(),this._baseLayersList=L.DomUtil.create("div",n+"-base",o),this._separator=L.DomUtil.create("div",n+"-separator",o),this._overlaysList=L.DomUtil.create("div",n+"-overlays",o),i.appendChild(o)},_getLayer:function(n){for(let i=0;i<this._layers.length;i++)if(this._layers[i]&&L.Util.stamp(this._layers[i].layer)===n)return this._layers[i]},_addLayer:function(n,i,e){this._layers.push({layer:n,name:i,overlay:e})},_update:function(){if(!this._container)return this;L.DomUtil.empty(this._baseLayersList),L.DomUtil.empty(this._overlaysList),this._layerControlInputs=[];let n,i,e,o,l=0;for(e=0;e<this._layers.length;e++)o=this._layers[e],this._addItem(o),i=i||o.overlay,n=n||!o.overlay,l+=o.overlay?0:1;this.options.hideSingleBase&&(n=n&&1<l,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=i&&n?"":"none"},_addItem:function(n){let i=document.createElement("label"),e=document.createElement("input");n.overlay?(e.type="range",e.className="leaflet-control-layers-range",e.min=0,e.max=100,e.value=100*n.layer.options.opacity):e=this._createRadioElement("leaflet-base-layers",checked),this._layerControlInputs.push(e),e.layerId=L.Util.stamp(n.layer),e.addEventListener("input",f=>{f=f.target.value;const m=this._getLayer(e.layerId).layer;m._url===void 0||m.setOpacity(Number(f/100))});const o=document.createElement("span");o.innerHTML=" "+n.name;const l=document.createElement("div"),u=document.createElement("div");i.appendChild(l),l.appendChild(o),i.appendChild(u),u.appendChild(e),(n.overlay?this._overlaysList:this._baseLayersList).appendChild(i)}}),L.control.opacity=function(n,i){return new L.Control.Opacity(n,i)};(function(n,i){typeof exports=="object"&&typeof module<"u"?i(exports):typeof define=="function"&&define.amd?define(["exports"],i):i((n=typeof globalThis<"u"?globalThis:n||self).turf={})})(globalThis,function(n){var i=63710088e-1,e={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260511392e-6,inches:39.37*i,kilometers:6371.0088,kilometres:6371.0088,meters:i,metres:i,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:i/1852,radians:1,yards:6967335223679999e-9},o={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/i,yards:1.0936133},l={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function u(t,r,s){s===void 0&&(s={});var a={type:"Feature"};return(s.id===0||s.id)&&(a.id=s.id),s.bbox&&(a.bbox=s.bbox),a.properties=r||{},a.geometry=t,a}function p(t,r,s){switch(t){case"Point":return f(r).geometry;case"LineString":return E(r).geometry;case"Polygon":return y(r).geometry;case"MultiPoint":return B(r).geometry;case"MultiLineString":return z(r).geometry;case"MultiPolygon":return G(r).geometry;default:throw new Error(t+" is invalid")}}function f(t,r,s){if(s===void 0&&(s={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ut(t[0])||!ut(t[1]))throw new Error("coordinates must contain numbers");return u({type:"Point",coordinates:t},r,s)}function m(t,r,s){return s===void 0&&(s={}),I(t.map(function(a){return f(a,r)}),s)}function y(t,r,s){s===void 0&&(s={});for(var a=0,c=t;a<c.length;a++){var h=c[a];if(h.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var g=0;g<h[h.length-1].length;g++)if(h[h.length-1][g]!==h[0][g])throw new Error("First and last Position are not equivalent.")}return u({type:"Polygon",coordinates:t},r,s)}function _(t,r,s){return s===void 0&&(s={}),I(t.map(function(a){return y(a,r)}),s)}function E(t,r,s){if(s===void 0&&(s={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return u({type:"LineString",coordinates:t},r,s)}function C(t,r,s){return s===void 0&&(s={}),I(t.map(function(a){return E(a,r)}),s)}function I(t,r){r===void 0&&(r={});var s={type:"FeatureCollection"};return r.id&&(s.id=r.id),r.bbox&&(s.bbox=r.bbox),s.features=t,s}function z(t,r,s){return s===void 0&&(s={}),u({type:"MultiLineString",coordinates:t},r,s)}function B(t,r,s){return s===void 0&&(s={}),u({type:"MultiPoint",coordinates:t},r,s)}function G(t,r,s){return s===void 0&&(s={}),u({type:"MultiPolygon",coordinates:t},r,s)}function H(t,r,s){return s===void 0&&(s={}),u({type:"GeometryCollection",geometries:t},r,s)}function $(t,r){if(r===void 0&&(r=0),r&&!(r>=0))throw new Error("precision must be a positive number");var s=Math.pow(10,r||0);return Math.round(t*s)/s}function j(t,r){r===void 0&&(r="kilometers");var s=e[r];if(!s)throw new Error(r+" units is invalid");return t*s}function V(t,r){r===void 0&&(r="kilometers");var s=e[r];if(!s)throw new Error(r+" units is invalid");return t/s}function ot(t,r){return ht(V(t,r))}function ft(t){var r=t%360;return r<0&&(r+=360),r}function ht(t){return 180*(t%(2*Math.PI))/Math.PI}function ct(t){return t%360*Math.PI/180}function Z(t,r,s){if(r===void 0&&(r="kilometers"),s===void 0&&(s="kilometers"),!(t>=0))throw new Error("length must be a positive number");return j(V(t,r),s)}function lt(t,r,s){if(r===void 0&&(r="meters"),s===void 0&&(s="kilometers"),!(t>=0))throw new Error("area must be a positive number");var a=l[r];if(!a)throw new Error("invalid original units");var c=l[s];if(!c)throw new Error("invalid final units");return t/a*c}function ut(t){return!isNaN(t)&&t!==null&&!Array.isArray(t)}function mt(t){return!!t&&t.constructor===Object}function te(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(t.length!==4&&t.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(function(r){if(!ut(r))throw new Error("bbox must only contain numbers")})}function ne(t){if(!t)throw new Error("id is required");if(["string","number"].indexOf(typeof t)===-1)throw new Error("id must be a number or a string")}var ye=Object.freeze({__proto__:null,earthRadius:i,factors:e,unitsFactors:o,areaFactors:l,feature:u,geometry:p,point:f,points:m,polygon:y,polygons:_,lineString:E,lineStrings:C,featureCollection:I,multiLineString:z,multiPoint:B,multiPolygon:G,geometryCollection:H,round:$,radiansToLength:j,lengthToRadians:V,lengthToDegrees:ot,bearingToAzimuth:ft,radiansToDegrees:ht,degreesToRadians:ct,convertLength:Z,convertArea:lt,isNumber:ut,isObject:mt,validateBBox:te,validateId:ne});function Gt(t,r,s){if(t!==null)for(var a,c,h,g,v,w,x,T,k=0,P=0,O=t.type,N=O==="FeatureCollection",F=O==="Feature",M=N?t.features.length:1,W=0;W<M;W++){v=(T=!!(x=N?t.features[W].geometry:F?t.geometry:t)&&x.type==="GeometryCollection")?x.geometries.length:1;for(var it=0;it<v;it++){var D=0,q=0;if((g=T?x.geometries[it]:x)!==null){w=g.coordinates;var Y=g.type;switch(k=!s||Y!=="Polygon"&&Y!=="MultiPolygon"?0:1,Y){case null:break;case"Point":if(r(w,P,W,D,q)===!1)return!1;P++,D++;break;case"LineString":case"MultiPoint":for(a=0;a<w.length;a++){if(r(w[a],P,W,D,q)===!1)return!1;P++,Y==="MultiPoint"&&D++}Y==="LineString"&&D++;break;case"Polygon":case"MultiLineString":for(a=0;a<w.length;a++){for(c=0;c<w[a].length-k;c++){if(r(w[a][c],P,W,D,q)===!1)return!1;P++}Y==="MultiLineString"&&D++,Y==="Polygon"&&q++}Y==="Polygon"&&D++;break;case"MultiPolygon":for(a=0;a<w.length;a++){for(q=0,c=0;c<w[a].length;c++){for(h=0;h<w[a][c].length-k;h++){if(r(w[a][c][h],P,W,D,q)===!1)return!1;P++}q++}D++}break;case"GeometryCollection":for(a=0;a<g.geometries.length;a++)if(Gt(g.geometries[a],r,s)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function he(t,r,s,a){var c=s;return Gt(t,function(h,g,v,w,x){c=g===0&&s===void 0?h:r(c,h,g,v,w,x)},a),c}function Kt(t,r){var s;switch(t.type){case"FeatureCollection":for(s=0;s<t.features.length&&r(t.features[s].properties,s)!==!1;s++);break;case"Feature":r(t.properties,0)}}function Je(t,r,s){var a=s;return Kt(t,function(c,h){a=h===0&&s===void 0?c:r(a,c,h)}),a}function kt(t,r){if(t.type==="Feature")r(t,0);else if(t.type==="FeatureCollection")for(var s=0;s<t.features.length&&r(t.features[s],s)!==!1;s++);}function zt(t,r,s){var a=s;return kt(t,function(c,h){a=h===0&&s===void 0?c:r(a,c,h)}),a}function Wt(t){var r=[];return Gt(t,function(s){r.push(s)}),r}function ee(t,r){var s,a,c,h,g,v,w,x,T,k,P=0,O=t.type==="FeatureCollection",N=t.type==="Feature",F=O?t.features.length:1;for(s=0;s<F;s++){for(v=O?t.features[s].geometry:N?t.geometry:t,x=O?t.features[s].properties:N?t.properties:{},T=O?t.features[s].bbox:N?t.bbox:void 0,k=O?t.features[s].id:N?t.id:void 0,g=(w=!!v&&v.type==="GeometryCollection")?v.geometries.length:1,c=0;c<g;c++)if((h=w?v.geometries[c]:v)!==null)switch(h.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(r(h,P,x,T,k)===!1)return!1;break;case"GeometryCollection":for(a=0;a<h.geometries.length;a++)if(r(h.geometries[a],P,x,T,k)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(r(null,P,x,T,k)===!1)return!1;P++}}function ve(t,r,s){var a=s;return ee(t,function(c,h,g,v,w){a=h===0&&s===void 0?c:r(a,c,h,g,v,w)}),a}function se(t,r){ee(t,function(s,a,c,h,g){var v,w=s===null?null:s.type;switch(w){case null:case"Point":case"LineString":case"Polygon":return r(u(s,c,{bbox:h,id:g}),a,0)!==!1&&void 0}switch(w){case"MultiPoint":v="Point";break;case"MultiLineString":v="LineString";break;case"MultiPolygon":v="Polygon"}for(var x=0;x<s.coordinates.length;x++){var T=s.coordinates[x];if(r(u({type:v,coordinates:T},c),a,x)===!1)return!1}})}function ue(t,r,s){var a=s;return se(t,function(c,h,g){a=h===0&&g===0&&s===void 0?c:r(a,c,h,g)}),a}function tr(t,r){se(t,function(s,a,c){var h=0;if(s.geometry){var g=s.geometry.type;if(g!=="Point"&&g!=="MultiPoint"){var v,w=0,x=0,T=0;return Gt(s,function(k,P,O,N,F){if(v===void 0||a>w||N>x||F>T)return v=k,w=a,x=N,T=F,void(h=0);var M=E([v,k],s.properties);if(r(M,a,c,F,h)===!1)return!1;h++,v=k})!==!1&&void 0}}})}function Ft(t,r,s){var a=s,c=!1;return tr(t,function(h,g,v,w,x){a=c===!1&&s===void 0?h:r(a,h,g,v,w,x),c=!0}),a}function qt(t,r){if(!t)throw new Error("geojson is required");se(t,function(s,a,c){if(s.geometry!==null){var h=s.geometry.type,g=s.geometry.coordinates;switch(h){case"LineString":if(r(s,a,c,0,0)===!1)return!1;break;case"Polygon":for(var v=0;v<g.length;v++)if(r(E(g[v],s.properties),a,c,v)===!1)return!1}}})}function Zt(t,r,s){var a=s;return qt(t,function(c,h,g,v){a=h===0&&s===void 0?c:r(a,c,h,g,v)}),a}function Xt(t,r){if(!mt(r=r||{}))throw new Error("options is invalid");var s,a=r.featureIndex||0,c=r.multiFeatureIndex||0,h=r.geometryIndex||0,g=r.segmentIndex||0,v=r.properties;switch(t.type){case"FeatureCollection":a<0&&(a=t.features.length+a),v=v||t.features[a].properties,s=t.features[a].geometry;break;case"Feature":v=v||t.properties,s=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=t;break;default:throw new Error("geojson is invalid")}if(s===null)return null;var w=s.coordinates;switch(s.type){case"Point":case"MultiPoint":return null;case"LineString":return g<0&&(g=w.length+g-1),E([w[g],w[g+1]],v,r);case"Polygon":return h<0&&(h=w.length+h),g<0&&(g=w[h].length+g-1),E([w[h][g],w[h][g+1]],v,r);case"MultiLineString":return c<0&&(c=w.length+c),g<0&&(g=w[c].length+g-1),E([w[c][g],w[c][g+1]],v,r);case"MultiPolygon":return c<0&&(c=w.length+c),h<0&&(h=w[c].length+h),g<0&&(g=w[c][h].length-g-1),E([w[c][h][g],w[c][h][g+1]],v,r)}throw new Error("geojson is invalid")}function nt(t,r){if(!mt(r=r||{}))throw new Error("options is invalid");var s,a=r.featureIndex||0,c=r.multiFeatureIndex||0,h=r.geometryIndex||0,g=r.coordIndex||0,v=r.properties;switch(t.type){case"FeatureCollection":a<0&&(a=t.features.length+a),v=v||t.features[a].properties,s=t.features[a].geometry;break;case"Feature":v=v||t.properties,s=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=t;break;default:throw new Error("geojson is invalid")}if(s===null)return null;var w=s.coordinates;switch(s.type){case"Point":return f(w,v,r);case"MultiPoint":return c<0&&(c=w.length+c),f(w[c],v,r);case"LineString":return g<0&&(g=w.length+g),f(w[g],v,r);case"Polygon":return h<0&&(h=w.length+h),g<0&&(g=w[h].length+g),f(w[h][g],v,r);case"MultiLineString":return c<0&&(c=w.length+c),g<0&&(g=w[c].length+g),f(w[c][g],v,r);case"MultiPolygon":return c<0&&(c=w.length+c),h<0&&(h=w[c].length+h),g<0&&(g=w[c][h].length-g),f(w[c][h][g],v,r)}throw new Error("geojson is invalid")}var pt=Object.freeze({__proto__:null,coordAll:Wt,coordEach:Gt,coordReduce:he,featureEach:kt,featureReduce:zt,findPoint:nt,findSegment:Xt,flattenEach:se,flattenReduce:ue,geomEach:ee,geomReduce:ve,lineEach:qt,lineReduce:Zt,propEach:Kt,propReduce:Je,segmentEach:tr,segmentReduce:Ft});function vt(t){var r=[1/0,1/0,-1/0,-1/0];return Gt(t,function(s){r[0]>s[0]&&(r[0]=s[0]),r[1]>s[1]&&(r[1]=s[1]),r[2]<s[0]&&(r[2]=s[0]),r[3]<s[1]&&(r[3]=s[1])}),r}function A(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if(t.type==="Feature"&&t.geometry!==null&&t.geometry.type==="Point")return t.geometry.coordinates;if(t.type==="Point")return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function X(t){if(Array.isArray(t))return t;if(t.type==="Feature"){if(t.geometry!==null)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function dt(t){if(t.length>1&&ut(t[0])&&ut(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return dt(t[0]);throw new Error("coordinates must only contain numbers")}function _t(t,r,s){if(!r||!s)throw new Error("type and name required");if(!t||t.type!==r)throw new Error("Invalid input to "+s+": must be a "+r+", given "+t.type)}function wt(t,r,s){if(!t)throw new Error("No feature passed");if(!s)throw new Error(".featureOf() requires a name");if(!t||t.type!=="Feature"||!t.geometry)throw new Error("Invalid input to "+s+", Feature with geometry required");if(!t.geometry||t.geometry.type!==r)throw new Error("Invalid input to "+s+": must be a "+r+", given "+t.geometry.type)}function Ot(t,r,s){if(!t)throw new Error("No featureCollection passed");if(!s)throw new Error(".collectionOf() requires a name");if(!t||t.type!=="FeatureCollection")throw new Error("Invalid input to "+s+", FeatureCollection required");for(var a=0,c=t.features;a<c.length;a++){var h=c[a];if(!h||h.type!=="Feature"||!h.geometry)throw new Error("Invalid input to "+s+", Feature with geometry required");if(!h.geometry||h.geometry.type!==r)throw new Error("Invalid input to "+s+": must be a "+r+", given "+h.geometry.type)}}function xt(t){return t.type==="Feature"?t.geometry:t}function $t(t,r){return t.type==="FeatureCollection"?"FeatureCollection":t.type==="GeometryCollection"?"GeometryCollection":t.type==="Feature"&&t.geometry!==null?t.geometry.type:t.type}vt.default=vt;var le=Object.freeze({__proto__:null,getCoord:A,getCoords:X,containsNumber:dt,geojsonType:_t,featureOf:wt,collectionOf:Ot,getGeom:xt,getType:$t}),de=Object.getOwnPropertySymbols,ae=Object.prototype.hasOwnProperty,Me=Object.prototype.propertyIsEnumerable;/*
    object-assign
    (c) Sindre Sorhus
    @license MIT
    */function Ce(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var qe=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var r={},s=0;s<10;s++)r["_"+String.fromCharCode(s)]=s;if(Object.getOwnPropertyNames(r).map(function(c){return r[c]}).join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(c){a[c]=c}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(t,r){for(var s,a,c=Ce(t),h=1;h<arguments.length;h++){for(var g in s=Object(arguments[h]))ae.call(s,g)&&(c[g]=s[g]);if(de){a=de(s);for(var v=0;v<a.length;v++)Me.call(s,a[v])&&(c[a[v]]=s[a[v]])}}return c},Q={successCallback:null,verbose:!1},K={};/**
     * @license GNU Affero General Public License.
     * Copyright (c) 2015, 2015 Ronny Lorenz <ronny@tbi.univie.ac.at>
     * v. 1.2.0
     * https://github.com/RaumZeit/MarchingSquares.js
     *
     * MarchingSquaresJS is free software: you can redistribute it and/or modify
     * it under the terms of the GNU Affero General Public License as published by
     * the Free Software Foundation, either version 3 of the License, or
     * (at your option) any later version.
     *
     * MarchingSquaresJS is distributed in the hope that it will be useful,
     * but WITHOUT ANY WARRANTY; without even the implied warranty of
     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
     * GNU Affero General Public License for more details.
     *
     * As additional permission under GNU Affero General Public License version 3
     * section 7, third-party projects (personal or commercial) may distribute,
     * include, or link against UNMODIFIED VERSIONS of MarchingSquaresJS without the
     * requirement that said third-party project for that reason alone becomes
     * subject to any requirement of the GNU Affero General Public License version 3.
     * Any modifications to MarchingSquaresJS, however, must be shared with the public
     * and made available.
     *
     * In summary this:
     * - allows you to use MarchingSquaresJS at no cost
     * - allows you to use MarchingSquaresJS for both personal and commercial purposes
     * - allows you to distribute UNMODIFIED VERSIONS of MarchingSquaresJS under any
     *   license as long as this license notice is included
     * - enables you to keep the source code of your program that uses MarchingSquaresJS
     *   undisclosed
     * - forces you to share any modifications you have made to MarchingSquaresJS,
     *   e.g. bug-fixes
     *
     * You should have received a copy of the GNU Affero General Public License
     * along with MarchingSquaresJS.  If not, see <http://www.gnu.org/licenses/>.
     */function at(t,r,s){s=s||{};for(var a=Object.keys(Q),c=0;c<a.length;c++){var h=a[c],g=s[h];g=g??Q[h],K[h]=g}K.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+r);var v=function(w){var x=[],T=0,k=1e-7;return w.cells.forEach(function(P,O){P.forEach(function(N,F){if(N!==void 0&&(tt=N).cval!==5&&tt.cval!==10&&!Vt(N)){var M=function(J,Rt,Et){var Nt,Tt,jt=J.length,Mt=[],Pt=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],St=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],Dt=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"],It=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],Ut=J[Rt][Et],gt=Ut.cval,Ie=Dt[gt],oe=ke(Ut,Ie);Mt.push([Et+oe[0],Rt+oe[1]]),Ie=It[gt],oe=ke(Ut,Ie),Mt.push([Et+oe[0],Rt+oe[1]]),re(Ut);for(var rr=Et+Pt[gt],we=Rt+St[gt],Ue=gt;rr>=0&&we>=0&&we<jt&&(rr!=Et||we!=Rt)&&(Ut=J[we][rr])!==void 0;){if((gt=Ut.cval)===0||gt===15)return{path:Mt,info:"mergeable"};Ie=It[gt],Nt=Pt[gt],Tt=St[gt],gt!==5&&gt!==10||(gt===5?Ut.flipped?St[Ue]===-1?(Ie="left",Nt=-1,Tt=0):(Ie="right",Nt=1,Tt=0):Pt[Ue]===-1&&(Ie="bottom",Nt=0,Tt=-1):gt===10&&(Ut.flipped?Pt[Ue]===-1?(Ie="top",Nt=0,Tt=1):(Ie="bottom",Nt=0,Tt=-1):St[Ue]===1&&(Ie="left",Nt=-1,Tt=0))),oe=ke(Ut,Ie),Mt.push([rr+oe[0],we+oe[1]]),re(Ut),rr+=Nt,we+=Tt,Ue=gt}return{path:Mt,info:"closed"}}(w.cells,O,F),W=!1;if(M.info==="mergeable"){for(var it=M.path[M.path.length-1][0],D=M.path[M.path.length-1][1],q=T-1;q>=0;q--)if(Math.abs(x[q][0][0]-it)<=k&&Math.abs(x[q][0][1]-D)<=k){for(var Y=M.path.length-2;Y>=0;--Y)x[q].unshift(M.path[Y]);W=!0;break}}W||(x[T++]=M.path)}var tt})}),x}(function(w,x){for(var T=w.length-1,k=w[0].length-1,P={rows:T,cols:k,cells:[]},O=0;O<T;++O){P.cells[O]=[];for(var N=0;N<k;++N){var F=0,M=w[O+1][N],W=w[O+1][N+1],it=w[O][N+1],D=w[O][N];if(!(isNaN(M)||isNaN(W)||isNaN(it)||isNaN(D))){F|=M>=x?8:0,F|=W>=x?4:0,F|=it>=x?2:0;var q,Y,tt,J,Rt=!1;if((F|=D>=x?1:0)===5||F===10){var Et=(M+W+it+D)/4;F===5&&Et<x?(F=10,Rt=!0):F===10&&Et<x&&(F=5,Rt=!0)}F!==0&&F!==15&&(q=Y=tt=J=.5,F===1?(tt=1-st(x,M,D),Y=1-st(x,it,D)):F===2?(Y=st(x,D,it),J=1-st(x,W,it)):F===3?(tt=1-st(x,M,D),J=1-st(x,W,it)):F===4?(q=st(x,M,W),J=st(x,it,W)):F===5?(q=st(x,M,W),J=st(x,it,W),Y=1-st(x,it,D),tt=1-st(x,M,D)):F===6?(Y=st(x,D,it),q=st(x,M,W)):F===7?(tt=1-st(x,M,D),q=st(x,M,W)):F===8?(tt=st(x,D,M),q=1-st(x,W,M)):F===9?(Y=1-st(x,it,D),q=1-st(x,W,M)):F===10?(q=1-st(x,W,M),J=1-st(x,W,it),Y=st(x,D,it),tt=st(x,D,M)):F===11?(q=1-st(x,W,M),J=1-st(x,W,it)):F===12?(tt=st(x,D,M),J=st(x,it,W)):F===13?(Y=1-st(x,it,D),J=st(x,it,W)):F===14?(tt=st(x,D,M),Y=st(x,D,it)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+F),P.cells[O][N]={cval:F,flipped:Rt,top:q,right:J,bottom:Y,left:tt})}}}return P}(t,r));return typeof K.successCallback=="function"&&K.successCallback(v),v}function st(t,r,s){return(t-r)/(s-r)}function Vt(t){return t.cval===0||t.cval===15}function re(t){Vt(t)||t.cval===5||t.cval===10||(t.cval=15)}function ke(t,r){return r==="top"?[t.top,1]:r==="bottom"?[t.bottom,0]:r==="right"?[1,t.right]:r==="left"?[0,t.left]:void 0}function ar(t,r){if(!mt(r=r||{}))throw new Error("options is invalid");var s=r.zProperty||"elevation",a=r.flip,c=r.flags;Ot(t,"Point","input must contain Points");for(var h=function(P,O){var N={};return kt(P,function(F){var M=X(F)[1];N[M]||(N[M]=[]),N[M].push(F)}),Object.keys(N).map(function(F){return N[F].sort(function(M,W){return X(M)[0]-X(W)[0]})}).sort(function(F,M){return O?X(F[0])[1]-X(M[0])[1]:X(M[0])[1]-X(F[0])[1]})}(t,a),g=[],v=0;v<h.length;v++){for(var w=h[v],x=[],T=0;T<w.length;T++){var k=w[T];k.properties[s]?x.push(k.properties[s]):x.push(0),c===!0&&(k.properties.matrixPosition=[v,T])}g.push(x)}return g}var Fe=Bi,jn=Bi;function Bi(t,r,s,a,c){fs(t,r,s||0,a||t.length-1,c||ou)}function fs(t,r,s,a,c){for(;a>s;){if(a-s>600){var h=a-s+1,g=r-s+1,v=Math.log(h),w=.5*Math.exp(2*v/3),x=.5*Math.sqrt(v*w*(h-w)/h)*(g-h/2<0?-1:1);fs(t,r,Math.max(s,Math.floor(r-g*w/h+x)),Math.min(a,Math.floor(r+(h-g)*w/h+x)),c)}var T=t[r],k=s,P=a;for(Ws(t,s,r),c(t[a],T)>0&&Ws(t,s,a);k<P;){for(Ws(t,k,P),k++,P--;c(t[k],T)<0;)k++;for(;c(t[P],T)>0;)P--}c(t[s],T)===0?Ws(t,s,P):Ws(t,++P,a),P<=r&&(s=P+1),r<=P&&(a=P-1)}}function Ws(t,r,s){var a=t[r];t[r]=t[s],t[s]=a}function ou(t,r){return t<r?-1:t>r?1:0}Fe.default=jn;var Yi=su,gy=su;function su(t,r){if(!(this instanceof su))return new su(t,r);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),r&&this._initFormat(r),this.clear()}function my(t,r,s){if(!s)return r.indexOf(t);for(var a=0;a<r.length;a++)if(s(t,r[a]))return a;return-1}function ec(t,r){au(t,0,t.children.length,r,t)}function au(t,r,s,a,c){c||(c=hl(null)),c.minX=1/0,c.minY=1/0,c.maxX=-1/0,c.maxY=-1/0;for(var h,g=r;g<s;g++)h=t.children[g],ul(c,t.leaf?a(h):h);return c}function ul(t,r){return t.minX=Math.min(t.minX,r.minX),t.minY=Math.min(t.minY,r.minY),t.maxX=Math.max(t.maxX,r.maxX),t.maxY=Math.max(t.maxY,r.maxY),t}function jg(t,r){return t.minX-r.minX}function Hg(t,r){return t.minY-r.minY}function lp(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function ph(t){return t.maxX-t.minX+(t.maxY-t.minY)}function Co(t,r){return t.minX<=r.minX&&t.minY<=r.minY&&r.maxX<=t.maxX&&r.maxY<=t.maxY}function Be(t,r){return r.minX<=t.maxX&&r.minY<=t.maxY&&r.maxX>=t.minX&&r.maxY>=t.minY}function hl(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function cp(t,r,s,a,c){for(var h,g=[r,s];g.length;)(s=g.pop())-(r=g.pop())<=a||(h=r+Math.ceil((s-r)/a/2)*a,Fe(t,h,r,s,c),g.push(r,h,h,s))}function Vo(t){var r={exports:{}};return t(r,r.exports),r.exports}su.prototype={all:function(){return this._all(this.data,[])},search:function(t){var r=this.data,s=[],a=this.toBBox;if(!Be(t,r))return s;for(var c,h,g,v,w=[];r;){for(c=0,h=r.children.length;c<h;c++)g=r.children[c],Be(t,v=r.leaf?a(g):g)&&(r.leaf?s.push(g):Co(t,v)?this._all(g,s):w.push(g));r=w.pop()}return s},collides:function(t){var r=this.data,s=this.toBBox;if(!Be(t,r))return!1;for(var a,c,h,g,v=[];r;){for(a=0,c=r.children.length;a<c;a++)if(h=r.children[a],Be(t,g=r.leaf?s(h):h)){if(r.leaf||Co(t,g))return!0;v.push(h)}r=v.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var r=0,s=t.length;r<s;r++)this.insert(t[r]);return this}var a=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===a.height)this._splitRoot(this.data,a);else{if(this.data.height<a.height){var c=this.data;this.data=a,a=c}this._insert(a,this.data.height-a.height-1,!0)}else this.data=a;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=hl([]),this},remove:function(t,r){if(!t)return this;for(var s,a,c,h,g=this.data,v=this.toBBox(t),w=[],x=[];g||w.length;){if(g||(g=w.pop(),a=w[w.length-1],s=x.pop(),h=!0),g.leaf&&(c=my(t,g.children,r))!==-1)return g.children.splice(c,1),w.push(g),this._condense(w),this;h||g.leaf||!Co(g,v)?a?(s++,g=a.children[s],h=!1):g=null:(w.push(g),x.push(s),s=0,a=g,g=g.children[0])}return this},toBBox:function(t){return t},compareMinX:jg,compareMinY:Hg,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,r){for(var s=[];t;)t.leaf?r.push.apply(r,t.children):s.push.apply(s,t.children),t=s.pop();return r},_build:function(t,r,s,a){var c,h=s-r+1,g=this._maxEntries;if(h<=g)return ec(c=hl(t.slice(r,s+1)),this.toBBox),c;a||(a=Math.ceil(Math.log(h)/Math.log(g)),g=Math.ceil(h/Math.pow(g,a-1))),(c=hl([])).leaf=!1,c.height=a;var v,w,x,T,k=Math.ceil(h/g),P=k*Math.ceil(Math.sqrt(g));for(cp(t,r,s,P,this.compareMinX),v=r;v<=s;v+=P)for(cp(t,v,x=Math.min(v+P-1,s),k,this.compareMinY),w=v;w<=x;w+=k)T=Math.min(w+k-1,x),c.children.push(this._build(t,w,T,a-1));return ec(c,this.toBBox),c},_chooseSubtree:function(t,r,s,a){for(var c,h,g,v,w,x,T,k,P,O;a.push(r),!r.leaf&&a.length-1!==s;){for(T=k=1/0,c=0,h=r.children.length;c<h;c++)w=lp(g=r.children[c]),P=t,O=g,(x=(Math.max(O.maxX,P.maxX)-Math.min(O.minX,P.minX))*(Math.max(O.maxY,P.maxY)-Math.min(O.minY,P.minY))-w)<k?(k=x,T=w<T?w:T,v=g):x===k&&w<T&&(T=w,v=g);r=v||r.children[0]}return r},_insert:function(t,r,s){var a=this.toBBox,c=s?t:a(t),h=[],g=this._chooseSubtree(c,this.data,r,h);for(g.children.push(t),ul(g,c);r>=0&&h[r].children.length>this._maxEntries;)this._split(h,r),r--;this._adjustParentBBoxes(c,h,r)},_split:function(t,r){var s=t[r],a=s.children.length,c=this._minEntries;this._chooseSplitAxis(s,c,a);var h=this._chooseSplitIndex(s,c,a),g=hl(s.children.splice(h,s.children.length-h));g.height=s.height,g.leaf=s.leaf,ec(s,this.toBBox),ec(g,this.toBBox),r?t[r-1].children.push(g):this._splitRoot(s,g)},_splitRoot:function(t,r){this.data=hl([t,r]),this.data.height=t.height+1,this.data.leaf=!1,ec(this.data,this.toBBox)},_chooseSplitIndex:function(t,r,s){var a,c,h,g,v,w,x,T,k,P,O,N,F,M;for(w=x=1/0,a=r;a<=s-r;a++)c=au(t,0,a,this.toBBox),h=au(t,a,s,this.toBBox),k=c,P=h,O=void 0,N=void 0,F=void 0,M=void 0,O=Math.max(k.minX,P.minX),N=Math.max(k.minY,P.minY),F=Math.min(k.maxX,P.maxX),M=Math.min(k.maxY,P.maxY),g=Math.max(0,F-O)*Math.max(0,M-N),v=lp(c)+lp(h),g<w?(w=g,T=a,x=v<x?v:x):g===w&&v<x&&(x=v,T=a);return T},_chooseSplitAxis:function(t,r,s){var a=t.leaf?this.compareMinX:jg,c=t.leaf?this.compareMinY:Hg;this._allDistMargin(t,r,s,a)<this._allDistMargin(t,r,s,c)&&t.children.sort(a)},_allDistMargin:function(t,r,s,a){t.children.sort(a);var c,h,g=this.toBBox,v=au(t,0,r,g),w=au(t,s-r,s,g),x=ph(v)+ph(w);for(c=r;c<s-r;c++)h=t.children[c],ul(v,t.leaf?g(h):h),x+=ph(v);for(c=s-r-1;c>=r;c--)h=t.children[c],ul(w,t.leaf?g(h):h),x+=ph(w);return x},_adjustParentBBoxes:function(t,r,s){for(var a=s;a>=0;a--)ul(r[a],t)},_condense:function(t){for(var r,s=t.length-1;s>=0;s--)t[s].children.length===0?s>0?(r=t[s-1].children).splice(r.indexOf(t[s]),1):this.clear():ec(t[s],this.toBBox)},_initFormat:function(t){var r=["return a"," - b",";"];this.compareMinX=new Function("a","b",r.join(t[0])),this.compareMinY=new Function("a","b",r.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}},Yi.default=gy;var lu=function(t,r,s){var a=t*r,c=fh*t,h=c-(c-t),g=t-h,v=fh*r,w=v-(v-r),x=r-w,T=g*x-(a-h*w-g*w-h*x);return s?(s[0]=T,s[1]=a,s):[T,a]},fh=+(Math.pow(2,27)+1),Ug=function(t,r){var s=0|t.length,a=0|r.length;if(s===1&&a===1)return function(tt,J){var Rt=tt+J,Et=Rt-tt,Nt=tt-(Rt-Et)+(J-Et);return Nt?[Nt,Rt]:[Rt]}(t[0],r[0]);var c,h,g=new Array(s+a),v=0,w=0,x=0,T=Math.abs,k=t[w],P=T(k),O=r[x],N=T(O);P<N?(h=k,(w+=1)<s&&(k=t[w],P=T(k))):(h=O,(x+=1)<a&&(O=r[x],N=T(O))),w<s&&P<N||x>=a?(c=k,(w+=1)<s&&(k=t[w],P=T(k))):(c=O,(x+=1)<a&&(O=r[x],N=T(O)));for(var F,M,W=c+h,it=W-c,D=h-it,q=D,Y=W;w<s&&x<a;)P<N?(c=k,(w+=1)<s&&(k=t[w],P=T(k))):(c=O,(x+=1)<a&&(O=r[x],N=T(O))),(D=(h=q)-(it=(W=c+h)-c))&&(g[v++]=D),q=Y-((F=Y+W)-(M=F-Y))+(W-M),Y=F;for(;w<s;)(D=(h=q)-(it=(W=(c=k)+h)-c))&&(g[v++]=D),q=Y-((F=Y+W)-(M=F-Y))+(W-M),Y=F,(w+=1)<s&&(k=t[w]);for(;x<a;)(D=(h=q)-(it=(W=(c=O)+h)-c))&&(g[v++]=D),q=Y-((F=Y+W)-(M=F-Y))+(W-M),Y=F,(x+=1)<a&&(O=r[x]);return q&&(g[v++]=q),Y&&(g[v++]=Y),v||(g[v++]=0),g.length=v,g},rc=function(t,r,s){var a=t+r,c=a-t,h=r-c,g=t-(a-c);return s?(s[0]=g+h,s[1]=a,s):[g+h,a]},Gg=function(t,r){var s=t.length;if(s===1){var a=lu(t[0],r);return a[0]?a:[a[1]]}var c=new Array(2*s),h=[.1,.1],g=[.1,.1],v=0;lu(t[0],r,h),h[0]&&(c[v++]=h[0]);for(var w=1;w<s;++w){lu(t[w],r,g);var x=h[1];rc(x,g[0],h),h[0]&&(c[v++]=h[0]);var T=g[1],k=h[1],P=T+k,O=k-(P-T);h[1]=P,O&&(c[v++]=O)}return h[1]&&(c[v++]=h[1]),v===0&&(c[v++]=0),c.length=v,c},vy=function(t,r){var s=0|t.length,a=0|r.length;if(s===1&&a===1)return function(tt,J){var Rt=tt+J,Et=Rt-tt,Nt=tt-(Rt-Et)+(J-Et);return Nt?[Nt,Rt]:[Rt]}(t[0],-r[0]);var c,h,g=new Array(s+a),v=0,w=0,x=0,T=Math.abs,k=t[w],P=T(k),O=-r[x],N=T(O);P<N?(h=k,(w+=1)<s&&(k=t[w],P=T(k))):(h=O,(x+=1)<a&&(O=-r[x],N=T(O))),w<s&&P<N||x>=a?(c=k,(w+=1)<s&&(k=t[w],P=T(k))):(c=O,(x+=1)<a&&(O=-r[x],N=T(O)));for(var F,M,W=c+h,it=W-c,D=h-it,q=D,Y=W;w<s&&x<a;)P<N?(c=k,(w+=1)<s&&(k=t[w],P=T(k))):(c=O,(x+=1)<a&&(O=-r[x],N=T(O))),(D=(h=q)-(it=(W=c+h)-c))&&(g[v++]=D),q=Y-((F=Y+W)-(M=F-Y))+(W-M),Y=F;for(;w<s;)(D=(h=q)-(it=(W=(c=k)+h)-c))&&(g[v++]=D),q=Y-((F=Y+W)-(M=F-Y))+(W-M),Y=F,(w+=1)<s&&(k=t[w]);for(;x<a;)(D=(h=q)-(it=(W=(c=O)+h)-c))&&(g[v++]=D),q=Y-((F=Y+W)-(M=F-Y))+(W-M),Y=F,(x+=1)<a&&(O=-r[x]);return q&&(g[v++]=q),Y&&(g[v++]=Y),v||(g[v++]=0),g.length=v,g},qg=Vo(function(t){function r(x,T){for(var k=new Array(x.length-1),P=1;P<x.length;++P)for(var O=k[P-1]=new Array(x.length-1),N=0,F=0;N<x.length;++N)N!==T&&(O[F++]=x[P][N]);return k}function s(x){if(x.length===1)return x[0];if(x.length===2)return["sum(",x[0],",",x[1],")"].join("");var T=x.length>>1;return["sum(",s(x.slice(0,T)),",",s(x.slice(T)),")"].join("")}function a(x){if(x.length===2)return[["sum(prod(",x[0][0],",",x[1][1],"),prod(-",x[0][1],",",x[1][0],"))"].join("")];for(var T=[],k=0;k<x.length;++k)T.push(["scale(",s(a(r(x,k))),",",(P=k,1&P?"-":""),x[0][k],")"].join(""));return T;var P}function c(x){for(var T=[],k=[],P=function(D){for(var q=new Array(D),Y=0;Y<D;++Y){q[Y]=new Array(D);for(var tt=0;tt<D;++tt)q[Y][tt]=["m",tt,"[",D-Y-1,"]"].join("")}return q}(x),O=[],N=0;N<x;++N)1&N?k.push.apply(k,a(r(P,N))):T.push.apply(T,a(r(P,N))),O.push("m"+N);var F=s(T),M=s(k),W="orientation"+x+"Exact",it=["function ",W,"(",O.join(),"){var p=",F,",n=",M,",d=sub(p,n);return d[d.length-1];};return ",W].join("");return new Function("sum","prod","scale","sub",it)(Ug,lu,Gg,vy)}var h=c(3),g=c(4),v=[function(){return 0},function(){return 0},function(x,T){return T[0]-x[0]},function(x,T,k){var P,O=(x[1]-k[1])*(T[0]-k[0]),N=(x[0]-k[0])*(T[1]-k[1]),F=O-N;if(O>0){if(N<=0)return F;P=O+N}else{if(!(O<0)||N>=0)return F;P=-(O+N)}var M=33306690738754716e-32*P;return F>=M||F<=-M?F:h(x,T,k)},function(x,T,k,P){var O=x[0]-P[0],N=T[0]-P[0],F=k[0]-P[0],M=x[1]-P[1],W=T[1]-P[1],it=k[1]-P[1],D=x[2]-P[2],q=T[2]-P[2],Y=k[2]-P[2],tt=N*it,J=F*W,Rt=F*M,Et=O*it,Nt=O*W,Tt=N*M,jt=D*(tt-J)+q*(Rt-Et)+Y*(Nt-Tt),Mt=7771561172376103e-31*((Math.abs(tt)+Math.abs(J))*Math.abs(D)+(Math.abs(Rt)+Math.abs(Et))*Math.abs(q)+(Math.abs(Nt)+Math.abs(Tt))*Math.abs(Y));return jt>Mt||-jt>Mt?jt:g(x,T,k,P)}];function w(x){var T=v[x.length];return T||(T=v[x.length]=c(x.length)),T.apply(void 0,x)}(function(){for(;v.length<=5;)v.push(c(v.length));for(var x=[],T=["slow"],k=0;k<=5;++k)x.push("a"+k),T.push("o"+k);var P=["function getOrientation(",x.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(k=2;k<=5;++k)P.push("case ",k,":return o",k,"(",x.slice(0,k).join(),");");P.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),T.push(P.join(""));var O=Function.apply(void 0,T);for(t.exports=O.apply(void 0,[w].concat(v)),k=0;k<=5;++k)t.exports[k]=v[k]})()}),yy=function(t){var r=t.length;if(r<3){for(var s=new Array(r),a=0;a<r;++a)s[a]=a;return r===2&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]?[0]:s}var c=new Array(r);for(a=0;a<r;++a)c[a]=a;c.sort(function(O,N){var F=t[O][0]-t[N][0];return F||t[O][1]-t[N][1]});var h=[c[0],c[1]],g=[c[0],c[1]];for(a=2;a<r;++a){for(var v=c[a],w=t[v],x=h.length;x>1&&Vg(t[h[x-2]],t[h[x-1]],w)<=0;)x-=1,h.pop();for(h.push(v),x=g.length;x>1&&Vg(t[g[x-2]],t[g[x-1]],w)>=0;)x-=1,g.pop();g.push(v)}s=new Array(g.length+h.length-2);for(var T=0,k=(a=0,h.length);a<k;++a)s[T++]=h[a];for(var P=g.length-2;P>0;--P)s[T++]=g[P];return s},Vg=qg[3],up=La,by=La;function La(t,r){if(!(this instanceof La))return new La(t,r);if(this.data=t||[],this.length=this.data.length,this.compare=r||wy,this.length>0)for(var s=(this.length>>1)-1;s>=0;s--)this._down(s)}function wy(t,r){return t<r?-1:t>r?1:0}La.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(this.length!==0){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var r=this.data,s=this.compare,a=r[t];t>0;){var c=t-1>>1,h=r[c];if(s(a,h)>=0)break;r[t]=h,t=c}r[t]=a},_down:function(t){for(var r=this.data,s=this.compare,a=this.length>>1,c=r[t];t<a;){var h=1+(t<<1),g=h+1,v=r[h];if(g<this.length&&s(r[g],v)<0&&(h=g,v=r[g]),s(v,c)>=0)break;r[t]=v,t=h}r[t]=c}},up.default=by;var xy=function(t,r){for(var s=t[0],a=t[1],c=!1,h=0,g=r.length-1;h<r.length;g=h++){var v=r[h][0],w=r[h][1],x=r[g][0],T=r[g][1];w>a!=T>a&&s<(x-v)*(a-w)/(T-w)+v&&(c=!c)}return c},gh=qg[3],Wg=mh,_y=mh;function mh(t,r,s){r=Math.max(0,r===void 0?2:r),s=s||0;for(var a,c=function(it){for(var D=it[0],q=it[0],Y=it[0],tt=it[0],J=0;J<it.length;J++){var Rt=it[J];Rt[0]<D[0]&&(D=Rt),Rt[0]>Y[0]&&(Y=Rt),Rt[1]<q[1]&&(q=Rt),Rt[1]>tt[1]&&(tt=Rt)}var Et=[D,q,Y,tt],Nt=Et.slice();for(J=0;J<it.length;J++)xy(it[J],Et)||Nt.push(it[J]);var Tt=yy(Nt),jt=[];for(J=0;J<Tt.length;J++)jt.push(Nt[Tt[J]]);return jt}(t),h=Yi(16,["[0]","[1]","[0]","[1]"]).load(t),g=[],v=0;v<c.length;v++){var w=c[v];h.remove(w),a=uu(w,a),g.push(a)}var x=Yi(16);for(v=0;v<g.length;v++)x.insert(ki(g[v]));for(var T=r*r,k=s*s;g.length;){var P=g.shift(),O=P.p,N=P.next.p,F=Ra(O,N);if(!(F<k)){var M=F/T;(w=cu(h,P.prev.p,O,N,P.next.next.p,M,x))&&Math.min(Ra(w,O),Ra(w,N))<=M&&(g.push(P),g.push(uu(w,P)),h.remove(w),x.remove(P),x.insert(ki(P)),x.insert(ki(P.next)))}}P=a;var W=[];do W.push(P.p),P=P.next;while(P!==a);return W.push(P.p),W}function cu(t,r,s,a,c,h,g){for(var v=new up(null,Zg),w=t.data;w;){for(var x=0;x<w.children.length;x++){var T=w.children[x],k=w.leaf?Aa(T,s,a):Xg(s,a,T);k>h||v.push({node:T,dist:k})}for(;v.length&&!v.peek().node.children;){var P=v.pop(),O=P.node,N=Aa(O,r,s),F=Aa(O,a,c);if(P.dist<N&&P.dist<F&&ri(s,O,g)&&ri(a,O,g))return O}(w=v.pop())&&(w=w.node)}return null}function Zg(t,r){return t.dist-r.dist}function Xg(t,r,s){if(ic(t,s)||ic(r,s))return 0;var a=nc(t[0],t[1],r[0],r[1],s.minX,s.minY,s.maxX,s.minY);if(a===0)return 0;var c=nc(t[0],t[1],r[0],r[1],s.minX,s.minY,s.minX,s.maxY);if(c===0)return 0;var h=nc(t[0],t[1],r[0],r[1],s.maxX,s.minY,s.maxX,s.maxY);if(h===0)return 0;var g=nc(t[0],t[1],r[0],r[1],s.minX,s.maxY,s.maxX,s.maxY);return g===0?0:Math.min(a,c,h,g)}function ic(t,r){return t[0]>=r.minX&&t[0]<=r.maxX&&t[1]>=r.minY&&t[1]<=r.maxY}function ri(t,r,s){for(var a,c,h,g,v=Math.min(t[0],r[0]),w=Math.min(t[1],r[1]),x=Math.max(t[0],r[0]),T=Math.max(t[1],r[1]),k=s.search({minX:v,minY:w,maxX:x,maxY:T}),P=0;P<k.length;P++)if(a=k[P].p,c=k[P].next.p,h=t,a!==(g=r)&&c!==h&&gh(a,c,h)>0!=gh(a,c,g)>0&&gh(h,g,a)>0!=gh(h,g,c)>0)return!1;return!0}function ki(t){var r=t.p,s=t.next.p;return t.minX=Math.min(r[0],s[0]),t.minY=Math.min(r[1],s[1]),t.maxX=Math.max(r[0],s[0]),t.maxY=Math.max(r[1],s[1]),t}function uu(t,r){var s={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return r?(s.next=r.next,s.prev=r,r.next.prev=s,r.next=s):(s.prev=s,s.next=s),s}function Ra(t,r){var s=t[0]-r[0],a=t[1]-r[1];return s*s+a*a}function Aa(t,r,s){var a=r[0],c=r[1],h=s[0]-a,g=s[1]-c;if(h!==0||g!==0){var v=((t[0]-a)*h+(t[1]-c)*g)/(h*h+g*g);v>1?(a=s[0],c=s[1]):v>0&&(a+=h*v,c+=g*v)}return(h=t[0]-a)*h+(g=t[1]-c)*g}function nc(t,r,s,a,c,h,g,v){var w,x,T,k,P=s-t,O=a-r,N=g-c,F=v-h,M=t-c,W=r-h,it=P*P+O*O,D=P*N+O*F,q=N*N+F*F,Y=P*M+O*W,tt=N*M+F*W,J=it*q-D*D,Rt=J,Et=J;J===0?(x=0,Rt=1,k=tt,Et=q):(k=it*tt-D*Y,(x=D*tt-q*Y)<0?(x=0,k=tt,Et=q):x>Rt&&(x=Rt,k=tt+D,Et=q)),k<0?(k=0,-Y<0?x=0:-Y>it?x=Rt:(x=-Y,Rt=it)):k>Et&&(k=Et,-Y+D<0?x=0:-Y+D>it?x=Rt:(x=-Y+D,Rt=it));var Nt=(1-(T=k===0?0:k/Et))*c+T*g-((1-(w=x===0?0:x/Rt))*t+w*s),Tt=(1-T)*h+T*v-((1-w)*r+w*a);return Nt*Nt+Tt*Tt}function ur(t,r){r===void 0&&(r={}),r.concavity=r.concavity||1/0;var s=[];if(Gt(t,function(c){s.push([c[0],c[1]])}),!s.length)return null;var a=Wg(s,r.concavity);return a.length>3?y([a]):null}function Qe(t,r,s){if(s===void 0&&(s={}),!t)throw new Error("point is required");if(!r)throw new Error("polygon is required");var a=A(t),c=xt(r),h=c.type,g=r.bbox,v=c.coordinates;if(g&&function(P,O){return O[0]<=P[0]&&O[1]<=P[1]&&O[2]>=P[0]&&O[3]>=P[1]}(a,g)===!1)return!1;h==="Polygon"&&(v=[v]);for(var w=!1,x=0;x<v.length&&!w;x++)if(vh(a,v[x][0],s.ignoreBoundary)){for(var T=!1,k=1;k<v[x].length&&!T;)vh(a,v[x][k],!s.ignoreBoundary)&&(T=!0),k++;T||(w=!0)}return w}function vh(t,r,s){var a=!1;r[0][0]===r[r.length-1][0]&&r[0][1]===r[r.length-1][1]&&(r=r.slice(0,r.length-1));for(var c=0,h=r.length-1;c<r.length;h=c++){var g=r[c][0],v=r[c][1],w=r[h][0],x=r[h][1];if(t[1]*(g-w)+v*(w-t[0])+x*(t[0]-g)==0&&(g-t[0])*(w-t[0])<=0&&(v-t[1])*(x-t[1])<=0)return!s;v>t[1]!=x>t[1]&&t[0]<(w-g)*(t[1]-v)/(x-v)+g&&(a=!a)}return a}function oc(t,r){var s=[];return kt(t,function(a){var c=!1;if(a.geometry.type==="Point")ee(r,function(g){Qe(a,g)&&(c=!0)}),c&&s.push(a);else{if(a.geometry.type!=="MultiPoint")throw new Error("Input geometry must be a Point or MultiPoint");var h=[];ee(r,function(g){Gt(a,function(v){Qe(v,g)&&(c=!0,h.push(v))})}),c&&s.push(B(h))}}),I(s)}function nr(t,r,s){s===void 0&&(s={});var a=A(t),c=A(r),h=ct(c[1]-a[1]),g=ct(c[0]-a[0]),v=ct(a[1]),w=ct(c[1]),x=Math.pow(Math.sin(h/2),2)+Math.pow(Math.sin(g/2),2)*Math.cos(v)*Math.cos(w);return j(2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x)),s.units)}function Yg(t,r){var s=!1;return I(function(a){if(a.length<3)return[];a.sort(dl);for(var c,h,g,v,w,x,T=a.length-1,k=a[T].x,P=a[0].x,O=a[T].y,N=O,F=1e-12;T--;)a[T].y<O&&(O=a[T].y),a[T].y>N&&(N=a[T].y);var M,W=P-k,it=N-O,D=W>it?W:it,q=.5*(P+k),Y=.5*(N+O),tt=[new hu({__sentinel:!0,x:q-20*D,y:Y-D},{__sentinel:!0,x:q,y:Y+20*D},{__sentinel:!0,x:q+20*D,y:Y-D})],J=[],Rt=[];for(T=a.length;T--;){for(Rt.length=0,M=tt.length;M--;)(W=a[T].x-tt[M].x)>0&&W*W>tt[M].r?(J.push(tt[M]),tt.splice(M,1)):W*W+(it=a[T].y-tt[M].y)*it>tt[M].r||(Rt.push(tt[M].a,tt[M].b,tt[M].b,tt[M].c,tt[M].c,tt[M].a),tt.splice(M,1));for(Xi(Rt),M=Rt.length;M;)h=Rt[--M],c=Rt[--M],g=a[T],v=h.x-c.x,w=h.y-c.y,x=2*(v*(g.y-h.y)-w*(g.x-h.x)),Math.abs(x)>F&&tt.push(new hu(c,h,g))}for(Array.prototype.push.apply(J,tt),T=J.length;T--;)(J[T].a.__sentinel||J[T].b.__sentinel||J[T].c.__sentinel)&&J.splice(T,1);return J}(t.features.map(function(a){var c={x:a.geometry.coordinates[0],y:a.geometry.coordinates[1]};return r?c.z=a.properties[r]:a.geometry.coordinates.length===3&&(s=!0,c.z=a.geometry.coordinates[2]),c})).map(function(a){var c=[a.a.x,a.a.y],h=[a.b.x,a.b.y],g=[a.c.x,a.c.y],v={};return s?(c.push(a.a.z),h.push(a.b.z),g.push(a.c.z)):v={a:a.a.z,b:a.b.z,c:a.c.z},y([[c,h,g,c]],v)}))}Wg.default=_y;var hu=function(t,r,s){this.a=t,this.b=r,this.c=s;var a,c,h=r.x-t.x,g=r.y-t.y,v=s.x-t.x,w=s.y-t.y,x=h*(t.x+r.x)+g*(t.y+r.y),T=v*(t.x+s.x)+w*(t.y+s.y),k=2*(h*(s.y-r.y)-g*(s.x-r.x));this.x=(w*x-g*T)/k,this.y=(h*T-v*x)/k,a=this.x-t.x,c=this.y-t.y,this.r=a*a+c*c};function dl(t,r){return r.x-t.x}function Xi(t){var r,s,a,c,h,g=t.length;t:for(;g;)for(s=t[--g],r=t[--g],a=g;a;)if(h=t[--a],r===(c=t[--a])&&s===h||r===h&&s===c){t.splice(g,2),t.splice(a,2),g-=2;continue t}}function Ci(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return sc(t);case"FeatureCollection":return function(r){var s={type:"FeatureCollection"};return Object.keys(r).forEach(function(a){switch(a){case"type":case"features":return;default:s[a]=r[a]}}),s.features=r.features.map(function(a){return sc(a)}),s}(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return du(t);default:throw new Error("unknown GeoJSON type")}}function sc(t){var r={type:"Feature"};return Object.keys(t).forEach(function(s){switch(s){case"type":case"properties":case"geometry":return;default:r[s]=t[s]}}),r.properties=ac(t.properties),r.geometry=du(t.geometry),r}function ac(t){var r={};return t&&Object.keys(t).forEach(function(s){var a=t[s];typeof a=="object"?a===null?r[s]=null:Array.isArray(a)?r[s]=a.map(function(c){return c}):r[s]=ac(a):r[s]=a}),r}function du(t){var r={type:t.type};return t.bbox&&(r.bbox=t.bbox),t.type==="GeometryCollection"?(r.geometries=t.geometries.map(function(s){return du(s)}),r):(r.coordinates=lc(t.coordinates),r)}function lc(t){var r=t;return typeof r[0]!="object"?r.slice():r.map(function(s){return lc(s)})}function hp(t,r){if(r===void 0&&(r={}),!mt(r=r||{}))throw new Error("options is invalid");var s=r.mutate;if($t(t)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");s!==!1&&s!==void 0||(t=Ci(t));var a=[],c=Zt(t,function(h,g){var v=function(w,x){var T,k=w.geometry.coordinates,P=x.geometry.coordinates,O=cc(k[0]),N=cc(k[k.length-1]),F=cc(P[0]),M=cc(P[P.length-1]);if(O===M)T=P.concat(k.slice(1));else if(F===N)T=k.concat(P.slice(1));else if(O===F)T=k.slice(1).reverse().concat(P);else{if(N!==M)return null;T=k.concat(P.reverse().slice(1))}return E(T)}(h,g);return v||(a.push(h),g)});return c&&a.push(c),a.length?a.length===1?a[0]:z(a.map(function(h){return h.coordinates})):null}function cc(t){return t[0].toString()+","+t[1].toString()}function yh(t){return t}function bh(t,r){var s=function(x){if(x==null)return yh;var T,k,P=x.scale[0],O=x.scale[1],N=x.translate[0],F=x.translate[1];return function(M,W){W||(T=k=0);var it=2,D=M.length,q=new Array(D);for(q[0]=(T+=M[0])*P+N,q[1]=(k+=M[1])*O+F;it<D;)q[it]=M[it],++it;return q}}(t.transform),a=t.arcs;function c(x,T){T.length&&T.pop();for(var k=a[x<0?~x:x],P=0,O=k.length;P<O;++P)T.push(s(k[P],P));x<0&&function(N,F){for(var M,W=N.length,it=W-F;it<--W;)M=N[it],N[it++]=N[W],N[W]=M}(T,O)}function h(x){return s(x)}function g(x){for(var T=[],k=0,P=x.length;k<P;++k)c(x[k],T);return T.length<2&&T.push(T[0]),T}function v(x){for(var T=g(x);T.length<4;)T.push(T[0]);return T}function w(x){return x.map(v)}return function x(T){var k,P=T.type;switch(P){case"GeometryCollection":return{type:P,geometries:T.geometries.map(x)};case"Point":k=h(T.coordinates);break;case"MultiPoint":k=T.coordinates.map(h);break;case"LineString":k=g(T.arcs);break;case"MultiLineString":k=T.arcs.map(g);break;case"Polygon":k=w(T.arcs);break;case"MultiPolygon":k=T.arcs.map(w);break;default:return null}return{type:P,coordinates:k}}(r)}function dp(t,r){var s={},a={},c={},h=[],g=-1;function v(w,x){for(var T in w){var k=w[T];delete x[k.start],delete k.start,delete k.end,k.forEach(function(P){s[P<0?~P:P]=1}),h.push(k)}}return r.forEach(function(w,x){var T,k=t.arcs[w<0?~w:w];k.length<3&&!k[1][0]&&!k[1][1]&&(T=r[++g],r[g]=w,r[x]=T)}),r.forEach(function(w){var x,T,k=function(M){var W,it=t.arcs[M<0?~M:M],D=it[0];return t.transform?(W=[0,0],it.forEach(function(q){W[0]+=q[0],W[1]+=q[1]})):W=it[it.length-1],M<0?[W,D]:[D,W]}(w),P=k[0],O=k[1];if(x=c[P])if(delete c[x.end],x.push(w),x.end=O,T=a[O]){delete a[T.start];var N=T===x?x:x.concat(T);a[N.start=x.start]=c[N.end=T.end]=N}else a[x.start]=c[x.end]=x;else if(x=a[O])if(delete a[x.start],x.unshift(w),x.start=P,T=c[P]){delete c[T.end];var F=T===x?x:T.concat(x);a[F.start=T.start]=c[F.end=x.end]=F}else a[x.start]=c[x.end]=x;else a[(x=[w]).start=P]=c[x.end=O]=x}),v(c,a),v(a,c),r.forEach(function(w){s[w<0?~w:w]||h.push([w])}),h}function wh(t,r){var s={},a=[],c=[];function h(v){v.forEach(function(w){w.forEach(function(x){(s[x=x<0?~x:x]||(s[x]=[])).push(v)})}),a.push(v)}function g(v){return function(w){for(var x,T=-1,k=w.length,P=w[k-1],O=0;++T<k;)x=P,P=w[T],O+=x[0]*P[1]-x[1]*P[0];return Math.abs(O)}(bh(t,{type:"Polygon",arcs:[v]}).coordinates[0])}return r.forEach(function v(w){switch(w.type){case"GeometryCollection":w.geometries.forEach(v);break;case"Polygon":h(w.arcs);break;case"MultiPolygon":w.arcs.forEach(h)}}),a.forEach(function(v){if(!v._){var w=[],x=[v];for(v._=1,c.push(w);v=x.pop();)w.push(v),v.forEach(function(T){T.forEach(function(k){s[k<0?~k:k].forEach(function(P){P._||(P._=1,x.push(P))})})})}}),a.forEach(function(v){delete v._}),{type:"MultiPolygon",arcs:c.map(function(v){var w,x=[];if(v.forEach(function(N){N.forEach(function(F){F.forEach(function(M){s[M<0?~M:M].length<2&&x.push(M)})})}),(w=(x=dp(t,x)).length)>1)for(var T,k,P=1,O=g(x[0]);P<w;++P)(T=g(x[P]))>O&&(k=x[0],x[0]=x[P],x[P]=k,O=T);return x}).filter(function(v){return v.length>0})}}var pu=Object.prototype.hasOwnProperty;function fu(t,r,s,a,c,h){arguments.length===3&&(a=h=Array,c=null);for(var g=new a(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),v=new h(t),w=t-1,x=0;x<t;++x)g[x]=c;function T(N,F){for(var M=r(N)&w,W=g[M],it=0;W!=c;){if(s(W,N))return v[M]=F;if(++it>=t)throw new Error("full hashmap");W=g[M=M+1&w]}return g[M]=N,v[M]=F,F}function k(N,F){for(var M=r(N)&w,W=g[M],it=0;W!=c;){if(s(W,N))return v[M];if(++it>=t)throw new Error("full hashmap");W=g[M=M+1&w]}return g[M]=N,v[M]=F,F}function P(N,F){for(var M=r(N)&w,W=g[M],it=0;W!=c;){if(s(W,N))return v[M];if(++it>=t)break;W=g[M=M+1&w]}return F}function O(){for(var N=[],F=0,M=g.length;F<M;++F){var W=g[F];W!=c&&N.push(W)}return N}return{set:T,maybeSet:k,get:P,keys:O}}function pl(t,r){return t[0]===r[0]&&t[1]===r[1]}var sr=new ArrayBuffer(16),Wo=new Float64Array(sr),hi=new Uint32Array(sr);function xh(t){Wo[0]=t[0],Wo[1]=t[1];var r=hi[0]^hi[1];return 2147483647&(r=r<<5^r>>7^hi[2]^hi[3])}function pp(t){var r,s,a,c,h=t.coordinates,g=t.lines,v=t.rings,w=function(){for(var Et=fu(1.4*h.length,Y,tt,Int32Array,-1,Int32Array),Nt=new Int32Array(h.length),Tt=0,jt=h.length;Tt<jt;++Tt)Nt[Tt]=Et.maybeSet(Tt,Tt);return Nt}(),x=new Int32Array(h.length),T=new Int32Array(h.length),k=new Int32Array(h.length),P=new Int8Array(h.length),O=0;for(r=0,s=h.length;r<s;++r)x[r]=T[r]=k[r]=-1;for(r=0,s=g.length;r<s;++r){var N=g[r],F=N[0],M=N[1];for(a=w[F],c=w[++F],++O,P[a]=1;++F<=M;)q(r,a,a=c,c=w[F]);++O,P[c]=1}for(r=0,s=h.length;r<s;++r)x[r]=-1;for(r=0,s=v.length;r<s;++r){var W=v[r],it=W[0]+1,D=W[1];for(q(r,w[D-1],a=w[it-1],c=w[it]);++it<=D;)q(r,a,a=c,c=w[it])}function q(Et,Nt,Tt,jt){if(x[Tt]!==Et){x[Tt]=Et;var Mt=T[Tt];if(Mt>=0){var Pt=k[Tt];Mt===Nt&&Pt===jt||Mt===jt&&Pt===Nt||(++O,P[Tt]=1)}else T[Tt]=Nt,k[Tt]=jt}}function Y(Et){return xh(h[Et])}function tt(Et,Nt){return pl(h[Et],h[Nt])}x=T=k=null;var J,Rt=function(Et,Nt,Tt,jt,Mt){arguments.length===3&&(jt=Array,Mt=null);for(var Pt=new jt(Et=1<<Math.max(4,Math.ceil(Math.log(Et)/Math.LN2))),St=Et-1,Dt=0;Dt<Et;++Dt)Pt[Dt]=Mt;function It(Ie){for(var oe=Nt(Ie)&St,rr=Pt[oe],we=0;rr!=Mt;){if(Tt(rr,Ie))return!0;if(++we>=Et)throw new Error("full hashset");rr=Pt[oe=oe+1&St]}return Pt[oe]=Ie,!0}function Ut(Ie){for(var oe=Nt(Ie)&St,rr=Pt[oe],we=0;rr!=Mt;){if(Tt(rr,Ie))return!0;if(++we>=Et)break;rr=Pt[oe=oe+1&St]}return!1}function gt(){for(var Ie=[],oe=0,rr=Pt.length;oe<rr;++oe){var we=Pt[oe];we!=Mt&&Ie.push(we)}return Ie}return{add:It,has:Ut,values:gt}}(1.4*O,xh,pl);for(r=0,s=h.length;r<s;++r)P[J=w[r]]&&Rt.add(h[J]);return Rt}function fp(t,r,s,a){gu(t,r,s),gu(t,r,r+a),gu(t,r+a,s)}function gu(t,r,s){for(var a,c=r+(s---r>>1);r<c;++r,--s)a=t[r],t[r]=t[s],t[s]=a}function fl(t){var r,s,a={};for(r in t)a[r]=(s=t[r])==null?{type:null}:(s.type==="FeatureCollection"?gp:s.type==="Feature"?uc:Ki)(s);return a}function gp(t){var r={type:"GeometryCollection",geometries:t.features.map(uc)};return t.bbox!=null&&(r.bbox=t.bbox),r}function uc(t){var r,s=Ki(t.geometry);for(r in t.id!=null&&(s.id=t.id),t.bbox!=null&&(s.bbox=t.bbox),t.properties){s.properties=t.properties;break}return s}function Ki(t){if(t==null)return{type:null};var r=t.type==="GeometryCollection"?{type:"GeometryCollection",geometries:t.geometries.map(Ki)}:t.type==="Point"||t.type==="MultiPoint"?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return t.bbox!=null&&(r.bbox=t.bbox),r}function gl(t,r){var s=function(P){var O=1/0,N=1/0,F=-1/0,M=-1/0;function W(J){J!=null&&pu.call(it,J.type)&&it[J.type](J)}var it={GeometryCollection:function(J){J.geometries.forEach(W)},Point:function(J){D(J.coordinates)},MultiPoint:function(J){J.coordinates.forEach(D)},LineString:function(J){q(J.arcs)},MultiLineString:function(J){J.arcs.forEach(q)},Polygon:function(J){J.arcs.forEach(q)},MultiPolygon:function(J){J.arcs.forEach(Y)}};function D(J){var Rt=J[0],Et=J[1];Rt<O&&(O=Rt),Rt>F&&(F=Rt),Et<N&&(N=Et),Et>M&&(M=Et)}function q(J){J.forEach(D)}function Y(J){J.forEach(q)}for(var tt in P)W(P[tt]);return F>=O&&M>=N?[O,N,F,M]:void 0}(t=fl(t)),a=r>0&&s&&function(P,O,N){var F=O[0],M=O[1],W=O[2],it=O[3],D=W-F?(N-1)/(W-F):1,q=it-M?(N-1)/(it-M):1;function Y(Mt){return[Math.round((Mt[0]-F)*D),Math.round((Mt[1]-M)*q)]}function tt(Mt,Pt){for(var St,Dt,It,Ut,gt,Ie=-1,oe=0,rr=Mt.length,we=new Array(rr);++Ie<rr;)St=Mt[Ie],Ut=Math.round((St[0]-F)*D),gt=Math.round((St[1]-M)*q),Ut===Dt&&gt===It||(we[oe++]=[Dt=Ut,It=gt]);for(we.length=oe;oe<Pt;)oe=we.push([we[0][0],we[0][1]]);return we}function J(Mt){return tt(Mt,2)}function Rt(Mt){return tt(Mt,4)}function Et(Mt){return Mt.map(Rt)}function Nt(Mt){Mt!=null&&pu.call(Tt,Mt.type)&&Tt[Mt.type](Mt)}var Tt={GeometryCollection:function(Mt){Mt.geometries.forEach(Nt)},Point:function(Mt){Mt.coordinates=Y(Mt.coordinates)},MultiPoint:function(Mt){Mt.coordinates=Mt.coordinates.map(Y)},LineString:function(Mt){Mt.arcs=J(Mt.arcs)},MultiLineString:function(Mt){Mt.arcs=Mt.arcs.map(J)},Polygon:function(Mt){Mt.arcs=Et(Mt.arcs)},MultiPolygon:function(Mt){Mt.arcs=Mt.arcs.map(Et)}};for(var jt in P)Nt(P[jt]);return{scale:[1/D,1/q],translate:[F,M]}}(t,s,r),c=function(P){var O,N,F,M,W=P.coordinates,it=P.lines,D=P.rings,q=it.length+D.length;for(delete P.lines,delete P.rings,F=0,M=it.length;F<M;++F)for(O=it[F];O=O.next;)++q;for(F=0,M=D.length;F<M;++F)for(N=D[F];N=N.next;)++q;var Y=fu(2*q*1.4,xh,pl),tt=P.arcs=[];for(F=0,M=it.length;F<M;++F){O=it[F];do J(O);while(O=O.next)}for(F=0,M=D.length;F<M;++F)if((N=D[F]).next)do J(N);while(N=N.next);else Rt(N);function J(Pt){var St,Dt,It,Ut,gt,Ie,oe,rr;if(It=Y.get(St=W[Pt[0]])){for(oe=0,rr=It.length;oe<rr;++oe)if(Et(Ut=It[oe],Pt))return Pt[0]=Ut[0],void(Pt[1]=Ut[1])}if(gt=Y.get(Dt=W[Pt[1]])){for(oe=0,rr=gt.length;oe<rr;++oe)if(Nt(Ie=gt[oe],Pt))return Pt[1]=Ie[0],void(Pt[0]=Ie[1])}It?It.push(Pt):Y.set(St,[Pt]),gt?gt.push(Pt):Y.set(Dt,[Pt]),tt.push(Pt)}function Rt(Pt){var St,Dt,It,Ut,gt;if(Dt=Y.get(W[Pt[0]]))for(Ut=0,gt=Dt.length;Ut<gt;++Ut){if(Tt(It=Dt[Ut],Pt))return Pt[0]=It[0],void(Pt[1]=It[1]);if(jt(It,Pt))return Pt[0]=It[1],void(Pt[1]=It[0])}if(Dt=Y.get(St=W[Pt[0]+Mt(Pt)]))for(Ut=0,gt=Dt.length;Ut<gt;++Ut){if(Tt(It=Dt[Ut],Pt))return Pt[0]=It[0],void(Pt[1]=It[1]);if(jt(It,Pt))return Pt[0]=It[1],void(Pt[1]=It[0])}Dt?Dt.push(Pt):Y.set(St,[Pt]),tt.push(Pt)}function Et(Pt,St){var Dt=Pt[0],It=St[0],Ut=Pt[1];if(Dt-Ut!=It-St[1])return!1;for(;Dt<=Ut;++Dt,++It)if(!pl(W[Dt],W[It]))return!1;return!0}function Nt(Pt,St){var Dt=Pt[0],It=St[0],Ut=Pt[1],gt=St[1];if(Dt-Ut!=It-gt)return!1;for(;Dt<=Ut;++Dt,--gt)if(!pl(W[Dt],W[gt]))return!1;return!0}function Tt(Pt,St){var Dt=Pt[0],It=St[0],Ut=Pt[1]-Dt;if(Ut!==St[1]-It)return!1;for(var gt=Mt(Pt),Ie=Mt(St),oe=0;oe<Ut;++oe)if(!pl(W[Dt+(oe+gt)%Ut],W[It+(oe+Ie)%Ut]))return!1;return!0}function jt(Pt,St){var Dt=Pt[0],It=St[0],Ut=Pt[1],gt=St[1],Ie=Ut-Dt;if(Ie!==gt-It)return!1;for(var oe=Mt(Pt),rr=Ie-Mt(St),we=0;we<Ie;++we)if(!pl(W[Dt+(we+oe)%Ie],W[gt-(we+rr)%Ie]))return!1;return!0}function Mt(Pt){for(var St=Pt[0],Dt=Pt[1],It=St,Ut=It,gt=W[It];++It<Dt;){var Ie=W[It];(Ie[0]<gt[0]||Ie[0]===gt[0]&&Ie[1]<gt[1])&&(Ut=It,gt=Ie)}return Ut-St}return P}(function(P){var O,N,F,M=pp(P),W=P.coordinates,it=P.lines,D=P.rings;for(N=0,F=it.length;N<F;++N)for(var q=it[N],Y=q[0],tt=q[1];++Y<tt;)M.has(W[Y])&&(O={0:Y,1:q[1]},q[1]=Y,q=q.next=O);for(N=0,F=D.length;N<F;++N)for(var J=D[N],Rt=J[0],Et=Rt,Nt=J[1],Tt=M.has(W[Rt]);++Et<Nt;)M.has(W[Et])&&(Tt?(O={0:Et,1:J[1]},J[1]=Et,J=J.next=O):(fp(W,Rt,Nt,Nt-Et),W[Nt]=W[Rt],Tt=!0,Et=Rt));return P}(function(P){var O=-1,N=[],F=[],M=[];function W(J){J&&pu.call(it,J.type)&&it[J.type](J)}var it={GeometryCollection:function(J){J.geometries.forEach(W)},LineString:function(J){J.arcs=D(J.arcs)},MultiLineString:function(J){J.arcs=J.arcs.map(D)},Polygon:function(J){J.arcs=J.arcs.map(q)},MultiPolygon:function(J){J.arcs=J.arcs.map(Y)}};function D(J){for(var Rt=0,Et=J.length;Rt<Et;++Rt)M[++O]=J[Rt];var Nt={0:O-Et+1,1:O};return N.push(Nt),Nt}function q(J){for(var Rt=0,Et=J.length;Rt<Et;++Rt)M[++O]=J[Rt];var Nt={0:O-Et+1,1:O};return F.push(Nt),Nt}function Y(J){return J.map(q)}for(var tt in P)W(P[tt]);return{type:"Topology",coordinates:M,lines:N,rings:F,objects:P}}(t))),h=c.coordinates,g=fu(1.4*c.arcs.length,Kg,Jg);function v(P){P&&pu.call(w,P.type)&&w[P.type](P)}t=c.objects,c.bbox=s,c.arcs=c.arcs.map(function(P,O){return g.set(P,O),h.slice(P[0],P[1]+1)}),delete c.coordinates,h=null;var w={GeometryCollection:function(P){P.geometries.forEach(v)},LineString:function(P){P.arcs=x(P.arcs)},MultiLineString:function(P){P.arcs=P.arcs.map(x)},Polygon:function(P){P.arcs=P.arcs.map(x)},MultiPolygon:function(P){P.arcs=P.arcs.map(T)}};function x(P){var O=[];do{var N=g.get(P);O.push(P[0]<P[1]?N:~N)}while(P=P.next);return O}function T(P){return P.map(x)}for(var k in t)v(t[k]);return a&&(c.transform=a,c.arcs=function(P){for(var O=-1,N=P.length;++O<N;){for(var F,M,W=P[O],it=0,D=1,q=W.length,Y=W[0],tt=Y[0],J=Y[1];++it<q;)F=(Y=W[it])[0],M=Y[1],F===tt&&M===J||(W[D++]=[F-tt,M-J],tt=F,J=M);D===1&&(W[D++]=[0,0]),W.length=D}return P}(c.arcs)),c}function Kg(t){var r,s=t[0],a=t[1];return a<s&&(r=s,s=a,a=r),s+31*a}function Jg(t,r){var s,a=t[0],c=t[1],h=r[0],g=r[1];return c<a&&(s=a,a=c,c=s),g<h&&(s=h,h=g,g=s),a===h&&c===g}function ky(t,r){if(r===void 0&&(r={}),$t(t)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");r.mutate!==!1&&r.mutate!==void 0||(t=Ci(t));var s=[];se(t,function(c){s.push(c.geometry)});var a=gl({geoms:H(s).geometry});return function(c){return bh(c,wh.apply(this,arguments))}(a,a.objects.geoms.geometries)}function Qg(t,r){if(r===void 0&&(r={}),!mt(r=r||{}))throw new Error("options is invalid");var s=r.mutate;if($t(t)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");s!==!1&&s!==void 0||(t=Ci(t));var a=function(h){var g={};se(h,function(w){g[w.geometry.type]=!0});var v=Object.keys(g);return v.length===1?v[0]:null}(t);if(!a)throw new Error("geojson must be homogenous");var c=t;switch(a){case"LineString":return hp(c,r);case"Polygon":return ky(c,r);default:throw new Error(a+" is not supported")}}function Zs(t,r){r===void 0&&(r={});var s=typeof r=="object"?r.mutate:r;if(!t)throw new Error("geojson is required");var a=$t(t),c=[];switch(a){case"LineString":c=mp(t);break;case"MultiLineString":case"Polygon":X(t).forEach(function(g){c.push(mp(g))});break;case"MultiPolygon":X(t).forEach(function(g){var v=[];g.forEach(function(w){v.push(mp(w))}),c.push(v)});break;case"Point":return t;case"MultiPoint":var h={};X(t).forEach(function(g){var v=g.join("-");Object.prototype.hasOwnProperty.call(h,v)||(c.push(g),h[v]=!0)});break;default:throw new Error(a+" geometry not supported")}return t.coordinates?s===!0?(t.coordinates=c,t):{type:a,coordinates:c}:s===!0?(t.geometry.coordinates=c,t):u({type:a,coordinates:c},t.properties,{bbox:t.bbox,id:t.id})}function mp(t){var r=X(t);if(r.length===2&&!vp(r[0],r[1]))return r;var s=[],a=r.length-1,c=s.length;s.push(r[0]);for(var h=1;h<a;h++){var g=s[s.length-1];r[h][0]===g[0]&&r[h][1]===g[1]||(s.push(r[h]),(c=s.length)>2&&Xr(s[c-3],s[c-1],s[c-2])&&s.splice(s.length-2,1))}if(s.push(r[r.length-1]),c=s.length,vp(r[0],r[r.length-1])&&c<4)throw new Error("invalid polygon");return Xr(s[c-3],s[c-1],s[c-2])&&s.splice(s.length-2,1),s}function vp(t,r){return t[0]===r[0]&&t[1]===r[1]}function Xr(t,r,s){var a=s[0],c=s[1],h=t[0],g=t[1],v=r[0],w=r[1],x=v-h,T=w-g;return(a-h)*T-(c-g)*x===0&&(Math.abs(x)>=Math.abs(T)?x>0?h<=a&&a<=v:v<=a&&a<=h:T>0?g<=c&&c<=w:w<=c&&c<=g)}function Ey(t,r,s){var a=r.x,c=r.y,h=s.x-a,g=s.y-c;if(h!==0||g!==0){var v=((t.x-a)*h+(t.y-c)*g)/(h*h+g*g);v>1?(a=s.x,c=s.y):v>0&&(a+=h*v,c+=g*v)}return(h=t.x-a)*h+(g=t.y-c)*g}function uo(t,r,s,a,c){for(var h,g=a,v=r+1;v<s;v++){var w=Ey(t[v],t[r],t[s]);w>g&&(h=v,g=w)}g>a&&(h-r>1&&uo(t,r,h,a,c),c.push(t[h]),s-h>1&&uo(t,h,s,a,c))}function mu(t,r){var s=t.length-1,a=[t[0]];return uo(t,0,s,r,a),a.push(t[s]),a}function _h(t,r,s){if(t.length<=2)return t;var a=r!==void 0?r*r:1;return t=mu(t=s?t:function(c,h){for(var g,v,w,x,T,k=c[0],P=[k],O=1,N=c.length;O<N;O++)g=c[O],w=k,x=void 0,T=void 0,x=(v=g).x-w.x,T=v.y-w.y,x*x+T*T>h&&(P.push(g),k=g);return k!==g&&P.push(g),P}(t,a),a)}function $g(t,r,s){return _h(t.map(function(a){return{x:a[0],y:a[1],z:a[2]}}),r,s).map(function(a){return a.z?[a.x,a.y,a.z]:[a.x,a.y]})}function kh(t,r,s){return t.map(function(a){var c=a.map(function(g){return{x:g[0],y:g[1]}});if(c.length<4)throw new Error("invalid polygon");for(var h=_h(c,r,s).map(function(g){return[g.x,g.y]});!Ty(h);)h=_h(c,r-=.01*r,s).map(function(g){return[g.x,g.y]});return h[h.length-1][0]===h[0][0]&&h[h.length-1][1]===h[0][1]||h.push(h[0]),h})}function Ty(t){return!(t.length<3)&&!(t.length===3&&t[2][0]===t[0][0]&&t[2][1]===t[0][1])}var tm=function(){function t(r){this.points=r.points||[],this.duration=r.duration||1e4,this.sharpness=r.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=r.stepLength||60,this.length=this.points.length,this.delay=0;for(var s=0;s<this.length;s++)this.points[s].z=this.points[s].z||0;for(s=0;s<this.length-1;s++){var a=this.points[s],c=this.points[s+1];this.centers.push({x:(a.x+c.x)/2,y:(a.y+c.y)/2,z:(a.z+c.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),s=0;s<this.centers.length-1;s++){var h=this.points[s+1].x-(this.centers[s].x+this.centers[s+1].x)/2,g=this.points[s+1].y-(this.centers[s].y+this.centers[s+1].y)/2,v=this.points[s+1].z-(this.centers[s].y+this.centers[s+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[s+1].x+this.sharpness*(this.centers[s].x+h),y:(1-this.sharpness)*this.points[s+1].y+this.sharpness*(this.centers[s].y+g),z:(1-this.sharpness)*this.points[s+1].z+this.sharpness*(this.centers[s].z+v)},{x:(1-this.sharpness)*this.points[s+1].x+this.sharpness*(this.centers[s+1].x+h),y:(1-this.sharpness)*this.points[s+1].y+this.sharpness*(this.centers[s+1].y+g),z:(1-this.sharpness)*this.points[s+1].z+this.sharpness*(this.centers[s+1].z+v)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}return t.prototype.cacheSteps=function(r){var s=[],a=this.pos(0);s.push(0);for(var c=0;c<this.duration;c+=10){var h=this.pos(c);Math.sqrt((h.x-a.x)*(h.x-a.x)+(h.y-a.y)*(h.y-a.y)+(h.z-a.z)*(h.z-a.z))>r&&(s.push(c),a=h)}return s},t.prototype.vector=function(r){var s=this.pos(r+10),a=this.pos(r-10);return{angle:180*Math.atan2(s.y-a.y,s.x-a.x)/3.14,speed:Math.sqrt((a.x-s.x)*(a.x-s.x)+(a.y-s.y)*(a.y-s.y)+(a.z-s.z)*(a.z-s.z))}},t.prototype.pos=function(r){var s=r-this.delay;s<0&&(s=0),s>this.duration&&(s=this.duration-1);var a=s/this.duration;if(a>=1)return this.points[this.length-1];var c=Math.floor((this.points.length-1)*a);return function(h,g,v,w,x){var T=function(k){var P=k*k;return[P*k,3*P*(1-k),3*k*(1-k)*(1-k),(1-k)*(1-k)*(1-k)]}(h);return{x:x.x*T[0]+w.x*T[1]+v.x*T[2]+g.x*T[3],y:x.y*T[0]+w.y*T[1]+v.y*T[2]+g.y*T[3],z:x.z*T[0]+w.z*T[1]+v.z*T[2]+g.z*T[3]}}((this.length-1)*a-c,this.points[c],this.controls[c][1],this.controls[c+1][0],this.points[c+1])},t}();function em(t,r){r===void 0&&(r={});for(var s=r.resolution||1e4,a=r.sharpness||.85,c=[],h=xt(t).coordinates.map(function(x){return{x:x[0],y:x[1]}}),g=new tm({duration:s,points:h,sharpness:a}),v=function(x){var T=g.pos(x);Math.floor(x/100)%2==0&&c.push([T.x,T.y])},w=0;w<g.duration;w+=10)v(w);return v(g.duration),E(c,r.properties)}function yp(t,r){r===void 0&&(r={});var s=Number(t[0]),a=Number(t[1]),c=Number(t[2]),h=Number(t[3]);if(t.length===6)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var g=[s,a];return y([[g,[c,a],[c,h],[s,h],g]],r.properties,{bbox:t,id:r.id})}function Eh(t){return yp(vt(t))}function rm(t){var r=t[0],s=t[1],a=t[2],c=t[3];if(nr(t.slice(0,2),[a,s])>=nr(t.slice(0,2),[r,c])){var h=(s+c)/2;return[r,h-(a-r)/2,a,h+(a-r)/2]}var g=(r+a)/2;return[g-(c-s)/2,s,g+(c-s)/2,c]}function Ji(t,r,s,a){a===void 0&&(a={});var c=A(t),h=ct(c[0]),g=ct(c[1]),v=ct(s),w=V(r,a.units),x=Math.asin(Math.sin(g)*Math.cos(w)+Math.cos(g)*Math.sin(w)*Math.cos(v));return f([ht(h+Math.atan2(Math.sin(v)*Math.sin(w)*Math.cos(g),Math.cos(w)-Math.sin(g)*Math.sin(x))),ht(x)],a.properties)}function bp(t,r,s){s===void 0&&(s={});for(var a=s.steps||64,c=s.properties?s.properties:!Array.isArray(t)&&t.type==="Feature"&&t.properties?t.properties:{},h=[],g=0;g<a;g++)h.push(Ji(t,r,-360*g/a,s).geometry.coordinates);return h.push(h[0]),y([h],c)}function gs(t,r,s){if(s===void 0&&(s={}),s.final===!0)return function(k,P){var O=gs(P,k);return O=(O+180)%360}(t,r);var a=A(t),c=A(r),h=ct(a[0]),g=ct(c[0]),v=ct(a[1]),w=ct(c[1]),x=Math.sin(g-h)*Math.cos(w),T=Math.cos(v)*Math.sin(w)-Math.sin(v)*Math.cos(w)*Math.cos(g-h);return ht(Math.atan2(x,T))}function Zo(t,r){r===void 0&&(r={});var s=vt(t);return f([(s[0]+s[2])/2,(s[1]+s[3])/2],r.properties,r)}function Xs(t,r){r===void 0&&(r={});var s=0,a=0,c=0;return Gt(t,function(h){s+=h[0],a+=h[1],c++},!0),f([s/c,a/c],r.properties)}function vu(t){var r=[];return t.type==="FeatureCollection"?kt(t,function(s){Gt(s,function(a){r.push(f(a,s.properties))})}):Gt(t,function(s){r.push(f(s,t.properties))}),I(r)}var Th=yu,Sy=yu;function yu(t,r,s){s=s||2;var a,c,h,g,v,w,x,T=r&&r.length,k=T?r[0]*s:t.length,P=wp(t,0,k,s,!0),O=[];if(!P)return O;if(T&&(P=function(F,M,W,it){var D,q,Y,tt=[];for(D=0,q=M.length;D<q;D++)(Y=wp(F,M[D]*it,D<q-1?M[D+1]*it:F.length,it,!1))===Y.next&&(Y.steiner=!0),tt.push(xu(Y));for(tt.sort(Sh),D=0;D<tt.length;D++)ml(tt[D],W),W=bu(W,W.next);return W}(t,r,P,s)),t.length>80*s){a=h=t[0],c=g=t[1];for(var N=s;N<k;N+=s)(v=t[N])<a&&(a=v),(w=t[N+1])<c&&(c=w),v>h&&(h=v),w>g&&(g=w);x=(x=Math.max(h-a,g-c))!==0?1/x:0}return wu(P,O,s,a,c,x),O}function wp(t,r,s,a,c){var h,g;if(c===ho(t,r,s,a)>0)for(h=r;h<s;h+=a)g=am(h,t[h],t[h+1],g);else for(h=s-a;h>=r;h-=a)g=am(h,t[h],t[h+1],g);return g&&vl(g,g.next)&&(hc(g),g=g.next),g}function bu(t,r){if(!t)return t;r||(r=t);var s,a=t;do if(s=!1,a.steiner||!vl(a,a.next)&&an(a.prev,a,a.next)!==0)a=a.next;else{if(hc(a),(a=r=a.prev)===a.next)break;s=!0}while(s||a!==r);return r}function wu(t,r,s,a,c,h,g){if(t){!g&&h&&function(T,k,P,O){var N=T;do N.z===null&&(N.z=_p(N.x,N.y,k,P,O)),N.prevZ=N.prev,N.nextZ=N.next,N=N.next;while(N!==T);N.prevZ.nextZ=null,N.prevZ=null,function(F){var M,W,it,D,q,Y,tt,J,Rt=1;do{for(W=F,F=null,q=null,Y=0;W;){for(Y++,it=W,tt=0,M=0;M<Rt&&(tt++,it=it.nextZ);M++);for(J=Rt;tt>0||J>0&&it;)tt!==0&&(J===0||!it||W.z<=it.z)?(D=W,W=W.nextZ,tt--):(D=it,it=it.nextZ,J--),q?q.nextZ=D:F=D,D.prevZ=q,q=D;W=it}q.nextZ=null,Rt*=2}while(Y>1)}(N)}(t,a,c,h);for(var v,w,x=t;t.prev!==t.next;)if(v=t.prev,w=t.next,h?Cy(t,a,c,h):xp(t))r.push(v.i/s),r.push(t.i/s),r.push(w.i/s),hc(t),t=w.next,x=w.next;else if((t=w)===x){g?g===1?wu(t=im(t,r,s),r,s,a,c,h,2):g===2&&nm(t,r,s,a,c,h):wu(bu(t),r,s,a,c,h,1);break}}}function xp(t){var r=t.prev,s=t,a=t.next;if(an(r,s,a)>=0)return!1;for(var c=t.next.next;c!==t.prev;){if(yn(r.x,r.y,s.x,s.y,a.x,a.y,c.x,c.y)&&an(c.prev,c,c.next)>=0)return!1;c=c.next}return!0}function Cy(t,r,s,a){var c=t.prev,h=t,g=t.next;if(an(c,h,g)>=0)return!1;for(var v=c.x<h.x?c.x<g.x?c.x:g.x:h.x<g.x?h.x:g.x,w=c.y<h.y?c.y<g.y?c.y:g.y:h.y<g.y?h.y:g.y,x=c.x>h.x?c.x>g.x?c.x:g.x:h.x>g.x?h.x:g.x,T=c.y>h.y?c.y>g.y?c.y:g.y:h.y>g.y?h.y:g.y,k=_p(v,w,r,s,a),P=_p(x,T,r,s,a),O=t.prevZ,N=t.nextZ;O&&O.z>=k&&N&&N.z<=P;){if(O!==t.prev&&O!==t.next&&yn(c.x,c.y,h.x,h.y,g.x,g.y,O.x,O.y)&&an(O.prev,O,O.next)>=0||(O=O.prevZ,N!==t.prev&&N!==t.next&&yn(c.x,c.y,h.x,h.y,g.x,g.y,N.x,N.y)&&an(N.prev,N,N.next)>=0))return!1;N=N.nextZ}for(;O&&O.z>=k;){if(O!==t.prev&&O!==t.next&&yn(c.x,c.y,h.x,h.y,g.x,g.y,O.x,O.y)&&an(O.prev,O,O.next)>=0)return!1;O=O.prevZ}for(;N&&N.z<=P;){if(N!==t.prev&&N!==t.next&&yn(c.x,c.y,h.x,h.y,g.x,g.y,N.x,N.y)&&an(N.prev,N,N.next)>=0)return!1;N=N.nextZ}return!0}function im(t,r,s){var a=t;do{var c=a.prev,h=a.next.next;!vl(c,h)&&Ch(c,a,a.next,h)&&yl(c,h)&&yl(h,c)&&(r.push(c.i/s),r.push(a.i/s),r.push(h.i/s),hc(a),hc(a.next),a=t=h),a=a.next}while(a!==t);return a}function nm(t,r,s,a,c,h){var g=t;do{for(var v=g.next.next;v!==g.prev;){if(g.i!==v.i&&om(g,v)){var w=sm(g,v);return g=bu(g,g.next),w=bu(w,w.next),wu(g,r,s,a,c,h),void wu(w,r,s,a,c,h)}v=v.next}g=g.next}while(g!==t)}function Sh(t,r){return t.x-r.x}function ml(t,r){if(r=function(a,c){var h,g=c,v=a.x,w=a.y,x=-1/0;do{if(w<=g.y&&w>=g.next.y&&g.next.y!==g.y){var T=g.x+(w-g.y)*(g.next.x-g.x)/(g.next.y-g.y);if(T<=v&&T>x){if(x=T,T===v){if(w===g.y)return g;if(w===g.next.y)return g.next}h=g.x<g.next.x?g:g.next}}g=g.next}while(g!==c);if(!h)return null;if(v===x)return h.prev;var k,P=h,O=h.x,N=h.y,F=1/0;for(g=h.next;g!==P;)v>=g.x&&g.x>=O&&v!==g.x&&yn(w<N?v:x,w,O,N,w<N?x:v,w,g.x,g.y)&&((k=Math.abs(w-g.y)/(v-g.x))<F||k===F&&g.x>h.x)&&yl(g,a)&&(h=g,F=k),g=g.next;return h}(t,r)){var s=sm(r,t);bu(s,s.next)}}function _p(t,r,s,a,c){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-s)*c)|t<<8))|t<<4))|t<<2))|t<<1))|(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r=32767*(r-a)*c)|r<<8))|r<<4))|r<<2))|r<<1))<<1}function xu(t){var r=t,s=t;do r.x<s.x&&(s=r),r=r.next;while(r!==t);return s}function yn(t,r,s,a,c,h,g,v){return(c-g)*(r-v)-(t-g)*(h-v)>=0&&(t-g)*(a-v)-(s-g)*(r-v)>=0&&(s-g)*(h-v)-(c-g)*(a-v)>=0}function om(t,r){return t.next.i!==r.i&&t.prev.i!==r.i&&!function(s,a){var c=s;do{if(c.i!==s.i&&c.next.i!==s.i&&c.i!==a.i&&c.next.i!==a.i&&Ch(c,c.next,s,a))return!0;c=c.next}while(c!==s);return!1}(t,r)&&yl(t,r)&&yl(r,t)&&function(s,a){var c=s,h=!1,g=(s.x+a.x)/2,v=(s.y+a.y)/2;do c.y>v!=c.next.y>v&&c.next.y!==c.y&&g<(c.next.x-c.x)*(v-c.y)/(c.next.y-c.y)+c.x&&(h=!h),c=c.next;while(c!==s);return h}(t,r)}function an(t,r,s){return(r.y-t.y)*(s.x-r.x)-(r.x-t.x)*(s.y-r.y)}function vl(t,r){return t.x===r.x&&t.y===r.y}function Ch(t,r,s,a){return!!(vl(t,r)&&vl(s,a)||vl(t,a)&&vl(s,r))||an(t,r,s)>0!=an(t,r,a)>0&&an(s,a,t)>0!=an(s,a,r)>0}function yl(t,r){return an(t.prev,t,t.next)<0?an(t,r,t.next)>=0&&an(t,t.prev,r)>=0:an(t,r,t.prev)<0||an(t,t.next,r)<0}function sm(t,r){var s=new kp(t.i,t.x,t.y),a=new kp(r.i,r.x,r.y),c=t.next,h=r.prev;return t.next=r,r.prev=t,s.next=c,c.prev=s,a.next=s,s.prev=a,h.next=a,a.prev=h,a}function am(t,r,s,a){var c=new kp(t,r,s);return a?(c.next=a.next,c.prev=a,a.next.prev=c,a.next=c):(c.prev=c,c.next=c),c}function hc(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function kp(t,r,s){this.i=t,this.x=r,this.y=s,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ho(t,r,s,a){for(var c=0,h=r,g=s-a;h<s;h+=a)c+=(t[g]-t[h])*(t[h+1]+t[g+1]),g=h;return c}function bl(t){var r=function(v){for(var w=v[0][0].length,x={vertices:[],holes:[],dimensions:w},T=0,k=0;k<v.length;k++){for(var P=0;P<v[k].length;P++)for(var O=0;O<w;O++)x.vertices.push(v[k][P][O]);k>0&&(T+=v[k-1].length,x.holes.push(T))}return x}(t),s=Th(r.vertices,r.holes,2),a=[],c=[];s.forEach(function(v,w){var x=s[w];c.push([r.vertices[2*x],r.vertices[2*x+1]])});for(var h=0;h<c.length;h+=3){var g=c.slice(h,h+3);g.push(c[h]),a.push(y([g]))}return a}function Ph(t,r){if(!t)throw new Error("targetPoint is required");if(!r)throw new Error("points is required");var s,a=1/0,c=0;return kt(r,function(h,g){var v=nr(t,h);v<a&&(c=g,a=v)}),(s=Ci(r.features[c])).properties.featureIndex=c,s.properties.distanceToPoint=a,s}function Hn(t){if(!t)throw new Error("geojson is required");var r=[];return se(t,function(s){(function(a,c){var h=[],g=a.geometry;if(g!==null){switch(g.type){case"Polygon":h=X(g);break;case"LineString":h=[X(g)]}h.forEach(function(v){(function(w,x){var T=[];return w.reduce(function(k,P){var O=E([k,P],x);return O.bbox=function(N,F){var M=N[0],W=N[1],it=F[0],D=F[1];return[M<it?M:it,W<D?W:D,M>it?M:it,W>D?W:D]}(k,P),T.push(O),P}),T})(v,a.properties).forEach(function(w){w.id=c.length,c.push(w)})})}})(s,r)}),I(r)}yu.deviation=function(t,r,s,a){var c=r&&r.length,h=c?r[0]*s:t.length,g=Math.abs(ho(t,0,h,s));if(c)for(var v=0,w=r.length;v<w;v++){var x=r[v]*s,T=v<w-1?r[v+1]*s:t.length;g-=Math.abs(ho(t,x,T,s))}var k=0;for(v=0;v<a.length;v+=3){var P=a[v]*s,O=a[v+1]*s,N=a[v+2]*s;k+=Math.abs((t[P]-t[N])*(t[O+1]-t[P+1])-(t[P]-t[O])*(t[N+1]-t[P+1]))}return g===0&&k===0?0:Math.abs((k-g)/g)},yu.flatten=function(t){for(var r=t[0][0].length,s={vertices:[],holes:[],dimensions:r},a=0,c=0;c<t.length;c++){for(var h=0;h<t[c].length;h++)for(var g=0;g<r;g++)s.vertices.push(t[c][h][g]);c>0&&(a+=t[c-1].length,s.holes.push(a))}return s},Th.default=Sy;var ln=Vo(function(t,r){function s(N,F,M){M===void 0&&(M={});var W={type:"Feature"};return(M.id===0||M.id)&&(W.id=M.id),M.bbox&&(W.bbox=M.bbox),W.properties=F||{},W.geometry=N,W}function a(N,F,M){if(M===void 0&&(M={}),!N)throw new Error("coordinates is required");if(!Array.isArray(N))throw new Error("coordinates must be an Array");if(N.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!O(N[0])||!O(N[1]))throw new Error("coordinates must contain numbers");return s({type:"Point",coordinates:N},F,M)}function c(N,F,M){M===void 0&&(M={});for(var W=0,it=N;W<it.length;W++){var D=it[W];if(D.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var q=0;q<D[D.length-1].length;q++)if(D[D.length-1][q]!==D[0][q])throw new Error("First and last Position are not equivalent.")}return s({type:"Polygon",coordinates:N},F,M)}function h(N,F,M){if(M===void 0&&(M={}),N.length<2)throw new Error("coordinates must be an array of two or more positions");return s({type:"LineString",coordinates:N},F,M)}function g(N,F){F===void 0&&(F={});var M={type:"FeatureCollection"};return F.id&&(M.id=F.id),F.bbox&&(M.bbox=F.bbox),M.features=N,M}function v(N,F,M){return M===void 0&&(M={}),s({type:"MultiLineString",coordinates:N},F,M)}function w(N,F,M){return M===void 0&&(M={}),s({type:"MultiPoint",coordinates:N},F,M)}function x(N,F,M){return M===void 0&&(M={}),s({type:"MultiPolygon",coordinates:N},F,M)}function T(N,F){F===void 0&&(F="kilometers");var M=r.factors[F];if(!M)throw new Error(F+" units is invalid");return N*M}function k(N,F){F===void 0&&(F="kilometers");var M=r.factors[F];if(!M)throw new Error(F+" units is invalid");return N/M}function P(N){return 180*(N%(2*Math.PI))/Math.PI}function O(N){return!isNaN(N)&&N!==null&&!Array.isArray(N)}Object.defineProperty(r,"__esModule",{value:!0}),r.earthRadius=63710088e-1,r.factors={centimeters:100*r.earthRadius,centimetres:100*r.earthRadius,degrees:r.earthRadius/111325,feet:3.28084*r.earthRadius,inches:39.37*r.earthRadius,kilometers:r.earthRadius/1e3,kilometres:r.earthRadius/1e3,meters:r.earthRadius,metres:r.earthRadius,miles:r.earthRadius/1609.344,millimeters:1e3*r.earthRadius,millimetres:1e3*r.earthRadius,nauticalmiles:r.earthRadius/1852,radians:1,yards:1.0936*r.earthRadius},r.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/r.earthRadius,yards:1.0936133},r.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},r.feature=s,r.geometry=function(N,F,M){switch(N){case"Point":return a(F).geometry;case"LineString":return h(F).geometry;case"Polygon":return c(F).geometry;case"MultiPoint":return w(F).geometry;case"MultiLineString":return v(F).geometry;case"MultiPolygon":return x(F).geometry;default:throw new Error(N+" is invalid")}},r.point=a,r.points=function(N,F,M){return M===void 0&&(M={}),g(N.map(function(W){return a(W,F)}),M)},r.polygon=c,r.polygons=function(N,F,M){return M===void 0&&(M={}),g(N.map(function(W){return c(W,F)}),M)},r.lineString=h,r.lineStrings=function(N,F,M){return M===void 0&&(M={}),g(N.map(function(W){return h(W,F)}),M)},r.featureCollection=g,r.multiLineString=v,r.multiPoint=w,r.multiPolygon=x,r.geometryCollection=function(N,F,M){return M===void 0&&(M={}),s({type:"GeometryCollection",geometries:N},F,M)},r.round=function(N,F){if(F===void 0&&(F=0),F&&!(F>=0))throw new Error("precision must be a positive number");var M=Math.pow(10,F||0);return Math.round(N*M)/M},r.radiansToLength=T,r.lengthToRadians=k,r.lengthToDegrees=function(N,F){return P(k(N,F))},r.bearingToAzimuth=function(N){var F=N%360;return F<0&&(F+=360),F},r.radiansToDegrees=P,r.degreesToRadians=function(N){return N%360*Math.PI/180},r.convertLength=function(N,F,M){if(F===void 0&&(F="kilometers"),M===void 0&&(M="kilometers"),!(N>=0))throw new Error("length must be a positive number");return T(k(N,F),M)},r.convertArea=function(N,F,M){if(F===void 0&&(F="meters"),M===void 0&&(M="kilometers"),!(N>=0))throw new Error("area must be a positive number");var W=r.areaFactors[F];if(!W)throw new Error("invalid original units");var it=r.areaFactors[M];if(!it)throw new Error("invalid final units");return N/W*it},r.isNumber=O,r.isObject=function(N){return!!N&&N.constructor===Object},r.validateBBox=function(N){if(!N)throw new Error("bbox is required");if(!Array.isArray(N))throw new Error("bbox must be an Array");if(N.length!==4&&N.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");N.forEach(function(F){if(!O(F))throw new Error("bbox must only contain numbers")})},r.validateId=function(N){if(!N)throw new Error("id is required");if(["string","number"].indexOf(typeof N)===-1)throw new Error("id must be a number or a string")}});function ms(t,r,s){if(t!==null)for(var a,c,h,g,v,w,x,T,k=0,P=0,O=t.type,N=O==="FeatureCollection",F=O==="Feature",M=N?t.features.length:1,W=0;W<M;W++){v=(T=!!(x=N?t.features[W].geometry:F?t.geometry:t)&&x.type==="GeometryCollection")?x.geometries.length:1;for(var it=0;it<v;it++){var D=0,q=0;if((g=T?x.geometries[it]:x)!==null){w=g.coordinates;var Y=g.type;switch(k=!s||Y!=="Polygon"&&Y!=="MultiPolygon"?0:1,Y){case null:break;case"Point":if(r(w,P,W,D,q)===!1)return!1;P++,D++;break;case"LineString":case"MultiPoint":for(a=0;a<w.length;a++){if(r(w[a],P,W,D,q)===!1)return!1;P++,Y==="MultiPoint"&&D++}Y==="LineString"&&D++;break;case"Polygon":case"MultiLineString":for(a=0;a<w.length;a++){for(c=0;c<w[a].length-k;c++){if(r(w[a][c],P,W,D,q)===!1)return!1;P++}Y==="MultiLineString"&&D++,Y==="Polygon"&&q++}Y==="Polygon"&&D++;break;case"MultiPolygon":for(a=0;a<w.length;a++){for(q=0,c=0;c<w[a].length;c++){for(h=0;h<w[a][c].length-k;h++){if(r(w[a][c][h],P,W,D,q)===!1)return!1;P++}q++}D++}break;case"GeometryCollection":for(a=0;a<g.geometries.length;a++)if(ms(g.geometries[a],r,s)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function lm(t,r){var s;switch(t.type){case"FeatureCollection":for(s=0;s<t.features.length&&r(t.features[s].properties,s)!==!1;s++);break;case"Feature":r(t.properties,0)}}function dc(t,r){if(t.type==="Feature")r(t,0);else if(t.type==="FeatureCollection")for(var s=0;s<t.features.length&&r(t.features[s],s)!==!1;s++);}function Mh(t,r){var s,a,c,h,g,v,w,x,T,k,P=0,O=t.type==="FeatureCollection",N=t.type==="Feature",F=O?t.features.length:1;for(s=0;s<F;s++){for(v=O?t.features[s].geometry:N?t.geometry:t,x=O?t.features[s].properties:N?t.properties:{},T=O?t.features[s].bbox:N?t.bbox:void 0,k=O?t.features[s].id:N?t.id:void 0,g=(w=!!v&&v.type==="GeometryCollection")?v.geometries.length:1,c=0;c<g;c++)if((h=w?v.geometries[c]:v)!==null)switch(h.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(r(h,P,x,T,k)===!1)return!1;break;case"GeometryCollection":for(a=0;a<h.geometries.length;a++)if(r(h.geometries[a],P,x,T,k)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(r(null,P,x,T,k)===!1)return!1;P++}}function wl(t,r){Mh(t,function(s,a,c,h,g){var v,w=s===null?null:s.type;switch(w){case null:case"Point":case"LineString":case"Polygon":return r(ln.feature(s,c,{bbox:h,id:g}),a,0)!==!1&&void 0}switch(w){case"MultiPoint":v="Point";break;case"MultiLineString":v="LineString";break;case"MultiPolygon":v="Polygon"}for(var x=0;x<s.coordinates.length;x++){var T={type:v,coordinates:s.coordinates[x]};if(r(ln.feature(T,c),a,x)===!1)return!1}})}function cm(t,r){wl(t,function(s,a,c){var h=0;if(s.geometry){var g=s.geometry.type;if(g!=="Point"&&g!=="MultiPoint"){var v,w=0,x=0,T=0;return ms(s,function(k,P,O,N,F){if(v===void 0||a>w||N>x||F>T)return v=k,w=a,x=N,T=F,void(h=0);var M=ln.lineString([v,k],s.properties);if(r(M,a,c,F,h)===!1)return!1;h++,v=k})!==!1&&void 0}}})}function Ys(t,r){if(!t)throw new Error("geojson is required");wl(t,function(s,a,c){if(s.geometry!==null){var h=s.geometry.type,g=s.geometry.coordinates;switch(h){case"LineString":if(r(s,a,c,0,0)===!1)return!1;break;case"Polygon":for(var v=0;v<g.length;v++)if(r(ln.lineString(g[v],s.properties),a,c,v)===!1)return!1}}})}var Ih=function(t){var r=[];return ms(t,function(s){r.push(s)}),r},Py=ms,Ep=function(t,r,s,a){var c=s;return ms(t,function(h,g,v,w,x){c=g===0&&s===void 0?h:r(c,h,g,v,w,x)},a),c},My=dc,Ks=function(t,r,s){var a=s;return dc(t,function(c,h){a=h===0&&s===void 0?c:r(a,c,h)}),a},Iy=function(t,r){if(r=r||{},!ln.isObject(r))throw new Error("options is invalid");var s,a=r.featureIndex||0,c=r.multiFeatureIndex||0,h=r.geometryIndex||0,g=r.coordIndex||0,v=r.properties;switch(t.type){case"FeatureCollection":a<0&&(a=t.features.length+a),v=v||t.features[a].properties,s=t.features[a].geometry;break;case"Feature":v=v||t.properties,s=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=t;break;default:throw new Error("geojson is invalid")}if(s===null)return null;var w=s.coordinates;switch(s.type){case"Point":return ln.point(w,v,r);case"MultiPoint":return c<0&&(c=w.length+c),ln.point(w[c],v,r);case"LineString":return g<0&&(g=w.length+g),ln.point(w[g],v,r);case"Polygon":return h<0&&(h=w.length+h),g<0&&(g=w[h].length+g),ln.point(w[h][g],v,r);case"MultiLineString":return c<0&&(c=w.length+c),g<0&&(g=w[c].length+g),ln.point(w[c][g],v,r);case"MultiPolygon":return c<0&&(c=w.length+c),h<0&&(h=w[c].length+h),g<0&&(g=w[c][h].length-g),ln.point(w[c][h][g],v,r)}throw new Error("geojson is invalid")},pc=function(t,r){if(r=r||{},!ln.isObject(r))throw new Error("options is invalid");var s,a=r.featureIndex||0,c=r.multiFeatureIndex||0,h=r.geometryIndex||0,g=r.segmentIndex||0,v=r.properties;switch(t.type){case"FeatureCollection":a<0&&(a=t.features.length+a),v=v||t.features[a].properties,s=t.features[a].geometry;break;case"Feature":v=v||t.properties,s=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=t;break;default:throw new Error("geojson is invalid")}if(s===null)return null;var w=s.coordinates;switch(s.type){case"Point":case"MultiPoint":return null;case"LineString":return g<0&&(g=w.length+g-1),ln.lineString([w[g],w[g+1]],v,r);case"Polygon":return h<0&&(h=w.length+h),g<0&&(g=w[h].length+g-1),ln.lineString([w[h][g],w[h][g+1]],v,r);case"MultiLineString":return c<0&&(c=w.length+c),g<0&&(g=w[c].length+g-1),ln.lineString([w[c][g],w[c][g+1]],v,r);case"MultiPolygon":return c<0&&(c=w.length+c),h<0&&(h=w[c].length+h),g<0&&(g=w[c][h].length-g-1),ln.lineString([w[c][h][g],w[c][h][g+1]],v,r)}throw new Error("geojson is invalid")},Ly=wl,Js=function(t,r,s){var a=s;return wl(t,function(c,h,g){a=h===0&&g===0&&s===void 0?c:r(a,c,h,g)}),a},Lh=Mh,um=function(t,r,s){var a=s;return Mh(t,function(c,h,g,v,w){a=h===0&&s===void 0?c:r(a,c,h,g,v,w)}),a},Tp=Ys,Rh=function(t,r,s){var a=s;return Ys(t,function(c,h,g,v){a=h===0&&s===void 0?c:r(a,c,h,g,v)}),a},Sp=lm,Ah=function(t,r,s){var a=s;return lm(t,function(c,h){a=h===0&&s===void 0?c:r(a,c,h)}),a},fc=cm,zh=function(t,r,s){var a=s,c=!1;return cm(t,function(h,g,v,w,x){a=c===!1&&s===void 0?h:r(a,h,g,v,w,x),c=!0}),a},_u=Object.defineProperty({coordAll:Ih,coordEach:Py,coordReduce:Ep,featureEach:My,featureReduce:Ks,findPoint:Iy,findSegment:pc,flattenEach:Ly,flattenReduce:Js,geomEach:Lh,geomReduce:um,lineEach:Tp,lineReduce:Rh,propEach:Sp,propReduce:Ah,segmentEach:fc,segmentReduce:zh},"__esModule",{value:!0});function Oh(t){var r=[1/0,1/0,-1/0,-1/0];return _u.coordEach(t,function(s){r[0]>s[0]&&(r[0]=s[0]),r[1]>s[1]&&(r[1]=s[1]),r[2]<s[0]&&(r[2]=s[0]),r[3]<s[1]&&(r[3]=s[1])}),r}Oh.default=Oh;var Ry=Oh,Qs=Object.defineProperty({default:Ry},"__esModule",{value:!0}).default,Ay=_u.featureEach,Cp=(_u.coordEach,ln.polygon,ln.featureCollection);function hm(t){var r=Yi(t);return r.insert=function(s){if(s.type!=="Feature")throw new Error("invalid feature");return s.bbox=s.bbox?s.bbox:Qs(s),Yi.prototype.insert.call(this,s)},r.load=function(s){var a=[];return Array.isArray(s)?s.forEach(function(c){if(c.type!=="Feature")throw new Error("invalid features");c.bbox=c.bbox?c.bbox:Qs(c),a.push(c)}):Ay(s,function(c){if(c.type!=="Feature")throw new Error("invalid features");c.bbox=c.bbox?c.bbox:Qs(c),a.push(c)}),Yi.prototype.load.call(this,a)},r.remove=function(s,a){if(s.type!=="Feature")throw new Error("invalid feature");return s.bbox=s.bbox?s.bbox:Qs(s),Yi.prototype.remove.call(this,s,a)},r.clear=function(){return Yi.prototype.clear.call(this)},r.search=function(s){var a=Yi.prototype.search.call(this,this.toBBox(s));return Cp(a)},r.collides=function(s){return Yi.prototype.collides.call(this,this.toBBox(s))},r.all=function(){var s=Yi.prototype.all.call(this);return Cp(s)},r.toJSON=function(){return Yi.prototype.toJSON.call(this)},r.fromJSON=function(s){return Yi.prototype.fromJSON.call(this,s)},r.toBBox=function(s){var a;if(s.bbox)a=s.bbox;else if(Array.isArray(s)&&s.length===4)a=s;else if(Array.isArray(s)&&s.length===6)a=[s[0],s[1],s[3],s[4]];else if(s.type==="Feature")a=Qs(s);else{if(s.type!=="FeatureCollection")throw new Error("invalid geojson");a=Qs(s)}return{minX:a[0],minY:a[1],maxX:a[2],maxY:a[3]}},r}var gc=hm,zy=hm;function cn(t,r){var s={},a=[];if(t.type==="LineString"&&(t=u(t)),r.type==="LineString"&&(r=u(r)),t.type==="Feature"&&r.type==="Feature"&&t.geometry!==null&&r.geometry!==null&&t.geometry.type==="LineString"&&r.geometry.type==="LineString"&&t.geometry.coordinates.length===2&&r.geometry.coordinates.length===2){var c=ku(t,r);return c&&a.push(c),I(a)}var h=gc();return h.load(Hn(r)),kt(Hn(t),function(g){kt(h.search(g),function(v){var w=ku(g,v);if(w){var x=X(w).join(",");s[x]||(s[x]=!0,a.push(w))}})}),I(a)}function ku(t,r){var s=X(t),a=X(r);if(s.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(a.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var c=s[0][0],h=s[0][1],g=s[1][0],v=s[1][1],w=a[0][0],x=a[0][1],T=a[1][0],k=a[1][1],P=(k-x)*(g-c)-(T-w)*(v-h),O=(T-w)*(h-x)-(k-x)*(c-w),N=(g-c)*(h-x)-(v-h)*(c-w);if(P===0)return null;var F=O/P,M=N/P;return F>=0&&F<=1&&M>=0&&M<=1?f([c+F*(g-c),h+F*(v-h)]):null}function $s(t,r,s){s===void 0&&(s={});var a=f([1/0,1/0],{dist:1/0}),c=0;return se(t,function(h){for(var g=X(h),v=0;v<g.length-1;v++){var w=f(g[v]);w.properties.dist=nr(r,w,s);var x=f(g[v+1]);x.properties.dist=nr(r,x,s);var T=nr(w,x,s),k=Math.max(w.properties.dist,x.properties.dist),P=gs(w,x),O=Ji(r,k,P+90,s),N=Ji(r,k,P-90,s),F=cn(E([O.geometry.coordinates,N.geometry.coordinates]),E([w.geometry.coordinates,x.geometry.coordinates])),M=null;F.features.length>0&&((M=F.features[0]).properties.dist=nr(r,M,s),M.properties.location=c+nr(w,M,s)),w.properties.dist<a.properties.dist&&((a=w).properties.index=v,a.properties.location=c),x.properties.dist<a.properties.dist&&((a=x).properties.index=v+1,a.properties.location=c+T),M&&M.properties.dist<a.properties.dist&&((a=M).properties.index=v),c+=T}}),a}function xl(t,r,s){s===void 0&&(s={});var a=A(t),c=A(r);return c[0]+=c[0]-a[0]>180?-360:a[0]-c[0]>180?360:0,Z(function(h,g,v){var w=v=v===void 0?i:Number(v),x=h[1]*Math.PI/180,T=g[1]*Math.PI/180,k=T-x,P=Math.abs(g[0]-h[0])*Math.PI/180;P>Math.PI&&(P-=2*Math.PI);var O=Math.log(Math.tan(T/2+Math.PI/4)/Math.tan(x/2+Math.PI/4)),N=Math.abs(O)>1e-11?k/O:Math.cos(x);return Math.sqrt(k*k+N*N*P*P)*w}(a,c),"meters",s.units)}function dm(t,r,s){if(s===void 0&&(s={}),s.method||(s.method="geodesic"),s.units||(s.units="kilometers"),!t)throw new Error("pt is required");if(Array.isArray(t)?t=f(t):t.type==="Point"?t=u(t):wt(t,"Point","point"),!r)throw new Error("line is required");Array.isArray(r)?r=E(r):r.type==="LineString"?r=u(r):wt(r,"LineString","line");var a=1/0,c=t.geometry.coordinates;return tr(r,function(h){var g=h.geometry.coordinates[0],v=h.geometry.coordinates[1],w=function(x,T,k,P){var O=[k[0]-T[0],k[1]-T[1]],N=Pp([x[0]-T[0],x[1]-T[1]],O);if(N<=0)return Mp(x,T,{method:P.method,units:"degrees"});var F=Pp(O,O);if(F<=N)return Mp(x,k,{method:P.method,units:"degrees"});var M=N/F,W=[T[0]+M*O[0],T[1]+M*O[1]];return Mp(x,W,{method:P.method,units:"degrees"})}(c,g,v,s);w<a&&(a=w)}),Z(a,"degrees",s.units)}function Pp(t,r){return t[0]*r[0]+t[1]*r[1]}function Mp(t,r,s){return s.method==="planar"?xl(t,r,s):nr(t,r,s)}function Eu(t,r,s,a,c,h,g,v){var w,x,T,k,P={x:null,y:null,onLine1:!1,onLine2:!1};return(w=(v-h)*(s-t)-(g-c)*(a-r))===0?P.x!==null&&P.y!==null&&P:(k=(s-t)*(x=r-h)-(a-r)*(T=t-c),x=((g-c)*x-(v-h)*T)/w,T=k/w,P.x=t+x*(s-t),P.y=r+x*(a-r),x>=0&&x<=1&&(P.onLine1=!0),T>=0&&T<=1&&(P.onLine2=!0),!(!P.onLine1||!P.onLine2)&&[P.x,P.y])}function pm(t){for(var r=function(P){return P.type!=="FeatureCollection"?P.type!=="Feature"?I([u(P)]):I([P]):P}(t),s=Zo(r),a=!1,c=0;!a&&c<r.features.length;){var h,g=r.features[c].geometry,v=!1;if(g.type==="Point")s.geometry.coordinates[0]===g.coordinates[0]&&s.geometry.coordinates[1]===g.coordinates[1]&&(a=!0);else if(g.type==="MultiPoint"){var w=!1;for(h=0;!w&&h<g.coordinates.length;)s.geometry.coordinates[0]===g.coordinates[h][0]&&s.geometry.coordinates[1]===g.coordinates[h][1]&&(a=!0,w=!0),h++}else if(g.type==="LineString")for(h=0;!v&&h<g.coordinates.length-1;)_l(s.geometry.coordinates[0],s.geometry.coordinates[1],g.coordinates[h][0],g.coordinates[h][1],g.coordinates[h+1][0],g.coordinates[h+1][1])&&(v=!0,a=!0),h++;else if(g.type==="MultiLineString")for(var x=0;x<g.coordinates.length;){v=!1,h=0;for(var T=g.coordinates[x];!v&&h<T.length-1;)_l(s.geometry.coordinates[0],s.geometry.coordinates[1],T[h][0],T[h][1],T[h+1][0],T[h+1][1])&&(v=!0,a=!0),h++;x++}else g.type!=="Polygon"&&g.type!=="MultiPolygon"||Qe(s,g)&&(a=!0);c++}if(a)return s;var k=I([]);for(c=0;c<r.features.length;c++)k.features=k.features.concat(vu(r.features[c]).features);return f(Ph(s,k).geometry.coordinates)}function _l(t,r,s,a,c,h){return Math.sqrt((c-s)*(c-s)+(h-a)*(h-a))===Math.sqrt((t-s)*(t-s)+(r-a)*(r-a))+Math.sqrt((c-t)*(c-t)+(h-r)*(h-r))}gc.default=zy;var Ip=6378137;function Nh(t){return ve(t,function(r,s){return r+function(a){var c,h=0;switch(a.type){case"Polygon":return fm(a.coordinates);case"MultiPolygon":for(c=0;c<a.coordinates.length;c++)h+=fm(a.coordinates[c]);return h;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(s)},0)}function fm(t){var r=0;if(t&&t.length>0){r+=Math.abs(vs(t[0]));for(var s=1;s<t.length;s++)r-=Math.abs(vs(t[s]))}return r}function vs(t){var r,s,a,c,h,g,v=0,w=t.length;if(w>2){for(g=0;g<w;g++)g===w-2?(a=w-2,c=w-1,h=0):g===w-1?(a=w-1,c=0,h=1):(a=g,c=g+1,h=g+2),r=t[a],s=t[c],v+=(Dh(t[h][0])-Dh(r[0]))*Math.sin(Dh(s[1]));v=v*Ip*Ip/2}return v}function Dh(t){return t*Math.PI/180}function Fh(t,r){return r===void 0&&(r={}),Ft(t,function(s,a){var c=a.geometry.coordinates;return s+nr(c[0],c[1],r)},0)}function mc(t,r,s,a){if(!mt(a=a||{}))throw new Error("options is invalid");var c,h=[];if(t.type==="Feature")c=t.geometry.coordinates;else{if(t.type!=="LineString")throw new Error("input must be a LineString Feature or Geometry");c=t.coordinates}for(var g,v,w,x=c.length,T=0,k=0;k<c.length&&!(r>=T&&k===c.length-1);k++){if(T>r&&h.length===0){if(!(g=r-T))return h.push(c[k]),E(h);v=gs(c[k],c[k-1])-180,w=Ji(c[k],g,v,a),h.push(w.geometry.coordinates)}if(T>=s)return(g=s-T)?(v=gs(c[k],c[k-1])-180,w=Ji(c[k],g,v,a),h.push(w.geometry.coordinates),E(h)):(h.push(c[k]),E(h));if(T>=r&&h.push(c[k]),k===c.length-1)return E(h);T+=nr(c[k],c[k+1],a)}if(T<r&&c.length===x)throw new Error("Start position is beyond line");var P=c[c.length-1];return E([P,P])}function Kn(t,r,s){s===void 0&&(s={});for(var a=A(t),c=X(r),h=0;h<c.length-1;h++){var g=!1;if(s.ignoreEndVertices&&(h===0&&(g="start"),h===c.length-2&&(g="end"),h===0&&h+1===c.length-1&&(g="both")),Bh(c[h],c[h+1],a,g,s.epsilon===void 0?null:s.epsilon))return!0}return!1}function Bh(t,r,s,a,c){var h=s[0],g=s[1],v=t[0],w=t[1],x=r[0],T=r[1],k=x-v,P=T-w,O=(s[0]-v)*P-(s[1]-w)*k;if(c!==null){if(Math.abs(O)>c)return!1}else if(O!==0)return!1;return a?a==="start"?Math.abs(k)>=Math.abs(P)?k>0?v<h&&h<=x:x<=h&&h<v:P>0?w<g&&g<=T:T<=g&&g<w:a==="end"?Math.abs(k)>=Math.abs(P)?k>0?v<=h&&h<x:x<h&&h<=v:P>0?w<=g&&g<T:T<g&&g<=w:a==="both"&&(Math.abs(k)>=Math.abs(P)?k>0?v<h&&h<x:x<h&&h<v:P>0?w<g&&g<T:T<g&&g<w):Math.abs(k)>=Math.abs(P)?k>0?v<=h&&h<=x:x<=h&&h<=v:P>0?w<=g&&g<=T:T<=g&&g<=w}function vc(t,r){var s=xt(t),a=xt(r),c=s.type,h=a.type;switch(c){case"Point":switch(h){case"MultiPoint":return function(g,v){var w,x=!1;for(w=0;w<v.coordinates.length;w++)if(Rp(v.coordinates[w],g.coordinates)){x=!0;break}return x}(s,a);case"LineString":return Kn(s,a,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return Qe(s,a,{ignoreBoundary:!0});default:throw new Error("feature2 "+h+" geometry not supported")}case"MultiPoint":switch(h){case"MultiPoint":return function(g,v){for(var w=0;w<g.coordinates.length;w++){for(var x=!1,T=0;T<v.coordinates.length;T++)Rp(g.coordinates[w],v.coordinates[T])&&(x=!0);if(!x)return!1}return!0}(s,a);case"LineString":return function(g,v){for(var w=!1,x=0;x<g.coordinates.length;x++){if(!Kn(g.coordinates[x],v))return!1;w||(w=Kn(g.coordinates[x],v,{ignoreEndVertices:!0}))}return w}(s,a);case"Polygon":case"MultiPolygon":return function(g,v){for(var w=!0,x=!1,T=0;T<g.coordinates.length;T++){if(!(x=Qe(g.coordinates[1],v))){w=!1;break}x=Qe(g.coordinates[1],v,{ignoreBoundary:!0})}return w&&x}(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}case"LineString":switch(h){case"LineString":return function(g,v){for(var w=0;w<g.coordinates.length;w++)if(!Kn(g.coordinates[w],v))return!1;return!0}(s,a);case"Polygon":case"MultiPolygon":return function(g,v){var w=vt(v),x=vt(g);if(!Lp(w,x))return!1;for(var T=!1,k=0;k<g.coordinates.length-1;k++){if(!Qe(g.coordinates[k],v))return!1;T||(T=Qe(g.coordinates[k],v,{ignoreBoundary:!0})),!T&&(T=Qe(Oy(g.coordinates[k],g.coordinates[k+1]),v,{ignoreBoundary:!0}))}return T}(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}case"Polygon":switch(h){case"Polygon":case"MultiPolygon":return function(g,v){var w=vt(g);if(!Lp(vt(v),w))return!1;for(var x=0;x<g.coordinates[0].length;x++)if(!Qe(g.coordinates[0][x],v))return!1;return!0}(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}default:throw new Error("feature1 "+c+" geometry not supported")}}function Lp(t,r){return!(t[0]>r[0])&&!(t[2]<r[2])&&!(t[1]>r[1])&&!(t[3]<r[3])}function Rp(t,r){return t[0]===r[0]&&t[1]===r[1]}function Oy(t,r){return[(t[0]+r[0])/2,(t[1]+r[1])/2]}function Ap(t,r,s){s===void 0&&(s={}),s.mask&&!s.units&&(s.units="kilometers");for(var a=[],c=t[0],h=t[1],g=t[2],v=t[3],w=r/nr([c,h],[g,h],s)*(g-c),x=r/nr([c,h],[c,v],s)*(v-h),T=g-c,k=v-h,P=Math.floor(T/w),O=(k-Math.floor(k/x)*x)/2,N=c+(T-P*w)/2;N<=g;){for(var F=h+O;F<=v;){var M=f([N,F],s.properties);s.mask?vc(M,s.mask)&&a.push(M):a.push(M),F+=x}N+=w}return I(a)}function zp(t,r){r===void 0&&(r={});var s=r.precision,a=r.coordinates,c=r.mutate;if(s=s==null||isNaN(s)?6:s,a=a==null||isNaN(a)?3:a,!t)throw new Error("<geojson> is required");if(typeof s!="number")throw new Error("<precision> must be a number");if(typeof a!="number")throw new Error("<coordinates> must be a number");c!==!1&&c!==void 0||(t=JSON.parse(JSON.stringify(t)));var h=Math.pow(10,s);return Gt(t,function(g){(function(v,w,x){v.length>x&&v.splice(x,v.length);for(var T=0;T<v.length;T++)v[T]=Math.round(v[T]*w)/w})(g,h,a)}),t}function jh(t){if(!t)throw new Error("geojson is required");var r=[];return se(t,function(s){r.push(s)}),I(r)}function gm(t,r,s){if(t.geometry.type!=="Polygon")throw new Error("The input feature must be a Polygon");s===void 0&&(s=1);var a=t.geometry.coordinates,c=[],h={};if(s){for(var g=[],v=0;v<a.length;v++)for(var w=0;w<a[v].length-1;w++)g.push(F(v,w));var x=Yi();x.load(g)}for(var T=0;T<a.length;T++)for(var k=0;k<a[T].length-1;k++)if(s)x.search(F(T,k)).forEach(function(M){var W=M.ring,it=M.edge;N(T,k,W,it)});else for(var P=0;P<a.length;P++)for(var O=0;O<a[P].length-1;O++)N(T,k,P,O);return r||(c={type:"Feature",geometry:{type:"MultiPoint",coordinates:c}}),c;function N(M,W,it,D){var q,Y,tt=a[M][W],J=a[M][W+1],Rt=a[it][D],Et=a[it][D+1],Nt=function(Mt,Pt,St,Dt){if(yc(Mt,St)||yc(Mt,Dt)||yc(Pt,St)||yc(Dt,St))return null;var It=Mt[0],Ut=Mt[1],gt=Pt[0],Ie=Pt[1],oe=St[0],rr=St[1],we=Dt[0],Ue=Dt[1],pr=(It-gt)*(rr-Ue)-(Ut-Ie)*(oe-we);return pr===0?null:[((It*Ie-Ut*gt)*(oe-we)-(It-gt)*(oe*Ue-rr*we))/pr,((It*Ie-Ut*gt)*(rr-Ue)-(Ut-Ie)*(oe*Ue-rr*we))/pr]}(tt,J,Rt,Et);if(Nt!==null&&(q=J[0]!==tt[0]?(Nt[0]-tt[0])/(J[0]-tt[0]):(Nt[1]-tt[1])/(J[1]-tt[1]),Y=Et[0]!==Rt[0]?(Nt[0]-Rt[0])/(Et[0]-Rt[0]):(Nt[1]-Rt[1])/(Et[1]-Rt[1]),!(q>=1||q<=0||Y>=1||Y<=0))){var Tt=Nt,jt=!h[Tt];jt&&(h[Tt]=!0),r?c.push(r(Nt,M,W,tt,J,q,it,D,Rt,Et,Y,jt)):c.push(Nt)}}function F(M,W){var it,D,q,Y,tt=a[M][W],J=a[M][W+1];return tt[0]<J[0]?(it=tt[0],D=J[0]):(it=J[0],D=tt[0]),tt[1]<J[1]?(q=tt[1],Y=J[1]):(q=J[1],Y=tt[1]),{minX:it,minY:q,maxX:D,maxY:Y,ring:M,edge:W}}}function yc(t,r){if(!t||!r||t.length!==r.length)return!1;for(var s=0,a=t.length;s<a;s++)if(t[s]instanceof Array&&r[s]instanceof Array){if(!yc(t[s],r[s]))return!1}else if(t[s]!==r[s])return!1;return!0}function Ny(t){if(t.type!="Feature")throw new Error("The input must a geojson object of type Feature");if(t.geometry===void 0||t.geometry==null)throw new Error("The input must a geojson object with a non-empty geometry");if(t.geometry.type!="Polygon")throw new Error("The input must be a geojson Polygon");for(var r=t.geometry.coordinates.length,s=[],a=0;a<r;a++){var c=t.geometry.coordinates[a];b(c[0],c[c.length-1])||c.push(c[0]),s.push.apply(s,c.slice(0,c.length-1))}if(!function(we){for(var Ue={},pr=1,oi=0,vn=we.length;oi<vn;++oi){if(Object.prototype.hasOwnProperty.call(Ue,we[oi])){pr=0;break}Ue[we[oi]]=1}return pr}(s))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var h=s.length,g=gm(t,function(we,Ue,pr,oi,vn,lv,Dc,_f,kf,xd,cv,_d){return[we,Ue,pr,oi,vn,lv,Dc,_f,kf,xd,cv,_d]}),v=g.length;if(v==0){var w=[];for(a=0;a<r;a++)w.push(y([t.geometry.coordinates[a]],{parent:-1,winding:d(t.geometry.coordinates[a])}));var x=I(w);return Ie(),oe(),x}var T=[],k=[];for(a=0;a<r;a++){T.push([]);for(var P=0;P<t.geometry.coordinates[a].length-1;P++)T[a].push([new Op(t.geometry.coordinates[a][S(P+1,t.geometry.coordinates[a].length-1)],1,[a,P],[a,S(P+1,t.geometry.coordinates[a].length-1)],void 0)]),k.push(new Np(t.geometry.coordinates[a][P],[a,S(P-1,t.geometry.coordinates[a].length-1)],[a,P],void 0,void 0,!1,!0))}for(a=0;a<v;a++)T[g[a][1]][g[a][2]].push(new Op(g[a][0],g[a][5],[g[a][1],g[a][2]],[g[a][6],g[a][7]],void 0)),g[a][11]&&k.push(new Np(g[a][0],[g[a][1],g[a][2]],[g[a][6],g[a][7]],void 0,void 0,!0,!0));var O=k.length;for(a=0;a<T.length;a++)for(P=0;P<T[a].length;P++)T[a][P].sort(function(we,Ue){return we.param<Ue.param?-1:1});var N=[];for(a=0;a<O;a++)N.push({minX:k[a].coord[0],minY:k[a].coord[1],maxX:k[a].coord[0],maxY:k[a].coord[1],index:a});var F=Yi();for(F.load(N),a=0;a<T.length;a++)for(P=0;P<T[a].length;P++)for(var M=0;M<T[a][P].length;M++){it=M==T[a][P].length-1?T[a][S(P+1,t.geometry.coordinates[a].length-1)][0].coord:T[a][P][M+1].coord;var W=F.search({minX:it[0],minY:it[1],maxX:it[0],maxY:it[1]})[0];T[a][P][M].nxtIsectAlongEdgeIn=W.index}for(a=0;a<T.length;a++)for(P=0;P<T[a].length;P++)for(M=0;M<T[a][P].length;M++){var it=T[a][P][M].coord,D=(W=F.search({minX:it[0],minY:it[1],maxX:it[0],maxY:it[1]})[0]).index;D<h?k[D].nxtIsectAlongRingAndEdge2=T[a][P][M].nxtIsectAlongEdgeIn:b(k[D].ringAndEdge1,T[a][P][M].ringAndEdgeIn)?k[D].nxtIsectAlongRingAndEdge1=T[a][P][M].nxtIsectAlongEdgeIn:k[D].nxtIsectAlongRingAndEdge2=T[a][P][M].nxtIsectAlongEdgeIn}var q=[];for(a=0,P=0;P<r;P++){var Y=a;for(M=0;M<t.geometry.coordinates[P].length-1;M++)k[a].coord[0]<k[Y].coord[0]&&(Y=a),a++;var tt=k[Y].nxtIsectAlongRingAndEdge2;for(M=0;M<k.length;M++)if(k[M].nxtIsectAlongRingAndEdge1==Y||k[M].nxtIsectAlongRingAndEdge2==Y){var J=M;break}var Rt=Hh([k[J].coord,k[Y].coord,k[tt].coord],!0)?1:-1;q.push({isect:Y,parent:-1,winding:Rt})}for(q.sort(function(we,Ue){return k[we.isect].coord>k[Ue.isect].coord?-1:1}),w=[];q.length>0;){var Et=q.pop(),Nt=Et.isect,Tt=Et.parent,jt=Et.winding,Mt=w.length,Pt=[k[Nt].coord],St=Nt;if(k[Nt].ringAndEdge1Walkable)var Dt=k[Nt].ringAndEdge1,It=k[Nt].nxtIsectAlongRingAndEdge1;else Dt=k[Nt].ringAndEdge2,It=k[Nt].nxtIsectAlongRingAndEdge2;for(;!b(k[Nt].coord,k[It].coord);){Pt.push(k[It].coord);var Ut=void 0;for(a=0;a<q.length;a++)if(q[a].isect==It){Ut=a;break}if(Ut!=null&&q.splice(Ut,1),b(Dt,k[It].ringAndEdge1)){if(Dt=k[It].ringAndEdge2,k[It].ringAndEdge2Walkable=!1,k[It].ringAndEdge1Walkable){var gt={isect:It};Hh([k[St].coord,k[It].coord,k[k[It].nxtIsectAlongRingAndEdge2].coord],jt==1)?(gt.parent=Tt,gt.winding=-jt):(gt.parent=Mt,gt.winding=jt),q.push(gt)}St=It,It=k[It].nxtIsectAlongRingAndEdge2}else Dt=k[It].ringAndEdge1,k[It].ringAndEdge1Walkable=!1,k[It].ringAndEdge2Walkable&&(gt={isect:It},Hh([k[St].coord,k[It].coord,k[k[It].nxtIsectAlongRingAndEdge1].coord],jt==1)?(gt.parent=Tt,gt.winding=-jt):(gt.parent=Mt,gt.winding=jt),q.push(gt)),St=It,It=k[It].nxtIsectAlongRingAndEdge1}Pt.push(k[It].coord),w.push(y([Pt],{index:Mt,parent:Tt,winding:jt,netWinding:void 0}))}x=I(w);function Ie(){for(var we=[],Ue=0;Ue<x.features.length;Ue++)x.features[Ue].properties.parent==-1&&we.push(Ue);if(we.length>1)for(Ue=0;Ue<we.length;Ue++){for(var pr=-1,oi=0;oi<x.features.length;oi++)we[Ue]!=oi&&Qe(x.features[we[Ue]].geometry.coordinates[0][0],x.features[oi],{ignoreBoundary:!0})&&Nh(x.features[oi])<1/0&&(pr=oi);x.features[we[Ue]].properties.parent=pr}}function oe(){for(var we=0;we<x.features.length;we++)if(x.features[we].properties.parent==-1){var Ue=x.features[we].properties.winding;x.features[we].properties.netWinding=Ue,rr(we,Ue)}}function rr(we,Ue){for(var pr=0;pr<x.features.length;pr++)if(x.features[pr].properties.parent==we){var oi=Ue+x.features[pr].properties.winding;x.features[pr].properties.netWinding=oi,rr(pr,oi)}}return Ie(),oe(),x}var Op=function(t,r,s,a,c){this.coord=t,this.param=r,this.ringAndEdgeIn=s,this.ringAndEdgeOut=a,this.nxtIsectAlongEdgeIn=c},Np=function(t,r,s,a,c,h,g){this.coord=t,this.ringAndEdge1=r,this.ringAndEdge2=s,this.nxtIsectAlongRingAndEdge1=a,this.nxtIsectAlongRingAndEdge2=c,this.ringAndEdge1Walkable=h,this.ringAndEdge2Walkable=g};function Hh(t,r){if(r===void 0&&(r=!0),t.length!=3)throw new Error("This function requires an array of three points [x,y]");return(t[1][0]-t[0][0])*(t[2][1]-t[0][1])-(t[1][1]-t[0][1])*(t[2][0]-t[0][0])>=0==r}function d(t){for(var r=0,s=0;s<t.length-1;s++)t[s][0]<t[r][0]&&(r=s);if(Hh([t[S(r-1,t.length-1)],t[r],t[S(r+1,t.length-1)]],!0))var a=1;else a=-1;return a}function b(t,r){if(!t||!r||t.length!=r.length)return!1;for(var s=0,a=t.length;s<a;s++)if(t[s]instanceof Array&&r[s]instanceof Array){if(!b(t[s],r[s]))return!1}else if(t[s]!=r[s])return!1;return!0}function S(t,r){return(t%r+r)%r}var R=Math.PI/180,U=180/Math.PI,rt=function(t,r){this.lon=t,this.lat=r,this.x=R*t,this.y=R*r};rt.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},rt.prototype.antipode=function(){var t=-1*this.lat,r=this.lon<0?180+this.lon:-1*(180-this.lon);return new rt(r,t)};var yt=function(){this.coords=[],this.length=0};yt.prototype.move_to=function(t){this.length++,this.coords.push(t)};var Lt=function(t){this.properties=t||{},this.geometries=[]};Lt.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(this.geometries.length===1)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var t=[],r=0;r<this.geometries.length;r++)t.push(this.geometries[r].coords);return{geometry:{type:"MultiLineString",coordinates:t},type:"Feature",properties:this.properties}},Lt.prototype.wkt=function(){for(var t="",r="LINESTRING(",s=function(c){r+=c[0]+" "+c[1]+","},a=0;a<this.geometries.length;a++){if(this.geometries[a].coords.length===0)return"LINESTRING(empty)";this.geometries[a].coords.forEach(s),t+=r.substring(0,r.length-1)+")"}return t};var Ht=function(t,r,s){if(!t||t.x===void 0||t.y===void 0)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!r||r.x===void 0||r.y===void 0)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new rt(t.x,t.y),this.end=new rt(r.x,r.y),this.properties=s||{};var a=this.start.x-this.end.x,c=this.start.y-this.end.y,h=Math.pow(Math.sin(c/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(a/2),2);if(this.g=2*Math.asin(Math.sqrt(h)),this.g===Math.PI)throw new Error("it appears "+t.view()+" and "+r.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+t+" and "+r)};function Qt(t,r){var s=[],a=gc();return se(r,function(c){if(s.forEach(function(v,w){v.id=w}),s.length){var h=a.search(c);if(h.features.length){var g=Ye(c,h);s=s.filter(function(v){return v.id!==g.id}),a.remove(g),kt(xe(g,c),function(v){s.push(v),a.insert(v)})}}else(s=xe(t,c).features).forEach(function(v){v.bbox||(v.bbox=rm(vt(v)))}),a.load(I(s))}),I(s)}function xe(t,r){var s=[],a=X(t)[0],c=X(t)[t.geometry.coordinates.length-1];if(dr(a,A(r))||dr(c,A(r)))return I([t]);var h=gc(),g=Hn(t);h.load(g);var v=h.search(r);if(!v.features.length)return I([t]);var w=Ye(r,v),x=zt(g,function(T,k,P){var O=X(k)[1],N=A(r);return P===w.id?(T.push(N),s.push(E(T)),dr(N,O)?[N]:[N,O]):(T.push(O),T)},[a]);return x.length>1&&s.push(E(x)),I(s)}function Ye(t,r){if(!r.features.length)throw new Error("lines must contain features");if(r.features.length===1)return r.features[0];var s,a=1/0;return kt(r,function(c){var h=$s(c,t).properties.dist;h<a&&(s=c,a=h)}),s}function dr(t,r){return t[0]===r[0]&&t[1]===r[1]}function Pn(t,r,s,a,c){c===void 0&&(c={});var h=c.steps||64,g=Qi(s),v=Qi(a),w=Array.isArray(t)||t.type!=="Feature"?{}:t.properties;if(g===v)return E(bp(t,r,c).geometry.coordinates[0],w);for(var x=g,T=g<v?v:v+360,k=x,P=[],O=0;k<T;)P.push(Ji(t,r,k,c).geometry.coordinates),k=x+360*++O/h;return k>T&&P.push(Ji(t,r,T,c).geometry.coordinates),E(P,w)}function Qi(t){var r=t%360;return r<0&&(r+=360),r}function Mn(t,r){r===void 0&&(r={});var s=xt(t);switch(r.properties||t.type!=="Feature"||(r.properties=t.properties),s.type){case"Polygon":return Un(s,r);case"MultiPolygon":return function(a,c){c===void 0&&(c={});var h=xt(a).coordinates,g=c.properties?c.properties:a.type==="Feature"?a.properties:{},v=[];return h.forEach(function(w){v.push(kl(w,g))}),I(v)}(s,r);default:throw new Error("invalid poly")}}function Un(t,r){return r===void 0&&(r={}),kl(xt(t).coordinates,r.properties?r.properties:t.type==="Feature"?t.properties:{})}function kl(t,r){return t.length>1?z(t,r):E(t[0],r)}function mm(t,r){var s,a,c;r===void 0&&(r={});var h=r.properties,g=(s=r.autoComplete)===null||s===void 0||s,v=(a=r.orderCoords)===null||a===void 0||a;switch((c=r.mutate)!==null&&c!==void 0&&c||(t=Ci(t)),t.type){case"FeatureCollection":var w=[];return t.features.forEach(function(x){w.push(X(vm(x,{},g,v)))}),G(w,h);default:return vm(t,h,g,v)}}function vm(t,r,s,a){r=r||(t.type==="Feature"?t.properties:{});var c=xt(t),h=c.coordinates,g=c.type;if(!h.length)throw new Error("line must contain coordinates");switch(g){case"LineString":return s&&(h=ym(h)),y([h],r);case"MultiLineString":var v=[],w=0;return h.forEach(function(x){if(s&&(x=ym(x)),a){var T=function(k){var P=k[0],O=k[1],N=k[2],F=k[3];return Math.abs(P-N)*Math.abs(O-F)}(vt(E(x)));T>w?(v.unshift(x),w=T):v.push(x)}else v.push(x)}),y(v,r);default:throw new Error("geometry type "+g+" is not supported")}}function ym(t){var r=t[0],s=r[0],a=r[1],c=t[t.length-1],h=c[0],g=c[1];return s===h&&a===g||t.push(r),t}function bm(t,r){var s,a,c,h,g,v,w;for(a=1;a<=8;a*=2){for(s=[],h=!(El(c=t[t.length-1],r)&a),g=0;g<t.length;g++)(w=!(El(v=t[g],r)&a))!==h&&s.push(Dp(c,v,a,r)),w&&s.push(v),c=v,h=w;if(!(t=s).length)break}return s}function Dp(t,r,s,a){return 8&s?[t[0]+(r[0]-t[0])*(a[3]-t[1])/(r[1]-t[1]),a[3]]:4&s?[t[0]+(r[0]-t[0])*(a[1]-t[1])/(r[1]-t[1]),a[1]]:2&s?[a[2],t[1]+(r[1]-t[1])*(a[2]-t[0])/(r[0]-t[0])]:1&s?[a[0],t[1]+(r[1]-t[1])*(a[0]-t[0])/(r[0]-t[0])]:null}function El(t,r){var s=0;return t[0]<r[0]?s|=1:t[0]>r[2]&&(s|=2),t[1]<r[1]?s|=4:t[1]>r[3]&&(s|=8),s}function ji(t,r){for(var s=[],a=0,c=t;a<c.length;a++){var h=bm(c[a],r);h.length>0&&(h[0][0]===h[h.length-1][0]&&h[0][1]===h[h.length-1][1]||h.push(h[0]),h.length>=4&&s.push(h))}return s}Ht.prototype.interpolate=function(t){var r=Math.sin((1-t)*this.g)/Math.sin(this.g),s=Math.sin(t*this.g)/Math.sin(this.g),a=r*Math.cos(this.start.y)*Math.cos(this.start.x)+s*Math.cos(this.end.y)*Math.cos(this.end.x),c=r*Math.cos(this.start.y)*Math.sin(this.start.x)+s*Math.cos(this.end.y)*Math.sin(this.end.x),h=r*Math.sin(this.start.y)+s*Math.sin(this.end.y),g=U*Math.atan2(h,Math.sqrt(Math.pow(a,2)+Math.pow(c,2)));return[U*Math.atan2(c,a),g]},Ht.prototype.Arc=function(t,r){var s=[];if(!t||t<=2)s.push([this.start.lon,this.start.lat]),s.push([this.end.lon,this.end.lat]);else for(var a=1/(t-1),c=0;c<t;++c){var h=a*c,g=this.interpolate(h);s.push(g)}for(var v=!1,w=0,x=r&&r.offset?r.offset:10,T=180-x,k=-180+x,P=360-x,O=1;O<s.length;++O){var N=s[O-1][0],F=s[O][0],M=Math.abs(F-N);M>P&&(F>T&&N<k||N>T&&F<k)?v=!0:M>w&&(w=M)}var W=[];if(v&&w<x){var it=[];W.push(it);for(var D=0;D<s.length;++D){var q=parseFloat(s[D][0]);if(D>0&&Math.abs(q-s[D-1][0])>P){var Y=parseFloat(s[D-1][0]),tt=parseFloat(s[D-1][1]),J=parseFloat(s[D][0]),Rt=parseFloat(s[D][1]);if(Y>-180&&Y<k&&J===180&&D+1<s.length&&s[D-1][0]>-180&&s[D-1][0]<k){it.push([-180,s[D][1]]),D++,it.push([s[D][0],s[D][1]]);continue}if(Y>T&&Y<180&&J===-180&&D+1<s.length&&s[D-1][0]>T&&s[D-1][0]<180){it.push([180,s[D][1]]),D++,it.push([s[D][0],s[D][1]]);continue}if(Y<k&&J>T){var Et=Y;Y=J,J=Et;var Nt=tt;tt=Rt,Rt=Nt}if(Y>T&&J<k&&(J+=360),Y<=180&&J>=180&&Y<J){var Tt=(180-Y)/(J-Y),jt=Tt*Rt+(1-Tt)*tt;it.push([s[D-1][0]>T?180:-180,jt]),(it=[]).push([s[D-1][0]>T?-180:180,jt]),W.push(it)}else it=[],W.push(it);it.push([q,s[D][1]])}else it.push([s[D][0],s[D][1]])}}else{var Mt=[];W.push(Mt);for(var Pt=0;Pt<s.length;++Pt)Mt.push([s[Pt][0],s[Pt][1]])}for(var St=new Lt(this.properties),Dt=0;Dt<W.length;++Dt){var It=new yt;St.geometries.push(It);for(var Ut=W[Dt],gt=0;gt<Ut.length;++gt)It.move_to(Ut[gt])}return St};var Tu=Vo(function(t,r){function s(a){var c=[];for(var h in a)c.push(h);return c}(t.exports=typeof Object.keys=="function"?Object.keys:s).shim=s}),wm=Vo(function(t,r){var s=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";function a(h){return Object.prototype.toString.call(h)=="[object Arguments]"}function c(h){return h&&typeof h=="object"&&typeof h.length=="number"&&Object.prototype.hasOwnProperty.call(h,"callee")&&!Object.prototype.propertyIsEnumerable.call(h,"callee")||!1}(r=t.exports=s?a:c).supported=a,r.unsupported=c}),bc=Vo(function(t){var r=Array.prototype.slice,s=t.exports=function(h,g,v){return v||(v={}),h===g||(h instanceof Date&&g instanceof Date?h.getTime()===g.getTime():!h||!g||typeof h!="object"&&typeof g!="object"?v.strict?h===g:h==g:function(w,x,T){var k,P;if(a(w)||a(x)||w.prototype!==x.prototype)return!1;if(wm(w))return!!wm(x)&&(w=r.call(w),x=r.call(x),s(w,x,T));if(c(w)){if(!c(x)||w.length!==x.length)return!1;for(k=0;k<w.length;k++)if(w[k]!==x[k])return!1;return!0}try{var O=Tu(w),N=Tu(x)}catch{return!1}if(O.length!=N.length)return!1;for(O.sort(),N.sort(),k=O.length-1;k>=0;k--)if(O[k]!=N[k])return!1;for(k=O.length-1;k>=0;k--)if(P=O[k],!s(w[P],x[P],T))return!1;return typeof w==typeof x}(h,g,v))};function a(h){return h==null}function c(h){return!(!h||typeof h!="object"||typeof h.length!="number")&&typeof h.copy=="function"&&typeof h.slice=="function"&&!(h.length>0&&typeof h[0]!="number")}});function xm(t,r,s){if(s===void 0&&(s={}),!mt(s=s||{}))throw new Error("options is invalid");var a,c=s.tolerance||0,h=[],g=gc(),v=Hn(t);return g.load(v),tr(r,function(w){var x=!1;w&&(kt(g.search(w),function(T){if(x===!1){var k=X(w).sort(),P=X(T).sort();bc(k,P)||(c===0?Kn(k[0],T)&&Kn(k[1],T):$s(T,k[0]).properties.dist<=c&&$s(T,k[1]).properties.dist<=c)?(x=!0,a=a?Uh(a,w):w):(c===0?Kn(P[0],w)&&Kn(P[1],w):$s(w,P[0]).properties.dist<=c&&$s(w,P[1]).properties.dist<=c)&&(a=a?Uh(a,T):T)}}),x===!1&&a&&(h.push(a),a=void 0))}),a&&h.push(a),I(h)}function Uh(t,r){var s=X(r),a=X(t),c=a[0],h=a[a.length-1],g=t.geometry.coordinates;return bc(s[0],c)?g.unshift(s[1]):bc(s[0],h)?g.push(s[1]):bc(s[1],c)?g.unshift(s[0]):bc(s[1],h)&&g.push(s[0]),t}function Fp(t){var r=t%360;return r<0&&(r+=360),r}function Tl(t,r,s){var a;return s===void 0&&(s={}),(a=s.final?yx(A(r),A(t)):yx(A(t),A(r)))>180?-(360-a):a}function yx(t,r){var s=ct(t[1]),a=ct(r[1]),c=ct(r[0]-t[0]);c>Math.PI&&(c-=2*Math.PI),c<-Math.PI&&(c+=2*Math.PI);var h=Math.log(Math.tan(a/2+Math.PI/4)/Math.tan(s/2+Math.PI/4));return(ht(Math.atan2(c,h))+360)%360}function Gh(t,r,s,a){a===void 0&&(a={});var c=r<0,h=Z(Math.abs(r),a.units,"meters");c&&(h=-Math.abs(h));var g=A(t),v=function(w,x,T,k){k=k===void 0?i:Number(k);var P=x/k,O=w[0]*Math.PI/180,N=ct(w[1]),F=ct(T),M=P*Math.cos(F),W=N+M;Math.abs(W)>Math.PI/2&&(W=W>0?Math.PI-W:-Math.PI-W);var it=Math.log(Math.tan(W/2+Math.PI/4)/Math.tan(N/2+Math.PI/4)),D=Math.abs(it)>1e-11?M/it:Math.cos(N),q=P*Math.sin(F)/D;return[(180*(O+q)/Math.PI+540)%360-180,180*W/Math.PI]}(g,h,s);return v[0]+=v[0]-g[0]>180?-360:g[0]-v[0]>180?360:0,f(v,a.properties)}function bx(t,r,s,a,c,h){for(var g=0;g<t.length;g++){var v=t[g],w=t[g+1];g===t.length-1&&(w=t[0]),a=Bp(v,w,r),s<=0&&a>0?Bp(r,v,c)<0||(c=v):s>0&&a<=0&&(xP(r,v,h)||(h=v)),s=a}return[c,h]}function xP(t,r,s){return Bp(t,r,s)>0}function Bp(t,r,s){return(r[0]-t[0])*(s[1]-t[1])-(s[0]-t[0])*(r[1]-t[1])}function _m(t){for(var r,s,a=X(t),c=0,h=1;h<a.length;)r=s||a[0],c+=((s=a[h])[0]-r[0])*(s[1]+r[1]),h++;return c>0}function km(t,r){switch(t.type==="Feature"?t.geometry.type:t.type){case"GeometryCollection":return ee(t,function(s){km(s,r)}),t;case"LineString":return wx(X(t),r),t;case"Polygon":return xx(X(t),r),t;case"MultiLineString":return X(t).forEach(function(s){wx(s,r)}),t;case"MultiPolygon":return X(t).forEach(function(s){xx(s,r)}),t;case"Point":case"MultiPoint":return t}}function wx(t,r){_m(t)===r&&t.reverse()}function xx(t,r){_m(t[0])!==r&&t[0].reverse();for(var s=1;s<t.length;s++)_m(t[s])===r&&t[s].reverse()}function _P(t,r){if(!mt(r=r||{}))throw new Error("options is invalid");var s=r.zProperty||"elevation",a=r.flip,c=r.flags;Ot(t,"Point","input must contain Points");for(var h=function(P,O){var N={};return kt(P,function(F){var M=X(F)[1];N[M]||(N[M]=[]),N[M].push(F)}),Object.keys(N).map(function(F){return N[F].sort(function(M,W){return X(M)[0]-X(W)[0]})}).sort(function(F,M){return O?X(F[0])[1]-X(M[0])[1]:X(M[0])[1]-X(F[0])[1]})}(t,a),g=[],v=0;v<h.length;v++){for(var w=h[v],x=[],T=0;T<w.length;T++){var k=w[T];k.properties[s]?x.push(k.properties[s]):x.push(0),c===!0&&(k.properties.matrixPosition=[v,T])}g.push(x)}return g}var _x={successCallback:null,verbose:!1,polygons:!1},Su={};function kP(t,r,s,a){a=a||{};for(var c=Object.keys(_x),h=0;h<c.length;h++){var g=c[h],v=a[g];v=v??_x[g],Su[g]=v}Su.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+r+":"+(r+s)+"]");var w,x=function(T,k,P){for(var O=T.length-1,N=T[0].length-1,F={rows:O,cols:N,cells:[]},M=k+Math.abs(P),W=0;W<O;++W){F.cells[W]=[];for(var it=0;it<N;++it){var D=0,q=T[W+1][it],Y=T[W+1][it+1],tt=T[W][it+1],J=T[W][it];if(!(isNaN(q)||isNaN(Y)||isNaN(tt)||isNaN(J))){D|=q<k?0:q>M?128:64,D|=Y<k?0:Y>M?32:16,D|=tt<k?0:tt>M?8:4;var Rt=+(D|=J<k?0:J>M?2:1),Et=0;if(D===17||D===18||D===33||D===34||D===38||D===68||D===72||D===98||D===102||D===132||D===136||D===137||D===152||D===153){var Nt=(q+Y+tt+J)/4;Et=Nt>M?2:Nt<k?0:1,D===34?Et===1?D=35:Et===0&&(D=136):D===136?Et===1?(D=35,Et=4):Et===0&&(D=34):D===17?Et===1?(D=155,Et=4):Et===0&&(D=153):D===68?Et===1?(D=103,Et=4):Et===0&&(D=102):D===153?Et===1&&(D=155):D===102?Et===1&&(D=103):D===152?Et<2&&(D=156,Et=1):D===137?Et<2&&(D=139,Et=1):D===98?Et<2&&(D=99,Et=1):D===38?Et<2&&(D=39,Et=1):D===18?Et>0?(D=156,Et=4):D=152:D===33?Et>0?(D=139,Et=4):D=137:D===72?Et>0?(D=99,Et=4):D=98:D===132&&(Et>0?(D=39,Et=4):D=38)}if(D!=0&&D!=170){var Tt,jt,Mt,Pt,St,Dt,It,Ut;Tt=jt=Mt=Pt=St=Dt=It=Ut=.5;var gt=[];D===1?(Mt=1-et(k,tt,J),Ut=1-et(k,q,J),gt.push(De[D])):D===169?(Mt=et(M,J,tt),Ut=et(M,J,q),gt.push(De[D])):D===4?(Dt=1-et(k,Y,tt),Pt=et(k,J,tt),gt.push(_e[D])):D===166?(Dt=et(M,tt,Y),Pt=1-et(M,tt,J),gt.push(_e[D])):D===16?(St=et(k,tt,Y),jt=et(k,q,Y),gt.push(Te[D])):D===154?(St=1-et(M,Y,tt),jt=1-et(M,Y,q),gt.push(Te[D])):D===64?(It=et(k,J,q),Tt=1-et(k,Y,q),gt.push(We[D])):D===106?(It=1-et(M,q,J),Tt=et(M,q,Y),gt.push(We[D])):D===168?(Pt=et(M,J,tt),Mt=et(k,J,tt),Ut=et(k,J,q),It=et(M,J,q),gt.push(je[D]),gt.push(De[D])):D===2?(Pt=1-et(k,tt,J),Mt=1-et(M,tt,J),Ut=1-et(M,q,J),It=1-et(k,q,J),gt.push(je[D]),gt.push(De[D])):D===162?(St=et(M,tt,Y),Dt=et(k,tt,Y),Pt=1-et(k,tt,J),Mt=1-et(M,tt,J),gt.push(je[D]),gt.push(De[D])):D===8?(St=1-et(k,Y,tt),Dt=1-et(M,Y,tt),Pt=et(M,J,tt),Mt=et(k,J,tt),gt.push(Te[D]),gt.push(_e[D])):D===138?(St=1-et(k,Y,tt),Dt=1-et(M,Y,tt),Tt=1-et(M,Y,q),jt=1-et(k,Y,q),gt.push(Te[D]),gt.push(_e[D])):D===32?(St=et(M,tt,Y),Dt=et(k,tt,Y),Tt=et(k,q,Y),jt=et(M,q,Y),gt.push(Te[D]),gt.push(_e[D])):D===42?(Ut=1-et(M,q,J),It=1-et(k,q,J),Tt=et(k,q,Y),jt=et(M,q,Y),gt.push(Ze[D]),gt.push(We[D])):D===128&&(Ut=et(k,J,q),It=et(M,J,q),Tt=1-et(M,Y,q),jt=1-et(k,Y,q),gt.push(Ze[D]),gt.push(We[D])),D===5?(Dt=1-et(k,Y,tt),Ut=1-et(k,q,J),gt.push(_e[D])):D===165?(Dt=et(M,tt,Y),Ut=et(M,J,q),gt.push(_e[D])):D===20?(Pt=et(k,J,tt),jt=et(k,q,Y),gt.push(je[D])):D===150?(Pt=1-et(M,tt,J),jt=1-et(M,Y,q),gt.push(je[D])):D===80?(St=et(k,tt,Y),It=et(k,J,q),gt.push(Te[D])):D===90?(St=1-et(M,Y,tt),It=1-et(M,q,J),gt.push(Te[D])):D===65?(Mt=1-et(k,tt,J),Tt=1-et(k,Y,q),gt.push(De[D])):D===105?(Mt=et(M,J,tt),Tt=et(M,q,Y),gt.push(De[D])):D===160?(St=et(M,tt,Y),Dt=et(k,tt,Y),Ut=et(k,J,q),It=et(M,J,q),gt.push(Te[D]),gt.push(_e[D])):D===10?(St=1-et(k,Y,tt),Dt=1-et(M,Y,tt),Ut=1-et(M,q,J),It=1-et(k,q,J),gt.push(Te[D]),gt.push(_e[D])):D===130?(Pt=1-et(k,tt,J),Mt=1-et(M,tt,J),Tt=1-et(M,Y,q),jt=1-et(k,Y,q),gt.push(je[D]),gt.push(De[D])):D===40?(Pt=et(M,J,tt),Mt=et(k,J,tt),Tt=et(k,q,Y),jt=et(M,q,Y),gt.push(je[D]),gt.push(De[D])):D===101?(Dt=et(M,tt,Y),Tt=et(M,q,Y),gt.push(_e[D])):D===69?(Dt=1-et(k,Y,tt),Tt=1-et(k,Y,q),gt.push(_e[D])):D===149?(Ut=et(M,J,q),jt=1-et(M,Y,q),gt.push(Ze[D])):D===21?(Ut=1-et(k,q,J),jt=et(k,q,Y),gt.push(Ze[D])):D===86?(Pt=1-et(M,tt,J),It=1-et(M,q,J),gt.push(je[D])):D===84?(Pt=et(k,J,tt),It=et(k,J,q),gt.push(je[D])):D===89?(St=1-et(M,Y,tt),Mt=et(M,J,tt),gt.push(De[D])):D===81?(St=et(k,tt,Y),Mt=1-et(k,tt,J),gt.push(De[D])):D===96?(St=et(M,tt,Y),Dt=et(k,tt,Y),It=et(k,J,q),Tt=et(M,q,Y),gt.push(Te[D]),gt.push(_e[D])):D===74?(St=1-et(k,Y,tt),Dt=1-et(M,Y,tt),It=1-et(M,q,J),Tt=1-et(k,Y,q),gt.push(Te[D]),gt.push(_e[D])):D===24?(St=1-et(M,Y,tt),Pt=et(M,J,tt),Mt=et(k,J,tt),jt=et(k,q,Y),gt.push(Te[D]),gt.push(De[D])):D===146?(St=et(k,tt,Y),Pt=1-et(k,tt,J),Mt=1-et(M,tt,J),jt=1-et(M,Y,q),gt.push(Te[D]),gt.push(De[D])):D===6?(Dt=1-et(k,Y,tt),Pt=1-et(M,tt,J),Ut=1-et(M,q,J),It=1-et(k,q,J),gt.push(_e[D]),gt.push(je[D])):D===164?(Dt=et(M,tt,Y),Pt=et(k,J,tt),Ut=et(k,J,q),It=et(M,J,q),gt.push(_e[D]),gt.push(je[D])):D===129?(Mt=1-et(k,tt,J),Ut=et(M,J,q),Tt=1-et(M,Y,q),jt=1-et(k,Y,q),gt.push(De[D]),gt.push(Ze[D])):D===41?(Mt=et(M,J,tt),Ut=1-et(k,q,J),Tt=et(k,q,Y),jt=et(M,q,Y),gt.push(De[D]),gt.push(Ze[D])):D===66?(Pt=1-et(k,tt,J),Mt=1-et(M,tt,J),It=1-et(M,q,J),Tt=1-et(k,Y,q),gt.push(je[D]),gt.push(De[D])):D===104?(Pt=et(M,J,tt),Mt=et(k,J,tt),It=et(k,J,q),Tt=et(M,q,Y),gt.push(De[D]),gt.push(Gr[D])):D===144?(St=et(k,tt,Y),Ut=et(k,J,q),It=et(M,J,q),jt=1-et(M,Y,q),gt.push(Te[D]),gt.push(We[D])):D===26?(St=1-et(M,Y,tt),Ut=1-et(M,q,J),It=1-et(k,q,J),jt=et(k,q,Y),gt.push(Te[D]),gt.push(We[D])):D===36?(Dt=et(M,tt,Y),Pt=et(k,J,tt),Tt=et(k,q,Y),jt=et(M,q,Y),gt.push(_e[D]),gt.push(je[D])):D===134?(Dt=1-et(k,Y,tt),Pt=1-et(M,tt,J),Tt=1-et(M,Y,q),jt=1-et(k,Y,q),gt.push(_e[D]),gt.push(je[D])):D===9?(St=1-et(k,Y,tt),Dt=1-et(M,Y,tt),Mt=et(M,J,tt),Ut=1-et(k,q,J),gt.push(Te[D]),gt.push(_e[D])):D===161?(St=et(M,tt,Y),Dt=et(k,tt,Y),Mt=1-et(k,tt,J),Ut=et(M,J,q),gt.push(Te[D]),gt.push(_e[D])):D===37?(Dt=et(M,tt,Y),Ut=1-et(k,q,J),Tt=et(k,q,Y),jt=et(M,q,Y),gt.push(_e[D]),gt.push(Ze[D])):D===133?(Dt=1-et(k,Y,tt),Ut=et(M,J,q),Tt=1-et(M,Y,q),jt=1-et(k,Y,q),gt.push(_e[D]),gt.push(Ze[D])):D===148?(Pt=et(k,J,tt),Ut=et(k,J,q),It=et(M,J,q),jt=1-et(M,Y,q),gt.push(je[D]),gt.push(We[D])):D===22?(Pt=1-et(M,tt,J),Ut=1-et(M,q,J),It=1-et(k,q,J),jt=et(k,q,Y),gt.push(je[D]),gt.push(We[D])):D===82?(St=et(k,tt,Y),Pt=1-et(k,tt,J),Mt=1-et(M,tt,J),It=1-et(M,q,J),gt.push(Te[D]),gt.push(De[D])):D===88?(St=1-et(M,Y,tt),Pt=et(M,J,tt),Mt=et(k,J,tt),It=et(k,J,q),gt.push(Te[D]),gt.push(De[D])):D===73?(St=1-et(k,Y,tt),Dt=1-et(M,Y,tt),Mt=et(M,J,tt),Tt=1-et(k,Y,q),gt.push(Te[D]),gt.push(_e[D])):D===97?(St=et(M,tt,Y),Dt=et(k,tt,Y),Mt=1-et(k,tt,J),Tt=et(M,q,Y),gt.push(Te[D]),gt.push(_e[D])):D===145?(St=et(k,tt,Y),Mt=1-et(k,tt,J),Ut=et(M,J,q),jt=1-et(M,Y,q),gt.push(Te[D]),gt.push(Ze[D])):D===25?(St=1-et(M,Y,tt),Mt=et(M,J,tt),Ut=1-et(k,q,J),jt=et(k,q,Y),gt.push(Te[D]),gt.push(Ze[D])):D===70?(Dt=1-et(k,Y,tt),Pt=1-et(M,tt,J),It=1-et(M,q,J),Tt=1-et(k,Y,q),gt.push(_e[D]),gt.push(je[D])):D===100?(Dt=et(M,tt,Y),Pt=et(k,J,tt),It=et(k,J,q),Tt=et(M,q,Y),gt.push(_e[D]),gt.push(je[D])):D===34?(Et===0?(St=1-et(k,Y,tt),Dt=1-et(M,Y,tt),Pt=et(M,J,tt),Mt=et(k,J,tt),Ut=et(k,J,q),It=et(M,J,q),Tt=1-et(M,Y,q),jt=1-et(k,Y,q)):(St=et(M,tt,Y),Dt=et(k,tt,Y),Pt=1-et(k,tt,J),Mt=1-et(M,tt,J),Ut=1-et(M,q,J),It=1-et(k,q,J),Tt=et(k,q,Y),jt=et(M,q,Y)),gt.push(Te[D]),gt.push(_e[D]),gt.push(Ze[D]),gt.push(We[D])):D===35?(Et===4?(St=1-et(k,Y,tt),Dt=1-et(M,Y,tt),Pt=et(M,J,tt),Mt=et(k,J,tt),Ut=et(k,J,q),It=et(M,J,q),Tt=1-et(M,Y,q),jt=1-et(k,Y,q)):(St=et(M,tt,Y),Dt=et(k,tt,Y),Pt=1-et(k,tt,J),Mt=1-et(M,tt,J),Ut=1-et(M,q,J),It=1-et(k,q,J),Tt=et(k,q,Y),jt=et(M,q,Y)),gt.push(Te[D]),gt.push(_e[D]),gt.push(De[D]),gt.push(We[D])):D===136?(Et===0?(St=et(M,tt,Y),Dt=et(k,tt,Y),Pt=1-et(k,tt,J),Mt=1-et(M,tt,J),Ut=1-et(M,q,J),It=1-et(k,q,J),Tt=et(k,q,Y),jt=et(M,q,Y)):(St=1-et(k,Y,tt),Dt=1-et(M,Y,tt),Pt=et(M,J,tt),Mt=et(k,J,tt),Ut=et(k,J,q),It=et(M,J,q),Tt=1-et(M,Y,q),jt=1-et(k,Y,q)),gt.push(Te[D]),gt.push(_e[D]),gt.push(Ze[D]),gt.push(We[D])):D===153?(Et===0?(St=et(k,tt,Y),Mt=1-et(k,tt,J),Ut=1-et(k,q,J),jt=et(k,q,Y)):(St=1-et(M,Y,tt),Mt=et(M,J,tt),Ut=et(M,J,q),jt=1-et(M,Y,q)),gt.push(Te[D]),gt.push(De[D])):D===102?(Et===0?(Dt=1-et(k,Y,tt),Pt=et(k,J,tt),It=et(k,J,q),Tt=1-et(k,Y,q)):(Dt=et(M,tt,Y),Pt=1-et(M,tt,J),It=1-et(M,q,J),Tt=et(M,q,Y)),gt.push(_e[D]),gt.push(We[D])):D===155?(Et===4?(St=et(k,tt,Y),Mt=1-et(k,tt,J),Ut=1-et(k,q,J),jt=et(k,q,Y)):(St=1-et(M,Y,tt),Mt=et(M,J,tt),Ut=et(M,J,q),jt=1-et(M,Y,q)),gt.push(Te[D]),gt.push(Ze[D])):D===103?(Et===4?(Dt=1-et(k,Y,tt),Pt=et(k,J,tt),It=et(k,J,q),Tt=1-et(k,Y,q)):(Dt=et(M,tt,Y),Pt=1-et(M,tt,J),It=1-et(M,q,J),Tt=et(M,q,Y)),gt.push(_e[D]),gt.push(je[D])):D===152?(Et===0?(St=et(k,tt,Y),Pt=1-et(k,tt,J),Mt=1-et(M,tt,J),Ut=1-et(M,q,J),It=1-et(k,q,J),jt=et(k,q,Y)):(St=1-et(M,Y,tt),Pt=et(M,J,tt),Mt=et(k,J,tt),Ut=et(k,J,q),It=et(M,J,q),jt=1-et(M,Y,q)),gt.push(Te[D]),gt.push(je[D]),gt.push(De[D])):D===156?(Et===4?(St=et(k,tt,Y),Pt=1-et(k,tt,J),Mt=1-et(M,tt,J),Ut=1-et(M,q,J),It=1-et(k,q,J),jt=et(k,q,Y)):(St=1-et(M,Y,tt),Pt=et(M,J,tt),Mt=et(k,J,tt),Ut=et(k,J,q),It=et(M,J,q),jt=1-et(M,Y,q)),gt.push(Te[D]),gt.push(De[D]),gt.push(We[D])):D===137?(Et===0?(St=et(M,tt,Y),Dt=et(k,tt,Y),Mt=1-et(k,tt,J),Ut=1-et(k,q,J),Tt=et(k,q,Y),jt=et(M,q,Y)):(St=1-et(k,Y,tt),Dt=1-et(M,Y,tt),Mt=et(M,J,tt),Ut=et(M,J,q),Tt=1-et(M,Y,q),jt=1-et(k,Y,q)),gt.push(Te[D]),gt.push(_e[D]),gt.push(De[D])):D===139?(Et===4?(St=et(M,tt,Y),Dt=et(k,tt,Y),Mt=1-et(k,tt,J),Ut=1-et(k,q,J),Tt=et(k,q,Y),jt=et(M,q,Y)):(St=1-et(k,Y,tt),Dt=1-et(M,Y,tt),Mt=et(M,J,tt),Ut=et(M,J,q),Tt=1-et(M,Y,q),jt=1-et(k,Y,q)),gt.push(Te[D]),gt.push(_e[D]),gt.push(Ze[D])):D===98?(Et===0?(St=1-et(k,Y,tt),Dt=1-et(M,Y,tt),Pt=et(M,J,tt),Mt=et(k,J,tt),It=et(k,J,q),Tt=1-et(k,Y,q)):(St=et(M,tt,Y),Dt=et(k,tt,Y),Pt=1-et(k,tt,J),Mt=1-et(M,tt,J),It=1-et(M,q,J),Tt=et(M,q,Y)),gt.push(Te[D]),gt.push(_e[D]),gt.push(We[D])):D===99?(Et===4?(St=1-et(k,Y,tt),Dt=1-et(M,Y,tt),Pt=et(M,J,tt),Mt=et(k,J,tt),It=et(k,J,q),Tt=1-et(k,Y,q)):(St=et(M,tt,Y),Dt=et(k,tt,Y),Pt=1-et(k,tt,J),Mt=1-et(M,tt,J),It=1-et(M,q,J),Tt=et(M,q,Y)),gt.push(Te[D]),gt.push(_e[D]),gt.push(De[D])):D===38?(Et===0?(Dt=1-et(k,Y,tt),Pt=et(k,J,tt),Ut=et(k,J,q),It=et(M,J,q),Tt=1-et(M,Y,q),jt=1-et(k,Y,q)):(Dt=et(M,tt,Y),Pt=1-et(M,tt,J),Ut=1-et(M,q,J),It=1-et(k,q,J),Tt=et(k,q,Y),jt=et(M,q,Y)),gt.push(_e[D]),gt.push(Ze[D]),gt.push(We[D])):D===39?(Et===4?(Dt=1-et(k,Y,tt),Pt=et(k,J,tt),Ut=et(k,J,q),It=et(M,J,q),Tt=1-et(M,Y,q),jt=1-et(k,Y,q)):(Dt=et(M,tt,Y),Pt=1-et(M,tt,J),Ut=1-et(M,q,J),It=1-et(k,q,J),Tt=et(k,q,Y),jt=et(M,q,Y)),gt.push(_e[D]),gt.push(je[D]),gt.push(We[D])):D===85&&(St=1,Dt=0,Pt=1,Mt=0,Ut=0,It=1,Tt=0,jt=1),(Tt<0||Tt>1||jt<0||jt>1||St<0||St>1||Pt<0||Pt>1||Ut<0||Ut>1||It<0||It>1)&&console.log("MarchingSquaresJS-isoBands: "+D+" "+Rt+" "+q+","+Y+","+tt+","+J+" "+Et+" "+Tt+" "+jt+" "+St+" "+Dt+" "+Pt+" "+Mt+" "+Ut+" "+It),F.cells[W][it]={cval:D,cval_real:Rt,flipped:Et,topleft:Tt,topright:jt,righttop:St,rightbottom:Dt,bottomright:Pt,bottomleft:Mt,leftbottom:Ut,lefttop:It,edges:gt}}}}}return F}(t,r,s);return Su.polygons?(Su.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),w=function(T){var k=[],P=0;return T.cells.forEach(function(O,N){O.forEach(function(F,M){if(F!==void 0){var W=ge[F.cval](F);typeof W=="object"&&Vy(W)?typeof W[0]=="object"&&Vy(W[0])?typeof W[0][0]=="object"&&Vy(W[0][0])?W.forEach(function(it){it.forEach(function(D){D[0]+=M,D[1]+=N}),k[P++]=it}):(W.forEach(function(it){it[0]+=M,it[1]+=N}),k[P++]=W):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}})}),k}(x)):(Su.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),w=function(T){for(var k=[],P=T.rows,O=T.cols,N=[],F=0;F<P;F++)for(var M=0;M<O;M++)if(T.cells[F][M]!==void 0&&T.cells[F][M].edges.length>0){var W=TP(T.cells[F][M]),it=null,D=M,q=F;W!==null&&N.push([W.p[0]+D,W.p[1]+q]);do{if((it=SP(T.cells[q][D],W.x,W.y,W.o))===null)break;if(N.push([it.p[0]+D,it.p[1]+q]),D+=it.x,W=it,(q+=it.y)<0||q>=P||D<0||D>=O||T.cells[q][D]===void 0){var Y=EP(T,D-=it.x,q-=it.y,it.x,it.y,it.o);if(Y===null)break;Y.path.forEach(function(tt){N.push(tt)}),D=Y.i,q=Y.j,W=Y}}while(T.cells[q][D]!==void 0&&T.cells[q][D].edges.length>0);k.push(N),N=[],T.cells[F][M].edges.length>0&&M--}return k}(x)),typeof Su.successCallback=="function"&&Su.successCallback(w),w}var Gn=64,ta=16,br=[],wr=[],xr=[],_r=[],kr=[],Er=[],Tr=[],Sr=[],Cr=[],Pr=[],Mr=[],Ir=[],Lr=[],Rr=[],Ar=[],zr=[],Or=[],Nr=[],Dr=[],Fr=[],Br=[],jr=[],Hr=[],Ur=[];Tr[85]=Pr[85]=-1,Sr[85]=Mr[85]=0,Cr[85]=Ir[85]=1,Dr[85]=jr[85]=1,Fr[85]=Hr[85]=0,Br[85]=Ur[85]=1,br[85]=_r[85]=0,wr[85]=kr[85]=-1,xr[85]=Ar[85]=0,zr[85]=Lr[85]=0,Or[85]=Rr[85]=1,Er[85]=Nr[85]=1,jr[1]=jr[169]=0,Hr[1]=Hr[169]=-1,Ur[1]=Ur[169]=0,Lr[1]=Lr[169]=-1,Rr[1]=Rr[169]=0,Ar[1]=Ar[169]=0,Pr[4]=Pr[166]=0,Mr[4]=Mr[166]=-1,Ir[4]=Ir[166]=1,zr[4]=zr[166]=1,Or[4]=Or[166]=0,Nr[4]=Nr[166]=0,Tr[16]=Tr[154]=0,Sr[16]=Sr[154]=1,Cr[16]=Cr[154]=1,_r[16]=_r[154]=1,kr[16]=kr[154]=0,Er[16]=Er[154]=1,Dr[64]=Dr[106]=0,Fr[64]=Fr[106]=1,Br[64]=Br[106]=0,br[64]=br[106]=-1,wr[64]=wr[106]=0,xr[64]=xr[106]=1,Dr[2]=Dr[168]=0,Fr[2]=Fr[168]=-1,Br[2]=Br[168]=1,jr[2]=jr[168]=0,Hr[2]=Hr[168]=-1,Ur[2]=Ur[168]=0,Lr[2]=Lr[168]=-1,Rr[2]=Rr[168]=0,Ar[2]=Ar[168]=0,zr[2]=zr[168]=-1,Or[2]=Or[168]=0,Nr[2]=Nr[168]=1,Tr[8]=Tr[162]=0,Sr[8]=Sr[162]=-1,Cr[8]=Cr[162]=0,Pr[8]=Pr[162]=0,Mr[8]=Mr[162]=-1,Ir[8]=Ir[162]=1,Lr[8]=Lr[162]=1,Rr[8]=Rr[162]=0,Ar[8]=Ar[162]=1,zr[8]=zr[162]=1,Or[8]=Or[162]=0,Nr[8]=Nr[162]=0,Tr[32]=Tr[138]=0,Sr[32]=Sr[138]=1,Cr[32]=Cr[138]=1,Pr[32]=Pr[138]=0,Mr[32]=Mr[138]=1,Ir[32]=Ir[138]=0,br[32]=br[138]=1,wr[32]=wr[138]=0,xr[32]=xr[138]=0,_r[32]=_r[138]=1,kr[32]=kr[138]=0,Er[32]=Er[138]=1,jr[128]=jr[42]=0,Hr[128]=Hr[42]=1,Ur[128]=Ur[42]=1,Dr[128]=Dr[42]=0,Fr[128]=Fr[42]=1,Br[128]=Br[42]=0,br[128]=br[42]=-1,wr[128]=wr[42]=0,xr[128]=xr[42]=1,_r[128]=_r[42]=-1,kr[128]=kr[42]=0,Er[128]=Er[42]=0,Pr[5]=Pr[165]=-1,Mr[5]=Mr[165]=0,Ir[5]=Ir[165]=0,jr[5]=jr[165]=1,Hr[5]=Hr[165]=0,Ur[5]=Ur[165]=0,zr[20]=zr[150]=0,Or[20]=Or[150]=1,Nr[20]=Nr[150]=1,_r[20]=_r[150]=0,kr[20]=kr[150]=-1,Er[20]=Er[150]=1,Tr[80]=Tr[90]=-1,Sr[80]=Sr[90]=0,Cr[80]=Cr[90]=1,Dr[80]=Dr[90]=1,Fr[80]=Fr[90]=0,Br[80]=Br[90]=1,Lr[65]=Lr[105]=0,Rr[65]=Rr[105]=1,Ar[65]=Ar[105]=0,br[65]=br[105]=0,wr[65]=wr[105]=-1,xr[65]=xr[105]=0,Tr[160]=Tr[10]=-1,Sr[160]=Sr[10]=0,Cr[160]=Cr[10]=1,Pr[160]=Pr[10]=-1,Mr[160]=Mr[10]=0,Ir[160]=Ir[10]=0,jr[160]=jr[10]=1,Hr[160]=Hr[10]=0,Ur[160]=Ur[10]=0,Dr[160]=Dr[10]=1,Fr[160]=Fr[10]=0,Br[160]=Br[10]=1,zr[130]=zr[40]=0,Or[130]=Or[40]=1,Nr[130]=Nr[40]=1,Lr[130]=Lr[40]=0,Rr[130]=Rr[40]=1,Ar[130]=Ar[40]=0,br[130]=br[40]=0,wr[130]=wr[40]=-1,xr[130]=xr[40]=0,_r[130]=_r[40]=0,kr[130]=kr[40]=-1,Er[130]=Er[40]=1,Pr[37]=Pr[133]=0,Mr[37]=Mr[133]=1,Ir[37]=Ir[133]=1,jr[37]=jr[133]=0,Hr[37]=Hr[133]=1,Ur[37]=Ur[133]=0,br[37]=br[133]=-1,wr[37]=wr[133]=0,xr[37]=xr[133]=0,_r[37]=_r[133]=1,kr[37]=kr[133]=0,Er[37]=Er[133]=0,zr[148]=zr[22]=-1,Or[148]=Or[22]=0,Nr[148]=Nr[22]=0,jr[148]=jr[22]=0,Hr[148]=Hr[22]=-1,Ur[148]=Ur[22]=1,Dr[148]=Dr[22]=0,Fr[148]=Fr[22]=1,Br[148]=Br[22]=1,_r[148]=_r[22]=-1,kr[148]=kr[22]=0,Er[148]=Er[22]=1,Tr[82]=Tr[88]=0,Sr[82]=Sr[88]=-1,Cr[82]=Cr[88]=1,zr[82]=zr[88]=1,Or[82]=Or[88]=0,Nr[82]=Nr[88]=1,Lr[82]=Lr[88]=-1,Rr[82]=Rr[88]=0,Ar[82]=Ar[88]=1,Dr[82]=Dr[88]=0,Fr[82]=Fr[88]=-1,Br[82]=Br[88]=0,Tr[73]=Tr[97]=0,Sr[73]=Sr[97]=1,Cr[73]=Cr[97]=0,Pr[73]=Pr[97]=0,Mr[73]=Mr[97]=-1,Ir[73]=Ir[97]=0,Lr[73]=Lr[97]=1,Rr[73]=Rr[97]=0,Ar[73]=Ar[97]=0,br[73]=br[97]=1,wr[73]=wr[97]=0,xr[73]=xr[97]=1,Tr[145]=Tr[25]=0,Sr[145]=Sr[25]=-1,Cr[145]=Cr[25]=0,Lr[145]=Lr[25]=1,Rr[145]=Rr[25]=0,Ar[145]=Ar[25]=1,jr[145]=jr[25]=0,Hr[145]=Hr[25]=1,Ur[145]=Ur[25]=1,_r[145]=_r[25]=-1,kr[145]=kr[25]=0,Er[145]=Er[25]=0,Pr[70]=Pr[100]=0,Mr[70]=Mr[100]=1,Ir[70]=Ir[100]=0,zr[70]=zr[100]=-1,Or[70]=Or[100]=0,Nr[70]=Nr[100]=1,Dr[70]=Dr[100]=0,Fr[70]=Fr[100]=-1,Br[70]=Br[100]=1,br[70]=br[100]=1,wr[70]=wr[100]=0,xr[70]=xr[100]=0,Pr[101]=Pr[69]=0,Mr[101]=Mr[69]=1,Ir[101]=Ir[69]=0,br[101]=br[69]=1,wr[101]=wr[69]=0,xr[101]=xr[69]=0,jr[149]=jr[21]=0,Hr[149]=Hr[21]=1,Ur[149]=Ur[21]=1,_r[149]=_r[21]=-1,kr[149]=kr[21]=0,Er[149]=Er[21]=0,zr[86]=zr[84]=-1,Or[86]=Or[84]=0,Nr[86]=Nr[84]=1,Dr[86]=Dr[84]=0,Fr[86]=Fr[84]=-1,Br[86]=Br[84]=1,Tr[89]=Tr[81]=0,Sr[89]=Sr[81]=-1,Cr[89]=Cr[81]=0,Lr[89]=Lr[81]=1,Rr[89]=Rr[81]=0,Ar[89]=Ar[81]=1,Tr[96]=Tr[74]=0,Sr[96]=Sr[74]=1,Cr[96]=Cr[74]=0,Pr[96]=Pr[74]=-1,Mr[96]=Mr[74]=0,Ir[96]=Ir[74]=1,Dr[96]=Dr[74]=1,Fr[96]=Fr[74]=0,Br[96]=Br[74]=0,br[96]=br[74]=1,wr[96]=wr[74]=0,xr[96]=xr[74]=1,Tr[24]=Tr[146]=0,Sr[24]=Sr[146]=-1,Cr[24]=Cr[146]=1,zr[24]=zr[146]=1,Or[24]=Or[146]=0,Nr[24]=Nr[146]=1,Lr[24]=Lr[146]=0,Rr[24]=Rr[146]=1,Ar[24]=Ar[146]=1,_r[24]=_r[146]=0,kr[24]=kr[146]=-1,Er[24]=Er[146]=0,Pr[6]=Pr[164]=-1,Mr[6]=Mr[164]=0,Ir[6]=Ir[164]=1,zr[6]=zr[164]=-1,Or[6]=Or[164]=0,Nr[6]=Nr[164]=0,jr[6]=jr[164]=0,Hr[6]=Hr[164]=-1,Ur[6]=Ur[164]=1,Dr[6]=Dr[164]=1,Fr[6]=Fr[164]=0,Br[6]=Br[164]=0,Lr[129]=Lr[41]=0,Rr[129]=Rr[41]=1,Ar[129]=Ar[41]=1,jr[129]=jr[41]=0,Hr[129]=Hr[41]=1,Ur[129]=Ur[41]=0,br[129]=br[41]=-1,wr[129]=wr[41]=0,xr[129]=xr[41]=0,_r[129]=_r[41]=0,kr[129]=kr[41]=-1,Er[129]=Er[41]=0,zr[66]=zr[104]=0,Or[66]=Or[104]=1,Nr[66]=Nr[104]=0,Lr[66]=Lr[104]=-1,Rr[66]=Rr[104]=0,Ar[66]=Ar[104]=1,Dr[66]=Dr[104]=0,Fr[66]=Fr[104]=-1,Br[66]=Br[104]=0,br[66]=br[104]=0,wr[66]=wr[104]=-1,xr[66]=xr[104]=1,Tr[144]=Tr[26]=-1,Sr[144]=Sr[26]=0,Cr[144]=Cr[26]=0,jr[144]=jr[26]=1,Hr[144]=Hr[26]=0,Ur[144]=Ur[26]=1,Dr[144]=Dr[26]=0,Fr[144]=Fr[26]=1,Br[144]=Br[26]=1,_r[144]=_r[26]=-1,kr[144]=kr[26]=0,Er[144]=Er[26]=1,Pr[36]=Pr[134]=0,Mr[36]=Mr[134]=1,Ir[36]=Ir[134]=1,zr[36]=zr[134]=0,Or[36]=Or[134]=1,Nr[36]=Nr[134]=0,br[36]=br[134]=0,wr[36]=wr[134]=-1,xr[36]=xr[134]=1,_r[36]=_r[134]=1,kr[36]=kr[134]=0,Er[36]=Er[134]=0,Tr[9]=Tr[161]=-1,Sr[9]=Sr[161]=0,Cr[9]=Cr[161]=0,Pr[9]=Pr[161]=0,Mr[9]=Mr[161]=-1,Ir[9]=Ir[161]=0,Lr[9]=Lr[161]=1,Rr[9]=Rr[161]=0,Ar[9]=Ar[161]=0,jr[9]=jr[161]=1,Hr[9]=Hr[161]=0,Ur[9]=Ur[161]=1,Tr[136]=0,Sr[136]=1,Cr[136]=1,Pr[136]=0,Mr[136]=1,Ir[136]=0,zr[136]=-1,Or[136]=0,Nr[136]=1,Lr[136]=-1,Rr[136]=0,Ar[136]=0,jr[136]=0,Hr[136]=-1,Ur[136]=0,Dr[136]=0,Fr[136]=-1,Br[136]=1,br[136]=1,wr[136]=0,xr[136]=0,_r[136]=1,kr[136]=0,Er[136]=1,Tr[34]=0,Sr[34]=-1,Cr[34]=0,Pr[34]=0,Mr[34]=-1,Ir[34]=1,zr[34]=1,Or[34]=0,Nr[34]=0,Lr[34]=1,Rr[34]=0,Ar[34]=1,jr[34]=0,Hr[34]=1,Ur[34]=1,Dr[34]=0,Fr[34]=1,Br[34]=0,br[34]=-1,wr[34]=0,xr[34]=1,_r[34]=-1,kr[34]=0,Er[34]=0,Tr[35]=0,Sr[35]=1,Cr[35]=1,Pr[35]=0,Mr[35]=-1,Ir[35]=1,zr[35]=1,Or[35]=0,Nr[35]=0,Lr[35]=-1,Rr[35]=0,Ar[35]=0,jr[35]=0,Hr[35]=-1,Ur[35]=0,Dr[35]=0,Fr[35]=1,Br[35]=0,br[35]=-1,wr[35]=0,xr[35]=1,_r[35]=1,kr[35]=0,Er[35]=1,Tr[153]=0,Sr[153]=1,Cr[153]=1,Lr[153]=-1,Rr[153]=0,Ar[153]=0,jr[153]=0,Hr[153]=-1,Ur[153]=0,_r[153]=1,kr[153]=0,Er[153]=1,Pr[102]=0,Mr[102]=-1,Ir[102]=1,zr[102]=1,Or[102]=0,Nr[102]=0,Dr[102]=0,Fr[102]=1,Br[102]=0,br[102]=-1,wr[102]=0,xr[102]=1,Tr[155]=0,Sr[155]=-1,Cr[155]=0,Lr[155]=1,Rr[155]=0,Ar[155]=1,jr[155]=0,Hr[155]=1,Ur[155]=1,_r[155]=-1,kr[155]=0,Er[155]=0,Pr[103]=0,Mr[103]=1,Ir[103]=0,zr[103]=-1,Or[103]=0,Nr[103]=1,Dr[103]=0,Fr[103]=-1,Br[103]=1,br[103]=1,wr[103]=0,xr[103]=0,Tr[152]=0,Sr[152]=1,Cr[152]=1,zr[152]=-1,Or[152]=0,Nr[152]=1,Lr[152]=-1,Rr[152]=0,Ar[152]=0,jr[152]=0,Hr[152]=-1,Ur[152]=0,Dr[152]=0,Fr[152]=-1,Br[152]=1,_r[152]=1,kr[152]=0,Er[152]=1,Tr[156]=0,Sr[156]=-1,Cr[156]=1,zr[156]=1,Or[156]=0,Nr[156]=1,Lr[156]=-1,Rr[156]=0,Ar[156]=0,jr[156]=0,Hr[156]=-1,Ur[156]=0,Dr[156]=0,Fr[156]=1,Br[156]=1,_r[156]=-1,kr[156]=0,Er[156]=1,Tr[137]=0,Sr[137]=1,Cr[137]=1,Pr[137]=0,Mr[137]=1,Ir[137]=0,Lr[137]=-1,Rr[137]=0,Ar[137]=0,jr[137]=0,Hr[137]=-1,Ur[137]=0,br[137]=1,wr[137]=0,xr[137]=0,_r[137]=1,kr[137]=0,Er[137]=1,Tr[139]=0,Sr[139]=1,Cr[139]=1,Pr[139]=0,Mr[139]=-1,Ir[139]=0,Lr[139]=1,Rr[139]=0,Ar[139]=0,jr[139]=0,Hr[139]=1,Ur[139]=0,br[139]=-1,wr[139]=0,xr[139]=0,_r[139]=1,kr[139]=0,Er[139]=1,Tr[98]=0,Sr[98]=-1,Cr[98]=0,Pr[98]=0,Mr[98]=-1,Ir[98]=1,zr[98]=1,Or[98]=0,Nr[98]=0,Lr[98]=1,Rr[98]=0,Ar[98]=1,Dr[98]=0,Fr[98]=1,Br[98]=0,br[98]=-1,wr[98]=0,xr[98]=1,Tr[99]=0,Sr[99]=1,Cr[99]=0,Pr[99]=0,Mr[99]=-1,Ir[99]=1,zr[99]=1,Or[99]=0,Nr[99]=0,Lr[99]=-1,Rr[99]=0,Ar[99]=1,Dr[99]=0,Fr[99]=-1,Br[99]=0,br[99]=1,wr[99]=0,xr[99]=1,Pr[38]=0,Mr[38]=-1,Ir[38]=1,zr[38]=1,Or[38]=0,Nr[38]=0,jr[38]=0,Hr[38]=1,Ur[38]=1,Dr[38]=0,Fr[38]=1,Br[38]=0,br[38]=-1,wr[38]=0,xr[38]=1,_r[38]=-1,kr[38]=0,Er[38]=0,Pr[39]=0,Mr[39]=1,Ir[39]=1,zr[39]=-1,Or[39]=0,Nr[39]=0,jr[39]=0,Hr[39]=-1,Ur[39]=1,Dr[39]=0,Fr[39]=1,Br[39]=0,br[39]=-1,wr[39]=0,xr[39]=1,_r[39]=1,kr[39]=0,Er[39]=0;var Dy=function(t){return[[t.bottomleft,0],[0,0],[0,t.leftbottom]]},Fy=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0]]},By=function(t){return[[t.topright,1],[1,1],[1,t.righttop]]},jy=function(t){return[[0,t.lefttop],[0,1],[t.topleft,1]]},Hy=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop]]},Uy=function(t){return[[t.bottomright,0],[t.bottomleft,0],[1,t.righttop],[1,t.rightbottom]]},Gy=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.topleft,1],[t.topright,1]]},qy=function(t){return[[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},Te=[],_e=[],je=[],De=[],Ze=[],We=[],Gr=[],Vr=[];De[1]=Ze[1]=18,De[169]=Ze[169]=18,je[4]=_e[4]=12,je[166]=_e[166]=12,Te[16]=Vr[16]=4,Te[154]=Vr[154]=4,We[64]=Gr[64]=22,We[106]=Gr[106]=22,je[2]=We[2]=17,De[2]=Ze[2]=18,je[168]=We[168]=17,De[168]=Ze[168]=18,Te[8]=De[8]=9,_e[8]=je[8]=12,Te[162]=De[162]=9,_e[162]=je[162]=12,Te[32]=Vr[32]=4,_e[32]=Gr[32]=1,Te[138]=Vr[138]=4,_e[138]=Gr[138]=1,Ze[128]=Vr[128]=21,We[128]=Gr[128]=22,Ze[42]=Vr[42]=21,We[42]=Gr[42]=22,_e[5]=Ze[5]=14,_e[165]=Ze[165]=14,je[20]=Vr[20]=6,je[150]=Vr[150]=6,Te[80]=We[80]=11,Te[90]=We[90]=11,De[65]=Gr[65]=3,De[105]=Gr[105]=3,Te[160]=We[160]=11,_e[160]=Ze[160]=14,Te[10]=We[10]=11,_e[10]=Ze[10]=14,je[130]=Vr[130]=6,De[130]=Gr[130]=3,je[40]=Vr[40]=6,De[40]=Gr[40]=3,_e[101]=Gr[101]=1,_e[69]=Gr[69]=1,Ze[149]=Vr[149]=21,Ze[21]=Vr[21]=21,je[86]=We[86]=17,je[84]=We[84]=17,Te[89]=De[89]=9,Te[81]=De[81]=9,Te[96]=Gr[96]=0,_e[96]=We[96]=15,Te[74]=Gr[74]=0,_e[74]=We[74]=15,Te[24]=je[24]=8,De[24]=Vr[24]=7,Te[146]=je[146]=8,De[146]=Vr[146]=7,_e[6]=We[6]=15,je[6]=Ze[6]=16,_e[164]=We[164]=15,je[164]=Ze[164]=16,De[129]=Vr[129]=7,Ze[129]=Gr[129]=20,De[41]=Vr[41]=7,Ze[41]=Gr[41]=20,je[66]=Gr[66]=2,De[66]=We[66]=19,je[104]=Gr[104]=2,De[104]=We[104]=19,Te[144]=Ze[144]=10,We[144]=Vr[144]=23,Te[26]=Ze[26]=10,We[26]=Vr[26]=23,_e[36]=Vr[36]=5,je[36]=Gr[36]=2,_e[134]=Vr[134]=5,je[134]=Gr[134]=2,Te[9]=Ze[9]=10,_e[9]=De[9]=13,Te[161]=Ze[161]=10,_e[161]=De[161]=13,_e[37]=Vr[37]=5,Ze[37]=Gr[37]=20,_e[133]=Vr[133]=5,Ze[133]=Gr[133]=20,je[148]=Ze[148]=16,We[148]=Vr[148]=23,je[22]=Ze[22]=16,We[22]=Vr[22]=23,Te[82]=je[82]=8,De[82]=We[82]=19,Te[88]=je[88]=8,De[88]=We[88]=19,Te[73]=Gr[73]=0,_e[73]=De[73]=13,Te[97]=Gr[97]=0,_e[97]=De[97]=13,Te[145]=De[145]=9,Ze[145]=Vr[145]=21,Te[25]=De[25]=9,Ze[25]=Vr[25]=21,_e[70]=Gr[70]=1,je[70]=We[70]=17,_e[100]=Gr[100]=1,je[100]=We[100]=17,Te[34]=De[34]=9,_e[34]=je[34]=12,Ze[34]=Vr[34]=21,We[34]=Gr[34]=22,Te[136]=Vr[136]=4,_e[136]=Gr[136]=1,je[136]=We[136]=17,De[136]=Ze[136]=18,Te[35]=Vr[35]=4,_e[35]=je[35]=12,De[35]=Ze[35]=18,We[35]=Gr[35]=22,Te[153]=Vr[153]=4,De[153]=Ze[153]=18,_e[102]=je[102]=12,We[102]=Gr[102]=22,Te[155]=De[155]=9,Ze[155]=Vr[155]=23,_e[103]=Gr[103]=1,je[103]=We[103]=17,Te[152]=Vr[152]=4,je[152]=We[152]=17,De[152]=Ze[152]=18,Te[156]=je[156]=8,De[156]=Ze[156]=18,We[156]=Vr[156]=23,Te[137]=Vr[137]=4,_e[137]=Gr[137]=1,De[137]=Ze[137]=18,Te[139]=Vr[139]=4,_e[139]=De[139]=13,Ze[139]=Gr[139]=20,Te[98]=De[98]=9,_e[98]=je[98]=12,We[98]=Gr[98]=22,Te[99]=Gr[99]=0,_e[99]=je[99]=12,De[99]=We[99]=19,_e[38]=je[38]=12,Ze[38]=Vr[38]=21,We[38]=Gr[38]=22,_e[39]=Vr[39]=5,je[39]=Ze[39]=16,We[39]=Gr[39]=22;var ge=[];function et(t,r,s){return(t-r)/(s-r)}function Vy(t){return t.constructor.toString().indexOf("Array")>-1}function EP(t,r,s,a,c,h){for(var g=t.cells[s][r],v=g.cval_real,w=r+a,x=s+c,T=[],k=!1;!k;){if(t.cells[x]===void 0||t.cells[x][w]===void 0)if(x-=c,w-=a,v=(g=t.cells[x][w]).cval_real,c===-1)if(h===0)if(1&v)T.push([w,x]),a=-1,c=0,h=0;else{if(!(4&v)){T.push([w+g.bottomright,x]),a=0,c=1,h=1,k=!0;break}T.push([w+1,x]),a=1,c=0,h=0}else{if(!(1&v)){if(4&v){T.push([w+g.bottomright,x]),a=0,c=1,h=1,k=!0;break}T.push([w+g.bottomleft,x]),a=0,c=1,h=0,k=!0;break}T.push([w,x]),a=-1,c=0,h=0}else if(c===1)if(h===0){if(!(v&ta)){if(v&Gn){T.push([w+g.topleft,x+1]),a=0,c=-1,h=0,k=!0;break}T.push([w+g.topright,x+1]),a=0,c=-1,h=1,k=!0;break}T.push([w+1,x+1]),a=1,c=0,h=1}else T.push([w+1,x+1]),a=1,c=0,h=1;else if(a===-1)if(h===0){if(!(v&Gn)){if(1&v){T.push([w,x+g.leftbottom]),a=1,c=0,h=0,k=!0;break}T.push([w,x+g.lefttop]),a=1,c=0,h=1,k=!0;break}T.push([w,x+1]),a=0,c=1,h=0}else{if(!(v&Gn)){console.log("MarchingSquaresJS-isoBands: wtf");break}T.push([w,x+1]),a=0,c=1,h=0}else{if(a!==1){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(h===0){if(!(4&v)){T.push([w+1,x+g.rightbottom]),a=-1,c=0,h=0,k=!0;break}T.push([w+1,x]),a=0,c=-1,h=1}else{if(!(4&v)){if(v&ta){T.push([w+1,x+g.righttop]),a=-1,c=0,h=1;break}T.push([w+1,x+g.rightbottom]),a=-1,c=0,h=0,k=!0;break}T.push([w+1,x]),a=0,c=-1,h=1}}else if(v=(g=t.cells[x][w]).cval_real,a===-1)if(h===0)if(t.cells[x-1]!==void 0&&t.cells[x-1][w]!==void 0)a=0,c=-1,h=1;else{if(!(1&v)){T.push([w+g.bottomright,x]),a=0,c=1,h=1,k=!0;break}T.push([w,x])}else{if(!(v&Gn)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+w+","+x);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(a===1){if(h===0){console.log("MarchingSquaresJS-isoBands: wtf");break}if(t.cells[x+1]!==void 0&&t.cells[x+1][w]!==void 0)a=0,c=1,h=0;else{if(!(v&ta)){T.push([w+g.topleft,x+1]),a=0,c=-1,h=0,k=!0;break}T.push([w+1,x+1]),a=1,c=0,h=1}}else if(c===-1){if(h!==1){console.log("MarchingSquaresJS-isoBands: wtf");break}if(t.cells[x][w+1]!==void 0)a=1,c=0,h=1;else{if(!(4&v)){T.push([w+1,x+g.righttop]),a=-1,c=0,h=1,k=!0;break}T.push([w+1,x]),a=0,c=-1,h=1}}else{if(c!==1){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(h!==0){console.log("MarchingSquaresJS-isoBands: wtf");break}if(t.cells[x][w-1]!==void 0)a=-1,c=0,h=0;else{if(!(v&Gn)){T.push([w,x+g.leftbottom]),a=1,c=0,h=0,k=!0;break}T.push([w,x+1]),a=0,c=1,h=0}}if(x+=c,(w+=a)===r&&x===s)break}return{path:T,i:w,j:x,x:a,y:c,o:h}}function TP(t){if(t.edges.length>0){var r=t.edges[t.edges.length-1],s=t.cval_real;switch(r){case 0:return s&ta?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 1:return 4&s?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 2:return 4&s?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 3:return 1&s?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 4:return s&ta?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 5:return 4&s?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 6:return 4&s?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 7:return 1&s?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 8:return 4&s?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.righttop],x:-1,y:0,o:1};case 9:return 1&s?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 10:return 1&s?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.righttop],x:-1,y:0,o:1};case 11:return s&Gn?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 12:return 4&s?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 13:return 1&s?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 14:return 1&s?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 15:return s&Gn?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 16:return 4&s?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 17:return s&Gn?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 18:return 1&s?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 19:return s&Gn?{p:[t.bottomleft,0],x:0,y:1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 20:return s&Gn?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 21:return s&ta?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.topright,1],x:0,y:-1,o:1};case 22:return s&Gn?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 23:return s&ta?{p:[0,t.lefttop],x:1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t)}}return null}function SP(t,r,s,a){var c,h,g,v,w,x=t.cval;switch(r){case-1:switch(a){case 0:c=_e[x],g=Pr[x],v=Mr[x],w=Ir[x];break;default:c=Te[x],g=Tr[x],v=Sr[x],w=Cr[x]}break;case 1:switch(a){case 0:c=Ze[x],g=jr[x],v=Hr[x],w=Ur[x];break;default:c=We[x],g=Dr[x],v=Fr[x],w=Br[x]}break;default:switch(s){case-1:switch(a){case 0:c=Gr[x],g=br[x],v=wr[x],w=xr[x];break;default:c=Vr[x],g=_r[x],v=kr[x],w=Er[x]}break;case 1:switch(a){case 0:c=De[x],g=Lr[x],v=Rr[x],w=Ar[x];break;default:c=je[x],g=zr[x],v=Or[x],w=Nr[x]}}}if(h=t.edges.indexOf(c),t.edges[h]===void 0)return null;switch(function(T,k){delete T.edges[k];for(var P=k+1;P<T.edges.length;P++)T.edges[P-1]=T.edges[P];T.edges.pop()}(t,h),x=t.cval_real,c){case 0:x&ta?(r=t.topleft,s=1):(r=1,s=t.righttop);break;case 1:4&x?(r=1,s=t.rightbottom):(r=t.topleft,s=1);break;case 2:4&x?(r=t.topleft,s=1):(r=t.bottomright,s=0);break;case 3:1&x?(r=t.bottomleft,s=0):(r=t.topleft,s=1);break;case 4:x&ta?(r=t.topright,s=1):(r=1,s=t.righttop);break;case 5:4&x?(r=1,s=t.rightbottom):(r=t.topright,s=1);break;case 6:4&x?(r=t.topright,s=1):(r=t.bottomright,s=0);break;case 7:1&x?(r=t.bottomleft,s=0):(r=t.topright,s=1);break;case 8:4&x?(r=1,s=t.righttop):(r=t.bottomright,s=0);break;case 9:1&x?(r=t.bottomleft,s=0):(r=1,s=t.righttop);break;case 10:1&x?(r=1,s=t.righttop):(r=0,s=t.leftbottom);break;case 11:x&Gn?(r=0,s=t.lefttop):(r=1,s=t.righttop);break;case 12:4&x?(r=1,s=t.rightbottom):(r=t.bottomright,s=0);break;case 13:1&x?(r=t.bottomleft,s=0):(r=1,s=t.rightbottom);break;case 14:1&x?(r=1,s=t.rightbottom):(r=0,s=t.leftbottom);break;case 15:x&Gn?(r=0,s=t.lefttop):(r=1,s=t.rightbottom);break;case 16:4&x?(r=0,s=t.leftbottom):(r=t.bottomright,s=0);break;case 17:x&Gn?(r=0,s=t.lefttop):(r=t.bottomright,s=0);break;case 18:1&x?(r=t.bottomleft,s=0):(r=0,s=t.leftbottom);break;case 19:x&Gn?(r=0,s=t.lefttop):(r=t.bottomleft,s=0);break;case 20:x&Gn?(r=0,s=t.leftbottom):(r=t.topleft,s=1);break;case 21:x&ta?(r=t.topright,s=1):(r=0,s=t.leftbottom);break;case 22:x&Gn?(r=0,s=t.lefttop):(r=t.topleft,s=1);break;case 23:x&ta?(r=t.topright,s=1):(r=0,s=t.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t),null}return r!==void 0&&s!==void 0&&g!==void 0&&v!==void 0&&w!==void 0||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(t),console.log(r+" "+s+" "+g+" "+v+" "+w)),{p:[r,s],x:g,y:v,o:w}}function CP(t){var r=[],s=[];t.forEach(function(c){var h=Nh(y([c]));s.push(h),r.push({ring:c,area:h})}),s.sort(function(c,h){return h-c});var a=[];return s.forEach(function(c){for(var h=0;h<r.length;h++)if(r[h].area===c){a.push(r[h].ring),r.splice(h,1);break}}),a}function PP(t){for(var r=t.map(function(v){return{lrCoordinates:v,grouped:!1}}),s=[];!IP(r);)for(var a=0;a<r.length;a++)if(!r[a].grouped){var c=[];c.push(r[a].lrCoordinates),r[a].grouped=!0;for(var h=y([r[a].lrCoordinates]),g=a+1;g<r.length;g++)r[g].grouped||MP(y([r[g].lrCoordinates]),h)&&(c.push(r[g].lrCoordinates),r[g].grouped=!0);s.push(c)}return s}function MP(t,r){for(var s=vu(t),a=0;a<s.features.length;a++)if(!Qe(s.features[a],r))return!1;return!0}function IP(t){for(var r=0;r<t.length;r++)if(t[r].grouped===!1)return!1;return!0}function kx(t,r,s){if(!mt(s=s||{}))throw new Error("options is invalid");var a=s.pivot,c=s.mutate;if(!t)throw new Error("geojson is required");if(r==null||isNaN(r))throw new Error("angle is required");return r===0||(a||(a=Xs(t)),c!==!1&&c!==void 0||(t=Ci(t)),Gt(t,function(h){var g=Tl(a,h)+r,v=xl(a,h),w=X(Gh(a,v,g));h[0]=w[0],h[1]=w[1]})),t}function Ex(t,r,s){if(!mt(s=s||{}))throw new Error("options is invalid");var a=s.origin,c=s.mutate;if(!t)throw new Error("geojson required");if(typeof r!="number"||r===0)throw new Error("invalid factor");var h=Array.isArray(a)||typeof a=="object";return c!==!0&&(t=Ci(t)),t.type!=="FeatureCollection"||h?Tx(t,r,a):(kt(t,function(g,v){t.features[v]=Tx(g,r,a)}),t)}function Tx(t,r,s){var a=$t(t)==="Point";return s=function(c,h){if(h==null&&(h="centroid"),Array.isArray(h)||typeof h=="object")return A(h);var g=c.bbox?c.bbox:vt(c),v=g[0],w=g[1],x=g[2],T=g[3];switch(h){case"sw":case"southwest":case"westsouth":case"bottomleft":return f([v,w]);case"se":case"southeast":case"eastsouth":case"bottomright":return f([x,w]);case"nw":case"northwest":case"westnorth":case"topleft":return f([v,T]);case"ne":case"northeast":case"eastnorth":case"topright":return f([x,T]);case"center":return Zo(c);case void 0:case null:case"centroid":return Xs(c);default:throw new Error("invalid origin")}}(t,s),r===1||a||Gt(t,function(c){var h=xl(s,c),g=Tl(s,c),v=X(Gh(s,h*r,g));c[0]=v[0],c[1]=v[1],c.length===3&&(c[2]*=r)}),t}function Em(t){var r=t[0],s=t[1];return[s[0]-r[0],s[1]-r[1]]}function Wy(t,r){return t[0]*r[1]-r[0]*t[1]}function LP(t,r){return!function(s,a){return Wy(Em(s),Em(a))===0}(t,r)&&function(s,a){var c,h,g=s[0],v=Em(s),w=a[0],x=Em(a),T=Wy(v,x);return function(k,P){return[k[0]+P[0],k[1]+P[1]]}(g,function(k,P){return[k*P[0],k*P[1]]}(Wy((h=g,[(c=w)[0]-h[0],c[1]-h[1]]),x)/T,v))}(t,r)}function Sx(t,r,s){var a=[],c=ot(r,s),h=X(t),g=[];return h.forEach(function(v,w){if(w!==h.length-1){var x=(P=v,O=h[w+1],N=c,F=Math.sqrt((P[0]-O[0])*(P[0]-O[0])+(P[1]-O[1])*(P[1]-O[1])),M=P[0]+N*(O[1]-P[1])/F,W=O[0]+N*(O[1]-P[1])/F,it=P[1]+N*(P[0]-O[0])/F,D=O[1]+N*(P[0]-O[0])/F,[[M,it],[W,D]]);if(a.push(x),w>0){var T=a[w-1],k=LP(x,T);k!==!1&&(T[1]=k,x[0]=k),g.push(T[0]),w===h.length-2&&(g.push(x[0]),g.push(x[1]))}h.length===2&&(g.push(x[0]),g.push(x[1]))}var P,O,N,F,M,W,it,D}),E(g,t.properties)}function Zy(t,r,s){var a=r[0]-t[0],c=r[1]-t[1],h=s[0]-r[0];return function(g){return(g>0)-(g<0)||+g}(a*(s[1]-r[1])-h*c)}function Cx(t,r){return r.geometry.coordinates[0].every(function(s){return Qe(f(s),t)})}ge[1]=ge[169]=Dy,ge[4]=ge[166]=Fy,ge[16]=ge[154]=By,ge[64]=ge[106]=jy,ge[168]=ge[2]=Hy,ge[162]=ge[8]=Uy,ge[138]=ge[32]=Gy,ge[42]=ge[128]=qy,ge[5]=ge[165]=function(t){return[[0,0],[0,t.leftbottom],[1,t.rightbottom],[1,0]]},ge[20]=ge[150]=function(t){return[[1,0],[t.bottomright,0],[t.topright,1],[1,1]]},ge[80]=ge[90]=function(t){return[[1,1],[1,t.righttop],[0,t.lefttop],[0,1]]},ge[65]=ge[105]=function(t){return[[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},ge[160]=ge[10]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.leftbottom],[0,t.lefttop]]},ge[130]=ge[40]=function(t){return[[t.topleft,1],[t.topright,1],[t.bottomright,0],[t.bottomleft,0]]},ge[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},ge[101]=ge[69]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,1],[t.topleft,1]]},ge[149]=ge[21]=function(t){return[[t.topright,1],[1,1],[1,0],[0,0],[0,t.leftbottom]]},ge[86]=ge[84]=function(t){return[[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[1,1]]},ge[89]=ge[81]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,1]]},ge[96]=ge[74]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.lefttop],[0,1],[t.topleft,1]]},ge[24]=ge[146]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[t.topright,1]]},ge[6]=ge[164]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop]]},ge[129]=ge[41]=function(t){return[[t.topright,1],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1]]},ge[66]=ge[104]=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},ge[144]=ge[26]=function(t){return[[1,1],[1,t.righttop],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},ge[36]=ge[134]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[t.topleft,1],[t.topright,1]]},ge[9]=ge[161]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom]]},ge[37]=ge[133]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},ge[148]=ge[22]=function(t){return[[1,1],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},ge[82]=ge[88]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1]]},ge[73]=ge[97]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},ge[145]=ge[25]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},ge[70]=ge[100]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},ge[34]=function(t){return[qy(t),Uy(t)]},ge[35]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},ge[136]=function(t){return[Gy(t),Hy(t)]},ge[153]=function(t){return[By(t),Dy(t)]},ge[102]=function(t){return[Fy(t),jy(t)]},ge[155]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},ge[103]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},ge[152]=function(t){return[By(t),Hy(t)]},ge[156]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},ge[137]=function(t){return[Gy(t),Dy(t)]},ge[139]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},ge[98]=function(t){return[Uy(t),jy(t)]},ge[99]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},ge[38]=function(t){return[Fy(t),qy(t)]},ge[39]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]};var Px=function(){function t(r){this.id=t.buildId(r),this.coordinates=r,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return t.buildId=function(r){return r.join(",")},t.prototype.removeInnerEdge=function(r){this.innerEdges=this.innerEdges.filter(function(s){return s.from.id!==r.from.id})},t.prototype.removeOuterEdge=function(r){this.outerEdges=this.outerEdges.filter(function(s){return s.to.id!==r.to.id})},t.prototype.addOuterEdge=function(r){this.outerEdges.push(r),this.outerEdgesSorted=!1},t.prototype.sortOuterEdges=function(){var r=this;this.outerEdgesSorted||(this.outerEdges.sort(function(s,a){var c=s.to,h=a.to;if(c.coordinates[0]-r.coordinates[0]>=0&&h.coordinates[0]-r.coordinates[0]<0)return 1;if(c.coordinates[0]-r.coordinates[0]<0&&h.coordinates[0]-r.coordinates[0]>=0)return-1;if(c.coordinates[0]-r.coordinates[0]==0&&h.coordinates[0]-r.coordinates[0]==0)return c.coordinates[1]-r.coordinates[1]>=0||h.coordinates[1]-r.coordinates[1]>=0?c.coordinates[1]-h.coordinates[1]:h.coordinates[1]-c.coordinates[1];var g=Zy(r.coordinates,c.coordinates,h.coordinates);return g<0?1:g>0?-1:Math.pow(c.coordinates[0]-r.coordinates[0],2)+Math.pow(c.coordinates[1]-r.coordinates[1],2)-(Math.pow(h.coordinates[0]-r.coordinates[0],2)+Math.pow(h.coordinates[1]-r.coordinates[1],2))}),this.outerEdgesSorted=!0)},t.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},t.prototype.getOuterEdge=function(r){return this.sortOuterEdges(),this.outerEdges[r]},t.prototype.addInnerEdge=function(r){this.innerEdges.push(r)},t}(),RP=function(){function t(r,s){this.from=r,this.to=s,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return t.prototype.getSymetric=function(){return this.symetric||(this.symetric=new t(this.to,this.from),this.symetric.symetric=this),this.symetric},t.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},t.prototype.isEqual=function(r){return this.from.id===r.from.id&&this.to.id===r.to.id},t.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},t.prototype.toLineString=function(){return E([this.from.coordinates,this.to.coordinates])},t.prototype.compareTo=function(r){return Zy(r.from.coordinates,r.to.coordinates,this.to.coordinates)},t}(),Mx=function(){function t(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return t.prototype.push=function(r){this.edges.push(r),this.polygon=this.envelope=void 0},t.prototype.get=function(r){return this.edges[r]},Object.defineProperty(t.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),t.prototype.forEach=function(r){this.edges.forEach(r)},t.prototype.map=function(r){return this.edges.map(r)},t.prototype.some=function(r){return this.edges.some(r)},t.prototype.isValid=function(){return!0},t.prototype.isHole=function(){var r=this,s=this.edges.reduce(function(g,v,w){return v.from.coordinates[1]>r.edges[g].from.coordinates[1]&&(g=w),g},0),a=(s===0?this.length:s)-1,c=(s+1)%this.length,h=Zy(this.edges[a].from.coordinates,this.edges[s].from.coordinates,this.edges[c].from.coordinates);return h===0?this.edges[a].from.coordinates[0]>this.edges[c].from.coordinates[0]:h>0},t.prototype.toMultiPoint=function(){return B(this.edges.map(function(r){return r.from.coordinates}))},t.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var r=this.edges.map(function(s){return s.from.coordinates});return r.push(this.edges[0].from.coordinates),this.polygon=y([r])},t.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=Eh(this.toPolygon())},t.findEdgeRingContaining=function(r,s){var a,c,h=r.getEnvelope();return s.forEach(function(g){var v,w,x,T,k,P,O=g.getEnvelope();if(c&&(a=c.getEnvelope()),w=h,x=(v=O).geometry.coordinates[0].map(function(D){return D[0]}),T=v.geometry.coordinates[0].map(function(D){return D[1]}),k=w.geometry.coordinates[0].map(function(D){return D[0]}),P=w.geometry.coordinates[0].map(function(D){return D[1]}),(Math.max.apply(null,x)!==Math.max.apply(null,k)||Math.max.apply(null,T)!==Math.max.apply(null,P)||Math.min.apply(null,x)!==Math.min.apply(null,k)||Math.min.apply(null,T)!==Math.min.apply(null,P))&&Cx(O,h)){for(var N=r.map(function(D){return D.from.coordinates}),F=void 0,M=function(D){g.some(function(q){return Y=D,tt=q.from.coordinates,Y[0]===tt[0]&&Y[1]===tt[1];var Y,tt})||(F=D)},W=0,it=N;W<it.length;W++)M(it[W]);F&&g.inside(f(F))&&(c&&!Cx(a,O)||(c=g))}}),c},t.prototype.inside=function(r){return Qe(r,this.toPolygon())},t}(),AP=function(){function t(){this.edges=[],this.nodes={}}return t.fromGeoJson=function(r){(function(a){if(!a)throw new Error("No geojson passed");if(a.type!=="FeatureCollection"&&a.type!=="GeometryCollection"&&a.type!=="MultiLineString"&&a.type!=="LineString"&&a.type!=="Feature")throw new Error("Invalid input type '"+a.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")})(r);var s=new t;return se(r,function(a){wt(a,"LineString","Graph::fromGeoJson"),he(a,function(c,h){if(c){var g=s.getNode(c),v=s.getNode(h);s.addEdge(g,v)}return h})}),s},t.prototype.getNode=function(r){var s=Px.buildId(r),a=this.nodes[s];return a||(a=this.nodes[s]=new Px(r)),a},t.prototype.addEdge=function(r,s){var a=new RP(r,s),c=a.getSymetric();this.edges.push(a),this.edges.push(c)},t.prototype.deleteDangles=function(){var r=this;Object.keys(this.nodes).map(function(s){return r.nodes[s]}).forEach(function(s){return r._removeIfDangle(s)})},t.prototype._removeIfDangle=function(r){var s=this;if(r.innerEdges.length<=1){var a=r.getOuterEdges().map(function(c){return c.to});this.removeNode(r),a.forEach(function(c){return s._removeIfDangle(c)})}},t.prototype.deleteCutEdges=function(){var r=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(s){s.label===s.symetric.label&&(r.removeEdge(s.symetric),r.removeEdge(s))})},t.prototype._computeNextCWEdges=function(r){var s=this;r===void 0?Object.keys(this.nodes).forEach(function(a){return s._computeNextCWEdges(s.nodes[a])}):r.getOuterEdges().forEach(function(a,c){r.getOuterEdge((c===0?r.getOuterEdges().length:c)-1).symetric.next=a})},t.prototype._computeNextCCWEdges=function(r,s){for(var a,c,h=r.getOuterEdges(),g=h.length-1;g>=0;--g){var v=h[g],w=v.symetric,x=void 0,T=void 0;v.label===s&&(x=v),w.label===s&&(T=w),x&&T&&(T&&(c=T),x&&(c&&(c.next=x,c=void 0),a||(a=x)))}c&&(c.next=a)},t.prototype._findLabeledEdgeRings=function(){var r=[],s=0;return this.edges.forEach(function(a){if(!(a.label>=0)){r.push(a);var c=a;do c.label=s,c=c.next;while(!a.isEqual(c));s++}}),r},t.prototype.getEdgeRings=function(){var r=this;this._computeNextCWEdges(),this.edges.forEach(function(a){a.label=void 0}),this._findLabeledEdgeRings().forEach(function(a){r._findIntersectionNodes(a).forEach(function(c){r._computeNextCCWEdges(c,a.label)})});var s=[];return this.edges.forEach(function(a){a.ring||s.push(r._findEdgeRing(a))}),s},t.prototype._findIntersectionNodes=function(r){var s=[],a=r,c=function(){var h=0;a.from.getOuterEdges().forEach(function(g){g.label===r.label&&++h}),h>1&&s.push(a.from),a=a.next};do c();while(!r.isEqual(a));return s},t.prototype._findEdgeRing=function(r){var s=r,a=new Mx;do a.push(s),s.ring=a,s=s.next;while(!r.isEqual(s));return a},t.prototype.removeNode=function(r){var s=this;r.getOuterEdges().forEach(function(a){return s.removeEdge(a)}),r.innerEdges.forEach(function(a){return s.removeEdge(a)}),delete this.nodes[r.id]},t.prototype.removeEdge=function(r){this.edges=this.edges.filter(function(s){return!s.isEqual(r)}),r.deleteEdge()},t}();function Ix(t,r){var s=!0;return se(t,function(a){se(r,function(c){if(s===!1)return!1;s=function(h,g){switch(h.type){case"Point":switch(g.type){case"Point":return v=h.coordinates,w=g.coordinates,!(v[0]===w[0]&&v[1]===w[1]);case"LineString":return!Lx(g,h);case"Polygon":return!Qe(h,g)}break;case"LineString":switch(g.type){case"Point":return!Lx(h,g);case"LineString":return!function(x,T){return cn(x,T).features.length>0}(h,g);case"Polygon":return!Rx(g,h)}break;case"Polygon":switch(g.type){case"Point":return!Qe(g,h);case"LineString":return!Rx(h,g);case"Polygon":return!function(x,T){for(var k=0,P=x.coordinates[0];k<P.length;k++)if(Qe(P[k],T))return!0;for(var O=0,N=T.coordinates[0];O<N.length;O++)if(Qe(N[O],x))return!0;return cn(Mn(x),Mn(T)).features.length>0}(g,h)}}var v,w;return!1}(a.geometry,c.geometry)})}),s}function Lx(t,r){for(var s=0;s<t.coordinates.length-1;s++)if(zP(t.coordinates[s],t.coordinates[s+1],r.coordinates))return!0;return!1}function Rx(t,r){for(var s=0,a=r.coordinates;s<a.length;s++)if(Qe(a[s],t))return!0;return cn(r,Mn(t)).features.length>0}function zP(t,r,s){var a=s[0]-t[0],c=s[1]-t[1],h=r[0]-t[0],g=r[1]-t[1];return a*g-c*h==0&&(Math.abs(h)>=Math.abs(g)?h>0?t[0]<=s[0]&&s[0]<=r[0]:r[0]<=s[0]&&s[0]<=t[0]:g>0?t[1]<=s[1]&&s[1]<=r[1]:r[1]<=s[1]&&s[1]<=t[1])}function Ax(t,r){return!(t[0]>r[0])&&!(t[2]<r[2])&&!(t[1]>r[1])&&!(t[3]<r[3])}function Xy(t,r){return t[0]===r[0]&&t[1]===r[1]}function OP(t,r){return[(t[0]+r[0])/2,(t[1]+r[1])/2]}function zx(t,r){for(var s=!1,a=!1,c=t.coordinates.length,h=0;h<c&&!s&&!a;){for(var g=0;g<r.coordinates.length-1;g++){var v=!0;g!==0&&g!==r.coordinates.length-2||(v=!1),Dx(r.coordinates[g],r.coordinates[g+1],t.coordinates[h],v)?s=!0:a=!0}h++}return s&&a}function Ox(t,r){return cn(t,Un(r)).features.length>0}function Nx(t,r){for(var s=!1,a=!1,c=t.coordinates.length,h=0;h<c&&(!s||!a);h++)Qe(f(t.coordinates[h]),r)?s=!0:a=!0;return a&&s}function Dx(t,r,s,a){var c=s[0]-t[0],h=s[1]-t[1],g=r[0]-t[0],v=r[1]-t[1];return c*v-h*g==0&&(a?Math.abs(g)>=Math.abs(v)?g>0?t[0]<=s[0]&&s[0]<=r[0]:r[0]<=s[0]&&s[0]<=t[0]:v>0?t[1]<=s[1]&&s[1]<=r[1]:r[1]<=s[1]&&s[1]<=t[1]:Math.abs(g)>=Math.abs(v)?g>0?t[0]<s[0]&&s[0]<r[0]:r[0]<s[0]&&s[0]<t[0]:v>0?t[1]<s[1]&&s[1]<r[1]:r[1]<s[1]&&s[1]<t[1])}var za=function(t){this.precision=t&&t.precision?t.precision:17,this.direction=!(!t||!t.direction)&&t.direction,this.pseudoNode=!(!t||!t.pseudoNode)&&t.pseudoNode,this.objectComparator=t&&t.objectComparator?t.objectComparator:NP};function Fx(t){return t.coordinates.map(function(r){return{type:t.type.replace("Multi",""),coordinates:r}})}function Bx(t,r){return t.hasOwnProperty("coordinates")?t.coordinates.length===r.coordinates.length:t.length===r.length}function NP(t,r){return bc(t,r,{strict:!0})}za.prototype.compare=function(t,r){if(t.type!==r.type||!Bx(t,r))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,r.coordinates);case"LineString":return this.compareLine(t.coordinates,r.coordinates,0,!1);case"Polygon":return this.comparePolygon(t,r);case"Feature":return this.compareFeature(t,r);default:if(t.type.indexOf("Multi")===0){var s=this,a=Fx(t),c=Fx(r);return a.every(function(h){return this.some(function(g){return s.compare(h,g)})},c)}}return!1},za.prototype.compareCoord=function(t,r){if(t.length!==r.length)return!1;for(var s=0;s<t.length;s++)if(t[s].toFixed(this.precision)!==r[s].toFixed(this.precision))return!1;return!0},za.prototype.compareLine=function(t,r,s,a){if(!Bx(t,r))return!1;var c=this.pseudoNode?t:this.removePseudo(t),h=this.pseudoNode?r:this.removePseudo(r);if(!a||this.compareCoord(c[0],h[0])||(h=this.fixStartIndex(h,c))){var g=this.compareCoord(c[s],h[s]);return this.direction||g?this.comparePath(c,h):!!this.compareCoord(c[s],h[h.length-(1+s)])&&this.comparePath(c.slice().reverse(),h)}},za.prototype.fixStartIndex=function(t,r){for(var s,a=-1,c=0;c<t.length;c++)if(this.compareCoord(t[c],r[0])){a=c;break}return a>=0&&(s=[].concat(t.slice(a,t.length),t.slice(1,a+1))),s},za.prototype.comparePath=function(t,r){var s=this;return t.every(function(a,c){return s.compareCoord(a,this[c])},r)},za.prototype.comparePolygon=function(t,r){if(this.compareLine(t.coordinates[0],r.coordinates[0],1,!0)){var s=t.coordinates.slice(1,t.coordinates.length),a=r.coordinates.slice(1,r.coordinates.length),c=this;return s.every(function(h){return this.some(function(g){return c.compareLine(h,g,1,!0)})},a)}return!1},za.prototype.compareFeature=function(t,r){return!(t.id!==r.id||!this.objectComparator(t.properties,r.properties)||!this.compareBBox(t,r))&&this.compare(t.geometry,r.geometry)},za.prototype.compareBBox=function(t,r){return!!(!t.bbox&&!r.bbox||t.bbox&&r.bbox&&this.compareCoord(t.bbox,r.bbox))},za.prototype.removePseudo=function(t){return t};var jx=za;function Hx(t,r){var s=!1;return se(t,function(a){se(r,function(c){if(s===!0)return!0;s=!Ix(a.geometry,c.geometry)})}),s}var DP=Vo(function(t){function r(s,a,c,h){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(s,a,c,h)}r.prototype.run=function(s,a,c,h){this._init(s,a,c,h);for(var g=0;g<this._datasetLength;g++)if(this._visited[g]!==1){this._visited[g]=1;var v=this._regionQuery(g);if(v.length<this.minPts)this.noise.push(g);else{var w=this.clusters.length;this.clusters.push([]),this._addToCluster(g,w),this._expandCluster(w,v)}}return this.clusters},r.prototype._init=function(s,a,c,h){if(s){if(!(s instanceof Array))throw Error("Dataset must be of type array, "+typeof s+" given");this.dataset=s,this.clusters=[],this.noise=[],this._datasetLength=s.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}a&&(this.epsilon=a),c&&(this.minPts=c),h&&(this.distance=h)},r.prototype._expandCluster=function(s,a){for(var c=0;c<a.length;c++){var h=a[c];if(this._visited[h]!==1){this._visited[h]=1;var g=this._regionQuery(h);g.length>=this.minPts&&(a=this._mergeArrays(a,g))}this._assigned[h]!==1&&this._addToCluster(h,s)}},r.prototype._addToCluster=function(s,a){this.clusters[a].push(s),this._assigned[s]=1},r.prototype._regionQuery=function(s){for(var a=[],c=0;c<this._datasetLength;c++)this.distance(this.dataset[s],this.dataset[c])<this.epsilon&&a.push(c);return a},r.prototype._mergeArrays=function(s,a){for(var c=a.length,h=0;h<c;h++){var g=a[h];s.indexOf(g)<0&&s.push(g)}return s},r.prototype._euclideanDistance=function(s,a){for(var c=0,h=Math.min(s.length,a.length);h--;)c+=(s[h]-a[h])*(s[h]-a[h]);return Math.sqrt(c)},t.exports&&(t.exports=r)}),FP=Vo(function(t){function r(s,a,c){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(s,a,c)}r.prototype.init=function(s,a,c){this.assignments=[],this.centroids=[],s!==void 0&&(this.dataset=s),a!==void 0&&(this.k=a),c!==void 0&&(this.distance=c)},r.prototype.run=function(s,a){this.init(s,a);for(var c=this.dataset.length,h=0;h<this.k;h++)this.centroids[h]=this.randomCentroid();for(var g=!0;g;){g=this.assign();for(var v=0;v<this.k;v++){for(var w=new Array(P),x=0,T=0;T<P;T++)w[T]=0;for(var k=0;k<c;k++){var P=this.dataset[k].length;if(v===this.assignments[k]){for(T=0;T<P;T++)w[T]+=this.dataset[k][T];x++}}if(x>0){for(T=0;T<P;T++)w[T]/=x;this.centroids[v]=w}else this.centroids[v]=this.randomCentroid(),g=!0}}return this.getClusters()},r.prototype.randomCentroid=function(){var s,a,c=this.dataset.length-1;do a=Math.round(Math.random()*c),s=this.dataset[a];while(this.centroids.indexOf(s)>=0);return s},r.prototype.assign=function(){for(var s,a=!1,c=this.dataset.length,h=0;h<c;h++)(s=this.argmin(this.dataset[h],this.centroids,this.distance))!=this.assignments[h]&&(this.assignments[h]=s,a=!0);return a},r.prototype.getClusters=function(){for(var s,a=new Array(this.k),c=0;c<this.assignments.length;c++)a[s=this.assignments[c]]===void 0&&(a[s]=[]),a[s].push(c);return a},r.prototype.argmin=function(s,a,c){for(var h,g=Number.MAX_VALUE,v=0,w=a.length,x=0;x<w;x++)(h=c(s,a[x]))<g&&(g=h,v=x);return v},r.prototype.distance=function(s,a){for(var c=0,h=Math.min(s.length,a.length);h--;){var g=s[h]-a[h];c+=g*g}return Math.sqrt(c)},t.exports&&(t.exports=r)}),Ux=Vo(function(t){function r(s,a,c){this._queue=[],this._priorities=[],this._sorting="desc",this._init(s,a,c)}r.prototype.insert=function(s,a){for(var c=this._queue.length,h=c;h--;){var g=this._priorities[h];this._sorting==="desc"?a>g&&(c=h):a<g&&(c=h)}this._insertAt(s,a,c)},r.prototype.remove=function(s){for(var a=this._queue.length;a--;)if(s===this._queue[a]){this._queue.splice(a,1),this._priorities.splice(a,1);break}},r.prototype.forEach=function(s){this._queue.forEach(s)},r.prototype.getElements=function(){return this._queue},r.prototype.getElementPriority=function(s){return this._priorities[s]},r.prototype.getPriorities=function(){return this._priorities},r.prototype.getElementsWithPriorities=function(){for(var s=[],a=0,c=this._queue.length;a<c;a++)s.push([this._queue[a],this._priorities[a]]);return s},r.prototype._init=function(s,a,c){if(s&&a){if(this._queue=[],this._priorities=[],s.length!==a.length)throw new Error("Arrays must have the same length");for(var h=0;h<s.length;h++)this.insert(s[h],a[h])}c&&(this._sorting=c)},r.prototype._insertAt=function(s,a,c){this._queue.length===c?(this._queue.push(s),this._priorities.push(a)):(this._queue.splice(c,0,s),this._priorities.splice(c,0,a))},t.exports&&(t.exports=r)}),BP=Vo(function(t){if(t.exports)var r=Ux;function s(a,c,h,g){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(a,c,h,g)}s.prototype.run=function(a,c,h,g){this._init(a,c,h,g);for(var v=0,w=this.dataset.length;v<w;v++)if(this._processed[v]!==1){this._processed[v]=1,this.clusters.push([v]);var x=this.clusters.length-1;this._orderedList.push(v);var T=new r(null,null,"asc"),k=this._regionQuery(v);this._distanceToCore(v)!==void 0&&(this._updateQueue(v,k,T),this._expandCluster(x,T))}return this.clusters},s.prototype.getReachabilityPlot=function(){for(var a=[],c=0,h=this._orderedList.length;c<h;c++){var g=this._orderedList[c],v=this._reachability[g];a.push([g,v])}return a},s.prototype._init=function(a,c,h,g){if(a){if(!(a instanceof Array))throw Error("Dataset must be of type array, "+typeof a+" given");this.dataset=a,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}c&&(this.epsilon=c),h&&(this.minPts=h),g&&(this.distance=g)},s.prototype._updateQueue=function(a,c,h){var g=this;this._coreDistance=this._distanceToCore(a),c.forEach(function(v){if(g._processed[v]===void 0){var w=g.distance(g.dataset[a],g.dataset[v]),x=Math.max(g._coreDistance,w);g._reachability[v]===void 0?(g._reachability[v]=x,h.insert(v,x)):x<g._reachability[v]&&(g._reachability[v]=x,h.remove(v),h.insert(v,x))}})},s.prototype._expandCluster=function(a,c){for(var h=c.getElements(),g=0,v=h.length;g<v;g++){var w=h[g];if(this._processed[w]===void 0){var x=this._regionQuery(w);this._processed[w]=1,this.clusters[a].push(w),this._orderedList.push(w),this._distanceToCore(w)!==void 0&&(this._updateQueue(w,x,c),this._expandCluster(a,c))}}},s.prototype._distanceToCore=function(a){for(var c=this.epsilon,h=0;h<c;h++)if(this._regionQuery(a,h).length>=this.minPts)return h},s.prototype._regionQuery=function(a,c){c=c||this.epsilon;for(var h=[],g=0,v=this.dataset.length;g<v;g++)this.distance(this.dataset[a],this.dataset[g])<c&&h.push(g);return h},s.prototype._euclideanDistance=function(a,c){for(var h=0,g=Math.min(a.length,c.length);g--;)h+=(a[g]-c[g])*(a[g]-c[g]);return Math.sqrt(h)},t.exports&&(t.exports=s)}),jP=Vo(function(t){t.exports&&(t.exports={DBSCAN:DP,KMEANS:FP,OPTICS:BP,PriorityQueue:Ux})}),Gx=function(t,r,s){for(var a=t.length,c=0,h=0;h<a;h++){var g=(t[h]||0)-(r[h]||0);c+=g*g}return s?Math.sqrt(c):c},HP=Gx,UP=function(t,r,s){var a=Math.abs(t-r);return s?a:a*a},GP=Gx,qP=function(t,r){for(var s={},a=[],c=r<<2,h=t.length,g=t[0].length>0;a.length<r&&c-- >0;){var v=t[Math.floor(Math.random()*h)],w=g?v.join("_"):""+v;s[w]||(s[w]=!0,a.push(v))}if(a.length<r)throw new Error("Error initializating clusters");return a},VP=function(t,r){var s=t[0].length?HP:UP,a=[],c=t.length,h=t[0].length>0,g=t[Math.floor(Math.random()*c)];for(h&&g.join("_"),a.push(g);a.length<r;){for(var v=[],w=a.length,x=0,T=[],k=0;k<c;k++){for(var P=1/0,O=0;O<w;O++){var N=s(t[k],a[O]);N<=P&&(P=N)}v[k]=P}for(var F=0;F<c;F++)x+=v[F];for(var M=0;M<c;M++)T[M]={i:M,v:t[M],pr:v[M]/x,cs:0};T.sort(function(q,Y){return q.pr-Y.pr}),T[0].cs=T[0].pr;for(var W=1;W<c;W++)T[W].cs=T[W-1].cs+T[W].pr;for(var it=Math.random(),D=0;D<c-1&&T[D++].cs<it;);a.push(T[D-1].v)}return a};function qx(t,r,s){s=s||[];for(var a=0;a<t;a++)s[a]=r;return s}var WP=function(t,r,s,a){var c=[],h=[],g=[],v=[],w=!1,x=a||1e4,T=t.length,k=t[0].length,P=k>0,O=[];if(s)c=s=="kmrand"?qP(t,r):s=="kmpp"?VP(t,r):s;else for(var N={};c.length<r;){var F=Math.floor(Math.random()*T);N[F]||(N[F]=!0,c.push(t[F]))}do{qx(r,0,O);for(var M=0;M<T;M++){for(var W=1/0,it=0,D=0;D<r;D++)(v=P?GP(t[M],c[D]):Math.abs(t[M]-c[D]))<=W&&(W=v,it=D);g[M]=it,O[it]++}for(var q=[],Y=(h=[],0);Y<r;Y++)q[Y]=P?qx(k,0,q[Y]):0,h[Y]=c[Y];if(P){for(var tt=0;tt<r;tt++)c[tt]=[];for(var J=0;J<T;J++)for(var Rt=q[g[J]],Et=t[J],Nt=0;Nt<k;Nt++)Rt[Nt]+=Et[Nt];w=!0;for(var Tt=0;Tt<r;Tt++){for(var jt=c[Tt],Mt=q[Tt],Pt=h[Tt],St=O[Tt],Dt=0;Dt<k;Dt++)jt[Dt]=Mt[Dt]/St||0;if(w){for(var It=0;It<k;It++)if(Pt[It]!=jt[It]){w=!1;break}}}}else{for(var Ut=0;Ut<T;Ut++)q[g[Ut]]+=t[Ut];for(var gt=0;gt<r;gt++)c[gt]=q[gt]/O[gt]||0;w=!0;for(var Ie=0;Ie<r;Ie++)if(h[Ie]!=c[Ie]){w=!1;break}}w=w||--x<=0}while(!w);return{it:1e4-x,k:r,idxs:g,centroids:c}};function ZP(t,r){return ft(Tl(t[0],t[1]))===ft(Tl(r[0],r[1]))}function Vx(t,r){if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error("Invalid GeoJSON object for "+r)}function Wx(t){for(var r=t,s=[];r.parent;)s.unshift(r),r=r.parent;return s}var Tm={search:function(t,r,s,a){t.cleanDirty();var c=(a=a||{}).heuristic||Tm.heuristics.manhattan,h=a.closest||!1,g=new Zx(function(F){return F.f}),v=r;for(r.h=c(r,s),g.push(r);g.size()>0;){var w=g.pop();if(w===s)return Wx(w);w.closed=!0;for(var x=t.neighbors(w),T=0,k=x.length;T<k;++T){var P=x[T];if(!P.closed&&!P.isWall()){var O=w.g+P.getCost(w),N=P.visited;(!N||O<P.g)&&(P.visited=!0,P.parent=w,P.h=P.h||c(P,s),P.g=O,P.f=P.g+P.h,t.markDirty(P),h&&(P.h<v.h||P.h===v.h&&P.g<v.g)&&(v=P),N?g.rescoreElement(P):g.push(P))}}}return h?Wx(v):[]},heuristics:{manhattan:function(t,r){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},diagonal:function(t,r){var s=Math.sqrt(2),a=Math.abs(r.x-t.x),c=Math.abs(r.y-t.y);return 1*(a+c)+(s-2)*Math.min(a,c)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};function qh(t,r){r=r||{},this.nodes=[],this.diagonal=!!r.diagonal,this.grid=[];for(var s=0;s<t.length;s++){this.grid[s]=[];for(var a=0,c=t[s];a<c.length;a++){var h=new Sm(s,a,c[a]);this.grid[s][a]=h,this.nodes.push(h)}}this.init()}function Sm(t,r,s){this.x=t,this.y=r,this.weight=s}function Zx(t){this.content=[],this.scoreFunction=t}function XP(t,r){for(var s=0;s<r.features.length;s++)if(Qe(t,r.features[s]))return!0;return!1}function Xx(t){return function(){return t}}function YP(t){return t[0]}function KP(t){return t[1]}function Cm(){this._=null}function Pm(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function jp(t,r){var s=r,a=r.R,c=s.U;c?c.L===s?c.L=a:c.R=a:t._=a,a.U=c,s.U=a,s.R=a.L,s.R&&(s.R.U=s),a.L=s}function Hp(t,r){var s=r,a=r.L,c=s.U;c?c.L===s?c.L=a:c.R=a:t._=a,a.U=c,s.U=a,s.L=a.R,s.L&&(s.L.U=s),a.R=s}function Yx(t){for(;t.L;)t=t.L;return t}function Up(t,r,s,a){var c=[null,null],h=Jn.push(c)-1;return c.left=t,c.right=r,s&&Mm(c,t,r,s),a&&Mm(c,r,t,a),Xo[t.index].halfedges.push(h),Xo[r.index].halfedges.push(h),c}function Gp(t,r,s){var a=[r,s];return a.left=t,a}function Mm(t,r,s,a){t[0]||t[1]?t.left===s?t[1]=a:t[0]=a:(t[0]=a,t.left=r,t.right=s)}function JP(t,r,s,a,c){var h,g=t[0],v=t[1],w=g[0],x=g[1],T=0,k=1,P=v[0]-w,O=v[1]-x;if(h=r-w,P||!(h>0)){if(h/=P,P<0){if(h<T)return;h<k&&(k=h)}else if(P>0){if(h>k)return;h>T&&(T=h)}if(h=a-w,P||!(h<0)){if(h/=P,P<0){if(h>k)return;h>T&&(T=h)}else if(P>0){if(h<T)return;h<k&&(k=h)}if(h=s-x,O||!(h>0)){if(h/=O,O<0){if(h<T)return;h<k&&(k=h)}else if(O>0){if(h>k)return;h>T&&(T=h)}if(h=c-x,O||!(h<0)){if(h/=O,O<0){if(h>k)return;h>T&&(T=h)}else if(O>0){if(h<T)return;h<k&&(k=h)}return!(T>0||k<1)||(T>0&&(t[0]=[w+T*P,x+T*O]),k<1&&(t[1]=[w+k*P,x+k*O]),!0)}}}}}function QP(t,r,s,a,c){var h=t[1];if(h)return!0;var g,v,w=t[0],x=t.left,T=t.right,k=x[0],P=x[1],O=T[0],N=T[1],F=(k+O)/2,M=(P+N)/2;if(N===P){if(F<r||F>=a)return;if(k>O){if(w){if(w[1]>=c)return}else w=[F,s];h=[F,c]}else{if(w){if(w[1]<s)return}else w=[F,c];h=[F,s]}}else if(v=M-(g=(k-O)/(N-P))*F,g<-1||g>1)if(k>O){if(w){if(w[1]>=c)return}else w=[(s-v)/g,s];h=[(c-v)/g,c]}else{if(w){if(w[1]<s)return}else w=[(c-v)/g,c];h=[(s-v)/g,s]}else if(P<N){if(w){if(w[0]>=a)return}else w=[r,g*r+v];h=[a,g*a+v]}else{if(w){if(w[0]<r)return}else w=[a,g*a+v];h=[r,g*r+v]}return t[0]=w,t[1]=h,!0}function $P(t,r){var s=t.site,a=r.left,c=r.right;return s===c&&(c=a,a=s),c?Math.atan2(c[1]-a[1],c[0]-a[0]):(s===a?(a=r[1],c=r[0]):(a=r[0],c=r[1]),Math.atan2(a[0]-c[0],c[1]-a[1]))}function Kx(t,r){return r[+(r.left!==t.site)]}function tM(t,r){return r[+(r.left===t.site)]}qh.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)Tm.cleanNode(this.nodes[t])},qh.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)Tm.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},qh.prototype.markDirty=function(t){this.dirtyNodes.push(t)},qh.prototype.neighbors=function(t){var r=[],s=t.x,a=t.y,c=this.grid;return c[s-1]&&c[s-1][a]&&r.push(c[s-1][a]),c[s+1]&&c[s+1][a]&&r.push(c[s+1][a]),c[s]&&c[s][a-1]&&r.push(c[s][a-1]),c[s]&&c[s][a+1]&&r.push(c[s][a+1]),this.diagonal&&(c[s-1]&&c[s-1][a-1]&&r.push(c[s-1][a-1]),c[s+1]&&c[s+1][a-1]&&r.push(c[s+1][a-1]),c[s-1]&&c[s-1][a+1]&&r.push(c[s-1][a+1]),c[s+1]&&c[s+1][a+1]&&r.push(c[s+1][a+1])),r},qh.prototype.toString=function(){for(var t,r,s,a,c=[],h=this.grid,g=0,v=h.length;g<v;g++){for(t=[],s=0,a=(r=h[g]).length;s<a;s++)t.push(r[s].weight);c.push(t.join(" "))}return c.join(`
`)},Sm.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},Sm.prototype.getCost=function(t){return t&&t.x!==this.x&&t.y!==this.y?1.41421*this.weight:this.weight},Sm.prototype.isWall=function(){return this.weight===0},Zx.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],r=this.content.pop();return this.content.length>0&&(this.content[0]=r,this.bubbleUp(0)),t},remove:function(t){var r=this.content.indexOf(t),s=this.content.pop();r!==this.content.length-1&&(this.content[r]=s,this.scoreFunction(s)<this.scoreFunction(t)?this.sinkDown(r):this.bubbleUp(r))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var r=this.content[t];t>0;){var s=(t+1>>1)-1,a=this.content[s];if(!(this.scoreFunction(r)<this.scoreFunction(a)))break;this.content[s]=r,this.content[t]=a,t=s}},bubbleUp:function(t){for(var r=this.content.length,s=this.content[t],a=this.scoreFunction(s);;){var c,h=t+1<<1,g=h-1,v=null;if(g<r){var w=this.content[g];(c=this.scoreFunction(w))<a&&(v=g)}if(h<r){var x=this.content[h];this.scoreFunction(x)<(v===null?a:c)&&(v=h)}if(v===null)break;this.content[t]=this.content[v],this.content[v]=s,t=v}}},Cm.prototype={constructor:Cm,insert:function(t,r){var s,a,c;if(t){if(r.P=t,r.N=t.N,t.N&&(t.N.P=r),t.N=r,t.R){for(t=t.R;t.L;)t=t.L;t.L=r}else t.R=r;s=t}else this._?(t=Yx(this._),r.P=null,r.N=t,t.P=t.L=r,s=t):(r.P=r.N=null,this._=r,s=null);for(r.L=r.R=null,r.U=s,r.C=!0,t=r;s&&s.C;)s===(a=s.U).L?(c=a.R)&&c.C?(s.C=c.C=!1,a.C=!0,t=a):(t===s.R&&(jp(this,s),s=(t=s).U),s.C=!1,a.C=!0,Hp(this,a)):(c=a.L)&&c.C?(s.C=c.C=!1,a.C=!0,t=a):(t===s.L&&(Hp(this,s),s=(t=s).U),s.C=!1,a.C=!0,jp(this,a)),s=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var r,s,a,c=t.U,h=t.L,g=t.R;if(s=h?g?Yx(g):h:g,c?c.L===t?c.L=s:c.R=s:this._=s,h&&g?(a=s.C,s.C=t.C,s.L=h,h.U=s,s!==g?(c=s.U,s.U=t.U,t=s.R,c.L=t,s.R=g,g.U=s):(s.U=c,c=s,t=s.R)):(a=t.C,t=s),t&&(t.U=c),!a)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===c.L){if((r=c.R).C&&(r.C=!1,c.C=!0,jp(this,c),r=c.R),r.L&&r.L.C||r.R&&r.R.C){r.R&&r.R.C||(r.L.C=!1,r.C=!0,Hp(this,r),r=c.R),r.C=c.C,c.C=r.R.C=!1,jp(this,c),t=this._;break}}else if((r=c.L).C&&(r.C=!1,c.C=!0,Hp(this,c),r=c.L),r.L&&r.L.C||r.R&&r.R.C){r.L&&r.L.C||(r.R.C=!1,r.C=!0,jp(this,r),r=c.L),r.C=c.C,c.C=r.L.C=!1,Hp(this,c),t=this._;break}r.C=!0,t=c,c=c.U}while(!t.C);t&&(t.C=!1)}}};var Yy,Jx=[];function eM(){Pm(this),this.x=this.y=this.arc=this.site=this.cy=null}function Vh(t){var r=t.P,s=t.N;if(r&&s){var a=r.site,c=t.site,h=s.site;if(a!==h){var g=c[0],v=c[1],w=a[0]-g,x=a[1]-v,T=h[0]-g,k=h[1]-v,P=2*(w*k-x*T);if(!(P>=-sM)){var O=w*w+x*x,N=T*T+k*k,F=(k*O-x*N)/P,M=(w*N-T*O)/P,W=Jx.pop()||new eM;W.arc=t,W.site=c,W.x=F+g,W.y=(W.cy=M+v)+Math.sqrt(F*F+M*M),t.circle=W;for(var it=null,D=qp._;D;)if(W.y<D.y||W.y===D.y&&W.x<=D.x){if(!D.L){it=D.P;break}D=D.L}else{if(!D.R){it=D;break}D=D.R}qp.insert(it,W),it||(Yy=W)}}}}function Wh(t){var r=t.circle;r&&(r.P||(Yy=r.N),qp.remove(r),Jx.push(r),Pm(r),t.circle=null)}var Qx=[];function rM(){Pm(this),this.edge=this.site=this.circle=null}function $x(t){var r=Qx.pop()||new rM;return r.site=t,r}function Ky(t){Wh(t),Zh.remove(t),Qx.push(t),Pm(t)}function iM(t){var r=t.circle,s=r.x,a=r.cy,c=[s,a],h=t.P,g=t.N,v=[t];Ky(t);for(var w=h;w.circle&&Math.abs(s-w.circle.x)<xi&&Math.abs(a-w.circle.cy)<xi;)h=w.P,v.unshift(w),Ky(w),w=h;v.unshift(w),Wh(w);for(var x=g;x.circle&&Math.abs(s-x.circle.x)<xi&&Math.abs(a-x.circle.cy)<xi;)g=x.N,v.push(x),Ky(x),x=g;v.push(x),Wh(x);var T,k=v.length;for(T=1;T<k;++T)x=v[T],w=v[T-1],Mm(x.edge,w.site,x.site,c);w=v[0],(x=v[k-1]).edge=Up(w.site,x.site,null,c),Vh(w),Vh(x)}function nM(t){for(var r,s,a,c,h=t[0],g=t[1],v=Zh._;v;)if((a=t_(v,g)-h)>xi)v=v.L;else{if(!((c=h-oM(v,g))>xi)){a>-xi?(r=v.P,s=v):c>-xi?(r=v,s=v.N):r=s=v;break}if(!v.R){r=v;break}v=v.R}(function(Y){Xo[Y.index]={site:Y,halfedges:[]}})(t);var w=$x(t);if(Zh.insert(r,w),r||s){if(r===s)return Wh(r),s=$x(r.site),Zh.insert(w,s),w.edge=s.edge=Up(r.site,w.site),Vh(r),void Vh(s);if(s){Wh(r),Wh(s);var x=r.site,T=x[0],k=x[1],P=t[0]-T,O=t[1]-k,N=s.site,F=N[0]-T,M=N[1]-k,W=2*(P*M-O*F),it=P*P+O*O,D=F*F+M*M,q=[(M*it-O*D)/W+T,(P*D-F*it)/W+k];Mm(s.edge,x,N,q),w.edge=Up(x,t,null,q),s.edge=Up(t,N,null,q),Vh(r),Vh(s)}else w.edge=Up(r.site,w.site)}}function t_(t,r){var s=t.site,a=s[0],c=s[1],h=c-r;if(!h)return a;var g=t.P;if(!g)return-1/0;var v=(s=g.site)[0],w=s[1],x=w-r;if(!x)return v;var T=v-a,k=1/h-1/x,P=T/x;return k?(-P+Math.sqrt(P*P-2*k*(T*T/(-2*x)-w+x/2+c-h/2)))/k+a:(a+v)/2}function oM(t,r){var s=t.N;if(s)return t_(s,r);var a=t.site;return a[1]===r?a[0]:1/0}var Zh,Xo,qp,Jn,xi=1e-6,sM=1e-12;function aM(t,r){return r[1]-t[1]||r[0]-t[0]}function Jy(t,r){var s,a,c,h=t.sort(aM).pop();for(Jn=[],Xo=new Array(t.length),Zh=new Cm,qp=new Cm;;)if(c=Yy,h&&(!c||h[1]<c.y||h[1]===c.y&&h[0]<c.x))h[0]===s&&h[1]===a||(nM(h),s=h[0],a=h[1]),h=t.pop();else{if(!c)break;iM(c.arc)}if(function(){for(var T,k,P,O,N=0,F=Xo.length;N<F;++N)if((T=Xo[N])&&(O=(k=T.halfedges).length)){var M=new Array(O),W=new Array(O);for(P=0;P<O;++P)M[P]=P,W[P]=$P(T,Jn[k[P]]);for(M.sort(function(it,D){return W[D]-W[it]}),P=0;P<O;++P)W[P]=k[M[P]];for(P=0;P<O;++P)k[P]=W[P]}}(),r){var g=+r[0][0],v=+r[0][1],w=+r[1][0],x=+r[1][1];(function(T,k,P,O){for(var N,F=Jn.length;F--;)QP(N=Jn[F],T,k,P,O)&&JP(N,T,k,P,O)&&(Math.abs(N[0][0]-N[1][0])>xi||Math.abs(N[0][1]-N[1][1])>xi)||delete Jn[F]})(g,v,w,x),function(T,k,P,O){var N,F,M,W,it,D,q,Y,tt,J,Rt,Et,Nt=Xo.length,Tt=!0;for(N=0;N<Nt;++N)if(F=Xo[N]){for(M=F.site,W=(it=F.halfedges).length;W--;)Jn[it[W]]||it.splice(W,1);for(W=0,D=it.length;W<D;)Rt=(J=tM(F,Jn[it[W]]))[0],Et=J[1],Y=(q=Kx(F,Jn[it[++W%D]]))[0],tt=q[1],(Math.abs(Rt-Y)>xi||Math.abs(Et-tt)>xi)&&(it.splice(W,0,Jn.push(Gp(M,J,Math.abs(Rt-T)<xi&&O-Et>xi?[T,Math.abs(Y-T)<xi?tt:O]:Math.abs(Et-O)<xi&&P-Rt>xi?[Math.abs(tt-O)<xi?Y:P,O]:Math.abs(Rt-P)<xi&&Et-k>xi?[P,Math.abs(Y-P)<xi?tt:k]:Math.abs(Et-k)<xi&&Rt-T>xi?[Math.abs(tt-k)<xi?Y:T,k]:null))-1),++D);D&&(Tt=!1)}if(Tt){var jt,Mt,Pt,St=1/0;for(N=0,Tt=null;N<Nt;++N)(F=Xo[N])&&(Pt=(jt=(M=F.site)[0]-T)*jt+(Mt=M[1]-k)*Mt)<St&&(St=Pt,Tt=F);if(Tt){var Dt=[T,k],It=[T,O],Ut=[P,O],gt=[P,k];Tt.halfedges.push(Jn.push(Gp(M=Tt.site,Dt,It))-1,Jn.push(Gp(M,It,Ut))-1,Jn.push(Gp(M,Ut,gt))-1,Jn.push(Gp(M,gt,Dt))-1)}}for(N=0;N<Nt;++N)(F=Xo[N])&&(F.halfedges.length||delete Xo[N])}(g,v,w,x)}this.edges=Jn,this.cells=Xo,Zh=qp=Jn=Xo=null}function lM(t){return(t=t.slice()).push(t[0]),y([t])}function e_(t,r,s,a){var c=(a=a||{}).steps||64,h=a.units||"kilometers",g=a.angle||0,v=a.pivot||t,w=a.properties||t.properties||{};if(!t)throw new Error("center is required");if(!r)throw new Error("xSemiAxis is required");if(!s)throw new Error("ySemiAxis is required");if(!mt(a))throw new Error("options must be an object");if(!ut(c))throw new Error("steps must be a number");if(!ut(g))throw new Error("angle must be a number");var x=A(t);if(h==="degrees")var T=ct(g);else r=Gh(t,r,90,{units:h}),s=Gh(t,s,0,{units:h}),r=A(r)[0]-x[0],s=A(s)[1]-x[1];for(var k=[],P=0;P<c;P+=1){var O=-360*P/c,N=r*s/Math.sqrt(Math.pow(s,2)+Math.pow(r,2)*Math.pow(r_(O),2)),F=r*s/Math.sqrt(Math.pow(r,2)+Math.pow(s,2)/Math.pow(r_(O),2));if(O<-90&&O>=-270&&(N=-N),O<-180&&O>=-360&&(F=-F),h==="degrees"){var M=N*Math.cos(T)+F*Math.sin(T),W=F*Math.cos(T)-N*Math.sin(T);N=M,F=W}k.push([N+x[0],F+x[1]])}return k.push(k[0]),h==="degrees"?y([k],w):kx(y([k],w),g,{pivot:v})}function r_(t){var r=t*Math.PI/180;return Math.tan(r)}function Qy(t,r){r===void 0&&(r={});var s=0,a=0,c=0;return ee(t,function(h,g,v){var w=r.weight?v==null?void 0:v[r.weight]:void 0;if(!ut(w=w??1))throw new Error("weight value must be a number for feature index "+g);(w=Number(w))>0&&Gt(h,function(x){s+=x[0]*w,a+=x[1]*w,c+=w})}),f([s/c,a/c],r.properties,r)}function i_(t,r,s,a,c){var h=a.tolerance||.001,g=0,v=0,w=0,x=0;if(kt(s,function(P){var O,N=(O=P.properties)===null||O===void 0?void 0:O.weight,F=N??1;if(!ut(F=Number(F)))throw new Error("weight value must be a number");if(F>0){x+=1;var M=F*nr(P,t);M===0&&(M=1);var W=F/M;g+=P.geometry.coordinates[0]*W,v+=P.geometry.coordinates[1]*W,w+=W}}),x<1)throw new Error("no features to measure");var T=g/w,k=v/w;return x===1||c===0||Math.abs(T-r[0])<h&&Math.abs(k-r[1])<h?f([T,k],{medianCandidates:a.medianCandidates}):(a.medianCandidates.push([T,k]),i_([T,k],t,s,a,c-1))}function n_(t,r){return{x:t[0]-r[0],y:t[1]-r[1]}}function cM(t,r){var s=0,a=0;Gt(t,function(c,h,g,v,w){w>s&&(s=w,a=h,r.push([]));var x=h-a,T=t.coordinates[w][x+1],k=c[0],P=c[1],O=T[0],N=T[1];r[w].push([.75*k+.25*O,.75*P+.25*N]),r[w].push([.25*k+.75*O,.25*P+.75*N])},!0),r.forEach(function(c){c.push(c[0])})}function uM(t,r){var s=0,a=0,c=0;Gt(t,function(h,g,v,w,x){w>c&&(c=w,a=g,r.push([[]])),x>s&&(s=x,a=g,r[w].push([]));var T=g-a,k=t.coordinates[w][x][T+1],P=h[0],O=h[1],N=k[0],F=k[1];r[w][x].push([.75*P+.25*N,.75*O+.25*F]),r[w][x].push([.25*P+.75*N,.25*O+.75*F])},!0),r.forEach(function(h){h.forEach(function(g){g.push(g[0])})})}function hM(t,r,s){s===void 0&&(s=2);var a=A(t),c=A(r),h=a[0]-c[0],g=a[1]-c[1];return s===1?Math.abs(h)+Math.abs(g):Math.pow(Math.pow(h,s)+Math.pow(g,s),1/s)}function o_(t,r){var s=(r=r||{}).threshold||1e4,a=r.p||2,c=r.binary||!1,h=r.alpha||-1,g=r.standardization||!1,v=[];kt(t,function(O){v.push(Xs(O))});for(var w=[],x=0;x<v.length;x++)w[x]=[];for(x=0;x<v.length;x++)for(var T=x;T<v.length;T++){x===T&&(w[x][T]=0);var k=hM(v[x],v[T],a);w[x][T]=k,w[T][x]=k}for(x=0;x<v.length;x++)for(T=0;T<v.length;T++)(k=w[x][T])!==0&&(w[x][T]=c?k<=s?1:0:k<=s?Math.pow(k,h):0);if(g)for(x=0;x<v.length;x++){var P=w[x].reduce(function(O,N){return O+N},0);for(T=0;T<v.length;T++)w[x][T]=w[x][T]/P}return w}function s_(t){for(var r=0,s=0,a=t;s<a.length;s++)r+=a[s];return r/t.length}function a_(t,r){return r===void 0&&(r={}),c_(t,"mercator",r)}function l_(t,r){return r===void 0&&(r={}),c_(t,"wgs84",r)}function c_(t,r,s){s===void 0&&(s={});var a=(s=s||{}).mutate;if(!t)throw new Error("geojson is required");return Array.isArray(t)&&ut(t[0])?t=r==="mercator"?u_(t):h_(t):(a!==!0&&(t=Ci(t)),Gt(t,function(c){var h=r==="mercator"?u_(c):h_(c);c[0]=h[0],c[1]=h[1]})),t}function u_(t){var r=Math.PI/180,s=6378137,a=20037508342789244e-9,c=[s*(Math.abs(t[0])<=180?t[0]:t[0]-360*function(h){return h<0?-1:h>0?1:0}(t[0]))*r,s*Math.log(Math.tan(.25*Math.PI+.5*t[1]*r))];return c[0]>a&&(c[0]=a),c[0]<-a&&(c[0]=-a),c[1]>a&&(c[1]=a),c[1]<-a&&(c[1]=-a),c}function h_(t){var r=180/Math.PI,s=6378137;return[t[0]*r/s,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/s)))*r]}Jy.prototype={constructor:Jy,polygons:function(){var t=this.edges;return this.cells.map(function(r){var s=r.halfedges.map(function(a){return Kx(r,t[a])});return s.data=r.site.data,s})},triangles:function(){var t=[],r=this.edges;return this.cells.forEach(function(s,a){if(h=(c=s.halfedges).length)for(var c,h,g,v,w,x,T=s.site,k=-1,P=r[c[h-1]],O=P.left===T?P.right:P.left;++k<h;)g=O,O=(P=r[c[k]]).left===T?P.right:P.left,g&&O&&a<g.index&&a<O.index&&(w=g,x=O,((v=T)[0]-x[0])*(w[1]-v[1])-(v[0]-w[0])*(x[1]-v[1])<0)&&t.push([T.data,g.data,O.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,r,s){for(var a,c,h=this,g=h._found||0,v=h.cells.length;!(c=h.cells[g]);)if(++g>=v)return null;var w=t-c.site[0],x=r-c.site[1],T=w*w+x*x;do c=h.cells[a=g],g=null,c.halfedges.forEach(function(k){var P=h.edges[k],O=P.left;if(O!==c.site&&O||(O=P.right)){var N=t-O[0],F=r-O[1],M=N*N+F*F;M<T&&(T=M,g=O.index)}});while(g!==null);return h._found=a,s==null||T<=s*s?c.site:null}};var dM=Object.freeze({__proto__:null,toMercator:a_,toWgs84:l_}),pM=function(){for(var t=0,r=0,s=arguments.length;r<s;r++)t+=arguments[r].length;var a=Array(t),c=0;for(r=0;r<s;r++)for(var h=arguments[r],g=0,v=h.length;g<v;g++,c++)a[c]=h[g];return a};function Vp(t){return Array.isArray(t)?m_(t):t&&t.bbox?m_(t.bbox):[360*g_(),180*g_()]}function d_(t,r){r===void 0&&(r={}),t==null&&(t=1);for(var s=[],a=0;a<t;a++)s.push(f(Vp(r.bbox)));return I(s)}function p_(t,r){r===void 0&&(r={}),t==null&&(t=1),ut(r.num_vertices)&&r.num_vertices!==void 0||(r.num_vertices=10),ut(r.max_radial_length)&&r.max_radial_length!==void 0||(r.max_radial_length=10);for(var s=[],a=function(h){var g,v=[],w=pM(Array(r.num_vertices+1)).map(Math.random);w.forEach(function(x,T,k){k[T]=T>0?x+k[T-1]:x}),w.forEach(function(x){x=2*x*Math.PI/w[w.length-1];var T=Math.random();v.push([T*(r.max_radial_length||10)*Math.sin(x),T*(r.max_radial_length||10)*Math.cos(x)])}),v[v.length-1]=v[0],v=v.map((g=Vp(r.bbox),function(x){return[x[0]+g[0],x[1]+g[1]]})),s.push(y([v]))},c=0;c<t;c++)a();return I(s)}function f_(t,r){if(r===void 0&&(r={}),!mt(r=r||{}))throw new Error("options is invalid");var s=r.bbox,a=r.num_vertices,c=r.max_length,h=r.max_rotation;t==null&&(t=1),(!ut(a)||a===void 0||a<2)&&(a=10),ut(c)&&c!==void 0||(c=1e-4),ut(h)&&h!==void 0||(h=Math.PI/8);for(var g=[],v=0;v<t;v++){for(var w=[Vp(s)],x=0;x<a-1;x++){var T=(x===0?2*Math.random()*Math.PI:Math.tan((w[x][1]-w[x-1][1])/(w[x][0]-w[x-1][0])))+(Math.random()-.5)*h*2,k=Math.random()*c;w.push([w[x][0]+k*Math.cos(T),w[x][1]+k*Math.sin(T)])}g.push(E(w))}return I(g)}function g_(){return Math.random()-.5}function m_(t){return[Math.random()*(t[2]-t[0])+t[0],Math.random()*(t[3]-t[1])+t[1]]}var fM=Object.freeze({__proto__:null,randomPosition:Vp,randomPoint:d_,randomPolygon:p_,randomLineString:f_});function v_(t,r){if(!t)throw new Error("geojson is required");if(t.type!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(r==null)throw new Error("filter is required");var s=[];return kt(t,function(a){Im(a.properties,r)&&s.push(a)}),I(s)}function $y(t,r,s){if(!t)throw new Error("geojson is required");if(t.type!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(r==null)throw new Error("property is required");for(var a=tb(t,r),c=Object.keys(a),h=0;h<c.length;h++){for(var g=c[h],v=a[g],w=[],x=0;x<v.length;x++)w.push(t.features[v[x]]);s(I(w),g,h)}}function y_(t,r,s,a){var c=a;return $y(t,r,function(h,g,v){c=v===0&&a===void 0?h:s(c,h,g,v)}),c}function tb(t,r){var s={};return kt(t,function(a,c){var h=a.properties||{};if(Object.prototype.hasOwnProperty.call(h,String(r))){var g=h[r];Object.prototype.hasOwnProperty.call(s,g)?s[g].push(c):s[g]=[c]}}),s}function Im(t,r){if(t===void 0)return!1;var s=typeof r;if(s==="number"||s==="string")return Object.prototype.hasOwnProperty.call(t,r);if(Array.isArray(r)){for(var a=0;a<r.length;a++)if(!Im(t,r[a]))return!1;return!0}return eb(t,r)}function eb(t,r){for(var s=Object.keys(r),a=0;a<s.length;a++){var c=s[a];if(t[c]!==r[c])return!1}return!0}function b_(t,r){if(!r)return{};if(!r.length)return{};for(var s={},a=0;a<r.length;a++){var c=r[a];Object.prototype.hasOwnProperty.call(t,c)&&(s[c]=t[c])}return s}var gM=Object.freeze({__proto__:null,getCluster:v_,clusterEach:$y,clusterReduce:y_,createBins:tb,applyFilter:Im,propertiesContainsFilter:eb,filterProperties:b_}),wc=function(t,r){this.next=null,this.key=t,this.data=r,this.left=null,this.right=null};/**
     * splaytree v3.1.0
     * Fast Splay tree for Node and browser
     *
     * @author Alexander Milevski <info@w8r.name>
     * @license MIT
     * @preserve
     */function mM(t,r){return t>r?1:t<r?-1:0}function xc(t,r,s){for(var a=new wc(null,null),c=a,h=a;;){var g=s(t,r.key);if(g<0){if(r.left===null)break;if(s(t,r.left.key)<0){var v=r.left;if(r.left=v.right,v.right=r,(r=v).left===null)break}h.left=r,h=r,r=r.left}else{if(!(g>0)||r.right===null||s(t,r.right.key)>0&&(v=r.right,r.right=v.left,v.left=r,(r=v).right===null))break;c.right=r,c=r,r=r.right}}return c.right=r.left,h.left=r.right,r.left=a.right,r.right=a.left,r}function rb(t,r,s,a){var c=new wc(t,r);if(s===null)return c.left=c.right=null,c;var h=a(t,(s=xc(t,s,a)).key);return h<0?(c.left=s.left,c.right=s,s.left=null):h>=0&&(c.right=s.right,c.left=s,s.right=null),c}function w_(t,r,s){var a=null,c=null;if(r){var h=s((r=xc(t,r,s)).key,t);h===0?(a=r.left,c=r.right):h<0?(c=r.right,r.right=null,a=r):(a=r.left,r.left=null,c=r)}return{left:a,right:c}}function ib(t,r,s,a,c){if(t){a(r+(s?" ":" ")+c(t)+`
`);var h=r+(s?"    ":"   ");t.left&&ib(t.left,h,!1,a,c),t.right&&ib(t.right,h,!0,a,c)}}var nb=function(){function t(r){r===void 0&&(r=mM),this._root=null,this._size=0,this._comparator=r}return t.prototype.insert=function(r,s){return this._size++,this._root=rb(r,s,this._root,this._comparator)},t.prototype.add=function(r,s){var a=new wc(r,s);this._root===null&&(a.left=a.right=null,this._size++,this._root=a);var c=this._comparator,h=xc(r,this._root,c),g=c(r,h.key);return g===0?this._root=h:(g<0?(a.left=h.left,a.right=h,h.left=null):g>0&&(a.right=h.right,a.left=h,h.right=null),this._size++,this._root=a),this._root},t.prototype.remove=function(r){this._root=this._remove(r,this._root,this._comparator)},t.prototype._remove=function(r,s,a){var c;return s===null?null:a(r,(s=xc(r,s,a)).key)===0?(s.left===null?c=s.right:(c=xc(r,s.left,a)).right=s.right,this._size--,c):s},t.prototype.pop=function(){var r=this._root;if(r){for(;r.left;)r=r.left;return this._root=xc(r.key,this._root,this._comparator),this._root=this._remove(r.key,this._root,this._comparator),{key:r.key,data:r.data}}return null},t.prototype.findStatic=function(r){for(var s=this._root,a=this._comparator;s;){var c=a(r,s.key);if(c===0)return s;s=c<0?s.left:s.right}return null},t.prototype.find=function(r){return this._root&&(this._root=xc(r,this._root,this._comparator),this._comparator(r,this._root.key)!==0)?null:this._root},t.prototype.contains=function(r){for(var s=this._root,a=this._comparator;s;){var c=a(r,s.key);if(c===0)return!0;s=c<0?s.left:s.right}return!1},t.prototype.forEach=function(r,s){for(var a=this._root,c=[],h=!1;!h;)a!==null?(c.push(a),a=a.left):c.length!==0?(a=c.pop(),r.call(s,a),a=a.right):h=!0;return this},t.prototype.range=function(r,s,a,c){for(var h=[],g=this._comparator,v=this._root;h.length!==0||v;)if(v)h.push(v),v=v.left;else{if(g((v=h.pop()).key,s)>0)break;if(g(v.key,r)>=0&&a.call(c,v))return this;v=v.right}return this},t.prototype.keys=function(){var r=[];return this.forEach(function(s){var a=s.key;return r.push(a)}),r},t.prototype.values=function(){var r=[];return this.forEach(function(s){var a=s.data;return r.push(a)}),r},t.prototype.min=function(){return this._root?this.minNode(this._root).key:null},t.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},t.prototype.minNode=function(r){if(r===void 0&&(r=this._root),r)for(;r.left;)r=r.left;return r},t.prototype.maxNode=function(r){if(r===void 0&&(r=this._root),r)for(;r.right;)r=r.right;return r},t.prototype.at=function(r){for(var s=this._root,a=!1,c=0,h=[];!a;)if(s)h.push(s),s=s.left;else if(h.length>0){if(s=h.pop(),c===r)return s;c++,s=s.right}else a=!0;return null},t.prototype.next=function(r){var s=this._root,a=null;if(r.right){for(a=r.right;a.left;)a=a.left;return a}for(var c=this._comparator;s;){var h=c(r.key,s.key);if(h===0)break;h<0?(a=s,s=s.left):s=s.right}return a},t.prototype.prev=function(r){var s=this._root,a=null;if(r.left!==null){for(a=r.left;a.right;)a=a.right;return a}for(var c=this._comparator;s;){var h=c(r.key,s.key);if(h===0)break;h<0?s=s.left:(a=s,s=s.right)}return a},t.prototype.clear=function(){return this._root=null,this._size=0,this},t.prototype.toList=function(){return function(r){for(var s=r,a=[],c=!1,h=new wc(null,null),g=h;!c;)s?(a.push(s),s=s.left):a.length>0?s=(s=g=g.next=a.pop()).right:c=!0;return g.next=null,h.next}(this._root)},t.prototype.load=function(r,s,a){s===void 0&&(s=[]),a===void 0&&(a=!1);var c=r.length,h=this._comparator;if(a&&ab(r,s,0,c-1,h),this._root===null)this._root=ob(r,s,0,c),this._size=c;else{var g=function(v,w,x){for(var T=new wc(null,null),k=T,P=v,O=w;P!==null&&O!==null;)x(P.key,O.key)<0?(k.next=P,P=P.next):(k.next=O,O=O.next),k=k.next;return P!==null?k.next=P:O!==null&&(k.next=O),T.next}(this.toList(),function(v,w){for(var x=new wc(null,null),T=x,k=0;k<v.length;k++)T=T.next=new wc(v[k],w[k]);return T.next=null,x.next}(r,s),h);c=this._size+c,this._root=sb({head:g},0,c)}return this},t.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),t.prototype.toString=function(r){r===void 0&&(r=function(a){return String(a.key)});var s=[];return ib(this._root,"",!0,function(a){return s.push(a)},r),s.join("")},t.prototype.update=function(r,s,a){var c=this._comparator,h=w_(r,this._root,c),g=h.left,v=h.right;c(r,s)<0?v=rb(s,a,v,c):g=rb(s,a,g,c),this._root=function(w,x,T){return x===null?w:(w===null||((x=xc(w.key,x,T)).left=w),x)}(g,v,c)},t.prototype.split=function(r){return w_(r,this._root,this._comparator)},t}();function ob(t,r,s,a){var c=a-s;if(c>0){var h=s+Math.floor(c/2),g=t[h],v=r[h],w=new wc(g,v);return w.left=ob(t,r,s,h),w.right=ob(t,r,h+1,a),w}return null}function sb(t,r,s){var a=s-r;if(a>0){var c=r+Math.floor(a/2),h=sb(t,r,c),g=t.head;return g.left=h,t.head=t.head.next,g.right=sb(t,c+1,s),g}return null}function ab(t,r,s,a,c){if(!(s>=a)){for(var h=t[s+a>>1],g=s-1,v=a+1;;){do g++;while(c(t[g],h)<0);do v--;while(c(t[v],h)>0);if(g>=v)break;var w=t[g];t[g]=t[v],t[v]=w,w=r[g],r[g]=r[v],r[v]=w}ab(t,r,s,v,c),ab(t,r,v+1,a,c)}}function ys(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function x_(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function po(t,r,s){return r&&x_(t.prototype,r),s&&x_(t,s),t}var Wp=function(t,r){return t.ll.x<=r.x&&r.x<=t.ur.x&&t.ll.y<=r.y&&r.y<=t.ur.y},lb=function(t,r){if(r.ur.x<t.ll.x||t.ur.x<r.ll.x||r.ur.y<t.ll.y||t.ur.y<r.ll.y)return null;var s=t.ll.x<r.ll.x?r.ll.x:t.ll.x,a=t.ur.x<r.ur.x?t.ur.x:r.ur.x;return{ll:{x:s,y:t.ll.y<r.ll.y?r.ll.y:t.ll.y},ur:{x:a,y:t.ur.y<r.ur.y?t.ur.y:r.ur.y}}},_c=Number.EPSILON;_c===void 0&&(_c=Math.pow(2,-52));var vM=_c*_c,cb=function(t,r){if(-_c<t&&t<_c&&-_c<r&&r<_c)return 0;var s=t-r;return s*s<vM*t*r?0:t<r?-1:1},yM=function(){function t(){ys(this,t),this.reset()}return po(t,[{key:"reset",value:function(){this.xRounder=new __,this.yRounder=new __}},{key:"round",value:function(r,s){return{x:this.xRounder.round(r),y:this.yRounder.round(s)}}}]),t}(),__=function(){function t(){ys(this,t),this.tree=new nb,this.round(0)}return po(t,[{key:"round",value:function(r){var s=this.tree.add(r),a=this.tree.prev(s);if(a!==null&&cb(s.key,a.key)===0)return this.tree.remove(r),a.key;var c=this.tree.next(s);return c!==null&&cb(s.key,c.key)===0?(this.tree.remove(r),c.key):r}}]),t}(),Zp=new yM,Xp=function(t,r){return t.x*r.y-t.y*r.x},k_=function(t,r){return t.x*r.x+t.y*r.y},E_=function(t,r,s){var a={x:r.x-t.x,y:r.y-t.y},c={x:s.x-t.x,y:s.y-t.y},h=Xp(a,c);return cb(h,0)},Lm=function(t){return Math.sqrt(k_(t,t))},bM=function(t,r,s){var a={x:r.x-t.x,y:r.y-t.y},c={x:s.x-t.x,y:s.y-t.y};return k_(c,a)/Lm(c)/Lm(a)},T_=function(t,r,s){return r.y===0?null:{x:t.x+r.x/r.y*(s-t.y),y:s}},S_=function(t,r,s){return r.x===0?null:{x:s,y:t.y+r.y/r.x*(s-t.x)}},Oa=function(){function t(r,s){ys(this,t),r.events===void 0?r.events=[this]:r.events.push(this),this.point=r,this.isLeft=s}return po(t,null,[{key:"compare",value:function(r,s){var a=t.comparePoints(r.point,s.point);return a!==0?a:(r.point!==s.point&&r.link(s),r.isLeft!==s.isLeft?r.isLeft?1:-1:Rm.compare(r.segment,s.segment))}},{key:"comparePoints",value:function(r,s){return r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0}}]),po(t,[{key:"link",value:function(r){if(r.point===this.point)throw new Error("Tried to link already linked events");for(var s=r.point.events,a=0,c=s.length;a<c;a++){var h=s[a];this.point.events.push(h),h.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var r=this.point.events.length,s=0;s<r;s++){var a=this.point.events[s];if(a.segment.consumedBy===void 0)for(var c=s+1;c<r;c++){var h=this.point.events[c];h.consumedBy===void 0&&a.otherSE.point.events===h.otherSE.point.events&&a.segment.consume(h.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var r=[],s=0,a=this.point.events.length;s<a;s++){var c=this.point.events[s];c!==this&&!c.segment.ringOut&&c.segment.isInResult()&&r.push(c)}return r}},{key:"getLeftmostComparator",value:function(r){var s=this,a=new Map,c=function(h){var g,v,w,x,T,k=h.otherSE;a.set(h,{sine:(g=s.point,v=r.point,w=k.point,x={x:v.x-g.x,y:v.y-g.y},T={x:w.x-g.x,y:w.y-g.y},Xp(T,x)/Lm(T)/Lm(x)),cosine:bM(s.point,r.point,k.point)})};return function(h,g){a.has(h)||c(h),a.has(g)||c(g);var v=a.get(h),w=v.sine,x=v.cosine,T=a.get(g),k=T.sine,P=T.cosine;return w>=0&&k>=0?x<P?1:x>P?-1:0:w<0&&k<0?x<P?-1:x>P?1:0:k<w?-1:k>w?1:0}}}]),t}(),wM=0,Rm=function(){function t(r,s,a,c){ys(this,t),this.id=++wM,this.leftSE=r,r.segment=this,r.otherSE=s,this.rightSE=s,s.segment=this,s.otherSE=r,this.rings=a,this.windings=c}return po(t,null,[{key:"compare",value:function(r,s){var a=r.leftSE.point.x,c=s.leftSE.point.x,h=r.rightSE.point.x,g=s.rightSE.point.x;if(g<a)return 1;if(h<c)return-1;var v=r.leftSE.point.y,w=s.leftSE.point.y,x=r.rightSE.point.y,T=s.rightSE.point.y;if(a<c){if(w<v&&w<x)return 1;if(w>v&&w>x)return-1;var k=r.comparePoint(s.leftSE.point);if(k<0)return 1;if(k>0)return-1;var P=s.comparePoint(r.rightSE.point);return P!==0?P:-1}if(a>c){if(v<w&&v<T)return-1;if(v>w&&v>T)return 1;var O=s.comparePoint(r.leftSE.point);if(O!==0)return O;var N=r.comparePoint(s.rightSE.point);return N<0?1:N>0?-1:1}if(v<w)return-1;if(v>w)return 1;if(h<g){var F=s.comparePoint(r.rightSE.point);if(F!==0)return F}if(h>g){var M=r.comparePoint(s.rightSE.point);if(M<0)return 1;if(M>0)return-1}if(h!==g){var W=x-v,it=h-a,D=T-w,q=g-c;if(W>it&&D<q)return 1;if(W<it&&D>q)return-1}return h>g?1:h<g||x<T?-1:x>T?1:r.id<s.id?-1:r.id>s.id?1:0}}]),po(t,[{key:"replaceRightSE",value:function(r){this.rightSE=r,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var r=this.leftSE.point.y,s=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:r<s?r:s},ur:{x:this.rightSE.point.x,y:r>s?r:s}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(r){return r.x===this.leftSE.point.x&&r.y===this.leftSE.point.y||r.x===this.rightSE.point.x&&r.y===this.rightSE.point.y}},{key:"comparePoint",value:function(r){if(this.isAnEndpoint(r))return 0;var s=this.leftSE.point,a=this.rightSE.point,c=this.vector();if(s.x===a.x)return r.x===s.x?0:r.x<s.x?1:-1;var h=(r.y-s.y)/c.y,g=s.x+h*c.x;if(r.x===g)return 0;var v=(r.x-s.x)/c.x,w=s.y+v*c.y;return r.y===w?0:r.y<w?-1:1}},{key:"getIntersection",value:function(r){var s=this.bbox(),a=r.bbox(),c=lb(s,a);if(c===null)return null;var h=this.leftSE.point,g=this.rightSE.point,v=r.leftSE.point,w=r.rightSE.point,x=Wp(s,v)&&this.comparePoint(v)===0,T=Wp(a,h)&&r.comparePoint(h)===0,k=Wp(s,w)&&this.comparePoint(w)===0,P=Wp(a,g)&&r.comparePoint(g)===0;if(T&&x)return P&&!k?g:!P&&k?w:null;if(T)return k&&h.x===w.x&&h.y===w.y?null:h;if(x)return P&&g.x===v.x&&g.y===v.y?null:v;if(P&&k)return null;if(P)return g;if(k)return w;var O=function(N,F,M,W){if(F.x===0)return S_(M,W,N.x);if(W.x===0)return S_(N,F,M.x);if(F.y===0)return T_(M,W,N.y);if(W.y===0)return T_(N,F,M.y);var it=Xp(F,W);if(it==0)return null;var D={x:M.x-N.x,y:M.y-N.y},q=Xp(D,F)/it,Y=Xp(D,W)/it;return{x:(N.x+Y*F.x+(M.x+q*W.x))/2,y:(N.y+Y*F.y+(M.y+q*W.y))/2}}(h,this.vector(),v,r.vector());return O===null?null:Wp(c,O)?Zp.round(O.x,O.y):null}},{key:"split",value:function(r){var s=[],a=r.events!==void 0,c=new Oa(r,!0),h=new Oa(r,!1),g=this.rightSE;this.replaceRightSE(h),s.push(h),s.push(c);var v=new t(c,g,this.rings.slice(),this.windings.slice());return Oa.comparePoints(v.leftSE.point,v.rightSE.point)>0&&v.swapEvents(),Oa.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),a&&(c.checkForConsuming(),h.checkForConsuming()),s}},{key:"swapEvents",value:function(){var r=this.rightSE;this.rightSE=this.leftSE,this.leftSE=r,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var s=0,a=this.windings.length;s<a;s++)this.windings[s]*=-1}},{key:"consume",value:function(r){for(var s=this,a=r;s.consumedBy;)s=s.consumedBy;for(;a.consumedBy;)a=a.consumedBy;var c=t.compare(s,a);if(c!==0){if(c>0){var h=s;s=a,a=h}if(s.prev===a){var g=s;s=a,a=g}for(var v=0,w=a.rings.length;v<w;v++){var x=a.rings[v],T=a.windings[v],k=s.rings.indexOf(x);k===-1?(s.rings.push(x),s.windings.push(T)):s.windings[k]+=T}a.rings=null,a.windings=null,a.consumedBy=s,a.leftSE.consumedBy=s.leftSE,a.rightSE.consumedBy=s.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(this.prev){var r=this.prev.consumedBy||this.prev;this._beforeState=r.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var r=this.beforeState();this._afterState={rings:r.rings.slice(0),windings:r.windings.slice(0),multiPolys:[]};for(var s=this._afterState.rings,a=this._afterState.windings,c=this._afterState.multiPolys,h=0,g=this.rings.length;h<g;h++){var v=this.rings[h],w=this.windings[h],x=s.indexOf(v);x===-1?(s.push(v),a.push(w)):a[x]+=w}for(var T=[],k=[],P=0,O=s.length;P<O;P++)if(a[P]!==0){var N=s[P],F=N.poly;if(k.indexOf(F)===-1)if(N.isExterior)T.push(F);else{k.indexOf(F)===-1&&k.push(F);var M=T.indexOf(N.poly);M!==-1&&T.splice(M,1)}}for(var W=0,it=T.length;W<it;W++){var D=T[W].multiPoly;c.indexOf(D)===-1&&c.push(D)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var r=this.beforeState().multiPolys,s=this.afterState().multiPolys;switch(ea.type){case"union":var a=r.length===0,c=s.length===0;this._isInResult=a!==c;break;case"intersection":var h,g;r.length<s.length?(h=r.length,g=s.length):(h=s.length,g=r.length),this._isInResult=g===ea.numMultiPolys&&h<g;break;case"xor":var v=Math.abs(r.length-s.length);this._isInResult=v%2==1;break;case"difference":var w=function(x){return x.length===1&&x[0].isSubject};this._isInResult=w(r)!==w(s);break;default:throw new Error("Unrecognized operation type found ".concat(ea.type))}return this._isInResult}}],[{key:"fromRing",value:function(r,s,a){var c,h,g,v=Oa.comparePoints(r,s);if(v<0)c=r,h=s,g=1;else{if(!(v>0))throw new Error("Tried to create degenerate segment at [".concat(r.x,", ").concat(r.y,"]"));c=s,h=r,g=-1}return new t(new Oa(c,!0),new Oa(h,!1),[a],[g])}}]),t}(),C_=function(){function t(r,s,a){if(ys(this,t),!Array.isArray(r)||r.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=s,this.isExterior=a,this.segments=[],typeof r[0][0]!="number"||typeof r[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var c=Zp.round(r[0][0],r[0][1]);this.bbox={ll:{x:c.x,y:c.y},ur:{x:c.x,y:c.y}};for(var h=c,g=1,v=r.length;g<v;g++){if(typeof r[g][0]!="number"||typeof r[g][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var w=Zp.round(r[g][0],r[g][1]);w.x===h.x&&w.y===h.y||(this.segments.push(Rm.fromRing(h,w,this)),w.x<this.bbox.ll.x&&(this.bbox.ll.x=w.x),w.y<this.bbox.ll.y&&(this.bbox.ll.y=w.y),w.x>this.bbox.ur.x&&(this.bbox.ur.x=w.x),w.y>this.bbox.ur.y&&(this.bbox.ur.y=w.y),h=w)}c.x===h.x&&c.y===h.y||this.segments.push(Rm.fromRing(h,c,this))}return po(t,[{key:"getSweepEvents",value:function(){for(var r=[],s=0,a=this.segments.length;s<a;s++){var c=this.segments[s];r.push(c.leftSE),r.push(c.rightSE)}return r}}]),t}(),xM=function(){function t(r,s){if(ys(this,t),!Array.isArray(r))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new C_(r[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var a=1,c=r.length;a<c;a++){var h=new C_(r[a],this,!1);h.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=h.bbox.ll.x),h.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=h.bbox.ll.y),h.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=h.bbox.ur.x),h.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=h.bbox.ur.y),this.interiorRings.push(h)}this.multiPoly=s}return po(t,[{key:"getSweepEvents",value:function(){for(var r=this.exteriorRing.getSweepEvents(),s=0,a=this.interiorRings.length;s<a;s++)for(var c=this.interiorRings[s].getSweepEvents(),h=0,g=c.length;h<g;h++)r.push(c[h]);return r}}]),t}(),P_=function(){function t(r,s){if(ys(this,t),!Array.isArray(r))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof r[0][0][0]=="number"&&(r=[r])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var a=0,c=r.length;a<c;a++){var h=new xM(r[a],this);h.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=h.bbox.ll.x),h.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=h.bbox.ll.y),h.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=h.bbox.ur.x),h.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=h.bbox.ur.y),this.polys.push(h)}this.isSubject=s}return po(t,[{key:"getSweepEvents",value:function(){for(var r=[],s=0,a=this.polys.length;s<a;s++)for(var c=this.polys[s].getSweepEvents(),h=0,g=c.length;h<g;h++)r.push(c[h]);return r}}]),t}(),_M=function(){function t(r){ys(this,t),this.events=r;for(var s=0,a=r.length;s<a;s++)r[s].segment.ringOut=this;this.poly=null}return po(t,null,[{key:"factory",value:function(r){for(var s=[],a=0,c=r.length;a<c;a++){var h=r[a];if(h.isInResult()&&!h.ringOut){for(var g=null,v=h.leftSE,w=h.rightSE,x=[v],T=v.point,k=[];g=v,v=w,x.push(v),v.point!==T;)for(;;){var P=v.getAvailableLinkedEvents();if(P.length===0){var O=x[0].point,N=x[x.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(O.x,",")+" ".concat(O.y,"]. Last matching segment found ends at")+" [".concat(N.x,", ").concat(N.y,"]."))}if(P.length===1){w=P[0].otherSE;break}for(var F=null,M=0,W=k.length;M<W;M++)if(k[M].point===v.point){F=M;break}if(F===null){k.push({index:x.length,point:v.point});var it=v.getLeftmostComparator(g);w=P.sort(it)[0].otherSE;break}var D=k.splice(F)[0],q=x.splice(D.index);q.unshift(q[0].otherSE),s.push(new t(q.reverse()))}s.push(new t(x))}}return s}}]),po(t,[{key:"getGeom",value:function(){for(var r=this.events[0].point,s=[r],a=1,c=this.events.length-1;a<c;a++){var h=this.events[a].point,g=this.events[a+1].point;E_(h,r,g)!==0&&(s.push(h),r=h)}if(s.length===1)return null;var v=s[0],w=s[1];E_(v,r,w)===0&&s.shift(),s.push(s[0]);for(var x=this.isExteriorRing()?1:-1,T=this.isExteriorRing()?0:s.length-1,k=this.isExteriorRing()?s.length:-1,P=[],O=T;O!=k;O+=x)P.push([s[O].x,s[O].y]);return P}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var r=this.enclosingRing();this._isExteriorRing=!r||!r.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var r=this.events[0],s=1,a=this.events.length;s<a;s++){var c=this.events[s];Oa.compare(r,c)>0&&(r=c)}for(var h=r.segment.prevInResult(),g=h?h.prevInResult():null;;){if(!h)return null;if(!g)return h.ringOut;if(g.ringOut!==h.ringOut)return g.ringOut.enclosingRing()!==h.ringOut?h.ringOut:h.ringOut.enclosingRing();h=g.prevInResult(),g=h?h.prevInResult():null}}}]),t}(),M_=function(){function t(r){ys(this,t),this.exteriorRing=r,r.poly=this,this.interiorRings=[]}return po(t,[{key:"addInterior",value:function(r){this.interiorRings.push(r),r.poly=this}},{key:"getGeom",value:function(){var r=[this.exteriorRing.getGeom()];if(r[0]===null)return null;for(var s=0,a=this.interiorRings.length;s<a;s++){var c=this.interiorRings[s].getGeom();c!==null&&r.push(c)}return r}}]),t}(),kM=function(){function t(r){ys(this,t),this.rings=r,this.polys=this._composePolys(r)}return po(t,[{key:"getGeom",value:function(){for(var r=[],s=0,a=this.polys.length;s<a;s++){var c=this.polys[s].getGeom();c!==null&&r.push(c)}return r}},{key:"_composePolys",value:function(r){for(var s=[],a=0,c=r.length;a<c;a++){var h=r[a];if(!h.poly)if(h.isExteriorRing())s.push(new M_(h));else{var g=h.enclosingRing();g.poly||s.push(new M_(g)),g.poly.addInterior(h)}}return s}}]),t}(),EM=function(){function t(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rm.compare;ys(this,t),this.queue=r,this.tree=new nb(s),this.segments=[]}return po(t,[{key:"process",value:function(r){var s=r.segment,a=[];if(r.consumedBy)return r.isLeft?this.queue.remove(r.otherSE):this.tree.remove(s),a;var c=r.isLeft?this.tree.insert(s):this.tree.find(s);if(!c)throw new Error("Unable to find segment #".concat(s.id," ")+"[".concat(s.leftSE.point.x,", ").concat(s.leftSE.point.y,"] -> ")+"[".concat(s.rightSE.point.x,", ").concat(s.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var h=c,g=c,v=void 0,w=void 0;v===void 0;)(h=this.tree.prev(h))===null?v=null:h.key.consumedBy===void 0&&(v=h.key);for(;w===void 0;)(g=this.tree.next(g))===null?w=null:g.key.consumedBy===void 0&&(w=g.key);if(r.isLeft){var x=null;if(v){var T=v.getIntersection(s);if(T!==null&&(s.isAnEndpoint(T)||(x=T),!v.isAnEndpoint(T)))for(var k=this._splitSafely(v,T),P=0,O=k.length;P<O;P++)a.push(k[P])}var N=null;if(w){var F=w.getIntersection(s);if(F!==null&&(s.isAnEndpoint(F)||(N=F),!w.isAnEndpoint(F)))for(var M=this._splitSafely(w,F),W=0,it=M.length;W<it;W++)a.push(M[W])}if(x!==null||N!==null){var D=null;x===null?D=N:N===null?D=x:D=Oa.comparePoints(x,N)<=0?x:N,this.queue.remove(s.rightSE),a.push(s.rightSE);for(var q=s.split(D),Y=0,tt=q.length;Y<tt;Y++)a.push(q[Y])}a.length>0?(this.tree.remove(s),a.push(r)):(this.segments.push(s),s.prev=v)}else{if(v&&w){var J=v.getIntersection(w);if(J!==null){if(!v.isAnEndpoint(J))for(var Rt=this._splitSafely(v,J),Et=0,Nt=Rt.length;Et<Nt;Et++)a.push(Rt[Et]);if(!w.isAnEndpoint(J))for(var Tt=this._splitSafely(w,J),jt=0,Mt=Tt.length;jt<Mt;jt++)a.push(Tt[jt])}}this.tree.remove(s)}return a}},{key:"_splitSafely",value:function(r,s){this.tree.remove(r);var a=r.rightSE;this.queue.remove(a);var c=r.split(s);return c.push(a),r.consumedBy===void 0&&this.tree.insert(r),c}}]),t}(),I_=typeof process<"u"&&{version:"0.1.0"}.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,TM=typeof process<"u"&&{version:"0.1.0"}.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,ea=new(function(){function t(){ys(this,t)}return po(t,[{key:"run",value:function(r,s,a){ea.type=r,Zp.reset();for(var c=[new P_(s,!0)],h=0,g=a.length;h<g;h++)c.push(new P_(a[h],!1));if(ea.numMultiPolys=c.length,ea.type==="difference")for(var v=c[0],w=1;w<c.length;)lb(c[w].bbox,v.bbox)!==null?w++:c.splice(w,1);if(ea.type==="intersection"){for(var x=0,T=c.length;x<T;x++)for(var k=c[x],P=x+1,O=c.length;P<O;P++)if(lb(k.bbox,c[P].bbox)===null)return[]}for(var N=new nb(Oa.compare),F=0,M=c.length;F<M;F++)for(var W=c[F].getSweepEvents(),it=0,D=W.length;it<D;it++)if(N.insert(W[it]),N.size>I_)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var q=new EM(N),Y=N.size,tt=N.pop();tt;){var J=tt.key;if(N.size===Y){var Rt=J.segment;throw new Error("Unable to pop() ".concat(J.isLeft?"left":"right"," SweepEvent ")+"[".concat(J.point.x,", ").concat(J.point.y,"] from segment #").concat(Rt.id," ")+"[".concat(Rt.leftSE.point.x,", ").concat(Rt.leftSE.point.y,"] -> ")+"[".concat(Rt.rightSE.point.x,", ").concat(Rt.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(N.size>I_)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(q.segments.length>TM)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var Et=q.process(J),Nt=0,Tt=Et.length;Nt<Tt;Nt++){var jt=Et[Nt];jt.consumedBy===void 0&&N.insert(jt)}Y=N.size,tt=N.pop()}Zp.reset();var Mt=_M.factory(q.segments);return new kM(Mt).getGeom()}}]),t}()),Sl={union:function(t){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return ea.run("union",t,s)},intersection:function(t){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return ea.run("intersection",t,s)},xor:function(t){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return ea.run("xor",t,s)},difference:function(t){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return ea.run("difference",t,s)}};"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(this==null)throw new TypeError(this+" is not an object");var r=Object(this),s=Math.max(Math.min(r.length,9007199254740991),0)||0,a=1 in arguments&&parseInt(Number(arguments[1]),10)||0;a=a<0?Math.max(s+a,0):Math.min(a,s);var c=2 in arguments&&arguments[2]!==void 0?parseInt(Number(arguments[2]),10)||0:s;for(c=c<0?Math.max(s+arguments[2],0):Math.min(c,s);a<c;)r[a]=t,++a;return r},writable:!0}),Number.isFinite=Number.isFinite||function(t){return typeof t=="number"&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var Cu=function(){};Cu.prototype.interfaces_=function(){return[]},Cu.prototype.getClass=function(){return Cu},Cu.prototype.equalsWithTolerance=function(t,r,s){return Math.abs(t-r)<=s};var _i=function(t){function r(s){t.call(this,s),this.name="IllegalArgumentException",this.message=s,this.stack=new t().stack}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r}(Error),Ke=function(){},L_={MAX_VALUE:{configurable:!0}};Ke.isNaN=function(t){return Number.isNaN(t)},Ke.doubleToLongBits=function(t){return t},Ke.longBitsToDouble=function(t){return t},Ke.isInfinite=function(t){return!Number.isFinite(t)},L_.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(Ke,L_);var Po=function(){},Am=function(){},Xh=function(){};function Mo(){}var Ct=function t(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(arguments.length===1){var r=arguments[0];this.x=r.x,this.y=r.y,this.z=r.z}else arguments.length===2?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):arguments.length===3&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},Pu={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};Ct.prototype.setOrdinate=function(t,r){switch(t){case Ct.X:this.x=r;break;case Ct.Y:this.y=r;break;case Ct.Z:this.z=r;break;default:throw new _i("Invalid ordinate index: "+t)}},Ct.prototype.equals2D=function(){if(arguments.length===1){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(arguments.length===2){var r=arguments[0],s=arguments[1];return!!Cu.equalsWithTolerance(this.x,r.x,s)&&!!Cu.equalsWithTolerance(this.y,r.y,s)}},Ct.prototype.getOrdinate=function(t){switch(t){case Ct.X:return this.x;case Ct.Y:return this.y;case Ct.Z:return this.z}throw new _i("Invalid ordinate index: "+t)},Ct.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||Ke.isNaN(this.z))&&Ke.isNaN(t.z)},Ct.prototype.equals=function(t){return t instanceof Ct&&this.equals2D(t)},Ct.prototype.equalInZ=function(t,r){return Cu.equalsWithTolerance(this.z,t.z,r)},Ct.prototype.compareTo=function(t){var r=t;return this.x<r.x?-1:this.x>r.x?1:this.y<r.y?-1:this.y>r.y?1:0},Ct.prototype.clone=function(){},Ct.prototype.copy=function(){return new Ct(this)},Ct.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},Ct.prototype.distance3D=function(t){var r=this.x-t.x,s=this.y-t.y,a=this.z-t.z;return Math.sqrt(r*r+s*s+a*a)},Ct.prototype.distance=function(t){var r=this.x-t.x,s=this.y-t.y;return Math.sqrt(r*r+s*s)},Ct.prototype.hashCode=function(){var t=17;return t=37*(t=37*t+Ct.hashCode(this.x))+Ct.hashCode(this.y)},Ct.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},Ct.prototype.interfaces_=function(){return[Po,Am,Mo]},Ct.prototype.getClass=function(){return Ct},Ct.hashCode=function(){if(arguments.length===1){var t=arguments[0],r=Ke.doubleToLongBits(t);return Math.trunc((r^r)>>>32)}},Pu.DimensionalComparator.get=function(){return Cl},Pu.serialVersionUID.get=function(){return 6683108902428367e3},Pu.NULL_ORDINATE.get=function(){return Ke.NaN},Pu.X.get=function(){return 0},Pu.Y.get=function(){return 1},Pu.Z.get=function(){return 2},Object.defineProperties(Ct,Pu);var Cl=function(t){if(this._dimensionsToTest=2,arguments.length!==0){if(arguments.length===1){var r=arguments[0];if(r!==2&&r!==3)throw new _i("only 2 or 3 dimensions may be specified");this._dimensionsToTest=r}}};Cl.prototype.compare=function(t,r){var s=t,a=r,c=Cl.compare(s.x,a.x);if(c!==0)return c;var h=Cl.compare(s.y,a.y);return h!==0?h:this._dimensionsToTest<=2?0:Cl.compare(s.z,a.z)},Cl.prototype.interfaces_=function(){return[Xh]},Cl.prototype.getClass=function(){return Cl},Cl.compare=function(t,r){return t<r?-1:t>r?1:Ke.isNaN(t)?Ke.isNaN(r)?0:-1:Ke.isNaN(r)?1:0};var Yh=function(){};Yh.prototype.create=function(){},Yh.prototype.interfaces_=function(){return[]},Yh.prototype.getClass=function(){return Yh};var At=function(){},Yp={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};At.prototype.interfaces_=function(){return[]},At.prototype.getClass=function(){return At},At.toLocationSymbol=function(t){switch(t){case At.EXTERIOR:return"e";case At.BOUNDARY:return"b";case At.INTERIOR:return"i";case At.NONE:return"-"}throw new _i("Unknown location value: "+t)},Yp.INTERIOR.get=function(){return 0},Yp.BOUNDARY.get=function(){return 1},Yp.EXTERIOR.get=function(){return 2},Yp.NONE.get=function(){return-1},Object.defineProperties(At,Yp);var Ge=function(t,r){return t.interfaces_&&t.interfaces_().indexOf(r)>-1},fo=function(){},R_={LOG_10:{configurable:!0}};fo.prototype.interfaces_=function(){return[]},fo.prototype.getClass=function(){return fo},fo.log10=function(t){var r=Math.log(t);return Ke.isInfinite(r)||Ke.isNaN(r)?r:r/fo.LOG_10},fo.min=function(t,r,s,a){var c=t;return r<c&&(c=r),s<c&&(c=s),a<c&&(c=a),c},fo.clamp=function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var t=arguments[0],r=arguments[1],s=arguments[2];return t<r?r:t>s?s:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var a=arguments[0],c=arguments[1],h=arguments[2];return a<c?c:a>h?h:a}},fo.wrap=function(t,r){return t<0?r- -t%r:t%r},fo.max=function(){if(arguments.length===3){var t=arguments[0],r=arguments[1],s=arguments[2],a=t;return r>a&&(a=r),s>a&&(a=s),a}if(arguments.length===4){var c=arguments[0],h=arguments[1],g=arguments[2],v=arguments[3],w=c;return h>w&&(w=h),g>w&&(w=g),v>w&&(w=v),w}},fo.average=function(t,r){return(t+r)/2},R_.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(fo,R_);var bs=function(t){this.str=t};bs.prototype.append=function(t){this.str+=t},bs.prototype.setCharAt=function(t,r){this.str=this.str.substr(0,t)+r+this.str.substr(t+1)},bs.prototype.toString=function(t){return this.str};var ws=function(t){this.value=t};ws.prototype.intValue=function(){return this.value},ws.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},ws.isNaN=function(t){return Number.isNaN(t)};var Kp=function(){};Kp.isWhitespace=function(t){return t<=32&&t>=0||t===127},Kp.toUpperCase=function(t){return t.toUpperCase()};var Bt=function t(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var r=arguments[0];this.init(r)}else if(arguments[0]instanceof t){var s=arguments[0];this.init(s)}else if(typeof arguments[0]=="string"){var a=arguments[0];t.call(this,t.parse(a))}}else if(arguments.length===2){var c=arguments[0],h=arguments[1];this.init(c,h)}},Yo={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};Bt.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},Bt.prototype.extractSignificantDigits=function(t,r){var s=this.abs(),a=Bt.magnitude(s._hi),c=Bt.TEN.pow(a);(s=s.divide(c)).gt(Bt.TEN)?(s=s.divide(Bt.TEN),a+=1):s.lt(Bt.ONE)&&(s=s.multiply(Bt.TEN),a-=1);for(var h=a+1,g=new bs,v=Bt.MAX_PRINT_DIGITS-1,w=0;w<=v;w++){t&&w===h&&g.append(".");var x=Math.trunc(s._hi);if(x<0)break;var T=!1,k=0;x>9?(T=!0,k="9"):k="0"+x,g.append(k),s=s.subtract(Bt.valueOf(x)).multiply(Bt.TEN),T&&s.selfAdd(Bt.TEN);var P=!0,O=Bt.magnitude(s._hi);if(O<0&&Math.abs(O)>=v-w&&(P=!1),!P)break}return r[0]=a,g.toString()},Bt.prototype.sqr=function(){return this.multiply(this)},Bt.prototype.doubleValue=function(){return this._hi+this._lo},Bt.prototype.subtract=function(){if(arguments[0]instanceof Bt){var t=arguments[0];return this.add(t.negate())}if(typeof arguments[0]=="number"){var r=arguments[0];return this.add(-r)}},Bt.prototype.equals=function(){if(arguments.length===1){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},Bt.prototype.isZero=function(){return this._hi===0&&this._lo===0},Bt.prototype.selfSubtract=function(){if(arguments[0]instanceof Bt){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if(typeof arguments[0]=="number"){var r=arguments[0];return this.isNaN()?this:this.selfAdd(-r,0)}},Bt.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},Bt.prototype.min=function(t){return this.le(t)?this:t},Bt.prototype.selfDivide=function(){if(arguments.length===1){if(arguments[0]instanceof Bt){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if(typeof arguments[0]=="number"){var r=arguments[0];return this.selfDivide(r,0)}}else if(arguments.length===2){var s=arguments[0],a=arguments[1],c=null,h=null,g=null,v=null,w=null,x=null,T=null,k=null;return w=this._hi/s,k=(c=(x=Bt.SPLIT*w)-(c=x-w))*(g=(k=Bt.SPLIT*s)-(g=k-s))-(T=w*s)+c*(v=s-g)+(h=w-c)*g+h*v,k=w+(x=(this._hi-T-k+this._lo-w*a)/s),this._hi=k,this._lo=w-k+x,this}},Bt.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},Bt.prototype.divide=function(){if(arguments[0]instanceof Bt){var t=arguments[0],r=null,s=null,a=null,c=null,h=null,g=null,v=null,w=null;s=(h=this._hi/t._hi)-(r=(g=Bt.SPLIT*h)-(r=g-h)),w=r*(a=(w=Bt.SPLIT*t._hi)-(a=w-t._hi))-(v=h*t._hi)+r*(c=t._hi-a)+s*a+s*c;var x=w=h+(g=(this._hi-v-w+this._lo-h*t._lo)/t._hi),T=h-w+g;return new Bt(x,T)}if(typeof arguments[0]=="number"){var k=arguments[0];return Ke.isNaN(k)?Bt.createNaN():Bt.copy(this).selfDivide(k,0)}},Bt.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},Bt.prototype.pow=function(t){if(t===0)return Bt.valueOf(1);var r=new Bt(this),s=Bt.valueOf(1),a=Math.abs(t);if(a>1)for(;a>0;)a%2==1&&s.selfMultiply(r),(a/=2)>0&&(r=r.sqr());else s=r;return t<0?s.reciprocal():s},Bt.prototype.ceil=function(){if(this.isNaN())return Bt.NaN;var t=Math.ceil(this._hi),r=0;return t===this._hi&&(r=Math.ceil(this._lo)),new Bt(t,r)},Bt.prototype.compareTo=function(t){var r=t;return this._hi<r._hi?-1:this._hi>r._hi?1:this._lo<r._lo?-1:this._lo>r._lo?1:0},Bt.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},Bt.prototype.setValue=function(){if(arguments[0]instanceof Bt){var t=arguments[0];return this.init(t),this}if(typeof arguments[0]=="number"){var r=arguments[0];return this.init(r),this}},Bt.prototype.max=function(t){return this.ge(t)?this:t},Bt.prototype.sqrt=function(){if(this.isZero())return Bt.valueOf(0);if(this.isNegative())return Bt.NaN;var t=1/Math.sqrt(this._hi),r=this._hi*t,s=Bt.valueOf(r),a=this.subtract(s.sqr())._hi*(.5*t);return s.add(a)},Bt.prototype.selfAdd=function(){if(arguments.length===1){if(arguments[0]instanceof Bt){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if(typeof arguments[0]=="number"){var r=arguments[0],s=null,a=null,c=null,h=null,g=null,v=null;return h=(c=this._hi+r)-(g=c-this._hi),a=(v=(h=r-g+(this._hi-h))+this._lo)+(c-(s=c+v)),this._hi=s+a,this._lo=a+(s-this._hi),this}}else if(arguments.length===2){var w=arguments[0],x=arguments[1],T=null,k=null,P=null,O=null,N=null,F=null,M=null;O=this._hi+w,k=this._lo+x,N=O-(F=O-this._hi),P=k-(M=k-this._lo);var W=(T=O+(F=(N=w-F+(this._hi-N))+k))+(F=(P=x-M+(this._lo-P))+(F+(O-T))),it=F+(T-W);return this._hi=W,this._lo=it,this}},Bt.prototype.selfMultiply=function(){if(arguments.length===1){if(arguments[0]instanceof Bt){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if(typeof arguments[0]=="number"){var r=arguments[0];return this.selfMultiply(r,0)}}else if(arguments.length===2){var s=arguments[0],a=arguments[1],c=null,h=null,g=null,v=null,w=null,x=null;c=(w=Bt.SPLIT*this._hi)-this._hi,x=Bt.SPLIT*s,c=w-c,h=this._hi-c,g=x-s;var T=(w=this._hi*s)+(x=c*(g=x-g)-w+c*(v=s-g)+h*g+h*v+(this._hi*a+this._lo*s)),k=x+(c=w-T);return this._hi=T,this._lo=k,this}},Bt.prototype.selfSqr=function(){return this.selfMultiply(this)},Bt.prototype.floor=function(){if(this.isNaN())return Bt.NaN;var t=Math.floor(this._hi),r=0;return t===this._hi&&(r=Math.floor(this._lo)),new Bt(t,r)},Bt.prototype.negate=function(){return this.isNaN()?this:new Bt(-this._hi,-this._lo)},Bt.prototype.clone=function(){},Bt.prototype.multiply=function(){if(arguments[0]instanceof Bt){var t=arguments[0];return t.isNaN()?Bt.createNaN():Bt.copy(this).selfMultiply(t)}if(typeof arguments[0]=="number"){var r=arguments[0];return Ke.isNaN(r)?Bt.createNaN():Bt.copy(this).selfMultiply(r,0)}},Bt.prototype.isNaN=function(){return Ke.isNaN(this._hi)},Bt.prototype.intValue=function(){return Math.trunc(this._hi)},Bt.prototype.toString=function(){var t=Bt.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},Bt.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(t!==null)return t;var r=new Array(1).fill(null),s=this.extractSignificantDigits(!0,r),a=r[0]+1,c=s;if(s.charAt(0)===".")c="0"+s;else if(a<0)c="0."+Bt.stringOfChar("0",-a)+s;else if(s.indexOf(".")===-1){var h=a-s.length;c=s+Bt.stringOfChar("0",h)+".0"}return this.isNegative()?"-"+c:c},Bt.prototype.reciprocal=function(){var t,r,s,a,c=null,h=null,g=null,v=null;t=(s=1/this._hi)-(c=(g=Bt.SPLIT*s)-(c=g-s)),h=(v=Bt.SPLIT*this._hi)-this._hi;var w=s+(g=(1-(a=s*this._hi)-(v=c*(h=v-h)-a+c*(r=this._hi-h)+t*h+t*r)-s*this._lo)/this._hi);return new Bt(w,s-w+g)},Bt.prototype.toSciNotation=function(){if(this.isZero())return Bt.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(t!==null)return t;var r=new Array(1).fill(null),s=this.extractSignificantDigits(!1,r),a=Bt.SCI_NOT_EXPONENT_CHAR+r[0];if(s.charAt(0)==="0")throw new Error("Found leading zero: "+s);var c="";s.length>1&&(c=s.substring(1));var h=s.charAt(0)+"."+c;return this.isNegative()?"-"+h+a:h+a},Bt.prototype.abs=function(){return this.isNaN()?Bt.NaN:this.isNegative()?this.negate():new Bt(this)},Bt.prototype.isPositive=function(){return(this._hi>0||this._hi===0)&&this._lo>0},Bt.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},Bt.prototype.add=function(){if(arguments[0]instanceof Bt){var t=arguments[0];return Bt.copy(this).selfAdd(t)}if(typeof arguments[0]=="number"){var r=arguments[0];return Bt.copy(this).selfAdd(r)}},Bt.prototype.init=function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof Bt){var r=arguments[0];this._hi=r._hi,this._lo=r._lo}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];this._hi=s,this._lo=a}},Bt.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},Bt.prototype.isNegative=function(){return(this._hi<0||this._hi===0)&&this._lo<0},Bt.prototype.trunc=function(){return this.isNaN()?Bt.NaN:this.isPositive()?this.floor():this.ceil()},Bt.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},Bt.prototype.interfaces_=function(){return[Mo,Po,Am]},Bt.prototype.getClass=function(){return Bt},Bt.sqr=function(t){return Bt.valueOf(t).selfMultiply(t)},Bt.valueOf=function(){if(typeof arguments[0]=="string"){var t=arguments[0];return Bt.parse(t)}if(typeof arguments[0]=="number"){var r=arguments[0];return new Bt(r)}},Bt.sqrt=function(t){return Bt.valueOf(t).sqrt()},Bt.parse=function(t){for(var r=0,s=t.length;Kp.isWhitespace(t.charAt(r));)r++;var a=!1;if(r<s){var c=t.charAt(r);c!=="-"&&c!=="+"||(r++,c==="-"&&(a=!0))}for(var h=new Bt,g=0,v=0,w=0;!(r>=s);){var x=t.charAt(r);if(r++,Kp.isDigit(x)){var T=x-"0";h.selfMultiply(Bt.TEN),h.selfAdd(T),g++}else{if(x!=="."){if(x==="e"||x==="E"){var k=t.substring(r);try{w=ws.parseInt(k)}catch(M){throw M instanceof Error?new Error("Invalid exponent "+k+" in string "+t):M}break}throw new Error("Unexpected character '"+x+"' at position "+r+" in string "+t)}v=g}}var P=h,O=g-v-w;if(O===0)P=h;else if(O>0){var N=Bt.TEN.pow(O);P=h.divide(N)}else if(O<0){var F=Bt.TEN.pow(-O);P=h.multiply(F)}return a?P.negate():P},Bt.createNaN=function(){return new Bt(Ke.NaN,Ke.NaN)},Bt.copy=function(t){return new Bt(t)},Bt.magnitude=function(t){var r=Math.abs(t),s=Math.log(r)/Math.log(10),a=Math.trunc(Math.floor(s));return 10*Math.pow(10,a)<=r&&(a+=1),a},Bt.stringOfChar=function(t,r){for(var s=new bs,a=0;a<r;a++)s.append(t);return s.toString()},Yo.PI.get=function(){return new Bt(3.141592653589793,12246467991473532e-32)},Yo.TWO_PI.get=function(){return new Bt(6.283185307179586,24492935982947064e-32)},Yo.PI_2.get=function(){return new Bt(1.5707963267948966,6123233995736766e-32)},Yo.E.get=function(){return new Bt(2.718281828459045,14456468917292502e-32)},Yo.NaN.get=function(){return new Bt(Ke.NaN,Ke.NaN)},Yo.EPS.get=function(){return 123259516440783e-46},Yo.SPLIT.get=function(){return 134217729},Yo.MAX_PRINT_DIGITS.get=function(){return 32},Yo.TEN.get=function(){return Bt.valueOf(10)},Yo.ONE.get=function(){return Bt.valueOf(1)},Yo.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},Yo.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(Bt,Yo);var qn=function(){},A_={DP_SAFE_EPSILON:{configurable:!0}};qn.prototype.interfaces_=function(){return[]},qn.prototype.getClass=function(){return qn},qn.orientationIndex=function(t,r,s){var a=qn.orientationIndexFilter(t,r,s);if(a<=1)return a;var c=Bt.valueOf(r.x).selfAdd(-t.x),h=Bt.valueOf(r.y).selfAdd(-t.y),g=Bt.valueOf(s.x).selfAdd(-r.x),v=Bt.valueOf(s.y).selfAdd(-r.y);return c.selfMultiply(v).selfSubtract(h.selfMultiply(g)).signum()},qn.signOfDet2x2=function(t,r,s,a){return t.multiply(a).selfSubtract(r.multiply(s)).signum()},qn.intersection=function(t,r,s,a){var c=Bt.valueOf(a.y).selfSubtract(s.y).selfMultiply(Bt.valueOf(r.x).selfSubtract(t.x)),h=Bt.valueOf(a.x).selfSubtract(s.x).selfMultiply(Bt.valueOf(r.y).selfSubtract(t.y)),g=c.subtract(h),v=Bt.valueOf(a.x).selfSubtract(s.x).selfMultiply(Bt.valueOf(t.y).selfSubtract(s.y)),w=Bt.valueOf(a.y).selfSubtract(s.y).selfMultiply(Bt.valueOf(t.x).selfSubtract(s.x)),x=v.subtract(w).selfDivide(g).doubleValue(),T=Bt.valueOf(t.x).selfAdd(Bt.valueOf(r.x).selfSubtract(t.x).selfMultiply(x)).doubleValue(),k=Bt.valueOf(r.x).selfSubtract(t.x).selfMultiply(Bt.valueOf(t.y).selfSubtract(s.y)),P=Bt.valueOf(r.y).selfSubtract(t.y).selfMultiply(Bt.valueOf(t.x).selfSubtract(s.x)),O=k.subtract(P).selfDivide(g).doubleValue(),N=Bt.valueOf(s.y).selfAdd(Bt.valueOf(a.y).selfSubtract(s.y).selfMultiply(O)).doubleValue();return new Ct(T,N)},qn.orientationIndexFilter=function(t,r,s){var a=null,c=(t.x-s.x)*(r.y-s.y),h=(t.y-s.y)*(r.x-s.x),g=c-h;if(c>0){if(h<=0)return qn.signum(g);a=c+h}else{if(!(c<0)||h>=0)return qn.signum(g);a=-c-h}var v=qn.DP_SAFE_EPSILON*a;return g>=v||-g>=v?qn.signum(g):2},qn.signum=function(t){return t>0?1:t<0?-1:0},A_.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(qn,A_);var vr=function(){},Jp={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};Jp.X.get=function(){return 0},Jp.Y.get=function(){return 1},Jp.Z.get=function(){return 2},Jp.M.get=function(){return 3},vr.prototype.setOrdinate=function(t,r,s){},vr.prototype.size=function(){},vr.prototype.getOrdinate=function(t,r){},vr.prototype.getCoordinate=function(){},vr.prototype.getCoordinateCopy=function(t){},vr.prototype.getDimension=function(){},vr.prototype.getX=function(t){},vr.prototype.clone=function(){},vr.prototype.expandEnvelope=function(t){},vr.prototype.copy=function(){},vr.prototype.getY=function(t){},vr.prototype.toCoordinateArray=function(){},vr.prototype.interfaces_=function(){return[Am]},vr.prototype.getClass=function(){return vr},Object.defineProperties(vr,Jp);var z_=function(){},Kh=function(t){function r(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.interfaces_=function(){return[]},r.prototype.getClass=function(){return r},r}(z_),un=function(){};un.arraycopy=function(t,r,s,a,c){for(var h=0,g=r;g<r+c;g++)s[a+h]=t[g],h++},un.getProperty=function(t){return{"line.separator":`
`}[t]};var Ko=function t(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var r=arguments[0];this.x=r.x,this.y=r.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var s=arguments[0],a=arguments[1];this.x=s,this.y=a,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var c=arguments[0],h=arguments[1];this.x=c.y*h.w-h.y*c.w,this.y=h.x*c.w-c.x*h.w,this.w=c.x*h.y-h.x*c.y}else if(arguments[0]instanceof Ct&&arguments[1]instanceof Ct){var g=arguments[0],v=arguments[1];this.x=g.y-v.y,this.y=v.x-g.x,this.w=g.x*v.y-v.x*g.y}}else if(arguments.length===3){var w=arguments[0],x=arguments[1],T=arguments[2];this.x=w,this.y=x,this.w=T}else if(arguments.length===4){var k=arguments[0],P=arguments[1],O=arguments[2],N=arguments[3],F=k.y-P.y,M=P.x-k.x,W=k.x*P.y-P.x*k.y,it=O.y-N.y,D=N.x-O.x,q=O.x*N.y-N.x*O.y;this.x=M*q-D*W,this.y=it*W-F*q,this.w=F*D-it*M}};Ko.prototype.getY=function(){var t=this.y/this.w;if(Ke.isNaN(t)||Ke.isInfinite(t))throw new Kh;return t},Ko.prototype.getX=function(){var t=this.x/this.w;if(Ke.isNaN(t)||Ke.isInfinite(t))throw new Kh;return t},Ko.prototype.getCoordinate=function(){var t=new Ct;return t.x=this.getX(),t.y=this.getY(),t},Ko.prototype.interfaces_=function(){return[]},Ko.prototype.getClass=function(){return Ko},Ko.intersection=function(t,r,s,a){var c=t.y-r.y,h=r.x-t.x,g=t.x*r.y-r.x*t.y,v=s.y-a.y,w=a.x-s.x,x=s.x*a.y-a.x*s.y,T=c*w-v*h,k=(h*x-w*g)/T,P=(v*g-c*x)/T;if(Ke.isNaN(k)||Ke.isInfinite(k)||Ke.isNaN(P)||Ke.isInfinite(P))throw new Kh;return new Ct(k,P)};var Re=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof Ct){var r=arguments[0];this.init(r.x,r.x,r.y,r.y)}else if(arguments[0]instanceof t){var s=arguments[0];this.init(s)}}else if(arguments.length===2){var a=arguments[0],c=arguments[1];this.init(a.x,c.x,a.y,c.y)}else if(arguments.length===4){var h=arguments[0],g=arguments[1],v=arguments[2],w=arguments[3];this.init(h,g,v,w)}},O_={serialVersionUID:{configurable:!0}};Re.prototype.getArea=function(){return this.getWidth()*this.getHeight()},Re.prototype.equals=function(t){if(!(t instanceof Re))return!1;var r=t;return this.isNull()?r.isNull():this._maxx===r.getMaxX()&&this._maxy===r.getMaxY()&&this._minx===r.getMinX()&&this._miny===r.getMinY()},Re.prototype.intersection=function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new Re;var r=this._minx>t._minx?this._minx:t._minx,s=this._miny>t._miny?this._miny:t._miny,a=this._maxx<t._maxx?this._maxx:t._maxx,c=this._maxy<t._maxy?this._maxy:t._maxy;return new Re(r,a,s,c)},Re.prototype.isNull=function(){return this._maxx<this._minx},Re.prototype.getMaxX=function(){return this._maxx},Re.prototype.covers=function(){if(arguments.length===1){if(arguments[0]instanceof Ct){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof Re){var r=arguments[0];return!this.isNull()&&!r.isNull()&&r.getMinX()>=this._minx&&r.getMaxX()<=this._maxx&&r.getMinY()>=this._miny&&r.getMaxY()<=this._maxy}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];return!this.isNull()&&s>=this._minx&&s<=this._maxx&&a>=this._miny&&a<=this._maxy}},Re.prototype.intersects=function(){if(arguments.length===1){if(arguments[0]instanceof Re){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof Ct){var r=arguments[0];return this.intersects(r.x,r.y)}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];return!this.isNull()&&!(s>this._maxx||s<this._minx||a>this._maxy||a<this._miny)}},Re.prototype.getMinY=function(){return this._miny},Re.prototype.getMinX=function(){return this._minx},Re.prototype.expandToInclude=function(){if(arguments.length===1){if(arguments[0]instanceof Ct){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof Re){var r=arguments[0];if(r.isNull())return null;this.isNull()?(this._minx=r.getMinX(),this._maxx=r.getMaxX(),this._miny=r.getMinY(),this._maxy=r.getMaxY()):(r._minx<this._minx&&(this._minx=r._minx),r._maxx>this._maxx&&(this._maxx=r._maxx),r._miny<this._miny&&(this._miny=r._miny),r._maxy>this._maxy&&(this._maxy=r._maxy))}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];this.isNull()?(this._minx=s,this._maxx=s,this._miny=a,this._maxy=a):(s<this._minx&&(this._minx=s),s>this._maxx&&(this._maxx=s),a<this._miny&&(this._miny=a),a>this._maxy&&(this._maxy=a))}},Re.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),r=this.getHeight();return t<r?t:r},Re.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},Re.prototype.compareTo=function(t){var r=t;return this.isNull()?r.isNull()?0:-1:r.isNull()?1:this._minx<r._minx?-1:this._minx>r._minx?1:this._miny<r._miny?-1:this._miny>r._miny?1:this._maxx<r._maxx?-1:this._maxx>r._maxx?1:this._maxy<r._maxy?-1:this._maxy>r._maxy?1:0},Re.prototype.translate=function(t,r){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+r,this.getMaxY()+r)},Re.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},Re.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},Re.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},Re.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),r=this.getHeight();return t>r?t:r},Re.prototype.expandBy=function(){if(arguments.length===1){var t=arguments[0];this.expandBy(t,t)}else if(arguments.length===2){var r=arguments[0],s=arguments[1];if(this.isNull())return null;this._minx-=r,this._maxx+=r,this._miny-=s,this._maxy+=s,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},Re.prototype.contains=function(){if(arguments.length===1){if(arguments[0]instanceof Re){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof Ct){var r=arguments[0];return this.covers(r)}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];return this.covers(s,a)}},Re.prototype.centre=function(){return this.isNull()?null:new Ct((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},Re.prototype.init=function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof Ct){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof Re){var r=arguments[0];this._minx=r._minx,this._maxx=r._maxx,this._miny=r._miny,this._maxy=r._maxy}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];this.init(s.x,a.x,s.y,a.y)}else if(arguments.length===4){var c=arguments[0],h=arguments[1],g=arguments[2],v=arguments[3];c<h?(this._minx=c,this._maxx=h):(this._minx=h,this._maxx=c),g<v?(this._miny=g,this._maxy=v):(this._miny=v,this._maxy=g)}},Re.prototype.getMaxY=function(){return this._maxy},Re.prototype.distance=function(t){if(this.intersects(t))return 0;var r=0;this._maxx<t._minx?r=t._minx-this._maxx:this._minx>t._maxx&&(r=this._minx-t._maxx);var s=0;return this._maxy<t._miny?s=t._miny-this._maxy:this._miny>t._maxy&&(s=this._miny-t._maxy),r===0?s:s===0?r:Math.sqrt(r*r+s*s)},Re.prototype.hashCode=function(){var t=17;return t=37*(t=37*(t=37*(t=37*t+Ct.hashCode(this._minx))+Ct.hashCode(this._maxx))+Ct.hashCode(this._miny))+Ct.hashCode(this._maxy)},Re.prototype.interfaces_=function(){return[Po,Mo]},Re.prototype.getClass=function(){return Re},Re.intersects=function(){if(arguments.length===3){var t=arguments[0],r=arguments[1],s=arguments[2];return s.x>=(t.x<r.x?t.x:r.x)&&s.x<=(t.x>r.x?t.x:r.x)&&s.y>=(t.y<r.y?t.y:r.y)&&s.y<=(t.y>r.y?t.y:r.y)}if(arguments.length===4){var a=arguments[0],c=arguments[1],h=arguments[2],g=arguments[3],v=Math.min(h.x,g.x),w=Math.max(h.x,g.x),x=Math.min(a.x,c.x),T=Math.max(a.x,c.x);return!(x>w)&&!(T<v)&&(v=Math.min(h.y,g.y),w=Math.max(h.y,g.y),x=Math.min(a.y,c.y),T=Math.max(a.y,c.y),!(x>w)&&!(T<v))}},O_.serialVersionUID.get=function(){return 5873921885273102e3},Object.defineProperties(Re,O_);var xs={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},zm=function(t){this.geometryFactory=t||new cr};zm.prototype.read=function(t){var r,s,a;t=t.replace(/[\n\r]/g," ");var c=xs.typeStr.exec(t);if(t.search("EMPTY")!==-1&&((c=xs.emptyTypeStr.exec(t))[2]=void 0),c&&(s=c[1].toLowerCase(),a=c[2],Jh[s]&&(r=Jh[s].apply(this,[a]))),r===void 0)throw new Error("Could not parse WKT "+t);return r},zm.prototype.write=function(t){return this.extractGeometry(t)},zm.prototype.extractGeometry=function(t){var r=t.getGeometryType().toLowerCase();if(!Na[r])return null;var s=r.toUpperCase();return t.isEmpty()?s+" EMPTY":s+"("+Na[r].apply(this,[t])+")"};var Na={coordinate:function(t){return t.x+" "+t.y},point:function(t){return Na.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var r=[],s=0,a=t._geometries.length;s<a;++s)r.push("("+Na.point.apply(this,[t._geometries[s]])+")");return r.join(",")},linestring:function(t){for(var r=[],s=0,a=t._points._coordinates.length;s<a;++s)r.push(Na.coordinate.apply(this,[t._points._coordinates[s]]));return r.join(",")},linearring:function(t){for(var r=[],s=0,a=t._points._coordinates.length;s<a;++s)r.push(Na.coordinate.apply(this,[t._points._coordinates[s]]));return r.join(",")},multilinestring:function(t){for(var r=[],s=0,a=t._geometries.length;s<a;++s)r.push("("+Na.linestring.apply(this,[t._geometries[s]])+")");return r.join(",")},polygon:function(t){var r=[];r.push("("+Na.linestring.apply(this,[t._shell])+")");for(var s=0,a=t._holes.length;s<a;++s)r.push("("+Na.linestring.apply(this,[t._holes[s]])+")");return r.join(",")},multipolygon:function(t){for(var r=[],s=0,a=t._geometries.length;s<a;++s)r.push("("+Na.polygon.apply(this,[t._geometries[s]])+")");return r.join(",")},geometrycollection:function(t){for(var r=[],s=0,a=t._geometries.length;s<a;++s)r.push(this.extractGeometry(t._geometries[s]));return r.join(",")}},Jh={point:function(t){if(t===void 0)return this.geometryFactory.createPoint();var r=t.trim().split(xs.spaces);return this.geometryFactory.createPoint(new Ct(Number.parseFloat(r[0]),Number.parseFloat(r[1])))},multipoint:function(t){var r;if(t===void 0)return this.geometryFactory.createMultiPoint();for(var s=t.trim().split(","),a=[],c=0,h=s.length;c<h;++c)r=s[c].replace(xs.trimParens,"$1"),a.push(Jh.point.apply(this,[r]));return this.geometryFactory.createMultiPoint(a)},linestring:function(t){if(t===void 0)return this.geometryFactory.createLineString();for(var r,s=t.trim().split(","),a=[],c=0,h=s.length;c<h;++c)r=s[c].trim().split(xs.spaces),a.push(new Ct(Number.parseFloat(r[0]),Number.parseFloat(r[1])));return this.geometryFactory.createLineString(a)},linearring:function(t){if(t===void 0)return this.geometryFactory.createLinearRing();for(var r,s=t.trim().split(","),a=[],c=0,h=s.length;c<h;++c)r=s[c].trim().split(xs.spaces),a.push(new Ct(Number.parseFloat(r[0]),Number.parseFloat(r[1])));return this.geometryFactory.createLinearRing(a)},multilinestring:function(t){var r;if(t===void 0)return this.geometryFactory.createMultiLineString();for(var s=t.trim().split(xs.parenComma),a=[],c=0,h=s.length;c<h;++c)r=s[c].replace(xs.trimParens,"$1"),a.push(Jh.linestring.apply(this,[r]));return this.geometryFactory.createMultiLineString(a)},polygon:function(t){var r,s,a;if(t===void 0)return this.geometryFactory.createPolygon();for(var c,h=t.trim().split(xs.parenComma),g=[],v=0,w=h.length;v<w;++v)r=h[v].replace(xs.trimParens,"$1"),s=Jh.linestring.apply(this,[r]),a=this.geometryFactory.createLinearRing(s._points),v===0?c=a:g.push(a);return this.geometryFactory.createPolygon(c,g)},multipolygon:function(t){var r;if(t===void 0)return this.geometryFactory.createMultiPolygon();for(var s=t.trim().split(xs.doubleParenComma),a=[],c=0,h=s.length;c<h;++c)r=s[c].replace(xs.trimParens,"$1"),a.push(Jh.polygon.apply(this,[r]));return this.geometryFactory.createMultiPolygon(a)},geometrycollection:function(t){if(t===void 0)return this.geometryFactory.createGeometryCollection();for(var r=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),s=[],a=0,c=r.length;a<c;++a)s.push(this.read(r[a]));return this.geometryFactory.createGeometryCollection(s)}},Jo=function(t){this.parser=new zm(t)};Jo.prototype.write=function(t){return this.parser.write(t)},Jo.toLineString=function(t,r){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+r.x+" "+r.y+" )"};var Da=function(t){function r(s){t.call(this,s),this.name="RuntimeException",this.message=s,this.stack=new t().stack}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r}(Error),Om=function(t){function r(){if(t.call(this),arguments.length===0)t.call(this);else if(arguments.length===1){var s=arguments[0];t.call(this,s)}}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.interfaces_=function(){return[]},r.prototype.getClass=function(){return r},r}(Da),er=function(){};er.prototype.interfaces_=function(){return[]},er.prototype.getClass=function(){return er},er.shouldNeverReachHere=function(){if(arguments.length===0)er.shouldNeverReachHere(null);else if(arguments.length===1){var t=arguments[0];throw new Om("Should never reach here"+(t!==null?": "+t:""))}},er.isTrue=function(){var t;if(arguments.length===1)er.isTrue(arguments[0],null);else if(arguments.length===2&&(t=arguments[1],!arguments[0]))throw t===null?new Om:new Om(t)},er.equals=function(){var t,r,s;if(arguments.length===2)er.equals(t=arguments[0],r=arguments[1],null);else if(arguments.length===3&&(t=arguments[0],s=arguments[2],!(r=arguments[1]).equals(t)))throw new Om("Expected "+t+" but encountered "+r+(s!==null?": "+s:""))};var Ei=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new Ct,this._intPt[1]=new Ct,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},Mu={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};Ei.prototype.getIndexAlongSegment=function(t,r){return this.computeIntLineIndex(),this._intLineIndex[t][r]},Ei.prototype.getTopologySummary=function(){var t=new bs;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},Ei.prototype.computeIntersection=function(t,r,s,a){this._inputLines[0][0]=t,this._inputLines[0][1]=r,this._inputLines[1][0]=s,this._inputLines[1][1]=a,this._result=this.computeIntersect(t,r,s,a)},Ei.prototype.getIntersectionNum=function(){return this._result},Ei.prototype.computeIntLineIndex=function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var t=arguments[0],r=this.getEdgeDistance(t,0),s=this.getEdgeDistance(t,1);r>s?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},Ei.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},Ei.prototype.setPrecisionModel=function(t){this._precisionModel=t},Ei.prototype.isInteriorIntersection=function(){var t=this;if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var r=arguments[0],s=0;s<this._result;s++)if(!t._intPt[s].equals2D(t._inputLines[r][0])&&!t._intPt[s].equals2D(t._inputLines[r][1]))return!0;return!1}},Ei.prototype.getIntersection=function(t){return this._intPt[t]},Ei.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},Ei.prototype.hasIntersection=function(){return this._result!==Ei.NO_INTERSECTION},Ei.prototype.getEdgeDistance=function(t,r){return Ei.computeEdgeDistance(this._intPt[r],this._inputLines[t][0],this._inputLines[t][1])},Ei.prototype.isCollinear=function(){return this._result===Ei.COLLINEAR_INTERSECTION},Ei.prototype.toString=function(){return Jo.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Jo.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},Ei.prototype.getEndpoint=function(t,r){return this._inputLines[t][r]},Ei.prototype.isIntersection=function(t){for(var r=0;r<this._result;r++)if(this._intPt[r].equals2D(t))return!0;return!1},Ei.prototype.getIntersectionAlongSegment=function(t,r){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][r]]},Ei.prototype.interfaces_=function(){return[]},Ei.prototype.getClass=function(){return Ei},Ei.computeEdgeDistance=function(t,r,s){var a=Math.abs(s.x-r.x),c=Math.abs(s.y-r.y),h=-1;if(t.equals(r))h=0;else if(t.equals(s))h=a>c?a:c;else{var g=Math.abs(t.x-r.x),v=Math.abs(t.y-r.y);(h=a>c?g:v)!==0||t.equals(r)||(h=Math.max(g,v))}return er.isTrue(!(h===0&&!t.equals(r)),"Bad distance calculation"),h},Ei.nonRobustComputeEdgeDistance=function(t,r,s){var a=t.x-r.x,c=t.y-r.y,h=Math.sqrt(a*a+c*c);return er.isTrue(!(h===0&&!t.equals(r)),"Invalid distance calculation"),h},Mu.DONT_INTERSECT.get=function(){return 0},Mu.DO_INTERSECT.get=function(){return 1},Mu.COLLINEAR.get=function(){return 2},Mu.NO_INTERSECTION.get=function(){return 0},Mu.POINT_INTERSECTION.get=function(){return 1},Mu.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(Ei,Mu);var kc=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.isInSegmentEnvelopes=function(s){var a=new Re(this._inputLines[0][0],this._inputLines[0][1]),c=new Re(this._inputLines[1][0],this._inputLines[1][1]);return a.contains(s)&&c.contains(s)},r.prototype.computeIntersection=function(){if(arguments.length!==3)return t.prototype.computeIntersection.apply(this,arguments);var s=arguments[0],a=arguments[1],c=arguments[2];if(this._isProper=!1,Re.intersects(a,c,s)&&fe.orientationIndex(a,c,s)===0&&fe.orientationIndex(c,a,s)===0)return this._isProper=!0,(s.equals(a)||s.equals(c))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},r.prototype.normalizeToMinimum=function(s,a,c,h,g){g.x=this.smallestInAbsValue(s.x,a.x,c.x,h.x),g.y=this.smallestInAbsValue(s.y,a.y,c.y,h.y),s.x-=g.x,s.y-=g.y,a.x-=g.x,a.y-=g.y,c.x-=g.x,c.y-=g.y,h.x-=g.x,h.y-=g.y},r.prototype.safeHCoordinateIntersection=function(s,a,c,h){var g=null;try{g=Ko.intersection(s,a,c,h)}catch(v){if(!(v instanceof Kh))throw v;g=r.nearestEndpoint(s,a,c,h)}return g},r.prototype.intersection=function(s,a,c,h){var g=this.intersectionWithNormalization(s,a,c,h);return this.isInSegmentEnvelopes(g)||(g=new Ct(r.nearestEndpoint(s,a,c,h))),this._precisionModel!==null&&this._precisionModel.makePrecise(g),g},r.prototype.smallestInAbsValue=function(s,a,c,h){var g=s,v=Math.abs(g);return Math.abs(a)<v&&(g=a,v=Math.abs(a)),Math.abs(c)<v&&(g=c,v=Math.abs(c)),Math.abs(h)<v&&(g=h),g},r.prototype.checkDD=function(s,a,c,h,g){var v=qn.intersection(s,a,c,h),w=this.isInSegmentEnvelopes(v);un.out.println("DD in env = "+w+"  --------------------- "+v),g.distance(v)>1e-4&&un.out.println("Distance = "+g.distance(v))},r.prototype.intersectionWithNormalization=function(s,a,c,h){var g=new Ct(s),v=new Ct(a),w=new Ct(c),x=new Ct(h),T=new Ct;this.normalizeToEnvCentre(g,v,w,x,T);var k=this.safeHCoordinateIntersection(g,v,w,x);return k.x+=T.x,k.y+=T.y,k},r.prototype.computeCollinearIntersection=function(s,a,c,h){var g=Re.intersects(s,a,c),v=Re.intersects(s,a,h),w=Re.intersects(c,h,s),x=Re.intersects(c,h,a);return g&&v?(this._intPt[0]=c,this._intPt[1]=h,t.COLLINEAR_INTERSECTION):w&&x?(this._intPt[0]=s,this._intPt[1]=a,t.COLLINEAR_INTERSECTION):g&&w?(this._intPt[0]=c,this._intPt[1]=s,!c.equals(s)||v||x?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):g&&x?(this._intPt[0]=c,this._intPt[1]=a,!c.equals(a)||v||w?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):v&&w?(this._intPt[0]=h,this._intPt[1]=s,!h.equals(s)||g||x?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):v&&x?(this._intPt[0]=h,this._intPt[1]=a,!h.equals(a)||g||w?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},r.prototype.normalizeToEnvCentre=function(s,a,c,h,g){var v=s.x<a.x?s.x:a.x,w=s.y<a.y?s.y:a.y,x=s.x>a.x?s.x:a.x,T=s.y>a.y?s.y:a.y,k=c.x<h.x?c.x:h.x,P=c.y<h.y?c.y:h.y,O=c.x>h.x?c.x:h.x,N=c.y>h.y?c.y:h.y,F=((v>k?v:k)+(x<O?x:O))/2,M=((w>P?w:P)+(T<N?T:N))/2;g.x=F,g.y=M,s.x-=g.x,s.y-=g.y,a.x-=g.x,a.y-=g.y,c.x-=g.x,c.y-=g.y,h.x-=g.x,h.y-=g.y},r.prototype.computeIntersect=function(s,a,c,h){if(this._isProper=!1,!Re.intersects(s,a,c,h))return t.NO_INTERSECTION;var g=fe.orientationIndex(s,a,c),v=fe.orientationIndex(s,a,h);if(g>0&&v>0||g<0&&v<0)return t.NO_INTERSECTION;var w=fe.orientationIndex(c,h,s),x=fe.orientationIndex(c,h,a);return w>0&&x>0||w<0&&x<0?t.NO_INTERSECTION:g===0&&v===0&&w===0&&x===0?this.computeCollinearIntersection(s,a,c,h):(g===0||v===0||w===0||x===0?(this._isProper=!1,s.equals2D(c)||s.equals2D(h)?this._intPt[0]=s:a.equals2D(c)||a.equals2D(h)?this._intPt[0]=a:g===0?this._intPt[0]=new Ct(c):v===0?this._intPt[0]=new Ct(h):w===0?this._intPt[0]=new Ct(s):x===0&&(this._intPt[0]=new Ct(a))):(this._isProper=!0,this._intPt[0]=this.intersection(s,a,c,h)),t.POINT_INTERSECTION)},r.prototype.interfaces_=function(){return[]},r.prototype.getClass=function(){return r},r.nearestEndpoint=function(s,a,c,h){var g=s,v=fe.distancePointLine(s,c,h),w=fe.distancePointLine(a,c,h);return w<v&&(v=w,g=a),(w=fe.distancePointLine(c,s,a))<v&&(v=w,g=c),(w=fe.distancePointLine(h,s,a))<v&&(v=w,g=h),g},r}(Ei),Iu=function(){};Iu.prototype.interfaces_=function(){return[]},Iu.prototype.getClass=function(){return Iu},Iu.orientationIndex=function(t,r,s){var a=r.x-t.x,c=r.y-t.y,h=s.x-r.x,g=s.y-r.y;return Iu.signOfDet2x2(a,c,h,g)},Iu.signOfDet2x2=function(t,r,s,a){var c=null,h=null,g=null;if(c=1,t===0||a===0)return r===0||s===0?0:r>0?s>0?-c:c:s>0?c:-c;if(r===0||s===0)return a>0?t>0?c:-c:t>0?-c:c;if(r>0?a>0?r<=a||(c=-c,h=t,t=s,s=h,h=r,r=a,a=h):r<=-a?(c=-c,s=-s,a=-a):(h=t,t=-s,s=h,h=r,r=-a,a=h):a>0?-r<=a?(c=-c,t=-t,r=-r):(h=-t,t=s,s=h,h=-r,r=a,a=h):r>=a?(t=-t,r=-r,s=-s,a=-a):(c=-c,h=-t,t=-s,s=h,h=-r,r=-a,a=h),t>0){if(!(s>0)||!(t<=s))return c}else{if(s>0||!(t>=s))return-c;c=-c,t=-t,s=-s}for(;;){if((a-=(g=Math.floor(s/t))*r)<0)return-c;if(a>r)return c;if(t>(s-=g*t)+s){if(r<a+a)return c}else{if(r>a+a)return-c;s=t-s,a=r-a,c=-c}if(a===0)return s===0?0:-c;if(s===0||(r-=(g=Math.floor(t/s))*a)<0)return c;if(r>a)return-c;if(s>(t-=g*s)+t){if(a<r+r)return-c}else{if(a>r+r)return c;t=s-t,r=a-r,c=-c}if(r===0)return t===0?0:c;if(t===0)return-c}};var _s=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};_s.prototype.countSegment=function(t,r){if(t.x<this._p.x&&r.x<this._p.x)return null;if(this._p.x===r.x&&this._p.y===r.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&r.y===this._p.y){var s=t.x,a=r.x;return s>a&&(s=r.x,a=t.x),this._p.x>=s&&this._p.x<=a&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&r.y<=this._p.y||r.y>this._p.y&&t.y<=this._p.y){var c=t.x-this._p.x,h=t.y-this._p.y,g=r.x-this._p.x,v=r.y-this._p.y,w=Iu.signOfDet2x2(c,h,g,v);if(w===0)return this._isPointOnSegment=!0,null;v<h&&(w=-w),w>0&&this._crossingCount++}},_s.prototype.isPointInPolygon=function(){return this.getLocation()!==At.EXTERIOR},_s.prototype.getLocation=function(){return this._isPointOnSegment?At.BOUNDARY:this._crossingCount%2==1?At.INTERIOR:At.EXTERIOR},_s.prototype.isOnSegment=function(){return this._isPointOnSegment},_s.prototype.interfaces_=function(){return[]},_s.prototype.getClass=function(){return _s},_s.locatePointInRing=function(){if(arguments[0]instanceof Ct&&Ge(arguments[1],vr)){for(var t=arguments[0],r=arguments[1],s=new _s(t),a=new Ct,c=new Ct,h=1;h<r.size();h++)if(r.getCoordinate(h,a),r.getCoordinate(h-1,c),s.countSegment(a,c),s.isOnSegment())return s.getLocation();return s.getLocation()}if(arguments[0]instanceof Ct&&arguments[1]instanceof Array){for(var g=arguments[0],v=arguments[1],w=new _s(g),x=1;x<v.length;x++){var T=v[x],k=v[x-1];if(w.countSegment(T,k),w.isOnSegment())return w.getLocation()}return w.getLocation()}};var fe=function(){},Lu={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};fe.prototype.interfaces_=function(){return[]},fe.prototype.getClass=function(){return fe},fe.orientationIndex=function(t,r,s){return qn.orientationIndex(t,r,s)},fe.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var r=0,s=t[0].x,a=1;a<t.length-1;a++){var c=t[a].x-s,h=t[a+1].y,g=t[a-1].y;r+=c*(g-h)}return r/2}if(Ge(arguments[0],vr)){var v=arguments[0],w=v.size();if(w<3)return 0;var x=new Ct,T=new Ct,k=new Ct;v.getCoordinate(0,T),v.getCoordinate(1,k);var P=T.x;k.x-=P;for(var O=0,N=1;N<w-1;N++)x.y=T.y,T.x=k.x,T.y=k.y,v.getCoordinate(N+1,k),k.x-=P,O+=T.x*(x.y-k.y);return O/2}},fe.distanceLineLine=function(t,r,s,a){if(t.equals(r))return fe.distancePointLine(t,s,a);if(s.equals(a))return fe.distancePointLine(a,t,r);var c=!1;if(Re.intersects(t,r,s,a)){var h=(r.x-t.x)*(a.y-s.y)-(r.y-t.y)*(a.x-s.x);if(h===0)c=!0;else{var g=(t.y-s.y)*(a.x-s.x)-(t.x-s.x)*(a.y-s.y),v=((t.y-s.y)*(r.x-t.x)-(t.x-s.x)*(r.y-t.y))/h,w=g/h;(w<0||w>1||v<0||v>1)&&(c=!0)}}else c=!0;return c?fo.min(fe.distancePointLine(t,s,a),fe.distancePointLine(r,s,a),fe.distancePointLine(s,t,r),fe.distancePointLine(a,t,r)):0},fe.isPointInRing=function(t,r){return fe.locatePointInRing(t,r)!==At.EXTERIOR},fe.computeLength=function(t){var r=t.size();if(r<=1)return 0;var s=0,a=new Ct;t.getCoordinate(0,a);for(var c=a.x,h=a.y,g=1;g<r;g++){t.getCoordinate(g,a);var v=a.x,w=a.y,x=v-c,T=w-h;s+=Math.sqrt(x*x+T*T),c=v,h=w}return s},fe.isCCW=function(t){var r=t.length-1;if(r<3)throw new _i("Ring has fewer than 4 points, so orientation cannot be determined");for(var s=t[0],a=0,c=1;c<=r;c++){var h=t[c];h.y>s.y&&(s=h,a=c)}var g=a;do(g-=1)<0&&(g=r);while(t[g].equals2D(s)&&g!==a);var v=a;do v=(v+1)%r;while(t[v].equals2D(s)&&v!==a);var w=t[g],x=t[v];if(w.equals2D(s)||x.equals2D(s)||w.equals2D(x))return!1;var T=fe.computeOrientation(w,s,x),k=!1;return k=T===0?w.x>x.x:T>0,k},fe.locatePointInRing=function(t,r){return _s.locatePointInRing(t,r)},fe.distancePointLinePerpendicular=function(t,r,s){var a=(s.x-r.x)*(s.x-r.x)+(s.y-r.y)*(s.y-r.y),c=((r.y-t.y)*(s.x-r.x)-(r.x-t.x)*(s.y-r.y))/a;return Math.abs(c)*Math.sqrt(a)},fe.computeOrientation=function(t,r,s){return fe.orientationIndex(t,r,s)},fe.distancePointLine=function(){if(arguments.length===2){var t=arguments[0],r=arguments[1];if(r.length===0)throw new _i("Line array must contain at least one vertex");for(var s=t.distance(r[0]),a=0;a<r.length-1;a++){var c=fe.distancePointLine(t,r[a],r[a+1]);c<s&&(s=c)}return s}if(arguments.length===3){var h=arguments[0],g=arguments[1],v=arguments[2];if(g.x===v.x&&g.y===v.y)return h.distance(g);var w=(v.x-g.x)*(v.x-g.x)+(v.y-g.y)*(v.y-g.y),x=((h.x-g.x)*(v.x-g.x)+(h.y-g.y)*(v.y-g.y))/w;if(x<=0)return h.distance(g);if(x>=1)return h.distance(v);var T=((g.y-h.y)*(v.x-g.x)-(g.x-h.x)*(v.y-g.y))/w;return Math.abs(T)*Math.sqrt(w)}},fe.isOnLine=function(t,r){for(var s=new kc,a=1;a<r.length;a++){var c=r[a-1],h=r[a];if(s.computeIntersection(t,c,h),s.hasIntersection())return!0}return!1},Lu.CLOCKWISE.get=function(){return-1},Lu.RIGHT.get=function(){return fe.CLOCKWISE},Lu.COUNTERCLOCKWISE.get=function(){return 1},Lu.LEFT.get=function(){return fe.COUNTERCLOCKWISE},Lu.COLLINEAR.get=function(){return 0},Lu.STRAIGHT.get=function(){return fe.COLLINEAR},Object.defineProperties(fe,Lu);var Fa=function(){};Fa.prototype.filter=function(t){},Fa.prototype.interfaces_=function(){return[]},Fa.prototype.getClass=function(){return Fa};var He=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},ra={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};He.prototype.isGeometryCollection=function(){return this.getSortIndex()===He.SORTINDEX_GEOMETRYCOLLECTION},He.prototype.getFactory=function(){return this._factory},He.prototype.getGeometryN=function(t){return this},He.prototype.getArea=function(){return 0},He.prototype.isRectangle=function(){return!1},He.prototype.equals=function(){if(arguments[0]instanceof He){var t=arguments[0];return t!==null&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var r=arguments[0];if(!(r instanceof He))return!1;var s=r;return this.equalsExact(s)}},He.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},He.prototype.geometryChanged=function(){this.apply(He.geometryChangedFilter)},He.prototype.geometryChangedAction=function(){this._envelope=null},He.prototype.equalsNorm=function(t){return t!==null&&this.norm().equalsExact(t.norm())},He.prototype.getLength=function(){return 0},He.prototype.getNumGeometries=function(){return 1},He.prototype.compareTo=function(){if(arguments.length===1){var t=arguments[0],r=t;return this.getSortIndex()!==r.getSortIndex()?this.getSortIndex()-r.getSortIndex():this.isEmpty()&&r.isEmpty()?0:this.isEmpty()?-1:r.isEmpty()?1:this.compareToSameClass(t)}if(arguments.length===2){var s=arguments[0],a=arguments[1];return this.getSortIndex()!==s.getSortIndex()?this.getSortIndex()-s.getSortIndex():this.isEmpty()&&s.isEmpty()?0:this.isEmpty()?-1:s.isEmpty()?1:this.compareToSameClass(s,a)}},He.prototype.getUserData=function(){return this._userData},He.prototype.getSRID=function(){return this._SRID},He.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},He.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===He.SORTINDEX_GEOMETRYCOLLECTION)throw new _i("This method does not support GeometryCollection arguments")},He.prototype.equal=function(t,r,s){return s===0?t.equals(r):t.distance(r)<=s},He.prototype.norm=function(){var t=this.copy();return t.normalize(),t},He.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},He.prototype.getEnvelopeInternal=function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new Re(this._envelope)},He.prototype.setSRID=function(t){this._SRID=t},He.prototype.setUserData=function(t){this._userData=t},He.prototype.compare=function(t,r){for(var s=t.iterator(),a=r.iterator();s.hasNext()&&a.hasNext();){var c=s.next(),h=a.next(),g=c.compareTo(h);if(g!==0)return g}return s.hasNext()?1:a.hasNext()?-1:0},He.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},He.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===He.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===He.SORTINDEX_MULTIPOINT||this.getSortIndex()===He.SORTINDEX_MULTILINESTRING||this.getSortIndex()===He.SORTINDEX_MULTIPOLYGON},He.prototype.interfaces_=function(){return[Am,Po,Mo]},He.prototype.getClass=function(){return He},He.hasNonEmptyElements=function(t){for(var r=0;r<t.length;r++)if(!t[r].isEmpty())return!0;return!1},He.hasNullElements=function(t){for(var r=0;r<t.length;r++)if(t[r]===null)return!0;return!1},ra.serialVersionUID.get=function(){return 8763622679187377e3},ra.SORTINDEX_POINT.get=function(){return 0},ra.SORTINDEX_MULTIPOINT.get=function(){return 1},ra.SORTINDEX_LINESTRING.get=function(){return 2},ra.SORTINDEX_LINEARRING.get=function(){return 3},ra.SORTINDEX_MULTILINESTRING.get=function(){return 4},ra.SORTINDEX_POLYGON.get=function(){return 5},ra.SORTINDEX_MULTIPOLYGON.get=function(){return 6},ra.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},ra.geometryChangedFilter.get=function(){return ub},Object.defineProperties(He,ra);var ub=function(){};ub.interfaces_=function(){return[Fa]},ub.filter=function(t){t.geometryChangedAction()};var ia=function(){};ia.prototype.filter=function(t){},ia.prototype.interfaces_=function(){return[]},ia.prototype.getClass=function(){return ia};var Io=function(){},Ba={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};Io.prototype.isInBoundary=function(t){},Io.prototype.interfaces_=function(){return[]},Io.prototype.getClass=function(){return Io},Ba.Mod2BoundaryNodeRule.get=function(){return Qh},Ba.EndPointBoundaryNodeRule.get=function(){return $h},Ba.MultiValentEndPointBoundaryNodeRule.get=function(){return td},Ba.MonoValentEndPointBoundaryNodeRule.get=function(){return ed},Ba.MOD2_BOUNDARY_RULE.get=function(){return new Qh},Ba.ENDPOINT_BOUNDARY_RULE.get=function(){return new $h},Ba.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new td},Ba.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new ed},Ba.OGC_SFS_BOUNDARY_RULE.get=function(){return Io.MOD2_BOUNDARY_RULE},Object.defineProperties(Io,Ba);var Qh=function(){};Qh.prototype.isInBoundary=function(t){return t%2==1},Qh.prototype.interfaces_=function(){return[Io]},Qh.prototype.getClass=function(){return Qh};var $h=function(){};$h.prototype.isInBoundary=function(t){return t>0},$h.prototype.interfaces_=function(){return[Io]},$h.prototype.getClass=function(){return $h};var td=function(){};td.prototype.isInBoundary=function(t){return t>1},td.prototype.interfaces_=function(){return[Io]},td.prototype.getClass=function(){return td};var ed=function(){};ed.prototype.isInBoundary=function(t){return t===1},ed.prototype.interfaces_=function(){return[Io]},ed.prototype.getClass=function(){return ed};var Hi=function(){};function hb(t){this.message=t||""}Hi.prototype.add=function(){},Hi.prototype.addAll=function(){},Hi.prototype.isEmpty=function(){},Hi.prototype.iterator=function(){},Hi.prototype.size=function(){},Hi.prototype.toArray=function(){},Hi.prototype.remove=function(){},hb.prototype=new Error,hb.prototype.name="IndexOutOfBoundsException";var rd=function(){};rd.prototype.hasNext=function(){},rd.prototype.next=function(){},rd.prototype.remove=function(){};var Qo=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.get=function(){},r.prototype.set=function(){},r.prototype.isEmpty=function(){},r}(Hi);function id(t){this.message=t||""}id.prototype=new Error,id.prototype.name="NoSuchElementException";var ce=function(t){function r(){t.call(this),this.array_=[],arguments[0]instanceof Hi&&this.addAll(arguments[0])}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.ensureCapacity=function(){},r.prototype.interfaces_=function(){return[t,Hi]},r.prototype.add=function(s){return arguments.length===1?this.array_.push(s):this.array_.splice(arguments[0],arguments[1]),!0},r.prototype.clear=function(){this.array_=[]},r.prototype.addAll=function(s){for(var a=s.iterator();a.hasNext();)this.add(a.next());return!0},r.prototype.set=function(s,a){var c=this.array_[s];return this.array_[s]=a,c},r.prototype.iterator=function(){return new SM(this)},r.prototype.get=function(s){if(s<0||s>=this.size())throw new hb;return this.array_[s]},r.prototype.isEmpty=function(){return this.array_.length===0},r.prototype.size=function(){return this.array_.length},r.prototype.toArray=function(){for(var s=[],a=0,c=this.array_.length;a<c;a++)s.push(this.array_[a]);return s},r.prototype.remove=function(s){for(var a=!1,c=0,h=this.array_.length;c<h;c++)if(this.array_[c]===s){this.array_.splice(c,1),a=!0;break}return a},r}(Qo),SM=function(t){function r(s){t.call(this),this.arrayList_=s,this.position_=0}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new id;return this.arrayList_.get(this.position_++)},r.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},r.prototype.set=function(s){return this.arrayList_.set(this.position_-1,s)},r.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},r}(rd),Qp=function(t){function r(){if(t.call(this),arguments.length!==0){if(arguments.length===1){var a=arguments[0];this.ensureCapacity(a.length),this.add(a,!0)}else if(arguments.length===2){var c=arguments[0],h=arguments[1];this.ensureCapacity(c.length),this.add(c,h)}}}t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r;var s={coordArrayType:{configurable:!0}};return s.coordArrayType.get=function(){return new Array(0).fill(null)},r.prototype.getCoordinate=function(a){return this.get(a)},r.prototype.addAll=function(){var a=this;if(arguments.length===2){for(var c=arguments[0],h=arguments[1],g=!1,v=c.iterator();v.hasNext();)a.add(v.next(),h),g=!0;return g}return t.prototype.addAll.apply(this,arguments)},r.prototype.clone=function(){for(var a=t.prototype.clone.call(this),c=0;c<this.size();c++)a.add(c,this.get(c).copy());return a},r.prototype.toCoordinateArray=function(){return this.toArray(r.coordArrayType)},r.prototype.add=function(){var a=this;if(arguments.length===1){var c=arguments[0];t.prototype.add.call(this,c)}else if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var h=arguments[0],g=arguments[1];return this.add(h,g,!0),!0}if(arguments[0]instanceof Ct&&typeof arguments[1]=="boolean"){var v=arguments[0],w=arguments[1];if(!w&&this.size()>=1){var x=this.get(this.size()-1);if(x.equals2D(v))return null}t.prototype.add.call(this,v)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var T=arguments[0],k=arguments[1];return this.add(T,k),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var P=arguments[0],O=arguments[1],N=arguments[2];if(N)for(var F=0;F<P.length;F++)a.add(P[F],O);else for(var M=P.length-1;M>=0;M--)a.add(P[M],O);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof Ct){var W=arguments[0],it=arguments[1],D=arguments[2];if(!D){var q=this.size();if(q>0){if(W>0){var Y=this.get(W-1);if(Y.equals2D(it))return null}if(W<q){var tt=this.get(W);if(tt.equals2D(it))return null}}}t.prototype.add.call(this,W,it)}}else if(arguments.length===4){var J=arguments[0],Rt=arguments[1],Et=arguments[2],Nt=arguments[3],Tt=1;Et>Nt&&(Tt=-1);for(var jt=Et;jt!==Nt;jt+=Tt)a.add(J[jt],Rt);return!0}},r.prototype.closeRing=function(){this.size()>0&&this.add(new Ct(this.get(0)),!1)},r.prototype.interfaces_=function(){return[]},r.prototype.getClass=function(){return r},Object.defineProperties(r,s),r}(ce),lr=function(){},Nm={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};Nm.ForwardComparator.get=function(){return $p},Nm.BidirectionalComparator.get=function(){return nd},Nm.coordArrayType.get=function(){return new Array(0).fill(null)},lr.prototype.interfaces_=function(){return[]},lr.prototype.getClass=function(){return lr},lr.isRing=function(t){return!(t.length<4)&&!!t[0].equals2D(t[t.length-1])},lr.ptNotInList=function(t,r){for(var s=0;s<t.length;s++){var a=t[s];if(lr.indexOf(a,r)<0)return a}return null},lr.scroll=function(t,r){var s=lr.indexOf(r,t);if(s<0)return null;var a=new Array(t.length).fill(null);un.arraycopy(t,s,a,0,t.length-s),un.arraycopy(t,0,a,t.length-s,s),un.arraycopy(a,0,t,0,t.length)},lr.equals=function(){if(arguments.length===2){var t=arguments[0],r=arguments[1];if(t===r)return!0;if(t===null||r===null||t.length!==r.length)return!1;for(var s=0;s<t.length;s++)if(!t[s].equals(r[s]))return!1;return!0}if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2];if(a===c)return!0;if(a===null||c===null||a.length!==c.length)return!1;for(var g=0;g<a.length;g++)if(h.compare(a[g],c[g])!==0)return!1;return!0}},lr.intersection=function(t,r){for(var s=new Qp,a=0;a<t.length;a++)r.intersects(t[a])&&s.add(t[a],!0);return s.toCoordinateArray()},lr.hasRepeatedPoints=function(t){for(var r=1;r<t.length;r++)if(t[r-1].equals(t[r]))return!0;return!1},lr.removeRepeatedPoints=function(t){return lr.hasRepeatedPoints(t)?new Qp(t,!1).toCoordinateArray():t},lr.reverse=function(t){for(var r=t.length-1,s=Math.trunc(r/2),a=0;a<=s;a++){var c=t[a];t[a]=t[r-a],t[r-a]=c}},lr.removeNull=function(t){for(var r=0,s=0;s<t.length;s++)t[s]!==null&&r++;var a=new Array(r).fill(null);if(r===0)return a;for(var c=0,h=0;h<t.length;h++)t[h]!==null&&(a[c++]=t[h]);return a},lr.copyDeep=function(){if(arguments.length===1){for(var t=arguments[0],r=new Array(t.length).fill(null),s=0;s<t.length;s++)r[s]=new Ct(t[s]);return r}if(arguments.length===5)for(var a=arguments[0],c=arguments[1],h=arguments[2],g=arguments[3],v=arguments[4],w=0;w<v;w++)h[g+w]=new Ct(a[c+w])},lr.isEqualReversed=function(t,r){for(var s=0;s<t.length;s++){var a=t[s],c=r[t.length-s-1];if(a.compareTo(c)!==0)return!1}return!0},lr.envelope=function(t){for(var r=new Re,s=0;s<t.length;s++)r.expandToInclude(t[s]);return r},lr.toCoordinateArray=function(t){return t.toArray(lr.coordArrayType)},lr.atLeastNCoordinatesOrNothing=function(t,r){return r.length>=t?r:[]},lr.indexOf=function(t,r){for(var s=0;s<r.length;s++)if(t.equals(r[s]))return s;return-1},lr.increasingDirection=function(t){for(var r=0;r<Math.trunc(t.length/2);r++){var s=t.length-1-r,a=t[r].compareTo(t[s]);if(a!==0)return a}return 1},lr.compare=function(t,r){for(var s=0;s<t.length&&s<r.length;){var a=t[s].compareTo(r[s]);if(a!==0)return a;s++}return s<r.length?-1:s<t.length?1:0},lr.minCoordinate=function(t){for(var r=null,s=0;s<t.length;s++)(r===null||r.compareTo(t[s])>0)&&(r=t[s]);return r},lr.extract=function(t,r,s){r=fo.clamp(r,0,t.length);var a=(s=fo.clamp(s,-1,t.length))-r+1;s<0&&(a=0),r>=t.length&&(a=0),s<r&&(a=0);var c=new Array(a).fill(null);if(a===0)return c;for(var h=0,g=r;g<=s;g++)c[h++]=t[g];return c},Object.defineProperties(lr,Nm);var $p=function(){};$p.prototype.compare=function(t,r){return lr.compare(t,r)},$p.prototype.interfaces_=function(){return[Xh]},$p.prototype.getClass=function(){return $p};var nd=function(){};nd.prototype.compare=function(t,r){var s=t,a=r;if(s.length<a.length)return-1;if(s.length>a.length)return 1;if(s.length===0)return 0;var c=lr.compare(s,a);return lr.isEqualReversed(s,a)?0:c},nd.prototype.OLDcompare=function(t,r){var s=t,a=r;if(s.length<a.length)return-1;if(s.length>a.length)return 1;if(s.length===0)return 0;for(var c=lr.increasingDirection(s),h=lr.increasingDirection(a),g=c>0?0:s.length-1,v=h>0?0:s.length-1,w=0;w<s.length;w++){var x=s[g].compareTo(a[v]);if(x!==0)return x;g+=c,v+=h}return 0},nd.prototype.interfaces_=function(){return[Xh]},nd.prototype.getClass=function(){return nd};var Ru=function(){};Ru.prototype.get=function(){},Ru.prototype.put=function(){},Ru.prototype.size=function(){},Ru.prototype.values=function(){},Ru.prototype.entrySet=function(){};var CM=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r}(Ru);function tf(t){this.message=t||""}function Dm(){}tf.prototype=new Error,tf.prototype.name="OperationNotSupported",Dm.prototype=new Hi,Dm.prototype.contains=function(){};var db=function(t){function r(){t.call(this),this.array_=[],arguments[0]instanceof Hi&&this.addAll(arguments[0])}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.contains=function(s){for(var a=0,c=this.array_.length;a<c;a++)if(this.array_[a]===s)return!0;return!1},r.prototype.add=function(s){return!this.contains(s)&&(this.array_.push(s),!0)},r.prototype.addAll=function(s){for(var a=s.iterator();a.hasNext();)this.add(a.next());return!0},r.prototype.remove=function(s){throw new Error},r.prototype.size=function(){return this.array_.length},r.prototype.isEmpty=function(){return this.array_.length===0},r.prototype.toArray=function(){for(var s=[],a=0,c=this.array_.length;a<c;a++)s.push(this.array_[a]);return s},r.prototype.iterator=function(){return new PM(this)},r}(Dm),PM=function(t){function r(s){t.call(this),this.hashSet_=s,this.position_=0}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new id;return this.hashSet_.array_[this.position_++]},r.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},r.prototype.remove=function(){throw new tf},r}(rd);function N_(t){return t===null?0:t.color}function di(t){return t===null?null:t.parent}function ja(t,r){t!==null&&(t.color=r)}function pb(t){return t===null?null:t.left}function D_(t){return t===null?null:t.right}function bn(){this.root_=null,this.size_=0}bn.prototype=new CM,bn.prototype.get=function(t){for(var r=this.root_;r!==null;){var s=t.compareTo(r.key);if(s<0)r=r.left;else{if(!(s>0))return r.value;r=r.right}}return null},bn.prototype.put=function(t,r){if(this.root_===null)return this.root_={key:t,value:r,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var s,a,c=this.root_;do if(s=c,(a=t.compareTo(c.key))<0)c=c.left;else{if(!(a>0)){var h=c.value;return c.value=r,h}c=c.right}while(c!==null);var g={key:t,left:null,right:null,value:r,parent:s,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return a<0?s.left=g:s.right=g,this.fixAfterInsertion(g),this.size_++,null},bn.prototype.fixAfterInsertion=function(t){var r=this;for(t.color=1;t!=null&&t!==this.root_&&t.parent.color===1;)if(di(t)===pb(di(di(t)))){var s=D_(di(di(t)));N_(s)===1?(ja(di(t),0),ja(s,0),ja(di(di(t)),1),t=di(di(t))):(t===D_(di(t))&&(t=di(t),r.rotateLeft(t)),ja(di(t),0),ja(di(di(t)),1),r.rotateRight(di(di(t))))}else{var a=pb(di(di(t)));N_(a)===1?(ja(di(t),0),ja(a,0),ja(di(di(t)),1),t=di(di(t))):(t===pb(di(t))&&(t=di(t),r.rotateRight(t)),ja(di(t),0),ja(di(di(t)),1),r.rotateLeft(di(di(t))))}this.root_.color=0},bn.prototype.values=function(){var t=new ce,r=this.getFirstEntry();if(r!==null)for(t.add(r.value);(r=bn.successor(r))!==null;)t.add(r.value);return t},bn.prototype.entrySet=function(){var t=new db,r=this.getFirstEntry();if(r!==null)for(t.add(r);(r=bn.successor(r))!==null;)t.add(r);return t},bn.prototype.rotateLeft=function(t){if(t!=null){var r=t.right;t.right=r.left,r.left!=null&&(r.left.parent=t),r.parent=t.parent,t.parent===null?this.root_=r:t.parent.left===t?t.parent.left=r:t.parent.right=r,r.left=t,t.parent=r}},bn.prototype.rotateRight=function(t){if(t!=null){var r=t.left;t.left=r.right,r.right!=null&&(r.right.parent=t),r.parent=t.parent,t.parent===null?this.root_=r:t.parent.right===t?t.parent.right=r:t.parent.left=r,r.right=t,t.parent=r}},bn.prototype.getFirstEntry=function(){var t=this.root_;if(t!=null)for(;t.left!=null;)t=t.left;return t},bn.successor=function(t){if(t===null)return null;if(t.right!==null){for(var r=t.right;r.left!==null;)r=r.left;return r}for(var s=t.parent,a=t;s!==null&&a===s.right;)a=s,s=s.parent;return s},bn.prototype.size=function(){return this.size_};var ef=function(){};function F_(){}function ks(){this.array_=[],arguments[0]instanceof Hi&&this.addAll(arguments[0])}ef.prototype.interfaces_=function(){return[]},ef.prototype.getClass=function(){return ef},F_.prototype=new Dm,ks.prototype=new F_,ks.prototype.contains=function(t){for(var r=0,s=this.array_.length;r<s;r++)if(this.array_[r].compareTo(t)===0)return!0;return!1},ks.prototype.add=function(t){if(this.contains(t))return!1;for(var r=0,s=this.array_.length;r<s;r++)if(this.array_[r].compareTo(t)===1)return this.array_.splice(r,0,t),!0;return this.array_.push(t),!0},ks.prototype.addAll=function(t){for(var r=t.iterator();r.hasNext();)this.add(r.next());return!0},ks.prototype.remove=function(t){throw new tf},ks.prototype.size=function(){return this.array_.length},ks.prototype.isEmpty=function(){return this.array_.length===0},ks.prototype.toArray=function(){for(var t=[],r=0,s=this.array_.length;r<s;r++)t.push(this.array_[r]);return t},ks.prototype.iterator=function(){return new Fm(this)};var Fm=function(t){this.treeSet_=t,this.position_=0};Fm.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new id;return this.treeSet_.array_[this.position_++]},Fm.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Fm.prototype.remove=function(){throw new tf};var Ec=function(){};Ec.sort=function(){var t,r,s,a,c=arguments[0];if(arguments.length===1)a=function(g,v){return g.compareTo(v)},c.sort(a);else if(arguments.length===2)s=arguments[1],a=function(g,v){return s.compare(g,v)},c.sort(a);else if(arguments.length===3){(r=c.slice(arguments[1],arguments[2])).sort();var h=c.slice(0,arguments[1]).concat(r,c.slice(arguments[2],c.length));for(c.splice(0,c.length),t=0;t<h.length;t++)c.push(h[t])}else if(arguments.length===4)for(r=c.slice(arguments[1],arguments[2]),s=arguments[3],a=function(g,v){return s.compare(g,v)},r.sort(a),h=c.slice(0,arguments[1]).concat(r,c.slice(arguments[2],c.length)),c.splice(0,c.length),t=0;t<h.length;t++)c.push(h[t])},Ec.asList=function(t){for(var r=new ce,s=0,a=t.length;s<a;s++)r.add(t[s]);return r};var Yr=function(){},$o={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};$o.P.get=function(){return 0},$o.L.get=function(){return 1},$o.A.get=function(){return 2},$o.FALSE.get=function(){return-1},$o.TRUE.get=function(){return-2},$o.DONTCARE.get=function(){return-3},$o.SYM_FALSE.get=function(){return"F"},$o.SYM_TRUE.get=function(){return"T"},$o.SYM_DONTCARE.get=function(){return"*"},$o.SYM_P.get=function(){return"0"},$o.SYM_L.get=function(){return"1"},$o.SYM_A.get=function(){return"2"},Yr.prototype.interfaces_=function(){return[]},Yr.prototype.getClass=function(){return Yr},Yr.toDimensionSymbol=function(t){switch(t){case Yr.FALSE:return Yr.SYM_FALSE;case Yr.TRUE:return Yr.SYM_TRUE;case Yr.DONTCARE:return Yr.SYM_DONTCARE;case Yr.P:return Yr.SYM_P;case Yr.L:return Yr.SYM_L;case Yr.A:return Yr.SYM_A}throw new _i("Unknown dimension value: "+t)},Yr.toDimensionValue=function(t){switch(Kp.toUpperCase(t)){case Yr.SYM_FALSE:return Yr.FALSE;case Yr.SYM_TRUE:return Yr.TRUE;case Yr.SYM_DONTCARE:return Yr.DONTCARE;case Yr.SYM_P:return Yr.P;case Yr.SYM_L:return Yr.L;case Yr.SYM_A:return Yr.A}throw new _i("Unknown dimension symbol: "+t)},Object.defineProperties(Yr,$o);var Es=function(){};Es.prototype.filter=function(t){},Es.prototype.interfaces_=function(){return[]},Es.prototype.getClass=function(){return Es};var ts=function(){};ts.prototype.filter=function(t,r){},ts.prototype.isDone=function(){},ts.prototype.isGeometryChanged=function(){},ts.prototype.interfaces_=function(){return[]},ts.prototype.getClass=function(){return ts};var In=function(t){function r(a,c){if(t.call(this,c),this._geometries=a||[],t.hasNullElements(this._geometries))throw new _i("geometries must not contain null elements")}t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r;var s={serialVersionUID:{configurable:!0}};return r.prototype.computeEnvelopeInternal=function(){for(var a=new Re,c=0;c<this._geometries.length;c++)a.expandToInclude(this._geometries[c].getEnvelopeInternal());return a},r.prototype.getGeometryN=function(a){return this._geometries[a]},r.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},r.prototype.getCoordinates=function(){for(var a=new Array(this.getNumPoints()).fill(null),c=-1,h=0;h<this._geometries.length;h++)for(var g=this._geometries[h].getCoordinates(),v=0;v<g.length;v++)a[++c]=g[v];return a},r.prototype.getArea=function(){for(var a=0,c=0;c<this._geometries.length;c++)a+=this._geometries[c].getArea();return a},r.prototype.equalsExact=function(){var a=this;if(arguments.length===2){var c=arguments[0],h=arguments[1];if(!this.isEquivalentClass(c))return!1;var g=c;if(this._geometries.length!==g._geometries.length)return!1;for(var v=0;v<this._geometries.length;v++)if(!a._geometries[v].equalsExact(g._geometries[v],h))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},r.prototype.normalize=function(){for(var a=0;a<this._geometries.length;a++)this._geometries[a].normalize();Ec.sort(this._geometries)},r.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},r.prototype.getBoundaryDimension=function(){for(var a=Yr.FALSE,c=0;c<this._geometries.length;c++)a=Math.max(a,this._geometries[c].getBoundaryDimension());return a},r.prototype.getDimension=function(){for(var a=Yr.FALSE,c=0;c<this._geometries.length;c++)a=Math.max(a,this._geometries[c].getDimension());return a},r.prototype.getLength=function(){for(var a=0,c=0;c<this._geometries.length;c++)a+=this._geometries[c].getLength();return a},r.prototype.getNumPoints=function(){for(var a=0,c=0;c<this._geometries.length;c++)a+=this._geometries[c].getNumPoints();return a},r.prototype.getNumGeometries=function(){return this._geometries.length},r.prototype.reverse=function(){for(var a=this._geometries.length,c=new Array(a).fill(null),h=0;h<this._geometries.length;h++)c[h]=this._geometries[h].reverse();return this.getFactory().createGeometryCollection(c)},r.prototype.compareToSameClass=function(){var a=this;if(arguments.length===1){var c=arguments[0],h=new ks(Ec.asList(this._geometries)),g=new ks(Ec.asList(c._geometries));return this.compare(h,g)}if(arguments.length===2){for(var v=arguments[0],w=arguments[1],x=v,T=this.getNumGeometries(),k=x.getNumGeometries(),P=0;P<T&&P<k;){var O=a.getGeometryN(P),N=x.getGeometryN(P),F=O.compareToSameClass(N,w);if(F!==0)return F;P++}return P<T?1:P<k?-1:0}},r.prototype.apply=function(){var a=this;if(Ge(arguments[0],ia))for(var c=arguments[0],h=0;h<this._geometries.length;h++)a._geometries[h].apply(c);else if(Ge(arguments[0],ts)){var g=arguments[0];if(this._geometries.length===0)return null;for(var v=0;v<this._geometries.length&&(a._geometries[v].apply(g),!g.isDone());v++);g.isGeometryChanged()&&this.geometryChanged()}else if(Ge(arguments[0],Es)){var w=arguments[0];w.filter(this);for(var x=0;x<this._geometries.length;x++)a._geometries[x].apply(w)}else if(Ge(arguments[0],Fa)){var T=arguments[0];T.filter(this);for(var k=0;k<this._geometries.length;k++)a._geometries[k].apply(T)}},r.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),er.shouldNeverReachHere(),null},r.prototype.clone=function(){var a=t.prototype.clone.call(this);a._geometries=new Array(this._geometries.length).fill(null);for(var c=0;c<this._geometries.length;c++)a._geometries[c]=this._geometries[c].clone();return a},r.prototype.getGeometryType=function(){return"GeometryCollection"},r.prototype.copy=function(){for(var a=new Array(this._geometries.length).fill(null),c=0;c<a.length;c++)a[c]=this._geometries[c].copy();return new r(a,this._factory)},r.prototype.isEmpty=function(){for(var a=0;a<this._geometries.length;a++)if(!this._geometries[a].isEmpty())return!1;return!0},r.prototype.interfaces_=function(){return[]},r.prototype.getClass=function(){return r},s.serialVersionUID.get=function(){return-5694727726395021e3},Object.defineProperties(r,s),r}(He),Tc=function(t){function r(){t.apply(this,arguments)}t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r;var s={serialVersionUID:{configurable:!0}};return r.prototype.getSortIndex=function(){return He.SORTINDEX_MULTILINESTRING},r.prototype.equalsExact=function(){if(arguments.length===2){var a=arguments[0],c=arguments[1];return!!this.isEquivalentClass(a)&&t.prototype.equalsExact.call(this,a,c)}return t.prototype.equalsExact.apply(this,arguments)},r.prototype.getBoundaryDimension=function(){return this.isClosed()?Yr.FALSE:0},r.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var a=0;a<this._geometries.length;a++)if(!this._geometries[a].isClosed())return!1;return!0},r.prototype.getDimension=function(){return 1},r.prototype.reverse=function(){for(var a=this._geometries.length,c=new Array(a).fill(null),h=0;h<this._geometries.length;h++)c[a-1-h]=this._geometries[h].reverse();return this.getFactory().createMultiLineString(c)},r.prototype.getBoundary=function(){return new Lo(this).getBoundary()},r.prototype.getGeometryType=function(){return"MultiLineString"},r.prototype.copy=function(){for(var a=new Array(this._geometries.length).fill(null),c=0;c<a.length;c++)a[c]=this._geometries[c].copy();return new r(a,this._factory)},r.prototype.interfaces_=function(){return[ef]},r.prototype.getClass=function(){return r},s.serialVersionUID.get=function(){return 8166665132445434e3},Object.defineProperties(r,s),r}(In),Lo=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,arguments.length===1){var t=arguments[0],r=Io.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=r}else if(arguments.length===2){var s=arguments[0],a=arguments[1];this._geom=s,this._geomFact=s.getFactory(),this._bnRule=a}};Lo.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var r=this.computeBoundaryCoordinates(t);return r.length===1?this._geomFact.createPoint(r[0]):this._geomFact.createMultiPointFromCoords(r)},Lo.prototype.getBoundary=function(){return this._geom instanceof Pi?this.boundaryLineString(this._geom):this._geom instanceof Tc?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Lo.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},Lo.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Lo.prototype.computeBoundaryCoordinates=function(t){var r=this,s=new ce;this._endpointMap=new bn;for(var a=0;a<t.getNumGeometries();a++){var c=t.getGeometryN(a);c.getNumPoints()!==0&&(r.addEndpoint(c.getCoordinateN(0)),r.addEndpoint(c.getCoordinateN(c.getNumPoints()-1)))}for(var h=this._endpointMap.entrySet().iterator();h.hasNext();){var g=h.next(),v=g.getValue().count;r._bnRule.isInBoundary(v)&&s.add(g.getKey())}return lr.toCoordinateArray(s)},Lo.prototype.addEndpoint=function(t){var r=this._endpointMap.get(t);r===null&&(r=new Bm,this._endpointMap.put(t,r)),r.count++},Lo.prototype.interfaces_=function(){return[]},Lo.prototype.getClass=function(){return Lo},Lo.getBoundary=function(){if(arguments.length===1){var t=arguments[0],r=new Lo(t);return r.getBoundary()}if(arguments.length===2){var s=arguments[0],a=arguments[1],c=new Lo(s,a);return c.getBoundary()}};var Bm=function(){this.count=null};function MM(){}function IM(){}Bm.prototype.interfaces_=function(){return[]},Bm.prototype.getClass=function(){return Bm};var LM=function(){};function RM(){}function AM(){}function zM(){}var Ro=function(){},fb={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Ro.prototype.interfaces_=function(){return[]},Ro.prototype.getClass=function(){return Ro},Ro.chars=function(t,r){for(var s=new Array(r).fill(null),a=0;a<r;a++)s[a]=t;return String(s)},Ro.getStackTrace=function(){if(arguments.length===1){var t=arguments[0],r=new RM,s=new MM;return t.printStackTrace(s),r.toString()}if(arguments.length===2){for(var a=arguments[0],c=arguments[1],h="",g=new IM(Ro.getStackTrace(a)),v=new zM,w=0;w<c;w++)try{h+=v.readLine()+Ro.NEWLINE}catch(x){if(!(x instanceof AM))throw x;er.shouldNeverReachHere()}return h}},Ro.split=function(t,r){for(var s=r.length,a=new ce,c=""+t,h=c.indexOf(r);h>=0;){var g=c.substring(0,h);a.add(g),h=(c=c.substring(h+s)).indexOf(r)}c.length>0&&a.add(c);for(var v=new Array(a.size()).fill(null),w=0;w<v.length;w++)v[w]=a.get(w);return v},Ro.toString=function(){if(arguments.length===1){var t=arguments[0];return Ro.SIMPLE_ORDINATE_FORMAT.format(t)}},Ro.spaces=function(t){return Ro.chars(" ",t)},fb.NEWLINE.get=function(){return un.getProperty("line.separator")},fb.SIMPLE_ORDINATE_FORMAT.get=function(){return new LM},Object.defineProperties(Ro,fb);var Ii=function(){};Ii.prototype.interfaces_=function(){return[]},Ii.prototype.getClass=function(){return Ii},Ii.copyCoord=function(t,r,s,a){for(var c=Math.min(t.getDimension(),s.getDimension()),h=0;h<c;h++)s.setOrdinate(a,h,t.getOrdinate(r,h))},Ii.isRing=function(t){var r=t.size();return r===0||!(r<=3)&&t.getOrdinate(0,vr.X)===t.getOrdinate(r-1,vr.X)&&t.getOrdinate(0,vr.Y)===t.getOrdinate(r-1,vr.Y)},Ii.isEqual=function(t,r){var s=t.size();if(s!==r.size())return!1;for(var a=Math.min(t.getDimension(),r.getDimension()),c=0;c<s;c++)for(var h=0;h<a;h++){var g=t.getOrdinate(c,h),v=r.getOrdinate(c,h);if(t.getOrdinate(c,h)!==r.getOrdinate(c,h)&&(!Ke.isNaN(g)||!Ke.isNaN(v)))return!1}return!0},Ii.extend=function(t,r,s){var a=t.create(s,r.getDimension()),c=r.size();if(Ii.copy(r,0,a,0,c),c>0)for(var h=c;h<s;h++)Ii.copy(r,c-1,a,h,1);return a},Ii.reverse=function(t){for(var r=t.size()-1,s=Math.trunc(r/2),a=0;a<=s;a++)Ii.swap(t,a,r-a)},Ii.swap=function(t,r,s){if(r===s)return null;for(var a=0;a<t.getDimension();a++){var c=t.getOrdinate(r,a);t.setOrdinate(r,a,t.getOrdinate(s,a)),t.setOrdinate(s,a,c)}},Ii.copy=function(t,r,s,a,c){for(var h=0;h<c;h++)Ii.copyCoord(t,r+h,s,a+h)},Ii.toString=function(){if(arguments.length===1){var t=arguments[0],r=t.size();if(r===0)return"()";var s=t.getDimension(),a=new bs;a.append("(");for(var c=0;c<r;c++){c>0&&a.append(" ");for(var h=0;h<s;h++)h>0&&a.append(","),a.append(Ro.toString(t.getOrdinate(c,h)))}return a.append(")"),a.toString()}},Ii.ensureValidRing=function(t,r){var s=r.size();return s===0?r:s<=3?Ii.createClosedRing(t,r,4):r.getOrdinate(0,vr.X)===r.getOrdinate(s-1,vr.X)&&r.getOrdinate(0,vr.Y)===r.getOrdinate(s-1,vr.Y)?r:Ii.createClosedRing(t,r,s+1)},Ii.createClosedRing=function(t,r,s){var a=t.create(s,r.getDimension()),c=r.size();Ii.copy(r,0,a,0,c);for(var h=c;h<s;h++)Ii.copy(r,0,a,h,1);return a};var Pi=function(t){function r(a,c){t.call(this,c),this._points=null,this.init(a)}t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r;var s={serialVersionUID:{configurable:!0}};return r.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new Re:this._points.expandEnvelope(new Re)},r.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},r.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},r.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},r.prototype.equalsExact=function(){var a=this;if(arguments.length===2){var c=arguments[0],h=arguments[1];if(!this.isEquivalentClass(c))return!1;var g=c;if(this._points.size()!==g._points.size())return!1;for(var v=0;v<this._points.size();v++)if(!a.equal(a._points.getCoordinate(v),g._points.getCoordinate(v),h))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},r.prototype.normalize=function(){for(var a=this,c=0;c<Math.trunc(this._points.size()/2);c++){var h=a._points.size()-1-c;if(!a._points.getCoordinate(c).equals(a._points.getCoordinate(h)))return a._points.getCoordinate(c).compareTo(a._points.getCoordinate(h))>0&&Ii.reverse(a._points),null}},r.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},r.prototype.getBoundaryDimension=function(){return this.isClosed()?Yr.FALSE:0},r.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},r.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},r.prototype.getDimension=function(){return 1},r.prototype.getLength=function(){return fe.computeLength(this._points)},r.prototype.getNumPoints=function(){return this._points.size()},r.prototype.reverse=function(){var a=this._points.copy();return Ii.reverse(a),this.getFactory().createLineString(a)},r.prototype.compareToSameClass=function(){var a=this;if(arguments.length===1){for(var c=arguments[0],h=c,g=0,v=0;g<this._points.size()&&v<h._points.size();){var w=a._points.getCoordinate(g).compareTo(h._points.getCoordinate(v));if(w!==0)return w;g++,v++}return g<this._points.size()?1:v<h._points.size()?-1:0}if(arguments.length===2){var x=arguments[0],T=arguments[1],k=x;return T.compare(this._points,k._points)}},r.prototype.apply=function(){var a=this;if(Ge(arguments[0],ia))for(var c=arguments[0],h=0;h<this._points.size();h++)c.filter(a._points.getCoordinate(h));else if(Ge(arguments[0],ts)){var g=arguments[0];if(this._points.size()===0)return null;for(var v=0;v<this._points.size()&&(g.filter(a._points,v),!g.isDone());v++);g.isGeometryChanged()&&this.geometryChanged()}else if(Ge(arguments[0],Es)){var w=arguments[0];w.filter(this)}else if(Ge(arguments[0],Fa)){var x=arguments[0];x.filter(this)}},r.prototype.getBoundary=function(){return new Lo(this).getBoundary()},r.prototype.isEquivalentClass=function(a){return a instanceof r},r.prototype.clone=function(){var a=t.prototype.clone.call(this);return a._points=this._points.clone(),a},r.prototype.getCoordinateN=function(a){return this._points.getCoordinate(a)},r.prototype.getGeometryType=function(){return"LineString"},r.prototype.copy=function(){return new r(this._points.copy(),this._factory)},r.prototype.getCoordinateSequence=function(){return this._points},r.prototype.isEmpty=function(){return this._points.size()===0},r.prototype.init=function(a){if(a===null&&(a=this.getFactory().getCoordinateSequenceFactory().create([])),a.size()===1)throw new _i("Invalid number of points in LineString (found "+a.size()+" - must be 0 or >= 2)");this._points=a},r.prototype.isCoordinate=function(a){for(var c=0;c<this._points.size();c++)if(this._points.getCoordinate(c).equals(a))return!0;return!1},r.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},r.prototype.getPointN=function(a){return this.getFactory().createPoint(this._points.getCoordinate(a))},r.prototype.interfaces_=function(){return[ef]},r.prototype.getClass=function(){return r},s.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(r,s),r}(He),rf=function(){};rf.prototype.interfaces_=function(){return[]},rf.prototype.getClass=function(){return rf};var Qn=function(t){function r(a,c){t.call(this,c),this._coordinates=a||null,this.init(this._coordinates)}t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r;var s={serialVersionUID:{configurable:!0}};return r.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new Re;var a=new Re;return a.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),a},r.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},r.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},r.prototype.equalsExact=function(){if(arguments.length===2){var a=arguments[0],c=arguments[1];return!!this.isEquivalentClass(a)&&(!(!this.isEmpty()||!a.isEmpty())||this.isEmpty()===a.isEmpty()&&this.equal(a.getCoordinate(),this.getCoordinate(),c))}return t.prototype.equalsExact.apply(this,arguments)},r.prototype.normalize=function(){},r.prototype.getCoordinate=function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null},r.prototype.getBoundaryDimension=function(){return Yr.FALSE},r.prototype.getDimension=function(){return 0},r.prototype.getNumPoints=function(){return this.isEmpty()?0:1},r.prototype.reverse=function(){return this.copy()},r.prototype.getX=function(){if(this.getCoordinate()===null)throw new Error("getX called on empty Point");return this.getCoordinate().x},r.prototype.compareToSameClass=function(){if(arguments.length===1){var a=arguments[0],c=a;return this.getCoordinate().compareTo(c.getCoordinate())}if(arguments.length===2){var h=arguments[0],g=arguments[1],v=h;return g.compare(this._coordinates,v._coordinates)}},r.prototype.apply=function(){if(Ge(arguments[0],ia)){var a=arguments[0];if(this.isEmpty())return null;a.filter(this.getCoordinate())}else if(Ge(arguments[0],ts)){var c=arguments[0];if(this.isEmpty())return null;c.filter(this._coordinates,0),c.isGeometryChanged()&&this.geometryChanged()}else if(Ge(arguments[0],Es)){var h=arguments[0];h.filter(this)}else if(Ge(arguments[0],Fa)){var g=arguments[0];g.filter(this)}},r.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},r.prototype.clone=function(){var a=t.prototype.clone.call(this);return a._coordinates=this._coordinates.clone(),a},r.prototype.getGeometryType=function(){return"Point"},r.prototype.copy=function(){return new r(this._coordinates.copy(),this._factory)},r.prototype.getCoordinateSequence=function(){return this._coordinates},r.prototype.getY=function(){if(this.getCoordinate()===null)throw new Error("getY called on empty Point");return this.getCoordinate().y},r.prototype.isEmpty=function(){return this._coordinates.size()===0},r.prototype.init=function(a){a===null&&(a=this.getFactory().getCoordinateSequenceFactory().create([])),er.isTrue(a.size()<=1),this._coordinates=a},r.prototype.isSimple=function(){return!0},r.prototype.interfaces_=function(){return[rf]},r.prototype.getClass=function(){return r},s.serialVersionUID.get=function(){return 4902022702746615e3},Object.defineProperties(r,s),r}(He),Pl=function(){};Pl.prototype.interfaces_=function(){return[]},Pl.prototype.getClass=function(){return Pl};var Ui=function(t){function r(a,c,h){if(t.call(this,h),this._shell=null,this._holes=null,a===null&&(a=this.getFactory().createLinearRing()),c===null&&(c=[]),t.hasNullElements(c))throw new _i("holes must not contain null elements");if(a.isEmpty()&&t.hasNonEmptyElements(c))throw new _i("shell is empty but holes are not");this._shell=a,this._holes=c}t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r;var s={serialVersionUID:{configurable:!0}};return r.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},r.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},r.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var a=new Array(this.getNumPoints()).fill(null),c=-1,h=this._shell.getCoordinates(),g=0;g<h.length;g++)a[++c]=h[g];for(var v=0;v<this._holes.length;v++)for(var w=this._holes[v].getCoordinates(),x=0;x<w.length;x++)a[++c]=w[x];return a},r.prototype.getArea=function(){var a=0;a+=Math.abs(fe.signedArea(this._shell.getCoordinateSequence()));for(var c=0;c<this._holes.length;c++)a-=Math.abs(fe.signedArea(this._holes[c].getCoordinateSequence()));return a},r.prototype.isRectangle=function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var a=this._shell.getCoordinateSequence(),c=this.getEnvelopeInternal(),h=0;h<5;h++){var g=a.getX(h);if(g!==c.getMinX()&&g!==c.getMaxX())return!1;var v=a.getY(h);if(v!==c.getMinY()&&v!==c.getMaxY())return!1}for(var w=a.getX(0),x=a.getY(0),T=1;T<=4;T++){var k=a.getX(T),P=a.getY(T);if(k!==w==(P!==x))return!1;w=k,x=P}return!0},r.prototype.equalsExact=function(){var a=this;if(arguments.length===2){var c=arguments[0],h=arguments[1];if(!this.isEquivalentClass(c))return!1;var g=c,v=this._shell,w=g._shell;if(!v.equalsExact(w,h)||this._holes.length!==g._holes.length)return!1;for(var x=0;x<this._holes.length;x++)if(!a._holes[x].equalsExact(g._holes[x],h))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},r.prototype.normalize=function(){var a=this;if(arguments.length===0){this.normalize(this._shell,!0);for(var c=0;c<this._holes.length;c++)a.normalize(a._holes[c],!1);Ec.sort(this._holes)}else if(arguments.length===2){var h=arguments[0],g=arguments[1];if(h.isEmpty())return null;var v=new Array(h.getCoordinates().length-1).fill(null);un.arraycopy(h.getCoordinates(),0,v,0,v.length);var w=lr.minCoordinate(h.getCoordinates());lr.scroll(v,w),un.arraycopy(v,0,h.getCoordinates(),0,v.length),h.getCoordinates()[v.length]=v[0],fe.isCCW(h.getCoordinates())===g&&lr.reverse(h.getCoordinates())}},r.prototype.getCoordinate=function(){return this._shell.getCoordinate()},r.prototype.getNumInteriorRing=function(){return this._holes.length},r.prototype.getBoundaryDimension=function(){return 1},r.prototype.getDimension=function(){return 2},r.prototype.getLength=function(){var a=0;a+=this._shell.getLength();for(var c=0;c<this._holes.length;c++)a+=this._holes[c].getLength();return a},r.prototype.getNumPoints=function(){for(var a=this._shell.getNumPoints(),c=0;c<this._holes.length;c++)a+=this._holes[c].getNumPoints();return a},r.prototype.reverse=function(){var a=this.copy();a._shell=this._shell.copy().reverse(),a._holes=new Array(this._holes.length).fill(null);for(var c=0;c<this._holes.length;c++)a._holes[c]=this._holes[c].copy().reverse();return a},r.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},r.prototype.compareToSameClass=function(){var a=this;if(arguments.length===1){var c=arguments[0],h=this._shell,g=c._shell;return h.compareToSameClass(g)}if(arguments.length===2){var v=arguments[0],w=arguments[1],x=v,T=this._shell,k=x._shell,P=T.compareToSameClass(k,w);if(P!==0)return P;for(var O=this.getNumInteriorRing(),N=x.getNumInteriorRing(),F=0;F<O&&F<N;){var M=a.getInteriorRingN(F),W=x.getInteriorRingN(F),it=M.compareToSameClass(W,w);if(it!==0)return it;F++}return F<O?1:F<N?-1:0}},r.prototype.apply=function(a){var c=this;if(Ge(a,ia)){this._shell.apply(a);for(var h=0;h<this._holes.length;h++)c._holes[h].apply(a)}else if(Ge(a,ts)){if(this._shell.apply(a),!a.isDone())for(var g=0;g<this._holes.length&&(c._holes[g].apply(a),!a.isDone());g++);a.isGeometryChanged()&&this.geometryChanged()}else if(Ge(a,Es))a.filter(this);else if(Ge(a,Fa)){a.filter(this),this._shell.apply(a);for(var v=0;v<this._holes.length;v++)c._holes[v].apply(a)}},r.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var a=new Array(this._holes.length+1).fill(null);a[0]=this._shell;for(var c=0;c<this._holes.length;c++)a[c+1]=this._holes[c];return a.length<=1?this.getFactory().createLinearRing(a[0].getCoordinateSequence()):this.getFactory().createMultiLineString(a)},r.prototype.clone=function(){var a=t.prototype.clone.call(this);a._shell=this._shell.clone(),a._holes=new Array(this._holes.length).fill(null);for(var c=0;c<this._holes.length;c++)a._holes[c]=this._holes[c].clone();return a},r.prototype.getGeometryType=function(){return"Polygon"},r.prototype.copy=function(){for(var a=this._shell.copy(),c=new Array(this._holes.length).fill(null),h=0;h<c.length;h++)c[h]=this._holes[h].copy();return new r(a,c,this._factory)},r.prototype.getExteriorRing=function(){return this._shell},r.prototype.isEmpty=function(){return this._shell.isEmpty()},r.prototype.getInteriorRingN=function(a){return this._holes[a]},r.prototype.interfaces_=function(){return[Pl]},r.prototype.getClass=function(){return r},s.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(r,s),r}(He),od=function(t){function r(){t.apply(this,arguments)}t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r;var s={serialVersionUID:{configurable:!0}};return r.prototype.getSortIndex=function(){return He.SORTINDEX_MULTIPOINT},r.prototype.isValid=function(){return!0},r.prototype.equalsExact=function(){if(arguments.length===2){var a=arguments[0],c=arguments[1];return!!this.isEquivalentClass(a)&&t.prototype.equalsExact.call(this,a,c)}return t.prototype.equalsExact.apply(this,arguments)},r.prototype.getCoordinate=function(){if(arguments.length===1){var a=arguments[0];return this._geometries[a].getCoordinate()}return t.prototype.getCoordinate.apply(this,arguments)},r.prototype.getBoundaryDimension=function(){return Yr.FALSE},r.prototype.getDimension=function(){return 0},r.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},r.prototype.getGeometryType=function(){return"MultiPoint"},r.prototype.copy=function(){for(var a=new Array(this._geometries.length).fill(null),c=0;c<a.length;c++)a[c]=this._geometries[c].copy();return new r(a,this._factory)},r.prototype.interfaces_=function(){return[rf]},r.prototype.getClass=function(){return r},s.serialVersionUID.get=function(){return-8048474874175356e3},Object.defineProperties(r,s),r}(In),na=function(t){function r(a,c){a instanceof Ct&&c instanceof cr&&(a=c.getCoordinateSequenceFactory().create(a)),t.call(this,a,c),this.validateConstruction()}t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r;var s={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return r.prototype.getSortIndex=function(){return He.SORTINDEX_LINEARRING},r.prototype.getBoundaryDimension=function(){return Yr.FALSE},r.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},r.prototype.reverse=function(){var a=this._points.copy();return Ii.reverse(a),this.getFactory().createLinearRing(a)},r.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new _i("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<r.MINIMUM_VALID_SIZE)throw new _i("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},r.prototype.getGeometryType=function(){return"LinearRing"},r.prototype.copy=function(){return new r(this._points.copy(),this._factory)},r.prototype.interfaces_=function(){return[]},r.prototype.getClass=function(){return r},s.MINIMUM_VALID_SIZE.get=function(){return 4},s.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(r,s),r}(Pi),oa=function(t){function r(){t.apply(this,arguments)}t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r;var s={serialVersionUID:{configurable:!0}};return r.prototype.getSortIndex=function(){return He.SORTINDEX_MULTIPOLYGON},r.prototype.equalsExact=function(){if(arguments.length===2){var a=arguments[0],c=arguments[1];return!!this.isEquivalentClass(a)&&t.prototype.equalsExact.call(this,a,c)}return t.prototype.equalsExact.apply(this,arguments)},r.prototype.getBoundaryDimension=function(){return 1},r.prototype.getDimension=function(){return 2},r.prototype.reverse=function(){for(var a=this._geometries.length,c=new Array(a).fill(null),h=0;h<this._geometries.length;h++)c[h]=this._geometries[h].reverse();return this.getFactory().createMultiPolygon(c)},r.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var a=new ce,c=0;c<this._geometries.length;c++)for(var h=this._geometries[c].getBoundary(),g=0;g<h.getNumGeometries();g++)a.add(h.getGeometryN(g));var v=new Array(a.size()).fill(null);return this.getFactory().createMultiLineString(a.toArray(v))},r.prototype.getGeometryType=function(){return"MultiPolygon"},r.prototype.copy=function(){for(var a=new Array(this._geometries.length).fill(null),c=0;c<a.length;c++)a[c]=this._geometries[c].copy();return new r(a,this._factory)},r.prototype.interfaces_=function(){return[Pl]},r.prototype.getClass=function(){return r},s.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(r,s),r}(In),Ao=function(t){this._factory=t||null,this._isUserDataCopied=!1},jm={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};Ao.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},Ao.prototype.edit=function(t,r){if(t===null)return null;var s=this.editInternal(t,r);return this._isUserDataCopied&&s.setUserData(t.getUserData()),s},Ao.prototype.editInternal=function(t,r){return this._factory===null&&(this._factory=t.getFactory()),t instanceof In?this.editGeometryCollection(t,r):t instanceof Ui?this.editPolygon(t,r):t instanceof Qn||t instanceof Pi?r.edit(t,this._factory):(er.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},Ao.prototype.editGeometryCollection=function(t,r){for(var s=r.edit(t,this._factory),a=new ce,c=0;c<s.getNumGeometries();c++){var h=this.edit(s.getGeometryN(c),r);h===null||h.isEmpty()||a.add(h)}return s.getClass()===od?this._factory.createMultiPoint(a.toArray([])):s.getClass()===Tc?this._factory.createMultiLineString(a.toArray([])):s.getClass()===oa?this._factory.createMultiPolygon(a.toArray([])):this._factory.createGeometryCollection(a.toArray([]))},Ao.prototype.editPolygon=function(t,r){var s=r.edit(t,this._factory);if(s===null&&(s=this._factory.createPolygon(null)),s.isEmpty())return s;var a=this.edit(s.getExteriorRing(),r);if(a===null||a.isEmpty())return this._factory.createPolygon();for(var c=new ce,h=0;h<s.getNumInteriorRing();h++){var g=this.edit(s.getInteriorRingN(h),r);g===null||g.isEmpty()||c.add(g)}return this._factory.createPolygon(a,c.toArray([]))},Ao.prototype.interfaces_=function(){return[]},Ao.prototype.getClass=function(){return Ao},Ao.GeometryEditorOperation=function(){},jm.NoOpGeometryOperation.get=function(){return nf},jm.CoordinateOperation.get=function(){return of},jm.CoordinateSequenceOperation.get=function(){return sf},Object.defineProperties(Ao,jm);var nf=function(){};nf.prototype.edit=function(t,r){return t},nf.prototype.interfaces_=function(){return[Ao.GeometryEditorOperation]},nf.prototype.getClass=function(){return nf};var of=function(){};of.prototype.edit=function(t,r){var s=this.editCoordinates(t.getCoordinates(),t);return s===null?t:t instanceof na?r.createLinearRing(s):t instanceof Pi?r.createLineString(s):t instanceof Qn?s.length>0?r.createPoint(s[0]):r.createPoint():t},of.prototype.interfaces_=function(){return[Ao.GeometryEditorOperation]},of.prototype.getClass=function(){return of};var sf=function(){};sf.prototype.edit=function(t,r){return t instanceof na?r.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Pi?r.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Qn?r.createPoint(this.edit(t.getCoordinateSequence(),t)):t},sf.prototype.interfaces_=function(){return[Ao.GeometryEditorOperation]},sf.prototype.getClass=function(){return sf};var Li=function(){var t=this;if(this._dimension=3,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var r=arguments[0];this._coordinates=new Array(r).fill(null);for(var s=0;s<r;s++)t._coordinates[s]=new Ct}else if(Ge(arguments[0],vr)){var a=arguments[0];if(a===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=a.getDimension(),this._coordinates=new Array(a.size()).fill(null);for(var c=0;c<this._coordinates.length;c++)t._coordinates[c]=a.getCoordinateCopy(c)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var h=arguments[0],g=arguments[1];this._coordinates=h,this._dimension=g,h===null&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var v=arguments[0],w=arguments[1];this._coordinates=new Array(v).fill(null),this._dimension=w;for(var x=0;x<v;x++)t._coordinates[x]=new Ct}}},B_={serialVersionUID:{configurable:!0}};Li.prototype.setOrdinate=function(t,r,s){switch(r){case vr.X:this._coordinates[t].x=s;break;case vr.Y:this._coordinates[t].y=s;break;case vr.Z:this._coordinates[t].z=s;break;default:throw new _i("invalid ordinateIndex")}},Li.prototype.size=function(){return this._coordinates.length},Li.prototype.getOrdinate=function(t,r){switch(r){case vr.X:return this._coordinates[t].x;case vr.Y:return this._coordinates[t].y;case vr.Z:return this._coordinates[t].z}return Ke.NaN},Li.prototype.getCoordinate=function(){if(arguments.length===1){var t=arguments[0];return this._coordinates[t]}if(arguments.length===2){var r=arguments[0],s=arguments[1];s.x=this._coordinates[r].x,s.y=this._coordinates[r].y,s.z=this._coordinates[r].z}},Li.prototype.getCoordinateCopy=function(t){return new Ct(this._coordinates[t])},Li.prototype.getDimension=function(){return this._dimension},Li.prototype.getX=function(t){return this._coordinates[t].x},Li.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),r=0;r<this._coordinates.length;r++)t[r]=this._coordinates[r].clone();return new Li(t,this._dimension)},Li.prototype.expandEnvelope=function(t){for(var r=0;r<this._coordinates.length;r++)t.expandToInclude(this._coordinates[r]);return t},Li.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),r=0;r<this._coordinates.length;r++)t[r]=this._coordinates[r].copy();return new Li(t,this._dimension)},Li.prototype.toString=function(){if(this._coordinates.length>0){var t=new bs(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var r=1;r<this._coordinates.length;r++)t.append(", "),t.append(this._coordinates[r]);return t.append(")"),t.toString()}return"()"},Li.prototype.getY=function(t){return this._coordinates[t].y},Li.prototype.toCoordinateArray=function(){return this._coordinates},Li.prototype.interfaces_=function(){return[vr,Mo]},Li.prototype.getClass=function(){return Li},B_.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(Li,B_);var sa=function(){},gb={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};sa.prototype.readResolve=function(){return sa.instance()},sa.prototype.create=function(){if(arguments.length===1){if(arguments[0]instanceof Array){var t=arguments[0];return new Li(t)}if(Ge(arguments[0],vr)){var r=arguments[0];return new Li(r)}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];return a>3&&(a=3),a<2?new Li(s):new Li(s,a)}},sa.prototype.interfaces_=function(){return[Yh,Mo]},sa.prototype.getClass=function(){return sa},sa.instance=function(){return sa.instanceObject},gb.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},gb.instanceObject.get=function(){return new sa},Object.defineProperties(sa,gb);var j_=function(t){function r(){t.call(this),this.map_=new Map}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.get=function(s){return this.map_.get(s)||null},r.prototype.put=function(s,a){return this.map_.set(s,a),a},r.prototype.values=function(){for(var s=new ce,a=this.map_.values(),c=a.next();!c.done;)s.add(c.value),c=a.next();return s},r.prototype.entrySet=function(){var s=new db;return this.map_.entries().forEach(function(a){return s.add(a)}),s},r.prototype.size=function(){return this.map_.size()},r}(Ru),Kr=function t(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=t.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof Ts){var r=arguments[0];this._modelType=r,r===t.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var s=arguments[0];this._modelType=t.FIXED,this.setScale(s)}else if(arguments[0]instanceof t){var a=arguments[0];this._modelType=a._modelType,this._scale=a._scale}}},mb={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};Kr.prototype.equals=function(t){if(!(t instanceof Kr))return!1;var r=t;return this._modelType===r._modelType&&this._scale===r._scale},Kr.prototype.compareTo=function(t){var r=t,s=this.getMaximumSignificantDigits(),a=r.getMaximumSignificantDigits();return new ws(s).compareTo(new ws(a))},Kr.prototype.getScale=function(){return this._scale},Kr.prototype.isFloating=function(){return this._modelType===Kr.FLOATING||this._modelType===Kr.FLOATING_SINGLE},Kr.prototype.getType=function(){return this._modelType},Kr.prototype.toString=function(){var t="UNKNOWN";return this._modelType===Kr.FLOATING?t="Floating":this._modelType===Kr.FLOATING_SINGLE?t="Floating-Single":this._modelType===Kr.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},Kr.prototype.makePrecise=function(){if(typeof arguments[0]=="number"){var t=arguments[0];return Ke.isNaN(t)||this._modelType===Kr.FLOATING_SINGLE?t:this._modelType===Kr.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof Ct){var r=arguments[0];if(this._modelType===Kr.FLOATING)return null;r.x=this.makePrecise(r.x),r.y=this.makePrecise(r.y)}},Kr.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===Kr.FLOATING?t=16:this._modelType===Kr.FLOATING_SINGLE?t=6:this._modelType===Kr.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},Kr.prototype.setScale=function(t){this._scale=Math.abs(t)},Kr.prototype.interfaces_=function(){return[Mo,Po]},Kr.prototype.getClass=function(){return Kr},Kr.mostPrecise=function(t,r){return t.compareTo(r)>=0?t:r},mb.serialVersionUID.get=function(){return 7777263578777804e3},mb.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(Kr,mb);var Ts=function t(r){this._name=r||null,t.nameToTypeMap.put(r,this)},vb={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};Ts.prototype.readResolve=function(){return Ts.nameToTypeMap.get(this._name)},Ts.prototype.toString=function(){return this._name},Ts.prototype.interfaces_=function(){return[Mo]},Ts.prototype.getClass=function(){return Ts},vb.serialVersionUID.get=function(){return-552860263173159e4},vb.nameToTypeMap.get=function(){return new j_},Object.defineProperties(Ts,vb),Kr.Type=Ts,Kr.FIXED=new Ts("FIXED"),Kr.FLOATING=new Ts("FLOATING"),Kr.FLOATING_SINGLE=new Ts("FLOATING SINGLE");var cr=function t(){this._precisionModel=new Kr,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),arguments.length===0||(arguments.length===1?Ge(arguments[0],Yh)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof Kr&&(this._precisionModel=arguments[0]):arguments.length===2?(this._precisionModel=arguments[0],this._SRID=arguments[1]):arguments.length===3&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},H_={serialVersionUID:{configurable:!0}};cr.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new Ct(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new Ct(t.getMinX(),t.getMinY()),new Ct(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new Ct(t.getMinX(),t.getMinY()),new Ct(t.getMinX(),t.getMaxY()),new Ct(t.getMaxX(),t.getMaxY()),new Ct(t.getMaxX(),t.getMinY()),new Ct(t.getMinX(),t.getMinY())]),null)},cr.prototype.createLineString=function(t){return t?t instanceof Array?new Pi(this.getCoordinateSequenceFactory().create(t),this):Ge(t,vr)?new Pi(t,this):void 0:new Pi(this.getCoordinateSequenceFactory().create([]),this)},cr.prototype.createMultiLineString=function(){if(arguments.length===0)return new Tc(null,this);if(arguments.length===1){var t=arguments[0];return new Tc(t,this)}},cr.prototype.buildGeometry=function(t){for(var r=null,s=!1,a=!1,c=t.iterator();c.hasNext();){var h=c.next(),g=h.getClass();r===null&&(r=g),g!==r&&(s=!0),h.isGeometryCollectionOrDerived()&&(a=!0)}if(r===null)return this.createGeometryCollection();if(s||a)return this.createGeometryCollection(cr.toGeometryArray(t));var v=t.iterator().next();if(t.size()>1){if(v instanceof Ui)return this.createMultiPolygon(cr.toPolygonArray(t));if(v instanceof Pi)return this.createMultiLineString(cr.toLineStringArray(t));if(v instanceof Qn)return this.createMultiPoint(cr.toPointArray(t));er.shouldNeverReachHere("Unhandled class: "+v.getClass().getName())}return v},cr.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(t!==null?this.getCoordinateSequenceFactory().create(t):null)},cr.prototype.createPoint=function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Ct){var t=arguments[0];return this.createPoint(t!==null?this.getCoordinateSequenceFactory().create([t]):null)}if(Ge(arguments[0],vr)){var r=arguments[0];return new Qn(r,this)}}},cr.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},cr.prototype.createPolygon=function(){if(arguments.length===0)return new Ui(null,null,this);if(arguments.length===1){if(Ge(arguments[0],vr)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var r=arguments[0];return this.createPolygon(this.createLinearRing(r))}if(arguments[0]instanceof na){var s=arguments[0];return this.createPolygon(s,null)}}else if(arguments.length===2){var a=arguments[0],c=arguments[1];return new Ui(a,c,this)}},cr.prototype.getSRID=function(){return this._SRID},cr.prototype.createGeometryCollection=function(){if(arguments.length===0)return new In(null,this);if(arguments.length===1){var t=arguments[0];return new In(t,this)}},cr.prototype.createGeometry=function(t){return new Ao(this).edit(t,{edit:function(){if(arguments.length===2){var r=arguments[0];return this._coordinateSequenceFactory.create(r)}}})},cr.prototype.getPrecisionModel=function(){return this._precisionModel},cr.prototype.createLinearRing=function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(t!==null?this.getCoordinateSequenceFactory().create(t):null)}if(Ge(arguments[0],vr)){var r=arguments[0];return new na(r,this)}}},cr.prototype.createMultiPolygon=function(){if(arguments.length===0)return new oa(null,this);if(arguments.length===1){var t=arguments[0];return new oa(t,this)}},cr.prototype.createMultiPoint=function(){var t=this;if(arguments.length===0)return new od(null,this);if(arguments.length===1){if(arguments[0]instanceof Array){var r=arguments[0];return new od(r,this)}if(arguments[0]instanceof Array){var s=arguments[0];return this.createMultiPoint(s!==null?this.getCoordinateSequenceFactory().create(s):null)}if(Ge(arguments[0],vr)){var a=arguments[0];if(a===null)return this.createMultiPoint(new Array(0).fill(null));for(var c=new Array(a.size()).fill(null),h=0;h<a.size();h++){var g=t.getCoordinateSequenceFactory().create(1,a.getDimension());Ii.copy(a,h,g,0,1),c[h]=t.createPoint(g)}return this.createMultiPoint(c)}}},cr.prototype.interfaces_=function(){return[Mo]},cr.prototype.getClass=function(){return cr},cr.toMultiPolygonArray=function(t){var r=new Array(t.size()).fill(null);return t.toArray(r)},cr.toGeometryArray=function(t){if(t===null)return null;var r=new Array(t.size()).fill(null);return t.toArray(r)},cr.getDefaultCoordinateSequenceFactory=function(){return sa.instance()},cr.toMultiLineStringArray=function(t){var r=new Array(t.size()).fill(null);return t.toArray(r)},cr.toLineStringArray=function(t){var r=new Array(t.size()).fill(null);return t.toArray(r)},cr.toMultiPointArray=function(t){var r=new Array(t.size()).fill(null);return t.toArray(r)},cr.toLinearRingArray=function(t){var r=new Array(t.size()).fill(null);return t.toArray(r)},cr.toPointArray=function(t){var r=new Array(t.size()).fill(null);return t.toArray(r)},cr.toPolygonArray=function(t){var r=new Array(t.size()).fill(null);return t.toArray(r)},cr.createPointFromInternalCoord=function(t,r){return r.getPrecisionModel().makePrecise(t),r.getFactory().createPoint(t)},H_.serialVersionUID.get=function(){return-6820524753094096e3},Object.defineProperties(cr,H_);var OM=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],Hm=function(t){this.geometryFactory=t||new cr};Hm.prototype.read=function(t){var r,s=(r=typeof t=="string"?JSON.parse(t):t).type;if(!Ss[s])throw new Error("Unknown GeoJSON type: "+r.type);return OM.indexOf(s)!==-1?Ss[s].apply(this,[r.coordinates]):s==="GeometryCollection"?Ss[s].apply(this,[r.geometries]):Ss[s].apply(this,[r])},Hm.prototype.write=function(t){var r=t.getGeometryType();if(!Ha[r])throw new Error("Geometry is not supported");return Ha[r].apply(this,[t])};var Ss={Feature:function(t){var r={};for(var s in t)r[s]=t[s];if(t.geometry){var a=t.geometry.type;if(!Ss[a])throw new Error("Unknown GeoJSON type: "+t.type);r.geometry=this.read(t.geometry)}return t.bbox&&(r.bbox=Ss.bbox.apply(this,[t.bbox])),r},FeatureCollection:function(t){var r={};if(t.features){r.features=[];for(var s=0;s<t.features.length;++s)r.features.push(this.read(t.features[s]))}return t.bbox&&(r.bbox=this.parse.bbox.apply(this,[t.bbox])),r},coordinates:function(t){for(var r=[],s=0;s<t.length;++s){var a=t[s];r.push(new Ct(a[0],a[1]))}return r},bbox:function(t){return this.geometryFactory.createLinearRing([new Ct(t[0],t[1]),new Ct(t[2],t[1]),new Ct(t[2],t[3]),new Ct(t[0],t[3]),new Ct(t[0],t[1])])},Point:function(t){var r=new Ct(t[0],t[1]);return this.geometryFactory.createPoint(r)},MultiPoint:function(t){for(var r=[],s=0;s<t.length;++s)r.push(Ss.Point.apply(this,[t[s]]));return this.geometryFactory.createMultiPoint(r)},LineString:function(t){var r=Ss.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(r)},MultiLineString:function(t){for(var r=[],s=0;s<t.length;++s)r.push(Ss.LineString.apply(this,[t[s]]));return this.geometryFactory.createMultiLineString(r)},Polygon:function(t){for(var r=Ss.coordinates.apply(this,[t[0]]),s=this.geometryFactory.createLinearRing(r),a=[],c=1;c<t.length;++c){var h=t[c],g=Ss.coordinates.apply(this,[h]),v=this.geometryFactory.createLinearRing(g);a.push(v)}return this.geometryFactory.createPolygon(s,a)},MultiPolygon:function(t){for(var r=[],s=0;s<t.length;++s){var a=t[s];r.push(Ss.Polygon.apply(this,[a]))}return this.geometryFactory.createMultiPolygon(r)},GeometryCollection:function(t){for(var r=[],s=0;s<t.length;++s){var a=t[s];r.push(this.read(a))}return this.geometryFactory.createGeometryCollection(r)}},Ha={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:Ha.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var r=[],s=0;s<t._geometries.length;++s){var a=t._geometries[s],c=Ha.Point.apply(this,[a]);r.push(c.coordinates)}return{type:"MultiPoint",coordinates:r}},LineString:function(t){for(var r=[],s=t.getCoordinates(),a=0;a<s.length;++a){var c=s[a];r.push(Ha.coordinate.apply(this,[c]))}return{type:"LineString",coordinates:r}},MultiLineString:function(t){for(var r=[],s=0;s<t._geometries.length;++s){var a=t._geometries[s],c=Ha.LineString.apply(this,[a]);r.push(c.coordinates)}return{type:"MultiLineString",coordinates:r}},Polygon:function(t){var r=[],s=Ha.LineString.apply(this,[t._shell]);r.push(s.coordinates);for(var a=0;a<t._holes.length;++a){var c=t._holes[a],h=Ha.LineString.apply(this,[c]);r.push(h.coordinates)}return{type:"Polygon",coordinates:r}},MultiPolygon:function(t){for(var r=[],s=0;s<t._geometries.length;++s){var a=t._geometries[s],c=Ha.Polygon.apply(this,[a]);r.push(c.coordinates)}return{type:"MultiPolygon",coordinates:r}},GeometryCollection:function(t){for(var r=[],s=0;s<t._geometries.length;++s){var a=t._geometries[s],c=a.getGeometryType();r.push(Ha[c].apply(this,[a]))}return{type:"GeometryCollection",geometries:r}}},yb=function(t){this.geometryFactory=t||new cr,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Hm(this.geometryFactory)};yb.prototype.read=function(t){var r=this.parser.read(t);return this.precisionModel.getType()===Kr.FIXED&&this.reducePrecision(r),r},yb.prototype.reducePrecision=function(t){var r,s;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(r=0,s=t.points.length;r<s;r++)this.precisionModel.makePrecise(t.points[r]);else if(t.geometries)for(r=0,s=t.geometries.length;r<s;r++)this.reducePrecision(t.geometries[r])};var U_=function(){this.parser=new Hm(this.geometryFactory)};U_.prototype.write=function(t){return this.parser.write(t)};var ie=function(){},Um={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};function Gm(t){this.message=t||""}function Cs(){this.array_=[]}ie.prototype.interfaces_=function(){return[]},ie.prototype.getClass=function(){return ie},ie.opposite=function(t){return t===ie.LEFT?ie.RIGHT:t===ie.RIGHT?ie.LEFT:t},Um.ON.get=function(){return 0},Um.LEFT.get=function(){return 1},Um.RIGHT.get=function(){return 2},Object.defineProperties(ie,Um),Gm.prototype=new Error,Gm.prototype.name="EmptyStackException",Cs.prototype=new Qo,Cs.prototype.add=function(t){return this.array_.push(t),!0},Cs.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},Cs.prototype.push=function(t){return this.array_.push(t),t},Cs.prototype.pop=function(t){if(this.array_.length===0)throw new Gm;return this.array_.pop()},Cs.prototype.peek=function(){if(this.array_.length===0)throw new Gm;return this.array_[this.array_.length-1]},Cs.prototype.empty=function(){return this.array_.length===0},Cs.prototype.isEmpty=function(){return this.empty()},Cs.prototype.search=function(t){return this.array_.indexOf(t)},Cs.prototype.size=function(){return this.array_.length},Cs.prototype.toArray=function(){for(var t=[],r=0,s=this.array_.length;r<s;r++)t.push(this.array_[r]);return t};var Ps=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Ps.prototype.getCoordinate=function(){return this._minCoord},Ps.prototype.getRightmostSide=function(t,r){var s=this.getRightmostSideOfSegment(t,r);return s<0&&(s=this.getRightmostSideOfSegment(t,r-1)),s<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),s},Ps.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();er.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var r=t[this._minIndex-1],s=t[this._minIndex+1],a=fe.computeOrientation(this._minCoord,s,r),c=!1;(r.y<this._minCoord.y&&s.y<this._minCoord.y&&a===fe.COUNTERCLOCKWISE||r.y>this._minCoord.y&&s.y>this._minCoord.y&&a===fe.CLOCKWISE)&&(c=!0),c&&(this._minIndex=this._minIndex-1)},Ps.prototype.getRightmostSideOfSegment=function(t,r){var s=t.getEdge().getCoordinates();if(r<0||r+1>=s.length||s[r].y===s[r+1].y)return-1;var a=ie.LEFT;return s[r].y<s[r+1].y&&(a=ie.RIGHT),a},Ps.prototype.getEdge=function(){return this._orientedDe},Ps.prototype.checkForRightmostCoordinate=function(t){for(var r=this,s=t.getEdge().getCoordinates(),a=0;a<s.length-1;a++)(r._minCoord===null||s[a].x>r._minCoord.x)&&(r._minDe=t,r._minIndex=a,r._minCoord=s[a])},Ps.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},Ps.prototype.findEdge=function(t){for(var r=t.iterator();r.hasNext();){var s=r.next();s.isForward()&&this.checkForRightmostCoordinate(s)}er.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===ie.LEFT&&(this._orientedDe=this._minDe.getSym())},Ps.prototype.interfaces_=function(){return[]},Ps.prototype.getClass=function(){return Ps};var Ua=function(t){function r(s,a){t.call(this,r.msgWithCoord(s,a)),this.pt=a?new Ct(a):null,this.name="TopologyException"}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getCoordinate=function(){return this.pt},r.prototype.interfaces_=function(){return[]},r.prototype.getClass=function(){return r},r.msgWithCoord=function(s,a){return a?s:s+" [ "+a+" ]"},r}(Da),qm=function(){this.array_=[]};qm.prototype.addLast=function(t){this.array_.push(t)},qm.prototype.removeFirst=function(){return this.array_.shift()},qm.prototype.isEmpty=function(){return this.array_.length===0};var Ln=function(){this._finder=null,this._dirEdgeList=new ce,this._nodes=new ce,this._rightMostCoord=null,this._env=null,this._finder=new Ps};Ln.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},Ln.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Ln.prototype.computeNodeDepth=function(t){for(var r=null,s=t.getEdges().iterator();s.hasNext();){var a=s.next();if(a.isVisited()||a.getSym().isVisited()){r=a;break}}if(r===null)throw new Ua("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(r);for(var c=t.getEdges().iterator();c.hasNext();){var h=c.next();h.setVisited(!0),this.copySymDepths(h)}},Ln.prototype.computeDepth=function(t){this.clearVisitedEdges();var r=this._finder.getEdge();r.setEdgeDepths(ie.RIGHT,t),this.copySymDepths(r),this.computeDepths(r)},Ln.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Ln.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var r=t.next();r.getDepth(ie.RIGHT)>=1&&r.getDepth(ie.LEFT)<=0&&!r.isInteriorAreaEdge()&&r.setInResult(!0)}},Ln.prototype.computeDepths=function(t){var r=new db,s=new qm,a=t.getNode();for(s.addLast(a),r.add(a),t.setVisited(!0);!s.isEmpty();){var c=s.removeFirst();r.add(c),this.computeNodeDepth(c);for(var h=c.getEdges().iterator();h.hasNext();){var g=h.next().getSym();if(!g.isVisited()){var v=g.getNode();r.contains(v)||(s.addLast(v),r.add(v))}}}},Ln.prototype.compareTo=function(t){var r=t;return this._rightMostCoord.x<r._rightMostCoord.x?-1:this._rightMostCoord.x>r._rightMostCoord.x?1:0},Ln.prototype.getEnvelope=function(){if(this._env===null){for(var t=new Re,r=this._dirEdgeList.iterator();r.hasNext();)for(var s=r.next().getEdge().getCoordinates(),a=0;a<s.length-1;a++)t.expandToInclude(s[a]);this._env=t}return this._env},Ln.prototype.addReachable=function(t){var r=new Cs;for(r.add(t);!r.empty();){var s=r.pop();this.add(s,r)}},Ln.prototype.copySymDepths=function(t){var r=t.getSym();r.setDepth(ie.LEFT,t.getDepth(ie.RIGHT)),r.setDepth(ie.RIGHT,t.getDepth(ie.LEFT))},Ln.prototype.add=function(t,r){t.setVisited(!0),this._nodes.add(t);for(var s=t.getEdges().iterator();s.hasNext();){var a=s.next();this._dirEdgeList.add(a);var c=a.getSym().getNode();c.isVisited()||r.push(c)}},Ln.prototype.getNodes=function(){return this._nodes},Ln.prototype.getDirectedEdges=function(){return this._dirEdgeList},Ln.prototype.interfaces_=function(){return[Po]},Ln.prototype.getClass=function(){return Ln};var pi=function t(){var r=this;if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var s=arguments[0];this.init(s.length)}else if(Number.isInteger(arguments[0])){var a=arguments[0];this.init(1),this.location[ie.ON]=a}else if(arguments[0]instanceof t){var c=arguments[0];if(this.init(c.location.length),c!==null)for(var h=0;h<this.location.length;h++)r.location[h]=c.location[h]}}else if(arguments.length===3){var g=arguments[0],v=arguments[1],w=arguments[2];this.init(3),this.location[ie.ON]=g,this.location[ie.LEFT]=v,this.location[ie.RIGHT]=w}};pi.prototype.setAllLocations=function(t){for(var r=0;r<this.location.length;r++)this.location[r]=t},pi.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==At.NONE)return!1;return!0},pi.prototype.setAllLocationsIfNull=function(t){for(var r=0;r<this.location.length;r++)this.location[r]===At.NONE&&(this.location[r]=t)},pi.prototype.isLine=function(){return this.location.length===1},pi.prototype.merge=function(t){if(t.location.length>this.location.length){var r=new Array(3).fill(null);r[ie.ON]=this.location[ie.ON],r[ie.LEFT]=At.NONE,r[ie.RIGHT]=At.NONE,this.location=r}for(var s=0;s<this.location.length;s++)this.location[s]===At.NONE&&s<t.location.length&&(this.location[s]=t.location[s])},pi.prototype.getLocations=function(){return this.location},pi.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[ie.LEFT];this.location[ie.LEFT]=this.location[ie.RIGHT],this.location[ie.RIGHT]=t},pi.prototype.toString=function(){var t=new bs;return this.location.length>1&&t.append(At.toLocationSymbol(this.location[ie.LEFT])),t.append(At.toLocationSymbol(this.location[ie.ON])),this.location.length>1&&t.append(At.toLocationSymbol(this.location[ie.RIGHT])),t.toString()},pi.prototype.setLocations=function(t,r,s){this.location[ie.ON]=t,this.location[ie.LEFT]=r,this.location[ie.RIGHT]=s},pi.prototype.get=function(t){return t<this.location.length?this.location[t]:At.NONE},pi.prototype.isArea=function(){return this.location.length>1},pi.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===At.NONE)return!0;return!1},pi.prototype.setLocation=function(){if(arguments.length===1){var t=arguments[0];this.setLocation(ie.ON,t)}else if(arguments.length===2){var r=arguments[0],s=arguments[1];this.location[r]=s}},pi.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(At.NONE)},pi.prototype.isEqualOnSide=function(t,r){return this.location[r]===t.location[r]},pi.prototype.allPositionsEqual=function(t){for(var r=0;r<this.location.length;r++)if(this.location[r]!==t)return!1;return!0},pi.prototype.interfaces_=function(){return[]},pi.prototype.getClass=function(){return pi};var ii=function t(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var r=arguments[0];this.elt[0]=new pi(r),this.elt[1]=new pi(r)}else if(arguments[0]instanceof t){var s=arguments[0];this.elt[0]=new pi(s.elt[0]),this.elt[1]=new pi(s.elt[1])}}else if(arguments.length===2){var a=arguments[0],c=arguments[1];this.elt[0]=new pi(At.NONE),this.elt[1]=new pi(At.NONE),this.elt[a].setLocation(c)}else if(arguments.length===3){var h=arguments[0],g=arguments[1],v=arguments[2];this.elt[0]=new pi(h,g,v),this.elt[1]=new pi(h,g,v)}else if(arguments.length===4){var w=arguments[0],x=arguments[1],T=arguments[2],k=arguments[3];this.elt[0]=new pi(At.NONE,At.NONE,At.NONE),this.elt[1]=new pi(At.NONE,At.NONE,At.NONE),this.elt[w].setLocations(x,T,k)}};ii.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},ii.prototype.setAllLocations=function(t,r){this.elt[t].setAllLocations(r)},ii.prototype.isNull=function(t){return this.elt[t].isNull()},ii.prototype.setAllLocationsIfNull=function(){if(arguments.length===1){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(arguments.length===2){var r=arguments[0],s=arguments[1];this.elt[r].setAllLocationsIfNull(s)}},ii.prototype.isLine=function(t){return this.elt[t].isLine()},ii.prototype.merge=function(t){for(var r=this,s=0;s<2;s++)r.elt[s]===null&&t.elt[s]!==null?r.elt[s]=new pi(t.elt[s]):r.elt[s].merge(t.elt[s])},ii.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},ii.prototype.getLocation=function(){if(arguments.length===1){var t=arguments[0];return this.elt[t].get(ie.ON)}if(arguments.length===2){var r=arguments[0],s=arguments[1];return this.elt[r].get(s)}},ii.prototype.toString=function(){var t=new bs;return this.elt[0]!==null&&(t.append("A:"),t.append(this.elt[0].toString())),this.elt[1]!==null&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},ii.prototype.isArea=function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var t=arguments[0];return this.elt[t].isArea()}},ii.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},ii.prototype.setLocation=function(){if(arguments.length===2){var t=arguments[0],r=arguments[1];this.elt[t].setLocation(ie.ON,r)}else if(arguments.length===3){var s=arguments[0],a=arguments[1],c=arguments[2];this.elt[s].setLocation(a,c)}},ii.prototype.isEqualOnSide=function(t,r){return this.elt[0].isEqualOnSide(t.elt[0],r)&&this.elt[1].isEqualOnSide(t.elt[1],r)},ii.prototype.allPositionsEqual=function(t,r){return this.elt[t].allPositionsEqual(r)},ii.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new pi(this.elt[t].location[0]))},ii.prototype.interfaces_=function(){return[]},ii.prototype.getClass=function(){return ii},ii.toLineLabel=function(t){for(var r=new ii(At.NONE),s=0;s<2;s++)r.setLocation(s,t.getLocation(s));return r};var zi=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new ce,this._pts=new ce,this._label=new ii(At.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new ce,this._geometryFactory=null;var t=arguments[0],r=arguments[1];this._geometryFactory=r,this.computePoints(t),this.computeRing()};zi.prototype.computeRing=function(){if(this._ring!==null)return null;for(var t=new Array(this._pts.size()).fill(null),r=0;r<this._pts.size();r++)t[r]=this._pts.get(r);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=fe.isCCW(this._ring.getCoordinates())},zi.prototype.isIsolated=function(){return this._label.getGeometryCount()===1},zi.prototype.computePoints=function(t){var r=this;this._startDe=t;var s=t,a=!0;do{if(s===null)throw new Ua("Found null DirectedEdge");if(s.getEdgeRing()===r)throw new Ua("Directed Edge visited twice during ring-building at "+s.getCoordinate());r._edges.add(s);var c=s.getLabel();er.isTrue(c.isArea()),r.mergeLabel(c),r.addPoints(s.getEdge(),s.isForward(),a),a=!1,r.setEdgeRing(s,r),s=r.getNext(s)}while(s!==this._startDe)},zi.prototype.getLinearRing=function(){return this._ring},zi.prototype.getCoordinate=function(t){return this._pts.get(t)},zi.prototype.computeMaxNodeDegree=function(){var t=this;this._maxNodeDegree=0;var r=this._startDe;do{var s=r.getNode().getEdges().getOutgoingDegree(t);s>t._maxNodeDegree&&(t._maxNodeDegree=s),r=t.getNext(r)}while(r!==this._startDe);this._maxNodeDegree*=2},zi.prototype.addPoints=function(t,r,s){var a=t.getCoordinates();if(r){var c=1;s&&(c=0);for(var h=c;h<a.length;h++)this._pts.add(a[h])}else{var g=a.length-2;s&&(g=a.length-1);for(var v=g;v>=0;v--)this._pts.add(a[v])}},zi.prototype.isHole=function(){return this._isHole},zi.prototype.setInResult=function(){var t=this._startDe;do t.getEdge().setInResult(!0),t=t.getNext();while(t!==this._startDe)},zi.prototype.containsPoint=function(t){var r=this.getLinearRing();if(!r.getEnvelopeInternal().contains(t)||!fe.isPointInRing(t,r.getCoordinates()))return!1;for(var s=this._holes.iterator();s.hasNext();)if(s.next().containsPoint(t))return!1;return!0},zi.prototype.addHole=function(t){this._holes.add(t)},zi.prototype.isShell=function(){return this._shell===null},zi.prototype.getLabel=function(){return this._label},zi.prototype.getEdges=function(){return this._edges},zi.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},zi.prototype.getShell=function(){return this._shell},zi.prototype.mergeLabel=function(){if(arguments.length===1){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(arguments.length===2){var r=arguments[0],s=arguments[1],a=r.getLocation(s,ie.RIGHT);if(a===At.NONE)return null;if(this._label.getLocation(s)===At.NONE)return this._label.setLocation(s,a),null}},zi.prototype.setShell=function(t){this._shell=t,t!==null&&t.addHole(this)},zi.prototype.toPolygon=function(t){for(var r=new Array(this._holes.size()).fill(null),s=0;s<this._holes.size();s++)r[s]=this._holes.get(s).getLinearRing();return t.createPolygon(this.getLinearRing(),r)},zi.prototype.interfaces_=function(){return[]},zi.prototype.getClass=function(){return zi};var NM=function(t){function r(){var s=arguments[0],a=arguments[1];t.call(this,s,a)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.setEdgeRing=function(s,a){s.setMinEdgeRing(a)},r.prototype.getNext=function(s){return s.getNextMin()},r.prototype.interfaces_=function(){return[]},r.prototype.getClass=function(){return r},r}(zi),DM=function(t){function r(){var s=arguments[0],a=arguments[1];t.call(this,s,a)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.buildMinimalRings=function(){var s=new ce,a=this._startDe;do{if(a.getMinEdgeRing()===null){var c=new NM(a,this._geometryFactory);s.add(c)}a=a.getNext()}while(a!==this._startDe);return s},r.prototype.setEdgeRing=function(s,a){s.setEdgeRing(a)},r.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var s=this._startDe;do s.getNode().getEdges().linkMinimalDirectedEdges(this),s=s.getNext();while(s!==this._startDe)},r.prototype.getNext=function(s){return s.getNext()},r.prototype.interfaces_=function(){return[]},r.prototype.getClass=function(){return r},r}(zi),go=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this._label=t}}};go.prototype.setVisited=function(t){this._isVisited=t},go.prototype.setInResult=function(t){this._isInResult=t},go.prototype.isCovered=function(){return this._isCovered},go.prototype.isCoveredSet=function(){return this._isCoveredSet},go.prototype.setLabel=function(t){this._label=t},go.prototype.getLabel=function(){return this._label},go.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},go.prototype.updateIM=function(t){er.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},go.prototype.isInResult=function(){return this._isInResult},go.prototype.isVisited=function(){return this._isVisited},go.prototype.interfaces_=function(){return[]},go.prototype.getClass=function(){return go};var Vm=function(t){function r(){t.call(this),this._coord=null,this._edges=null;var s=arguments[0],a=arguments[1];this._coord=s,this._edges=a,this._label=new ii(0,At.NONE)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.isIncidentEdgeInResult=function(){for(var s=this.getEdges().getEdges().iterator();s.hasNext();)if(s.next().getEdge().isInResult())return!0;return!1},r.prototype.isIsolated=function(){return this._label.getGeometryCount()===1},r.prototype.getCoordinate=function(){return this._coord},r.prototype.print=function(s){s.println("node "+this._coord+" lbl: "+this._label)},r.prototype.computeIM=function(s){},r.prototype.computeMergedLocation=function(s,a){var c=At.NONE;if(c=this._label.getLocation(a),!s.isNull(a)){var h=s.getLocation(a);c!==At.BOUNDARY&&(c=h)}return c},r.prototype.setLabel=function(){if(arguments.length!==2)return t.prototype.setLabel.apply(this,arguments);var s=arguments[0],a=arguments[1];this._label===null?this._label=new ii(s,a):this._label.setLocation(s,a)},r.prototype.getEdges=function(){return this._edges},r.prototype.mergeLabel=function(){var s=this;if(arguments[0]instanceof r){var a=arguments[0];this.mergeLabel(a._label)}else if(arguments[0]instanceof ii)for(var c=arguments[0],h=0;h<2;h++){var g=s.computeMergedLocation(c,h),v=s._label.getLocation(h);v===At.NONE&&s._label.setLocation(h,g)}},r.prototype.add=function(s){this._edges.insert(s),s.setNode(this)},r.prototype.setLabelBoundary=function(s){if(this._label===null)return null;var a=At.NONE;this._label!==null&&(a=this._label.getLocation(s));var c=null;switch(a){case At.BOUNDARY:c=At.INTERIOR;break;case At.INTERIOR:default:c=At.BOUNDARY}this._label.setLocation(s,c)},r.prototype.interfaces_=function(){return[]},r.prototype.getClass=function(){return r},r}(go),Ms=function(){this.nodeMap=new bn,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};Ms.prototype.find=function(t){return this.nodeMap.get(t)},Ms.prototype.addNode=function(){if(arguments[0]instanceof Ct){var t=arguments[0],r=this.nodeMap.get(t);return r===null&&(r=this.nodeFact.createNode(t),this.nodeMap.put(t,r)),r}if(arguments[0]instanceof Vm){var s=arguments[0],a=this.nodeMap.get(s.getCoordinate());return a===null?(this.nodeMap.put(s.getCoordinate(),s),s):(a.mergeLabel(s),a)}},Ms.prototype.print=function(t){for(var r=this.iterator();r.hasNext();)r.next().print(t)},Ms.prototype.iterator=function(){return this.nodeMap.values().iterator()},Ms.prototype.values=function(){return this.nodeMap.values()},Ms.prototype.getBoundaryNodes=function(t){for(var r=new ce,s=this.iterator();s.hasNext();){var a=s.next();a.getLabel().getLocation(t)===At.BOUNDARY&&r.add(a)}return r},Ms.prototype.add=function(t){var r=t.getCoordinate();this.addNode(r).add(t)},Ms.prototype.interfaces_=function(){return[]},Ms.prototype.getClass=function(){return Ms};var ni=function(){},af={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};ni.prototype.interfaces_=function(){return[]},ni.prototype.getClass=function(){return ni},ni.isNorthern=function(t){return t===ni.NE||t===ni.NW},ni.isOpposite=function(t,r){return t!==r&&(t-r+4)%4===2},ni.commonHalfPlane=function(t,r){if(t===r)return t;if((t-r+4)%4===2)return-1;var s=t<r?t:r;return s===0&&(t>r?t:r)===3?3:s},ni.isInHalfPlane=function(t,r){return r===ni.SE?t===ni.SE||t===ni.SW:t===r||t===r+1},ni.quadrant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var t=arguments[0],r=arguments[1];if(t===0&&r===0)throw new _i("Cannot compute the quadrant for point ( "+t+", "+r+" )");return t>=0?r>=0?ni.NE:ni.SE:r>=0?ni.NW:ni.SW}if(arguments[0]instanceof Ct&&arguments[1]instanceof Ct){var s=arguments[0],a=arguments[1];if(a.x===s.x&&a.y===s.y)throw new _i("Cannot compute the quadrant for two identical points "+s);return a.x>=s.x?a.y>=s.y?ni.NE:ni.SE:a.y>=s.y?ni.NW:ni.SW}},af.NE.get=function(){return 0},af.NW.get=function(){return 1},af.SW.get=function(){return 2},af.SE.get=function(){return 3},Object.defineProperties(ni,af);var wn=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var t=arguments[0];this._edge=t}else if(arguments.length===3){var r=arguments[0],s=arguments[1],a=arguments[2],c=null;this._edge=r,this.init(s,a),this._label=c}else if(arguments.length===4){var h=arguments[0],g=arguments[1],v=arguments[2],w=arguments[3];this._edge=h,this.init(g,v),this._label=w}};wn.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:fe.computeOrientation(t._p0,t._p1,this._p1)},wn.prototype.getDy=function(){return this._dy},wn.prototype.getCoordinate=function(){return this._p0},wn.prototype.setNode=function(t){this._node=t},wn.prototype.print=function(t){var r=Math.atan2(this._dy,this._dx),s=this.getClass().getName(),a=s.lastIndexOf("."),c=s.substring(a+1);t.print("  "+c+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+r+"   "+this._label)},wn.prototype.compareTo=function(t){var r=t;return this.compareDirection(r)},wn.prototype.getDirectedCoordinate=function(){return this._p1},wn.prototype.getDx=function(){return this._dx},wn.prototype.getLabel=function(){return this._label},wn.prototype.getEdge=function(){return this._edge},wn.prototype.getQuadrant=function(){return this._quadrant},wn.prototype.getNode=function(){return this._node},wn.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),r=this.getClass().getName(),s=r.lastIndexOf(".");return"  "+r.substring(s+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},wn.prototype.computeLabel=function(t){},wn.prototype.init=function(t,r){this._p0=t,this._p1=r,this._dx=r.x-t.x,this._dy=r.y-t.y,this._quadrant=ni.quadrant(this._dx,this._dy),er.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")},wn.prototype.interfaces_=function(){return[Po]},wn.prototype.getClass=function(){return wn};var bb=function(t){function r(){var s=arguments[0],a=arguments[1];if(t.call(this,s),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=a,a)this.init(s.getCoordinate(0),s.getCoordinate(1));else{var c=s.getNumPoints()-1;this.init(s.getCoordinate(c),s.getCoordinate(c-1))}this.computeDirectedLabel()}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getNextMin=function(){return this._nextMin},r.prototype.getDepth=function(s){return this._depth[s]},r.prototype.setVisited=function(s){this._isVisited=s},r.prototype.computeDirectedLabel=function(){this._label=new ii(this._edge.getLabel()),this._isForward||this._label.flip()},r.prototype.getNext=function(){return this._next},r.prototype.setDepth=function(s,a){if(this._depth[s]!==-999&&this._depth[s]!==a)throw new Ua("assigned depths do not match",this.getCoordinate());this._depth[s]=a},r.prototype.isInteriorAreaEdge=function(){for(var s=this,a=!0,c=0;c<2;c++)s._label.isArea(c)&&s._label.getLocation(c,ie.LEFT)===At.INTERIOR&&s._label.getLocation(c,ie.RIGHT)===At.INTERIOR||(a=!1);return a},r.prototype.setNextMin=function(s){this._nextMin=s},r.prototype.print=function(s){t.prototype.print.call(this,s),s.print(" "+this._depth[ie.LEFT]+"/"+this._depth[ie.RIGHT]),s.print(" ("+this.getDepthDelta()+")"),this._isInResult&&s.print(" inResult")},r.prototype.setMinEdgeRing=function(s){this._minEdgeRing=s},r.prototype.isLineEdge=function(){var s=this._label.isLine(0)||this._label.isLine(1),a=!this._label.isArea(0)||this._label.allPositionsEqual(0,At.EXTERIOR),c=!this._label.isArea(1)||this._label.allPositionsEqual(1,At.EXTERIOR);return s&&a&&c},r.prototype.setEdgeRing=function(s){this._edgeRing=s},r.prototype.getMinEdgeRing=function(){return this._minEdgeRing},r.prototype.getDepthDelta=function(){var s=this._edge.getDepthDelta();return this._isForward||(s=-s),s},r.prototype.setInResult=function(s){this._isInResult=s},r.prototype.getSym=function(){return this._sym},r.prototype.isForward=function(){return this._isForward},r.prototype.getEdge=function(){return this._edge},r.prototype.printEdge=function(s){this.print(s),s.print(" "),this._isForward?this._edge.print(s):this._edge.printReverse(s)},r.prototype.setSym=function(s){this._sym=s},r.prototype.setVisitedEdge=function(s){this.setVisited(s),this._sym.setVisited(s)},r.prototype.setEdgeDepths=function(s,a){var c=this.getEdge().getDepthDelta();this._isForward||(c=-c);var h=1;s===ie.LEFT&&(h=-1);var g=ie.opposite(s),v=a+c*h;this.setDepth(s,a),this.setDepth(g,v)},r.prototype.getEdgeRing=function(){return this._edgeRing},r.prototype.isInResult=function(){return this._isInResult},r.prototype.setNext=function(s){this._next=s},r.prototype.isVisited=function(){return this._isVisited},r.prototype.interfaces_=function(){return[]},r.prototype.getClass=function(){return r},r.depthFactor=function(s,a){return s===At.EXTERIOR&&a===At.INTERIOR?1:s===At.INTERIOR&&a===At.EXTERIOR?-1:0},r}(wn),sd=function(){};sd.prototype.createNode=function(t){return new Vm(t,null)},sd.prototype.interfaces_=function(){return[]},sd.prototype.getClass=function(){return sd};var Ti=function(){if(this._edges=new ce,this._nodes=null,this._edgeEndList=new ce,arguments.length===0)this._nodes=new Ms(new sd);else if(arguments.length===1){var t=arguments[0];this._nodes=new Ms(t)}};Ti.prototype.printEdges=function(t){t.println("Edges:");for(var r=0;r<this._edges.size();r++){t.println("edge "+r+":");var s=this._edges.get(r);s.print(t),s.eiList.print(t)}},Ti.prototype.find=function(t){return this._nodes.find(t)},Ti.prototype.addNode=function(){if(arguments[0]instanceof Vm){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof Ct){var r=arguments[0];return this._nodes.addNode(r)}},Ti.prototype.getNodeIterator=function(){return this._nodes.iterator()},Ti.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},Ti.prototype.debugPrintln=function(t){un.out.println(t)},Ti.prototype.isBoundaryNode=function(t,r){var s=this._nodes.find(r);if(s===null)return!1;var a=s.getLabel();return a!==null&&a.getLocation(t)===At.BOUNDARY},Ti.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},Ti.prototype.matchInSameDirection=function(t,r,s,a){return!!t.equals(s)&&fe.computeOrientation(t,r,a)===fe.COLLINEAR&&ni.quadrant(t,r)===ni.quadrant(s,a)},Ti.prototype.getEdgeEnds=function(){return this._edgeEndList},Ti.prototype.debugPrint=function(t){un.out.print(t)},Ti.prototype.getEdgeIterator=function(){return this._edges.iterator()},Ti.prototype.findEdgeInSameDirection=function(t,r){for(var s=this,a=0;a<this._edges.size();a++){var c=s._edges.get(a),h=c.getCoordinates();if(s.matchInSameDirection(t,r,h[0],h[1])||s.matchInSameDirection(t,r,h[h.length-1],h[h.length-2]))return c}return null},Ti.prototype.insertEdge=function(t){this._edges.add(t)},Ti.prototype.findEdgeEnd=function(t){for(var r=this.getEdgeEnds().iterator();r.hasNext();){var s=r.next();if(s.getEdge()===t)return s}return null},Ti.prototype.addEdges=function(t){for(var r=this,s=t.iterator();s.hasNext();){var a=s.next();r._edges.add(a);var c=new bb(a,!0),h=new bb(a,!1);c.setSym(h),h.setSym(c),r.add(c),r.add(h)}},Ti.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},Ti.prototype.getNodes=function(){return this._nodes.values()},Ti.prototype.findEdge=function(t,r){for(var s=0;s<this._edges.size();s++){var a=this._edges.get(s),c=a.getCoordinates();if(t.equals(c[0])&&r.equals(c[1]))return a}return null},Ti.prototype.interfaces_=function(){return[]},Ti.prototype.getClass=function(){return Ti},Ti.linkResultDirectedEdges=function(t){for(var r=t.iterator();r.hasNext();)r.next().getEdges().linkResultDirectedEdges()};var $n=function(){this._geometryFactory=null,this._shellList=new ce;var t=arguments[0];this._geometryFactory=t};$n.prototype.sortShellsAndHoles=function(t,r,s){for(var a=t.iterator();a.hasNext();){var c=a.next();c.isHole()?s.add(c):r.add(c)}},$n.prototype.computePolygons=function(t){for(var r=new ce,s=t.iterator();s.hasNext();){var a=s.next().toPolygon(this._geometryFactory);r.add(a)}return r},$n.prototype.placeFreeHoles=function(t,r){for(var s=r.iterator();s.hasNext();){var a=s.next();if(a.getShell()===null){var c=this.findEdgeRingContaining(a,t);if(c===null)throw new Ua("unable to assign hole to a shell",a.getCoordinate(0));a.setShell(c)}}},$n.prototype.buildMinimalEdgeRings=function(t,r,s){for(var a=new ce,c=t.iterator();c.hasNext();){var h=c.next();if(h.getMaxNodeDegree()>2){h.linkDirectedEdgesForMinimalEdgeRings();var g=h.buildMinimalRings(),v=this.findShell(g);v!==null?(this.placePolygonHoles(v,g),r.add(v)):s.addAll(g)}else a.add(h)}return a},$n.prototype.containsPoint=function(t){for(var r=this._shellList.iterator();r.hasNext();)if(r.next().containsPoint(t))return!0;return!1},$n.prototype.buildMaximalEdgeRings=function(t){for(var r=new ce,s=t.iterator();s.hasNext();){var a=s.next();if(a.isInResult()&&a.getLabel().isArea()&&a.getEdgeRing()===null){var c=new DM(a,this._geometryFactory);r.add(c),c.setInResult()}}return r},$n.prototype.placePolygonHoles=function(t,r){for(var s=r.iterator();s.hasNext();){var a=s.next();a.isHole()&&a.setShell(t)}},$n.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},$n.prototype.findEdgeRingContaining=function(t,r){for(var s=t.getLinearRing(),a=s.getEnvelopeInternal(),c=s.getCoordinateN(0),h=null,g=null,v=r.iterator();v.hasNext();){var w=v.next(),x=w.getLinearRing(),T=x.getEnvelopeInternal();h!==null&&(g=h.getLinearRing().getEnvelopeInternal());var k=!1;T.contains(a)&&fe.isPointInRing(c,x.getCoordinates())&&(k=!0),k&&(h===null||g.contains(T))&&(h=w)}return h},$n.prototype.findShell=function(t){for(var r=0,s=null,a=t.iterator();a.hasNext();){var c=a.next();c.isHole()||(s=c,r++)}return er.isTrue(r<=1,"found two shells in MinimalEdgeRing list"),s},$n.prototype.add=function(){if(arguments.length===1){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(arguments.length===2){var r=arguments[0],s=arguments[1];Ti.linkResultDirectedEdges(s);var a=this.buildMaximalEdgeRings(r),c=new ce,h=this.buildMinimalEdgeRings(a,this._shellList,c);this.sortShellsAndHoles(h,this._shellList,c),this.placeFreeHoles(this._shellList,c)}},$n.prototype.interfaces_=function(){return[]},$n.prototype.getClass=function(){return $n};var ad=function(){};ad.prototype.getBounds=function(){},ad.prototype.interfaces_=function(){return[]},ad.prototype.getClass=function(){return ad};var es=function(){this._bounds=null,this._item=null;var t=arguments[0],r=arguments[1];this._bounds=t,this._item=r};es.prototype.getItem=function(){return this._item},es.prototype.getBounds=function(){return this._bounds},es.prototype.interfaces_=function(){return[ad,Mo]},es.prototype.getClass=function(){return es};var Ga=function(){this._size=null,this._items=null,this._size=0,this._items=new ce,this._items.add(null)};Ga.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},Ga.prototype.size=function(){return this._size},Ga.prototype.reorder=function(t){for(var r=this,s=null,a=this._items.get(t);2*t<=this._size&&((s=2*t)!==r._size&&r._items.get(s+1).compareTo(r._items.get(s))<0&&s++,r._items.get(s).compareTo(a)<0);t=s)r._items.set(t,r._items.get(s));this._items.set(t,a)},Ga.prototype.clear=function(){this._size=0,this._items.clear()},Ga.prototype.isEmpty=function(){return this._size===0},Ga.prototype.add=function(t){this._items.add(null),this._size+=1;var r=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(r/2)))<0;r/=2)this._items.set(r,this._items.get(Math.trunc(r/2)));this._items.set(r,t)},Ga.prototype.interfaces_=function(){return[]},Ga.prototype.getClass=function(){return Ga};var Ml=function(){};Ml.prototype.visitItem=function(t){},Ml.prototype.interfaces_=function(){return[]},Ml.prototype.getClass=function(){return Ml};var Au=function(){};Au.prototype.insert=function(t,r){},Au.prototype.remove=function(t,r){},Au.prototype.query=function(){},Au.prototype.interfaces_=function(){return[]},Au.prototype.getClass=function(){return Au};var Gi=function(){if(this._childBoundables=new ce,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this._level=t}}},G_={serialVersionUID:{configurable:!0}};Gi.prototype.getLevel=function(){return this._level},Gi.prototype.size=function(){return this._childBoundables.size()},Gi.prototype.getChildBoundables=function(){return this._childBoundables},Gi.prototype.addChildBoundable=function(t){er.isTrue(this._bounds===null),this._childBoundables.add(t)},Gi.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Gi.prototype.getBounds=function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds},Gi.prototype.interfaces_=function(){return[ad,Mo]},Gi.prototype.getClass=function(){return Gi},G_.serialVersionUID.get=function(){return 6493722185909574e3},Object.defineProperties(Gi,G_);var rs=function(){};rs.reverseOrder=function(){return{compare:function(t,r){return r.compareTo(t)}}},rs.min=function(t){return rs.sort(t),t.get(0)},rs.sort=function(t,r){var s=t.toArray();r?Ec.sort(s,r):Ec.sort(s);for(var a=t.iterator(),c=0,h=s.length;c<h;c++)a.next(),a.set(s[c])},rs.singletonList=function(t){var r=new ce;return r.add(t),r};var Oi=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],r=arguments[1],s=arguments[2];this._boundable1=t,this._boundable2=r,this._itemDistance=s,this._distance=this.distance()};Oi.prototype.expandToQueue=function(t,r){var s=Oi.isComposite(this._boundable1),a=Oi.isComposite(this._boundable2);if(s&&a)return Oi.area(this._boundable1)>Oi.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,r),null):(this.expand(this._boundable2,this._boundable1,t,r),null);if(s)return this.expand(this._boundable1,this._boundable2,t,r),null;if(a)return this.expand(this._boundable2,this._boundable1,t,r),null;throw new _i("neither boundable is composite")},Oi.prototype.isLeaves=function(){return!(Oi.isComposite(this._boundable1)||Oi.isComposite(this._boundable2))},Oi.prototype.compareTo=function(t){var r=t;return this._distance<r._distance?-1:this._distance>r._distance?1:0},Oi.prototype.expand=function(t,r,s,a){for(var c=t.getChildBoundables().iterator();c.hasNext();){var h=c.next(),g=new Oi(h,r,this._itemDistance);g.getDistance()<a&&s.add(g)}},Oi.prototype.getBoundable=function(t){return t===0?this._boundable1:this._boundable2},Oi.prototype.getDistance=function(){return this._distance},Oi.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},Oi.prototype.interfaces_=function(){return[Po]},Oi.prototype.getClass=function(){return Oi},Oi.area=function(t){return t.getBounds().getArea()},Oi.isComposite=function(t){return t instanceof Gi};var $i=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new ce,this._nodeCapacity=null,arguments.length===0){var r=t.DEFAULT_NODE_CAPACITY;this._nodeCapacity=r}else if(arguments.length===1){var s=arguments[0];er.isTrue(s>1,"Node capacity must be greater than 1"),this._nodeCapacity=s}},Wm={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};$i.prototype.getNodeCapacity=function(){return this._nodeCapacity},$i.prototype.lastNode=function(t){return t.get(t.size()-1)},$i.prototype.size=function(){var t=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var r=arguments[0],s=0,a=r.getChildBoundables().iterator();a.hasNext();){var c=a.next();c instanceof Gi?s+=t.size(c):c instanceof es&&(s+=1)}return s}},$i.prototype.removeItem=function(t,r){for(var s=null,a=t.getChildBoundables().iterator();a.hasNext();){var c=a.next();c instanceof es&&c.getItem()===r&&(s=c)}return s!==null&&(t.getChildBoundables().remove(s),!0)},$i.prototype.itemsTree=function(){var t=this;if(arguments.length===0){this.build();var r=this.itemsTree(this._root);return r===null?new ce:r}if(arguments.length===1){for(var s=arguments[0],a=new ce,c=s.getChildBoundables().iterator();c.hasNext();){var h=c.next();if(h instanceof Gi){var g=t.itemsTree(h);g!==null&&a.add(g)}else h instanceof es?a.add(h.getItem()):er.shouldNeverReachHere()}return a.size()<=0?null:a}},$i.prototype.insert=function(t,r){er.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new es(t,r))},$i.prototype.boundablesAtLevel=function(){var t=this;if(arguments.length===1){var r=arguments[0],s=new ce;return this.boundablesAtLevel(r,this._root,s),s}if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2];if(er.isTrue(a>-2),c.getLevel()===a)return h.add(c),null;for(var g=c.getChildBoundables().iterator();g.hasNext();){var v=g.next();v instanceof Gi?t.boundablesAtLevel(a,v,h):(er.isTrue(v instanceof es),a===-1&&h.add(v))}return null}},$i.prototype.query=function(){var t=this;if(arguments.length===1){var r=arguments[0];this.build();var s=new ce;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),r)&&this.query(r,this._root,s),s}if(arguments.length===2){var a=arguments[0],c=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),a)&&this.query(a,this._root,c)}else if(arguments.length===3){if(Ge(arguments[2],Ml)&&arguments[0]instanceof Object&&arguments[1]instanceof Gi)for(var h=arguments[0],g=arguments[1],v=arguments[2],w=g.getChildBoundables(),x=0;x<w.size();x++){var T=w.get(x);t.getIntersectsOp().intersects(T.getBounds(),h)&&(T instanceof Gi?t.query(h,T,v):T instanceof es?v.visitItem(T.getItem()):er.shouldNeverReachHere())}else if(Ge(arguments[2],Qo)&&arguments[0]instanceof Object&&arguments[1]instanceof Gi)for(var k=arguments[0],P=arguments[1],O=arguments[2],N=P.getChildBoundables(),F=0;F<N.size();F++){var M=N.get(F);t.getIntersectsOp().intersects(M.getBounds(),k)&&(M instanceof Gi?t.query(k,M,O):M instanceof es?O.add(M.getItem()):er.shouldNeverReachHere())}}},$i.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},$i.prototype.getRoot=function(){return this.build(),this._root},$i.prototype.remove=function(){var t=this;if(arguments.length===2){var r=arguments[0],s=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),r)&&this.remove(r,this._root,s)}if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2],g=this.removeItem(c,h);if(g)return!0;for(var v=null,w=c.getChildBoundables().iterator();w.hasNext();){var x=w.next();if(t.getIntersectsOp().intersects(x.getBounds(),a)&&x instanceof Gi&&(g=t.remove(a,x,h))){v=x;break}}return v!==null&&v.getChildBoundables().isEmpty()&&c.getChildBoundables().remove(v),g}},$i.prototype.createHigherLevels=function(t,r){er.isTrue(!t.isEmpty());var s=this.createParentBoundables(t,r+1);return s.size()===1?s.get(0):this.createHigherLevels(s,r+1)},$i.prototype.depth=function(){var t=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var r=arguments[0],s=0,a=r.getChildBoundables().iterator();a.hasNext();){var c=a.next();if(c instanceof Gi){var h=t.depth(c);h>s&&(s=h)}}return s+1}},$i.prototype.createParentBoundables=function(t,r){var s=this;er.isTrue(!t.isEmpty());var a=new ce;a.add(this.createNode(r));var c=new ce(t);rs.sort(c,this.getComparator());for(var h=c.iterator();h.hasNext();){var g=h.next();s.lastNode(a).getChildBoundables().size()===s.getNodeCapacity()&&a.add(s.createNode(r)),s.lastNode(a).addChildBoundable(g)}return a},$i.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},$i.prototype.interfaces_=function(){return[Mo]},$i.prototype.getClass=function(){return $i},$i.compareDoubles=function(t,r){return t>r?1:t<r?-1:0},Wm.IntersectsOp.get=function(){return FM},Wm.serialVersionUID.get=function(){return-3886435814360241e3},Wm.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties($i,Wm);var FM=function(){},ld=function(){};ld.prototype.distance=function(t,r){},ld.prototype.interfaces_=function(){return[]},ld.prototype.getClass=function(){return ld};var q_=function(t){function r(a){a=a||r.DEFAULT_NODE_CAPACITY,t.call(this,a)}t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r;var s={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return r.prototype.createParentBoundablesFromVerticalSlices=function(a,c){er.isTrue(a.length>0);for(var h=new ce,g=0;g<a.length;g++)h.addAll(this.createParentBoundablesFromVerticalSlice(a[g],c));return h},r.prototype.createNode=function(a){return new V_(a)},r.prototype.size=function(){return arguments.length===0?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},r.prototype.insert=function(){if(arguments.length!==2)return t.prototype.insert.apply(this,arguments);var a=arguments[0],c=arguments[1];if(a.isNull())return null;t.prototype.insert.call(this,a,c)},r.prototype.getIntersectsOp=function(){return r.intersectsOp},r.prototype.verticalSlices=function(a,c){for(var h=Math.trunc(Math.ceil(a.size()/c)),g=new Array(c).fill(null),v=a.iterator(),w=0;w<c;w++){g[w]=new ce;for(var x=0;v.hasNext()&&x<h;){var T=v.next();g[w].add(T),x++}}return g},r.prototype.query=function(){if(arguments.length===1){var a=arguments[0];return t.prototype.query.call(this,a)}if(arguments.length===2){var c=arguments[0],h=arguments[1];t.prototype.query.call(this,c,h)}else if(arguments.length===3){if(Ge(arguments[2],Ml)&&arguments[0]instanceof Object&&arguments[1]instanceof Gi){var g=arguments[0],v=arguments[1],w=arguments[2];t.prototype.query.call(this,g,v,w)}else if(Ge(arguments[2],Qo)&&arguments[0]instanceof Object&&arguments[1]instanceof Gi){var x=arguments[0],T=arguments[1],k=arguments[2];t.prototype.query.call(this,x,T,k)}}},r.prototype.getComparator=function(){return r.yComparator},r.prototype.createParentBoundablesFromVerticalSlice=function(a,c){return t.prototype.createParentBoundables.call(this,a,c)},r.prototype.remove=function(){if(arguments.length===2){var a=arguments[0],c=arguments[1];return t.prototype.remove.call(this,a,c)}return t.prototype.remove.apply(this,arguments)},r.prototype.depth=function(){return arguments.length===0?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},r.prototype.createParentBoundables=function(a,c){er.isTrue(!a.isEmpty());var h=Math.trunc(Math.ceil(a.size()/this.getNodeCapacity())),g=new ce(a);rs.sort(g,r.xComparator);var v=this.verticalSlices(g,Math.trunc(Math.ceil(Math.sqrt(h))));return this.createParentBoundablesFromVerticalSlices(v,c)},r.prototype.nearestNeighbour=function(){if(arguments.length===1){if(Ge(arguments[0],ld)){var a=arguments[0],c=new Oi(this.getRoot(),this.getRoot(),a);return this.nearestNeighbour(c)}if(arguments[0]instanceof Oi){var h=arguments[0];return this.nearestNeighbour(h,Ke.POSITIVE_INFINITY)}}else if(arguments.length===2){if(arguments[0]instanceof r&&Ge(arguments[1],ld)){var g=arguments[0],v=arguments[1],w=new Oi(this.getRoot(),g.getRoot(),v);return this.nearestNeighbour(w)}if(arguments[0]instanceof Oi&&typeof arguments[1]=="number"){var x=arguments[0],T=arguments[1],k=T,P=null,O=new Ga;for(O.add(x);!O.isEmpty()&&k>0;){var N=O.poll(),F=N.getDistance();if(F>=k)break;N.isLeaves()?(k=F,P=N):N.expandToQueue(O,k)}return[P.getBoundable(0).getItem(),P.getBoundable(1).getItem()]}}else if(arguments.length===3){var M=arguments[0],W=arguments[1],it=arguments[2],D=new es(M,W),q=new Oi(this.getRoot(),D,it);return this.nearestNeighbour(q)[0]}},r.prototype.interfaces_=function(){return[Au,Mo]},r.prototype.getClass=function(){return r},r.centreX=function(a){return r.avg(a.getMinX(),a.getMaxX())},r.avg=function(a,c){return(a+c)/2},r.centreY=function(a){return r.avg(a.getMinY(),a.getMaxY())},s.STRtreeNode.get=function(){return V_},s.serialVersionUID.get=function(){return 0x39920f7d5f261e0},s.xComparator.get=function(){return{interfaces_:function(){return[Xh]},compare:function(a,c){return t.compareDoubles(r.centreX(a.getBounds()),r.centreX(c.getBounds()))}}},s.yComparator.get=function(){return{interfaces_:function(){return[Xh]},compare:function(a,c){return t.compareDoubles(r.centreY(a.getBounds()),r.centreY(c.getBounds()))}}},s.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(a,c){return a.intersects(c)}}},s.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(r,s),r}($i),V_=function(t){function r(){var s=arguments[0];t.call(this,s)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.computeBounds=function(){for(var s=null,a=this.getChildBoundables().iterator();a.hasNext();){var c=a.next();s===null?s=new Re(c.getBounds()):s.expandToInclude(c.getBounds())}return s},r.prototype.interfaces_=function(){return[]},r.prototype.getClass=function(){return r},r}(Gi),Vn=function(){};Vn.prototype.interfaces_=function(){return[]},Vn.prototype.getClass=function(){return Vn},Vn.relativeSign=function(t,r){return t<r?-1:t>r?1:0},Vn.compare=function(t,r,s){if(r.equals2D(s))return 0;var a=Vn.relativeSign(r.x,s.x),c=Vn.relativeSign(r.y,s.y);switch(t){case 0:return Vn.compareValue(a,c);case 1:return Vn.compareValue(c,a);case 2:return Vn.compareValue(c,-a);case 3:return Vn.compareValue(-a,c);case 4:return Vn.compareValue(-a,-c);case 5:return Vn.compareValue(-c,-a);case 6:return Vn.compareValue(-c,a);case 7:return Vn.compareValue(a,-c)}return er.shouldNeverReachHere("invalid octant value"),0},Vn.compareValue=function(t,r){return t<0?-1:t>0?1:r<0?-1:r>0?1:0};var Il=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],r=arguments[1],s=arguments[2],a=arguments[3];this._segString=t,this.coord=new Ct(r),this.segmentIndex=s,this._segmentOctant=a,this._isInterior=!r.equals2D(t.getCoordinate(s))};Il.prototype.getCoordinate=function(){return this.coord},Il.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},Il.prototype.compareTo=function(t){var r=t;return this.segmentIndex<r.segmentIndex?-1:this.segmentIndex>r.segmentIndex?1:this.coord.equals2D(r.coord)?0:Vn.compare(this._segmentOctant,this.coord,r.coord)},Il.prototype.isEndPoint=function(t){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===t},Il.prototype.isInterior=function(){return this._isInterior},Il.prototype.interfaces_=function(){return[Po]},Il.prototype.getClass=function(){return Il};var Rn=function(){this._nodeMap=new bn,this._edge=null;var t=arguments[0];this._edge=t};Rn.prototype.getSplitCoordinates=function(){var t=new Qp;this.addEndpoints();for(var r=this.iterator(),s=r.next();r.hasNext();){var a=r.next();this.addEdgeCoordinates(s,a,t),s=a}return t.toCoordinateArray()},Rn.prototype.addCollapsedNodes=function(){var t=new ce;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var r=t.iterator();r.hasNext();){var s=r.next().intValue();this.add(this._edge.getCoordinate(s),s)}},Rn.prototype.print=function(t){t.println("Intersections:");for(var r=this.iterator();r.hasNext();)r.next().print(t)},Rn.prototype.findCollapsesFromExistingVertices=function(t){for(var r=0;r<this._edge.size()-2;r++){var s=this._edge.getCoordinate(r),a=this._edge.getCoordinate(r+2);s.equals2D(a)&&t.add(new ws(r+1))}},Rn.prototype.addEdgeCoordinates=function(t,r,s){var a=this._edge.getCoordinate(r.segmentIndex),c=r.isInterior()||!r.coord.equals2D(a);s.add(new Ct(t.coord),!1);for(var h=t.segmentIndex+1;h<=r.segmentIndex;h++)s.add(this._edge.getCoordinate(h));c&&s.add(new Ct(r.coord))},Rn.prototype.iterator=function(){return this._nodeMap.values().iterator()},Rn.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var r=this.iterator(),s=r.next();r.hasNext();){var a=r.next(),c=this.createSplitEdge(s,a);t.add(c),s=a}},Rn.prototype.findCollapseIndex=function(t,r,s){if(!t.coord.equals2D(r.coord))return!1;var a=r.segmentIndex-t.segmentIndex;return r.isInterior()||a--,a===1&&(s[0]=t.segmentIndex+1,!0)},Rn.prototype.findCollapsesFromInsertedNodes=function(t){for(var r=new Array(1).fill(null),s=this.iterator(),a=s.next();s.hasNext();){var c=s.next();this.findCollapseIndex(a,c,r)&&t.add(new ws(r[0])),a=c}},Rn.prototype.getEdge=function(){return this._edge},Rn.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},Rn.prototype.createSplitEdge=function(t,r){var s=r.segmentIndex-t.segmentIndex+2,a=this._edge.getCoordinate(r.segmentIndex),c=r.isInterior()||!r.coord.equals2D(a);c||s--;var h=new Array(s).fill(null),g=0;h[g++]=new Ct(t.coord);for(var v=t.segmentIndex+1;v<=r.segmentIndex;v++)h[g++]=this._edge.getCoordinate(v);return c&&(h[g]=new Ct(r.coord)),new Ri(h,this._edge.getData())},Rn.prototype.add=function(t,r){var s=new Il(this._edge,t,r,this._edge.getSegmentOctant(r)),a=this._nodeMap.get(s);return a!==null?(er.isTrue(a.coord.equals2D(t),"Found equal nodes with different coordinates"),a):(this._nodeMap.put(s,s),s)},Rn.prototype.checkSplitEdgesCorrectness=function(t){var r=this._edge.getCoordinates(),s=t.get(0).getCoordinate(0);if(!s.equals2D(r[0]))throw new Da("bad split edge start point at "+s);var a=t.get(t.size()-1).getCoordinates(),c=a[a.length-1];if(!c.equals2D(r[r.length-1]))throw new Da("bad split edge end point at "+c)},Rn.prototype.interfaces_=function(){return[]},Rn.prototype.getClass=function(){return Rn};var zu=function(){};zu.prototype.interfaces_=function(){return[]},zu.prototype.getClass=function(){return zu},zu.octant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var t=arguments[0],r=arguments[1];if(t===0&&r===0)throw new _i("Cannot compute the octant for point ( "+t+", "+r+" )");var s=Math.abs(t),a=Math.abs(r);return t>=0?r>=0?s>=a?0:1:s>=a?7:6:r>=0?s>=a?3:2:s>=a?4:5}if(arguments[0]instanceof Ct&&arguments[1]instanceof Ct){var c=arguments[0],h=arguments[1],g=h.x-c.x,v=h.y-c.y;if(g===0&&v===0)throw new _i("Cannot compute the octant for two identical points "+c);return zu.octant(g,v)}};var aa=function(){};aa.prototype.getCoordinates=function(){},aa.prototype.size=function(){},aa.prototype.getCoordinate=function(t){},aa.prototype.isClosed=function(){},aa.prototype.setData=function(t){},aa.prototype.getData=function(){},aa.prototype.interfaces_=function(){return[]},aa.prototype.getClass=function(){return aa};var lf=function(){};lf.prototype.addIntersection=function(t,r){},lf.prototype.interfaces_=function(){return[aa]},lf.prototype.getClass=function(){return lf};var Ri=function(){this._nodeList=new Rn(this),this._pts=null,this._data=null;var t=arguments[0],r=arguments[1];this._pts=t,this._data=r};Ri.prototype.getCoordinates=function(){return this._pts},Ri.prototype.size=function(){return this._pts.length},Ri.prototype.getCoordinate=function(t){return this._pts[t]},Ri.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Ri.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},Ri.prototype.setData=function(t){this._data=t},Ri.prototype.safeOctant=function(t,r){return t.equals2D(r)?0:zu.octant(t,r)},Ri.prototype.getData=function(){return this._data},Ri.prototype.addIntersection=function(){if(arguments.length===2){var t=arguments[0],r=arguments[1];this.addIntersectionNode(t,r)}else if(arguments.length===4){var s=arguments[0],a=arguments[1],c=arguments[3],h=new Ct(s.getIntersection(c));this.addIntersection(h,a)}},Ri.prototype.toString=function(){return Jo.toLineString(new Li(this._pts))},Ri.prototype.getNodeList=function(){return this._nodeList},Ri.prototype.addIntersectionNode=function(t,r){var s=r,a=s+1;if(a<this._pts.length){var c=this._pts[a];t.equals2D(c)&&(s=a)}return this._nodeList.add(t,s)},Ri.prototype.addIntersections=function(t,r,s){for(var a=0;a<t.getIntersectionNum();a++)this.addIntersection(t,r,s,a)},Ri.prototype.interfaces_=function(){return[lf]},Ri.prototype.getClass=function(){return Ri},Ri.getNodedSubstrings=function(){if(arguments.length===1){var t=arguments[0],r=new ce;return Ri.getNodedSubstrings(t,r),r}if(arguments.length===2)for(var s=arguments[0],a=arguments[1],c=s.iterator();c.hasNext();){var h=c.next();h.getNodeList().addSplitEdges(a)}};var ze=function(){if(this.p0=null,this.p1=null,arguments.length===0)this.p0=new Ct,this.p1=new Ct;else if(arguments.length===1){var t=arguments[0];this.p0=new Ct(t.p0),this.p1=new Ct(t.p1)}else if(arguments.length===2)this.p0=arguments[0],this.p1=arguments[1];else if(arguments.length===4){var r=arguments[0],s=arguments[1],a=arguments[2],c=arguments[3];this.p0=new Ct(r,s),this.p1=new Ct(a,c)}},W_={serialVersionUID:{configurable:!0}};ze.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},ze.prototype.orientationIndex=function(){if(arguments[0]instanceof ze){var t=arguments[0],r=fe.orientationIndex(this.p0,this.p1,t.p0),s=fe.orientationIndex(this.p0,this.p1,t.p1);return r>=0&&s>=0||r<=0&&s<=0?Math.max(r,s):0}if(arguments[0]instanceof Ct){var a=arguments[0];return fe.orientationIndex(this.p0,this.p1,a)}},ze.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},ze.prototype.isVertical=function(){return this.p0.x===this.p1.x},ze.prototype.equals=function(t){if(!(t instanceof ze))return!1;var r=t;return this.p0.equals(r.p0)&&this.p1.equals(r.p1)},ze.prototype.intersection=function(t){var r=new kc;return r.computeIntersection(this.p0,this.p1,t.p0,t.p1),r.hasIntersection()?r.getIntersection(0):null},ze.prototype.project=function(){if(arguments[0]instanceof Ct){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new Ct(t);var r=this.projectionFactor(t),s=new Ct;return s.x=this.p0.x+r*(this.p1.x-this.p0.x),s.y=this.p0.y+r*(this.p1.y-this.p0.y),s}if(arguments[0]instanceof ze){var a=arguments[0],c=this.projectionFactor(a.p0),h=this.projectionFactor(a.p1);if(c>=1&&h>=1||c<=0&&h<=0)return null;var g=this.project(a.p0);c<0&&(g=this.p0),c>1&&(g=this.p1);var v=this.project(a.p1);return h<0&&(v=this.p0),h>1&&(v=this.p1),new ze(g,v)}},ze.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},ze.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},ze.prototype.getCoordinate=function(t){return t===0?this.p0:this.p1},ze.prototype.distancePerpendicular=function(t){return fe.distancePointLinePerpendicular(t,this.p0,this.p1)},ze.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},ze.prototype.midPoint=function(){return ze.midPoint(this.p0,this.p1)},ze.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var r=this.p1.x-this.p0.x,s=this.p1.y-this.p0.y,a=r*r+s*s;return a<=0?Ke.NaN:((t.x-this.p0.x)*r+(t.y-this.p0.y)*s)/a},ze.prototype.closestPoints=function(t){var r=this.intersection(t);if(r!==null)return[r,r];var s=new Array(2).fill(null),a=Ke.MAX_VALUE,c=null,h=this.closestPoint(t.p0);a=h.distance(t.p0),s[0]=h,s[1]=t.p0;var g=this.closestPoint(t.p1);(c=g.distance(t.p1))<a&&(a=c,s[0]=g,s[1]=t.p1);var v=t.closestPoint(this.p0);(c=v.distance(this.p0))<a&&(a=c,s[0]=this.p0,s[1]=v);var w=t.closestPoint(this.p1);return(c=w.distance(this.p1))<a&&(a=c,s[0]=this.p1,s[1]=w),s},ze.prototype.closestPoint=function(t){var r=this.projectionFactor(t);return r>0&&r<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},ze.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},ze.prototype.getLength=function(){return this.p0.distance(this.p1)},ze.prototype.compareTo=function(t){var r=t,s=this.p0.compareTo(r.p0);return s!==0?s:this.p1.compareTo(r.p1)},ze.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},ze.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},ze.prototype.lineIntersection=function(t){try{return Ko.intersection(this.p0,this.p1,t.p0,t.p1)}catch(r){if(!(r instanceof Kh))throw r}return null},ze.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},ze.prototype.pointAlongOffset=function(t,r){var s=this.p0.x+t*(this.p1.x-this.p0.x),a=this.p0.y+t*(this.p1.y-this.p0.y),c=this.p1.x-this.p0.x,h=this.p1.y-this.p0.y,g=Math.sqrt(c*c+h*h),v=0,w=0;if(r!==0){if(g<=0)throw new Error("Cannot compute offset from zero-length line segment");v=r*c/g,w=r*h/g}return new Ct(s-w,a+v)},ze.prototype.setCoordinates=function(){if(arguments.length===1){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(arguments.length===2){var r=arguments[0],s=arguments[1];this.p0.x=r.x,this.p0.y=r.y,this.p1.x=s.x,this.p1.y=s.y}},ze.prototype.segmentFraction=function(t){var r=this.projectionFactor(t);return r<0?r=0:(r>1||Ke.isNaN(r))&&(r=1),r},ze.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},ze.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},ze.prototype.distance=function(){if(arguments[0]instanceof ze){var t=arguments[0];return fe.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof Ct){var r=arguments[0];return fe.distancePointLine(r,this.p0,this.p1)}},ze.prototype.pointAlong=function(t){var r=new Ct;return r.x=this.p0.x+t*(this.p1.x-this.p0.x),r.y=this.p0.y+t*(this.p1.y-this.p0.y),r},ze.prototype.hashCode=function(){var t=Ke.doubleToLongBits(this.p0.x);t^=31*Ke.doubleToLongBits(this.p0.y);var r=Math.trunc(t)^Math.trunc(t>>32),s=Ke.doubleToLongBits(this.p1.x);return s^=31*Ke.doubleToLongBits(this.p1.y),r^(Math.trunc(s)^Math.trunc(s>>32))},ze.prototype.interfaces_=function(){return[Po,Mo]},ze.prototype.getClass=function(){return ze},ze.midPoint=function(t,r){return new Ct((t.x+r.x)/2,(t.y+r.y)/2)},W_.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(ze,W_);var cf=function(){this.tempEnv1=new Re,this.tempEnv2=new Re,this._overlapSeg1=new ze,this._overlapSeg2=new ze};cf.prototype.overlap=function(){if(arguments.length!==2){if(arguments.length===4){var t=arguments[0],r=arguments[1],s=arguments[2],a=arguments[3];t.getLineSegment(r,this._overlapSeg1),s.getLineSegment(a,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}},cf.prototype.interfaces_=function(){return[]},cf.prototype.getClass=function(){return cf};var to=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],r=arguments[1],s=arguments[2],a=arguments[3];this._pts=t,this._start=r,this._end=s,this._context=a};to.prototype.getLineSegment=function(t,r){r.p0=this._pts[t],r.p1=this._pts[t+1]},to.prototype.computeSelect=function(t,r,s,a){var c=this._pts[r],h=this._pts[s];if(a.tempEnv1.init(c,h),s-r==1)return a.select(this,r),null;if(!t.intersects(a.tempEnv1))return null;var g=Math.trunc((r+s)/2);r<g&&this.computeSelect(t,r,g,a),g<s&&this.computeSelect(t,g,s,a)},to.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),r=0,s=this._start;s<=this._end;s++)t[r++]=this._pts[s];return t},to.prototype.computeOverlaps=function(t,r){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,r)},to.prototype.setId=function(t){this._id=t},to.prototype.select=function(t,r){this.computeSelect(t,this._start,this._end,r)},to.prototype.getEnvelope=function(){if(this._env===null){var t=this._pts[this._start],r=this._pts[this._end];this._env=new Re(t,r)}return this._env},to.prototype.getEndIndex=function(){return this._end},to.prototype.getStartIndex=function(){return this._start},to.prototype.getContext=function(){return this._context},to.prototype.getId=function(){return this._id},to.prototype.computeOverlapsInternal=function(t,r,s,a,c,h){var g=this._pts[t],v=this._pts[r],w=s._pts[a],x=s._pts[c];if(r-t==1&&c-a==1)return h.overlap(this,t,s,a),null;if(h.tempEnv1.init(g,v),h.tempEnv2.init(w,x),!h.tempEnv1.intersects(h.tempEnv2))return null;var T=Math.trunc((t+r)/2),k=Math.trunc((a+c)/2);t<T&&(a<k&&this.computeOverlapsInternal(t,T,s,a,k,h),k<c&&this.computeOverlapsInternal(t,T,s,k,c,h)),T<r&&(a<k&&this.computeOverlapsInternal(T,r,s,a,k,h),k<c&&this.computeOverlapsInternal(T,r,s,k,c,h))},to.prototype.interfaces_=function(){return[]},to.prototype.getClass=function(){return to};var Is=function(){};Is.prototype.interfaces_=function(){return[]},Is.prototype.getClass=function(){return Is},Is.getChainStartIndices=function(t){var r=0,s=new ce;s.add(new ws(r));do{var a=Is.findChainEnd(t,r);s.add(new ws(a)),r=a}while(r<t.length-1);return Is.toIntArray(s)},Is.findChainEnd=function(t,r){for(var s=r;s<t.length-1&&t[s].equals2D(t[s+1]);)s++;if(s>=t.length-1)return t.length-1;for(var a=ni.quadrant(t[s],t[s+1]),c=r+1;c<t.length&&!(!t[c-1].equals2D(t[c])&&ni.quadrant(t[c-1],t[c])!==a);)c++;return c-1},Is.getChains=function(){if(arguments.length===1){var t=arguments[0];return Is.getChains(t,null)}if(arguments.length===2){for(var r=arguments[0],s=arguments[1],a=new ce,c=Is.getChainStartIndices(r),h=0;h<c.length-1;h++){var g=new to(r,c[h],c[h+1],s);a.add(g)}return a}},Is.toIntArray=function(t){for(var r=new Array(t.size()).fill(null),s=0;s<r.length;s++)r[s]=t.get(s).intValue();return r};var Sc=function(){};Sc.prototype.computeNodes=function(t){},Sc.prototype.getNodedSubstrings=function(){},Sc.prototype.interfaces_=function(){return[]},Sc.prototype.getClass=function(){return Sc};var uf=function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this.setSegmentIntersector(t)}}};uf.prototype.setSegmentIntersector=function(t){this._segInt=t},uf.prototype.interfaces_=function(){return[Sc]},uf.prototype.getClass=function(){return uf};var wb=function(t){function r(a){a?t.call(this,a):t.call(this),this._monoChains=new ce,this._index=new q_,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r;var s={SegmentOverlapAction:{configurable:!0}};return r.prototype.getMonotoneChains=function(){return this._monoChains},r.prototype.getNodedSubstrings=function(){return Ri.getNodedSubstrings(this._nodedSegStrings)},r.prototype.getIndex=function(){return this._index},r.prototype.add=function(a){for(var c=this,h=Is.getChains(a.getCoordinates(),a).iterator();h.hasNext();){var g=h.next();g.setId(c._idCounter++),c._index.insert(g.getEnvelope(),g),c._monoChains.add(g)}},r.prototype.computeNodes=function(a){this._nodedSegStrings=a;for(var c=a.iterator();c.hasNext();)this.add(c.next());this.intersectChains()},r.prototype.intersectChains=function(){for(var a=this,c=new Z_(this._segInt),h=this._monoChains.iterator();h.hasNext();)for(var g=h.next(),v=a._index.query(g.getEnvelope()).iterator();v.hasNext();){var w=v.next();if(w.getId()>g.getId()&&(g.computeOverlaps(w,c),a._nOverlaps++),a._segInt.isDone())return null}},r.prototype.interfaces_=function(){return[]},r.prototype.getClass=function(){return r},s.SegmentOverlapAction.get=function(){return Z_},Object.defineProperties(r,s),r}(uf),Z_=function(t){function r(){t.call(this),this._si=null;var s=arguments[0];this._si=s}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.overlap=function(){if(arguments.length!==4)return t.prototype.overlap.apply(this,arguments);var s=arguments[0],a=arguments[1],c=arguments[2],h=arguments[3],g=s.getContext(),v=c.getContext();this._si.processIntersections(g,a,v,h)},r.prototype.interfaces_=function(){return[]},r.prototype.getClass=function(){return r},r}(cf),Jr=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var r=arguments[0];this.setQuadrantSegments(r)}else if(arguments.length===2){var s=arguments[0],a=arguments[1];this.setQuadrantSegments(s),this.setEndCapStyle(a)}else if(arguments.length===4){var c=arguments[0],h=arguments[1],g=arguments[2],v=arguments[3];this.setQuadrantSegments(c),this.setEndCapStyle(h),this.setJoinStyle(g),this.setMitreLimit(v)}}},qa={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Jr.prototype.getEndCapStyle=function(){return this._endCapStyle},Jr.prototype.isSingleSided=function(){return this._isSingleSided},Jr.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,this._quadrantSegments===0&&(this._joinStyle=Jr.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Jr.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==Jr.JOIN_ROUND&&(this._quadrantSegments=Jr.DEFAULT_QUADRANT_SEGMENTS)},Jr.prototype.getJoinStyle=function(){return this._joinStyle},Jr.prototype.setJoinStyle=function(t){this._joinStyle=t},Jr.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},Jr.prototype.getSimplifyFactor=function(){return this._simplifyFactor},Jr.prototype.getQuadrantSegments=function(){return this._quadrantSegments},Jr.prototype.setEndCapStyle=function(t){this._endCapStyle=t},Jr.prototype.getMitreLimit=function(){return this._mitreLimit},Jr.prototype.setMitreLimit=function(t){this._mitreLimit=t},Jr.prototype.setSingleSided=function(t){this._isSingleSided=t},Jr.prototype.interfaces_=function(){return[]},Jr.prototype.getClass=function(){return Jr},Jr.bufferDistanceError=function(t){var r=Math.PI/2/t;return 1-Math.cos(r/2)},qa.CAP_ROUND.get=function(){return 1},qa.CAP_FLAT.get=function(){return 2},qa.CAP_SQUARE.get=function(){return 3},qa.JOIN_ROUND.get=function(){return 1},qa.JOIN_MITRE.get=function(){return 2},qa.JOIN_BEVEL.get=function(){return 3},qa.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},qa.DEFAULT_MITRE_LIMIT.get=function(){return 5},qa.DEFAULT_SIMPLIFY_FACTOR.get=function(){return .01},Object.defineProperties(Jr,qa);var Mi=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=fe.COUNTERCLOCKWISE,this._inputLine=t||null},hf={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Mi.prototype.isDeletable=function(t,r,s,a){var c=this._inputLine[t],h=this._inputLine[r],g=this._inputLine[s];return!!this.isConcave(c,h,g)&&!!this.isShallow(c,h,g,a)&&this.isShallowSampled(c,h,t,s,a)},Mi.prototype.deleteShallowConcavities=function(){for(var t=this,r=1,s=this.findNextNonDeletedIndex(r),a=this.findNextNonDeletedIndex(s),c=!1;a<this._inputLine.length;){var h=!1;t.isDeletable(r,s,a,t._distanceTol)&&(t._isDeleted[s]=Mi.DELETE,h=!0,c=!0),r=h?a:s,s=t.findNextNonDeletedIndex(r),a=t.findNextNonDeletedIndex(s)}return c},Mi.prototype.isShallowConcavity=function(t,r,s,a){return fe.computeOrientation(t,r,s)===this._angleOrientation&&fe.distancePointLine(r,t,s)<a},Mi.prototype.isShallowSampled=function(t,r,s,a,c){var h=Math.trunc((a-s)/Mi.NUM_PTS_TO_CHECK);h<=0&&(h=1);for(var g=s;g<a;g+=h)if(!this.isShallow(t,r,this._inputLine[g],c))return!1;return!0},Mi.prototype.isConcave=function(t,r,s){var a=fe.computeOrientation(t,r,s)===this._angleOrientation;return a},Mi.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=fe.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var r=!1;do r=this.deleteShallowConcavities();while(r);return this.collapseLine()},Mi.prototype.findNextNonDeletedIndex=function(t){for(var r=t+1;r<this._inputLine.length&&this._isDeleted[r]===Mi.DELETE;)r++;return r},Mi.prototype.isShallow=function(t,r,s,a){return fe.distancePointLine(r,t,s)<a},Mi.prototype.collapseLine=function(){for(var t=new Qp,r=0;r<this._inputLine.length;r++)this._isDeleted[r]!==Mi.DELETE&&t.add(this._inputLine[r]);return t.toCoordinateArray()},Mi.prototype.interfaces_=function(){return[]},Mi.prototype.getClass=function(){return Mi},Mi.simplify=function(t,r){return new Mi(t).simplify(r)},hf.INIT.get=function(){return 0},hf.DELETE.get=function(){return 1},hf.KEEP.get=function(){return 1},hf.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Mi,hf);var mo=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new ce},X_={COORDINATE_ARRAY_TYPE:{configurable:!0}};mo.prototype.getCoordinates=function(){return this._ptList.toArray(mo.COORDINATE_ARRAY_TYPE)},mo.prototype.setPrecisionModel=function(t){this._precisionModel=t},mo.prototype.addPt=function(t){var r=new Ct(t);if(this._precisionModel.makePrecise(r),this.isRedundant(r))return null;this._ptList.add(r)},mo.prototype.revere=function(){},mo.prototype.addPts=function(t,r){if(r)for(var s=0;s<t.length;s++)this.addPt(t[s]);else for(var a=t.length-1;a>=0;a--)this.addPt(t[a])},mo.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var r=this._ptList.get(this._ptList.size()-1);return t.distance(r)<this._minimimVertexDistance},mo.prototype.toString=function(){return new cr().createLineString(this.getCoordinates()).toString()},mo.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new Ct(this._ptList.get(0)),r=this._ptList.get(this._ptList.size()-1);if(t.equals(r))return null;this._ptList.add(t)},mo.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},mo.prototype.interfaces_=function(){return[]},mo.prototype.getClass=function(){return mo},X_.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(mo,X_);var mr=function(){},Ou={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};mr.prototype.interfaces_=function(){return[]},mr.prototype.getClass=function(){return mr},mr.toDegrees=function(t){return 180*t/Math.PI},mr.normalize=function(t){for(;t>Math.PI;)t-=mr.PI_TIMES_2;for(;t<=-Math.PI;)t+=mr.PI_TIMES_2;return t},mr.angle=function(){if(arguments.length===1){var t=arguments[0];return Math.atan2(t.y,t.x)}if(arguments.length===2){var r=arguments[0],s=arguments[1],a=s.x-r.x,c=s.y-r.y;return Math.atan2(c,a)}},mr.isAcute=function(t,r,s){var a=t.x-r.x,c=t.y-r.y;return a*(s.x-r.x)+c*(s.y-r.y)>0},mr.isObtuse=function(t,r,s){var a=t.x-r.x,c=t.y-r.y;return a*(s.x-r.x)+c*(s.y-r.y)<0},mr.interiorAngle=function(t,r,s){var a=mr.angle(r,t),c=mr.angle(r,s);return Math.abs(c-a)},mr.normalizePositive=function(t){if(t<0){for(;t<0;)t+=mr.PI_TIMES_2;t>=mr.PI_TIMES_2&&(t=0)}else{for(;t>=mr.PI_TIMES_2;)t-=mr.PI_TIMES_2;t<0&&(t=0)}return t},mr.angleBetween=function(t,r,s){var a=mr.angle(r,t),c=mr.angle(r,s);return mr.diff(a,c)},mr.diff=function(t,r){var s=null;return(s=t<r?r-t:t-r)>Math.PI&&(s=2*Math.PI-s),s},mr.toRadians=function(t){return t*Math.PI/180},mr.getTurn=function(t,r){var s=Math.sin(r-t);return s>0?mr.COUNTERCLOCKWISE:s<0?mr.CLOCKWISE:mr.NONE},mr.angleBetweenOriented=function(t,r,s){var a=mr.angle(r,t),c=mr.angle(r,s)-a;return c<=-Math.PI?c+mr.PI_TIMES_2:c>Math.PI?c-mr.PI_TIMES_2:c},Ou.PI_TIMES_2.get=function(){return 2*Math.PI},Ou.PI_OVER_2.get=function(){return Math.PI/2},Ou.PI_OVER_4.get=function(){return Math.PI/4},Ou.COUNTERCLOCKWISE.get=function(){return fe.COUNTERCLOCKWISE},Ou.CLOCKWISE.get=function(){return fe.CLOCKWISE},Ou.NONE.get=function(){return fe.COLLINEAR},Object.defineProperties(mr,Ou);var bi=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new ze,this._seg1=new ze,this._offset0=new ze,this._offset1=new ze,this._side=0,this._hasNarrowConcaveAngle=!1;var r=arguments[0],s=arguments[1],a=arguments[2];this._precisionModel=r,this._bufParams=s,this._li=new kc,this._filletAngleQuantum=Math.PI/2/s.getQuadrantSegments(),s.getQuadrantSegments()>=8&&s.getJoinStyle()===Jr.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(a)},df={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};bi.prototype.addNextSegment=function(t,r){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var s=fe.computeOrientation(this._s0,this._s1,this._s2),a=s===fe.CLOCKWISE&&this._side===ie.LEFT||s===fe.COUNTERCLOCKWISE&&this._side===ie.RIGHT;s===0?this.addCollinear(r):a?this.addOutsideTurn(s,r):this.addInsideTurn(s,r)},bi.prototype.addLineEndCap=function(t,r){var s=new ze(t,r),a=new ze;this.computeOffsetSegment(s,ie.LEFT,this._distance,a);var c=new ze;this.computeOffsetSegment(s,ie.RIGHT,this._distance,c);var h=r.x-t.x,g=r.y-t.y,v=Math.atan2(g,h);switch(this._bufParams.getEndCapStyle()){case Jr.CAP_ROUND:this._segList.addPt(a.p1),this.addFilletArc(r,v+Math.PI/2,v-Math.PI/2,fe.CLOCKWISE,this._distance),this._segList.addPt(c.p1);break;case Jr.CAP_FLAT:this._segList.addPt(a.p1),this._segList.addPt(c.p1);break;case Jr.CAP_SQUARE:var w=new Ct;w.x=Math.abs(this._distance)*Math.cos(v),w.y=Math.abs(this._distance)*Math.sin(v);var x=new Ct(a.p1.x+w.x,a.p1.y+w.y),T=new Ct(c.p1.x+w.x,c.p1.y+w.y);this._segList.addPt(x),this._segList.addPt(T)}},bi.prototype.getCoordinates=function(){return this._segList.getCoordinates()},bi.prototype.addMitreJoin=function(t,r,s,a){var c=!0,h=null;try{h=Ko.intersection(r.p0,r.p1,s.p0,s.p1),(a<=0?1:h.distance(t)/Math.abs(a))>this._bufParams.getMitreLimit()&&(c=!1)}catch(g){if(!(g instanceof Kh))throw g;h=new Ct(0,0),c=!1}c?this._segList.addPt(h):this.addLimitedMitreJoin(r,s,a,this._bufParams.getMitreLimit())},bi.prototype.addFilletCorner=function(t,r,s,a,c){var h=r.x-t.x,g=r.y-t.y,v=Math.atan2(g,h),w=s.x-t.x,x=s.y-t.y,T=Math.atan2(x,w);a===fe.CLOCKWISE?v<=T&&(v+=2*Math.PI):v>=T&&(v-=2*Math.PI),this._segList.addPt(r),this.addFilletArc(t,v,T,a,c),this._segList.addPt(s)},bi.prototype.addOutsideTurn=function(t,r){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*bi.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Jr.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Jr.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(r&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},bi.prototype.createSquare=function(t){this._segList.addPt(new Ct(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new Ct(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new Ct(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new Ct(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},bi.prototype.addSegments=function(t,r){this._segList.addPts(t,r)},bi.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},bi.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},bi.prototype.initSideSegments=function(t,r,s){this._s1=t,this._s2=r,this._side=s,this._seg1.setCoordinates(t,r),this.computeOffsetSegment(this._seg1,s,this._distance,this._offset1)},bi.prototype.addLimitedMitreJoin=function(t,r,s,a){var c=this._seg0.p1,h=mr.angle(c,this._seg0.p0),g=mr.angleBetweenOriented(this._seg0.p0,c,this._seg1.p1)/2,v=mr.normalize(h+g),w=mr.normalize(v+Math.PI),x=a*s,T=s-x*Math.abs(Math.sin(g)),k=c.x+x*Math.cos(w),P=c.y+x*Math.sin(w),O=new Ct(k,P),N=new ze(c,O),F=N.pointAlongOffset(1,T),M=N.pointAlongOffset(1,-T);this._side===ie.LEFT?(this._segList.addPt(F),this._segList.addPt(M)):(this._segList.addPt(M),this._segList.addPt(F))},bi.prototype.computeOffsetSegment=function(t,r,s,a){var c=r===ie.LEFT?1:-1,h=t.p1.x-t.p0.x,g=t.p1.y-t.p0.y,v=Math.sqrt(h*h+g*g),w=c*s*h/v,x=c*s*g/v;a.p0.x=t.p0.x-x,a.p0.y=t.p0.y+w,a.p1.x=t.p1.x-x,a.p1.y=t.p1.y+w},bi.prototype.addFilletArc=function(t,r,s,a,c){var h=a===fe.CLOCKWISE?-1:1,g=Math.abs(r-s),v=Math.trunc(g/this._filletAngleQuantum+.5);if(v<1)return null;for(var w=g/v,x=0,T=new Ct;x<g;){var k=r+h*x;T.x=t.x+c*Math.cos(k),T.y=t.y+c*Math.sin(k),this._segList.addPt(T),x+=w}},bi.prototype.addInsideTurn=function(t,r){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*bi.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var s=new Ct((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(s);var a=new Ct((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(a)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},bi.prototype.createCircle=function(t){var r=new Ct(t.x+this._distance,t.y);this._segList.addPt(r),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},bi.prototype.addBevelJoin=function(t,r){this._segList.addPt(t.p1),this._segList.addPt(r.p0)},bi.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new mo,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*bi.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},bi.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===Jr.JOIN_BEVEL||this._bufParams.getJoinStyle()===Jr.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,fe.CLOCKWISE,this._distance))},bi.prototype.closeRing=function(){this._segList.closeRing()},bi.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},bi.prototype.interfaces_=function(){return[]},bi.prototype.getClass=function(){return bi},df.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return .001},df.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return .001},df.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},df.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(bi,df);var Wn=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],r=arguments[1];this._precisionModel=t,this._bufParams=r};Wn.prototype.getOffsetCurve=function(t,r){if(this._distance=r,r===0)return null;var s=r<0,a=Math.abs(r),c=this.getSegGen(a);t.length<=1?this.computePointCurve(t[0],c):this.computeOffsetCurve(t,s,c);var h=c.getCoordinates();return s&&lr.reverse(h),h},Wn.prototype.computeSingleSidedBufferCurve=function(t,r,s){var a=this.simplifyTolerance(this._distance);if(r){s.addSegments(t,!0);var c=Mi.simplify(t,-a),h=c.length-1;s.initSideSegments(c[h],c[h-1],ie.LEFT),s.addFirstSegment();for(var g=h-2;g>=0;g--)s.addNextSegment(c[g],!0)}else{s.addSegments(t,!1);var v=Mi.simplify(t,a),w=v.length-1;s.initSideSegments(v[0],v[1],ie.LEFT),s.addFirstSegment();for(var x=2;x<=w;x++)s.addNextSegment(v[x],!0)}s.addLastSegment(),s.closeRing()},Wn.prototype.computeRingBufferCurve=function(t,r,s){var a=this.simplifyTolerance(this._distance);r===ie.RIGHT&&(a=-a);var c=Mi.simplify(t,a),h=c.length-1;s.initSideSegments(c[h-1],c[0],r);for(var g=1;g<=h;g++){var v=g!==1;s.addNextSegment(c[g],v)}s.closeRing()},Wn.prototype.computeLineBufferCurve=function(t,r){var s=this.simplifyTolerance(this._distance),a=Mi.simplify(t,s),c=a.length-1;r.initSideSegments(a[0],a[1],ie.LEFT);for(var h=2;h<=c;h++)r.addNextSegment(a[h],!0);r.addLastSegment(),r.addLineEndCap(a[c-1],a[c]);var g=Mi.simplify(t,-s),v=g.length-1;r.initSideSegments(g[v],g[v-1],ie.LEFT);for(var w=v-2;w>=0;w--)r.addNextSegment(g[w],!0);r.addLastSegment(),r.addLineEndCap(g[1],g[0]),r.closeRing()},Wn.prototype.computePointCurve=function(t,r){switch(this._bufParams.getEndCapStyle()){case Jr.CAP_ROUND:r.createCircle(t);break;case Jr.CAP_SQUARE:r.createSquare(t)}},Wn.prototype.getLineCurve=function(t,r){if(this._distance=r,r<0&&!this._bufParams.isSingleSided()||r===0)return null;var s=Math.abs(r),a=this.getSegGen(s);if(t.length<=1)this.computePointCurve(t[0],a);else if(this._bufParams.isSingleSided()){var c=r<0;this.computeSingleSidedBufferCurve(t,c,a)}else this.computeLineBufferCurve(t,a);return a.getCoordinates()},Wn.prototype.getBufferParameters=function(){return this._bufParams},Wn.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},Wn.prototype.getRingCurve=function(t,r,s){if(this._distance=s,t.length<=2)return this.getLineCurve(t,s);if(s===0)return Wn.copyCoordinates(t);var a=this.getSegGen(s);return this.computeRingBufferCurve(t,r,a),a.getCoordinates()},Wn.prototype.computeOffsetCurve=function(t,r,s){var a=this.simplifyTolerance(this._distance);if(r){var c=Mi.simplify(t,-a),h=c.length-1;s.initSideSegments(c[h],c[h-1],ie.LEFT),s.addFirstSegment();for(var g=h-2;g>=0;g--)s.addNextSegment(c[g],!0)}else{var v=Mi.simplify(t,a),w=v.length-1;s.initSideSegments(v[0],v[1],ie.LEFT),s.addFirstSegment();for(var x=2;x<=w;x++)s.addNextSegment(v[x],!0)}s.addLastSegment()},Wn.prototype.getSegGen=function(t){return new bi(this._precisionModel,this._bufParams,t)},Wn.prototype.interfaces_=function(){return[]},Wn.prototype.getClass=function(){return Wn},Wn.copyCoordinates=function(t){for(var r=new Array(t.length).fill(null),s=0;s<r.length;s++)r[s]=new Ct(t[s]);return r};var Nu=function(){this._subgraphs=null,this._seg=new ze,this._cga=new fe;var t=arguments[0];this._subgraphs=t},Y_={DepthSegment:{configurable:!0}};Nu.prototype.findStabbedSegments=function(){var t=this;if(arguments.length===1){for(var r=arguments[0],s=new ce,a=this._subgraphs.iterator();a.hasNext();){var c=a.next(),h=c.getEnvelope();r.y<h.getMinY()||r.y>h.getMaxY()||t.findStabbedSegments(r,c.getDirectedEdges(),s)}return s}if(arguments.length===3){if(Ge(arguments[2],Qo)&&arguments[0]instanceof Ct&&arguments[1]instanceof bb)for(var g=arguments[0],v=arguments[1],w=arguments[2],x=v.getEdge().getCoordinates(),T=0;T<x.length-1;T++){t._seg.p0=x[T],t._seg.p1=x[T+1],t._seg.p0.y>t._seg.p1.y&&t._seg.reverse();var k=Math.max(t._seg.p0.x,t._seg.p1.x);if(!(k<g.x)&&!(t._seg.isHorizontal()||g.y<t._seg.p0.y||g.y>t._seg.p1.y||fe.computeOrientation(t._seg.p0,t._seg.p1,g)===fe.RIGHT)){var P=v.getDepth(ie.LEFT);t._seg.p0.equals(x[T])||(P=v.getDepth(ie.RIGHT));var O=new Cc(t._seg,P);w.add(O)}}else if(Ge(arguments[2],Qo)&&arguments[0]instanceof Ct&&Ge(arguments[1],Qo))for(var N=arguments[0],F=arguments[1],M=arguments[2],W=F.iterator();W.hasNext();){var it=W.next();it.isForward()&&t.findStabbedSegments(N,it,M)}}},Nu.prototype.getDepth=function(t){var r=this.findStabbedSegments(t);return r.size()===0?0:rs.min(r)._leftDepth},Nu.prototype.interfaces_=function(){return[]},Nu.prototype.getClass=function(){return Nu},Y_.DepthSegment.get=function(){return Cc},Object.defineProperties(Nu,Y_);var Cc=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],r=arguments[1];this._upwardSeg=new ze(t),this._leftDepth=r};Cc.prototype.compareTo=function(t){var r=t;if(this._upwardSeg.minX()>=r._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=r._upwardSeg.minX())return-1;var s=this._upwardSeg.orientationIndex(r._upwardSeg);return s!==0||(s=-1*r._upwardSeg.orientationIndex(this._upwardSeg))!==0?s:this._upwardSeg.compareTo(r._upwardSeg)},Cc.prototype.compareX=function(t,r){var s=t.p0.compareTo(r.p0);return s!==0?s:t.p1.compareTo(r.p1)},Cc.prototype.toString=function(){return this._upwardSeg.toString()},Cc.prototype.interfaces_=function(){return[Po]},Cc.prototype.getClass=function(){return Cc};var Qr=function(t,r,s){this.p0=t||null,this.p1=r||null,this.p2=s||null};Qr.prototype.area=function(){return Qr.area(this.p0,this.p1,this.p2)},Qr.prototype.signedArea=function(){return Qr.signedArea(this.p0,this.p1,this.p2)},Qr.prototype.interpolateZ=function(t){if(t===null)throw new _i("Supplied point is null.");return Qr.interpolateZ(t,this.p0,this.p1,this.p2)},Qr.prototype.longestSideLength=function(){return Qr.longestSideLength(this.p0,this.p1,this.p2)},Qr.prototype.isAcute=function(){return Qr.isAcute(this.p0,this.p1,this.p2)},Qr.prototype.circumcentre=function(){return Qr.circumcentre(this.p0,this.p1,this.p2)},Qr.prototype.area3D=function(){return Qr.area3D(this.p0,this.p1,this.p2)},Qr.prototype.centroid=function(){return Qr.centroid(this.p0,this.p1,this.p2)},Qr.prototype.inCentre=function(){return Qr.inCentre(this.p0,this.p1,this.p2)},Qr.prototype.interfaces_=function(){return[]},Qr.prototype.getClass=function(){return Qr},Qr.area=function(t,r,s){return Math.abs(((s.x-t.x)*(r.y-t.y)-(r.x-t.x)*(s.y-t.y))/2)},Qr.signedArea=function(t,r,s){return((s.x-t.x)*(r.y-t.y)-(r.x-t.x)*(s.y-t.y))/2},Qr.det=function(t,r,s,a){return t*a-r*s},Qr.interpolateZ=function(t,r,s,a){var c=r.x,h=r.y,g=s.x-c,v=a.x-c,w=s.y-h,x=a.y-h,T=g*x-v*w,k=t.x-c,P=t.y-h,O=(x*k-v*P)/T,N=(-w*k+g*P)/T;return r.z+O*(s.z-r.z)+N*(a.z-r.z)},Qr.longestSideLength=function(t,r,s){var a=t.distance(r),c=r.distance(s),h=s.distance(t),g=a;return c>g&&(g=c),h>g&&(g=h),g},Qr.isAcute=function(t,r,s){return!!mr.isAcute(t,r,s)&&!!mr.isAcute(r,s,t)&&!!mr.isAcute(s,t,r)},Qr.circumcentre=function(t,r,s){var a=s.x,c=s.y,h=t.x-a,g=t.y-c,v=r.x-a,w=r.y-c,x=2*Qr.det(h,g,v,w),T=Qr.det(g,h*h+g*g,w,v*v+w*w),k=Qr.det(h,h*h+g*g,v,v*v+w*w);return new Ct(a-T/x,c+k/x)},Qr.perpendicularBisector=function(t,r){var s=r.x-t.x,a=r.y-t.y,c=new Ko(t.x+s/2,t.y+a/2,1),h=new Ko(t.x-a+s/2,t.y+s+a/2,1);return new Ko(c,h)},Qr.angleBisector=function(t,r,s){var a=r.distance(t),c=a/(a+r.distance(s)),h=s.x-t.x,g=s.y-t.y;return new Ct(t.x+c*h,t.y+c*g)},Qr.area3D=function(t,r,s){var a=r.x-t.x,c=r.y-t.y,h=r.z-t.z,g=s.x-t.x,v=s.y-t.y,w=s.z-t.z,x=c*w-h*v,T=h*g-a*w,k=a*v-c*g,P=x*x+T*T+k*k,O=Math.sqrt(P)/2;return O},Qr.centroid=function(t,r,s){var a=(t.x+r.x+s.x)/3,c=(t.y+r.y+s.y)/3;return new Ct(a,c)},Qr.inCentre=function(t,r,s){var a=r.distance(s),c=t.distance(s),h=t.distance(r),g=a+c+h,v=(a*t.x+c*r.x+h*s.x)/g,w=(a*t.y+c*r.y+h*s.y)/g;return new Ct(v,w)};var zo=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new ce;var t=arguments[0],r=arguments[1],s=arguments[2];this._inputGeom=t,this._distance=r,this._curveBuilder=s};zo.prototype.addPoint=function(t){if(this._distance<=0)return null;var r=t.getCoordinates(),s=this._curveBuilder.getLineCurve(r,this._distance);this.addCurve(s,At.EXTERIOR,At.INTERIOR)},zo.prototype.addPolygon=function(t){var r=this,s=this._distance,a=ie.LEFT;this._distance<0&&(s=-this._distance,a=ie.RIGHT);var c=t.getExteriorRing(),h=lr.removeRepeatedPoints(c.getCoordinates());if(this._distance<0&&this.isErodedCompletely(c,this._distance)||this._distance<=0&&h.length<3)return null;this.addPolygonRing(h,s,a,At.EXTERIOR,At.INTERIOR);for(var g=0;g<t.getNumInteriorRing();g++){var v=t.getInteriorRingN(g),w=lr.removeRepeatedPoints(v.getCoordinates());r._distance>0&&r.isErodedCompletely(v,-r._distance)||r.addPolygonRing(w,s,ie.opposite(a),At.INTERIOR,At.EXTERIOR)}},zo.prototype.isTriangleErodedCompletely=function(t,r){var s=new Qr(t[0],t[1],t[2]),a=s.inCentre();return fe.distancePointLine(a,s.p0,s.p1)<Math.abs(r)},zo.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var r=lr.removeRepeatedPoints(t.getCoordinates()),s=this._curveBuilder.getLineCurve(r,this._distance);this.addCurve(s,At.EXTERIOR,At.INTERIOR)},zo.prototype.addCurve=function(t,r,s){if(t===null||t.length<2)return null;var a=new Ri(t,new ii(0,At.BOUNDARY,r,s));this._curveList.add(a)},zo.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},zo.prototype.addPolygonRing=function(t,r,s,a,c){if(r===0&&t.length<na.MINIMUM_VALID_SIZE)return null;var h=a,g=c;t.length>=na.MINIMUM_VALID_SIZE&&fe.isCCW(t)&&(h=c,g=a,s=ie.opposite(s));var v=this._curveBuilder.getRingCurve(t,s,r);this.addCurve(v,h,g)},zo.prototype.add=function(t){if(t.isEmpty())return null;t instanceof Ui?this.addPolygon(t):t instanceof Pi?this.addLineString(t):t instanceof Qn?this.addPoint(t):(t instanceof od||t instanceof Tc||t instanceof oa||t instanceof In)&&this.addCollection(t)},zo.prototype.isErodedCompletely=function(t,r){var s=t.getCoordinates();if(s.length<4)return r<0;if(s.length===4)return this.isTriangleErodedCompletely(s,r);var a=t.getEnvelopeInternal(),c=Math.min(a.getHeight(),a.getWidth());return r<0&&2*Math.abs(r)>c},zo.prototype.addCollection=function(t){for(var r=0;r<t.getNumGeometries();r++){var s=t.getGeometryN(r);this.add(s)}},zo.prototype.interfaces_=function(){return[]},zo.prototype.getClass=function(){return zo};var cd=function(){};cd.prototype.locate=function(t){},cd.prototype.interfaces_=function(){return[]},cd.prototype.getClass=function(){return cd};var la=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};la.prototype.next=function(){if(this._atStart)return this._atStart=!1,la.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new id;var t=this._parent.getGeometryN(this._index++);return t instanceof In?(this._subcollectionIterator=new la(t),this._subcollectionIterator.next()):t},la.prototype.remove=function(){throw new Error(this.getClass().getName())},la.prototype.hasNext=function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},la.prototype.interfaces_=function(){return[rd]},la.prototype.getClass=function(){return la},la.isAtomic=function(t){return!(t instanceof In)};var vo=function(){this._geom=null;var t=arguments[0];this._geom=t};vo.prototype.locate=function(t){return vo.locate(t,this._geom)},vo.prototype.interfaces_=function(){return[cd]},vo.prototype.getClass=function(){return vo},vo.isPointInRing=function(t,r){return!!r.getEnvelopeInternal().intersects(t)&&fe.isPointInRing(t,r.getCoordinates())},vo.containsPointInPolygon=function(t,r){if(r.isEmpty())return!1;var s=r.getExteriorRing();if(!vo.isPointInRing(t,s))return!1;for(var a=0;a<r.getNumInteriorRing();a++){var c=r.getInteriorRingN(a);if(vo.isPointInRing(t,c))return!1}return!0},vo.containsPoint=function(t,r){if(r instanceof Ui)return vo.containsPointInPolygon(t,r);if(r instanceof In)for(var s=new la(r);s.hasNext();){var a=s.next();if(a!==r&&vo.containsPoint(t,a))return!0}return!1},vo.locate=function(t,r){return r.isEmpty()?At.EXTERIOR:vo.containsPoint(t,r)?At.INTERIOR:At.EXTERIOR};var xn=function(){this._edgeMap=new bn,this._edgeList=null,this._ptInAreaLocation=[At.NONE,At.NONE]};xn.prototype.getNextCW=function(t){this.getEdges();var r=this._edgeList.indexOf(t),s=r-1;return r===0&&(s=this._edgeList.size()-1),this._edgeList.get(s)},xn.prototype.propagateSideLabels=function(t){for(var r=At.NONE,s=this.iterator();s.hasNext();){var a=s.next().getLabel();a.isArea(t)&&a.getLocation(t,ie.LEFT)!==At.NONE&&(r=a.getLocation(t,ie.LEFT))}if(r===At.NONE)return null;for(var c=r,h=this.iterator();h.hasNext();){var g=h.next(),v=g.getLabel();if(v.getLocation(t,ie.ON)===At.NONE&&v.setLocation(t,ie.ON,c),v.isArea(t)){var w=v.getLocation(t,ie.LEFT),x=v.getLocation(t,ie.RIGHT);if(x!==At.NONE){if(x!==c)throw new Ua("side location conflict",g.getCoordinate());w===At.NONE&&er.shouldNeverReachHere("found single null side (at "+g.getCoordinate()+")"),c=w}else er.isTrue(v.getLocation(t,ie.LEFT)===At.NONE,"found single null side"),v.setLocation(t,ie.RIGHT,c),v.setLocation(t,ie.LEFT,c)}}},xn.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},xn.prototype.print=function(t){un.out.println("EdgeEndStar:   "+this.getCoordinate());for(var r=this.iterator();r.hasNext();)r.next().print(t)},xn.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},xn.prototype.checkAreaLabelsConsistent=function(t){var r=this.getEdges();if(r.size()<=0)return!0;var s=r.size()-1,a=r.get(s).getLabel().getLocation(t,ie.LEFT);er.isTrue(a!==At.NONE,"Found unlabelled area edge");for(var c=a,h=this.iterator();h.hasNext();){var g=h.next().getLabel();er.isTrue(g.isArea(t),"Found non-area edge");var v=g.getLocation(t,ie.LEFT),w=g.getLocation(t,ie.RIGHT);if(v===w||w!==c)return!1;c=v}return!0},xn.prototype.findIndex=function(t){this.iterator();for(var r=0;r<this._edgeList.size();r++)if(this._edgeList.get(r)===t)return r;return-1},xn.prototype.iterator=function(){return this.getEdges().iterator()},xn.prototype.getEdges=function(){return this._edgeList===null&&(this._edgeList=new ce(this._edgeMap.values())),this._edgeList},xn.prototype.getLocation=function(t,r,s){return this._ptInAreaLocation[t]===At.NONE&&(this._ptInAreaLocation[t]=vo.locate(r,s[t].getGeometry())),this._ptInAreaLocation[t]},xn.prototype.toString=function(){var t=new bs;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append(`
`);for(var r=this.iterator();r.hasNext();){var s=r.next();t.append(s),t.append(`
`)}return t.toString()},xn.prototype.computeEdgeEndLabels=function(t){for(var r=this.iterator();r.hasNext();)r.next().computeLabel(t)},xn.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var r=[!1,!1],s=this.iterator();s.hasNext();)for(var a=s.next().getLabel(),c=0;c<2;c++)a.isLine(c)&&a.getLocation(c)===At.BOUNDARY&&(r[c]=!0);for(var h=this.iterator();h.hasNext();)for(var g=h.next(),v=g.getLabel(),w=0;w<2;w++)if(v.isAnyNull(w)){var x=At.NONE;if(r[w])x=At.EXTERIOR;else{var T=g.getCoordinate();x=this.getLocation(w,T,t)}v.setAllLocationsIfNull(w,x)}},xn.prototype.getDegree=function(){return this._edgeMap.size()},xn.prototype.insertEdgeEnd=function(t,r){this._edgeMap.put(t,r),this._edgeList=null},xn.prototype.interfaces_=function(){return[]},xn.prototype.getClass=function(){return xn};var BM=function(t){function r(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.linkResultDirectedEdges=function(){var s=this;this.getResultAreaEdges();for(var a=null,c=null,h=this._SCANNING_FOR_INCOMING,g=0;g<this._resultAreaEdgeList.size();g++){var v=s._resultAreaEdgeList.get(g),w=v.getSym();if(v.getLabel().isArea())switch(a===null&&v.isInResult()&&(a=v),h){case s._SCANNING_FOR_INCOMING:if(!w.isInResult())continue;c=w,h=s._LINKING_TO_OUTGOING;break;case s._LINKING_TO_OUTGOING:if(!v.isInResult())continue;c.setNext(v),h=s._SCANNING_FOR_INCOMING}}if(h===this._LINKING_TO_OUTGOING){if(a===null)throw new Ua("no outgoing dirEdge found",this.getCoordinate());er.isTrue(a.isInResult(),"unable to link last incoming dirEdge"),c.setNext(a)}},r.prototype.insert=function(s){var a=s;this.insertEdgeEnd(a,a)},r.prototype.getRightmostEdge=function(){var s=this.getEdges(),a=s.size();if(a<1)return null;var c=s.get(0);if(a===1)return c;var h=s.get(a-1),g=c.getQuadrant(),v=h.getQuadrant();return ni.isNorthern(g)&&ni.isNorthern(v)?c:ni.isNorthern(g)||ni.isNorthern(v)?c.getDy()!==0?c:h.getDy()!==0?h:(er.shouldNeverReachHere("found two horizontal edges incident on node"),null):h},r.prototype.print=function(s){un.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var a=this.iterator();a.hasNext();){var c=a.next();s.print("out "),c.print(s),s.println(),s.print("in "),c.getSym().print(s),s.println()}},r.prototype.getResultAreaEdges=function(){if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new ce;for(var s=this.iterator();s.hasNext();){var a=s.next();(a.isInResult()||a.getSym().isInResult())&&this._resultAreaEdgeList.add(a)}return this._resultAreaEdgeList},r.prototype.updateLabelling=function(s){for(var a=this.iterator();a.hasNext();){var c=a.next().getLabel();c.setAllLocationsIfNull(0,s.getLocation(0)),c.setAllLocationsIfNull(1,s.getLocation(1))}},r.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var s=null,a=null,c=this._edgeList.size()-1;c>=0;c--){var h=this._edgeList.get(c),g=h.getSym();a===null&&(a=g),s!==null&&g.setNext(s),s=h}a.setNext(s)},r.prototype.computeDepths=function(){var s=this;if(arguments.length===1){var a=arguments[0],c=this.findIndex(a),h=a.getDepth(ie.LEFT),g=a.getDepth(ie.RIGHT),v=this.computeDepths(c+1,this._edgeList.size(),h),w=this.computeDepths(0,c,v);if(w!==g)throw new Ua("depth mismatch at "+a.getCoordinate())}else if(arguments.length===3){for(var x=arguments[0],T=arguments[1],k=arguments[2],P=k,O=x;O<T;O++){var N=s._edgeList.get(O);N.setEdgeDepths(ie.RIGHT,P),P=N.getDepth(ie.LEFT)}return P}},r.prototype.mergeSymLabels=function(){for(var s=this.iterator();s.hasNext();){var a=s.next();a.getLabel().merge(a.getSym().getLabel())}},r.prototype.linkMinimalDirectedEdges=function(s){for(var a=this,c=null,h=null,g=this._SCANNING_FOR_INCOMING,v=this._resultAreaEdgeList.size()-1;v>=0;v--){var w=a._resultAreaEdgeList.get(v),x=w.getSym();switch(c===null&&w.getEdgeRing()===s&&(c=w),g){case a._SCANNING_FOR_INCOMING:if(x.getEdgeRing()!==s)continue;h=x,g=a._LINKING_TO_OUTGOING;break;case a._LINKING_TO_OUTGOING:if(w.getEdgeRing()!==s)continue;h.setNextMin(w),g=a._SCANNING_FOR_INCOMING}}g===this._LINKING_TO_OUTGOING&&(er.isTrue(c!==null,"found null for first outgoing dirEdge"),er.isTrue(c.getEdgeRing()===s,"unable to link last incoming dirEdge"),h.setNextMin(c))},r.prototype.getOutgoingDegree=function(){if(arguments.length===0){for(var s=0,a=this.iterator();a.hasNext();){var c=a.next();c.isInResult()&&s++}return s}if(arguments.length===1){for(var h=arguments[0],g=0,v=this.iterator();v.hasNext();){var w=v.next();w.getEdgeRing()===h&&g++}return g}},r.prototype.getLabel=function(){return this._label},r.prototype.findCoveredLineEdges=function(){for(var s=At.NONE,a=this.iterator();a.hasNext();){var c=a.next(),h=c.getSym();if(!c.isLineEdge()){if(c.isInResult()){s=At.INTERIOR;break}if(h.isInResult()){s=At.EXTERIOR;break}}}if(s===At.NONE)return null;for(var g=s,v=this.iterator();v.hasNext();){var w=v.next(),x=w.getSym();w.isLineEdge()?w.getEdge().setCovered(g===At.INTERIOR):(w.isInResult()&&(g=At.EXTERIOR),x.isInResult()&&(g=At.INTERIOR))}},r.prototype.computeLabelling=function(s){t.prototype.computeLabelling.call(this,s),this._label=new ii(At.NONE);for(var a=this.iterator();a.hasNext();)for(var c=a.next().getEdge().getLabel(),h=0;h<2;h++){var g=c.getLocation(h);g!==At.INTERIOR&&g!==At.BOUNDARY||this._label.setLocation(h,At.INTERIOR)}},r.prototype.interfaces_=function(){return[]},r.prototype.getClass=function(){return r},r}(xn),K_=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.createNode=function(s){return new Vm(s,new BM)},r.prototype.interfaces_=function(){return[]},r.prototype.getClass=function(){return r},r}(sd),Ll=function t(){this._pts=null,this._orientation=null;var r=arguments[0];this._pts=r,this._orientation=t.orientation(r)};Ll.prototype.compareTo=function(t){var r=t;return Ll.compareOriented(this._pts,this._orientation,r._pts,r._orientation)},Ll.prototype.interfaces_=function(){return[Po]},Ll.prototype.getClass=function(){return Ll},Ll.orientation=function(t){return lr.increasingDirection(t)===1},Ll.compareOriented=function(t,r,s,a){for(var c=r?1:-1,h=a?1:-1,g=r?t.length:-1,v=a?s.length:-1,w=r?0:t.length-1,x=a?0:s.length-1;;){var T=t[w].compareTo(s[x]);if(T!==0)return T;var k=(w+=c)===g,P=(x+=h)===v;if(k&&!P)return-1;if(!k&&P)return 1;if(k&&P)return 0}};var is=function(){this._edges=new ce,this._ocaMap=new bn};is.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var r=0;r<this._edges.size();r++){var s=this._edges.get(r);r>0&&t.print(","),t.print("(");for(var a=s.getCoordinates(),c=0;c<a.length;c++)c>0&&t.print(","),t.print(a[c].x+" "+a[c].y);t.println(")")}t.print(")  ")},is.prototype.addAll=function(t){for(var r=t.iterator();r.hasNext();)this.add(r.next())},is.prototype.findEdgeIndex=function(t){for(var r=0;r<this._edges.size();r++)if(this._edges.get(r).equals(t))return r;return-1},is.prototype.iterator=function(){return this._edges.iterator()},is.prototype.getEdges=function(){return this._edges},is.prototype.get=function(t){return this._edges.get(t)},is.prototype.findEqualEdge=function(t){var r=new Ll(t.getCoordinates());return this._ocaMap.get(r)},is.prototype.add=function(t){this._edges.add(t);var r=new Ll(t.getCoordinates());this._ocaMap.put(r,t)},is.prototype.interfaces_=function(){return[]},is.prototype.getClass=function(){return is};var Pc=function(){};Pc.prototype.processIntersections=function(t,r,s,a){},Pc.prototype.isDone=function(){},Pc.prototype.interfaces_=function(){return[]},Pc.prototype.getClass=function(){return Pc};var yo=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};yo.prototype.isTrivialIntersection=function(t,r,s,a){if(t===s&&this._li.getIntersectionNum()===1){if(yo.isAdjacentSegments(r,a))return!0;if(t.isClosed()){var c=t.size()-1;if(r===0&&a===c||a===0&&r===c)return!0}}return!1},yo.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},yo.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},yo.prototype.getLineIntersector=function(){return this._li},yo.prototype.hasProperIntersection=function(){return this._hasProper},yo.prototype.processIntersections=function(t,r,s,a){if(t===s&&r===a)return null;this.numTests++;var c=t.getCoordinates()[r],h=t.getCoordinates()[r+1],g=s.getCoordinates()[a],v=s.getCoordinates()[a+1];this._li.computeIntersection(c,h,g,v),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,r,s,a)||(this._hasIntersection=!0,t.addIntersections(this._li,r,0),s.addIntersections(this._li,a,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},yo.prototype.hasIntersection=function(){return this._hasIntersection},yo.prototype.isDone=function(){return!1},yo.prototype.hasInteriorIntersection=function(){return this._hasInterior},yo.prototype.interfaces_=function(){return[Pc]},yo.prototype.getClass=function(){return yo},yo.isAdjacentSegments=function(t,r){return Math.abs(t-r)===1};var Ls=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],r=arguments[1],s=arguments[2];this.coord=new Ct(t),this.segmentIndex=r,this.dist=s};Ls.prototype.getSegmentIndex=function(){return this.segmentIndex},Ls.prototype.getCoordinate=function(){return this.coord},Ls.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},Ls.prototype.compareTo=function(t){var r=t;return this.compare(r.segmentIndex,r.dist)},Ls.prototype.isEndPoint=function(t){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===t},Ls.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Ls.prototype.getDistance=function(){return this.dist},Ls.prototype.compare=function(t,r){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<r?-1:this.dist>r?1:0},Ls.prototype.interfaces_=function(){return[Po]},Ls.prototype.getClass=function(){return Ls};var ca=function(){this._nodeMap=new bn,this.edge=null;var t=arguments[0];this.edge=t};ca.prototype.print=function(t){t.println("Intersections:");for(var r=this.iterator();r.hasNext();)r.next().print(t)},ca.prototype.iterator=function(){return this._nodeMap.values().iterator()},ca.prototype.addSplitEdges=function(t){this.addEndpoints();for(var r=this.iterator(),s=r.next();r.hasNext();){var a=r.next(),c=this.createSplitEdge(s,a);t.add(c),s=a}},ca.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},ca.prototype.createSplitEdge=function(t,r){var s=r.segmentIndex-t.segmentIndex+2,a=this.edge.pts[r.segmentIndex],c=r.dist>0||!r.coord.equals2D(a);c||s--;var h=new Array(s).fill(null),g=0;h[g++]=new Ct(t.coord);for(var v=t.segmentIndex+1;v<=r.segmentIndex;v++)h[g++]=this.edge.pts[v];return c&&(h[g]=r.coord),new Zm(h,new ii(this.edge._label))},ca.prototype.add=function(t,r,s){var a=new Ls(t,r,s),c=this._nodeMap.get(a);return c!==null?c:(this._nodeMap.put(a,a),a)},ca.prototype.isIntersection=function(t){for(var r=this.iterator();r.hasNext();)if(r.next().coord.equals(t))return!0;return!1},ca.prototype.interfaces_=function(){return[]},ca.prototype.getClass=function(){return ca};var Mc=function(){};Mc.prototype.getChainStartIndices=function(t){var r=0,s=new ce;s.add(new ws(r));do{var a=this.findChainEnd(t,r);s.add(new ws(a)),r=a}while(r<t.length-1);return Mc.toIntArray(s)},Mc.prototype.findChainEnd=function(t,r){for(var s=ni.quadrant(t[r],t[r+1]),a=r+1;a<t.length&&ni.quadrant(t[a-1],t[a])===s;)a++;return a-1},Mc.prototype.interfaces_=function(){return[]},Mc.prototype.getClass=function(){return Mc},Mc.toIntArray=function(t){for(var r=new Array(t.size()).fill(null),s=0;s<r.length;s++)r[s]=t.get(s).intValue();return r};var Va=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Re,this.env2=new Re;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var r=new Mc;this.startIndex=r.getChainStartIndices(this.pts)};Va.prototype.getCoordinates=function(){return this.pts},Va.prototype.getMaxX=function(t){var r=this.pts[this.startIndex[t]].x,s=this.pts[this.startIndex[t+1]].x;return r>s?r:s},Va.prototype.getMinX=function(t){var r=this.pts[this.startIndex[t]].x,s=this.pts[this.startIndex[t+1]].x;return r<s?r:s},Va.prototype.computeIntersectsForChain=function(){if(arguments.length===4){var t=arguments[0],r=arguments[1],s=arguments[2],a=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],r,r.startIndex[s],r.startIndex[s+1],a)}else if(arguments.length===6){var c=arguments[0],h=arguments[1],g=arguments[2],v=arguments[3],w=arguments[4],x=arguments[5],T=this.pts[c],k=this.pts[h],P=g.pts[v],O=g.pts[w];if(h-c==1&&w-v==1)return x.addIntersections(this.e,c,g.e,v),null;if(this.env1.init(T,k),this.env2.init(P,O),!this.env1.intersects(this.env2))return null;var N=Math.trunc((c+h)/2),F=Math.trunc((v+w)/2);c<N&&(v<F&&this.computeIntersectsForChain(c,N,g,v,F,x),F<w&&this.computeIntersectsForChain(c,N,g,F,w,x)),N<h&&(v<F&&this.computeIntersectsForChain(N,h,g,v,F,x),F<w&&this.computeIntersectsForChain(N,h,g,F,w,x))}},Va.prototype.getStartIndexes=function(){return this.startIndex},Va.prototype.computeIntersects=function(t,r){for(var s=0;s<this.startIndex.length-1;s++)for(var a=0;a<t.startIndex.length-1;a++)this.computeIntersectsForChain(s,t,a,r)},Va.prototype.interfaces_=function(){return[]},Va.prototype.getClass=function(){return Va};var hn=function t(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var r=0;r<2;r++)for(var s=0;s<3;s++)this._depth[r][s]=t.NULL_VALUE},J_={NULL_VALUE:{configurable:!0}};hn.prototype.getDepth=function(t,r){return this._depth[t][r]},hn.prototype.setDepth=function(t,r,s){this._depth[t][r]=s},hn.prototype.isNull=function(){var t=this;if(arguments.length===0){for(var r=0;r<2;r++)for(var s=0;s<3;s++)if(t._depth[r][s]!==hn.NULL_VALUE)return!1;return!0}if(arguments.length===1){var a=arguments[0];return this._depth[a][1]===hn.NULL_VALUE}if(arguments.length===2){var c=arguments[0],h=arguments[1];return this._depth[c][h]===hn.NULL_VALUE}},hn.prototype.normalize=function(){for(var t=this,r=0;r<2;r++)if(!t.isNull(r)){var s=t._depth[r][1];t._depth[r][2]<s&&(s=t._depth[r][2]),s<0&&(s=0);for(var a=1;a<3;a++){var c=0;t._depth[r][a]>s&&(c=1),t._depth[r][a]=c}}},hn.prototype.getDelta=function(t){return this._depth[t][ie.RIGHT]-this._depth[t][ie.LEFT]},hn.prototype.getLocation=function(t,r){return this._depth[t][r]<=0?At.EXTERIOR:At.INTERIOR},hn.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},hn.prototype.add=function(){var t=this;if(arguments.length===1)for(var r=arguments[0],s=0;s<2;s++)for(var a=1;a<3;a++){var c=r.getLocation(s,a);c!==At.EXTERIOR&&c!==At.INTERIOR||(t.isNull(s,a)?t._depth[s][a]=hn.depthAtLocation(c):t._depth[s][a]+=hn.depthAtLocation(c))}else if(arguments.length===3){var h=arguments[0],g=arguments[1],v=arguments[2];v===At.INTERIOR&&this._depth[h][g]++}},hn.prototype.interfaces_=function(){return[]},hn.prototype.getClass=function(){return hn},hn.depthAtLocation=function(t){return t===At.EXTERIOR?0:t===At.INTERIOR?1:hn.NULL_VALUE},J_.NULL_VALUE.get=function(){return-1},Object.defineProperties(hn,J_);var Zm=function(t){function r(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new ca(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new hn,this._depthDelta=0,arguments.length===1){var s=arguments[0];r.call(this,s,null)}else if(arguments.length===2){var a=arguments[0],c=arguments[1];this.pts=a,this._label=c}}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getDepth=function(){return this._depth},r.prototype.getCollapsedEdge=function(){var s=new Array(2).fill(null);return s[0]=this.pts[0],s[1]=this.pts[1],new r(s,ii.toLineLabel(this._label))},r.prototype.isIsolated=function(){return this._isIsolated},r.prototype.getCoordinates=function(){return this.pts},r.prototype.setIsolated=function(s){this._isIsolated=s},r.prototype.setName=function(s){this._name=s},r.prototype.equals=function(s){if(!(s instanceof r))return!1;var a=s;if(this.pts.length!==a.pts.length)return!1;for(var c=!0,h=!0,g=this.pts.length,v=0;v<this.pts.length;v++)if(this.pts[v].equals2D(a.pts[v])||(c=!1),this.pts[v].equals2D(a.pts[--g])||(h=!1),!c&&!h)return!1;return!0},r.prototype.getCoordinate=function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var s=arguments[0];return this.pts[s]}},r.prototype.print=function(s){s.print("edge "+this._name+": "),s.print("LINESTRING (");for(var a=0;a<this.pts.length;a++)a>0&&s.print(","),s.print(this.pts[a].x+" "+this.pts[a].y);s.print(")  "+this._label+" "+this._depthDelta)},r.prototype.computeIM=function(s){r.updateIM(this._label,s)},r.prototype.isCollapsed=function(){return!!this._label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])},r.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},r.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},r.prototype.getDepthDelta=function(){return this._depthDelta},r.prototype.getNumPoints=function(){return this.pts.length},r.prototype.printReverse=function(s){s.print("edge "+this._name+": ");for(var a=this.pts.length-1;a>=0;a--)s.print(this.pts[a]+" ");s.println("")},r.prototype.getMonotoneChainEdge=function(){return this._mce===null&&(this._mce=new Va(this)),this._mce},r.prototype.getEnvelope=function(){if(this._env===null){this._env=new Re;for(var s=0;s<this.pts.length;s++)this._env.expandToInclude(this.pts[s])}return this._env},r.prototype.addIntersection=function(s,a,c,h){var g=new Ct(s.getIntersection(h)),v=a,w=s.getEdgeDistance(c,h),x=v+1;if(x<this.pts.length){var T=this.pts[x];g.equals2D(T)&&(v=x,w=0)}this.eiList.add(g,v,w)},r.prototype.toString=function(){var s=new bs;s.append("edge "+this._name+": "),s.append("LINESTRING (");for(var a=0;a<this.pts.length;a++)a>0&&s.append(","),s.append(this.pts[a].x+" "+this.pts[a].y);return s.append(")  "+this._label+" "+this._depthDelta),s.toString()},r.prototype.isPointwiseEqual=function(s){if(this.pts.length!==s.pts.length)return!1;for(var a=0;a<this.pts.length;a++)if(!this.pts[a].equals2D(s.pts[a]))return!1;return!0},r.prototype.setDepthDelta=function(s){this._depthDelta=s},r.prototype.getEdgeIntersectionList=function(){return this.eiList},r.prototype.addIntersections=function(s,a,c){for(var h=0;h<s.getIntersectionNum();h++)this.addIntersection(s,a,c,h)},r.prototype.interfaces_=function(){return[]},r.prototype.getClass=function(){return r},r.updateIM=function(){if(arguments.length!==2)return t.prototype.updateIM.apply(this,arguments);var s=arguments[0],a=arguments[1];a.setAtLeastIfValid(s.getLocation(0,ie.ON),s.getLocation(1,ie.ON),1),s.isArea()&&(a.setAtLeastIfValid(s.getLocation(0,ie.LEFT),s.getLocation(1,ie.LEFT),2),a.setAtLeastIfValid(s.getLocation(0,ie.RIGHT),s.getLocation(1,ie.RIGHT),2))},r}(go),An=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new is,this._bufParams=t||null};An.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},An.prototype.insertUniqueEdge=function(t){var r=this._edgeList.findEqualEdge(t);if(r!==null){var s=r.getLabel(),a=t.getLabel();r.isPointwiseEqual(t)||(a=new ii(t.getLabel())).flip(),s.merge(a);var c=An.depthDelta(a),h=r.getDepthDelta()+c;r.setDepthDelta(h)}else this._edgeList.add(t),t.setDepthDelta(An.depthDelta(t.getLabel()))},An.prototype.buildSubgraphs=function(t,r){for(var s=new ce,a=t.iterator();a.hasNext();){var c=a.next(),h=c.getRightmostCoordinate(),g=new Nu(s).getDepth(h);c.computeDepth(g),c.findResultEdges(),s.add(c),r.add(c.getDirectedEdges(),c.getNodes())}},An.prototype.createSubgraphs=function(t){for(var r=new ce,s=t.getNodes().iterator();s.hasNext();){var a=s.next();if(!a.isVisited()){var c=new Ln;c.create(a),r.add(c)}}return rs.sort(r,rs.reverseOrder()),r},An.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},An.prototype.getNoder=function(t){if(this._workingNoder!==null)return this._workingNoder;var r=new wb,s=new kc;return s.setPrecisionModel(t),r.setSegmentIntersector(new yo(s)),r},An.prototype.buffer=function(t,r){var s=this._workingPrecisionModel;s===null&&(s=t.getPrecisionModel()),this._geomFact=t.getFactory();var a=new Wn(s,this._bufParams),c=new zo(t,r,a).getCurves();if(c.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(c,s),this._graph=new Ti(new K_),this._graph.addEdges(this._edgeList.getEdges());var h=this.createSubgraphs(this._graph),g=new $n(this._geomFact);this.buildSubgraphs(h,g);var v=g.getPolygons();return v.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(v)},An.prototype.computeNodedEdges=function(t,r){var s=this.getNoder(r);s.computeNodes(t);for(var a=s.getNodedSubstrings().iterator();a.hasNext();){var c=a.next(),h=c.getCoordinates();if(h.length!==2||!h[0].equals2D(h[1])){var g=c.getData(),v=new Zm(c.getCoordinates(),new ii(g));this.insertUniqueEdge(v)}}},An.prototype.setNoder=function(t){this._workingNoder=t},An.prototype.interfaces_=function(){return[]},An.prototype.getClass=function(){return An},An.depthDelta=function(t){var r=t.getLocation(0,ie.LEFT),s=t.getLocation(0,ie.RIGHT);return r===At.INTERIOR&&s===At.EXTERIOR?1:r===At.EXTERIOR&&s===At.INTERIOR?-1:0},An.convertSegStrings=function(t){for(var r=new cr,s=new ce;t.hasNext();){var a=t.next(),c=r.createLineString(a.getCoordinates());s.add(c)}return r.buildGeometry(s)};var Rl=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var t=arguments[0],r=arguments[1];this._noder=t,this._scaleFactor=r,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(arguments.length===4){var s=arguments[0],a=arguments[1],c=arguments[2],h=arguments[3];this._noder=s,this._scaleFactor=a,this._offsetX=c,this._offsetY=h,this._isScaled=!this.isIntegerPrecision()}};Rl.prototype.rescale=function(){var t=this;if(Ge(arguments[0],Hi))for(var r=arguments[0],s=r.iterator();s.hasNext();){var a=s.next();t.rescale(a.getCoordinates())}else if(arguments[0]instanceof Array){for(var c=arguments[0],h=0;h<c.length;h++)c[h].x=c[h].x/t._scaleFactor+t._offsetX,c[h].y=c[h].y/t._scaleFactor+t._offsetY;c.length===2&&c[0].equals2D(c[1])&&un.out.println(c)}},Rl.prototype.scale=function(){var t=this;if(Ge(arguments[0],Hi)){for(var r=arguments[0],s=new ce,a=r.iterator();a.hasNext();){var c=a.next();s.add(new Ri(t.scale(c.getCoordinates()),c.getData()))}return s}if(arguments[0]instanceof Array){for(var h=arguments[0],g=new Array(h.length).fill(null),v=0;v<h.length;v++)g[v]=new Ct(Math.round((h[v].x-t._offsetX)*t._scaleFactor),Math.round((h[v].y-t._offsetY)*t._scaleFactor),h[v].z);var w=lr.removeRepeatedPoints(g);return w}},Rl.prototype.isIntegerPrecision=function(){return this._scaleFactor===1},Rl.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},Rl.prototype.computeNodes=function(t){var r=t;this._isScaled&&(r=this.scale(t)),this._noder.computeNodes(r)},Rl.prototype.interfaces_=function(){return[Sc]},Rl.prototype.getClass=function(){return Rl};var Rs=function(){this._li=new kc,this._segStrings=null;var t=arguments[0];this._segStrings=t},Q_={fact:{configurable:!0}};Rs.prototype.checkEndPtVertexIntersections=function(){var t=this;if(arguments.length===0)for(var r=this._segStrings.iterator();r.hasNext();){var s=r.next(),a=s.getCoordinates();t.checkEndPtVertexIntersections(a[0],t._segStrings),t.checkEndPtVertexIntersections(a[a.length-1],t._segStrings)}else if(arguments.length===2){for(var c=arguments[0],h=arguments[1],g=h.iterator();g.hasNext();)for(var v=g.next(),w=v.getCoordinates(),x=1;x<w.length-1;x++)if(w[x].equals(c))throw new Da("found endpt/interior pt intersection at index "+x+" :pt "+c)}},Rs.prototype.checkInteriorIntersections=function(){var t=this;if(arguments.length===0)for(var r=this._segStrings.iterator();r.hasNext();)for(var s=r.next(),a=this._segStrings.iterator();a.hasNext();){var c=a.next();t.checkInteriorIntersections(s,c)}else if(arguments.length===2)for(var h=arguments[0],g=arguments[1],v=h.getCoordinates(),w=g.getCoordinates(),x=0;x<v.length-1;x++)for(var T=0;T<w.length-1;T++)t.checkInteriorIntersections(h,x,g,T);else if(arguments.length===4){var k=arguments[0],P=arguments[1],O=arguments[2],N=arguments[3];if(k===O&&P===N)return null;var F=k.getCoordinates()[P],M=k.getCoordinates()[P+1],W=O.getCoordinates()[N],it=O.getCoordinates()[N+1];if(this._li.computeIntersection(F,M,W,it),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,F,M)||this.hasInteriorIntersection(this._li,W,it)))throw new Da("found non-noded intersection at "+F+"-"+M+" and "+W+"-"+it)}},Rs.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},Rs.prototype.checkCollapses=function(){var t=this;if(arguments.length===0)for(var r=this._segStrings.iterator();r.hasNext();){var s=r.next();t.checkCollapses(s)}else if(arguments.length===1)for(var a=arguments[0],c=a.getCoordinates(),h=0;h<c.length-2;h++)t.checkCollapse(c[h],c[h+1],c[h+2])},Rs.prototype.hasInteriorIntersection=function(t,r,s){for(var a=0;a<t.getIntersectionNum();a++){var c=t.getIntersection(a);if(!c.equals(r)&&!c.equals(s))return!0}return!1},Rs.prototype.checkCollapse=function(t,r,s){if(t.equals(s))throw new Da("found non-noded collapse at "+Rs.fact.createLineString([t,r,s]))},Rs.prototype.interfaces_=function(){return[]},Rs.prototype.getClass=function(){return Rs},Q_.fact.get=function(){return new cr},Object.defineProperties(Rs,Q_);var Zn=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],r=arguments[1],s=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=r,this._li=s,r<=0)throw new _i("Scale factor must be non-zero");r!==1&&(this._pt=new Ct(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new Ct,this._p1Scaled=new Ct),this.initCorners(this._pt)},$_={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};Zn.prototype.intersectsScaled=function(t,r){var s=Math.min(t.x,r.x),a=Math.max(t.x,r.x),c=Math.min(t.y,r.y),h=Math.max(t.y,r.y),g=this._maxx<s||this._minx>a||this._maxy<c||this._miny>h;if(g)return!1;var v=this.intersectsToleranceSquare(t,r);return er.isTrue(!(g&&v),"Found bad envelope test"),v},Zn.prototype.initCorners=function(t){var r=.5;this._minx=t.x-r,this._maxx=t.x+r,this._miny=t.y-r,this._maxy=t.y+r,this._corner[0]=new Ct(this._maxx,this._maxy),this._corner[1]=new Ct(this._minx,this._maxy),this._corner[2]=new Ct(this._minx,this._miny),this._corner[3]=new Ct(this._maxx,this._miny)},Zn.prototype.intersects=function(t,r){return this._scaleFactor===1?this.intersectsScaled(t,r):(this.copyScaled(t,this._p0Scaled),this.copyScaled(r,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},Zn.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},Zn.prototype.getCoordinate=function(){return this._originalPt},Zn.prototype.copyScaled=function(t,r){r.x=this.scale(t.x),r.y=this.scale(t.y)},Zn.prototype.getSafeEnvelope=function(){if(this._safeEnv===null){var t=Zn.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Re(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},Zn.prototype.intersectsPixelClosure=function(t,r){return this._li.computeIntersection(t,r,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,r,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,r,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,r,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))},Zn.prototype.intersectsToleranceSquare=function(t,r){var s=!1,a=!1;return this._li.computeIntersection(t,r,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(t,r,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(s=!0),this._li.computeIntersection(t,r,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(a=!0),this._li.computeIntersection(t,r,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!s||!a)||!!t.equals(this._pt)||!!r.equals(this._pt))))},Zn.prototype.addSnappedNode=function(t,r){var s=t.getCoordinate(r),a=t.getCoordinate(r+1);return!!this.intersects(s,a)&&(t.addIntersection(this.getCoordinate(),r),!0)},Zn.prototype.interfaces_=function(){return[]},Zn.prototype.getClass=function(){return Zn},$_.SAFE_ENV_EXPANSION_FACTOR.get=function(){return .75},Object.defineProperties(Zn,$_);var pf=function(){this.tempEnv1=new Re,this.selectedSegment=new ze};pf.prototype.select=function(){if(arguments.length!==1){if(arguments.length===2){var t=arguments[0],r=arguments[1];t.getLineSegment(r,this.selectedSegment),this.select(this.selectedSegment)}}},pf.prototype.interfaces_=function(){return[]},pf.prototype.getClass=function(){return pf};var ud=function(){this._index=null;var t=arguments[0];this._index=t},tk={HotPixelSnapAction:{configurable:!0}};ud.prototype.snap=function(){if(arguments.length===1){var t=arguments[0];return this.snap(t,null,-1)}if(arguments.length===3){var r=arguments[0],s=arguments[1],a=arguments[2],c=r.getSafeEnvelope(),h=new ek(r,s,a);return this._index.query(c,{interfaces_:function(){return[Ml]},visitItem:function(g){g.select(c,h)}}),h.isNodeAdded()}},ud.prototype.interfaces_=function(){return[]},ud.prototype.getClass=function(){return ud},tk.HotPixelSnapAction.get=function(){return ek},Object.defineProperties(ud,tk);var ek=function(t){function r(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var s=arguments[0],a=arguments[1],c=arguments[2];this._hotPixel=s,this._parentEdge=a,this._hotPixelVertexIndex=c}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.isNodeAdded=function(){return this._isNodeAdded},r.prototype.select=function(){if(arguments.length!==2)return t.prototype.select.apply(this,arguments);var s=arguments[0],a=arguments[1],c=s.getContext();if(this._parentEdge!==null&&c===this._parentEdge&&a===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(c,a)},r.prototype.interfaces_=function(){return[]},r.prototype.getClass=function(){return r},r}(pf),Du=function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new ce};Du.prototype.processIntersections=function(t,r,s,a){if(t===s&&r===a)return null;var c=t.getCoordinates()[r],h=t.getCoordinates()[r+1],g=s.getCoordinates()[a],v=s.getCoordinates()[a+1];if(this._li.computeIntersection(c,h,g,v),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var w=0;w<this._li.getIntersectionNum();w++)this._interiorIntersections.add(this._li.getIntersection(w));t.addIntersections(this._li,r,0),s.addIntersections(this._li,a,1)}},Du.prototype.isDone=function(){return!1},Du.prototype.getInteriorIntersections=function(){return this._interiorIntersections},Du.prototype.interfaces_=function(){return[Pc]},Du.prototype.getClass=function(){return Du};var ua=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new kc,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};ua.prototype.checkCorrectness=function(t){var r=Ri.getNodedSubstrings(t),s=new Rs(r);try{s.checkValid()}catch(a){if(!(a instanceof z_))throw a;a.printStackTrace()}},ua.prototype.getNodedSubstrings=function(){return Ri.getNodedSubstrings(this._nodedSegStrings)},ua.prototype.snapRound=function(t,r){var s=this.findInteriorIntersections(t,r);this.computeIntersectionSnaps(s),this.computeVertexSnaps(t)},ua.prototype.findInteriorIntersections=function(t,r){var s=new Du(r);return this._noder.setSegmentIntersector(s),this._noder.computeNodes(t),s.getInteriorIntersections()},ua.prototype.computeVertexSnaps=function(){var t=this;if(Ge(arguments[0],Hi))for(var r=arguments[0],s=r.iterator();s.hasNext();){var a=s.next();t.computeVertexSnaps(a)}else if(arguments[0]instanceof Ri)for(var c=arguments[0],h=c.getCoordinates(),g=0;g<h.length;g++){var v=new Zn(h[g],t._scaleFactor,t._li),w=t._pointSnapper.snap(v,c,g);w&&c.addIntersection(h[g],g)}},ua.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new wb,this._pointSnapper=new ud(this._noder.getIndex()),this.snapRound(t,this._li)},ua.prototype.computeIntersectionSnaps=function(t){for(var r=this,s=t.iterator();s.hasNext();){var a=s.next(),c=new Zn(a,r._scaleFactor,r._li);r._pointSnapper.snap(c)}},ua.prototype.interfaces_=function(){return[Sc]},ua.prototype.getClass=function(){return ua};var dn=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Jr,this._resultGeometry=null,this._saveException=null,arguments.length===1){var t=arguments[0];this._argGeom=t}else if(arguments.length===2){var r=arguments[0],s=arguments[1];this._argGeom=r,this._bufParams=s}},hd={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};dn.prototype.bufferFixedPrecision=function(t){var r=new Rl(new ua(new Kr(1)),t.getScale()),s=new An(this._bufParams);s.setWorkingPrecisionModel(t),s.setNoder(r),this._resultGeometry=s.buffer(this._argGeom,this._distance)},dn.prototype.bufferReducedPrecision=function(){var t=this;if(arguments.length===0){for(var r=dn.MAX_PRECISION_DIGITS;r>=0;r--){try{t.bufferReducedPrecision(r)}catch(h){if(!(h instanceof Ua))throw h;t._saveException=h}if(t._resultGeometry!==null)return null}throw this._saveException}if(arguments.length===1){var s=arguments[0],a=dn.precisionScaleFactor(this._argGeom,this._distance,s),c=new Kr(a);this.bufferFixedPrecision(c)}},dn.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===Kr.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},dn.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},dn.prototype.bufferOriginalPrecision=function(){try{var t=new An(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(r){if(!(r instanceof Da))throw r;this._saveException=r}},dn.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},dn.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},dn.prototype.interfaces_=function(){return[]},dn.prototype.getClass=function(){return dn},dn.bufferOp=function(){if(arguments.length===2){var t=arguments[0],r=arguments[1],s=new dn(t),a=s.getResultGeometry(r);return a}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof He&&typeof arguments[1]=="number"){var c=arguments[0],h=arguments[1],g=arguments[2],v=new dn(c);v.setQuadrantSegments(g);var w=v.getResultGeometry(h);return w}if(arguments[2]instanceof Jr&&arguments[0]instanceof He&&typeof arguments[1]=="number"){var x=arguments[0],T=arguments[1],k=arguments[2],P=new dn(x,k),O=P.getResultGeometry(T);return O}}else if(arguments.length===4){var N=arguments[0],F=arguments[1],M=arguments[2],W=arguments[3],it=new dn(N);it.setQuadrantSegments(M),it.setEndCapStyle(W);var D=it.getResultGeometry(F);return D}},dn.precisionScaleFactor=function(t,r,s){var a=t.getEnvelopeInternal(),c=fo.max(Math.abs(a.getMaxX()),Math.abs(a.getMaxY()),Math.abs(a.getMinX()),Math.abs(a.getMinY()))+2*(r>0?r:0),h=s-Math.trunc(Math.log(c)/Math.log(10)+1);return Math.pow(10,h)},hd.CAP_ROUND.get=function(){return Jr.CAP_ROUND},hd.CAP_BUTT.get=function(){return Jr.CAP_FLAT},hd.CAP_FLAT.get=function(){return Jr.CAP_FLAT},hd.CAP_SQUARE.get=function(){return Jr.CAP_SQUARE},hd.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(dn,hd);var zn=function(){this._pt=[new Ct,new Ct],this._distance=Ke.NaN,this._isNull=!0};zn.prototype.getCoordinates=function(){return this._pt},zn.prototype.getCoordinate=function(t){return this._pt[t]},zn.prototype.setMinimum=function(){if(arguments.length===1){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(arguments.length===2){var r=arguments[0],s=arguments[1];if(this._isNull)return this.initialize(r,s),null;var a=r.distance(s);a<this._distance&&this.initialize(r,s,a)}},zn.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var t=arguments[0],r=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(r),this._distance=t.distance(r),this._isNull=!1}else if(arguments.length===3){var s=arguments[0],a=arguments[1],c=arguments[2];this._pt[0].setCoordinate(s),this._pt[1].setCoordinate(a),this._distance=c,this._isNull=!1}},zn.prototype.getDistance=function(){return this._distance},zn.prototype.setMaximum=function(){if(arguments.length===1){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(arguments.length===2){var r=arguments[0],s=arguments[1];if(this._isNull)return this.initialize(r,s),null;var a=r.distance(s);a>this._distance&&this.initialize(r,s,a)}},zn.prototype.interfaces_=function(){return[]},zn.prototype.getClass=function(){return zn};var ha=function(){};ha.prototype.interfaces_=function(){return[]},ha.prototype.getClass=function(){return ha},ha.computeDistance=function(){if(arguments[2]instanceof zn&&arguments[0]instanceof Pi&&arguments[1]instanceof Ct)for(var t=arguments[0],r=arguments[1],s=arguments[2],a=t.getCoordinates(),c=new ze,h=0;h<a.length-1;h++){c.setCoordinates(a[h],a[h+1]);var g=c.closestPoint(r);s.setMinimum(g,r)}else if(arguments[2]instanceof zn&&arguments[0]instanceof Ui&&arguments[1]instanceof Ct){var v=arguments[0],w=arguments[1],x=arguments[2];ha.computeDistance(v.getExteriorRing(),w,x);for(var T=0;T<v.getNumInteriorRing();T++)ha.computeDistance(v.getInteriorRingN(T),w,x)}else if(arguments[2]instanceof zn&&arguments[0]instanceof He&&arguments[1]instanceof Ct){var k=arguments[0],P=arguments[1],O=arguments[2];if(k instanceof Pi)ha.computeDistance(k,P,O);else if(k instanceof Ui)ha.computeDistance(k,P,O);else if(k instanceof In)for(var N=k,F=0;F<N.getNumGeometries();F++){var M=N.getGeometryN(F);ha.computeDistance(M,P,O)}else O.setMinimum(k.getCoordinate(),P)}else if(arguments[2]instanceof zn&&arguments[0]instanceof ze&&arguments[1]instanceof Ct){var W=arguments[0],it=arguments[1],D=arguments[2],q=W.closestPoint(it);D.setMinimum(q,it)}};var Ic=function(t){this._maxPtDist=new zn,this._inputGeom=t||null},xb={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};Ic.prototype.computeMaxMidpointDistance=function(t){var r=new Al(this._inputGeom);t.apply(r),this._maxPtDist.setMaximum(r.getMaxPointDistance())},Ic.prototype.computeMaxVertexDistance=function(t){var r=new Fu(this._inputGeom);t.apply(r),this._maxPtDist.setMaximum(r.getMaxPointDistance())},Ic.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},Ic.prototype.getDistancePoints=function(){return this._maxPtDist},Ic.prototype.interfaces_=function(){return[]},Ic.prototype.getClass=function(){return Ic},xb.MaxPointDistanceFilter.get=function(){return Fu},xb.MaxMidpointDistanceFilter.get=function(){return Al},Object.defineProperties(Ic,xb);var Fu=function(t){this._maxPtDist=new zn,this._minPtDist=new zn,this._geom=t||null};Fu.prototype.filter=function(t){this._minPtDist.initialize(),ha.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Fu.prototype.getMaxPointDistance=function(){return this._maxPtDist},Fu.prototype.interfaces_=function(){return[ia]},Fu.prototype.getClass=function(){return Fu};var Al=function(t){this._maxPtDist=new zn,this._minPtDist=new zn,this._geom=t||null};Al.prototype.filter=function(t,r){if(r===0)return null;var s=t.getCoordinate(r-1),a=t.getCoordinate(r),c=new Ct((s.x+a.x)/2,(s.y+a.y)/2);this._minPtDist.initialize(),ha.computeDistance(this._geom,c,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Al.prototype.isDone=function(){return!1},Al.prototype.isGeometryChanged=function(){return!1},Al.prototype.getMaxPointDistance=function(){return this._maxPtDist},Al.prototype.interfaces_=function(){return[ts]},Al.prototype.getClass=function(){return Al};var Wa=function(t){this._comps=t||null};Wa.prototype.filter=function(t){t instanceof Ui&&this._comps.add(t)},Wa.prototype.interfaces_=function(){return[Es]},Wa.prototype.getClass=function(){return Wa},Wa.getPolygons=function(){if(arguments.length===1){var t=arguments[0];return Wa.getPolygons(t,new ce)}if(arguments.length===2){var r=arguments[0],s=arguments[1];return r instanceof Ui?s.add(r):r instanceof In&&r.apply(new Wa(s)),s}};var pn=function(){if(this._lines=null,this._isForcedToLineString=!1,arguments.length===1){var t=arguments[0];this._lines=t}else if(arguments.length===2){var r=arguments[0],s=arguments[1];this._lines=r,this._isForcedToLineString=s}};pn.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof na){var r=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(r),null}t instanceof Pi&&this._lines.add(t)},pn.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},pn.prototype.interfaces_=function(){return[Fa]},pn.prototype.getClass=function(){return pn},pn.getGeometry=function(){if(arguments.length===1){var t=arguments[0];return t.getFactory().buildGeometry(pn.getLines(t))}if(arguments.length===2){var r=arguments[0],s=arguments[1];return r.getFactory().buildGeometry(pn.getLines(r,s))}},pn.getLines=function(){if(arguments.length===1){var t=arguments[0];return pn.getLines(t,!1)}if(arguments.length===2){if(Ge(arguments[0],Hi)&&Ge(arguments[1],Hi)){for(var r=arguments[0],s=arguments[1],a=r.iterator();a.hasNext();){var c=a.next();pn.getLines(c,s)}return s}if(arguments[0]instanceof He&&typeof arguments[1]=="boolean"){var h=arguments[0],g=arguments[1],v=new ce;return h.apply(new pn(v,g)),v}if(arguments[0]instanceof He&&Ge(arguments[1],Hi)){var w=arguments[0],x=arguments[1];return w instanceof Pi?x.add(w):w.apply(new pn(x)),x}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&Ge(arguments[0],Hi)&&Ge(arguments[1],Hi)){for(var T=arguments[0],k=arguments[1],P=arguments[2],O=T.iterator();O.hasNext();){var N=O.next();pn.getLines(N,k,P)}return k}if(typeof arguments[2]=="boolean"&&arguments[0]instanceof He&&Ge(arguments[1],Hi)){var F=arguments[0],M=arguments[1],W=arguments[2];return F.apply(new pn(M,W)),M}}};var ns=function(){if(this._boundaryRule=Io.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,arguments.length!==0){if(arguments.length===1){var t=arguments[0];if(t===null)throw new _i("Rule must be non-null");this._boundaryRule=t}}};ns.prototype.locateInternal=function(){var t=this;if(arguments[0]instanceof Ct&&arguments[1]instanceof Ui){var r=arguments[0],s=arguments[1];if(s.isEmpty())return At.EXTERIOR;var a=s.getExteriorRing(),c=this.locateInPolygonRing(r,a);if(c===At.EXTERIOR)return At.EXTERIOR;if(c===At.BOUNDARY)return At.BOUNDARY;for(var h=0;h<s.getNumInteriorRing();h++){var g=s.getInteriorRingN(h),v=t.locateInPolygonRing(r,g);if(v===At.INTERIOR)return At.EXTERIOR;if(v===At.BOUNDARY)return At.BOUNDARY}return At.INTERIOR}if(arguments[0]instanceof Ct&&arguments[1]instanceof Pi){var w=arguments[0],x=arguments[1];if(!x.getEnvelopeInternal().intersects(w))return At.EXTERIOR;var T=x.getCoordinates();return x.isClosed()||!w.equals(T[0])&&!w.equals(T[T.length-1])?fe.isOnLine(w,T)?At.INTERIOR:At.EXTERIOR:At.BOUNDARY}if(arguments[0]instanceof Ct&&arguments[1]instanceof Qn){var k=arguments[0],P=arguments[1],O=P.getCoordinate();return O.equals2D(k)?At.INTERIOR:At.EXTERIOR}},ns.prototype.locateInPolygonRing=function(t,r){return r.getEnvelopeInternal().intersects(t)?fe.locatePointInRing(t,r.getCoordinates()):At.EXTERIOR},ns.prototype.intersects=function(t,r){return this.locate(t,r)!==At.EXTERIOR},ns.prototype.updateLocationInfo=function(t){t===At.INTERIOR&&(this._isIn=!0),t===At.BOUNDARY&&this._numBoundaries++},ns.prototype.computeLocation=function(t,r){var s=this;if(r instanceof Qn&&this.updateLocationInfo(this.locateInternal(t,r)),r instanceof Pi)this.updateLocationInfo(this.locateInternal(t,r));else if(r instanceof Ui)this.updateLocationInfo(this.locateInternal(t,r));else if(r instanceof Tc)for(var a=r,c=0;c<a.getNumGeometries();c++){var h=a.getGeometryN(c);s.updateLocationInfo(s.locateInternal(t,h))}else if(r instanceof oa)for(var g=r,v=0;v<g.getNumGeometries();v++){var w=g.getGeometryN(v);s.updateLocationInfo(s.locateInternal(t,w))}else if(r instanceof In)for(var x=new la(r);x.hasNext();){var T=x.next();T!==r&&s.computeLocation(t,T)}},ns.prototype.locate=function(t,r){return r.isEmpty()?At.EXTERIOR:r instanceof Pi||r instanceof Ui?this.locateInternal(t,r):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,r),this._boundaryRule.isInBoundary(this._numBoundaries)?At.BOUNDARY:this._numBoundaries>0||this._isIn?At.INTERIOR:At.EXTERIOR)},ns.prototype.interfaces_=function(){return[]},ns.prototype.getClass=function(){return ns};var On=function t(){if(this._component=null,this._segIndex=null,this._pt=null,arguments.length===2){var r=arguments[0],s=arguments[1];t.call(this,r,t.INSIDE_AREA,s)}else if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2];this._component=a,this._segIndex=c,this._pt=h}},rk={INSIDE_AREA:{configurable:!0}};On.prototype.isInsideArea=function(){return this._segIndex===On.INSIDE_AREA},On.prototype.getCoordinate=function(){return this._pt},On.prototype.getGeometryComponent=function(){return this._component},On.prototype.getSegmentIndex=function(){return this._segIndex},On.prototype.interfaces_=function(){return[]},On.prototype.getClass=function(){return On},rk.INSIDE_AREA.get=function(){return-1},Object.defineProperties(On,rk);var zl=function(t){this._pts=t||null};zl.prototype.filter=function(t){t instanceof Qn&&this._pts.add(t)},zl.prototype.interfaces_=function(){return[Es]},zl.prototype.getClass=function(){return zl},zl.getPoints=function(){if(arguments.length===1){var t=arguments[0];return t instanceof Qn?rs.singletonList(t):zl.getPoints(t,new ce)}if(arguments.length===2){var r=arguments[0],s=arguments[1];return r instanceof Qn?s.add(r):r instanceof In&&r.apply(new zl(s)),s}};var Bu=function(){this._locations=null;var t=arguments[0];this._locations=t};Bu.prototype.filter=function(t){(t instanceof Qn||t instanceof Pi||t instanceof Ui)&&this._locations.add(new On(t,0,t.getCoordinate()))},Bu.prototype.interfaces_=function(){return[Es]},Bu.prototype.getClass=function(){return Bu},Bu.getLocations=function(t){var r=new ce;return t.apply(new Bu(r)),r};var fn=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new ns,this._minDistanceLocation=null,this._minDistance=Ke.MAX_VALUE,arguments.length===2){var t=arguments[0],r=arguments[1];this._geom=[t,r],this._terminateDistance=0}else if(arguments.length===3){var s=arguments[0],a=arguments[1],c=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=s,this._geom[1]=a,this._terminateDistance=c}};fn.prototype.computeContainmentDistance=function(){var t=this;if(arguments.length===0){var r=new Array(2).fill(null);if(this.computeContainmentDistance(0,r),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,r)}else if(arguments.length===2){var s=arguments[0],a=arguments[1],c=1-s,h=Wa.getPolygons(this._geom[s]);if(h.size()>0){var g=Bu.getLocations(this._geom[c]);if(this.computeContainmentDistance(g,h,a),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[c]=a[0],this._minDistanceLocation[s]=a[1],null}}else if(arguments.length===3){if(arguments[2]instanceof Array&&Ge(arguments[0],Qo)&&Ge(arguments[1],Qo)){for(var v=arguments[0],w=arguments[1],x=arguments[2],T=0;T<v.size();T++)for(var k=v.get(T),P=0;P<w.size();P++)if(t.computeContainmentDistance(k,w.get(P),x),t._minDistance<=t._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof On&&arguments[1]instanceof Ui){var O=arguments[0],N=arguments[1],F=arguments[2],M=O.getCoordinate();if(At.EXTERIOR!==this._ptLocator.locate(M,N))return this._minDistance=0,F[0]=O,F[1]=new On(N,M),null}}},fn.prototype.computeMinDistanceLinesPoints=function(t,r,s){for(var a=this,c=0;c<t.size();c++)for(var h=t.get(c),g=0;g<r.size();g++){var v=r.get(g);if(a.computeMinDistance(h,v,s),a._minDistance<=a._terminateDistance)return null}},fn.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),r=pn.getLines(this._geom[0]),s=pn.getLines(this._geom[1]),a=zl.getPoints(this._geom[0]),c=zl.getPoints(this._geom[1]);return this.computeMinDistanceLines(r,s,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(r,c,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(s,a,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(a,c,t),void this.updateMinDistance(t,!1))))},fn.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},fn.prototype.updateMinDistance=function(t,r){if(t[0]===null)return null;r?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},fn.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},fn.prototype.computeMinDistance=function(){var t=this;if(arguments.length===0){if(this._minDistanceLocation!==null||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(arguments.length===3){if(arguments[2]instanceof Array&&arguments[0]instanceof Pi&&arguments[1]instanceof Qn){var r=arguments[0],s=arguments[1],a=arguments[2];if(r.getEnvelopeInternal().distance(s.getEnvelopeInternal())>this._minDistance)return null;for(var c=r.getCoordinates(),h=s.getCoordinate(),g=0;g<c.length-1;g++){var v=fe.distancePointLine(h,c[g],c[g+1]);if(v<t._minDistance){t._minDistance=v;var w=new ze(c[g],c[g+1]),x=w.closestPoint(h);a[0]=new On(r,g,x),a[1]=new On(s,0,h)}if(t._minDistance<=t._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Pi&&arguments[1]instanceof Pi){var T=arguments[0],k=arguments[1],P=arguments[2];if(T.getEnvelopeInternal().distance(k.getEnvelopeInternal())>this._minDistance)return null;for(var O=T.getCoordinates(),N=k.getCoordinates(),F=0;F<O.length-1;F++)for(var M=0;M<N.length-1;M++){var W=fe.distanceLineLine(O[F],O[F+1],N[M],N[M+1]);if(W<t._minDistance){t._minDistance=W;var it=new ze(O[F],O[F+1]),D=new ze(N[M],N[M+1]),q=it.closestPoints(D);P[0]=new On(T,F,q[0]),P[1]=new On(k,M,q[1])}if(t._minDistance<=t._terminateDistance)return null}}}},fn.prototype.computeMinDistancePoints=function(t,r,s){for(var a=this,c=0;c<t.size();c++)for(var h=t.get(c),g=0;g<r.size();g++){var v=r.get(g),w=h.getCoordinate().distance(v.getCoordinate());if(w<a._minDistance&&(a._minDistance=w,s[0]=new On(h,0,h.getCoordinate()),s[1]=new On(v,0,v.getCoordinate())),a._minDistance<=a._terminateDistance)return null}},fn.prototype.distance=function(){if(this._geom[0]===null||this._geom[1]===null)throw new _i("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},fn.prototype.computeMinDistanceLines=function(t,r,s){for(var a=this,c=0;c<t.size();c++)for(var h=t.get(c),g=0;g<r.size();g++){var v=r.get(g);if(a.computeMinDistance(h,v,s),a._minDistance<=a._terminateDistance)return null}},fn.prototype.interfaces_=function(){return[]},fn.prototype.getClass=function(){return fn},fn.distance=function(t,r){return new fn(t,r).distance()},fn.isWithinDistance=function(t,r,s){return new fn(t,r,s).distance()<=s},fn.nearestPoints=function(t,r){return new fn(t,r).nearestPoints()};var _n=function(){this._pt=[new Ct,new Ct],this._distance=Ke.NaN,this._isNull=!0};_n.prototype.getCoordinates=function(){return this._pt},_n.prototype.getCoordinate=function(t){return this._pt[t]},_n.prototype.setMinimum=function(){if(arguments.length===1){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(arguments.length===2){var r=arguments[0],s=arguments[1];if(this._isNull)return this.initialize(r,s),null;var a=r.distance(s);a<this._distance&&this.initialize(r,s,a)}},_n.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var t=arguments[0],r=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(r),this._distance=t.distance(r),this._isNull=!1}else if(arguments.length===3){var s=arguments[0],a=arguments[1],c=arguments[2];this._pt[0].setCoordinate(s),this._pt[1].setCoordinate(a),this._distance=c,this._isNull=!1}},_n.prototype.toString=function(){return Jo.toLineString(this._pt[0],this._pt[1])},_n.prototype.getDistance=function(){return this._distance},_n.prototype.setMaximum=function(){if(arguments.length===1){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(arguments.length===2){var r=arguments[0],s=arguments[1];if(this._isNull)return this.initialize(r,s),null;var a=r.distance(s);a>this._distance&&this.initialize(r,s,a)}},_n.prototype.interfaces_=function(){return[]},_n.prototype.getClass=function(){return _n};var As=function(){};As.prototype.interfaces_=function(){return[]},As.prototype.getClass=function(){return As},As.computeDistance=function(){if(arguments[2]instanceof _n&&arguments[0]instanceof Pi&&arguments[1]instanceof Ct)for(var t=arguments[0],r=arguments[1],s=arguments[2],a=new ze,c=t.getCoordinates(),h=0;h<c.length-1;h++){a.setCoordinates(c[h],c[h+1]);var g=a.closestPoint(r);s.setMinimum(g,r)}else if(arguments[2]instanceof _n&&arguments[0]instanceof Ui&&arguments[1]instanceof Ct){var v=arguments[0],w=arguments[1],x=arguments[2];As.computeDistance(v.getExteriorRing(),w,x);for(var T=0;T<v.getNumInteriorRing();T++)As.computeDistance(v.getInteriorRingN(T),w,x)}else if(arguments[2]instanceof _n&&arguments[0]instanceof He&&arguments[1]instanceof Ct){var k=arguments[0],P=arguments[1],O=arguments[2];if(k instanceof Pi)As.computeDistance(k,P,O);else if(k instanceof Ui)As.computeDistance(k,P,O);else if(k instanceof In)for(var N=k,F=0;F<N.getNumGeometries();F++){var M=N.getGeometryN(F);As.computeDistance(M,P,O)}else O.setMinimum(k.getCoordinate(),P)}else if(arguments[2]instanceof _n&&arguments[0]instanceof ze&&arguments[1]instanceof Ct){var W=arguments[0],it=arguments[1],D=arguments[2],q=W.closestPoint(it);D.setMinimum(q,it)}};var Oo=function(){this._g0=null,this._g1=null,this._ptDist=new _n,this._densifyFrac=0;var t=arguments[0],r=arguments[1];this._g0=t,this._g1=r},_b={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Oo.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Oo.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new _i("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},Oo.prototype.compute=function(t,r){this.computeOrientedDistance(t,r,this._ptDist),this.computeOrientedDistance(r,t,this._ptDist)},Oo.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Oo.prototype.computeOrientedDistance=function(t,r,s){var a=new ju(r);if(t.apply(a),s.setMaximum(a.getMaxPointDistance()),this._densifyFrac>0){var c=new Ol(r,this._densifyFrac);t.apply(c),s.setMaximum(c.getMaxPointDistance())}},Oo.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Oo.prototype.interfaces_=function(){return[]},Oo.prototype.getClass=function(){return Oo},Oo.distance=function(){if(arguments.length===2){var t=arguments[0],r=arguments[1],s=new Oo(t,r);return s.distance()}if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2],g=new Oo(a,c);return g.setDensifyFraction(h),g.distance()}},_b.MaxPointDistanceFilter.get=function(){return ju},_b.MaxDensifiedByFractionDistanceFilter.get=function(){return Ol},Object.defineProperties(Oo,_b);var ju=function(){this._maxPtDist=new _n,this._minPtDist=new _n,this._euclideanDist=new As,this._geom=null;var t=arguments[0];this._geom=t};ju.prototype.filter=function(t){this._minPtDist.initialize(),As.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},ju.prototype.getMaxPointDistance=function(){return this._maxPtDist},ju.prototype.interfaces_=function(){return[ia]},ju.prototype.getClass=function(){return ju};var Ol=function(){this._maxPtDist=new _n,this._minPtDist=new _n,this._geom=null,this._numSubSegs=0;var t=arguments[0],r=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/r))};Ol.prototype.filter=function(t,r){var s=this;if(r===0)return null;for(var a=t.getCoordinate(r-1),c=t.getCoordinate(r),h=(c.x-a.x)/this._numSubSegs,g=(c.y-a.y)/this._numSubSegs,v=0;v<this._numSubSegs;v++){var w=a.x+v*h,x=a.y+v*g,T=new Ct(w,x);s._minPtDist.initialize(),As.computeDistance(s._geom,T,s._minPtDist),s._maxPtDist.setMaximum(s._minPtDist)}},Ol.prototype.isDone=function(){return!1},Ol.prototype.isGeometryChanged=function(){return!1},Ol.prototype.getMaxPointDistance=function(){return this._maxPtDist},Ol.prototype.interfaces_=function(){return[ts]},Ol.prototype.getClass=function(){return Ol};var eo=function(t,r,s){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=r||null,this._result=s||null},kb={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};eo.prototype.checkMaximumDistance=function(t,r,s){var a=new Oo(r,t);if(a.setDensifyFraction(.25),this._maxDistanceFound=a.orientedDistance(),this._maxDistanceFound>s){this._isValid=!1;var c=a.getCoordinates();this._errorLocation=c[1],this._errorIndicator=t.getFactory().createLineString(c),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+Jo.toLineString(c[0],c[1])+")"}},eo.prototype.isValid=function(){var t=Math.abs(this._bufDistance),r=eo.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-r,this._maxValidDistance=t+r,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),eo.VERBOSE&&un.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},eo.prototype.checkNegativeValid=function(){if(!(this._input instanceof Ui||this._input instanceof oa||this._input instanceof In))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},eo.prototype.getErrorIndicator=function(){return this._errorIndicator},eo.prototype.checkMinimumDistance=function(t,r,s){var a=new fn(t,r,s);if(this._minDistanceFound=a.distance(),this._minDistanceFound<s){this._isValid=!1;var c=a.nearestPoints();this._errorLocation=a.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(c),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+Jo.toLineString(c[0],c[1])+" )"}},eo.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},eo.prototype.getErrorLocation=function(){return this._errorLocation},eo.prototype.getPolygonLines=function(t){for(var r=new ce,s=new pn(r),a=Wa.getPolygons(t).iterator();a.hasNext();)a.next().apply(s);return t.getFactory().buildGeometry(r)},eo.prototype.getErrorMessage=function(){return this._errMsg},eo.prototype.interfaces_=function(){return[]},eo.prototype.getClass=function(){return eo},kb.VERBOSE.get=function(){return!1},kb.MAX_DISTANCE_DIFF_FRAC.get=function(){return .012},Object.defineProperties(eo,kb);var gn=function(t,r,s){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=r||null,this._result=s||null},Eb={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};gn.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},gn.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*gn.MAX_ENV_DIFF_FRAC;t===0&&(t=.001);var r=new Re(this._input.getEnvelopeInternal());r.expandBy(this._distance);var s=new Re(this._result.getEnvelopeInternal());s.expandBy(t),s.contains(r)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(s)),this.report("Envelope")},gn.prototype.checkDistance=function(){var t=new eo(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},gn.prototype.checkArea=function(){var t=this._input.getArea(),r=this._result.getArea();this._distance>0&&t>r&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<r&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},gn.prototype.checkPolygonal=function(){this._result instanceof Ui||this._result instanceof oa||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},gn.prototype.getErrorIndicator=function(){return this._errorIndicator},gn.prototype.getErrorLocation=function(){return this._errorLocation},gn.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},gn.prototype.report=function(t){if(!gn.VERBOSE)return null;un.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},gn.prototype.getErrorMessage=function(){return this._errorMsg},gn.prototype.interfaces_=function(){return[]},gn.prototype.getClass=function(){return gn},gn.isValidMsg=function(t,r,s){var a=new gn(t,r,s);return a.isValid()?null:a.getErrorMessage()},gn.isValid=function(t,r,s){return!!new gn(t,r,s).isValid()},Eb.VERBOSE.get=function(){return!1},Eb.MAX_ENV_DIFF_FRAC.get=function(){return .012},Object.defineProperties(gn,Eb);var zs=function(){this._pts=null,this._data=null;var t=arguments[0],r=arguments[1];this._pts=t,this._data=r};zs.prototype.getCoordinates=function(){return this._pts},zs.prototype.size=function(){return this._pts.length},zs.prototype.getCoordinate=function(t){return this._pts[t]},zs.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},zs.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:zu.octant(this.getCoordinate(t),this.getCoordinate(t+1))},zs.prototype.setData=function(t){this._data=t},zs.prototype.getData=function(){return this._data},zs.prototype.toString=function(){return Jo.toLineString(new Li(this._pts))},zs.prototype.interfaces_=function(){return[aa]},zs.prototype.getClass=function(){return zs};var tn=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new ce,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};tn.prototype.getInteriorIntersection=function(){return this._interiorIntersection},tn.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},tn.prototype.getIntersectionSegments=function(){return this._intSegments},tn.prototype.count=function(){return this._intersectionCount},tn.prototype.getIntersections=function(){return this._intersections},tn.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},tn.prototype.setKeepIntersections=function(t){this._keepIntersections=t},tn.prototype.processIntersections=function(t,r,s,a){if(!this._findAllIntersections&&this.hasIntersection()||t===s&&r===a||this._isCheckEndSegmentsOnly&&!(this.isEndSegment(t,r)||this.isEndSegment(s,a)))return null;var c=t.getCoordinates()[r],h=t.getCoordinates()[r+1],g=s.getCoordinates()[a],v=s.getCoordinates()[a+1];this._li.computeIntersection(c,h,g,v),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=c,this._intSegments[1]=h,this._intSegments[2]=g,this._intSegments[3]=v,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},tn.prototype.isEndSegment=function(t,r){return r===0||r>=t.size()-2},tn.prototype.hasIntersection=function(){return this._interiorIntersection!==null},tn.prototype.isDone=function(){return!this._findAllIntersections&&this._interiorIntersection!==null},tn.prototype.interfaces_=function(){return[Pc]},tn.prototype.getClass=function(){return tn},tn.createAllIntersectionsFinder=function(t){var r=new tn(t);return r.setFindAllIntersections(!0),r},tn.createAnyIntersectionFinder=function(t){return new tn(t)},tn.createIntersectionCounter=function(t){var r=new tn(t);return r.setFindAllIntersections(!0),r.setKeepIntersections(!1),r};var os=function(){this._li=new kc,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};os.prototype.execute=function(){if(this._segInt!==null)return null;this.checkInteriorIntersections()},os.prototype.getIntersections=function(){return this._segInt.getIntersections()},os.prototype.isValid=function(){return this.execute(),this._isValid},os.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},os.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new tn(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new wb;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},os.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Ua(this.getErrorMessage(),this._segInt.getInteriorIntersection())},os.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+Jo.toLineString(t[0],t[1])+" and "+Jo.toLineString(t[2],t[3])},os.prototype.interfaces_=function(){return[]},os.prototype.getClass=function(){return os},os.computeIntersections=function(t){var r=new os(t);return r.setFindAllIntersections(!0),r.isValid(),r.getIntersections()};var Lc=function t(){this._nv=null;var r=arguments[0];this._nv=new os(t.toSegmentStrings(r))};Lc.prototype.checkValid=function(){this._nv.checkValid()},Lc.prototype.interfaces_=function(){return[]},Lc.prototype.getClass=function(){return Lc},Lc.toSegmentStrings=function(t){for(var r=new ce,s=t.iterator();s.hasNext();){var a=s.next();r.add(new zs(a.getCoordinates(),a))}return r},Lc.checkValid=function(t){new Lc(t).checkValid()};var Hu=function(t){this._mapOp=t};Hu.prototype.map=function(t){for(var r=new ce,s=0;s<t.getNumGeometries();s++){var a=this._mapOp.map(t.getGeometryN(s));a.isEmpty()||r.add(a)}return t.getFactory().createGeometryCollection(cr.toGeometryArray(r))},Hu.prototype.interfaces_=function(){return[]},Hu.prototype.getClass=function(){return Hu},Hu.map=function(t,r){return new Hu(r).map(t)};var Os=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new ce,this._resultLineList=new ce;var t=arguments[0],r=arguments[1],s=arguments[2];this._op=t,this._geometryFactory=r,this._ptLocator=s};Os.prototype.collectLines=function(t){for(var r=this,s=this._op.getGraph().getEdgeEnds().iterator();s.hasNext();){var a=s.next();r.collectLineEdge(a,t,r._lineEdgesList),r.collectBoundaryTouchEdge(a,t,r._lineEdgesList)}},Os.prototype.labelIsolatedLine=function(t,r){var s=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(r));t.getLabel().setLocation(r,s)},Os.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},Os.prototype.collectLineEdge=function(t,r,s){var a=t.getLabel(),c=t.getEdge();t.isLineEdge()&&(t.isVisited()||!$e.isResultOfOp(a,r)||c.isCovered()||(s.add(c),t.setVisitedEdge(!0)))},Os.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var r=this._op.getGraph().getEdgeEnds().iterator();r.hasNext();){var s=r.next(),a=s.getEdge();if(s.isLineEdge()&&!a.isCoveredSet()){var c=this._op.isCoveredByA(s.getCoordinate());a.setCovered(c)}}},Os.prototype.labelIsolatedLines=function(t){for(var r=t.iterator();r.hasNext();){var s=r.next(),a=s.getLabel();s.isIsolated()&&(a.isNull(0)?this.labelIsolatedLine(s,0):this.labelIsolatedLine(s,1))}},Os.prototype.buildLines=function(t){for(var r=this._lineEdgesList.iterator();r.hasNext();){var s=r.next(),a=this._geometryFactory.createLineString(s.getCoordinates());this._resultLineList.add(a),s.setInResult(!0)}},Os.prototype.collectBoundaryTouchEdge=function(t,r,s){var a=t.getLabel();return t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult()?null:(er.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void($e.isResultOfOp(a,r)&&r===$e.INTERSECTION&&(s.add(t.getEdge()),t.setVisitedEdge(!0))))},Os.prototype.interfaces_=function(){return[]},Os.prototype.getClass=function(){return Os};var Uu=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new ce;var t=arguments[0],r=arguments[1];this._op=t,this._geometryFactory=r};Uu.prototype.filterCoveredNodeToPoint=function(t){var r=t.getCoordinate();if(!this._op.isCoveredByLA(r)){var s=this._geometryFactory.createPoint(r);this._resultPointList.add(s)}},Uu.prototype.extractNonCoveredResultNodes=function(t){for(var r=this._op.getGraph().getNodes().iterator();r.hasNext();){var s=r.next();if(!s.isInResult()&&!s.isIncidentEdgeInResult()&&(s.getEdges().getDegree()===0||t===$e.INTERSECTION)){var a=s.getLabel();$e.isResultOfOp(a,t)&&this.filterCoveredNodeToPoint(s)}}},Uu.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},Uu.prototype.interfaces_=function(){return[]},Uu.prototype.getClass=function(){return Uu};var Xn=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Xn.prototype.transformPoint=function(t,r){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},Xn.prototype.transformPolygon=function(t,r){var s=!0,a=this.transformLinearRing(t.getExteriorRing(),t);a!==null&&a instanceof na&&!a.isEmpty()||(s=!1);for(var c=new ce,h=0;h<t.getNumInteriorRing();h++){var g=this.transformLinearRing(t.getInteriorRingN(h),t);g===null||g.isEmpty()||(g instanceof na||(s=!1),c.add(g))}if(s)return this._factory.createPolygon(a,c.toArray([]));var v=new ce;return a!==null&&v.add(a),v.addAll(c),this._factory.buildGeometry(v)},Xn.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},Xn.prototype.getInputGeometry=function(){return this._inputGeom},Xn.prototype.transformMultiLineString=function(t,r){for(var s=new ce,a=0;a<t.getNumGeometries();a++){var c=this.transformLineString(t.getGeometryN(a),t);c!==null&&(c.isEmpty()||s.add(c))}return this._factory.buildGeometry(s)},Xn.prototype.transformCoordinates=function(t,r){return this.copy(t)},Xn.prototype.transformLineString=function(t,r){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},Xn.prototype.transformMultiPoint=function(t,r){for(var s=new ce,a=0;a<t.getNumGeometries();a++){var c=this.transformPoint(t.getGeometryN(a),t);c!==null&&(c.isEmpty()||s.add(c))}return this._factory.buildGeometry(s)},Xn.prototype.transformMultiPolygon=function(t,r){for(var s=new ce,a=0;a<t.getNumGeometries();a++){var c=this.transformPolygon(t.getGeometryN(a),t);c!==null&&(c.isEmpty()||s.add(c))}return this._factory.buildGeometry(s)},Xn.prototype.copy=function(t){return t.copy()},Xn.prototype.transformGeometryCollection=function(t,r){for(var s=new ce,a=0;a<t.getNumGeometries();a++){var c=this.transform(t.getGeometryN(a));c!==null&&(this._pruneEmptyGeometry&&c.isEmpty()||s.add(c))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(cr.toGeometryArray(s)):this._factory.buildGeometry(s)},Xn.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Qn)return this.transformPoint(t,null);if(t instanceof od)return this.transformMultiPoint(t,null);if(t instanceof na)return this.transformLinearRing(t,null);if(t instanceof Pi)return this.transformLineString(t,null);if(t instanceof Tc)return this.transformMultiLineString(t,null);if(t instanceof Ui)return this.transformPolygon(t,null);if(t instanceof oa)return this.transformMultiPolygon(t,null);if(t instanceof In)return this.transformGeometryCollection(t,null);throw new _i("Unknown Geometry subtype: "+t.getClass().getName())},Xn.prototype.transformLinearRing=function(t,r){var s=this.transformCoordinates(t.getCoordinateSequence(),t);if(s===null)return this._factory.createLinearRing(null);var a=s.size();return a>0&&a<4&&!this._preserveType?this._factory.createLineString(s):this._factory.createLinearRing(s)},Xn.prototype.interfaces_=function(){return[]},Xn.prototype.getClass=function(){return Xn};var da=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new ze,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Pi&&typeof arguments[1]=="number"){var r=arguments[0],s=arguments[1];t.call(this,r.getCoordinates(),s)}else if(arguments[0]instanceof Array&&typeof arguments[1]=="number"){var a=arguments[0],c=arguments[1];this._srcPts=a,this._isClosed=t.isClosed(a),this._snapTolerance=c}};da.prototype.snapVertices=function(t,r){for(var s=this._isClosed?t.size()-1:t.size(),a=0;a<s;a++){var c=t.get(a),h=this.findSnapForVertex(c,r);h!==null&&(t.set(a,new Ct(h)),a===0&&this._isClosed&&t.set(t.size()-1,new Ct(h)))}},da.prototype.findSnapForVertex=function(t,r){for(var s=0;s<r.length;s++){if(t.equals2D(r[s]))return null;if(t.distance(r[s])<this._snapTolerance)return r[s]}return null},da.prototype.snapTo=function(t){var r=new Qp(this._srcPts);return this.snapVertices(r,t),this.snapSegments(r,t),r.toCoordinateArray()},da.prototype.snapSegments=function(t,r){if(r.length===0)return null;var s=r.length;r[0].equals2D(r[r.length-1])&&(s=r.length-1);for(var a=0;a<s;a++){var c=r[a],h=this.findSegmentIndexToSnap(c,t);h>=0&&t.add(h+1,new Ct(c),!1)}},da.prototype.findSegmentIndexToSnap=function(t,r){for(var s=this,a=Ke.MAX_VALUE,c=-1,h=0;h<r.size()-1;h++){if(s._seg.p0=r.get(h),s._seg.p1=r.get(h+1),s._seg.p0.equals2D(t)||s._seg.p1.equals2D(t)){if(s._allowSnappingToSourceVertices)continue;return-1}var g=s._seg.distance(t);g<s._snapTolerance&&g<a&&(a=g,c=h)}return c},da.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},da.prototype.interfaces_=function(){return[]},da.prototype.getClass=function(){return da},da.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var Ai=function(t){this._srcGeom=t||null},ik={SNAP_PRECISION_FACTOR:{configurable:!0}};Ai.prototype.snapTo=function(t,r){var s=this.extractTargetCoordinates(t);return new nk(r,s).transform(this._srcGeom)},Ai.prototype.snapToSelf=function(t,r){var s=this.extractTargetCoordinates(this._srcGeom),a=new nk(t,s,!0).transform(this._srcGeom),c=a;return r&&Ge(c,Pl)&&(c=a.buffer(0)),c},Ai.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},Ai.prototype.extractTargetCoordinates=function(t){for(var r=new ks,s=t.getCoordinates(),a=0;a<s.length;a++)r.add(s[a]);return r.toArray(new Array(0).fill(null))},Ai.prototype.computeMinimumSegmentLength=function(t){for(var r=Ke.MAX_VALUE,s=0;s<t.length-1;s++){var a=t[s].distance(t[s+1]);a<r&&(r=a)}return r},Ai.prototype.interfaces_=function(){return[]},Ai.prototype.getClass=function(){return Ai},Ai.snap=function(t,r,s){var a=new Array(2).fill(null),c=new Ai(t);a[0]=c.snapTo(r,s);var h=new Ai(r);return a[1]=h.snapTo(a[0],s),a},Ai.computeOverlaySnapTolerance=function(){if(arguments.length===1){var t=arguments[0],r=Ai.computeSizeBasedSnapTolerance(t),s=t.getPrecisionModel();if(s.getType()===Kr.FIXED){var a=1/s.getScale()*2/1.415;a>r&&(r=a)}return r}if(arguments.length===2){var c=arguments[0],h=arguments[1];return Math.min(Ai.computeOverlaySnapTolerance(c),Ai.computeOverlaySnapTolerance(h))}},Ai.computeSizeBasedSnapTolerance=function(t){var r=t.getEnvelopeInternal();return Math.min(r.getHeight(),r.getWidth())*Ai.SNAP_PRECISION_FACTOR},Ai.snapToSelf=function(t,r,s){return new Ai(t).snapToSelf(r,s)},ik.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Ai,ik);var nk=function(t){function r(s,a,c){t.call(this),this._snapTolerance=s||null,this._snapPts=a||null,this._isSelfSnap=c!==void 0&&c}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.snapLine=function(s,a){var c=new da(s,this._snapTolerance);return c.setAllowSnappingToSourceVertices(this._isSelfSnap),c.snapTo(a)},r.prototype.transformCoordinates=function(s,a){var c=s.toCoordinateArray(),h=this.snapLine(c,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(h)},r.prototype.interfaces_=function(){return[]},r.prototype.getClass=function(){return r},r}(Xn),Nn=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Nn.prototype.getCommon=function(){return Ke.longBitsToDouble(this._commonBits)},Nn.prototype.add=function(t){var r=Ke.doubleToLongBits(t);return this._isFirst?(this._commonBits=r,this._commonSignExp=Nn.signExpBits(this._commonBits),this._isFirst=!1,null):Nn.signExpBits(r)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=Nn.numCommonMostSigMantissaBits(this._commonBits,r),void(this._commonBits=Nn.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},Nn.prototype.toString=function(){if(arguments.length===1){var t=arguments[0],r=Ke.longBitsToDouble(t),s=Ke.toBinaryString(t),a="0000000000000000000000000000000000000000000000000000000000000000"+s,c=a.substring(a.length-64),h=c.substring(0,1)+"  "+c.substring(1,12)+"(exp) "+c.substring(12)+" [ "+r+" ]";return h}},Nn.prototype.interfaces_=function(){return[]},Nn.prototype.getClass=function(){return Nn},Nn.getBit=function(t,r){return t&1<<r?1:0},Nn.signExpBits=function(t){return t>>52},Nn.zeroLowerBits=function(t,r){return t&~((1<<r)-1)},Nn.numCommonMostSigMantissaBits=function(t,r){for(var s=0,a=52;a>=0;a--){if(Nn.getBit(t,a)!==Nn.getBit(r,a))return s;s++}return 52};var Nl=function(){this._commonCoord=null,this._ccFilter=new Gu},Tb={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};Nl.prototype.addCommonBits=function(t){var r=new Dl(this._commonCoord);t.apply(r),t.geometryChanged()},Nl.prototype.removeCommonBits=function(t){if(this._commonCoord.x===0&&this._commonCoord.y===0)return t;var r=new Ct(this._commonCoord);r.x=-r.x,r.y=-r.y;var s=new Dl(r);return t.apply(s),t.geometryChanged(),t},Nl.prototype.getCommonCoordinate=function(){return this._commonCoord},Nl.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},Nl.prototype.interfaces_=function(){return[]},Nl.prototype.getClass=function(){return Nl},Tb.CommonCoordinateFilter.get=function(){return Gu},Tb.Translater.get=function(){return Dl},Object.defineProperties(Nl,Tb);var Gu=function(){this._commonBitsX=new Nn,this._commonBitsY=new Nn};Gu.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},Gu.prototype.getCommonCoordinate=function(){return new Ct(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},Gu.prototype.interfaces_=function(){return[ia]},Gu.prototype.getClass=function(){return Gu};var Dl=function(){this.trans=null;var t=arguments[0];this.trans=t};Dl.prototype.filter=function(t,r){var s=t.getOrdinate(r,0)+this.trans.x,a=t.getOrdinate(r,1)+this.trans.y;t.setOrdinate(r,0,s),t.setOrdinate(r,1,a)},Dl.prototype.isDone=function(){return!1},Dl.prototype.isGeometryChanged=function(){return!0},Dl.prototype.interfaces_=function(){return[ts]},Dl.prototype.getClass=function(){return Dl};var en=function(t,r){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=r,this.computeSnapTolerance()};en.prototype.selfSnap=function(t){return new Ai(t).snapTo(t,this._snapTolerance)},en.prototype.removeCommonBits=function(t){this._cbr=new Nl,this._cbr.add(t[0]),this._cbr.add(t[1]);var r=new Array(2).fill(null);return r[0]=this._cbr.removeCommonBits(t[0].copy()),r[1]=this._cbr.removeCommonBits(t[1].copy()),r},en.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},en.prototype.getResultGeometry=function(t){var r=this.snap(this._geom),s=$e.overlayOp(r[0],r[1],t);return this.prepareResult(s)},en.prototype.checkValid=function(t){t.isValid()||un.out.println("Snapped geometry is invalid")},en.prototype.computeSnapTolerance=function(){this._snapTolerance=Ai.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},en.prototype.snap=function(t){var r=this.removeCommonBits(t);return Ai.snap(r[0],r[1],this._snapTolerance)},en.prototype.interfaces_=function(){return[]},en.prototype.getClass=function(){return en},en.overlayOp=function(t,r,s){return new en(t,r).getResultGeometry(s)},en.union=function(t,r){return en.overlayOp(t,r,$e.UNION)},en.intersection=function(t,r){return en.overlayOp(t,r,$e.INTERSECTION)},en.symDifference=function(t,r){return en.overlayOp(t,r,$e.SYMDIFFERENCE)},en.difference=function(t,r){return en.overlayOp(t,r,$e.DIFFERENCE)};var Dn=function(t,r){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=r};Dn.prototype.getResultGeometry=function(t){var r=null,s=!1,a=null;try{r=$e.overlayOp(this._geom[0],this._geom[1],t),s=!0}catch(c){if(!(c instanceof Da))throw c;a=c}if(!s)try{r=en.overlayOp(this._geom[0],this._geom[1],t)}catch(c){throw c instanceof Da?a:c}return r},Dn.prototype.interfaces_=function(){return[]},Dn.prototype.getClass=function(){return Dn},Dn.overlayOp=function(t,r,s){return new Dn(t,r).getResultGeometry(s)},Dn.union=function(t,r){return Dn.overlayOp(t,r,$e.UNION)},Dn.intersection=function(t,r){return Dn.overlayOp(t,r,$e.INTERSECTION)},Dn.symDifference=function(t,r){return Dn.overlayOp(t,r,$e.SYMDIFFERENCE)},Dn.difference=function(t,r){return Dn.overlayOp(t,r,$e.DIFFERENCE)};var ff=function(){this.mce=null,this.chainIndex=null;var t=arguments[0],r=arguments[1];this.mce=t,this.chainIndex=r};ff.prototype.computeIntersections=function(t,r){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,r)},ff.prototype.interfaces_=function(){return[]},ff.prototype.getClass=function(){return ff};var ro=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,arguments.length===2){var r=arguments[0],s=arguments[1];this._eventType=t.DELETE,this._xValue=r,this._insertEvent=s}else if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2];this._eventType=t.INSERT,this._label=a,this._xValue=c,this._obj=h}},Sb={INSERT:{configurable:!0},DELETE:{configurable:!0}};ro.prototype.isDelete=function(){return this._eventType===ro.DELETE},ro.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},ro.prototype.getObject=function(){return this._obj},ro.prototype.compareTo=function(t){var r=t;return this._xValue<r._xValue?-1:this._xValue>r._xValue?1:this._eventType<r._eventType?-1:this._eventType>r._eventType?1:0},ro.prototype.getInsertEvent=function(){return this._insertEvent},ro.prototype.isInsert=function(){return this._eventType===ro.INSERT},ro.prototype.isSameLabel=function(t){return this._label!==null&&this._label===t._label},ro.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},ro.prototype.interfaces_=function(){return[Po]},ro.prototype.getClass=function(){return ro},Sb.INSERT.get=function(){return 1},Sb.DELETE.get=function(){return 2},Object.defineProperties(ro,Sb);var Xm=function(){};Xm.prototype.interfaces_=function(){return[]},Xm.prototype.getClass=function(){return Xm};var mn=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],r=arguments[1],s=arguments[2];this._li=t,this._includeProper=r,this._recordIsolated=s};mn.prototype.isTrivialIntersection=function(t,r,s,a){if(t===s&&this._li.getIntersectionNum()===1){if(mn.isAdjacentSegments(r,a))return!0;if(t.isClosed()){var c=t.getNumPoints()-1;if(r===0&&a===c||a===0&&r===c)return!0}}return!1},mn.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},mn.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},mn.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},mn.prototype.isBoundaryPointInternal=function(t,r){for(var s=r.iterator();s.hasNext();){var a=s.next().getCoordinate();if(t.isIntersection(a))return!0}return!1},mn.prototype.hasProperIntersection=function(){return this._hasProper},mn.prototype.hasIntersection=function(){return this._hasIntersection},mn.prototype.isDone=function(){return this._isDone},mn.prototype.isBoundaryPoint=function(t,r){return r!==null&&(!!this.isBoundaryPointInternal(t,r[0])||!!this.isBoundaryPointInternal(t,r[1]))},mn.prototype.setBoundaryNodes=function(t,r){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=r},mn.prototype.addIntersections=function(t,r,s,a){if(t===s&&r===a)return null;this.numTests++;var c=t.getCoordinates()[r],h=t.getCoordinates()[r+1],g=s.getCoordinates()[a],v=s.getCoordinates()[a+1];this._li.computeIntersection(c,h,g,v),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),s.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,r,s,a)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,r,0),s.addIntersections(this._li,a,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},mn.prototype.interfaces_=function(){return[]},mn.prototype.getClass=function(){return mn},mn.isAdjacentSegments=function(t,r){return Math.abs(t-r)===1};var jM=function(t){function r(){t.call(this),this.events=new ce,this.nOverlaps=null}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.prepareEvents=function(){rs.sort(this.events);for(var s=0;s<this.events.size();s++){var a=this.events.get(s);a.isDelete()&&a.getInsertEvent().setDeleteEventIndex(s)}},r.prototype.computeIntersections=function(){var s=this;if(arguments.length===1){var a=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var c=0;c<this.events.size();c++){var h=s.events.get(c);if(h.isInsert()&&s.processOverlaps(c,h.getDeleteEventIndex(),h,a),a.isDone())break}}else if(arguments.length===3){if(arguments[2]instanceof mn&&Ge(arguments[0],Qo)&&Ge(arguments[1],Qo)){var g=arguments[0],v=arguments[1],w=arguments[2];this.addEdges(g,g),this.addEdges(v,v),this.computeIntersections(w)}else if(typeof arguments[2]=="boolean"&&Ge(arguments[0],Qo)&&arguments[1]instanceof mn){var x=arguments[0],T=arguments[1],k=arguments[2];k?this.addEdges(x,null):this.addEdges(x),this.computeIntersections(T)}}},r.prototype.addEdge=function(s,a){for(var c=s.getMonotoneChainEdge(),h=c.getStartIndexes(),g=0;g<h.length-1;g++){var v=new ff(c,g),w=new ro(a,c.getMinX(g),v);this.events.add(w),this.events.add(new ro(c.getMaxX(g),w))}},r.prototype.processOverlaps=function(s,a,c,h){for(var g=c.getObject(),v=s;v<a;v++){var w=this.events.get(v);if(w.isInsert()){var x=w.getObject();c.isSameLabel(w)||(g.computeIntersections(x,h),this.nOverlaps++)}}},r.prototype.addEdges=function(){var s=this;if(arguments.length===1)for(var a=arguments[0],c=a.iterator();c.hasNext();){var h=c.next();s.addEdge(h,h)}else if(arguments.length===2)for(var g=arguments[0],v=arguments[1],w=g.iterator();w.hasNext();){var x=w.next();s.addEdge(x,v)}},r.prototype.interfaces_=function(){return[]},r.prototype.getClass=function(){return r},r}(Xm),pa=function(){this._min=Ke.POSITIVE_INFINITY,this._max=Ke.NEGATIVE_INFINITY},ok={NodeComparator:{configurable:!0}};pa.prototype.getMin=function(){return this._min},pa.prototype.intersects=function(t,r){return!(this._min>r||this._max<t)},pa.prototype.getMax=function(){return this._max},pa.prototype.toString=function(){return Jo.toLineString(new Ct(this._min,0),new Ct(this._max,0))},pa.prototype.interfaces_=function(){return[]},pa.prototype.getClass=function(){return pa},ok.NodeComparator.get=function(){return gf},Object.defineProperties(pa,ok);var gf=function(){};gf.prototype.compare=function(t,r){var s=t,a=r,c=(s._min+s._max)/2,h=(a._min+a._max)/2;return c<h?-1:c>h?1:0},gf.prototype.interfaces_=function(){return[Xh]},gf.prototype.getClass=function(){return gf};var HM=function(t){function r(){t.call(this),this._item=null;var s=arguments[0],a=arguments[1],c=arguments[2];this._min=s,this._max=a,this._item=c}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.query=function(s,a,c){if(!this.intersects(s,a))return null;c.visitItem(this._item)},r.prototype.interfaces_=function(){return[]},r.prototype.getClass=function(){return r},r}(pa),UM=function(t){function r(){t.call(this),this._node1=null,this._node2=null;var s=arguments[0],a=arguments[1];this._node1=s,this._node2=a,this.buildExtent(this._node1,this._node2)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.buildExtent=function(s,a){this._min=Math.min(s._min,a._min),this._max=Math.max(s._max,a._max)},r.prototype.query=function(s,a,c){if(!this.intersects(s,a))return null;this._node1!==null&&this._node1.query(s,a,c),this._node2!==null&&this._node2.query(s,a,c)},r.prototype.interfaces_=function(){return[]},r.prototype.getClass=function(){return r},r}(pa),fa=function(){this._leaves=new ce,this._root=null,this._level=0};fa.prototype.buildTree=function(){rs.sort(this._leaves,new pa.NodeComparator);for(var t=this._leaves,r=null,s=new ce;;){if(this.buildLevel(t,s),s.size()===1)return s.get(0);r=t,t=s,s=r}},fa.prototype.insert=function(t,r,s){if(this._root!==null)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new HM(t,r,s))},fa.prototype.query=function(t,r,s){this.init(),this._root.query(t,r,s)},fa.prototype.buildRoot=function(){if(this._root!==null)return null;this._root=this.buildTree()},fa.prototype.printNode=function(t){un.out.println(Jo.toLineString(new Ct(t._min,this._level),new Ct(t._max,this._level)))},fa.prototype.init=function(){if(this._root!==null)return null;this.buildRoot()},fa.prototype.buildLevel=function(t,r){this._level++,r.clear();for(var s=0;s<t.size();s+=2){var a=t.get(s);if((s+1<t.size()?t.get(s):null)===null)r.add(a);else{var c=new UM(t.get(s),t.get(s+1));r.add(c)}}},fa.prototype.interfaces_=function(){return[]},fa.prototype.getClass=function(){return fa};var dd=function(){this._items=new ce};dd.prototype.visitItem=function(t){this._items.add(t)},dd.prototype.getItems=function(){return this._items},dd.prototype.interfaces_=function(){return[Ml]},dd.prototype.getClass=function(){return dd};var pd=function(){this._index=null;var t=arguments[0];if(!Ge(t,Pl))throw new _i("Argument must be Polygonal");this._index=new Rc(t)},Cb={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};pd.prototype.locate=function(t){var r=new _s(t),s=new fd(r);return this._index.query(t.y,t.y,s),r.getLocation()},pd.prototype.interfaces_=function(){return[cd]},pd.prototype.getClass=function(){return pd},Cb.SegmentVisitor.get=function(){return fd},Cb.IntervalIndexedGeometry.get=function(){return Rc},Object.defineProperties(pd,Cb);var fd=function(){this._counter=null;var t=arguments[0];this._counter=t};fd.prototype.visitItem=function(t){var r=t;this._counter.countSegment(r.getCoordinate(0),r.getCoordinate(1))},fd.prototype.interfaces_=function(){return[Ml]},fd.prototype.getClass=function(){return fd};var Rc=function(){this._index=new fa;var t=arguments[0];this.init(t)};Rc.prototype.init=function(t){for(var r=pn.getLines(t).iterator();r.hasNext();){var s=r.next().getCoordinates();this.addLine(s)}},Rc.prototype.addLine=function(t){for(var r=1;r<t.length;r++){var s=new ze(t[r-1],t[r]),a=Math.min(s.p0.y,s.p1.y),c=Math.max(s.p0.y,s.p1.y);this._index.insert(a,c,s)}},Rc.prototype.query=function(){if(arguments.length===2){var t=arguments[0],r=arguments[1],s=new dd;return this._index.query(t,r,s),s.getItems()}if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2];this._index.query(a,c,h)}},Rc.prototype.interfaces_=function(){return[]},Rc.prototype.getClass=function(){return Rc};var mf=function(t){function r(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new j_,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new ns,arguments.length===2){var s=arguments[0],a=arguments[1],c=Io.OGC_SFS_BOUNDARY_RULE;this._argIndex=s,this._parentGeom=a,this._boundaryNodeRule=c,a!==null&&this.add(a)}else if(arguments.length===3){var h=arguments[0],g=arguments[1],v=arguments[2];this._argIndex=h,this._parentGeom=g,this._boundaryNodeRule=v,g!==null&&this.add(g)}}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.insertBoundaryPoint=function(s,a){var c=this._nodes.addNode(a).getLabel(),h=1;c.getLocation(s,ie.ON)===At.BOUNDARY&&h++;var g=r.determineBoundary(this._boundaryNodeRule,h);c.setLocation(s,g)},r.prototype.computeSelfNodes=function(){if(arguments.length===2){var s=arguments[0],a=arguments[1];return this.computeSelfNodes(s,a,!1)}if(arguments.length===3){var c=arguments[0],h=arguments[1],g=arguments[2],v=new mn(c,!0,!1);v.setIsDoneIfProperInt(g);var w=this.createEdgeSetIntersector(),x=this._parentGeom instanceof na||this._parentGeom instanceof Ui||this._parentGeom instanceof oa,T=h||!x;return w.computeIntersections(this._edges,v,T),this.addSelfIntersectionNodes(this._argIndex),v}},r.prototype.computeSplitEdges=function(s){for(var a=this._edges.iterator();a.hasNext();)a.next().eiList.addSplitEdges(s)},r.prototype.computeEdgeIntersections=function(s,a,c){var h=new mn(a,c,!0);return h.setBoundaryNodes(this.getBoundaryNodes(),s.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,s._edges,h),h},r.prototype.getGeometry=function(){return this._parentGeom},r.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},r.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},r.prototype.addPoint=function(){if(arguments[0]instanceof Qn){var s=arguments[0],a=s.getCoordinate();this.insertPoint(this._argIndex,a,At.INTERIOR)}else if(arguments[0]instanceof Ct){var c=arguments[0];this.insertPoint(this._argIndex,c,At.INTERIOR)}},r.prototype.addPolygon=function(s){this.addPolygonRing(s.getExteriorRing(),At.EXTERIOR,At.INTERIOR);for(var a=0;a<s.getNumInteriorRing();a++){var c=s.getInteriorRingN(a);this.addPolygonRing(c,At.INTERIOR,At.EXTERIOR)}},r.prototype.addEdge=function(s){this.insertEdge(s);var a=s.getCoordinates();this.insertPoint(this._argIndex,a[0],At.BOUNDARY),this.insertPoint(this._argIndex,a[a.length-1],At.BOUNDARY)},r.prototype.addLineString=function(s){var a=lr.removeRepeatedPoints(s.getCoordinates());if(a.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=a[0],null;var c=new Zm(a,new ii(this._argIndex,At.INTERIOR));this._lineEdgeMap.put(s,c),this.insertEdge(c),er.isTrue(a.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,a[0]),this.insertBoundaryPoint(this._argIndex,a[a.length-1])},r.prototype.getInvalidPoint=function(){return this._invalidPoint},r.prototype.getBoundaryPoints=function(){for(var s=this.getBoundaryNodes(),a=new Array(s.size()).fill(null),c=0,h=s.iterator();h.hasNext();){var g=h.next();a[c++]=g.getCoordinate().copy()}return a},r.prototype.getBoundaryNodes=function(){return this._boundaryNodes===null&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},r.prototype.addSelfIntersectionNode=function(s,a,c){if(this.isBoundaryNode(s,a))return null;c===At.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(s,a):this.insertPoint(s,a,c)},r.prototype.addPolygonRing=function(s,a,c){if(s.isEmpty())return null;var h=lr.removeRepeatedPoints(s.getCoordinates());if(h.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=h[0],null;var g=a,v=c;fe.isCCW(h)&&(g=c,v=a);var w=new Zm(h,new ii(this._argIndex,At.BOUNDARY,g,v));this._lineEdgeMap.put(s,w),this.insertEdge(w),this.insertPoint(this._argIndex,h[0],At.BOUNDARY)},r.prototype.insertPoint=function(s,a,c){var h=this._nodes.addNode(a),g=h.getLabel();g===null?h._label=new ii(s,c):g.setLocation(s,c)},r.prototype.createEdgeSetIntersector=function(){return new jM},r.prototype.addSelfIntersectionNodes=function(s){for(var a=this._edges.iterator();a.hasNext();)for(var c=a.next(),h=c.getLabel().getLocation(s),g=c.eiList.iterator();g.hasNext();){var v=g.next();this.addSelfIntersectionNode(s,v.coord,h)}},r.prototype.add=function(){if(arguments.length!==1)return t.prototype.add.apply(this,arguments);var s=arguments[0];if(s.isEmpty())return null;if(s instanceof oa&&(this._useBoundaryDeterminationRule=!1),s instanceof Ui)this.addPolygon(s);else if(s instanceof Pi)this.addLineString(s);else if(s instanceof Qn)this.addPoint(s);else if(s instanceof od)this.addCollection(s);else if(s instanceof Tc)this.addCollection(s);else if(s instanceof oa)this.addCollection(s);else{if(!(s instanceof In))throw new Error(s.getClass().getName());this.addCollection(s)}},r.prototype.addCollection=function(s){for(var a=0;a<s.getNumGeometries();a++){var c=s.getGeometryN(a);this.add(c)}},r.prototype.locate=function(s){return Ge(this._parentGeom,Pl)&&this._parentGeom.getNumGeometries()>50?(this._areaPtLocator===null&&(this._areaPtLocator=new pd(this._parentGeom)),this._areaPtLocator.locate(s)):this._ptLocator.locate(s,this._parentGeom)},r.prototype.findEdge=function(){if(arguments.length===1){var s=arguments[0];return this._lineEdgeMap.get(s)}return t.prototype.findEdge.apply(this,arguments)},r.prototype.interfaces_=function(){return[]},r.prototype.getClass=function(){return r},r.determineBoundary=function(s,a){return s.isInBoundary(a)?At.BOUNDARY:At.INTERIOR},r}(Ti),gd=function(){if(this._li=new kc,this._resultPrecisionModel=null,this._arg=null,arguments.length===1){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new mf(0,t)}else if(arguments.length===2){var r=arguments[0],s=arguments[1],a=Io.OGC_SFS_BOUNDARY_RULE;r.getPrecisionModel().compareTo(s.getPrecisionModel())>=0?this.setComputationPrecision(r.getPrecisionModel()):this.setComputationPrecision(s.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new mf(0,r,a),this._arg[1]=new mf(1,s,a)}else if(arguments.length===3){var c=arguments[0],h=arguments[1],g=arguments[2];c.getPrecisionModel().compareTo(h.getPrecisionModel())>=0?this.setComputationPrecision(c.getPrecisionModel()):this.setComputationPrecision(h.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new mf(0,c,g),this._arg[1]=new mf(1,h,g)}};gd.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},gd.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},gd.prototype.interfaces_=function(){return[]},gd.prototype.getClass=function(){return gd};var Ac=function(){};Ac.prototype.interfaces_=function(){return[]},Ac.prototype.getClass=function(){return Ac},Ac.map=function(){if(arguments[0]instanceof He&&Ge(arguments[1],Ac.MapOp)){for(var t=arguments[0],r=arguments[1],s=new ce,a=0;a<t.getNumGeometries();a++){var c=r.map(t.getGeometryN(a));c!==null&&s.add(c)}return t.getFactory().buildGeometry(s)}if(Ge(arguments[0],Hi)&&Ge(arguments[1],Ac.MapOp)){for(var h=arguments[0],g=arguments[1],v=new ce,w=h.iterator();w.hasNext();){var x=w.next(),T=g.map(x);T!==null&&v.add(T)}return v}},Ac.MapOp=function(){};var $e=function(t){function r(){var s=arguments[0],a=arguments[1];t.call(this,s,a),this._ptLocator=new ns,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new is,this._resultPolyList=new ce,this._resultLineList=new ce,this._resultPointList=new ce,this._graph=new Ti(new K_),this._geomFact=s.getFactory()}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.insertUniqueEdge=function(s){var a=this._edgeList.findEqualEdge(s);if(a!==null){var c=a.getLabel(),h=s.getLabel();a.isPointwiseEqual(s)||(h=new ii(s.getLabel())).flip();var g=a.getDepth();g.isNull()&&g.add(c),g.add(h),c.merge(h)}else this._edgeList.add(s)},r.prototype.getGraph=function(){return this._graph},r.prototype.cancelDuplicateResultEdges=function(){for(var s=this._graph.getEdgeEnds().iterator();s.hasNext();){var a=s.next(),c=a.getSym();a.isInResult()&&c.isInResult()&&(a.setInResult(!1),c.setInResult(!1))}},r.prototype.isCoveredByLA=function(s){return!!this.isCovered(s,this._resultLineList)||!!this.isCovered(s,this._resultPolyList)},r.prototype.computeGeometry=function(s,a,c,h){var g=new ce;return g.addAll(s),g.addAll(a),g.addAll(c),g.isEmpty()?r.createEmptyResult(h,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(g)},r.prototype.mergeSymLabels=function(){for(var s=this._graph.getNodes().iterator();s.hasNext();)s.next().getEdges().mergeSymLabels()},r.prototype.isCovered=function(s,a){for(var c=a.iterator();c.hasNext();){var h=c.next();if(this._ptLocator.locate(s,h)!==At.EXTERIOR)return!0}return!1},r.prototype.replaceCollapsedEdges=function(){for(var s=new ce,a=this._edgeList.iterator();a.hasNext();){var c=a.next();c.isCollapsed()&&(a.remove(),s.add(c.getCollapsedEdge()))}this._edgeList.addAll(s)},r.prototype.updateNodeLabelling=function(){for(var s=this._graph.getNodes().iterator();s.hasNext();){var a=s.next(),c=a.getEdges().getLabel();a.getLabel().merge(c)}},r.prototype.getResultGeometry=function(s){return this.computeOverlay(s),this._resultGeom},r.prototype.insertUniqueEdges=function(s){for(var a=s.iterator();a.hasNext();){var c=a.next();this.insertUniqueEdge(c)}},r.prototype.computeOverlay=function(s){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var a=new ce;this._arg[0].computeSplitEdges(a),this._arg[1].computeSplitEdges(a),this.insertUniqueEdges(a),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Lc.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(s),this.cancelDuplicateResultEdges();var c=new $n(this._geomFact);c.add(this._graph),this._resultPolyList=c.getPolygons();var h=new Os(this,this._geomFact,this._ptLocator);this._resultLineList=h.build(s);var g=new Uu(this,this._geomFact,this._ptLocator);this._resultPointList=g.build(s),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,s)},r.prototype.labelIncompleteNode=function(s,a){var c=this._ptLocator.locate(s.getCoordinate(),this._arg[a].getGeometry());s.getLabel().setLocation(a,c)},r.prototype.copyPoints=function(s){for(var a=this._arg[s].getNodeIterator();a.hasNext();){var c=a.next();this._graph.addNode(c.getCoordinate()).setLabel(s,c.getLabel().getLocation(s))}},r.prototype.findResultAreaEdges=function(s){for(var a=this._graph.getEdgeEnds().iterator();a.hasNext();){var c=a.next(),h=c.getLabel();h.isArea()&&!c.isInteriorAreaEdge()&&r.isResultOfOp(h.getLocation(0,ie.RIGHT),h.getLocation(1,ie.RIGHT),s)&&c.setInResult(!0)}},r.prototype.computeLabelsFromDepths=function(){for(var s=this._edgeList.iterator();s.hasNext();){var a=s.next(),c=a.getLabel(),h=a.getDepth();if(!h.isNull()){h.normalize();for(var g=0;g<2;g++)c.isNull(g)||!c.isArea()||h.isNull(g)||(h.getDelta(g)===0?c.toLine(g):(er.isTrue(!h.isNull(g,ie.LEFT),"depth of LEFT side has not been initialized"),c.setLocation(g,ie.LEFT,h.getLocation(g,ie.LEFT)),er.isTrue(!h.isNull(g,ie.RIGHT),"depth of RIGHT side has not been initialized"),c.setLocation(g,ie.RIGHT,h.getLocation(g,ie.RIGHT))))}}},r.prototype.computeLabelling=function(){for(var s=this._graph.getNodes().iterator();s.hasNext();)s.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},r.prototype.labelIncompleteNodes=function(){for(var s=this._graph.getNodes().iterator();s.hasNext();){var a=s.next(),c=a.getLabel();a.isIsolated()&&(c.isNull(0)?this.labelIncompleteNode(a,0):this.labelIncompleteNode(a,1)),a.getEdges().updateLabelling(c)}},r.prototype.isCoveredByA=function(s){return!!this.isCovered(s,this._resultPolyList)},r.prototype.interfaces_=function(){return[]},r.prototype.getClass=function(){return r},r}(gd);$e.overlayOp=function(t,r,s){return new $e(t,r).getResultGeometry(s)},$e.intersection=function(t,r){if(t.isEmpty()||r.isEmpty())return $e.createEmptyResult($e.INTERSECTION,t,r,t.getFactory());if(t.isGeometryCollection()){var s=r;return Hu.map(t,{interfaces_:function(){return[Ac.MapOp]},map:function(a){return a.intersection(s)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(r),Dn.overlayOp(t,r,$e.INTERSECTION)},$e.symDifference=function(t,r){if(t.isEmpty()||r.isEmpty()){if(t.isEmpty()&&r.isEmpty())return $e.createEmptyResult($e.SYMDIFFERENCE,t,r,t.getFactory());if(t.isEmpty())return r.copy();if(r.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(r),Dn.overlayOp(t,r,$e.SYMDIFFERENCE)},$e.resultDimension=function(t,r,s){var a=r.getDimension(),c=s.getDimension(),h=-1;switch(t){case $e.INTERSECTION:h=Math.min(a,c);break;case $e.UNION:h=Math.max(a,c);break;case $e.DIFFERENCE:h=a;break;case $e.SYMDIFFERENCE:h=Math.max(a,c)}return h},$e.createEmptyResult=function(t,r,s,a){var c=null;switch($e.resultDimension(t,r,s)){case-1:c=a.createGeometryCollection(new Array(0).fill(null));break;case 0:c=a.createPoint();break;case 1:c=a.createLineString();break;case 2:c=a.createPolygon()}return c},$e.difference=function(t,r){return t.isEmpty()?$e.createEmptyResult($e.DIFFERENCE,t,r,t.getFactory()):r.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(r),Dn.overlayOp(t,r,$e.DIFFERENCE))},$e.isResultOfOp=function(){if(arguments.length===2){var t=arguments[0],r=arguments[1],s=t.getLocation(0),a=t.getLocation(1);return $e.isResultOfOp(s,a,r)}if(arguments.length===3){var c=arguments[0],h=arguments[1],g=arguments[2];switch(c===At.BOUNDARY&&(c=At.INTERIOR),h===At.BOUNDARY&&(h=At.INTERIOR),g){case $e.INTERSECTION:return c===At.INTERIOR&&h===At.INTERIOR;case $e.UNION:return c===At.INTERIOR||h===At.INTERIOR;case $e.DIFFERENCE:return c===At.INTERIOR&&h!==At.INTERIOR;case $e.SYMDIFFERENCE:return c===At.INTERIOR&&h!==At.INTERIOR||c!==At.INTERIOR&&h===At.INTERIOR}return!1}},$e.INTERSECTION=1,$e.UNION=2,$e.DIFFERENCE=3,$e.SYMDIFFERENCE=4;var Fl=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new ns,this._seg=new ze;var t=arguments[0],r=arguments[1];this._g=t,this._boundaryDistanceTolerance=r,this._linework=this.extractLinework(t)};Fl.prototype.isWithinToleranceOfBoundary=function(t){for(var r=this,s=0;s<this._linework.getNumGeometries();s++)for(var a=r._linework.getGeometryN(s).getCoordinateSequence(),c=0;c<a.size()-1;c++)if(a.getCoordinate(c,r._seg.p0),a.getCoordinate(c+1,r._seg.p1),r._seg.distance(t)<=r._boundaryDistanceTolerance)return!0;return!1},Fl.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?At.BOUNDARY:this._ptLocator.locate(t,this._g)},Fl.prototype.extractLinework=function(t){var r=new md;t.apply(r);var s=r.getLinework(),a=cr.toLineStringArray(s);return t.getFactory().createMultiLineString(a)},Fl.prototype.interfaces_=function(){return[]},Fl.prototype.getClass=function(){return Fl};var md=function(){this._linework=null,this._linework=new ce};md.prototype.getLinework=function(){return this._linework},md.prototype.filter=function(t){if(t instanceof Ui){var r=t;this._linework.add(r.getExteriorRing());for(var s=0;s<r.getNumInteriorRing();s++)this._linework.add(r.getInteriorRingN(s))}},md.prototype.interfaces_=function(){return[Es]},md.prototype.getClass=function(){return md};var zc=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};zc.prototype.extractPoints=function(t,r,s){for(var a=t.getCoordinates(),c=0;c<a.length-1;c++)this.computeOffsetPoints(a[c],a[c+1],r,s)},zc.prototype.setSidesToGenerate=function(t,r){this._doLeft=t,this._doRight=r},zc.prototype.getPoints=function(t){for(var r=new ce,s=pn.getLines(this._g).iterator();s.hasNext();){var a=s.next();this.extractPoints(a,t,r)}return r},zc.prototype.computeOffsetPoints=function(t,r,s,a){var c=r.x-t.x,h=r.y-t.y,g=Math.sqrt(c*c+h*h),v=s*c/g,w=s*h/g,x=(r.x+t.x)/2,T=(r.y+t.y)/2;if(this._doLeft){var k=new Ct(x-w,T+v);a.add(k)}if(this._doRight){var P=new Ct(x+w,T-v);a.add(P)}},zc.prototype.interfaces_=function(){return[]},zc.prototype.getClass=function(){return zc};var bo=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new ce;var r=arguments[0],s=arguments[1],a=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(r,s),this._geom=[r,s,a],this._locFinder=[new Fl(this._geom[0],this._boundaryDistanceTolerance),new Fl(this._geom[1],this._boundaryDistanceTolerance),new Fl(this._geom[2],this._boundaryDistanceTolerance)]},sk={TOLERANCE:{configurable:!0}};bo.prototype.reportResult=function(t,r,s){un.out.println("Overlay result invalid - A:"+At.toLocationSymbol(r[0])+" B:"+At.toLocationSymbol(r[1])+" expected:"+(s?"i":"e")+" actual:"+At.toLocationSymbol(r[2]))},bo.prototype.isValid=function(t){this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]);var r=this.checkValid(t);return r},bo.prototype.checkValid=function(){var t=this;if(arguments.length===1){for(var r=arguments[0],s=0;s<this._testCoords.size();s++){var a=t._testCoords.get(s);if(!t.checkValid(r,a))return t._invalidLocation=a,!1}return!0}if(arguments.length===2){var c=arguments[0],h=arguments[1];return this._location[0]=this._locFinder[0].getLocation(h),this._location[1]=this._locFinder[1].getLocation(h),this._location[2]=this._locFinder[2].getLocation(h),!!bo.hasLocation(this._location,At.BOUNDARY)||this.isValidResult(c,this._location)}},bo.prototype.addTestPts=function(t){var r=new zc(t);this._testCoords.addAll(r.getPoints(5*this._boundaryDistanceTolerance))},bo.prototype.isValidResult=function(t,r){var s=$e.isResultOfOp(r[0],r[1],t),a=!(s^r[2]===At.INTERIOR);return a||this.reportResult(t,r,s),a},bo.prototype.getInvalidLocation=function(){return this._invalidLocation},bo.prototype.interfaces_=function(){return[]},bo.prototype.getClass=function(){return bo},bo.hasLocation=function(t,r){for(var s=0;s<3;s++)if(t[s]===r)return!0;return!1},bo.computeBoundaryDistanceTolerance=function(t,r){return Math.min(Ai.computeSizeBasedSnapTolerance(t),Ai.computeSizeBasedSnapTolerance(r))},bo.isValid=function(t,r,s,a){return new bo(t,r,a).isValid(s)},sk.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(bo,sk);var wo=function t(r){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(r),this._inputGeoms=r};wo.prototype.extractElements=function(t,r){if(t===null)return null;for(var s=0;s<t.getNumGeometries();s++){var a=t.getGeometryN(s);this._skipEmpty&&a.isEmpty()||r.add(a)}},wo.prototype.combine=function(){for(var t=new ce,r=this._inputGeoms.iterator();r.hasNext();){var s=r.next();this.extractElements(s,t)}return t.size()===0?this._geomFactory!==null?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},wo.prototype.interfaces_=function(){return[]},wo.prototype.getClass=function(){return wo},wo.combine=function(){if(arguments.length===1){var t=arguments[0],r=new wo(t);return r.combine()}if(arguments.length===2){var s=arguments[0],a=arguments[1],c=new wo(wo.createList(s,a));return c.combine()}if(arguments.length===3){var h=arguments[0],g=arguments[1],v=arguments[2],w=new wo(wo.createList(h,g,v));return w.combine()}},wo.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},wo.createList=function(){if(arguments.length===2){var t=arguments[0],r=arguments[1],s=new ce;return s.add(t),s.add(r),s}if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2],g=new ce;return g.add(a),g.add(c),g.add(h),g}};var Ni=function(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,this._inputPolys===null&&(this._inputPolys=new ce)},ak={STRTREE_NODE_CAPACITY:{configurable:!0}};Ni.prototype.reduceToGeometries=function(t){for(var r=new ce,s=t.iterator();s.hasNext();){var a=s.next(),c=null;Ge(a,Qo)?c=this.unionTree(a):a instanceof He&&(c=a),r.add(c)}return r},Ni.prototype.extractByEnvelope=function(t,r,s){for(var a=new ce,c=0;c<r.getNumGeometries();c++){var h=r.getGeometryN(c);h.getEnvelopeInternal().intersects(t)?a.add(h):s.add(h)}return this._geomFactory.buildGeometry(a)},Ni.prototype.unionOptimized=function(t,r){var s=t.getEnvelopeInternal(),a=r.getEnvelopeInternal();if(!s.intersects(a))return wo.combine(t,r);if(t.getNumGeometries()<=1&&r.getNumGeometries()<=1)return this.unionActual(t,r);var c=s.intersection(a);return this.unionUsingEnvelopeIntersection(t,r,c)},Ni.prototype.union=function(){if(this._inputPolys===null)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new q_(Ni.STRTREE_NODE_CAPACITY),r=this._inputPolys.iterator();r.hasNext();){var s=r.next();t.insert(s.getEnvelopeInternal(),s)}this._inputPolys=null;var a=t.itemsTree();return this.unionTree(a)},Ni.prototype.binaryUnion=function(){if(arguments.length===1){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(arguments.length===3){var r=arguments[0],s=arguments[1],a=arguments[2];if(a-s<=1){var c=Ni.getGeometry(r,s);return this.unionSafe(c,null)}if(a-s==2)return this.unionSafe(Ni.getGeometry(r,s),Ni.getGeometry(r,s+1));var h=Math.trunc((a+s)/2),g=this.binaryUnion(r,s,h),v=this.binaryUnion(r,h,a);return this.unionSafe(g,v)}},Ni.prototype.repeatedUnion=function(t){for(var r=null,s=t.iterator();s.hasNext();){var a=s.next();r=r===null?a.copy():r.union(a)}return r},Ni.prototype.unionSafe=function(t,r){return t===null&&r===null?null:t===null?r.copy():r===null?t.copy():this.unionOptimized(t,r)},Ni.prototype.unionActual=function(t,r){return Ni.restrictToPolygons(t.union(r))},Ni.prototype.unionTree=function(t){var r=this.reduceToGeometries(t);return this.binaryUnion(r)},Ni.prototype.unionUsingEnvelopeIntersection=function(t,r,s){var a=new ce,c=this.extractByEnvelope(s,t,a),h=this.extractByEnvelope(s,r,a),g=this.unionActual(c,h);return a.add(g),wo.combine(a)},Ni.prototype.bufferUnion=function(){if(arguments.length===1){var t=arguments[0],r=t.get(0).getFactory(),s=r.buildGeometry(t),a=s.buffer(0);return a}if(arguments.length===2){var c=arguments[0],h=arguments[1],g=c.getFactory(),v=g.createGeometryCollection([c,h]),w=v.buffer(0);return w}},Ni.prototype.interfaces_=function(){return[]},Ni.prototype.getClass=function(){return Ni},Ni.restrictToPolygons=function(t){if(Ge(t,Pl))return t;var r=Wa.getPolygons(t);return r.size()===1?r.get(0):t.getFactory().createMultiPolygon(cr.toPolygonArray(r))},Ni.getGeometry=function(t,r){return r>=t.size()?null:t.get(r)},Ni.union=function(t){return new Ni(t).union()},ak.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(Ni,ak);var Ym=function(){};function Oc(){return new Km}function Km(){this.reset()}Ym.prototype.interfaces_=function(){return[]},Ym.prototype.getClass=function(){return Ym},Ym.union=function(t,r){if(t.isEmpty()||r.isEmpty()){if(t.isEmpty()&&r.isEmpty())return $e.createEmptyResult($e.UNION,t,r,t.getFactory());if(t.isEmpty())return r.copy();if(r.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(r),Dn.overlayOp(t,r,$e.UNION)},Km.prototype={constructor:Km,reset:function(){this.s=this.t=0},add:function(t){lk(Jm,t,this.t),lk(this,Jm.s,this.s),this.s?this.t+=Jm.t:this.s=Jm.t},valueOf:function(){return this.s}};var Jm=new Km;function lk(t,r,s){var a=t.s=r+s,c=a-r,h=a-c;t.t=r-h+(s-c)}var Di=1e-6,ai=Math.PI,Za=ai/2,ck=ai/4,Xa=2*ai,Nc=180/ai,Ns=ai/180,Fn=Math.abs,GM=Math.atan,vd=Math.atan2,qi=Math.cos,Vi=Math.sin,vf=Math.sqrt;function uk(t){return t>1?0:t<-1?ai:Math.acos(t)}function yd(t){return t>1?Za:t<-1?-Za:Math.asin(t)}function yf(){}function Qm(t,r){t&&dk.hasOwnProperty(t.type)&&dk[t.type](t,r)}var hk={Feature:function(t,r){Qm(t.geometry,r)},FeatureCollection:function(t,r){for(var s=t.features,a=-1,c=s.length;++a<c;)Qm(s[a].geometry,r)}},dk={Sphere:function(t,r){r.sphere()},Point:function(t,r){t=t.coordinates,r.point(t[0],t[1],t[2])},MultiPoint:function(t,r){for(var s=t.coordinates,a=-1,c=s.length;++a<c;)t=s[a],r.point(t[0],t[1],t[2])},LineString:function(t,r){Pb(t.coordinates,r,0)},MultiLineString:function(t,r){for(var s=t.coordinates,a=-1,c=s.length;++a<c;)Pb(s[a],r,0)},Polygon:function(t,r){pk(t.coordinates,r)},MultiPolygon:function(t,r){for(var s=t.coordinates,a=-1,c=s.length;++a<c;)pk(s[a],r)},GeometryCollection:function(t,r){for(var s=t.geometries,a=-1,c=s.length;++a<c;)Qm(s[a],r)}};function Pb(t,r,s){var a,c=-1,h=t.length-s;for(r.lineStart();++c<h;)a=t[c],r.point(a[0],a[1],a[2]);r.lineEnd()}function pk(t,r){var s=-1,a=t.length;for(r.polygonStart();++s<a;)Pb(t[s],r,1);r.polygonEnd()}Oc(),Oc();function Mb(t){return[vd(t[1],t[0]),yd(t[2])]}function bd(t){var r=t[0],s=t[1],a=qi(s);return[a*qi(r),a*Vi(r),Vi(s)]}function $m(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}function tv(t,r){return[t[1]*r[2]-t[2]*r[1],t[2]*r[0]-t[0]*r[2],t[0]*r[1]-t[1]*r[0]]}function Ib(t,r){t[0]+=r[0],t[1]+=r[1],t[2]+=r[2]}function ev(t,r){return[t[0]*r,t[1]*r,t[2]*r]}function Lb(t){var r=vf(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=r,t[1]/=r,t[2]/=r}Oc();function fk(t,r){function s(a,c){return a=t(a,c),r(a[0],a[1])}return t.invert&&r.invert&&(s.invert=function(a,c){return(a=r.invert(a,c))&&t.invert(a[0],a[1])}),s}function Rb(t,r){return[t>ai?t-Xa:t<-ai?t+Xa:t,r]}function gk(t){return function(r,s){return[(r+=t)>ai?r-Xa:r<-ai?r+Xa:r,s]}}function mk(t){var r=gk(t);return r.invert=gk(-t),r}function vk(t,r){var s=qi(t),a=Vi(t),c=qi(r),h=Vi(r);function g(v,w){var x=qi(w),T=qi(v)*x,k=Vi(v)*x,P=Vi(w),O=P*s+T*a;return[vd(k*c-O*h,T*s-P*a),yd(O*c+k*h)]}return g.invert=function(v,w){var x=qi(w),T=qi(v)*x,k=Vi(v)*x,P=Vi(w),O=P*c-k*h;return[vd(k*c+P*h,T*s+O*a),yd(O*s-T*a)]},g}function yk(t,r){(r=bd(r))[0]-=t,Lb(r);var s=uk(-r[1]);return((-r[2]<0?-s:s)+Xa-Di)%Xa}function bk(){var t,r=[];return{point:function(s,a){t.push([s,a])},lineStart:function(){r.push(t=[])},lineEnd:yf,rejoin:function(){r.length>1&&r.push(r.pop().concat(r.shift()))},result:function(){var s=r;return r=[],t=null,s}}}function rv(t,r){return Fn(t[0]-r[0])<Di&&Fn(t[1]-r[1])<Di}function iv(t,r,s,a){this.x=t,this.z=r,this.o=s,this.e=a,this.v=!1,this.n=this.p=null}function wk(t,r,s,a,c){var h,g,v=[],w=[];if(t.forEach(function(N){if(!((F=N.length-1)<=0)){var F,M,W=N[0],it=N[F];if(rv(W,it)){for(c.lineStart(),h=0;h<F;++h)c.point((W=N[h])[0],W[1]);c.lineEnd()}else v.push(M=new iv(W,N,null,!0)),w.push(M.o=new iv(W,null,M,!1)),v.push(M=new iv(it,N,null,!1)),w.push(M.o=new iv(it,null,M,!0))}}),v.length){for(w.sort(r),xk(v),xk(w),h=0,g=w.length;h<g;++h)w[h].e=s=!s;for(var x,T,k=v[0];;){for(var P=k,O=!0;P.v;)if((P=P.n)===k)return;x=P.z,c.lineStart();do{if(P.v=P.o.v=!0,P.e){if(O)for(h=0,g=x.length;h<g;++h)c.point((T=x[h])[0],T[1]);else a(P.x,P.n.x,1,c);P=P.n}else{if(O)for(x=P.p.z,h=x.length-1;h>=0;--h)c.point((T=x[h])[0],T[1]);else a(P.x,P.p.x,-1,c);P=P.p}x=(P=P.o).z,O=!O}while(!P.v);c.lineEnd()}}}function xk(t){if(r=t.length){for(var r,s,a=0,c=t[0];++a<r;)c.n=s=t[a],s.p=c,c=s;c.n=s=t[0],s.p=c}}function _k(t,r){return t<r?-1:t>r?1:t>=r?0:NaN}Rb.invert=Rb;var Ab,kk;(Ab=_k).length===1&&(kk=Ab,Ab=function(t,r){return _k(kk(t),r)});function Ek(t){for(var r,s,a,c=t.length,h=-1,g=0;++h<c;)g+=t[h].length;for(s=new Array(g);--c>=0;)for(r=(a=t[c]).length;--r>=0;)s[--g]=a[r];return s}var bf=1e9,nv=-bf;function qM(t,r,s,a){function c(x,T){return t<=x&&x<=s&&r<=T&&T<=a}function h(x,T,k,P){var O=0,N=0;if(x==null||(O=g(x,k))!==(N=g(T,k))||w(x,T)<0^k>0)do P.point(O===0||O===3?t:s,O>1?a:r);while((O=(O+k+4)%4)!==N);else P.point(T[0],T[1])}function g(x,T){return Fn(x[0]-t)<Di?T>0?0:3:Fn(x[0]-s)<Di?T>0?2:1:Fn(x[1]-r)<Di?T>0?1:0:T>0?3:2}function v(x,T){return w(x.x,T.x)}function w(x,T){var k=g(x,1),P=g(T,1);return k!==P?k-P:k===0?T[1]-x[1]:k===1?x[0]-T[0]:k===2?x[1]-T[1]:T[0]-x[0]}return function(x){var T,k,P,O,N,F,M,W,it,D,q,Y=x,tt=bk(),J={point:Rt,lineStart:function(){J.point=Et,k&&k.push(P=[]),D=!0,it=!1,M=W=NaN},lineEnd:function(){T&&(Et(O,N),F&&it&&tt.rejoin(),T.push(tt.result())),J.point=Rt,it&&Y.lineEnd()},polygonStart:function(){Y=tt,T=[],k=[],q=!0},polygonEnd:function(){var Nt=function(){for(var Mt=0,Pt=0,St=k.length;Pt<St;++Pt)for(var Dt,It,Ut=k[Pt],gt=1,Ie=Ut.length,oe=Ut[0],rr=oe[0],we=oe[1];gt<Ie;++gt)Dt=rr,It=we,rr=(oe=Ut[gt])[0],we=oe[1],It<=a?we>a&&(rr-Dt)*(a-It)>(we-It)*(t-Dt)&&++Mt:we<=a&&(rr-Dt)*(a-It)<(we-It)*(t-Dt)&&--Mt;return Mt}(),Tt=q&&Nt,jt=(T=Ek(T)).length;(Tt||jt)&&(x.polygonStart(),Tt&&(x.lineStart(),h(null,null,1,x),x.lineEnd()),jt&&wk(T,v,Nt,h,x),x.polygonEnd()),Y=x,T=k=P=null}};function Rt(Nt,Tt){c(Nt,Tt)&&Y.point(Nt,Tt)}function Et(Nt,Tt){var jt=c(Nt,Tt);if(k&&P.push([Nt,Tt]),D)O=Nt,N=Tt,F=jt,D=!1,jt&&(Y.lineStart(),Y.point(Nt,Tt));else if(jt&&it)Y.point(Nt,Tt);else{var Mt=[M=Math.max(nv,Math.min(bf,M)),W=Math.max(nv,Math.min(bf,W))],Pt=[Nt=Math.max(nv,Math.min(bf,Nt)),Tt=Math.max(nv,Math.min(bf,Tt))];(function(St,Dt,It,Ut,gt,Ie){var oe,rr=St[0],we=St[1],Ue=0,pr=1,oi=Dt[0]-rr,vn=Dt[1]-we;if(oe=It-rr,oi||!(oe>0)){if(oe/=oi,oi<0){if(oe<Ue)return;oe<pr&&(pr=oe)}else if(oi>0){if(oe>pr)return;oe>Ue&&(Ue=oe)}if(oe=gt-rr,oi||!(oe<0)){if(oe/=oi,oi<0){if(oe>pr)return;oe>Ue&&(Ue=oe)}else if(oi>0){if(oe<Ue)return;oe<pr&&(pr=oe)}if(oe=Ut-we,vn||!(oe>0)){if(oe/=vn,vn<0){if(oe<Ue)return;oe<pr&&(pr=oe)}else if(vn>0){if(oe>pr)return;oe>Ue&&(Ue=oe)}if(oe=Ie-we,vn||!(oe<0)){if(oe/=vn,vn<0){if(oe>pr)return;oe>Ue&&(Ue=oe)}else if(vn>0){if(oe<Ue)return;oe<pr&&(pr=oe)}return Ue>0&&(St[0]=rr+Ue*oi,St[1]=we+Ue*vn),pr<1&&(Dt[0]=rr+pr*oi,Dt[1]=we+pr*vn),!0}}}}})(Mt,Pt,t,r,s,a)?(it||(Y.lineStart(),Y.point(Mt[0],Mt[1])),Y.point(Pt[0],Pt[1]),jt||Y.lineEnd(),q=!1):jt&&(Y.lineStart(),Y.point(Nt,Tt),q=!1)}M=Nt,W=Tt,it=jt}return J}}var zb=Oc();Oc();function Tk(t){return t}Oc(),Oc();var wd=1/0,ov=wd,wf=-wd,sv=wf,Sk={point:function(t,r){t<wd&&(wd=t),t>wf&&(wf=t),r<ov&&(ov=r),r>sv&&(sv=r)},lineStart:yf,lineEnd:yf,polygonStart:yf,polygonEnd:yf,result:function(){var t=[[wd,ov],[wf,sv]];return wf=sv=-(ov=wd=1/0),t}};Oc();function Ck(t,r,s,a){return function(c,h){var g,v,w,x=r(h),T=c.invert(a[0],a[1]),k=bk(),P=r(k),O=!1,N={point:F,lineStart:W,lineEnd:it,polygonStart:function(){N.point=D,N.lineStart=q,N.lineEnd=Y,v=[],g=[]},polygonEnd:function(){N.point=F,N.lineStart=W,N.lineEnd=it,v=Ek(v);var tt=function(J,Rt){var Et=Rt[0],Nt=Rt[1],Tt=[Vi(Et),-qi(Et),0],jt=0,Mt=0;zb.reset();for(var Pt=0,St=J.length;Pt<St;++Pt)if(It=(Dt=J[Pt]).length)for(var Dt,It,Ut=Dt[It-1],gt=Ut[0],Ie=Ut[1]/2+ck,oe=Vi(Ie),rr=qi(Ie),we=0;we<It;++we,gt=pr,oe=vn,rr=lv,Ut=Ue){var Ue=Dt[we],pr=Ue[0],oi=Ue[1]/2+ck,vn=Vi(oi),lv=qi(oi),Dc=pr-gt,_f=Dc>=0?1:-1,kf=_f*Dc,xd=kf>ai,cv=oe*vn;if(zb.add(vd(cv*_f*Vi(kf),rr*lv+cv*qi(kf))),jt+=xd?Dc+_f*Xa:Dc,xd^gt>=Et^pr>=Et){var _d=tv(bd(Ut),bd(Ue));Lb(_d);var jk=tv(Tt,_d);Lb(jk);var Hk=(xd^Dc>=0?-1:1)*yd(jk[2]);(Nt>Hk||Nt===Hk&&(_d[0]||_d[1]))&&(Mt+=xd^Dc>=0?1:-1)}}return(jt<-1e-6||jt<Di&&zb<-1e-6)^1&Mt}(g,T);v.length?(O||(h.polygonStart(),O=!0),wk(v,WM,tt,s,h)):tt&&(O||(h.polygonStart(),O=!0),h.lineStart(),s(null,null,1,h),h.lineEnd()),O&&(h.polygonEnd(),O=!1),v=g=null},sphere:function(){h.polygonStart(),h.lineStart(),s(null,null,1,h),h.lineEnd(),h.polygonEnd()}};function F(tt,J){var Rt=c(tt,J);t(tt=Rt[0],J=Rt[1])&&h.point(tt,J)}function M(tt,J){var Rt=c(tt,J);x.point(Rt[0],Rt[1])}function W(){N.point=M,x.lineStart()}function it(){N.point=F,x.lineEnd()}function D(tt,J){w.push([tt,J]);var Rt=c(tt,J);P.point(Rt[0],Rt[1])}function q(){P.lineStart(),w=[]}function Y(){D(w[0][0],w[0][1]),P.lineEnd();var tt,J,Rt,Et,Nt=P.clean(),Tt=k.result(),jt=Tt.length;if(w.pop(),g.push(w),w=null,jt)if(1&Nt){if((J=(Rt=Tt[0]).length-1)>0){for(O||(h.polygonStart(),O=!0),h.lineStart(),tt=0;tt<J;++tt)h.point((Et=Rt[tt])[0],Et[1]);h.lineEnd()}}else jt>1&&2&Nt&&Tt.push(Tt.pop().concat(Tt.shift())),v.push(Tt.filter(VM))}return N}}function VM(t){return t.length>1}function WM(t,r){return((t=t.x)[0]<0?t[1]-Za-Di:Za-t[1])-((r=r.x)[0]<0?r[1]-Za-Di:Za-r[1])}var Pk=Ck(function(){return!0},function(t){var r,s=NaN,a=NaN,c=NaN;return{lineStart:function(){t.lineStart(),r=1},point:function(h,g){var v=h>0?ai:-ai,w=Fn(h-s);Fn(w-ai)<Di?(t.point(s,a=(a+g)/2>0?Za:-Za),t.point(c,a),t.lineEnd(),t.lineStart(),t.point(v,a),t.point(h,a),r=0):c!==v&&w>=ai&&(Fn(s-c)<Di&&(s-=c*Di),Fn(h-v)<Di&&(h-=v*Di),a=function(x,T,k,P){var O,N,F=Vi(x-k);return Fn(F)>Di?GM((Vi(T)*(N=qi(P))*Vi(k)-Vi(P)*(O=qi(T))*Vi(x))/(O*N*F)):(T+P)/2}(s,a,h,g),t.point(c,a),t.lineEnd(),t.lineStart(),t.point(v,a),r=0),t.point(s=h,a=g),c=v},lineEnd:function(){t.lineEnd(),s=a=NaN},clean:function(){return 2-r}}},function(t,r,s,a){var c;if(t==null)c=s*Za,a.point(-ai,c),a.point(0,c),a.point(ai,c),a.point(ai,0),a.point(ai,-c),a.point(0,-c),a.point(-ai,-c),a.point(-ai,0),a.point(-ai,c);else if(Fn(t[0]-r[0])>Di){var h=t[0]<r[0]?ai:-ai;c=s*h/2,a.point(-h,c),a.point(0,c),a.point(h,c)}else a.point(r[0],r[1])},[-ai,-Za]);function ZM(t,r){var s=qi(t),a=s>0,c=Fn(s)>Di;function h(w,x){return qi(w)*qi(x)>s}function g(w,x,T){var k=[1,0,0],P=tv(bd(w),bd(x)),O=$m(P,P),N=P[0],F=O-N*N;if(!F)return!T&&w;var M=s*O/F,W=-s*N/F,it=tv(k,P),D=ev(k,M);Ib(D,ev(P,W));var q=it,Y=$m(D,q),tt=$m(q,q),J=Y*Y-tt*($m(D,D)-1);if(!(J<0)){var Rt=vf(J),Et=ev(q,(-Y-Rt)/tt);if(Ib(Et,D),Et=Mb(Et),!T)return Et;var Nt,Tt=w[0],jt=x[0],Mt=w[1],Pt=x[1];jt<Tt&&(Nt=Tt,Tt=jt,jt=Nt);var St=jt-Tt,Dt=Fn(St-ai)<Di;if(!Dt&&Pt<Mt&&(Nt=Mt,Mt=Pt,Pt=Nt),Dt||St<Di?Dt?Mt+Pt>0^Et[1]<(Fn(Et[0]-Tt)<Di?Mt:Pt):Mt<=Et[1]&&Et[1]<=Pt:St>ai^(Tt<=Et[0]&&Et[0]<=jt)){var It=ev(q,(-Y+Rt)/tt);return Ib(It,D),[Et,Mb(It)]}}}function v(w,x){var T=a?t:ai-t,k=0;return w<-T?k|=1:w>T&&(k|=2),x<-T?k|=4:x>T&&(k|=8),k}return Ck(h,function(w){var x,T,k,P,O;return{lineStart:function(){P=k=!1,O=1},point:function(N,F){var M,W=[N,F],it=h(N,F),D=a?it?0:v(N,F):it?v(N+(N<0?ai:-ai),F):0;if(!x&&(P=k=it)&&w.lineStart(),it!==k&&(!(M=g(x,W))||rv(x,M)||rv(W,M))&&(W[0]+=Di,W[1]+=Di,it=h(W[0],W[1])),it!==k)O=0,it?(w.lineStart(),M=g(W,x),w.point(M[0],M[1])):(M=g(x,W),w.point(M[0],M[1]),w.lineEnd()),x=M;else if(c&&x&&a^it){var q;D&T||!(q=g(W,x,!0))||(O=0,a?(w.lineStart(),w.point(q[0][0],q[0][1]),w.point(q[1][0],q[1][1]),w.lineEnd()):(w.point(q[1][0],q[1][1]),w.lineEnd(),w.lineStart(),w.point(q[0][0],q[0][1])))}!it||x&&rv(x,W)||w.point(W[0],W[1]),x=W,k=it,T=D},lineEnd:function(){k&&w.lineEnd(),x=null},clean:function(){return O|(P&&k)<<1}}},function(w,x,T,k){(function(P,O,N,F,M,W){if(N){var it=qi(O),D=Vi(O),q=F*N;M==null?(M=O+F*Xa,W=O-q/2):(M=yk(it,M),W=yk(it,W),(F>0?M<W:M>W)&&(M+=F*Xa));for(var Y,tt=M;F>0?tt>W:tt<W;tt-=q)Y=Mb([it,-D*qi(tt),-D*Vi(tt)]),P.point(Y[0],Y[1])}})(k,t,r,T,w,x)},a?[0,-t]:[-ai,t-ai])}function Mk(t){return function(r){var s=new Ob;for(var a in t)s[a]=t[a];return s.stream=r,s}}function Ob(){}function Ik(t,r,s){var a=r[1][0]-r[0][0],c=r[1][1]-r[0][1],h=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),h!=null&&t.clipExtent(null),function(T,k){T&&hk.hasOwnProperty(T.type)?hk[T.type](T,k):Qm(T,k)}(s,t.stream(Sk));var g=Sk.result(),v=Math.min(a/(g[1][0]-g[0][0]),c/(g[1][1]-g[0][1])),w=+r[0][0]+(a-v*(g[1][0]+g[0][0]))/2,x=+r[0][1]+(c-v*(g[1][1]+g[0][1]))/2;return h!=null&&t.clipExtent(h),t.scale(150*v).translate([w,x])}Ob.prototype={constructor:Ob,point:function(t,r){this.stream.point(t,r)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var XM=qi(30*Ns);function Lk(t,r){return+r?function(s,a){function c(h,g,v,w,x,T,k,P,O,N,F,M,W,it){var D=k-h,q=P-g,Y=D*D+q*q;if(Y>4*a&&W--){var tt=w+N,J=x+F,Rt=T+M,Et=vf(tt*tt+J*J+Rt*Rt),Nt=yd(Rt/=Et),Tt=Fn(Fn(Rt)-1)<Di||Fn(v-O)<Di?(v+O)/2:vd(J,tt),jt=s(Tt,Nt),Mt=jt[0],Pt=jt[1],St=Mt-h,Dt=Pt-g,It=q*St-D*Dt;(It*It/Y>a||Fn((D*St+q*Dt)/Y-.5)>.3||w*N+x*F+T*M<XM)&&(c(h,g,v,w,x,T,Mt,Pt,Tt,tt/=Et,J/=Et,Rt,W,it),it.point(Mt,Pt),c(Mt,Pt,Tt,tt,J,Rt,k,P,O,N,F,M,W,it))}}return function(h){var g,v,w,x,T,k,P,O,N,F,M,W,it={point:D,lineStart:q,lineEnd:tt,polygonStart:function(){h.polygonStart(),it.lineStart=J},polygonEnd:function(){h.polygonEnd(),it.lineStart=q}};function D(Nt,Tt){Nt=s(Nt,Tt),h.point(Nt[0],Nt[1])}function q(){O=NaN,it.point=Y,h.lineStart()}function Y(Nt,Tt){var jt=bd([Nt,Tt]),Mt=s(Nt,Tt);c(O,N,P,F,M,W,O=Mt[0],N=Mt[1],P=Nt,F=jt[0],M=jt[1],W=jt[2],16,h),h.point(O,N)}function tt(){it.point=D,h.lineEnd()}function J(){q(),it.point=Rt,it.lineEnd=Et}function Rt(Nt,Tt){Y(g=Nt,Tt),v=O,w=N,x=F,T=M,k=W,it.point=Y}function Et(){c(O,N,P,F,M,W,v,w,g,x,T,k,16,h),it.lineEnd=tt,tt()}return it}}(t,r):function(s){return Mk({point:function(a,c){a=s(a,c),this.stream.point(a[0],a[1])}})}(t)}var YM=Mk({point:function(t,r){this.stream.point(t*Ns,r*Ns)}});function KM(t){return function(r){var s,a,c,h,g,v,w,x,T,k,P=150,O=480,N=250,F=0,M=0,W=0,it=0,D=0,q=null,Y=Pk,tt=null,J=Tk,Rt=.5,Et=Lk(jt,Rt);function Nt(St){return[(St=g(St[0]*Ns,St[1]*Ns))[0]*P+a,c-St[1]*P]}function Tt(St){return(St=g.invert((St[0]-a)/P,(c-St[1])/P))&&[St[0]*Nc,St[1]*Nc]}function jt(St,Dt){return[(St=s(St,Dt))[0]*P+a,c-St[1]*P]}function Mt(){g=fk(h=function(Dt,It,Ut){return(Dt%=Xa)?It||Ut?fk(mk(Dt),vk(It,Ut)):mk(Dt):It||Ut?vk(It,Ut):Rb}(W,it,D),s);var St=s(F,M);return a=O-St[0]*P,c=N+St[1]*P,Pt()}function Pt(){return T=k=null,Nt}return Nt.stream=function(St){return T&&k===St?T:T=YM(Y(h,Et(J(k=St))))},Nt.clipAngle=function(St){return arguments.length?(Y=+St?ZM(q=St*Ns,6*Ns):(q=null,Pk),Pt()):q*Nc},Nt.clipExtent=function(St){return arguments.length?(J=St==null?(tt=v=w=x=null,Tk):qM(tt=+St[0][0],v=+St[0][1],w=+St[1][0],x=+St[1][1]),Pt()):tt==null?null:[[tt,v],[w,x]]},Nt.scale=function(St){return arguments.length?(P=+St,Mt()):P},Nt.translate=function(St){return arguments.length?(O=+St[0],N=+St[1],Mt()):[O,N]},Nt.center=function(St){return arguments.length?(F=St[0]%360*Ns,M=St[1]%360*Ns,Mt()):[F*Nc,M*Nc]},Nt.rotate=function(St){return arguments.length?(W=St[0]%360*Ns,it=St[1]%360*Ns,D=St.length>2?St[2]%360*Ns:0,Mt()):[W*Nc,it*Nc,D*Nc]},Nt.precision=function(St){return arguments.length?(Et=Lk(jt,Rt=St*St),Pt()):vf(Rt)},Nt.fitExtent=function(St,Dt){return Ik(Nt,St,Dt)},Nt.fitSize=function(St,Dt){return function(It,Ut,gt){return Ik(It,[[0,0],Ut],gt)}(Nt,St,Dt)},function(){return s=r.apply(this,arguments),Nt.invert=s.invert&&Tt,Mt()}}(function(){return t})()}var Rk=function(t){return function(r,s){var a=qi(r),c=qi(s),h=t(a*c);return[h*c*Vi(r),h*Vi(s)]}}(function(t){return(t=uk(t))&&t/Vi(t)});function JM(){return KM(Rk).scale(79.4188).clipAngle(179.999)}function av(t,r,s,a){var c=t.properties||{},h=t.type==="Feature"?t.geometry:t;if(h.type==="GeometryCollection"){var g=[];return ee(t,function(P){var O=av(P,r,s,a);O&&g.push(O)}),I(g)}var v=function(P){var O=Zo(P).geometry.coordinates,N=[-O[0],-O[1]];return JM().rotate(N).scale(i)}(h),w={type:h.type,coordinates:zk(h.coordinates,v)},x=new yb().read(w),T=j(V(r,s),"meters"),k=dn.bufferOp(x,T,a);if(!Ak((k=new U_().write(k)).coordinates))return u({type:k.type,coordinates:Ok(k.coordinates,v)},c)}function Ak(t){return Array.isArray(t[0])?Ak(t[0]):isNaN(t[0])}function zk(t,r){return typeof t[0]!="object"?r(t):t.map(function(s){return zk(s,r)})}function Ok(t,r){return typeof t[0]!="object"?r.invert(t):t.map(function(s){return Ok(s,r)})}function xf(t,r,s){s===void 0&&(s={});var a=xt(t),c=xt(r),h=Sl.intersection(a.coordinates,c.coordinates);return h.length===0?null:h.length===1?y(h[0],s.properties):G(h,s.properties)}function Nk(t,r,s){s===void 0&&(s={});var a=JSON.stringify(s.properties||{}),c=t[0],h=t[1],g=t[2],v=t[3],w=(h+v)/2,x=(c+g)/2,T=2*r/nr([c,w],[g,w],s)*(g-c),k=2*r/nr([x,h],[x,v],s)*(v-h),P=T/2,O=2*P,N=Math.sqrt(3)/2*k,F=g-c,M=v-h,W=3/4*O,it=N,D=(F-O)/(O-P/2),q=Math.floor(D),Y=(q*W-P/2-F)/2-P/2+W/2,tt=Math.floor((M-N)/N),J=(M-tt*N)/2,Rt=tt*N-M>N/2;Rt&&(J-=N/4);for(var Et=[],Nt=[],Tt=0;Tt<6;Tt++){var jt=2*Math.PI/6*Tt;Et.push(Math.cos(jt)),Nt.push(Math.sin(jt))}for(var Mt=[],Pt=0;Pt<=q;Pt++)for(var St=0;St<=tt;St++){var Dt=Pt%2==1;if((St!==0||!Dt)&&(St!==0||!Rt)){var It=Pt*W+c-Y,Ut=St*it+h+J;if(Dt&&(Ut-=N/2),s.triangles===!0)$M([It,Ut],T/2,k/2,JSON.parse(a),Et,Nt).forEach(function(Ie){s.mask?xf(s.mask,Ie)&&Mt.push(Ie):Mt.push(Ie)});else{var gt=QM([It,Ut],T/2,k/2,JSON.parse(a),Et,Nt);s.mask?xf(s.mask,gt)&&Mt.push(gt):Mt.push(gt)}}}return I(Mt)}function QM(t,r,s,a,c,h){for(var g=[],v=0;v<6;v++){var w=t[0]+r*c[v],x=t[1]+s*h[v];g.push([w,x])}return g.push(g[0].slice()),y([g],a)}function $M(t,r,s,a,c,h){for(var g=[],v=0;v<6;v++){var w=[];w.push(t),w.push([t[0]+r*c[v],t[1]+s*h[v]]),w.push([t[0]+r*c[(v+1)%6],t[1]+s*h[(v+1)%6]]),w.push(t),g.push(y([w],a))}return g}function Dk(t){return G(t)}function tI(t){return y(t&&t.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]])}function Fk(t,r,s){return s===void 0&&(s={}),function(a,c,h,g){g===void 0&&(g={});for(var v=[],w=a[0],x=a[1],T=a[2],k=a[3],P=c/nr([w,x],[T,x],g)*(T-w),O=h/nr([w,x],[w,k],g)*(k-x),N=T-w,F=k-x,M=Math.floor(N/P),W=Math.floor(F/O),it=(F-W*O)/2,D=w+(N-M*P)/2,q=0;q<M;q++){for(var Y=x+it,tt=0;tt<W;tt++){var J=y([[[D,Y],[D,Y+O],[D+P,Y+O],[D+P,Y],[D,Y]]],g.properties);g.mask?Hx(g.mask,J)&&v.push(J):v.push(J),Y+=O}D+=P}return I(v)}(t,r,r,s)}function Bk(t,r,s){s===void 0&&(s={});for(var a=[],c=r/nr([t[0],t[1]],[t[2],t[1]],s)*(t[2]-t[0]),h=r/nr([t[0],t[1]],[t[0],t[3]],s)*(t[3]-t[1]),g=0,v=t[0];v<=t[2];){for(var w=0,x=t[1];x<=t[3];){var T=null,k=null;g%2==0&&w%2==0?(T=y([[[v,x],[v,x+h],[v+c,x],[v,x]]],s.properties),k=y([[[v,x+h],[v+c,x+h],[v+c,x],[v,x+h]]],s.properties)):g%2==0&&w%2==1?(T=y([[[v,x],[v+c,x+h],[v+c,x],[v,x]]],s.properties),k=y([[[v,x],[v,x+h],[v+c,x+h],[v,x]]],s.properties)):w%2==0&&g%2==1?(T=y([[[v,x],[v,x+h],[v+c,x+h],[v,x]]],s.properties),k=y([[[v,x],[v+c,x+h],[v+c,x],[v,x]]],s.properties)):w%2==1&&g%2==1&&(T=y([[[v,x],[v,x+h],[v+c,x],[v,x]]],s.properties),k=y([[[v,x+h],[v+c,x+h],[v+c,x],[v,x+h]]],s.properties)),s.mask?(xf(s.mask,T)&&a.push(T),xf(s.mask,k)&&a.push(k)):(a.push(T),a.push(k)),x+=h,w++}g++,v+=c}return I(a)}Rk.invert=function(t){return function(r,s){var a=vf(r*r+s*s),c=t(a),h=Vi(c),g=qi(c);return[vd(r*h,a*g),yd(a&&s*h/a)]}}(function(t){return t}),n.along=function(t,r,s){s===void 0&&(s={});for(var a=xt(t).coordinates,c=0,h=0;h<a.length&&!(r>=c&&h===a.length-1);h++){if(c>=r){var g=r-c;if(g){var v=gs(a[h],a[h-1])-180;return Ji(a[h],g,v,s)}return f(a[h])}c+=nr(a[h],a[h+1],s)}return f(a[a.length-1])},n.angle=function(t,r,s,a){if(a===void 0&&(a={}),!mt(a))throw new Error("options is invalid");if(!t)throw new Error("startPoint is required");if(!r)throw new Error("midPoint is required");if(!s)throw new Error("endPoint is required");var c=t,h=r,g=s,v=ft(a.mercator!==!0?gs(c,h):Tl(c,h)),w=ft(a.mercator!==!0?gs(g,h):Tl(g,h)),x=Math.abs(v-w);return a.explementary===!0?360-x:x},n.applyFilter=Im,n.area=Nh,n.areaFactors=l,n.bbox=vt,n.bboxClip=function(t,r){var s=xt(t),a=s.type,c=t.type==="Feature"?t.properties:{},h=s.coordinates;switch(a){case"LineString":case"MultiLineString":var g=[];return a==="LineString"&&(h=[h]),h.forEach(function(v){(function(w,x,T){var k,P,O,N,F,M=w.length,W=El(w[0],x),it=[];for(T||(T=[]),k=1;k<M;k++){for(N=w[k-1],P=O=El(F=w[k],x);;){if(!(W|P)){it.push(N),P!==O?(it.push(F),k<M-1&&(T.push(it),it=[])):k===M-1&&it.push(F);break}if(W&P)break;W?W=El(N=Dp(N,F,W,x),x):P=El(F=Dp(N,F,P,x),x)}W=O}it.length&&T.push(it)})(v,r,g)}),g.length===1?E(g[0],c):z(g,c);case"Polygon":return y(ji(h,r),c);case"MultiPolygon":return G(h.map(function(v){return ji(v,r)}),c);default:throw new Error("geometry "+a+" not supported")}},n.bboxPolygon=yp,n.bearing=gs,n.bearingToAngle=ft,n.bearingToAzimuth=ft,n.bezier=em,n.bezierSpline=em,n.booleanClockwise=_m,n.booleanContains=function(t,r){var s=xt(t),a=xt(r),c=s.type,h=a.type,g=s.coordinates,v=a.coordinates;switch(c){case"Point":switch(h){case"Point":return Xy(g,v);default:throw new Error("feature2 "+h+" geometry not supported")}case"MultiPoint":switch(h){case"Point":return function(w,x){var T,k=!1;for(T=0;T<w.coordinates.length;T++)if(Xy(w.coordinates[T],x.coordinates)){k=!0;break}return k}(s,a);case"MultiPoint":return function(w,x){for(var T=0,k=x.coordinates;T<k.length;T++){for(var P=k[T],O=!1,N=0,F=w.coordinates;N<F.length;N++)if(Xy(P,F[N])){O=!0;break}if(!O)return!1}return!0}(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}case"LineString":switch(h){case"Point":return Kn(a,s,{ignoreEndVertices:!0});case"LineString":return function(w,x){for(var T=!1,k=0,P=x.coordinates;k<P.length;k++){var O=P[k];if(Kn({type:"Point",coordinates:O},w,{ignoreEndVertices:!0})&&(T=!0),!Kn({type:"Point",coordinates:O},w,{ignoreEndVertices:!1}))return!1}return T}(s,a);case"MultiPoint":return function(w,x){for(var T=!1,k=0,P=x.coordinates;k<P.length;k++){var O=P[k];if(Kn(O,w,{ignoreEndVertices:!0})&&(T=!0),!Kn(O,w))return!1}return!!T}(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}case"Polygon":switch(h){case"Point":return Qe(a,s,{ignoreBoundary:!0});case"LineString":return function(w,x){var T=!1,k=0,P=vt(w),O=vt(x);if(!Ax(P,O))return!1;for(;k<x.coordinates.length-1;k++)if(Qe({type:"Point",coordinates:OP(x.coordinates[k],x.coordinates[k+1])},w,{ignoreBoundary:!0})){T=!0;break}return T}(s,a);case"Polygon":return function(w,x){if(w.type==="Feature"&&w.geometry===null||x.type==="Feature"&&x.geometry===null)return!1;var T=vt(w),k=vt(x);if(!Ax(T,k))return!1;for(var P=xt(x).coordinates,O=0,N=P;O<N.length;O++)for(var F=0,M=N[O];F<M.length;F++)if(!Qe(M[F],w))return!1;return!0}(s,a);case"MultiPoint":return function(w,x){for(var T=0,k=x.coordinates;T<k.length;T++)if(!Qe(k[T],w,{ignoreBoundary:!0}))return!1;return!0}(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}default:throw new Error("feature1 "+c+" geometry not supported")}},n.booleanCrosses=function(t,r){var s=xt(t),a=xt(r),c=s.type,h=a.type;switch(c){case"MultiPoint":switch(h){case"LineString":return zx(s,a);case"Polygon":return Nx(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}case"LineString":switch(h){case"MultiPoint":return zx(a,s);case"LineString":return function(g,v){if(cn(g,v).features.length>0)for(var w=0;w<g.coordinates.length-1;w++)for(var x=0;x<v.coordinates.length-1;x++){var T=!0;if(x!==0&&x!==v.coordinates.length-2||(T=!1),Dx(g.coordinates[w],g.coordinates[w+1],v.coordinates[x],T))return!0}return!1}(s,a);case"Polygon":return Ox(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}case"Polygon":switch(h){case"MultiPoint":return Nx(a,s);case"LineString":return Ox(a,s);default:throw new Error("feature2 "+h+" geometry not supported")}default:throw new Error("feature1 "+c+" geometry not supported")}},n.booleanDisjoint=Ix,n.booleanEqual=function(t,r){return xt(t).type===xt(r).type&&new jx({precision:6}).compare(Zs(t),Zs(r))},n.booleanIntersects=Hx,n.booleanOverlap=function(t,r){var s=xt(t),a=xt(r),c=s.type,h=a.type;if(c==="MultiPoint"&&h!=="MultiPoint"||(c==="LineString"||c==="MultiLineString")&&h!=="LineString"&&h!=="MultiLineString"||(c==="Polygon"||c==="MultiPolygon")&&h!=="Polygon"&&h!=="MultiPolygon")throw new Error("features must be of the same type");if(c==="Point")throw new Error("Point geometry not supported");if(new jx({precision:6}).compare(t,r))return!1;var g=0;switch(c){case"MultiPoint":for(var v=0;v<s.coordinates.length;v++)for(var w=0;w<a.coordinates.length;w++){var x=s.coordinates[v],T=a.coordinates[w];if(x[0]===T[0]&&x[1]===T[1])return!0}return!1;case"LineString":case"MultiLineString":tr(t,function(k){tr(r,function(P){xm(k,P).features.length&&g++})});break;case"Polygon":case"MultiPolygon":tr(t,function(k){tr(r,function(P){cn(k,P).features.length&&g++})})}return g>0},n.booleanParallel=function(t,r){if(!t)throw new Error("line1 is required");if(!r)throw new Error("line2 is required");if(Vx(t,"line1")!=="LineString")throw new Error("line1 must be a LineString");if(Vx(r,"line2")!=="LineString")throw new Error("line2 must be a LineString");for(var s=Hn(Zs(t)).features,a=Hn(Zs(r)).features,c=0;c<s.length;c++){var h=s[c].geometry.coordinates;if(!a[c])break;if(!ZP(h,a[c].geometry.coordinates))return!1}return!0},n.booleanPointInPolygon=Qe,n.booleanPointOnLine=Kn,n.booleanWithin=vc,n.buffer=function(t,r,s){var a=(s=s||{}).units||"kilometers",c=s.steps||8;if(!t)throw new Error("geojson is required");if(typeof s!="object")throw new Error("options must be an object");if(typeof c!="number")throw new Error("steps must be an number");if(r===void 0)throw new Error("radius is required");if(c<=0)throw new Error("steps must be greater than 0");var h=[];switch(t.type){case"GeometryCollection":return ee(t,function(g){var v=av(g,r,a,c);v&&h.push(v)}),I(h);case"FeatureCollection":return kt(t,function(g){var v=av(g,r,a,c);v&&kt(v,function(w){w&&h.push(w)})}),I(h)}return av(t,r,a,c)},n.center=Zo,n.centerMean=Qy,n.centerMedian=function(t,r){if(r===void 0&&(r={}),!mt(r=r||{}))throw new Error("options is invalid");var s=r.counter||10;if(!ut(s))throw new Error("counter must be a number");var a=r.weight,c=Qy(t,{weight:r.weight}),h=I([]);kt(t,function(v){var w;h.features.push(Xs(v,{properties:{weight:(w=v.properties)===null||w===void 0?void 0:w[a]}}))});var g={tolerance:r.tolerance,medianCandidates:[]};return i_(c.geometry.coordinates,[0,0],h,g,s)},n.centerOfMass=function t(r,s){switch(s===void 0&&(s={}),$t(r)){case"Point":return f(A(r),s.properties);case"Polygon":var a=[];Gt(r,function(q){a.push(q)});var c,h,g,v,w,x,T,k,P=Xs(r,{properties:s.properties}),O=P.geometry.coordinates,N=0,F=0,M=0,W=a.map(function(q){return[q[0]-O[0],q[1]-O[1]]});for(c=0;c<a.length-1;c++)v=(h=W[c])[0],x=h[1],w=(g=W[c+1])[0],M+=k=v*(T=g[1])-w*x,N+=(v+w)*k,F+=(x+T)*k;if(M===0)return P;var it=1/(6*(.5*M));return f([O[0]+it*N,O[1]+it*F],s.properties);default:var D=ur(r);return D?t(D,{properties:s.properties}):Xs(r,{properties:s.properties})}},n.centroid=Xs,n.circle=bp,n.cleanCoords=Zs,n.clone=Ci,n.clusterEach=$y,n.clusterReduce=y_,n.clusters=gM,n.clustersDbscan=function(t,r,s){s===void 0&&(s={}),s.mutate!==!0&&(t=Ci(t)),s.minPoints=s.minPoints||3;var a=new jP.DBSCAN,c=a.run(Wt(t),Z(r,s.units),s.minPoints,nr),h=-1;return c.forEach(function(g){h++,g.forEach(function(v){var w=t.features[v];w.properties||(w.properties={}),w.properties.cluster=h,w.properties.dbscan="core"})}),a.noise.forEach(function(g){var v=t.features[g];v.properties||(v.properties={}),v.properties.cluster?v.properties.dbscan="edge":v.properties.dbscan="noise"}),t},n.clustersKmeans=function(t,r){r===void 0&&(r={});var s=t.features.length;r.numberOfClusters=r.numberOfClusters||Math.round(Math.sqrt(s/2)),r.numberOfClusters>s&&(r.numberOfClusters=s),r.mutate!==!0&&(t=Ci(t));var a=Wt(t),c=a.slice(0,r.numberOfClusters),h=WP(a,r.numberOfClusters,c),g={};return h.centroids.forEach(function(v,w){g[w]=v}),kt(t,function(v,w){var x=h.idxs[w];v.properties.cluster=x,v.properties.centroid=g[x]}),t},n.collect=function(t,r,s,a){var c=Yi(6),h=r.features.map(function(g){var v;return{minX:g.geometry.coordinates[0],minY:g.geometry.coordinates[1],maxX:g.geometry.coordinates[0],maxY:g.geometry.coordinates[1],property:(v=g.properties)===null||v===void 0?void 0:v[s]}});return c.load(h),t.features.forEach(function(g){g.properties||(g.properties={});var v=vt(g),w=c.search({minX:v[0],minY:v[1],maxX:v[2],maxY:v[3]}),x=[];w.forEach(function(T){Qe([T.minX,T.minY],g)&&x.push(T.property)}),g.properties[a]=x}),t},n.collectionOf=Ot,n.combine=function(t){var r={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};return kt(t,function(s){var a,c,h,g;switch((g=s.geometry)===null||g===void 0?void 0:g.type){case"Point":r.MultiPoint.coordinates.push(s.geometry.coordinates),r.MultiPoint.properties.push(s.properties);break;case"MultiPoint":(a=r.MultiPoint.coordinates).push.apply(a,s.geometry.coordinates),r.MultiPoint.properties.push(s.properties);break;case"LineString":r.MultiLineString.coordinates.push(s.geometry.coordinates),r.MultiLineString.properties.push(s.properties);break;case"MultiLineString":(c=r.MultiLineString.coordinates).push.apply(c,s.geometry.coordinates),r.MultiLineString.properties.push(s.properties);break;case"Polygon":r.MultiPolygon.coordinates.push(s.geometry.coordinates),r.MultiPolygon.properties.push(s.properties);break;case"MultiPolygon":(h=r.MultiPolygon.coordinates).push.apply(h,s.geometry.coordinates),r.MultiPolygon.properties.push(s.properties)}}),I(Object.keys(r).filter(function(s){return r[s].coordinates.length}).sort().map(function(s){return u({type:s,coordinates:r[s].coordinates},{collectedProperties:r[s].properties})}))},n.concave=function(t,r){r===void 0&&(r={});var s=r.maxEdge||1/0,a=Yg(function(h){var g=[],v={};return kt(h,function(w){if(w.geometry){var x=w.geometry.coordinates.join("-");Object.prototype.hasOwnProperty.call(v,x)||(g.push(w),v[x]=!0)}}),I(g)}(t));if(a.features=a.features.filter(function(h){var g=h.geometry.coordinates[0][0],v=h.geometry.coordinates[0][1],w=h.geometry.coordinates[0][2],x=nr(g,v,r),T=nr(v,w,r),k=nr(g,w,r);return x<=s&&T<=s&&k<=s}),a.features.length<1)return null;var c=Qg(a);return c.coordinates.length===1&&(c.coordinates=c.coordinates[0],c.type="Polygon"),u(c)},n.containsNumber=dt,n.convertArea=lt,n.convertDistance=Z,n.convertLength=Z,n.convex=ur,n.coordAll=Wt,n.coordEach=Gt,n.coordReduce=he,n.createBins=tb,n.degrees2radians=ct,n.degreesToRadians=ct,n.destination=Ji,n.difference=function(t,r){var s=xt(t),a=xt(r),c=t.properties||{},h=Sl.difference(s.coordinates,a.coordinates);return h.length===0?null:h.length===1?y(h[0],c):G(h,c)},n.dissolve=function(t,r){if(!mt(r=r||{}))throw new Error("options is invalid");var s=r.propertyName;Ot(t,"Polygon","dissolve");var a=[];if(!r.propertyName)return jh(G(Sl.union.apply(null,t.features.map(function(w){return w.geometry.coordinates}))));var c={};kt(t,function(w){Object.prototype.hasOwnProperty.call(c,w.properties[s])||(c[w.properties[s]]=[]),c[w.properties[s]].push(w)});for(var h=Object.keys(c),g=0;g<h.length;g++){var v=G(Sl.union.apply(null,c[h[g]].map(function(w){return w.geometry.coordinates})));v.properties[s]=h[g],a.push(v)}return jh(I(a))},n.distance=nr,n.distanceToDegrees=ot,n.distanceToRadians=V,n.distanceWeight=o_,n.earthRadius=i,n.ellipse=e_,n.envelope=Eh,n.explode=vu,n.factors=e,n.feature=u,n.featureCollection=I,n.featureEach=kt,n.featureOf=wt,n.featureReduce=zt,n.filterProperties=b_,n.findPoint=nt,n.findSegment=Xt,n.flatten=jh,n.flattenEach=se,n.flattenReduce=ue,n.flip=function(t,r){if(!mt(r=r||{}))throw new Error("options is invalid");var s=r.mutate;if(!t)throw new Error("geojson is required");return s!==!1&&s!==void 0||(t=Ci(t)),Gt(t,function(a){var c=a[0],h=a[1];a[0]=h,a[1]=c}),t},n.geojsonType=_t,n.geomEach=ee,n.geomReduce=ve,n.geometry=p,n.geometryCollection=H,n.getCluster=v_,n.getCoord=A,n.getCoords=X,n.getGeom=xt,n.getType=$t,n.greatCircle=function(t,r,s){if(typeof(s=s||{})!="object")throw new Error("options is invalid");var a=s.properties,c=s.npoints,h=s.offset;return t=A(t),r=A(r),a=a||{},c=c||100,h=h||10,new Ht({x:t[0],y:t[1]},{x:r[0],y:r[1]},a).Arc(c,{offset:h}).json()},n.helpers=ye,n.hexGrid=Nk,n.inside=Qe,n.interpolate=function(t,r,s){if(typeof(s=s||{})!="object")throw new Error("options is invalid");var a=s.gridType,c=s.property,h=s.weight;if(!t)throw new Error("points is required");if(Ot(t,"Point","input must contain Points"),!r)throw new Error("cellSize is required");if(h!==void 0&&typeof h!="number")throw new Error("weight must be a number");c=c||"elevation",a=a||"square",h=h||1;var g,v=vt(t);switch(a){case"point":case"points":g=Ap(v,r,s);break;case"square":case"squares":g=Fk(v,r,s);break;case"hex":case"hexes":g=Nk(v,r,s);break;case"triangle":case"triangles":g=Bk(v,r,s);break;default:throw new Error("invalid gridType")}var w=[];return kt(g,function(x){var T=0,k=0;kt(t,function(O){var N,F=nr(a==="point"?x:Xs(x),O,s);if(c!==void 0&&(N=O.properties[c]),N===void 0&&(N=O.geometry.coordinates[2]),N===void 0)throw new Error("zValue is missing");F===0&&(T=N);var M=1/Math.pow(F,h);k+=M,T+=M*N});var P=Ci(x);P.properties[c]=T/k,w.push(P)}),I(w)},n.intersect=xf,n.invariant=le,n.isNumber=ut,n.isObject=mt,n.isobands=function(t,r,s){if(!mt(s=s||{}))throw new Error("options is invalid");var a=s.zProperty||"elevation",c=s.commonProperties||{},h=s.breaksProperties||[];if(Ot(t,"Point","Input must contain Points"),!r)throw new Error("breaks is required");if(!Array.isArray(r))throw new Error("breaks is not an Array");if(!mt(c))throw new Error("commonProperties is not an Object");if(!Array.isArray(h))throw new Error("breaksProperties is not an Array");var g=_P(t,{zProperty:a,flip:!0}),v=function(w,x,T){for(var k=[],P=1;P<x.length;P++){var O=+x[P-1],N=+x[P],F=PP(CP(kP(w,O,N-O))),M={};M.groupedRings=F,M[T]=O+"-"+N,k.push(M)}return k}(g,r,a);return I((v=function(w,x,T){var k=vt(T),P=k[2]-k[0],O=k[3]-k[1],N=k[0],F=k[1],M=x[0].length-1,W=x.length-1,it=P/M,D=O/W,q=function(Y){Y[0]=Y[0]*it+N,Y[1]=Y[1]*D+F};return w.forEach(function(Y){Y.groupedRings.forEach(function(tt){tt.forEach(function(J){J.forEach(q)})})}),w}(v,g,t)).map(function(w,x){if(h[x]&&!mt(h[x]))throw new Error("Each mappedProperty is required to be an Object");var T=qe({},c,h[x]);return T[a]=w[a],G(w.groupedRings,T)}))},n.isolines=function(t,r,s){if(!mt(s=s||{}))throw new Error("options is invalid");var a=s.zProperty||"elevation",c=s.commonProperties||{},h=s.breaksProperties||[];if(Ot(t,"Point","Input must contain Points"),!r)throw new Error("breaks is required");if(!Array.isArray(r))throw new Error("breaks must be an Array");if(!mt(c))throw new Error("commonProperties must be an Object");if(!Array.isArray(h))throw new Error("breaksProperties must be an Array");var g=ar(t,{zProperty:a,flip:!0});return I(function(v,w,x){var T=vt(x),k=T[2]-T[0],P=T[3]-T[1],O=T[0],N=T[1],F=w[0].length-1,M=w.length-1,W=k/F,it=P/M,D=function(q){q[0]=q[0]*W+O,q[1]=q[1]*it+N};return v.forEach(function(q){Gt(q,D)}),v}(function(v,w,x,T,k){for(var P=[],O=1;O<w.length;O++){var N=+w[O],F=qe({},T,k[O]);F[x]=N;var M=z(at(v,N),F);P.push(M)}return P}(g,r,a,c,h),g,t))},n.kinks=function(t){var r,s,a={type:"FeatureCollection",features:[]};if((s=t.type==="Feature"?t.geometry:t).type==="LineString")r=[s.coordinates];else if(s.type==="MultiLineString")r=s.coordinates;else if(s.type==="MultiPolygon")r=[].concat.apply([],s.coordinates);else{if(s.type!=="Polygon")throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");r=s.coordinates}return r.forEach(function(c){r.forEach(function(h){for(var g=0;g<c.length-1;g++)for(var v=g;v<h.length-1;v++)if(!(c===h&&(Math.abs(g-v)===1||g===0&&v===c.length-2&&c[g][0]===c[c.length-1][0]&&c[g][1]===c[c.length-1][1]))){var w=Eu(c[g][0],c[g][1],c[g+1][0],c[g+1][1],h[v][0],h[v][1],h[v+1][0],h[v+1][1]);w&&a.features.push(f([w[0],w[1]]))}})}),a},n.length=Fh,n.lengthToDegrees=ot,n.lengthToRadians=V,n.lineArc=Pn,n.lineChunk=function(t,r,s){if(!mt(s=s||{}))throw new Error("options is invalid");var a=s.units,c=s.reverse;if(!t)throw new Error("geojson is required");if(r<=0)throw new Error("segmentLength must be greater than 0");var h=[];return se(t,function(g){c&&(g.geometry.coordinates=g.geometry.coordinates.reverse()),function(v,w,x,T){var k=Fh(v,{units:x});if(k<=w)return T(v);var P=k/w;Number.isInteger(P)||(P=Math.floor(P)+1);for(var O=0;O<P;O++)T(mc(v,w*O,w*(O+1),{units:x}),O)}(g,r,a,function(v){h.push(v)})}),I(h)},n.lineDistance=Fh,n.lineEach=qt,n.lineIntersect=cn,n.lineOffset=function(t,r,s){if(!mt(s=s||{}))throw new Error("options is invalid");var a=s.units;if(!t)throw new Error("geojson is required");if(r==null||isNaN(r))throw new Error("distance is required");var c=$t(t),h=t.properties;switch(c){case"LineString":return Sx(t,r,a);case"MultiLineString":var g=[];return se(t,function(v){g.push(Sx(v,r,a).geometry.coordinates)}),z(g,h);default:throw new Error("geometry "+c+" is not supported")}},n.lineOverlap=xm,n.lineReduce=Zt,n.lineSegment=Hn,n.lineSlice=function(t,r,s){var a=X(s);if($t(s)!=="LineString")throw new Error("line must be a LineString");for(var c,h=$s(s,t),g=$s(s,r),v=[(c=h.properties.index<=g.properties.index?[h,g]:[g,h])[0].geometry.coordinates],w=c[0].properties.index+1;w<c[1].properties.index+1;w++)v.push(a[w]);return v.push(c[1].geometry.coordinates),E(v,s.properties)},n.lineSliceAlong=mc,n.lineSplit=function(t,r){if(!t)throw new Error("line is required");if(!r)throw new Error("splitter is required");var s=$t(t),a=$t(r);if(s!=="LineString")throw new Error("line must be LineString");if(a==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(a==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var c=zp(r,{precision:7});switch(a){case"Point":return xe(t,c);case"MultiPoint":return Qt(t,c);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return Qt(t,cn(t,c))}},n.lineString=E,n.lineStringToPolygon=mm,n.lineStrings=C,n.lineToPolygon=mm,n.mask=function(t,r){var s,a=tI(r),c=null;return t.type==="FeatureCollection"?c=Dk((s=t).features.length===2?Sl.union(s.features[0].geometry.coordinates,s.features[1].geometry.coordinates):Sl.union.apply(Sl,s.features.map(function(h){return h.geometry.coordinates}))):c=Dk(Sl.union(t.geometry.coordinates)),c.geometry.coordinates.forEach(function(h){a.geometry.coordinates.push(h[0])}),a},n.meta=pt,n.midpoint=function(t,r){return Ji(t,nr(t,r)/2,gs(t,r))},n.moranIndex=function(t,r){var s=r.inputField,a=r.threshold||1e5,c=r.p||2,h=r.binary||!1,g=o_(t,{alpha:r.alpha||-1,binary:h,p:c,standardization:r.standardization||!0,threshold:a}),v=[];kt(t,function(tt){var J=tt.properties||{};v.push(J[s])});for(var w=s_(v),x=function(tt){for(var J=s_(tt),Rt=0,Et=0,Nt=tt;Et<Nt.length;Et++){var Tt=Nt[Et];Rt+=Math.pow(Tt-J,2)}return Rt/tt.length}(v),T=0,k=0,P=0,O=0,N=g.length,F=0;F<N;F++){for(var M=0,W=0;W<N;W++)T+=g[F][W]*(v[F]-w)*(v[W]-w),k+=g[F][W],P+=Math.pow(g[F][W]+g[W][F],2),M+=g[F][W]+g[W][F];O+=Math.pow(M,2)}var it=T/k/x,D=-1/(N-1),q=(N*N*(P*=.5)-N*O+k*k*3)/((N-1)*(N+1)*(k*k))-D*D,Y=Math.sqrt(q);return{expectedMoranIndex:D,moranIndex:it,stdNorm:Y,zNorm:(it-D)/Y}},n.multiLineString=z,n.multiPoint=B,n.multiPolygon=G,n.nearest=Ph,n.nearestPoint=Ph,n.nearestPointOnLine=$s,n.nearestPointToLine=function(t,r,s){s===void 0&&(s={});var a=s.units,c=s.properties||{},h=function(w){var x=[];switch(w.geometry?w.geometry.type:w.type){case"GeometryCollection":return ee(w,function(T){T.type==="Point"&&x.push({type:"Feature",properties:{},geometry:T})}),{type:"FeatureCollection",features:x};case"FeatureCollection":return w.features=w.features.filter(function(T){return T.geometry.type==="Point"}),w;default:throw new Error("points must be a Point Collection")}}(t);if(!h.features.length)throw new Error("points must contain features");if(!r)throw new Error("line is required");if($t(r)!=="LineString")throw new Error("line must be a LineString");var g=1/0,v=null;return kt(h,function(w){var x=dm(w,r,{units:a});x<g&&(g=x,v=w)}),v&&(v.properties=qe({dist:g},v.properties,c)),v},n.planepoint=function(t,r){var s=A(t),a=xt(r).coordinates[0];if(a.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var c=r.properties||{},h=c.a,g=c.b,v=c.c,w=s[0],x=s[1],T=a[0][0],k=a[0][1],P=h!==void 0?h:a[0][2],O=a[1][0],N=a[1][1],F=g!==void 0?g:a[1][2],M=a[2][0],W=a[2][1],it=v!==void 0?v:a[2][2];return(it*(w-T)*(x-N)+P*(w-O)*(x-W)+F*(w-M)*(x-k)-F*(w-T)*(x-W)-it*(w-O)*(x-k)-P*(w-M)*(x-N))/((w-T)*(x-N)+(w-O)*(x-W)+(w-M)*(x-k)-(w-T)*(x-W)-(w-O)*(x-k)-(w-M)*(x-N))},n.point=f,n.pointGrid=Ap,n.pointOnFeature=pm,n.pointOnLine=$s,n.pointOnSurface=pm,n.pointToLineDistance=dm,n.points=m,n.pointsWithinPolygon=oc,n.polygon=y,n.polygonSmooth=function(t,r){var s=[],a=r.iterations||1;if(!t)throw new Error("inputPolys is required");return ee(t,function(c,h,g){var v,w,x;switch(c.type){case"Polygon":v=[[]];for(var T=0;T<a;T++)x=[[]],w=c,T>0&&(w=y(v).geometry),cM(w,x),v=x.slice(0);s.push(y(v,g));break;case"MultiPolygon":v=[[[]]];for(var k=0;k<a;k++)x=[[[]]],w=c,k>0&&(w=G(v).geometry),uM(w,x),v=x.slice(0);s.push(G(v,g));break;default:throw new Error("geometry is invalid, must be Polygon or MultiPolygon")}}),I(s)},n.polygonTangents=function(t,r){var s,a,c,h,g=X(t),v=X(r),w=vt(r),x=0,T=null;switch(g[0]>w[0]&&g[0]<w[2]&&g[1]>w[1]&&g[1]<w[3]&&(x=(T=Ph(t,vu(r))).properties.featureIndex),$t(r)){case"Polygon":s=v[0][x],a=v[0][0],T!==null&&T.geometry.coordinates[1]<g[1]&&(a=v[0][x]),h=Bp(v[0][0],v[0][v[0].length-1],g);var k=bx(v[0],g,h,c,s,a);s=k[0],a=k[1];break;case"MultiPolygon":for(var P=0,O=0,N=0,F=0;F<v[0].length;F++){P=F;for(var M=!1,W=0;W<v[0][F].length;W++){if(O=W,N===x){M=!0;break}N++}if(M)break}s=v[0][P][O],a=v[0][P][O],h=Bp(v[0][0][0],v[0][0][v[0][0].length-1],g),v.forEach(function(it){var D=bx(it[0],g,h,c,s,a);s=D[0],a=D[1]})}return I([f(s),f(a)])},n.polygonToLine=Mn,n.polygonToLineString=Mn,n.polygonize=function(t){var r=AP.fromGeoJson(t);r.deleteDangles(),r.deleteCutEdges();var s=[],a=[];return r.getEdgeRings().filter(function(c){return c.isValid()}).forEach(function(c){c.isHole()?s.push(c):a.push(c)}),s.forEach(function(c){Mx.findEdgeRingContaining(c,a)&&a.push(c)}),I(a.map(function(c){return c.toPolygon()}))},n.polygons=_,n.projection=dM,n.propEach=Kt,n.propReduce=Je,n.propertiesContainsFilter=eb,n.radians2degrees=ht,n.radiansToDegrees=ht,n.radiansToDistance=j,n.radiansToLength=j,n.random=fM,n.randomLineString=f_,n.randomPoint=d_,n.randomPolygon=p_,n.randomPosition=Vp,n.rewind=function(t,r){if(!mt(r=r||{}))throw new Error("options is invalid");var s=r.reverse||!1,a=r.mutate||!1;if(!t)throw new Error("<geojson> is required");if(typeof s!="boolean")throw new Error("<reverse> must be a boolean");if(typeof a!="boolean")throw new Error("<mutate> must be a boolean");a===!1&&(t=Ci(t));var c=[];switch(t.type){case"GeometryCollection":return ee(t,function(h){km(h,s)}),t;case"FeatureCollection":return kt(t,function(h){kt(km(h,s),function(g){c.push(g)})}),I(c)}return km(t,s)},n.rhumbBearing=Tl,n.rhumbDestination=Gh,n.rhumbDistance=xl,n.round=$,n.sample=function(t,r){if(!t)throw new Error("featurecollection is required");if(r==null)throw new Error("num is required");if(typeof r!="number")throw new Error("num must be a number");return I(function(s,a){for(var c,h,g=s.slice(0),v=s.length,w=v-a;v-- >w;)c=g[h=Math.floor((v+1)*Math.random())],g[h]=g[v],g[v]=c;return g.slice(w)}(t.features,r))},n.sector=function(t,r,s,a,c){if(!mt(c=c||{}))throw new Error("options is invalid");var h=c.properties;if(!t)throw new Error("center is required");if(s==null)throw new Error("bearing1 is required");if(a==null)throw new Error("bearing2 is required");if(!r)throw new Error("radius is required");if(typeof c!="object")throw new Error("options must be an object");if(Fp(s)===Fp(a))return bp(t,r,c);var g=X(t),v=Pn(t,r,s,a,c),w=[[g]];return Gt(v,function(x){w[0].push(x)}),w[0].push(g),y(w,h)},n.segmentEach=tr,n.segmentReduce=Ft,n.shortestPath=function(t,r,s){if(!mt(s=s||{}))throw new Error("options is invalid");var a=s.resolution,c=s.minDistance,h=s.obstacles||I([]);if(!t)throw new Error("start is required");if(!r)throw new Error("end is required");if(a&&!ut(a)||a<=0)throw new Error("options.resolution must be a number, greater than 0");if(c)throw new Error("options.minDistance is not yet implemented");var g=A(t),v=A(r);switch(t=f(g),r=f(v),$t(h)){case"FeatureCollection":if(h.features.length===0)return E([g,v]);break;case"Polygon":h=I([u(xt(h))]);break;default:throw new Error("invalid obstacles")}var w=h;w.features.push(t),w.features.push(r);var x=vt(Ex(yp(vt(w)),1.15));a||(a=nr([x[0],x[1]],[x[2],x[1]],s)/100),w.features.pop(),w.features.pop();for(var T=x[0],k=x[1],P=x[2],O=x[3],N=a/nr([T,k],[P,k],s)*(P-T),F=a/nr([T,k],[T,O],s)*(O-k),M=P-T,W=O-k,it=Math.floor(M/N),D=Math.floor(W/F),q=(M-it*N)/2,Y=[],tt=[],J=[],Rt=[],Et=1/0,Nt=1/0,Tt=O-(W-D*F)/2,jt=0;Tt>=k;){for(var Mt=[],Pt=[],St=T+q,Dt=0;St<=P;){var It=f([St,Tt]),Ut=XP(It,h);Mt.push(Ut?0:1),Pt.push(St+"|"+Tt);var gt=nr(It,t);!Ut&&gt<Et&&(Et=gt,J={x:Dt,y:jt});var Ie=nr(It,r);!Ut&&Ie<Nt&&(Nt=Ie,Rt={x:Dt,y:jt}),St+=N,Dt++}tt.push(Mt),Y.push(Pt),Tt-=F,jt++}var oe=new qh(tt,{diagonal:!0}),rr=oe.grid[J.y][J.x],we=oe.grid[Rt.y][Rt.x],Ue=Tm.search(oe,rr,we),pr=[g];return Ue.forEach(function(oi){var vn=Y[oi.x][oi.y].split("|");pr.push([+vn[0],+vn[1]])}),pr.push(v),Zs(E(pr))},n.simplify=function(t,r){if(!mt(r=r||{}))throw new Error("options is invalid");var s=r.tolerance!==void 0?r.tolerance:1,a=r.highQuality||!1,c=r.mutate||!1;if(!t)throw new Error("geojson is required");if(s&&s<0)throw new Error("invalid tolerance");return c!==!0&&(t=Ci(t)),ee(t,function(h){(function(g,v,w){var x=g.type;if(x==="Point"||x==="MultiPoint")return g;Zs(g,!0);var T=g.coordinates;switch(x){case"LineString":g.coordinates=$g(T,v,w);break;case"MultiLineString":g.coordinates=T.map(function(k){return $g(k,v,w)});break;case"Polygon":g.coordinates=kh(T,v,w);break;case"MultiPolygon":g.coordinates=T.map(function(k){return kh(k,v,w)})}})(h,s,a)}),t},n.square=rm,n.squareGrid=Fk,n.standardDeviationalEllipse=function(t,r){if(!mt(r=r||{}))throw new Error("options is invalid");var s=r.steps||64,a=r.weight,c=r.properties||{};if(!ut(s))throw new Error("steps must be a number");if(!mt(c))throw new Error("properties must be a number");var h=Wt(t).length,g=Qy(t,{weight:a}),v=0,w=0,x=0;kt(t,function(J){var Rt=J.properties[a]||1,Et=n_(X(J),X(g));v+=Math.pow(Et.x,2)*Rt,w+=Math.pow(Et.y,2)*Rt,x+=Et.x*Et.y*Rt});var T=v-w,k=Math.sqrt(Math.pow(T,2)+4*Math.pow(x,2)),P=2*x,O=Math.atan((T+k)/P),N=180*O/Math.PI,F=0,M=0,W=0;kt(t,function(J){var Rt=J.properties[a]||1,Et=n_(X(J),X(g));F+=Math.pow(Et.x*Math.cos(O)-Et.y*Math.sin(O),2)*Rt,M+=Math.pow(Et.x*Math.sin(O)+Et.y*Math.cos(O),2)*Rt,W+=Rt});var it=Math.sqrt(2*F/W),D=Math.sqrt(2*M/W),q=e_(g,it,D,{units:"degrees",angle:N,steps:s,properties:c}),Y=oc(t,I([q])),tt={meanCenterCoordinates:X(g),semiMajorAxis:it,semiMinorAxis:D,numberOfFeatures:h,angle:N,percentageWithinEllipse:100*Wt(Y).length/h};return q.properties.standardDeviationalEllipse=tt,q},n.tag=function(t,r,s,a){return t=Ci(t),r=Ci(r),kt(t,function(c){c.properties||(c.properties={}),kt(r,function(h){c.properties[a]===void 0&&Qe(c,h)&&(c.properties[a]=h.properties[s])})}),t},n.tesselate=function(t){if(!t.geometry||t.geometry.type!=="Polygon"&&t.geometry.type!=="MultiPolygon")throw new Error("input must be a Polygon or MultiPolygon");var r={type:"FeatureCollection",features:[]};return t.geometry.type==="Polygon"?r.features=bl(t.geometry.coordinates):t.geometry.coordinates.forEach(function(s){r.features=r.features.concat(bl(s))}),r},n.tin=Yg,n.toMercator=a_,n.toWgs84=l_,n.transformRotate=kx,n.transformScale=Ex,n.transformTranslate=function(t,r,s,a){if(!mt(a=a||{}))throw new Error("options is invalid");var c=a.units,h=a.zTranslation,g=a.mutate;if(!t)throw new Error("geojson is required");if(r==null||isNaN(r))throw new Error("distance is required");if(h&&typeof h!="number"&&isNaN(h))throw new Error("zTranslation is not a number");if(h=h!==void 0?h:0,r===0&&h===0)return t;if(s==null||isNaN(s))throw new Error("direction is required");return r<0&&(r=-r,s+=180),g!==!1&&g!==void 0||(t=Ci(t)),Gt(t,function(v){var w=X(Gh(v,r,s,{units:c}));v[0]=w[0],v[1]=w[1],h&&v.length===3&&(v[2]+=h)}),t},n.triangleGrid=Bk,n.truncate=zp,n.union=function(t,r,s){s===void 0&&(s={});var a=xt(t),c=xt(r),h=Sl.union(a.coordinates,c.coordinates);return h.length===0?null:h.length===1?y(h[0],s.properties):G(h,s.properties)},n.unitsFactors=o,n.unkinkPolygon=function(t){var r=[];return se(t,function(s){s.geometry.type==="Polygon"&&kt(Ny(s),function(a){r.push(y(a.geometry.coordinates,s.properties))})}),I(r)},n.validateBBox=te,n.validateId=ne,n.voronoi=function(t,r){if(!mt(r=r||{}))throw new Error("options is invalid");var s=r.bbox||[-180,-85,180,85];if(!t)throw new Error("points is required");if(!Array.isArray(s))throw new Error("bbox is invalid");return Ot(t,"Point","points"),I(function(){var a=YP,c=KP,h=null;function g(v){return new Jy(v.map(function(w,x){var T=[Math.round(a(w,x,v)/xi)*xi,Math.round(c(w,x,v)/xi)*xi];return T.index=x,T.data=w,T}),h)}return g.polygons=function(v){return g(v).polygons()},g.links=function(v){return g(v).links()},g.triangles=function(v){return g(v).triangles()},g.x=function(v){return arguments.length?(a=typeof v=="function"?v:Xx(+v),g):a},g.y=function(v){return arguments.length?(c=typeof v=="function"?v:Xx(+v),g):c},g.extent=function(v){return arguments.length?(h=v==null?null:[[+v[0][0],+v[0][1]],[+v[1][0],+v[1][1]]],g):h&&[[h[0][0],h[0][1]],[h[1][0],h[1][1]]]},g.size=function(v){return arguments.length?(h=v==null?null:[[0,0],[+v[0],+v[1]]],g):h&&[h[1][0]-h[0][0],h[1][1]-h[0][1]]},g}().x(function(a){return a.geometry.coordinates[0]}).y(function(a){return a.geometry.coordinates[1]}).extent([[s[0],s[1]],[s[2],s[3]]]).polygons(t.features).map(lM))},n.within=oc,Object.defineProperty(n,"__esModule",{value:!0})});var b3={exports:{}};(function(n){(function(i){n.exports=i(VS())})(function(i){i.Map.mergeOptions({smoothWheelZoom:!0,smoothSensitivity:1}),i.Map.SmoothWheelZoom=i.Handler.extend({addHooks:function(){i.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this)},removeHooks:function(){i.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(e){this._isWheeling||this._onWheelStart(e),this._onWheeling(e)},_onWheelStart:function(e){var o=this._map;this._isWheeling=!0,this._wheelMousePosition=o.mouseEventToContainerPoint(e),this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),this._wheelStartLatLng=o.containerPointToLatLng(this._wheelMousePosition),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),o._panAnim&&o._panAnim.stop(),this._goalZoom=o.getZoom(),this._prevCenter=o.getCenter(),this._prevZoom=o.getZoom(),this._zoomAnimationId=requestAnimationFrame(this._updateWheelZoom.bind(this))},_onWheeling:function(e){var o=this._map;this._goalZoom=this._goalZoom-e.deltaY*.003*o.options.smoothSensitivity,(this._goalZoom<o.getMinZoom()||this._goalZoom>o.getMaxZoom())&&(this._goalZoom=o._limitZoom(this._goalZoom)),this._wheelMousePosition=this._map.mouseEventToContainerPoint(e),clearTimeout(this._timeoutId),this._timeoutId=setTimeout(this._onWheelEnd.bind(this),200),i.DomEvent.preventDefault(e),i.DomEvent.stopPropagation(e)},_onWheelEnd:function(e){this._isWheeling=!1,cancelAnimationFrame(this._zoomAnimationId),this._map.fire("zoomend")},_updateWheelZoom:function(){var e=this._map;if(!(!e.getCenter().equals(this._prevCenter)||e.getZoom()!=this._prevZoom)){this._zoom=e.getZoom()+(this._goalZoom-e.getZoom())*.3,this._zoom=Math.floor(this._zoom*100)/100;var o=this._wheelMousePosition.subtract(this._centerPoint);o.x===0&&o.y===0||(e.options.smoothWheelZoom==="center"?this._center=this._startLatLng:this._center=e.unproject(e.project(this._wheelStartLatLng,this._zoom).subtract(o),this._zoom),this._moved||(e._moveStart(!0,!1),this._moved=!0),e._move(this._center,this._zoom),this._prevCenter=e.getCenter(),this._prevZoom=e.getZoom(),e.fire("viewreset"),this._zoomAnimationId=requestAnimationFrame(this._updateWheelZoom.bind(this)))}}}),i.Map.addInitHook("addHandler","smoothWheelZoom",i.Map.SmoothWheelZoom)})})(b3);function Fw(n){return Array.isArray(n)?`[${n.map(i=>Fw(i)).join(",")}]`:typeof n=="number"?`${n}`:typeof n=="string"?`"${n}"`:typeof n=="object"&&n!==null?Object.keys(n).sort().map(i=>`${i}:${Fw(n[i])}`).join("|"):String(n)}async function w3(n){const i=await crypto.subtle.digest("SHA-1",new TextEncoder().encode(n));return Array.from(new Uint8Array(i)).map(e=>e.toString(16).padStart(2,"0")).join("")}async function WS(n,i=16){return(await w3(String(n))).slice(0,i)}async function x3(n,i){return await WS(Fw(n),i)}var ci;(function(n){n.assertEqual=l=>l;function i(l){}n.assertIs=i;function e(l){throw new Error}n.assertNever=e,n.arrayToEnum=l=>{const u={};for(const p of l)u[p]=p;return u},n.getValidEnumValues=l=>{const u=n.objectKeys(l).filter(f=>typeof l[l[f]]!="number"),p={};for(const f of u)p[f]=l[f];return n.objectValues(p)},n.objectValues=l=>n.objectKeys(l).map(function(u){return l[u]}),n.objectKeys=typeof Object.keys=="function"?l=>Object.keys(l):l=>{const u=[];for(const p in l)Object.prototype.hasOwnProperty.call(l,p)&&u.push(p);return u},n.find=(l,u)=>{for(const p of l)if(u(p))return p},n.isInteger=typeof Number.isInteger=="function"?l=>Number.isInteger(l):l=>typeof l=="number"&&isFinite(l)&&Math.floor(l)===l;function o(l,u=" | "){return l.map(p=>typeof p=="string"?`'${p}'`:p).join(u)}n.joinValues=o,n.jsonStringifyReplacer=(l,u)=>typeof u=="bigint"?u.toString():u})(ci||(ci={}));var Bw;(function(n){n.mergeShapes=(i,e)=>({...i,...e})})(Bw||(Bw={}));const Pe=ci.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Hc=n=>{switch(typeof n){case"undefined":return Pe.undefined;case"string":return Pe.string;case"number":return isNaN(n)?Pe.nan:Pe.number;case"boolean":return Pe.boolean;case"function":return Pe.function;case"bigint":return Pe.bigint;case"symbol":return Pe.symbol;case"object":return Array.isArray(n)?Pe.array:n===null?Pe.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?Pe.promise:typeof Map<"u"&&n instanceof Map?Pe.map:typeof Set<"u"&&n instanceof Set?Pe.set:typeof Date<"u"&&n instanceof Date?Pe.date:Pe.object;default:return Pe.unknown}},pe=ci.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),_3=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class Ea extends Error{constructor(i){super(),this.issues=[],this.addIssue=o=>{this.issues=[...this.issues,o]},this.addIssues=(o=[])=>{this.issues=[...this.issues,...o]};const e=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,e):this.__proto__=e,this.name="ZodError",this.issues=i}get errors(){return this.issues}format(i){const e=i||function(u){return u.message},o={_errors:[]},l=u=>{for(const p of u.issues)if(p.code==="invalid_union")p.unionErrors.map(l);else if(p.code==="invalid_return_type")l(p.returnTypeError);else if(p.code==="invalid_arguments")l(p.argumentsError);else if(p.path.length===0)o._errors.push(e(p));else{let f=o,m=0;for(;m<p.path.length;){const y=p.path[m];m===p.path.length-1?(f[y]=f[y]||{_errors:[]},f[y]._errors.push(e(p))):f[y]=f[y]||{_errors:[]},f=f[y],m++}}};return l(this),o}toString(){return this.message}get message(){return JSON.stringify(this.issues,ci.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(i=e=>e.message){const e={},o=[];for(const l of this.issues)l.path.length>0?(e[l.path[0]]=e[l.path[0]]||[],e[l.path[0]].push(i(l))):o.push(i(l));return{formErrors:o,fieldErrors:e}}get formErrors(){return this.flatten()}}Ea.create=n=>new Ea(n);const hg=(n,i)=>{let e;switch(n.code){case pe.invalid_type:n.received===Pe.undefined?e="Required":e=`Expected ${n.expected}, received ${n.received}`;break;case pe.invalid_literal:e=`Invalid literal value, expected ${JSON.stringify(n.expected,ci.jsonStringifyReplacer)}`;break;case pe.unrecognized_keys:e=`Unrecognized key(s) in object: ${ci.joinValues(n.keys,", ")}`;break;case pe.invalid_union:e="Invalid input";break;case pe.invalid_union_discriminator:e=`Invalid discriminator value. Expected ${ci.joinValues(n.options)}`;break;case pe.invalid_enum_value:e=`Invalid enum value. Expected ${ci.joinValues(n.options)}, received '${n.received}'`;break;case pe.invalid_arguments:e="Invalid function arguments";break;case pe.invalid_return_type:e="Invalid function return type";break;case pe.invalid_date:e="Invalid date";break;case pe.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(e=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(e=`${e} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?e=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?e=`Invalid input: must end with "${n.validation.endsWith}"`:ci.assertNever(n.validation):n.validation!=="regex"?e=`Invalid ${n.validation}`:e="Invalid";break;case pe.too_small:n.type==="array"?e=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?e=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?e=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?e=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:e="Invalid input";break;case pe.too_big:n.type==="array"?e=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?e=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?e=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?e=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?e=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:e="Invalid input";break;case pe.custom:e="Invalid input";break;case pe.invalid_intersection_types:e="Intersection results could not be merged";break;case pe.not_multiple_of:e=`Number must be a multiple of ${n.multipleOf}`;break;case pe.not_finite:e="Number must be finite";break;default:e=i.defaultError,ci.assertNever(n)}return{message:e}};let ZS=hg;function k3(n){ZS=n}function y0(){return ZS}const b0=n=>{const{data:i,path:e,errorMaps:o,issueData:l}=n,u=[...e,...l.path||[]],p={...l,path:u};let f="";const m=o.filter(y=>!!y).slice().reverse();for(const y of m)f=y(p,{data:i,defaultError:f}).message;return{...l,path:u,message:l.message||f}},E3=[];function Le(n,i){const e=b0({issueData:i,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,y0(),hg].filter(o=>!!o)});n.common.issues.push(e)}class co{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(i,e){const o=[];for(const l of e){if(l.status==="aborted")return hr;l.status==="dirty"&&i.dirty(),o.push(l.value)}return{status:i.value,value:o}}static async mergeObjectAsync(i,e){const o=[];for(const l of e)o.push({key:await l.key,value:await l.value});return co.mergeObjectSync(i,o)}static mergeObjectSync(i,e){const o={};for(const l of e){const{key:u,value:p}=l;if(u.status==="aborted"||p.status==="aborted")return hr;u.status==="dirty"&&i.dirty(),p.status==="dirty"&&i.dirty(),u.value!=="__proto__"&&(typeof p.value<"u"||l.alwaysSet)&&(o[u.value]=p.value)}return{status:i.value,value:o}}}const hr=Object.freeze({status:"aborted"}),XS=n=>({status:"dirty",value:n}),ko=n=>({status:"valid",value:n}),jw=n=>n.status==="aborted",Hw=n=>n.status==="dirty",dg=n=>n.status==="valid",w0=n=>typeof Promise<"u"&&n instanceof Promise;var Xe;(function(n){n.errToObj=i=>typeof i=="string"?{message:i}:i||{},n.toString=i=>typeof i=="string"?i:i==null?void 0:i.message})(Xe||(Xe={}));class sl{constructor(i,e,o,l){this._cachedPath=[],this.parent=i,this.data=e,this._path=o,this._key=l}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const d2=(n,i)=>{if(dg(i))return{success:!0,data:i.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const e=new Ea(n.common.issues);return this._error=e,this._error}}};function gr(n){if(!n)return{};const{errorMap:i,invalid_type_error:e,required_error:o,description:l}=n;if(i&&(e||o))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return i?{errorMap:i,description:l}:{errorMap:(u,p)=>u.code!=="invalid_type"?{message:p.defaultError}:typeof p.data>"u"?{message:o??p.defaultError}:{message:e??p.defaultError},description:l}}class yr{constructor(i){this.spa=this.safeParseAsync,this._def=i,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(i){return Hc(i.data)}_getOrReturnCtx(i,e){return e||{common:i.parent.common,data:i.data,parsedType:Hc(i.data),schemaErrorMap:this._def.errorMap,path:i.path,parent:i.parent}}_processInputParams(i){return{status:new co,ctx:{common:i.parent.common,data:i.data,parsedType:Hc(i.data),schemaErrorMap:this._def.errorMap,path:i.path,parent:i.parent}}}_parseSync(i){const e=this._parse(i);if(w0(e))throw new Error("Synchronous parse encountered promise.");return e}_parseAsync(i){const e=this._parse(i);return Promise.resolve(e)}parse(i,e){const o=this.safeParse(i,e);if(o.success)return o.data;throw o.error}safeParse(i,e){var o;const l={common:{issues:[],async:(o=e==null?void 0:e.async)!==null&&o!==void 0?o:!1,contextualErrorMap:e==null?void 0:e.errorMap},path:(e==null?void 0:e.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:i,parsedType:Hc(i)},u=this._parseSync({data:i,path:l.path,parent:l});return d2(l,u)}async parseAsync(i,e){const o=await this.safeParseAsync(i,e);if(o.success)return o.data;throw o.error}async safeParseAsync(i,e){const o={common:{issues:[],contextualErrorMap:e==null?void 0:e.errorMap,async:!0},path:(e==null?void 0:e.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:i,parsedType:Hc(i)},l=this._parse({data:i,path:o.path,parent:o}),u=await(w0(l)?l:Promise.resolve(l));return d2(o,u)}refine(i,e){const o=l=>typeof e=="string"||typeof e>"u"?{message:e}:typeof e=="function"?e(l):e;return this._refinement((l,u)=>{const p=i(l),f=()=>u.addIssue({code:pe.custom,...o(l)});return typeof Promise<"u"&&p instanceof Promise?p.then(m=>m?!0:(f(),!1)):p?!0:(f(),!1)})}refinement(i,e){return this._refinement((o,l)=>i(o)?!0:(l.addIssue(typeof e=="function"?e(o,l):e),!1))}_refinement(i){return new Sa({schema:this,typeName:ir.ZodEffects,effect:{type:"refinement",refinement:i}})}superRefine(i){return this._refinement(i)}optional(){return Vl.create(this,this._def)}nullable(){return ch.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ta.create(this,this._def)}promise(){return Jd.create(this,this._def)}or(i){return mg.create([this,i],this._def)}and(i){return vg.create(this,i,this._def)}transform(i){return new Sa({...gr(this._def),schema:this,typeName:ir.ZodEffects,effect:{type:"transform",transform:i}})}default(i){const e=typeof i=="function"?i:()=>i;return new _g({...gr(this._def),innerType:this,defaultValue:e,typeName:ir.ZodDefault})}brand(){return new KS({typeName:ir.ZodBranded,type:this,...gr(this._def)})}catch(i){const e=typeof i=="function"?i:()=>i;return new E0({...gr(this._def),innerType:this,catchValue:e,typeName:ir.ZodCatch})}describe(i){const e=this.constructor;return new e({...this._def,description:i})}pipe(i){return Ng.create(this,i)}readonly(){return S0.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const T3=/^c[^\s-]{8,}$/i,S3=/^[a-z][a-z0-9]*$/,C3=/^[0-9A-HJKMNP-TV-Z]{26}$/,P3=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,M3=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,I3="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let rw;const L3=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,R3=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,A3=n=>n.precision?n.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${n.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${n.precision}}Z$`):n.precision===0?n.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):n.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function z3(n,i){return!!((i==="v4"||!i)&&L3.test(n)||(i==="v6"||!i)&&R3.test(n))}class ba extends yr{_parse(i){if(this._def.coerce&&(i.data=String(i.data)),this._getType(i)!==Pe.string){const l=this._getOrReturnCtx(i);return Le(l,{code:pe.invalid_type,expected:Pe.string,received:l.parsedType}),hr}const e=new co;let o;for(const l of this._def.checks)if(l.kind==="min")i.data.length<l.value&&(o=this._getOrReturnCtx(i,o),Le(o,{code:pe.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),e.dirty());else if(l.kind==="max")i.data.length>l.value&&(o=this._getOrReturnCtx(i,o),Le(o,{code:pe.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),e.dirty());else if(l.kind==="length"){const u=i.data.length>l.value,p=i.data.length<l.value;(u||p)&&(o=this._getOrReturnCtx(i,o),u?Le(o,{code:pe.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):p&&Le(o,{code:pe.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),e.dirty())}else if(l.kind==="email")M3.test(i.data)||(o=this._getOrReturnCtx(i,o),Le(o,{validation:"email",code:pe.invalid_string,message:l.message}),e.dirty());else if(l.kind==="emoji")rw||(rw=new RegExp(I3,"u")),rw.test(i.data)||(o=this._getOrReturnCtx(i,o),Le(o,{validation:"emoji",code:pe.invalid_string,message:l.message}),e.dirty());else if(l.kind==="uuid")P3.test(i.data)||(o=this._getOrReturnCtx(i,o),Le(o,{validation:"uuid",code:pe.invalid_string,message:l.message}),e.dirty());else if(l.kind==="cuid")T3.test(i.data)||(o=this._getOrReturnCtx(i,o),Le(o,{validation:"cuid",code:pe.invalid_string,message:l.message}),e.dirty());else if(l.kind==="cuid2")S3.test(i.data)||(o=this._getOrReturnCtx(i,o),Le(o,{validation:"cuid2",code:pe.invalid_string,message:l.message}),e.dirty());else if(l.kind==="ulid")C3.test(i.data)||(o=this._getOrReturnCtx(i,o),Le(o,{validation:"ulid",code:pe.invalid_string,message:l.message}),e.dirty());else if(l.kind==="url")try{new URL(i.data)}catch{o=this._getOrReturnCtx(i,o),Le(o,{validation:"url",code:pe.invalid_string,message:l.message}),e.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(i.data)||(o=this._getOrReturnCtx(i,o),Le(o,{validation:"regex",code:pe.invalid_string,message:l.message}),e.dirty())):l.kind==="trim"?i.data=i.data.trim():l.kind==="includes"?i.data.includes(l.value,l.position)||(o=this._getOrReturnCtx(i,o),Le(o,{code:pe.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),e.dirty()):l.kind==="toLowerCase"?i.data=i.data.toLowerCase():l.kind==="toUpperCase"?i.data=i.data.toUpperCase():l.kind==="startsWith"?i.data.startsWith(l.value)||(o=this._getOrReturnCtx(i,o),Le(o,{code:pe.invalid_string,validation:{startsWith:l.value},message:l.message}),e.dirty()):l.kind==="endsWith"?i.data.endsWith(l.value)||(o=this._getOrReturnCtx(i,o),Le(o,{code:pe.invalid_string,validation:{endsWith:l.value},message:l.message}),e.dirty()):l.kind==="datetime"?A3(l).test(i.data)||(o=this._getOrReturnCtx(i,o),Le(o,{code:pe.invalid_string,validation:"datetime",message:l.message}),e.dirty()):l.kind==="ip"?z3(i.data,l.version)||(o=this._getOrReturnCtx(i,o),Le(o,{validation:"ip",code:pe.invalid_string,message:l.message}),e.dirty()):ci.assertNever(l);return{status:e.value,value:i.data}}_regex(i,e,o){return this.refinement(l=>i.test(l),{validation:e,code:pe.invalid_string,...Xe.errToObj(o)})}_addCheck(i){return new ba({...this._def,checks:[...this._def.checks,i]})}email(i){return this._addCheck({kind:"email",...Xe.errToObj(i)})}url(i){return this._addCheck({kind:"url",...Xe.errToObj(i)})}emoji(i){return this._addCheck({kind:"emoji",...Xe.errToObj(i)})}uuid(i){return this._addCheck({kind:"uuid",...Xe.errToObj(i)})}cuid(i){return this._addCheck({kind:"cuid",...Xe.errToObj(i)})}cuid2(i){return this._addCheck({kind:"cuid2",...Xe.errToObj(i)})}ulid(i){return this._addCheck({kind:"ulid",...Xe.errToObj(i)})}ip(i){return this._addCheck({kind:"ip",...Xe.errToObj(i)})}datetime(i){var e;return typeof i=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:i}):this._addCheck({kind:"datetime",precision:typeof(i==null?void 0:i.precision)>"u"?null:i==null?void 0:i.precision,offset:(e=i==null?void 0:i.offset)!==null&&e!==void 0?e:!1,...Xe.errToObj(i==null?void 0:i.message)})}regex(i,e){return this._addCheck({kind:"regex",regex:i,...Xe.errToObj(e)})}includes(i,e){return this._addCheck({kind:"includes",value:i,position:e==null?void 0:e.position,...Xe.errToObj(e==null?void 0:e.message)})}startsWith(i,e){return this._addCheck({kind:"startsWith",value:i,...Xe.errToObj(e)})}endsWith(i,e){return this._addCheck({kind:"endsWith",value:i,...Xe.errToObj(e)})}min(i,e){return this._addCheck({kind:"min",value:i,...Xe.errToObj(e)})}max(i,e){return this._addCheck({kind:"max",value:i,...Xe.errToObj(e)})}length(i,e){return this._addCheck({kind:"length",value:i,...Xe.errToObj(e)})}nonempty(i){return this.min(1,Xe.errToObj(i))}trim(){return new ba({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ba({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ba({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(i=>i.kind==="datetime")}get isEmail(){return!!this._def.checks.find(i=>i.kind==="email")}get isURL(){return!!this._def.checks.find(i=>i.kind==="url")}get isEmoji(){return!!this._def.checks.find(i=>i.kind==="emoji")}get isUUID(){return!!this._def.checks.find(i=>i.kind==="uuid")}get isCUID(){return!!this._def.checks.find(i=>i.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(i=>i.kind==="cuid2")}get isULID(){return!!this._def.checks.find(i=>i.kind==="ulid")}get isIP(){return!!this._def.checks.find(i=>i.kind==="ip")}get minLength(){let i=null;for(const e of this._def.checks)e.kind==="min"&&(i===null||e.value>i)&&(i=e.value);return i}get maxLength(){let i=null;for(const e of this._def.checks)e.kind==="max"&&(i===null||e.value<i)&&(i=e.value);return i}}ba.create=n=>{var i;return new ba({checks:[],typeName:ir.ZodString,coerce:(i=n==null?void 0:n.coerce)!==null&&i!==void 0?i:!1,...gr(n)})};function O3(n,i){const e=(n.toString().split(".")[1]||"").length,o=(i.toString().split(".")[1]||"").length,l=e>o?e:o,u=parseInt(n.toFixed(l).replace(".","")),p=parseInt(i.toFixed(l).replace(".",""));return u%p/Math.pow(10,l)}class Jc extends yr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(i){if(this._def.coerce&&(i.data=Number(i.data)),this._getType(i)!==Pe.number){const l=this._getOrReturnCtx(i);return Le(l,{code:pe.invalid_type,expected:Pe.number,received:l.parsedType}),hr}let e;const o=new co;for(const l of this._def.checks)l.kind==="int"?ci.isInteger(i.data)||(e=this._getOrReturnCtx(i,e),Le(e,{code:pe.invalid_type,expected:"integer",received:"float",message:l.message}),o.dirty()):l.kind==="min"?(l.inclusive?i.data<l.value:i.data<=l.value)&&(e=this._getOrReturnCtx(i,e),Le(e,{code:pe.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),o.dirty()):l.kind==="max"?(l.inclusive?i.data>l.value:i.data>=l.value)&&(e=this._getOrReturnCtx(i,e),Le(e,{code:pe.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),o.dirty()):l.kind==="multipleOf"?O3(i.data,l.value)!==0&&(e=this._getOrReturnCtx(i,e),Le(e,{code:pe.not_multiple_of,multipleOf:l.value,message:l.message}),o.dirty()):l.kind==="finite"?Number.isFinite(i.data)||(e=this._getOrReturnCtx(i,e),Le(e,{code:pe.not_finite,message:l.message}),o.dirty()):ci.assertNever(l);return{status:o.value,value:i.data}}gte(i,e){return this.setLimit("min",i,!0,Xe.toString(e))}gt(i,e){return this.setLimit("min",i,!1,Xe.toString(e))}lte(i,e){return this.setLimit("max",i,!0,Xe.toString(e))}lt(i,e){return this.setLimit("max",i,!1,Xe.toString(e))}setLimit(i,e,o,l){return new Jc({...this._def,checks:[...this._def.checks,{kind:i,value:e,inclusive:o,message:Xe.toString(l)}]})}_addCheck(i){return new Jc({...this._def,checks:[...this._def.checks,i]})}int(i){return this._addCheck({kind:"int",message:Xe.toString(i)})}positive(i){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Xe.toString(i)})}negative(i){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Xe.toString(i)})}nonpositive(i){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Xe.toString(i)})}nonnegative(i){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Xe.toString(i)})}multipleOf(i,e){return this._addCheck({kind:"multipleOf",value:i,message:Xe.toString(e)})}finite(i){return this._addCheck({kind:"finite",message:Xe.toString(i)})}safe(i){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Xe.toString(i)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Xe.toString(i)})}get minValue(){let i=null;for(const e of this._def.checks)e.kind==="min"&&(i===null||e.value>i)&&(i=e.value);return i}get maxValue(){let i=null;for(const e of this._def.checks)e.kind==="max"&&(i===null||e.value<i)&&(i=e.value);return i}get isInt(){return!!this._def.checks.find(i=>i.kind==="int"||i.kind==="multipleOf"&&ci.isInteger(i.value))}get isFinite(){let i=null,e=null;for(const o of this._def.checks){if(o.kind==="finite"||o.kind==="int"||o.kind==="multipleOf")return!0;o.kind==="min"?(e===null||o.value>e)&&(e=o.value):o.kind==="max"&&(i===null||o.value<i)&&(i=o.value)}return Number.isFinite(e)&&Number.isFinite(i)}}Jc.create=n=>new Jc({checks:[],typeName:ir.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...gr(n)});class Qc extends yr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(i){if(this._def.coerce&&(i.data=BigInt(i.data)),this._getType(i)!==Pe.bigint){const l=this._getOrReturnCtx(i);return Le(l,{code:pe.invalid_type,expected:Pe.bigint,received:l.parsedType}),hr}let e;const o=new co;for(const l of this._def.checks)l.kind==="min"?(l.inclusive?i.data<l.value:i.data<=l.value)&&(e=this._getOrReturnCtx(i,e),Le(e,{code:pe.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),o.dirty()):l.kind==="max"?(l.inclusive?i.data>l.value:i.data>=l.value)&&(e=this._getOrReturnCtx(i,e),Le(e,{code:pe.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),o.dirty()):l.kind==="multipleOf"?i.data%l.value!==BigInt(0)&&(e=this._getOrReturnCtx(i,e),Le(e,{code:pe.not_multiple_of,multipleOf:l.value,message:l.message}),o.dirty()):ci.assertNever(l);return{status:o.value,value:i.data}}gte(i,e){return this.setLimit("min",i,!0,Xe.toString(e))}gt(i,e){return this.setLimit("min",i,!1,Xe.toString(e))}lte(i,e){return this.setLimit("max",i,!0,Xe.toString(e))}lt(i,e){return this.setLimit("max",i,!1,Xe.toString(e))}setLimit(i,e,o,l){return new Qc({...this._def,checks:[...this._def.checks,{kind:i,value:e,inclusive:o,message:Xe.toString(l)}]})}_addCheck(i){return new Qc({...this._def,checks:[...this._def.checks,i]})}positive(i){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Xe.toString(i)})}negative(i){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Xe.toString(i)})}nonpositive(i){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Xe.toString(i)})}nonnegative(i){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Xe.toString(i)})}multipleOf(i,e){return this._addCheck({kind:"multipleOf",value:i,message:Xe.toString(e)})}get minValue(){let i=null;for(const e of this._def.checks)e.kind==="min"&&(i===null||e.value>i)&&(i=e.value);return i}get maxValue(){let i=null;for(const e of this._def.checks)e.kind==="max"&&(i===null||e.value<i)&&(i=e.value);return i}}Qc.create=n=>{var i;return new Qc({checks:[],typeName:ir.ZodBigInt,coerce:(i=n==null?void 0:n.coerce)!==null&&i!==void 0?i:!1,...gr(n)})};class pg extends yr{_parse(i){if(this._def.coerce&&(i.data=!!i.data),this._getType(i)!==Pe.boolean){const e=this._getOrReturnCtx(i);return Le(e,{code:pe.invalid_type,expected:Pe.boolean,received:e.parsedType}),hr}return ko(i.data)}}pg.create=n=>new pg({typeName:ir.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...gr(n)});class ah extends yr{_parse(i){if(this._def.coerce&&(i.data=new Date(i.data)),this._getType(i)!==Pe.date){const l=this._getOrReturnCtx(i);return Le(l,{code:pe.invalid_type,expected:Pe.date,received:l.parsedType}),hr}if(isNaN(i.data.getTime())){const l=this._getOrReturnCtx(i);return Le(l,{code:pe.invalid_date}),hr}const e=new co;let o;for(const l of this._def.checks)l.kind==="min"?i.data.getTime()<l.value&&(o=this._getOrReturnCtx(i,o),Le(o,{code:pe.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),e.dirty()):l.kind==="max"?i.data.getTime()>l.value&&(o=this._getOrReturnCtx(i,o),Le(o,{code:pe.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),e.dirty()):ci.assertNever(l);return{status:e.value,value:new Date(i.data.getTime())}}_addCheck(i){return new ah({...this._def,checks:[...this._def.checks,i]})}min(i,e){return this._addCheck({kind:"min",value:i.getTime(),message:Xe.toString(e)})}max(i,e){return this._addCheck({kind:"max",value:i.getTime(),message:Xe.toString(e)})}get minDate(){let i=null;for(const e of this._def.checks)e.kind==="min"&&(i===null||e.value>i)&&(i=e.value);return i!=null?new Date(i):null}get maxDate(){let i=null;for(const e of this._def.checks)e.kind==="max"&&(i===null||e.value<i)&&(i=e.value);return i!=null?new Date(i):null}}ah.create=n=>new ah({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:ir.ZodDate,...gr(n)});class x0 extends yr{_parse(i){if(this._getType(i)!==Pe.symbol){const e=this._getOrReturnCtx(i);return Le(e,{code:pe.invalid_type,expected:Pe.symbol,received:e.parsedType}),hr}return ko(i.data)}}x0.create=n=>new x0({typeName:ir.ZodSymbol,...gr(n)});class fg extends yr{_parse(i){if(this._getType(i)!==Pe.undefined){const e=this._getOrReturnCtx(i);return Le(e,{code:pe.invalid_type,expected:Pe.undefined,received:e.parsedType}),hr}return ko(i.data)}}fg.create=n=>new fg({typeName:ir.ZodUndefined,...gr(n)});class gg extends yr{_parse(i){if(this._getType(i)!==Pe.null){const e=this._getOrReturnCtx(i);return Le(e,{code:pe.invalid_type,expected:Pe.null,received:e.parsedType}),hr}return ko(i.data)}}gg.create=n=>new gg({typeName:ir.ZodNull,...gr(n)});class Kd extends yr{constructor(){super(...arguments),this._any=!0}_parse(i){return ko(i.data)}}Kd.create=n=>new Kd({typeName:ir.ZodAny,...gr(n)});class eh extends yr{constructor(){super(...arguments),this._unknown=!0}_parse(i){return ko(i.data)}}eh.create=n=>new eh({typeName:ir.ZodUnknown,...gr(n)});class Jl extends yr{_parse(i){const e=this._getOrReturnCtx(i);return Le(e,{code:pe.invalid_type,expected:Pe.never,received:e.parsedType}),hr}}Jl.create=n=>new Jl({typeName:ir.ZodNever,...gr(n)});class _0 extends yr{_parse(i){if(this._getType(i)!==Pe.undefined){const e=this._getOrReturnCtx(i);return Le(e,{code:pe.invalid_type,expected:Pe.void,received:e.parsedType}),hr}return ko(i.data)}}_0.create=n=>new _0({typeName:ir.ZodVoid,...gr(n)});class Ta extends yr{_parse(i){const{ctx:e,status:o}=this._processInputParams(i),l=this._def;if(e.parsedType!==Pe.array)return Le(e,{code:pe.invalid_type,expected:Pe.array,received:e.parsedType}),hr;if(l.exactLength!==null){const p=e.data.length>l.exactLength.value,f=e.data.length<l.exactLength.value;(p||f)&&(Le(e,{code:p?pe.too_big:pe.too_small,minimum:f?l.exactLength.value:void 0,maximum:p?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),o.dirty())}if(l.minLength!==null&&e.data.length<l.minLength.value&&(Le(e,{code:pe.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),o.dirty()),l.maxLength!==null&&e.data.length>l.maxLength.value&&(Le(e,{code:pe.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),o.dirty()),e.common.async)return Promise.all([...e.data].map((p,f)=>l.type._parseAsync(new sl(e,p,e.path,f)))).then(p=>co.mergeArray(o,p));const u=[...e.data].map((p,f)=>l.type._parseSync(new sl(e,p,e.path,f)));return co.mergeArray(o,u)}get element(){return this._def.type}min(i,e){return new Ta({...this._def,minLength:{value:i,message:Xe.toString(e)}})}max(i,e){return new Ta({...this._def,maxLength:{value:i,message:Xe.toString(e)}})}length(i,e){return new Ta({...this._def,exactLength:{value:i,message:Xe.toString(e)}})}nonempty(i){return this.min(1,i)}}Ta.create=(n,i)=>new Ta({type:n,minLength:null,maxLength:null,exactLength:null,typeName:ir.ZodArray,...gr(i)});function Pd(n){if(n instanceof Wi){const i={};for(const e in n.shape){const o=n.shape[e];i[e]=Vl.create(Pd(o))}return new Wi({...n._def,shape:()=>i})}else return n instanceof Ta?new Ta({...n._def,type:Pd(n.element)}):n instanceof Vl?Vl.create(Pd(n.unwrap())):n instanceof ch?ch.create(Pd(n.unwrap())):n instanceof al?al.create(n.items.map(i=>Pd(i))):n}class Wi extends yr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const i=this._def.shape(),e=ci.objectKeys(i);return this._cached={shape:i,keys:e}}_parse(i){if(this._getType(i)!==Pe.object){const m=this._getOrReturnCtx(i);return Le(m,{code:pe.invalid_type,expected:Pe.object,received:m.parsedType}),hr}const{status:e,ctx:o}=this._processInputParams(i),{shape:l,keys:u}=this._getCached(),p=[];if(!(this._def.catchall instanceof Jl&&this._def.unknownKeys==="strip"))for(const m in o.data)u.includes(m)||p.push(m);const f=[];for(const m of u){const y=l[m],_=o.data[m];f.push({key:{status:"valid",value:m},value:y._parse(new sl(o,_,o.path,m)),alwaysSet:m in o.data})}if(this._def.catchall instanceof Jl){const m=this._def.unknownKeys;if(m==="passthrough")for(const y of p)f.push({key:{status:"valid",value:y},value:{status:"valid",value:o.data[y]}});else if(m==="strict")p.length>0&&(Le(o,{code:pe.unrecognized_keys,keys:p}),e.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const y of p){const _=o.data[y];f.push({key:{status:"valid",value:y},value:m._parse(new sl(o,_,o.path,y)),alwaysSet:y in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const m=[];for(const y of f){const _=await y.key;m.push({key:_,value:await y.value,alwaysSet:y.alwaysSet})}return m}).then(m=>co.mergeObjectSync(e,m)):co.mergeObjectSync(e,f)}get shape(){return this._def.shape()}strict(i){return Xe.errToObj,new Wi({...this._def,unknownKeys:"strict",...i!==void 0?{errorMap:(e,o)=>{var l,u,p,f;const m=(p=(u=(l=this._def).errorMap)===null||u===void 0?void 0:u.call(l,e,o).message)!==null&&p!==void 0?p:o.defaultError;return e.code==="unrecognized_keys"?{message:(f=Xe.errToObj(i).message)!==null&&f!==void 0?f:m}:{message:m}}}:{}})}strip(){return new Wi({...this._def,unknownKeys:"strip"})}passthrough(){return new Wi({...this._def,unknownKeys:"passthrough"})}extend(i){return new Wi({...this._def,shape:()=>({...this._def.shape(),...i})})}merge(i){return new Wi({unknownKeys:i._def.unknownKeys,catchall:i._def.catchall,shape:()=>({...this._def.shape(),...i._def.shape()}),typeName:ir.ZodObject})}setKey(i,e){return this.augment({[i]:e})}catchall(i){return new Wi({...this._def,catchall:i})}pick(i){const e={};return ci.objectKeys(i).forEach(o=>{i[o]&&this.shape[o]&&(e[o]=this.shape[o])}),new Wi({...this._def,shape:()=>e})}omit(i){const e={};return ci.objectKeys(this.shape).forEach(o=>{i[o]||(e[o]=this.shape[o])}),new Wi({...this._def,shape:()=>e})}deepPartial(){return Pd(this)}partial(i){const e={};return ci.objectKeys(this.shape).forEach(o=>{const l=this.shape[o];i&&!i[o]?e[o]=l:e[o]=l.optional()}),new Wi({...this._def,shape:()=>e})}required(i){const e={};return ci.objectKeys(this.shape).forEach(o=>{if(i&&!i[o])e[o]=this.shape[o];else{let l=this.shape[o];for(;l instanceof Vl;)l=l._def.innerType;e[o]=l}}),new Wi({...this._def,shape:()=>e})}keyof(){return YS(ci.objectKeys(this.shape))}}Wi.create=(n,i)=>new Wi({shape:()=>n,unknownKeys:"strip",catchall:Jl.create(),typeName:ir.ZodObject,...gr(i)});Wi.strictCreate=(n,i)=>new Wi({shape:()=>n,unknownKeys:"strict",catchall:Jl.create(),typeName:ir.ZodObject,...gr(i)});Wi.lazycreate=(n,i)=>new Wi({shape:n,unknownKeys:"strip",catchall:Jl.create(),typeName:ir.ZodObject,...gr(i)});class mg extends yr{_parse(i){const{ctx:e}=this._processInputParams(i),o=this._def.options;function l(u){for(const f of u)if(f.result.status==="valid")return f.result;for(const f of u)if(f.result.status==="dirty")return e.common.issues.push(...f.ctx.common.issues),f.result;const p=u.map(f=>new Ea(f.ctx.common.issues));return Le(e,{code:pe.invalid_union,unionErrors:p}),hr}if(e.common.async)return Promise.all(o.map(async u=>{const p={...e,common:{...e.common,issues:[]},parent:null};return{result:await u._parseAsync({data:e.data,path:e.path,parent:p}),ctx:p}})).then(l);{let u;const p=[];for(const m of o){const y={...e,common:{...e.common,issues:[]},parent:null},_=m._parseSync({data:e.data,path:e.path,parent:y});if(_.status==="valid")return _;_.status==="dirty"&&!u&&(u={result:_,ctx:y}),y.common.issues.length&&p.push(y.common.issues)}if(u)return e.common.issues.push(...u.ctx.common.issues),u.result;const f=p.map(m=>new Ea(m));return Le(e,{code:pe.invalid_union,unionErrors:f}),hr}}get options(){return this._def.options}}mg.create=(n,i)=>new mg({options:n,typeName:ir.ZodUnion,...gr(i)});const Xv=n=>n instanceof bg?Xv(n.schema):n instanceof Sa?Xv(n.innerType()):n instanceof wg?[n.value]:n instanceof $c?n.options:n instanceof xg?Object.keys(n.enum):n instanceof _g?Xv(n._def.innerType):n instanceof fg?[void 0]:n instanceof gg?[null]:null;class ry extends yr{_parse(i){const{ctx:e}=this._processInputParams(i);if(e.parsedType!==Pe.object)return Le(e,{code:pe.invalid_type,expected:Pe.object,received:e.parsedType}),hr;const o=this.discriminator,l=e.data[o],u=this.optionsMap.get(l);return u?e.common.async?u._parseAsync({data:e.data,path:e.path,parent:e}):u._parseSync({data:e.data,path:e.path,parent:e}):(Le(e,{code:pe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[o]}),hr)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(i,e,o){const l=new Map;for(const u of e){const p=Xv(u.shape[i]);if(!p)throw new Error(`A discriminator value for key \`${i}\` could not be extracted from all schema options`);for(const f of p){if(l.has(f))throw new Error(`Discriminator property ${String(i)} has duplicate value ${String(f)}`);l.set(f,u)}}return new ry({typeName:ir.ZodDiscriminatedUnion,discriminator:i,options:e,optionsMap:l,...gr(o)})}}function Uw(n,i){const e=Hc(n),o=Hc(i);if(n===i)return{valid:!0,data:n};if(e===Pe.object&&o===Pe.object){const l=ci.objectKeys(i),u=ci.objectKeys(n).filter(f=>l.indexOf(f)!==-1),p={...n,...i};for(const f of u){const m=Uw(n[f],i[f]);if(!m.valid)return{valid:!1};p[f]=m.data}return{valid:!0,data:p}}else if(e===Pe.array&&o===Pe.array){if(n.length!==i.length)return{valid:!1};const l=[];for(let u=0;u<n.length;u++){const p=n[u],f=i[u],m=Uw(p,f);if(!m.valid)return{valid:!1};l.push(m.data)}return{valid:!0,data:l}}else return e===Pe.date&&o===Pe.date&&+n==+i?{valid:!0,data:n}:{valid:!1}}class vg extends yr{_parse(i){const{status:e,ctx:o}=this._processInputParams(i),l=(u,p)=>{if(jw(u)||jw(p))return hr;const f=Uw(u.value,p.value);return f.valid?((Hw(u)||Hw(p))&&e.dirty(),{status:e.value,value:f.data}):(Le(o,{code:pe.invalid_intersection_types}),hr)};return o.common.async?Promise.all([this._def.left._parseAsync({data:o.data,path:o.path,parent:o}),this._def.right._parseAsync({data:o.data,path:o.path,parent:o})]).then(([u,p])=>l(u,p)):l(this._def.left._parseSync({data:o.data,path:o.path,parent:o}),this._def.right._parseSync({data:o.data,path:o.path,parent:o}))}}vg.create=(n,i,e)=>new vg({left:n,right:i,typeName:ir.ZodIntersection,...gr(e)});class al extends yr{_parse(i){const{status:e,ctx:o}=this._processInputParams(i);if(o.parsedType!==Pe.array)return Le(o,{code:pe.invalid_type,expected:Pe.array,received:o.parsedType}),hr;if(o.data.length<this._def.items.length)return Le(o,{code:pe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),hr;!this._def.rest&&o.data.length>this._def.items.length&&(Le(o,{code:pe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),e.dirty());const l=[...o.data].map((u,p)=>{const f=this._def.items[p]||this._def.rest;return f?f._parse(new sl(o,u,o.path,p)):null}).filter(u=>!!u);return o.common.async?Promise.all(l).then(u=>co.mergeArray(e,u)):co.mergeArray(e,l)}get items(){return this._def.items}rest(i){return new al({...this._def,rest:i})}}al.create=(n,i)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new al({items:n,typeName:ir.ZodTuple,rest:null,...gr(i)})};class yg extends yr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(i){const{status:e,ctx:o}=this._processInputParams(i);if(o.parsedType!==Pe.object)return Le(o,{code:pe.invalid_type,expected:Pe.object,received:o.parsedType}),hr;const l=[],u=this._def.keyType,p=this._def.valueType;for(const f in o.data)l.push({key:u._parse(new sl(o,f,o.path,f)),value:p._parse(new sl(o,o.data[f],o.path,f))});return o.common.async?co.mergeObjectAsync(e,l):co.mergeObjectSync(e,l)}get element(){return this._def.valueType}static create(i,e,o){return e instanceof yr?new yg({keyType:i,valueType:e,typeName:ir.ZodRecord,...gr(o)}):new yg({keyType:ba.create(),valueType:i,typeName:ir.ZodRecord,...gr(e)})}}class k0 extends yr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(i){const{status:e,ctx:o}=this._processInputParams(i);if(o.parsedType!==Pe.map)return Le(o,{code:pe.invalid_type,expected:Pe.map,received:o.parsedType}),hr;const l=this._def.keyType,u=this._def.valueType,p=[...o.data.entries()].map(([f,m],y)=>({key:l._parse(new sl(o,f,o.path,[y,"key"])),value:u._parse(new sl(o,m,o.path,[y,"value"]))}));if(o.common.async){const f=new Map;return Promise.resolve().then(async()=>{for(const m of p){const y=await m.key,_=await m.value;if(y.status==="aborted"||_.status==="aborted")return hr;(y.status==="dirty"||_.status==="dirty")&&e.dirty(),f.set(y.value,_.value)}return{status:e.value,value:f}})}else{const f=new Map;for(const m of p){const y=m.key,_=m.value;if(y.status==="aborted"||_.status==="aborted")return hr;(y.status==="dirty"||_.status==="dirty")&&e.dirty(),f.set(y.value,_.value)}return{status:e.value,value:f}}}}k0.create=(n,i,e)=>new k0({valueType:i,keyType:n,typeName:ir.ZodMap,...gr(e)});class lh extends yr{_parse(i){const{status:e,ctx:o}=this._processInputParams(i);if(o.parsedType!==Pe.set)return Le(o,{code:pe.invalid_type,expected:Pe.set,received:o.parsedType}),hr;const l=this._def;l.minSize!==null&&o.data.size<l.minSize.value&&(Le(o,{code:pe.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),e.dirty()),l.maxSize!==null&&o.data.size>l.maxSize.value&&(Le(o,{code:pe.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),e.dirty());const u=this._def.valueType;function p(m){const y=new Set;for(const _ of m){if(_.status==="aborted")return hr;_.status==="dirty"&&e.dirty(),y.add(_.value)}return{status:e.value,value:y}}const f=[...o.data.values()].map((m,y)=>u._parse(new sl(o,m,o.path,y)));return o.common.async?Promise.all(f).then(m=>p(m)):p(f)}min(i,e){return new lh({...this._def,minSize:{value:i,message:Xe.toString(e)}})}max(i,e){return new lh({...this._def,maxSize:{value:i,message:Xe.toString(e)}})}size(i,e){return this.min(i,e).max(i,e)}nonempty(i){return this.min(1,i)}}lh.create=(n,i)=>new lh({valueType:n,minSize:null,maxSize:null,typeName:ir.ZodSet,...gr(i)});class jd extends yr{constructor(){super(...arguments),this.validate=this.implement}_parse(i){const{ctx:e}=this._processInputParams(i);if(e.parsedType!==Pe.function)return Le(e,{code:pe.invalid_type,expected:Pe.function,received:e.parsedType}),hr;function o(f,m){return b0({data:f,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,y0(),hg].filter(y=>!!y),issueData:{code:pe.invalid_arguments,argumentsError:m}})}function l(f,m){return b0({data:f,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,y0(),hg].filter(y=>!!y),issueData:{code:pe.invalid_return_type,returnTypeError:m}})}const u={errorMap:e.common.contextualErrorMap},p=e.data;if(this._def.returns instanceof Jd){const f=this;return ko(async function(...m){const y=new Ea([]),_=await f._def.args.parseAsync(m,u).catch(C=>{throw y.addIssue(o(m,C)),y}),E=await Reflect.apply(p,this,_);return await f._def.returns._def.type.parseAsync(E,u).catch(C=>{throw y.addIssue(l(E,C)),y})})}else{const f=this;return ko(function(...m){const y=f._def.args.safeParse(m,u);if(!y.success)throw new Ea([o(m,y.error)]);const _=Reflect.apply(p,this,y.data),E=f._def.returns.safeParse(_,u);if(!E.success)throw new Ea([l(_,E.error)]);return E.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...i){return new jd({...this._def,args:al.create(i).rest(eh.create())})}returns(i){return new jd({...this._def,returns:i})}implement(i){return this.parse(i)}strictImplement(i){return this.parse(i)}static create(i,e,o){return new jd({args:i||al.create([]).rest(eh.create()),returns:e||eh.create(),typeName:ir.ZodFunction,...gr(o)})}}class bg extends yr{get schema(){return this._def.getter()}_parse(i){const{ctx:e}=this._processInputParams(i);return this._def.getter()._parse({data:e.data,path:e.path,parent:e})}}bg.create=(n,i)=>new bg({getter:n,typeName:ir.ZodLazy,...gr(i)});class wg extends yr{_parse(i){if(i.data!==this._def.value){const e=this._getOrReturnCtx(i);return Le(e,{received:e.data,code:pe.invalid_literal,expected:this._def.value}),hr}return{status:"valid",value:i.data}}get value(){return this._def.value}}wg.create=(n,i)=>new wg({value:n,typeName:ir.ZodLiteral,...gr(i)});function YS(n,i){return new $c({values:n,typeName:ir.ZodEnum,...gr(i)})}class $c extends yr{_parse(i){if(typeof i.data!="string"){const e=this._getOrReturnCtx(i),o=this._def.values;return Le(e,{expected:ci.joinValues(o),received:e.parsedType,code:pe.invalid_type}),hr}if(this._def.values.indexOf(i.data)===-1){const e=this._getOrReturnCtx(i),o=this._def.values;return Le(e,{received:e.data,code:pe.invalid_enum_value,options:o}),hr}return ko(i.data)}get options(){return this._def.values}get enum(){const i={};for(const e of this._def.values)i[e]=e;return i}get Values(){const i={};for(const e of this._def.values)i[e]=e;return i}get Enum(){const i={};for(const e of this._def.values)i[e]=e;return i}extract(i){return $c.create(i)}exclude(i){return $c.create(this.options.filter(e=>!i.includes(e)))}}$c.create=YS;class xg extends yr{_parse(i){const e=ci.getValidEnumValues(this._def.values),o=this._getOrReturnCtx(i);if(o.parsedType!==Pe.string&&o.parsedType!==Pe.number){const l=ci.objectValues(e);return Le(o,{expected:ci.joinValues(l),received:o.parsedType,code:pe.invalid_type}),hr}if(e.indexOf(i.data)===-1){const l=ci.objectValues(e);return Le(o,{received:o.data,code:pe.invalid_enum_value,options:l}),hr}return ko(i.data)}get enum(){return this._def.values}}xg.create=(n,i)=>new xg({values:n,typeName:ir.ZodNativeEnum,...gr(i)});class Jd extends yr{unwrap(){return this._def.type}_parse(i){const{ctx:e}=this._processInputParams(i);if(e.parsedType!==Pe.promise&&e.common.async===!1)return Le(e,{code:pe.invalid_type,expected:Pe.promise,received:e.parsedType}),hr;const o=e.parsedType===Pe.promise?e.data:Promise.resolve(e.data);return ko(o.then(l=>this._def.type.parseAsync(l,{path:e.path,errorMap:e.common.contextualErrorMap})))}}Jd.create=(n,i)=>new Jd({type:n,typeName:ir.ZodPromise,...gr(i)});class Sa extends yr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ir.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(i){const{status:e,ctx:o}=this._processInputParams(i),l=this._def.effect||null,u={addIssue:p=>{Le(o,p),p.fatal?e.abort():e.dirty()},get path(){return o.path}};if(u.addIssue=u.addIssue.bind(u),l.type==="preprocess"){const p=l.transform(o.data,u);return o.common.issues.length?{status:"dirty",value:o.data}:o.common.async?Promise.resolve(p).then(f=>this._def.schema._parseAsync({data:f,path:o.path,parent:o})):this._def.schema._parseSync({data:p,path:o.path,parent:o})}if(l.type==="refinement"){const p=f=>{const m=l.refinement(f,u);if(o.common.async)return Promise.resolve(m);if(m instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return f};if(o.common.async===!1){const f=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});return f.status==="aborted"?hr:(f.status==="dirty"&&e.dirty(),p(f.value),{status:e.value,value:f.value})}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(f=>f.status==="aborted"?hr:(f.status==="dirty"&&e.dirty(),p(f.value).then(()=>({status:e.value,value:f.value}))))}if(l.type==="transform")if(o.common.async===!1){const p=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});if(!dg(p))return p;const f=l.transform(p.value,u);if(f instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:e.value,value:f}}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(p=>dg(p)?Promise.resolve(l.transform(p.value,u)).then(f=>({status:e.value,value:f})):p);ci.assertNever(l)}}Sa.create=(n,i,e)=>new Sa({schema:n,typeName:ir.ZodEffects,effect:i,...gr(e)});Sa.createWithPreprocess=(n,i,e)=>new Sa({schema:i,effect:{type:"preprocess",transform:n},typeName:ir.ZodEffects,...gr(e)});class Vl extends yr{_parse(i){return this._getType(i)===Pe.undefined?ko(void 0):this._def.innerType._parse(i)}unwrap(){return this._def.innerType}}Vl.create=(n,i)=>new Vl({innerType:n,typeName:ir.ZodOptional,...gr(i)});class ch extends yr{_parse(i){return this._getType(i)===Pe.null?ko(null):this._def.innerType._parse(i)}unwrap(){return this._def.innerType}}ch.create=(n,i)=>new ch({innerType:n,typeName:ir.ZodNullable,...gr(i)});class _g extends yr{_parse(i){const{ctx:e}=this._processInputParams(i);let o=e.data;return e.parsedType===Pe.undefined&&(o=this._def.defaultValue()),this._def.innerType._parse({data:o,path:e.path,parent:e})}removeDefault(){return this._def.innerType}}_g.create=(n,i)=>new _g({innerType:n,typeName:ir.ZodDefault,defaultValue:typeof i.default=="function"?i.default:()=>i.default,...gr(i)});class E0 extends yr{_parse(i){const{ctx:e}=this._processInputParams(i),o={...e,common:{...e.common,issues:[]}},l=this._def.innerType._parse({data:o.data,path:o.path,parent:{...o}});return w0(l)?l.then(u=>({status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new Ea(o.common.issues)},input:o.data})})):{status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new Ea(o.common.issues)},input:o.data})}}removeCatch(){return this._def.innerType}}E0.create=(n,i)=>new E0({innerType:n,typeName:ir.ZodCatch,catchValue:typeof i.catch=="function"?i.catch:()=>i.catch,...gr(i)});class T0 extends yr{_parse(i){if(this._getType(i)!==Pe.nan){const e=this._getOrReturnCtx(i);return Le(e,{code:pe.invalid_type,expected:Pe.nan,received:e.parsedType}),hr}return{status:"valid",value:i.data}}}T0.create=n=>new T0({typeName:ir.ZodNaN,...gr(n)});const N3=Symbol("zod_brand");class KS extends yr{_parse(i){const{ctx:e}=this._processInputParams(i),o=e.data;return this._def.type._parse({data:o,path:e.path,parent:e})}unwrap(){return this._def.type}}class Ng extends yr{_parse(i){const{status:e,ctx:o}=this._processInputParams(i);if(o.common.async)return(async()=>{const l=await this._def.in._parseAsync({data:o.data,path:o.path,parent:o});return l.status==="aborted"?hr:l.status==="dirty"?(e.dirty(),XS(l.value)):this._def.out._parseAsync({data:l.value,path:o.path,parent:o})})();{const l=this._def.in._parseSync({data:o.data,path:o.path,parent:o});return l.status==="aborted"?hr:l.status==="dirty"?(e.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:o.path,parent:o})}}static create(i,e){return new Ng({in:i,out:e,typeName:ir.ZodPipeline})}}class S0 extends yr{_parse(i){const e=this._def.innerType._parse(i);return dg(e)&&(e.value=Object.freeze(e.value)),e}}S0.create=(n,i)=>new S0({innerType:n,typeName:ir.ZodReadonly,...gr(i)});const JS=(n,i={},e)=>n?Kd.create().superRefine((o,l)=>{var u,p;if(!n(o)){const f=typeof i=="function"?i(o):typeof i=="string"?{message:i}:i,m=(p=(u=f.fatal)!==null&&u!==void 0?u:e)!==null&&p!==void 0?p:!0,y=typeof f=="string"?{message:f}:f;l.addIssue({code:"custom",...y,fatal:m})}}):Kd.create(),D3={object:Wi.lazycreate};var ir;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(ir||(ir={}));const F3=(n,i={message:`Input not instance of ${n.name}`})=>JS(e=>e instanceof n,i),QS=ba.create,$S=Jc.create,B3=T0.create,j3=Qc.create,tC=pg.create,H3=ah.create,U3=x0.create,G3=fg.create,q3=gg.create,V3=Kd.create,W3=eh.create,Z3=Jl.create,X3=_0.create,Y3=Ta.create,K3=Wi.create,J3=Wi.strictCreate,Q3=mg.create,$3=ry.create,tD=vg.create,eD=al.create,rD=yg.create,iD=k0.create,nD=lh.create,oD=jd.create,sD=bg.create,aD=wg.create,lD=$c.create,cD=xg.create,uD=Jd.create,p2=Sa.create,hD=Vl.create,dD=ch.create,pD=Sa.createWithPreprocess,fD=Ng.create,gD=()=>QS().optional(),mD=()=>$S().optional(),vD=()=>tC().optional(),yD={string:n=>ba.create({...n,coerce:!0}),number:n=>Jc.create({...n,coerce:!0}),boolean:n=>pg.create({...n,coerce:!0}),bigint:n=>Qc.create({...n,coerce:!0}),date:n=>ah.create({...n,coerce:!0})},bD=hr;var bt=Object.freeze({__proto__:null,defaultErrorMap:hg,setErrorMap:k3,getErrorMap:y0,makeIssue:b0,EMPTY_PATH:E3,addIssueToContext:Le,ParseStatus:co,INVALID:hr,DIRTY:XS,OK:ko,isAborted:jw,isDirty:Hw,isValid:dg,isAsync:w0,get util(){return ci},get objectUtil(){return Bw},ZodParsedType:Pe,getParsedType:Hc,ZodType:yr,ZodString:ba,ZodNumber:Jc,ZodBigInt:Qc,ZodBoolean:pg,ZodDate:ah,ZodSymbol:x0,ZodUndefined:fg,ZodNull:gg,ZodAny:Kd,ZodUnknown:eh,ZodNever:Jl,ZodVoid:_0,ZodArray:Ta,ZodObject:Wi,ZodUnion:mg,ZodDiscriminatedUnion:ry,ZodIntersection:vg,ZodTuple:al,ZodRecord:yg,ZodMap:k0,ZodSet:lh,ZodFunction:jd,ZodLazy:bg,ZodLiteral:wg,ZodEnum:$c,ZodNativeEnum:xg,ZodPromise:Jd,ZodEffects:Sa,ZodTransformer:Sa,ZodOptional:Vl,ZodNullable:ch,ZodDefault:_g,ZodCatch:E0,ZodNaN:T0,BRAND:N3,ZodBranded:KS,ZodPipeline:Ng,ZodReadonly:S0,custom:JS,Schema:yr,ZodSchema:yr,late:D3,get ZodFirstPartyTypeKind(){return ir},coerce:yD,any:V3,array:Y3,bigint:j3,boolean:tC,date:H3,discriminatedUnion:$3,effect:p2,enum:lD,function:oD,instanceof:F3,intersection:tD,lazy:sD,literal:aD,map:iD,nan:B3,nativeEnum:cD,never:Z3,null:q3,nullable:dD,number:$S,object:K3,oboolean:vD,onumber:mD,optional:hD,ostring:gD,pipeline:fD,preprocess:pD,promise:uD,record:rD,set:nD,strictObject:J3,string:QS,symbol:U3,transformer:p2,tuple:eD,undefined:G3,union:Q3,unknown:W3,void:X3,NEVER:bD,ZodIssueCode:pe,quotelessJson:_3,ZodError:Ea});const iy=/^https?:\/\/library.stanford.edu\/iiif\/image-api\/1.1\/compliance.html#level(?<level>[012])$/,eC=bt.string().regex(iy),wD=eC,C0="http://library.stanford.edu/iiif/image-api/1.1/context.json",rC="http://iiif.io/api/image/1/context.json",iC=bt.literal(C0),nC=bt.object({"@context":iC,"@id":bt.string().url(),profile:eC.optional(),width:bt.number().int(),height:bt.number().int(),scale_factors:bt.number().array().optional(),tile_width:bt.number().optional(),tile_height:bt.number().optional()}),oC=bt.object({width:bt.number().int(),height:bt.number().int()}),sC=bt.object({width:bt.number().int(),height:bt.number().int().optional(),scaleFactors:bt.array(bt.number().int())}),ny=/^https?:\/\/iiif.io\/api\/image\/2.*level(?<level>[012])(.json)?$/,f2=bt.string().regex(ny),xD=bt.object({formats:bt.string().array().optional(),maxArea:bt.number().int().optional(),maxHeight:bt.number().int().optional(),maxWidth:bt.number().int().optional(),qualities:bt.string().array().optional(),supports:bt.string().array().optional()}),P0=f2.or(bt.array(bt.union([f2,xD,bt.any()]))),M0="http://iiif.io/api/image/2/context.json",aC=bt.literal(M0).or(bt.literal("https://iiif.io/api/image/2/context.json")),Z1=bt.object({"@id":bt.string().url(),"@type":bt.literal("iiif:Image").optional(),"@context":aC,protocol:bt.literal("http://iiif.io/api/image"),width:bt.number().int(),height:bt.number().int(),profile:P0,sizes:oC.array().optional(),tiles:sC.array().optional()}),_D=["level0","level1","level2"],X1=bt.object({id:bt.string().url(),type:bt.literal("ImageService3"),protocol:bt.literal("http://iiif.io/api/image"),profile:bt.enum(_D),width:bt.number().int(),height:bt.number().int(),maxWidth:bt.number().int().optional(),maxHeight:bt.number().int().optional(),maxArea:bt.number().int().optional(),sizes:oC.array().optional(),tiles:sC.array().optional(),extraFeatures:bt.string().array().optional()}),kD=bt.object({"@id":bt.string().url(),profile:wD.or(P0),width:bt.number().int().optional(),height:bt.number().int().optional(),"@context":iC.or(bt.literal("http://iiif.io/api/image/1/context.json")).or(aC).optional()}),ED=["level0","level1","level2"],TD=["ImageService1","ImageService2","ImageService3"],SD=bt.object({id:bt.string().url(),type:bt.literal("ImageService2"),profile:P0}).or(bt.object({"@id":bt.string().url(),"@type":bt.literal("ImageService2"),profile:P0})),CD=bt.object({id:bt.string().url(),type:bt.enum(TD),profile:bt.enum(ED)}),PD=bt.union([SD,CD]),lC=kD.or(PD),g2=bt.string().or(bt.number()).or(bt.boolean()),cC=g2.or(g2.array()),m2=bt.object({"@language":bt.string().optional(),"@value":cC}),uh=cC.or(m2).or(m2.array()),MD=bt.object({label:uh.optional(),value:uh.optional()}),uC=MD.array(),ID=bt.object({width:bt.number().int().optional(),height:bt.number().int().optional(),service:lC}),LD=bt.object({resource:ID}),hC=bt.object({"@id":bt.string().url(),"@type":bt.literal("sc:Canvas"),width:bt.number().int(),height:bt.number().int(),images:LD.array().length(1),label:uh.optional(),metadata:uC.optional()}),RD=bt.object({canvases:hC.array().nonempty()}),dC=bt.object({"@id":bt.string().url(),"@type":bt.literal("sc:Manifest"),sequences:RD.array().length(1),label:uh.optional(),description:uh.optional(),metadata:uC.optional()}),v2=bt.lazy(()=>bt.object({"@id":bt.string().url(),"@type":bt.literal("sc:Manifest"),label:uh.optional()})),Gw=bt.lazy(()=>bt.object({"@id":bt.string().url(),"@type":bt.literal("sc:Collection"),label:uh.optional(),manifests:v2.array().optional(),collections:Gw.array().optional(),members:v2.or(Gw).array().optional()})),AD=bt.string().or(bt.number()).or(bt.boolean()),hh=bt.record(bt.string(),AD.array()),zD=bt.object({label:hh.optional(),value:hh.optional()}),pC=zD.array(),y2=bt.object({type:bt.literal("Image"),width:bt.number().int().optional(),height:bt.number().int().optional(),service:lC.array()}),OD=bt.object({type:bt.literal("Annotation"),body:y2.or(y2.array().length(1))}),ND=bt.object({type:bt.literal("AnnotationPage"),items:OD.array().length(1)}),fC=bt.object({id:bt.string().url(),type:bt.literal("Canvas"),width:bt.number().int(),height:bt.number().int(),items:ND.array().length(1),label:hh.optional(),metadata:pC.optional()}),gC=bt.object({id:bt.string().url(),type:bt.literal("Manifest"),items:fC.array().nonempty(),label:hh.optional(),description:hh.optional(),metadata:pC.optional()}),DD=bt.lazy(()=>bt.object({id:bt.string().url(),type:bt.literal("Manifest"),label:hh.optional()})),mC=bt.lazy(()=>bt.object({id:bt.string().url(),type:bt.literal("Collection"),label:hh.optional(),items:DD.or(mC).array()})),vC=nC.or(Z1).or(X1);hC.or(fC);const FD=dC.or(gC);Gw.or(mC);dC.or(Z1);gC.or(X1);FD.or(vC);function yC({width:n,height:i},e,o,l){const u=o*e.originalWidth,p=l*e.originalHeight,f=o*e.originalWidth+e.width*e.scaleFactor>n?n-o*e.originalWidth:e.width*e.scaleFactor,m=l*e.originalHeight+e.height*e.scaleFactor>i?i-l*e.originalHeight:e.height*e.scaleFactor;let y=e.width,_=e.height;return u+e.width*e.scaleFactor>n&&(y=Math.floor((n-u+e.scaleFactor-1)/e.scaleFactor)),p+e.height*e.scaleFactor>i&&(_=Math.floor((i-p+e.scaleFactor-1)/e.scaleFactor)),{region:{x:u,y:p,width:f,height:m},size:{width:y,height:_}}}function BD({width:n,height:i},e=768){const o=Math.max(n,i)/e,l=Math.ceil(Math.log(o)/Math.log(2));return{scaleFactors:Array.from({length:l},(u,p)=>2**p),width:e}}function jD({width:n,height:i},e,o){const l=e.height||e.width,u=e.width*o,p=l*o;return{scaleFactor:o,width:e.width,height:l,originalWidth:u,originalHeight:p,columns:Math.ceil(n/u),rows:Math.ceil(i/p)}}function HD(n,i){return i.map(e=>e.scaleFactors.map(o=>jD(n,e,o))).flat()}function UD(n){return!!n.some(i=>i.width&&i.scaleFactors&&i.scaleFactors.length)}function GD(n,i,e){if(!i||!UD(i))if(e)i=[BD(n)];else throw new Error("Image does not support tiles or custom regions and sizes.");return HD(n,i)}function qD(n,i,e="cover"){if(e==="cover"||e==="contain"){const o=i.width/n.width,l=i.height/n.height,u=e==="cover"?Math.max(o,l):Math.min(o,l),p=n.width*u,f=n.height*u;return{width:p,height:f}}else throw new Error('Mode must be either "cover" or "contain"')}const VD=.8,WD=1.5;function bC(n,i,e="cover",{sizes:o,tileZoomLevels:l,supportsAnyRegionAndSize:u,maxWidth:p,maxHeight:f,maxArea:m}){let{width:y,height:_}=qD(n,i,e);if(p&&y>p&&(_=_/y*p,y=p),f&&_>f&&(y=y/_*f,_=f),m&&y*_>m){const C=_/y,I=Math.floor(Math.sqrt(m/C))*C;y=Math.floor(I)/C,_=y*C}const E=n.width/n.height;if(y=Math.floor(y),_=Math.round(y/E),o){let C;for(const I of o){const z=I.width/y;if(z>=VD&&z<=WD){C=I;break}}if(C)return{size:C}}if(u)return{size:{width:Math.round(y),height:Math.round(_)}};if(l){const C=n.width/y,I=l.map(({scaleFactor:$},j)=>({index:j,scaleFactor:$,diff:Math.abs($-C)})).sort(($,j)=>$.diff-j.diff),z=l[I[0].index],B=Math.ceil(n.width/(z.scaleFactor*l[0].width)),G=Math.ceil(n.height/(z.scaleFactor*l[0].height)),H=[];for(let $=0;$<G;$++){const j=[];for(let V=0;V<B;V++){const ot=yC(n,z,V,$);j.push(ot)}H.push(j)}return H}throw new Error("Unable to create thumbnail")}const wC=["regionByPx","sizeByWh"];function ZD(n){const i=n.match(iy);if(i&&i.groups)return parseInt(i.groups.level)}function b2(n){const i=n.match(ny);if(i&&i.groups)return parseInt(i.groups.level)}function XD(n){return{maxWidth:n==null?void 0:n.maxWidth,maxHeight:n==null?void 0:n.maxHeight,maxArea:n==null?void 0:n.maxArea,supportsAnyRegionAndSize:wC.every(i=>{var e;return(n==null?void 0:n.supports)&&((e=n==null?void 0:n.supports)==null?void 0:e.includes(i))})}}function YD(n){if("type"in n&&n.type==="ImageService3")return 3;if("type"in n&&n.type==="ImageService2"||"@type"in n&&n["@type"]==="ImageService2"||"@context"in n&&n["@context"]===M0)return 2;if("@context"in n&&(n["@context"]===C0||n["@context"]===rC))return 1;if("profile"in n){let i;return Array.isArray(n.profile)?i=n.profile[0]:i=n.profile,i.match(iy)?1:i.match(ny)?2:3}else throw new Error("Unsupported IIIF Image Service")}function qw(n){if("type"in n){const i=n.profile;let e=!1;return i==="level0"||typeof i=="string"&&i.endsWith("level0.json")?"extraFeatures"in n&&(e=wC.every(o=>n.extraFeatures&&n.extraFeatures.includes(o))):e=!0,{maxWidth:"maxWidth"in n?n.maxWidth:void 0,maxHeight:"maxHeight"in n?n.maxHeight:void 0,maxArea:"maxArea"in n?n.maxArea:void 0,supportsAnyRegionAndSize:e}}else if(Array.isArray(n.profile)){let i=!1,e=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY;return n.profile.forEach(u=>{if(typeof u=="string"){const p=b2(u);p&&(i=i||p>=1)}else{const{maxWidth:p,maxHeight:f,maxArea:m,supportsAnyRegionAndSize:y}=XD(u);p!==void 0&&(o=Math.max(p,o)),f!==void 0&&(e=Math.max(f,e)),m!==void 0&&(l=Math.max(m,l)),i=i||y}}),{maxWidth:o>=0?o:void 0,maxHeight:e>=0?e:void 0,maxArea:l>=0?l:void 0,supportsAnyRegionAndSize:i}}else if("profile"in n&&n.profile){const i=ZD(n.profile),e=b2(n.profile);return i?{supportsAnyRegionAndSize:i>=1}:e?{supportsAnyRegionAndSize:e>=1}:{supportsAnyRegionAndSize:!1}}else throw new Error("Invalid Image")}const KD="image";class JD{constructor(i,e){if(this.embedded=!0,this.type=KD,e){const o=i;let l,u;if(Array.isArray(o.service)?o.service.forEach(p=>{try{const f=YD(p);(!u||f>u)&&(u=f,l=p)}catch{}}):l=o.service,!l)throw new Error("Unsupported IIIF Image Service");if("@id"in l)this.uri=l["@id"];else if("id"in l)this.uri=l.id;else throw new Error("Unsupported IIIF Image Service");if("type"in l&&l.type==="ImageService3")this.majorVersion=3;else if("type"in l&&l.type==="ImageService2"||"@type"in l&&l["@type"]==="ImageService2"||"@context"in l&&l["@context"]===M0)this.majorVersion=2;else if("@context"in l&&(l["@context"]===C0||l["@context"]===rC))this.majorVersion=1;else if("profile"in l){let p;Array.isArray(l.profile)?p=l.profile[0]:p=l.profile,p.match(iy)?this.majorVersion=1:p.match(ny)?this.majorVersion=2:this.majorVersion=3}else throw new Error("Unsupported IIIF Image Service");if("profile"in l){const p=qw(l);this.supportsAnyRegionAndSize=p.supportsAnyRegionAndSize,this.maxWidth=p.maxWidth,this.maxHeight=p.maxHeight,this.maxArea=p.maxArea}else this.supportsAnyRegionAndSize=!1}else{if("@id"in i)this.uri=i["@id"];else if("id"in i)this.uri=i.id;else throw new Error("Unsupported IIIF Image");if("type"in i&&i.type==="ImageService3")this.majorVersion=3;else if("@type"in i&&i["@type"]==="iiif:Image"||"@context"in i&&i["@context"]===M0)this.majorVersion=2;else if("@context"in i&&i["@context"]===C0)this.majorVersion=1;else throw new Error("Unsupported IIIF Image");if("profile"in i){const o=qw(i);this.supportsAnyRegionAndSize=o.supportsAnyRegionAndSize,this.maxWidth=o.maxWidth,this.maxHeight=o.maxHeight,this.maxArea=o.maxArea}else this.supportsAnyRegionAndSize=!1}if(i.width!==void 0)this.width=i.width;else if(e)this.width=e.width;else throw new Error("Width not present on either Canvas or Image Resource");if(i.height!==void 0)this.height=i.height;else if(e)this.height=e.height;else throw new Error("Height not present on either Canvas or Image Resource")}getImageUrl(i){const{region:e,size:o}=i;let l,u,p,f,m;e?(m=`${e.x},${e.y},${e.width},${e.height}`,p=e.height,f=e.width):(m="full",p=this.height,f=this.width);let y;if(o){l=Math.round(o.width),u=Math.round(o.height);const C=String(l);let I=String(u);const z=f/p,B=u*z/z;u===Math.round(B)&&(I=""),y=`${C},${I}`}else l=this.width,u=this.height,y=this.majorVersion===2?"full":"max";const _=l*u;if(this.maxWidth!==void 0&&l>this.maxWidth)throw new Error(`Width of requested image is too large: ${l} > ${this.maxWidth}`);if(this.maxHeight!==void 0&&u>this.maxHeight)throw new Error(`Height of requested image is too large: ${u} > ${this.maxHeight}`);if(this.maxArea!==void 0&&_>this.maxArea)throw new Error(`Area of requested image is too large: ${_} > ${this.maxArea}`);const E=this.majorVersion===1?"native":"default";return`${this.uri}/${m}/${y}/0/${E}.jpg`}getThumbnail(i,e="cover"){return bC({width:this.width,height:this.height},i,e,{supportsAnyRegionAndSize:this.supportsAnyRegionAndSize,maxWidth:this.maxWidth,maxHeight:this.maxHeight,maxArea:this.maxArea})}}let QD=class xC extends JD{constructor(i){super(i),this.embedded=!1;const e=qw(i);let o;"tiles"in i&&(o=i.tiles),this.tileZoomLevels=GD({width:this.width,height:this.height},o,e.supportsAnyRegionAndSize),"sizes"in i&&(this.sizes=i.sizes)}static parse(i,e=null){let o;return e===1?o=nC.parse(i):e===2?o=Z1.parse(i):e===3?o=X1.parse(i):o=vC.parse(i),new xC(o)}getIiifTile(i,e,o){return yC({width:this.width,height:this.height},i,e,o)}getThumbnail(i,e="cover"){return bC({width:this.width,height:this.height},i,e,{supportsAnyRegionAndSize:this.supportsAnyRegionAndSize,sizes:this.sizes,tileZoomLevels:this.tileZoomLevels,maxWidth:this.maxWidth,maxHeight:this.maxHeight,maxArea:this.maxArea})}};const w2=bt.record(bt.string(),bt.string().array());bt.object({label:w2.optional(),value:w2.optional()});var No=63710088e-1,_C={centimeters:No*100,centimetres:No*100,degrees:No/111325,feet:No*3.28084,inches:No*39.37,kilometers:No/1e3,kilometres:No/1e3,meters:No,metres:No,miles:No/1609.344,millimeters:No*1e3,millimetres:No*1e3,nauticalmiles:No/1852,radians:1,yards:No*1.0936};function $D(n,i,e){e===void 0&&(e={});var o={type:"Feature"};return(e.id===0||e.id)&&(o.id=e.id),e.bbox&&(o.bbox=e.bbox),o.properties=i||{},o.geometry=n,o}function t4(n,i,e){if(e===void 0&&(e={}),!n)throw new Error("coordinates is required");if(!Array.isArray(n))throw new Error("coordinates must be an Array");if(n.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!x2(n[0])||!x2(n[1]))throw new Error("coordinates must contain numbers");var o={type:"Point",coordinates:n};return $D(o,i,e)}function e4(n,i){i===void 0&&(i="kilometers");var e=_C[i];if(!e)throw new Error(i+" units is invalid");return n*e}function r4(n,i){i===void 0&&(i="kilometers");var e=_C[i];if(!e)throw new Error(i+" units is invalid");return n/e}function Vw(n){var i=n%(2*Math.PI);return i*180/Math.PI}function wa(n){var i=n%360;return i*Math.PI/180}function x2(n){return!isNaN(n)&&n!==null&&!Array.isArray(n)}function Qd(n){if(!n)throw new Error("coord is required");if(!Array.isArray(n)){if(n.type==="Feature"&&n.geometry!==null&&n.geometry.type==="Point")return n.geometry.coordinates;if(n.type==="Point")return n.coordinates}if(Array.isArray(n)&&n.length>=2&&!Array.isArray(n[0])&&!Array.isArray(n[1]))return n;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function i4(n){return n.type==="Feature"?n.geometry:n}function kC(n,i,e){if(e===void 0&&(e={}),e.final===!0)return n4(n,i);var o=Qd(n),l=Qd(i),u=wa(o[0]),p=wa(l[0]),f=wa(o[1]),m=wa(l[1]),y=Math.sin(p-u)*Math.cos(m),_=Math.cos(f)*Math.sin(m)-Math.sin(f)*Math.cos(m)*Math.cos(p-u);return Vw(Math.atan2(y,_))}function n4(n,i){var e=kC(i,n);return e=(e+180)%360,e}function o4(n,i,e,o){o===void 0&&(o={});var l=Qd(n),u=wa(l[0]),p=wa(l[1]),f=wa(e),m=r4(i,o.units),y=Math.asin(Math.sin(p)*Math.cos(m)+Math.cos(p)*Math.sin(m)*Math.cos(f)),_=u+Math.atan2(Math.sin(f)*Math.sin(m)*Math.cos(p),Math.cos(m)-Math.sin(p)*Math.sin(y)),E=Vw(_),C=Vw(y);return t4([E,C],o.properties)}function Y1(n,i,e){e===void 0&&(e={});var o=Qd(n),l=Qd(i),u=wa(l[1]-o[1]),p=wa(l[0]-o[0]),f=wa(o[1]),m=wa(l[1]),y=Math.pow(Math.sin(u/2),2)+Math.pow(Math.sin(p/2),2)*Math.cos(f)*Math.cos(m);return e4(2*Math.atan2(Math.sqrt(y),Math.sqrt(1-y)),e.units)}function I0(n,i){var e=Y1(n,i),o=kC(n,i),l=o4(n,e/2,o);return l}async function EC(n,i={}){let e;if(i.cache&&(e=await i.cache.match(n)),e||(e=await fetch(n,{signal:i.abortSignal}),i.cache&&i.cache.put(n,e.clone())),!e.ok)throw new Error(e.statusText);return e}async function s4(n,i={}){return await(await EC(n,i)).json()}async function a4(n,i={}){return await s4(`${n}/info.json`,i)}function l4(n,i){return new Promise((e,o)=>{const l=new Image;let u=!1;l.addEventListener("load",()=>e(l)),l.addEventListener("error",async()=>{if(u)o(new DOMException("Loading image aborted by user","AbortError"));else try{throw await EC(n,{abortSignal:i}),new Error("Image failed to load by setting Image src but downloaded successfully using fetch")}catch(p){o(p)}}),l.crossOrigin="anonymous",l.src=n,i&&i.addEventListener("abort",()=>{u=!0,l.src=""})})}function TC(n,i=!1){switch(n.type){case"Polygon":return n.coordinates?{...n,coordinates:_2(n.coordinates,i)}:n;case"MultiPolygon":return n.coordinates?{...n,coordinates:n.coordinates.map(e=>_2(e,i))}:n;case"GeometryCollection":return{...n,geometries:n.geometries.map(e=>TC(e,i))};default:return n}}function _2(n,i){if(n.length===0)return n;const e=[];for(let o=0;o<n.length;o++)e.push(c4(n[o],o===0?i:!i));return e}function c4(n,i){let e=0,o=0;for(let l=0,u=n.length,p=u-1;l<u;p=l++){const f=(n[l][0]-n[p][0])*(n[p][1]+n[l][1]),m=e+f;o+=Math.abs(e)>=Math.abs(f)?e-m+f:f-m+e,e=m}return e+o>=0!=!!i?n.slice().reverse():n}function Fo(n){return Array.isArray(n)&&n.length===2&&typeof n[0]=="number"&&typeof n[1]=="number"}function Ja(n){return Array.isArray(n)&&n.every(Fo)}function u4(n){return Array.isArray(n)&&n.every(Fo)}function Qa(n){return Array.isArray(n)&&n.every(u4)}function SC(n){if(n=n.filter(function(i,e,o){return e===0||!J1(i,o[e-1])}),n.length<2)throw new Error("LineString should contain at least 2 points");return n}function K1(n){if(n=n.filter(function(i,e,o){return e===0||!J1(i,o[e-1])}),d4(n)&&n.splice(-1),n.length<3)throw new Error("Ring should contain at least 3 points");return n}function h4(n){return n.map(i=>K1(i))}function Ev(n){return{type:"Point",coordinates:n}}function Tv(n){return{type:"LineString",coordinates:n}}function Sv(n,i=!0){const e={type:"Polygon",coordinates:i?n.map(o=>[...o,o[0]]):n};return TC(e)}function d4(n){return Array.isArray(n)&&n.length>=2&&J1(n[0],n[n.length-1])}function J1(n,i){return n===i?!0:n==null||i==null?!1:n[0]==i[0]&&n[1]==i[1]}function L0(n,i){return[(i[0]-n[0])/2+n[0],(i[1]-n[1])/2+n[1]]}function p4(n,i,e){return[n[0]*e+i[0]*(1-e),n[1]*e+i[1]*(1-e)]}function Wl(n,i){if(Ja(n)&&n.length==2)return Wl(n[0],n[1]);if(Fo(n)&&Fo(i))return Math.sqrt((i[0]-n[0])**2+(i[1]-n[1])**2);throw new Error("Input type not supported")}function f4(n){return n*(Math.PI/180)}function Bl(n){return typeof n=="object"&&n!==null&&n.type==="Point"&&Fo(n.coordinates)}function jl(n){return typeof n=="object"&&n!==null&&n.type==="LineString"&&Ja(n.coordinates)}function Hl(n){return typeof n=="object"&&n!==null&&n.type==="Polygon"&&Array.isArray(n.coordinates)&&Qa(n.coordinates)}function g4(n){const i=typeof n=="object"&&n!==null,e=i&&"type"in n&&typeof n.type=="string"&&(n.type==="Point"||n.type==="LineString"||n.type==="Polygon"),o=i&&"coordinates"in n&&Array.isArray(n.coordinates);return e&&o}function Nf(n){return n.coordinates}function Df(n){return n.coordinates}function Ff(n,i=!1){let e=n.coordinates;return e=h4(e),i?e.map(o=>[...o,o[0]]):e}function m4(n){if(Bl(n))return Nf(n);if(jl(n))return Df(n);if(Hl(n))return Ff(n);throw new Error("Geometry type not supported")}function k2(n){let i=Number.POSITIVE_INFINITY,e=Number.NEGATIVE_INFINITY;for(const o of n)i===void 0?o>=o&&(i=e=o):(i>o&&(i=o),e<o&&(e=o));return[i,e]}function Bn(n){if(Fo(n)&&(n=[n]),Qa(n)&&(n=n.flat()),g4(n))return Bn(m4(n));const i=[],e=[];for(const f of n)i.push(f[0]),e.push(f[1]);const[o,l]=k2(i),[u,p]=k2(e);return[o,u,l,p]}function E2(n,i){return[Math.min(n[0],i[0]),Math.min(n[1],i[1]),Math.max(n[2],i[2]),Math.max(n[3],i[3])]}function v4(n,i){const e=n[2]>=i[0]&&i[2]>=n[0],o=n[3]>=i[1]&&i[3]>=n[1];return e&&o}function kg(n){return[[n[0],n[1]],[n[2],n[1]],[n[2],n[3]],[n[0],n[3]]]}function y4(n){return[kg(n)]}function CC(n){return[[n[0],n[1]],[n[2],n[3]]]}function b4(n){return Wl(CC(n))}function w4(n){return Wl(CC(Bn(n)))}function Ww(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function R0(n){return[n[2]-n[0],n[3]-n[1]]}function PC(n,i){const e=n[0]/i[0],o=n[1]/i[1];return Math.min(e,o)}function iw(n,i){return PC(R0(n),R0(i))}function x4(n){const i=parseInt(n.replace(/^#/,""),16),e=i>>16&255,o=i>>8&255,l=i&255;return[e,o,l]}function T2(n){return x4(n).map(i=>i/255)}function _4(n,i){return!n||!i||n.size!==i.size?!1:[...n].every(e=>i.has(e))}function S2(n,i){if(n!==void 0&&i!==void 0)return Math.max(n,i);if(n!==void 0)return n;if(i!==void 0)return i}function k4(n){let i;try{i=new URL(n)}catch{return!1}return i.protocol==="http:"||i.protocol==="https:"}function E4([n,i]){const e=6378137*f4(n),o=e/n,l=180/Math.PI*Math.log(Math.tan(Math.PI/4+i*(Math.PI/180)/2))*o;return[e,l]}function C2([n,i]){const e=Math.PI*6378137,o=n/e*180;let l=i/e*180;return l=180/Math.PI*(2*Math.atan(Math.exp(l*Math.PI/180))-Math.PI/2),[o,l]}var T4=Object.defineProperty,S4=(n,i,e)=>i in n?T4(n,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[i]=e,C4=(n,i,e)=>(S4(n,typeof i!="symbol"?i+"":i,e),e),Q1=(n,i,e)=>{if(!i.has(n))throw TypeError("Cannot "+e)},Ka=(n,i,e)=>(Q1(n,i,"read from private field"),e?e.call(n):i.get(n)),Jf=(n,i,e)=>{if(i.has(n))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(n):i.set(n,e)},nw=(n,i,e,o)=>(Q1(n,i,"write to private field"),o?o.call(n,e):i.set(n,e),e),$d=(n,i,e)=>(Q1(n,i,"access private method"),e);function MC(n){if(n.__esModule)return n;var i=n.default;if(typeof i=="function"){var e=function o(){return this instanceof o?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};e.prototype=i.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(n).forEach(function(o){var l=Object.getOwnPropertyDescriptor(n,o);Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:function(){return n[o]}})}),e}var ti={};const P4=Object.prototype.toString;function Eg(n){const i=P4.call(n);return i.endsWith("Array]")&&!i.includes("Big")}const M4=Object.freeze(Object.defineProperty({__proto__:null,isAnyArray:Eg},Symbol.toStringTag,{value:"Module"})),I4=MC(M4);function L4(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Eg(n))throw new TypeError("input must be an array");if(n.length===0)throw new TypeError("input must not be empty");var e=i.fromIndex,o=e===void 0?0:e,l=i.toIndex,u=l===void 0?n.length:l;if(o<0||o>=n.length||!Number.isInteger(o))throw new Error("fromIndex must be a positive integer smaller than length");if(u<=o||u>n.length||!Number.isInteger(u))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var p=n[o],f=o+1;f<u;f++)n[f]>p&&(p=n[f]);return p}function R4(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Eg(n))throw new TypeError("input must be an array");if(n.length===0)throw new TypeError("input must not be empty");var e=i.fromIndex,o=e===void 0?0:e,l=i.toIndex,u=l===void 0?n.length:l;if(o<0||o>=n.length||!Number.isInteger(o))throw new Error("fromIndex must be a positive integer smaller than length");if(u<=o||u>n.length||!Number.isInteger(u))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var p=n[o],f=o+1;f<u;f++)n[f]<p&&(p=n[f]);return p}function A4(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Eg(n)){if(n.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var e;if(i.output!==void 0){if(!Eg(i.output))throw new TypeError("output option must be an array if specified");e=i.output}else e=new Array(n.length);var o=R4(n),l=L4(n);if(o===l)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var u=i.min,p=u===void 0?i.autoMinMax?o:0:u,f=i.max,m=f===void 0?i.autoMinMax?l:1:f;if(p>=m)throw new RangeError("min option must be smaller than max option");for(var y=(m-p)/(l-o),_=0;_<n.length;_++)e[_]=(n[_]-o)*y+p;return e}const z4=Object.freeze(Object.defineProperty({__proto__:null,default:A4},Symbol.toStringTag,{value:"Module"})),O4=MC(z4);Object.defineProperty(ti,"__esModule",{value:!0});var Bo=I4,P2=O4;const Cv=" ".repeat(2),IC=" ".repeat(4);function N4(){return LC(this)}function LC(n,i={}){const{maxRows:e=15,maxColumns:o=10,maxNumSize:l=8,padMinus:u="auto"}=i;return`${n.constructor.name} {
${Cv}[
${IC}${D4(n,e,o,l,u)}
${Cv}]
${Cv}rows: ${n.rows}
${Cv}columns: ${n.columns}
}`}function D4(n,i,e,o,l){const{rows:u,columns:p}=n,f=Math.min(u,i),m=Math.min(p,e),y=[];if(l==="auto"){l=!1;t:for(let _=0;_<f;_++)for(let E=0;E<m;E++)if(n.get(_,E)<0){l=!0;break t}}for(let _=0;_<f;_++){let E=[];for(let C=0;C<m;C++)E.push(F4(n.get(_,C),o,l));y.push(`${E.join(" ")}`)}return m!==p&&(y[y.length-1]+=` ... ${p-e} more columns`),f!==u&&y.push(`... ${u-i} more rows`),y.join(`
${IC}`)}function F4(n,i,e){return(n>=0&&e?` ${M2(n,i-1)}`:M2(n,i)).padEnd(i)}function M2(n,i){let e=n.toString();if(e.length<=i)return e;let o=n.toFixed(i);if(o.length>i&&(o=n.toFixed(Math.max(0,i-(o.length-i)))),o.length<=i&&!o.startsWith("0.000")&&!o.startsWith("-0.000"))return o;let l=n.toExponential(i);return l.length>i&&(l=n.toExponential(Math.max(0,i-(l.length-i)))),l.slice(0)}function B4(n,i){n.prototype.add=function(e){return typeof e=="number"?this.addS(e):this.addM(e)},n.prototype.addS=function(e){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)+e);return this},n.prototype.addM=function(e){if(e=i.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)+e.get(o,l));return this},n.add=function(e,o){return new i(e).add(o)},n.prototype.sub=function(e){return typeof e=="number"?this.subS(e):this.subM(e)},n.prototype.subS=function(e){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)-e);return this},n.prototype.subM=function(e){if(e=i.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)-e.get(o,l));return this},n.sub=function(e,o){return new i(e).sub(o)},n.prototype.subtract=n.prototype.sub,n.prototype.subtractS=n.prototype.subS,n.prototype.subtractM=n.prototype.subM,n.subtract=n.sub,n.prototype.mul=function(e){return typeof e=="number"?this.mulS(e):this.mulM(e)},n.prototype.mulS=function(e){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)*e);return this},n.prototype.mulM=function(e){if(e=i.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)*e.get(o,l));return this},n.mul=function(e,o){return new i(e).mul(o)},n.prototype.multiply=n.prototype.mul,n.prototype.multiplyS=n.prototype.mulS,n.prototype.multiplyM=n.prototype.mulM,n.multiply=n.mul,n.prototype.div=function(e){return typeof e=="number"?this.divS(e):this.divM(e)},n.prototype.divS=function(e){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)/e);return this},n.prototype.divM=function(e){if(e=i.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)/e.get(o,l));return this},n.div=function(e,o){return new i(e).div(o)},n.prototype.divide=n.prototype.div,n.prototype.divideS=n.prototype.divS,n.prototype.divideM=n.prototype.divM,n.divide=n.div,n.prototype.mod=function(e){return typeof e=="number"?this.modS(e):this.modM(e)},n.prototype.modS=function(e){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)%e);return this},n.prototype.modM=function(e){if(e=i.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)%e.get(o,l));return this},n.mod=function(e,o){return new i(e).mod(o)},n.prototype.modulus=n.prototype.mod,n.prototype.modulusS=n.prototype.modS,n.prototype.modulusM=n.prototype.modM,n.modulus=n.mod,n.prototype.and=function(e){return typeof e=="number"?this.andS(e):this.andM(e)},n.prototype.andS=function(e){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)&e);return this},n.prototype.andM=function(e){if(e=i.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)&e.get(o,l));return this},n.and=function(e,o){return new i(e).and(o)},n.prototype.or=function(e){return typeof e=="number"?this.orS(e):this.orM(e)},n.prototype.orS=function(e){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)|e);return this},n.prototype.orM=function(e){if(e=i.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)|e.get(o,l));return this},n.or=function(e,o){return new i(e).or(o)},n.prototype.xor=function(e){return typeof e=="number"?this.xorS(e):this.xorM(e)},n.prototype.xorS=function(e){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)^e);return this},n.prototype.xorM=function(e){if(e=i.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)^e.get(o,l));return this},n.xor=function(e,o){return new i(e).xor(o)},n.prototype.leftShift=function(e){return typeof e=="number"?this.leftShiftS(e):this.leftShiftM(e)},n.prototype.leftShiftS=function(e){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)<<e);return this},n.prototype.leftShiftM=function(e){if(e=i.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)<<e.get(o,l));return this},n.leftShift=function(e,o){return new i(e).leftShift(o)},n.prototype.signPropagatingRightShift=function(e){return typeof e=="number"?this.signPropagatingRightShiftS(e):this.signPropagatingRightShiftM(e)},n.prototype.signPropagatingRightShiftS=function(e){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)>>e);return this},n.prototype.signPropagatingRightShiftM=function(e){if(e=i.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)>>e.get(o,l));return this},n.signPropagatingRightShift=function(e,o){return new i(e).signPropagatingRightShift(o)},n.prototype.rightShift=function(e){return typeof e=="number"?this.rightShiftS(e):this.rightShiftM(e)},n.prototype.rightShiftS=function(e){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)>>>e);return this},n.prototype.rightShiftM=function(e){if(e=i.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)>>>e.get(o,l));return this},n.rightShift=function(e,o){return new i(e).rightShift(o)},n.prototype.zeroFillRightShift=n.prototype.rightShift,n.prototype.zeroFillRightShiftS=n.prototype.rightShiftS,n.prototype.zeroFillRightShiftM=n.prototype.rightShiftM,n.zeroFillRightShift=n.rightShift,n.prototype.not=function(){for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,~this.get(e,o));return this},n.not=function(e){return new i(e).not()},n.prototype.abs=function(){for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,Math.abs(this.get(e,o)));return this},n.abs=function(e){return new i(e).abs()},n.prototype.acos=function(){for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,Math.acos(this.get(e,o)));return this},n.acos=function(e){return new i(e).acos()},n.prototype.acosh=function(){for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,Math.acosh(this.get(e,o)));return this},n.acosh=function(e){return new i(e).acosh()},n.prototype.asin=function(){for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,Math.asin(this.get(e,o)));return this},n.asin=function(e){return new i(e).asin()},n.prototype.asinh=function(){for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,Math.asinh(this.get(e,o)));return this},n.asinh=function(e){return new i(e).asinh()},n.prototype.atan=function(){for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,Math.atan(this.get(e,o)));return this},n.atan=function(e){return new i(e).atan()},n.prototype.atanh=function(){for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,Math.atanh(this.get(e,o)));return this},n.atanh=function(e){return new i(e).atanh()},n.prototype.cbrt=function(){for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,Math.cbrt(this.get(e,o)));return this},n.cbrt=function(e){return new i(e).cbrt()},n.prototype.ceil=function(){for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,Math.ceil(this.get(e,o)));return this},n.ceil=function(e){return new i(e).ceil()},n.prototype.clz32=function(){for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,Math.clz32(this.get(e,o)));return this},n.clz32=function(e){return new i(e).clz32()},n.prototype.cos=function(){for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,Math.cos(this.get(e,o)));return this},n.cos=function(e){return new i(e).cos()},n.prototype.cosh=function(){for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,Math.cosh(this.get(e,o)));return this},n.cosh=function(e){return new i(e).cosh()},n.prototype.exp=function(){for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,Math.exp(this.get(e,o)));return this},n.exp=function(e){return new i(e).exp()},n.prototype.expm1=function(){for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,Math.expm1(this.get(e,o)));return this},n.expm1=function(e){return new i(e).expm1()},n.prototype.floor=function(){for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,Math.floor(this.get(e,o)));return this},n.floor=function(e){return new i(e).floor()},n.prototype.fround=function(){for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,Math.fround(this.get(e,o)));return this},n.fround=function(e){return new i(e).fround()},n.prototype.log=function(){for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,Math.log(this.get(e,o)));return this},n.log=function(e){return new i(e).log()},n.prototype.log1p=function(){for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,Math.log1p(this.get(e,o)));return this},n.log1p=function(e){return new i(e).log1p()},n.prototype.log10=function(){for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,Math.log10(this.get(e,o)));return this},n.log10=function(e){return new i(e).log10()},n.prototype.log2=function(){for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,Math.log2(this.get(e,o)));return this},n.log2=function(e){return new i(e).log2()},n.prototype.round=function(){for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,Math.round(this.get(e,o)));return this},n.round=function(e){return new i(e).round()},n.prototype.sign=function(){for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,Math.sign(this.get(e,o)));return this},n.sign=function(e){return new i(e).sign()},n.prototype.sin=function(){for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,Math.sin(this.get(e,o)));return this},n.sin=function(e){return new i(e).sin()},n.prototype.sinh=function(){for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,Math.sinh(this.get(e,o)));return this},n.sinh=function(e){return new i(e).sinh()},n.prototype.sqrt=function(){for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,Math.sqrt(this.get(e,o)));return this},n.sqrt=function(e){return new i(e).sqrt()},n.prototype.tan=function(){for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,Math.tan(this.get(e,o)));return this},n.tan=function(e){return new i(e).tan()},n.prototype.tanh=function(){for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,Math.tanh(this.get(e,o)));return this},n.tanh=function(e){return new i(e).tanh()},n.prototype.trunc=function(){for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,Math.trunc(this.get(e,o)));return this},n.trunc=function(e){return new i(e).trunc()},n.pow=function(e,o){return new i(e).pow(o)},n.prototype.pow=function(e){return typeof e=="number"?this.powS(e):this.powM(e)},n.prototype.powS=function(e){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,Math.pow(this.get(o,l),e));return this},n.prototype.powM=function(e){if(e=i.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,Math.pow(this.get(o,l),e.get(o,l)));return this}}function Fs(n,i,e){let o=e?n.rows:n.rows-1;if(i<0||i>o)throw new RangeError("Row index out of range")}function Bs(n,i,e){let o=e?n.columns:n.columns-1;if(i<0||i>o)throw new RangeError("Column index out of range")}function Md(n,i){if(i.to1DArray&&(i=i.to1DArray()),i.length!==n.columns)throw new RangeError("vector size must be the same as the number of columns");return i}function Id(n,i){if(i.to1DArray&&(i=i.to1DArray()),i.length!==n.rows)throw new RangeError("vector size must be the same as the number of rows");return i}function $1(n,i){if(!Bo.isAnyArray(i))throw new TypeError("row indices must be an array");for(let e=0;e<i.length;e++)if(i[e]<0||i[e]>=n.rows)throw new RangeError("row indices are out of range")}function tx(n,i){if(!Bo.isAnyArray(i))throw new TypeError("column indices must be an array");for(let e=0;e<i.length;e++)if(i[e]<0||i[e]>=n.columns)throw new RangeError("column indices are out of range")}function Zw(n,i,e,o,l){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(Pv("startRow",i),Pv("endRow",e),Pv("startColumn",o),Pv("endColumn",l),i>e||o>l||i<0||i>=n.rows||e<0||e>=n.rows||o<0||o>=n.columns||l<0||l>=n.columns)throw new RangeError("Submatrix indices are out of range")}function oy(n,i=0){let e=[];for(let o=0;o<n;o++)e.push(i);return e}function Pv(n,i){if(typeof i!="number")throw new TypeError(`${n} must be a number`)}function Td(n){if(n.isEmpty())throw new Error("Empty matrix has no elements to index")}function j4(n){let i=oy(n.rows);for(let e=0;e<n.rows;++e)for(let o=0;o<n.columns;++o)i[e]+=n.get(e,o);return i}function H4(n){let i=oy(n.columns);for(let e=0;e<n.rows;++e)for(let o=0;o<n.columns;++o)i[o]+=n.get(e,o);return i}function U4(n){let i=0;for(let e=0;e<n.rows;e++)for(let o=0;o<n.columns;o++)i+=n.get(e,o);return i}function G4(n){let i=oy(n.rows,1);for(let e=0;e<n.rows;++e)for(let o=0;o<n.columns;++o)i[e]*=n.get(e,o);return i}function q4(n){let i=oy(n.columns,1);for(let e=0;e<n.rows;++e)for(let o=0;o<n.columns;++o)i[o]*=n.get(e,o);return i}function V4(n){let i=1;for(let e=0;e<n.rows;e++)for(let o=0;o<n.columns;o++)i*=n.get(e,o);return i}function W4(n,i,e){const o=n.rows,l=n.columns,u=[];for(let p=0;p<o;p++){let f=0,m=0,y=0;for(let _=0;_<l;_++)y=n.get(p,_)-e[p],f+=y,m+=y*y;i?u.push((m-f*f/l)/(l-1)):u.push((m-f*f/l)/l)}return u}function Z4(n,i,e){const o=n.rows,l=n.columns,u=[];for(let p=0;p<l;p++){let f=0,m=0,y=0;for(let _=0;_<o;_++)y=n.get(_,p)-e[p],f+=y,m+=y*y;i?u.push((m-f*f/o)/(o-1)):u.push((m-f*f/o)/o)}return u}function X4(n,i,e){const o=n.rows,l=n.columns,u=o*l;let p=0,f=0,m=0;for(let y=0;y<o;y++)for(let _=0;_<l;_++)m=n.get(y,_)-e,p+=m,f+=m*m;return i?(f-p*p/u)/(u-1):(f-p*p/u)/u}function Y4(n,i){for(let e=0;e<n.rows;e++)for(let o=0;o<n.columns;o++)n.set(e,o,n.get(e,o)-i[e])}function K4(n,i){for(let e=0;e<n.rows;e++)for(let o=0;o<n.columns;o++)n.set(e,o,n.get(e,o)-i[o])}function J4(n,i){for(let e=0;e<n.rows;e++)for(let o=0;o<n.columns;o++)n.set(e,o,n.get(e,o)-i)}function Q4(n){const i=[];for(let e=0;e<n.rows;e++){let o=0;for(let l=0;l<n.columns;l++)o+=Math.pow(n.get(e,l),2)/(n.columns-1);i.push(Math.sqrt(o))}return i}function $4(n,i){for(let e=0;e<n.rows;e++)for(let o=0;o<n.columns;o++)n.set(e,o,n.get(e,o)/i[e])}function t6(n){const i=[];for(let e=0;e<n.columns;e++){let o=0;for(let l=0;l<n.rows;l++)o+=Math.pow(n.get(l,e),2)/(n.rows-1);i.push(Math.sqrt(o))}return i}function e6(n,i){for(let e=0;e<n.rows;e++)for(let o=0;o<n.columns;o++)n.set(e,o,n.get(e,o)/i[o])}function r6(n){const i=n.size-1;let e=0;for(let o=0;o<n.columns;o++)for(let l=0;l<n.rows;l++)e+=Math.pow(n.get(l,o),2)/i;return Math.sqrt(e)}function i6(n,i){for(let e=0;e<n.rows;e++)for(let o=0;o<n.columns;o++)n.set(e,o,n.get(e,o)/i)}class fr{static from1DArray(i,e,o){if(i*e!==o.length)throw new RangeError("data length does not match given dimensions");let l=new be(i,e);for(let u=0;u<i;u++)for(let p=0;p<e;p++)l.set(u,p,o[u*e+p]);return l}static rowVector(i){let e=new be(1,i.length);for(let o=0;o<i.length;o++)e.set(0,o,i[o]);return e}static columnVector(i){let e=new be(i.length,1);for(let o=0;o<i.length;o++)e.set(o,0,i[o]);return e}static zeros(i,e){return new be(i,e)}static ones(i,e){return new be(i,e).fill(1)}static rand(i,e,o={}){if(typeof o!="object")throw new TypeError("options must be an object");const{random:l=Math.random}=o;let u=new be(i,e);for(let p=0;p<i;p++)for(let f=0;f<e;f++)u.set(p,f,l());return u}static randInt(i,e,o={}){if(typeof o!="object")throw new TypeError("options must be an object");const{min:l=0,max:u=1e3,random:p=Math.random}=o;if(!Number.isInteger(l))throw new TypeError("min must be an integer");if(!Number.isInteger(u))throw new TypeError("max must be an integer");if(l>=u)throw new RangeError("min must be smaller than max");let f=u-l,m=new be(i,e);for(let y=0;y<i;y++)for(let _=0;_<e;_++){let E=l+Math.round(p()*f);m.set(y,_,E)}return m}static eye(i,e,o){e===void 0&&(e=i),o===void 0&&(o=1);let l=Math.min(i,e),u=this.zeros(i,e);for(let p=0;p<l;p++)u.set(p,p,o);return u}static diag(i,e,o){let l=i.length;e===void 0&&(e=l),o===void 0&&(o=e);let u=Math.min(l,e,o),p=this.zeros(e,o);for(let f=0;f<u;f++)p.set(f,f,i[f]);return p}static min(i,e){i=this.checkMatrix(i),e=this.checkMatrix(e);let o=i.rows,l=i.columns,u=new be(o,l);for(let p=0;p<o;p++)for(let f=0;f<l;f++)u.set(p,f,Math.min(i.get(p,f),e.get(p,f)));return u}static max(i,e){i=this.checkMatrix(i),e=this.checkMatrix(e);let o=i.rows,l=i.columns,u=new this(o,l);for(let p=0;p<o;p++)for(let f=0;f<l;f++)u.set(p,f,Math.max(i.get(p,f),e.get(p,f)));return u}static checkMatrix(i){return fr.isMatrix(i)?i:new be(i)}static isMatrix(i){return i!=null&&i.klass==="Matrix"}get size(){return this.rows*this.columns}apply(i){if(typeof i!="function")throw new TypeError("callback must be a function");for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)i.call(this,e,o);return this}to1DArray(){let i=[];for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)i.push(this.get(e,o));return i}to2DArray(){let i=[];for(let e=0;e<this.rows;e++){i.push([]);for(let o=0;o<this.columns;o++)i[e].push(this.get(e,o))}return i}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let i=0;i<this.rows;i++)for(let e=0;e<=i;e++)if(this.get(i,e)!==this.get(e,i))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let i=0;i<this.rows;i++)if(this.get(i,i)!==0)return!1;return!0}isEchelonForm(){let i=0,e=0,o=-1,l=!0,u=!1;for(;i<this.rows&&l;){for(e=0,u=!1;e<this.columns&&u===!1;)this.get(i,e)===0?e++:this.get(i,e)===1&&e>o?(u=!0,o=e):(l=!1,u=!0);i++}return l}isReducedEchelonForm(){let i=0,e=0,o=-1,l=!0,u=!1;for(;i<this.rows&&l;){for(e=0,u=!1;e<this.columns&&u===!1;)this.get(i,e)===0?e++:this.get(i,e)===1&&e>o?(u=!0,o=e):(l=!1,u=!0);for(let p=e+1;p<this.rows;p++)this.get(i,p)!==0&&(l=!1);i++}return l}echelonForm(){let i=this.clone(),e=0,o=0;for(;e<i.rows&&o<i.columns;){let l=e;for(let u=e;u<i.rows;u++)i.get(u,o)>i.get(l,o)&&(l=u);if(i.get(l,o)===0)o++;else{i.swapRows(e,l);let u=i.get(e,o);for(let p=o;p<i.columns;p++)i.set(e,p,i.get(e,p)/u);for(let p=e+1;p<i.rows;p++){let f=i.get(p,o)/i.get(e,o);i.set(p,o,0);for(let m=o+1;m<i.columns;m++)i.set(p,m,i.get(p,m)-i.get(e,m)*f)}e++,o++}}return i}reducedEchelonForm(){let i=this.echelonForm(),e=i.columns,o=i.rows,l=o-1;for(;l>=0;)if(i.maxRow(l)===0)l--;else{let u=0,p=!1;for(;u<o&&p===!1;)i.get(l,u)===1?p=!0:u++;for(let f=0;f<l;f++){let m=i.get(f,u);for(let y=u;y<e;y++){let _=i.get(f,y)-m*i.get(l,y);i.set(f,y,_)}}l--}return i}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(i={}){if(typeof i!="object")throw new TypeError("options must be an object");const{rows:e=1,columns:o=1}=i;if(!Number.isInteger(e)||e<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(o)||o<=0)throw new TypeError("columns must be a positive integer");let l=new be(this.rows*e,this.columns*o);for(let u=0;u<e;u++)for(let p=0;p<o;p++)l.setSubMatrix(this,this.rows*u,this.columns*p);return l}fill(i){for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,i);return this}neg(){return this.mulS(-1)}getRow(i){Fs(this,i);let e=[];for(let o=0;o<this.columns;o++)e.push(this.get(i,o));return e}getRowVector(i){return be.rowVector(this.getRow(i))}setRow(i,e){Fs(this,i),e=Md(this,e);for(let o=0;o<this.columns;o++)this.set(i,o,e[o]);return this}swapRows(i,e){Fs(this,i),Fs(this,e);for(let o=0;o<this.columns;o++){let l=this.get(i,o);this.set(i,o,this.get(e,o)),this.set(e,o,l)}return this}getColumn(i){Bs(this,i);let e=[];for(let o=0;o<this.rows;o++)e.push(this.get(o,i));return e}getColumnVector(i){return be.columnVector(this.getColumn(i))}setColumn(i,e){Bs(this,i),e=Id(this,e);for(let o=0;o<this.rows;o++)this.set(o,i,e[o]);return this}swapColumns(i,e){Bs(this,i),Bs(this,e);for(let o=0;o<this.rows;o++){let l=this.get(o,i);this.set(o,i,this.get(o,e)),this.set(o,e,l)}return this}addRowVector(i){i=Md(this,i);for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,this.get(e,o)+i[o]);return this}subRowVector(i){i=Md(this,i);for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,this.get(e,o)-i[o]);return this}mulRowVector(i){i=Md(this,i);for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,this.get(e,o)*i[o]);return this}divRowVector(i){i=Md(this,i);for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,this.get(e,o)/i[o]);return this}addColumnVector(i){i=Id(this,i);for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,this.get(e,o)+i[e]);return this}subColumnVector(i){i=Id(this,i);for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,this.get(e,o)-i[e]);return this}mulColumnVector(i){i=Id(this,i);for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,this.get(e,o)*i[e]);return this}divColumnVector(i){i=Id(this,i);for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)this.set(e,o,this.get(e,o)/i[e]);return this}mulRow(i,e){Fs(this,i);for(let o=0;o<this.columns;o++)this.set(i,o,this.get(i,o)*e);return this}mulColumn(i,e){Bs(this,i);for(let o=0;o<this.rows;o++)this.set(o,i,this.get(o,i)*e);return this}max(i){if(this.isEmpty())return NaN;switch(i){case"row":{const e=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)>e[o]&&(e[o]=this.get(o,l));return e}case"column":{const e=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)>e[l]&&(e[l]=this.get(o,l));return e}case void 0:{let e=this.get(0,0);for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)>e&&(e=this.get(o,l));return e}default:throw new Error(`invalid option: ${i}`)}}maxIndex(){Td(this);let i=this.get(0,0),e=[0,0];for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)>i&&(i=this.get(o,l),e[0]=o,e[1]=l);return e}min(i){if(this.isEmpty())return NaN;switch(i){case"row":{const e=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)<e[o]&&(e[o]=this.get(o,l));return e}case"column":{const e=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)<e[l]&&(e[l]=this.get(o,l));return e}case void 0:{let e=this.get(0,0);for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)<e&&(e=this.get(o,l));return e}default:throw new Error(`invalid option: ${i}`)}}minIndex(){Td(this);let i=this.get(0,0),e=[0,0];for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)<i&&(i=this.get(o,l),e[0]=o,e[1]=l);return e}maxRow(i){if(Fs(this,i),this.isEmpty())return NaN;let e=this.get(i,0);for(let o=1;o<this.columns;o++)this.get(i,o)>e&&(e=this.get(i,o));return e}maxRowIndex(i){Fs(this,i),Td(this);let e=this.get(i,0),o=[i,0];for(let l=1;l<this.columns;l++)this.get(i,l)>e&&(e=this.get(i,l),o[1]=l);return o}minRow(i){if(Fs(this,i),this.isEmpty())return NaN;let e=this.get(i,0);for(let o=1;o<this.columns;o++)this.get(i,o)<e&&(e=this.get(i,o));return e}minRowIndex(i){Fs(this,i),Td(this);let e=this.get(i,0),o=[i,0];for(let l=1;l<this.columns;l++)this.get(i,l)<e&&(e=this.get(i,l),o[1]=l);return o}maxColumn(i){if(Bs(this,i),this.isEmpty())return NaN;let e=this.get(0,i);for(let o=1;o<this.rows;o++)this.get(o,i)>e&&(e=this.get(o,i));return e}maxColumnIndex(i){Bs(this,i),Td(this);let e=this.get(0,i),o=[0,i];for(let l=1;l<this.rows;l++)this.get(l,i)>e&&(e=this.get(l,i),o[0]=l);return o}minColumn(i){if(Bs(this,i),this.isEmpty())return NaN;let e=this.get(0,i);for(let o=1;o<this.rows;o++)this.get(o,i)<e&&(e=this.get(o,i));return e}minColumnIndex(i){Bs(this,i),Td(this);let e=this.get(0,i),o=[0,i];for(let l=1;l<this.rows;l++)this.get(l,i)<e&&(e=this.get(l,i),o[0]=l);return o}diag(){let i=Math.min(this.rows,this.columns),e=[];for(let o=0;o<i;o++)e.push(this.get(o,o));return e}norm(i="frobenius"){switch(i){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${i}`)}}cumulativeSum(){let i=0;for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)i+=this.get(e,o),this.set(e,o,i);return this}dot(i){fr.isMatrix(i)&&(i=i.to1DArray());let e=this.to1DArray();if(e.length!==i.length)throw new RangeError("vectors do not have the same size");let o=0;for(let l=0;l<e.length;l++)o+=e[l]*i[l];return o}mmul(i){i=be.checkMatrix(i);let e=this.rows,o=this.columns,l=i.columns,u=new be(e,l),p=new Float64Array(o);for(let f=0;f<l;f++){for(let m=0;m<o;m++)p[m]=i.get(m,f);for(let m=0;m<e;m++){let y=0;for(let _=0;_<o;_++)y+=this.get(m,_)*p[_];u.set(m,f,y)}}return u}strassen2x2(i){i=be.checkMatrix(i);let e=new be(2,2);const o=this.get(0,0),l=i.get(0,0),u=this.get(0,1),p=i.get(0,1),f=this.get(1,0),m=i.get(1,0),y=this.get(1,1),_=i.get(1,1),E=(o+y)*(l+_),C=(f+y)*l,I=o*(p-_),z=y*(m-l),B=(o+u)*_,G=(f-o)*(l+p),H=(u-y)*(m+_),$=E+z-B+H,j=I+B,V=C+z,ot=E-C+I+G;return e.set(0,0,$),e.set(0,1,j),e.set(1,0,V),e.set(1,1,ot),e}strassen3x3(i){i=be.checkMatrix(i);let e=new be(3,3);const o=this.get(0,0),l=this.get(0,1),u=this.get(0,2),p=this.get(1,0),f=this.get(1,1),m=this.get(1,2),y=this.get(2,0),_=this.get(2,1),E=this.get(2,2),C=i.get(0,0),I=i.get(0,1),z=i.get(0,2),B=i.get(1,0),G=i.get(1,1),H=i.get(1,2),$=i.get(2,0),j=i.get(2,1),V=i.get(2,2),ot=(o+l+u-p-f-_-E)*G,ft=(o-p)*(-I+G),ht=f*(-C+I+B-G-H-$+V),ct=(-o+p+f)*(C-I+G),Z=(p+f)*(-C+I),lt=o*C,ut=(-o+y+_)*(C-z+H),mt=(-o+y)*(z-H),te=(y+_)*(-C+z),ne=(o+l+u-f-m-y-_)*H,ye=_*(-C+z+B-G-H-$+j),Gt=(-u+_+E)*(G+$-j),he=(u-E)*(G-j),Kt=u*$,Je=(_+E)*(-$+j),kt=(-u+f+m)*(H+$-V),zt=(u-m)*(H-V),Wt=(f+m)*(-$+V),ee=l*B,ve=m*j,se=p*z,ue=y*I,tr=E*V,Ft=lt+Kt+ee,qt=ot+ct+Z+lt+Gt+Kt+Je,Zt=lt+ut+te+ne+Kt+kt+Wt,Xt=ft+ht+ct+lt+Kt+kt+zt,nt=ft+ct+Z+lt+ve,pt=Kt+kt+zt+Wt+se,vt=lt+ut+mt+ye+Gt+he+Kt,A=Gt+he+Kt+Je+ue,X=lt+ut+mt+te+tr;return e.set(0,0,Ft),e.set(0,1,qt),e.set(0,2,Zt),e.set(1,0,Xt),e.set(1,1,nt),e.set(1,2,pt),e.set(2,0,vt),e.set(2,1,A),e.set(2,2,X),e}mmulStrassen(i){i=be.checkMatrix(i);let e=this.clone(),o=e.rows,l=e.columns,u=i.rows,p=i.columns;l!==u&&console.warn(`Multiplying ${o} x ${l} and ${u} x ${p} matrix: dimensions do not match.`);function f(E,C,I){let z=E.rows,B=E.columns;if(z===C&&B===I)return E;{let G=fr.zeros(C,I);return G=G.setSubMatrix(E,0,0),G}}let m=Math.max(o,u),y=Math.max(l,p);e=f(e,m,y),i=f(i,m,y);function _(E,C,I,z){if(I<=512||z<=512)return E.mmul(C);I%2===1&&z%2===1?(E=f(E,I+1,z+1),C=f(C,I+1,z+1)):I%2===1?(E=f(E,I+1,z),C=f(C,I+1,z)):z%2===1&&(E=f(E,I,z+1),C=f(C,I,z+1));let B=parseInt(E.rows/2,10),G=parseInt(E.columns/2,10),H=E.subMatrix(0,B-1,0,G-1),$=C.subMatrix(0,B-1,0,G-1),j=E.subMatrix(0,B-1,G,E.columns-1),V=C.subMatrix(0,B-1,G,C.columns-1),ot=E.subMatrix(B,E.rows-1,0,G-1),ft=C.subMatrix(B,C.rows-1,0,G-1),ht=E.subMatrix(B,E.rows-1,G,E.columns-1),ct=C.subMatrix(B,C.rows-1,G,C.columns-1),Z=_(fr.add(H,ht),fr.add($,ct),B,G),lt=_(fr.add(ot,ht),$,B,G),ut=_(H,fr.sub(V,ct),B,G),mt=_(ht,fr.sub(ft,$),B,G),te=_(fr.add(H,j),ct,B,G),ne=_(fr.sub(ot,H),fr.add($,V),B,G),ye=_(fr.sub(j,ht),fr.add(ft,ct),B,G),Gt=fr.add(Z,mt);Gt.sub(te),Gt.add(ye);let he=fr.add(ut,te),Kt=fr.add(lt,mt),Je=fr.sub(Z,lt);Je.add(ut),Je.add(ne);let kt=fr.zeros(2*Gt.rows,2*Gt.columns);return kt=kt.setSubMatrix(Gt,0,0),kt=kt.setSubMatrix(he,Gt.rows,0),kt=kt.setSubMatrix(Kt,0,Gt.columns),kt=kt.setSubMatrix(Je,Gt.rows,Gt.columns),kt.subMatrix(0,I-1,0,z-1)}return _(e,i,m,y)}scaleRows(i={}){if(typeof i!="object")throw new TypeError("options must be an object");const{min:e=0,max:o=1}=i;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(e>=o)throw new RangeError("min must be smaller than max");let l=new be(this.rows,this.columns);for(let u=0;u<this.rows;u++){const p=this.getRow(u);p.length>0&&P2(p,{min:e,max:o,output:p}),l.setRow(u,p)}return l}scaleColumns(i={}){if(typeof i!="object")throw new TypeError("options must be an object");const{min:e=0,max:o=1}=i;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(e>=o)throw new RangeError("min must be smaller than max");let l=new be(this.rows,this.columns);for(let u=0;u<this.columns;u++){const p=this.getColumn(u);p.length&&P2(p,{min:e,max:o,output:p}),l.setColumn(u,p)}return l}flipRows(){const i=Math.ceil(this.columns/2);for(let e=0;e<this.rows;e++)for(let o=0;o<i;o++){let l=this.get(e,o),u=this.get(e,this.columns-1-o);this.set(e,o,u),this.set(e,this.columns-1-o,l)}return this}flipColumns(){const i=Math.ceil(this.rows/2);for(let e=0;e<this.columns;e++)for(let o=0;o<i;o++){let l=this.get(o,e),u=this.get(this.rows-1-o,e);this.set(o,e,u),this.set(this.rows-1-o,e,l)}return this}kroneckerProduct(i){i=be.checkMatrix(i);let e=this.rows,o=this.columns,l=i.rows,u=i.columns,p=new be(e*l,o*u);for(let f=0;f<e;f++)for(let m=0;m<o;m++)for(let y=0;y<l;y++)for(let _=0;_<u;_++)p.set(l*f+y,u*m+_,this.get(f,m)*i.get(y,_));return p}kroneckerSum(i){if(i=be.checkMatrix(i),!this.isSquare()||!i.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let e=this.rows,o=i.rows,l=this.kroneckerProduct(be.eye(o,o)),u=be.eye(e,e).kroneckerProduct(i);return l.add(u)}transpose(){let i=new be(this.columns,this.rows);for(let e=0;e<this.rows;e++)for(let o=0;o<this.columns;o++)i.set(o,e,this.get(e,o));return i}sortRows(i=I2){for(let e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(i));return this}sortColumns(i=I2){for(let e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(i));return this}subMatrix(i,e,o,l){Zw(this,i,e,o,l);let u=new be(e-i+1,l-o+1);for(let p=i;p<=e;p++)for(let f=o;f<=l;f++)u.set(p-i,f-o,this.get(p,f));return u}subMatrixRow(i,e,o){if(e===void 0&&(e=0),o===void 0&&(o=this.columns-1),e>o||e<0||e>=this.columns||o<0||o>=this.columns)throw new RangeError("Argument out of range");let l=new be(i.length,o-e+1);for(let u=0;u<i.length;u++)for(let p=e;p<=o;p++){if(i[u]<0||i[u]>=this.rows)throw new RangeError(`Row index out of range: ${i[u]}`);l.set(u,p-e,this.get(i[u],p))}return l}subMatrixColumn(i,e,o){if(e===void 0&&(e=0),o===void 0&&(o=this.rows-1),e>o||e<0||e>=this.rows||o<0||o>=this.rows)throw new RangeError("Argument out of range");let l=new be(o-e+1,i.length);for(let u=0;u<i.length;u++)for(let p=e;p<=o;p++){if(i[u]<0||i[u]>=this.columns)throw new RangeError(`Column index out of range: ${i[u]}`);l.set(p-e,u,this.get(p,i[u]))}return l}setSubMatrix(i,e,o){if(i=be.checkMatrix(i),i.isEmpty())return this;let l=e+i.rows-1,u=o+i.columns-1;Zw(this,e,l,o,u);for(let p=0;p<i.rows;p++)for(let f=0;f<i.columns;f++)this.set(e+p,o+f,i.get(p,f));return this}selection(i,e){$1(this,i),tx(this,e);let o=new be(i.length,e.length);for(let l=0;l<i.length;l++){let u=i[l];for(let p=0;p<e.length;p++){let f=e[p];o.set(l,p,this.get(u,f))}}return o}trace(){let i=Math.min(this.rows,this.columns),e=0;for(let o=0;o<i;o++)e+=this.get(o,o);return e}clone(){return this.constructor.copy(this,new be(this.rows,this.columns))}static copy(i,e){for(const[o,l,u]of i.entries())e.set(o,l,u);return e}sum(i){switch(i){case"row":return j4(this);case"column":return H4(this);case void 0:return U4(this);default:throw new Error(`invalid option: ${i}`)}}product(i){switch(i){case"row":return G4(this);case"column":return q4(this);case void 0:return V4(this);default:throw new Error(`invalid option: ${i}`)}}mean(i){const e=this.sum(i);switch(i){case"row":{for(let o=0;o<this.rows;o++)e[o]/=this.columns;return e}case"column":{for(let o=0;o<this.columns;o++)e[o]/=this.rows;return e}case void 0:return e/this.size;default:throw new Error(`invalid option: ${i}`)}}variance(i,e={}){if(typeof i=="object"&&(e=i,i=void 0),typeof e!="object")throw new TypeError("options must be an object");const{unbiased:o=!0,mean:l=this.mean(i)}=e;if(typeof o!="boolean")throw new TypeError("unbiased must be a boolean");switch(i){case"row":{if(!Bo.isAnyArray(l))throw new TypeError("mean must be an array");return W4(this,o,l)}case"column":{if(!Bo.isAnyArray(l))throw new TypeError("mean must be an array");return Z4(this,o,l)}case void 0:{if(typeof l!="number")throw new TypeError("mean must be a number");return X4(this,o,l)}default:throw new Error(`invalid option: ${i}`)}}standardDeviation(i,e){typeof i=="object"&&(e=i,i=void 0);const o=this.variance(i,e);if(i===void 0)return Math.sqrt(o);for(let l=0;l<o.length;l++)o[l]=Math.sqrt(o[l]);return o}center(i,e={}){if(typeof i=="object"&&(e=i,i=void 0),typeof e!="object")throw new TypeError("options must be an object");const{center:o=this.mean(i)}=e;switch(i){case"row":{if(!Bo.isAnyArray(o))throw new TypeError("center must be an array");return Y4(this,o),this}case"column":{if(!Bo.isAnyArray(o))throw new TypeError("center must be an array");return K4(this,o),this}case void 0:{if(typeof o!="number")throw new TypeError("center must be a number");return J4(this,o),this}default:throw new Error(`invalid option: ${i}`)}}scale(i,e={}){if(typeof i=="object"&&(e=i,i=void 0),typeof e!="object")throw new TypeError("options must be an object");let o=e.scale;switch(i){case"row":{if(o===void 0)o=Q4(this);else if(!Bo.isAnyArray(o))throw new TypeError("scale must be an array");return $4(this,o),this}case"column":{if(o===void 0)o=t6(this);else if(!Bo.isAnyArray(o))throw new TypeError("scale must be an array");return e6(this,o),this}case void 0:{if(o===void 0)o=r6(this);else if(typeof o!="number")throw new TypeError("scale must be a number");return i6(this,o),this}default:throw new Error(`invalid option: ${i}`)}}toString(i){return LC(this,i)}[Symbol.iterator](){return this.entries()}*entries(){for(let i=0;i<this.rows;i++)for(let e=0;e<this.columns;e++)yield[i,e,this.get(i,e)]}*values(){for(let i=0;i<this.rows;i++)for(let e=0;e<this.columns;e++)yield this.get(i,e)}}fr.prototype.klass="Matrix";typeof Symbol<"u"&&(fr.prototype[Symbol.for("nodejs.util.inspect.custom")]=N4);function I2(n,i){return n-i}function n6(n){return n.every(i=>typeof i=="number")}fr.random=fr.rand;fr.randomInt=fr.randInt;fr.diagonal=fr.diag;fr.prototype.diagonal=fr.prototype.diag;fr.identity=fr.eye;fr.prototype.negate=fr.prototype.neg;fr.prototype.tensorProduct=fr.prototype.kroneckerProduct;var Mv,ow,Iv;let be=(Iv=class extends fr{constructor(n,i){if(super(),Jf(this,Mv),C4(this,"data"),Iv.isMatrix(n))$d(this,Mv,ow).call(this,n.rows,n.columns),Iv.copy(n,this);else if(Number.isInteger(n)&&n>=0)$d(this,Mv,ow).call(this,n,i);else if(Bo.isAnyArray(n)){const e=n;if(n=e.length,i=n?e[0].length:0,typeof i!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let o=0;o<n;o++){if(e[o].length!==i)throw new RangeError("Inconsistent array dimensions");if(!n6(e[o]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(e[o]))}this.rows=n,this.columns=i}else throw new TypeError("First argument must be a positive number or an array")}set(n,i,e){return this.data[n][i]=e,this}get(n,i){return this.data[n][i]}removeRow(n){return Fs(this,n),this.data.splice(n,1),this.rows-=1,this}addRow(n,i){return i===void 0&&(i=n,n=this.rows),Fs(this,n,!0),i=Float64Array.from(Md(this,i)),this.data.splice(n,0,i),this.rows+=1,this}removeColumn(n){Bs(this,n);for(let i=0;i<this.rows;i++){const e=new Float64Array(this.columns-1);for(let o=0;o<n;o++)e[o]=this.data[i][o];for(let o=n+1;o<this.columns;o++)e[o-1]=this.data[i][o];this.data[i]=e}return this.columns-=1,this}addColumn(n,i){typeof i>"u"&&(i=n,n=this.columns),Bs(this,n,!0),i=Id(this,i);for(let e=0;e<this.rows;e++){const o=new Float64Array(this.columns+1);let l=0;for(;l<n;l++)o[l]=this.data[e][l];for(o[l++]=i[e];l<this.columns+1;l++)o[l]=this.data[e][l-1];this.data[e]=o}return this.columns+=1,this}},Mv=new WeakSet,ow=function(n,i){if(this.data=[],Number.isInteger(i)&&i>=0)for(let e=0;e<n;e++)this.data.push(new Float64Array(i));else throw new TypeError("nColumns must be a positive integer");this.rows=n,this.columns=i},Iv);B4(fr,be);var _o;const o6=class Xw extends fr{constructor(i){if(super(),Jf(this,_o,void 0),be.isMatrix(i)){if(!i.isSymmetric())throw new TypeError("not symmetric data");nw(this,_o,be.copy(i,new be(i.rows,i.rows)))}else if(Number.isInteger(i)&&i>=0)nw(this,_o,new be(i,i));else if(nw(this,_o,new be(i)),!this.isSymmetric())throw new TypeError("not symmetric data")}get size(){return Ka(this,_o).size}get rows(){return Ka(this,_o).rows}get columns(){return Ka(this,_o).columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(i){return be.isMatrix(i)&&i.klassType==="SymmetricMatrix"}static zeros(i){return new this(i)}static ones(i){return new this(i).fill(1)}clone(){const i=new Xw(this.diagonalSize);for(const[e,o,l]of this.upperRightEntries())i.set(e,o,l);return i}toMatrix(){return new be(this)}get(i,e){return Ka(this,_o).get(i,e)}set(i,e,o){return Ka(this,_o).set(i,e,o),Ka(this,_o).set(e,i,o),this}removeCross(i){return Ka(this,_o).removeRow(i),Ka(this,_o).removeColumn(i),this}addCross(i,e){e===void 0&&(e=i,i=this.diagonalSize);const o=e.slice();return o.splice(i,1),Ka(this,_o).addRow(i,o),Ka(this,_o).addColumn(i,e),this}applyMask(i){if(i.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const e=[];for(const[o,l]of i.entries())l||e.push(o);e.reverse();for(const o of e)this.removeCross(o);return this}toCompact(){const{diagonalSize:i}=this,e=new Array(i*(i+1)/2);for(let o=0,l=0,u=0;u<e.length;u++)e[u]=this.get(l,o),++o>=i&&(o=++l);return e}static fromCompact(i){const e=i.length,o=(Math.sqrt(8*e+1)-1)/2;if(!Number.isInteger(o))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(i)}`);const l=new Xw(o);for(let u=0,p=0,f=0;f<e;f++)l.set(u,p,i[f]),++u>=o&&(u=++p);return l}*upperRightEntries(){for(let i=0,e=0;i<this.diagonalSize;void 0){const o=this.get(i,e);yield[i,e,o],++e>=this.diagonalSize&&(e=++i)}}*upperRightValues(){for(let i=0,e=0;i<this.diagonalSize;void 0)yield this.get(i,e),++e>=this.diagonalSize&&(e=++i)}};_o=new WeakMap;let Qf=o6;Qf.prototype.klassType="SymmetricMatrix";class sy extends Qf{static isDistanceMatrix(i){return Qf.isSymmetricMatrix(i)&&i.klassSubType==="DistanceMatrix"}constructor(i){if(super(i),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(i,e,o){return i===e&&(o=0),super.set(i,e,o)}addCross(i,e){return e===void 0&&(e=i,i=this.diagonalSize),e=e.slice(),e[i]=0,super.addCross(i,e)}toSymmetricMatrix(){return new Qf(this)}clone(){const i=new sy(this.diagonalSize);for(const[e,o,l]of this.upperRightEntries())e!==o&&i.set(e,o,l);return i}toCompact(){const{diagonalSize:i}=this,e=(i-1)*i/2,o=new Array(e);for(let l=1,u=0,p=0;p<o.length;p++)o[p]=this.get(u,l),++l>=i&&(l=++u+1);return o}static fromCompact(i){const e=i.length,o=(Math.sqrt(8*e+1)+1)/2;if(!Number.isInteger(o))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(i)}`);const l=new this(o);for(let u=1,p=0,f=0;f<e;f++)l.set(u,p,i[f]),++u>=o&&(u=++p+1);return l}}sy.prototype.klassSubType="DistanceMatrix";class tc extends fr{constructor(i,e,o){super(),this.matrix=i,this.rows=e,this.columns=o}}class s6 extends tc{constructor(i,e){Bs(i,e),super(i,i.rows,1),this.column=e}set(i,e,o){return this.matrix.set(i,this.column,o),this}get(i){return this.matrix.get(i,this.column)}}class a6 extends tc{constructor(i,e){tx(i,e),super(i,i.rows,e.length),this.columnIndices=e}set(i,e,o){return this.matrix.set(i,this.columnIndices[e],o),this}get(i,e){return this.matrix.get(i,this.columnIndices[e])}}class l6 extends tc{constructor(i){super(i,i.rows,i.columns)}set(i,e,o){return this.matrix.set(i,this.columns-e-1,o),this}get(i,e){return this.matrix.get(i,this.columns-e-1)}}class c6 extends tc{constructor(i){super(i,i.rows,i.columns)}set(i,e,o){return this.matrix.set(this.rows-i-1,e,o),this}get(i,e){return this.matrix.get(this.rows-i-1,e)}}class u6 extends tc{constructor(i,e){Fs(i,e),super(i,1,i.columns),this.row=e}set(i,e,o){return this.matrix.set(this.row,e,o),this}get(i,e){return this.matrix.get(this.row,e)}}class h6 extends tc{constructor(i,e){$1(i,e),super(i,e.length,i.columns),this.rowIndices=e}set(i,e,o){return this.matrix.set(this.rowIndices[i],e,o),this}get(i,e){return this.matrix.get(this.rowIndices[i],e)}}class Yv extends tc{constructor(i,e,o){$1(i,e),tx(i,o),super(i,e.length,o.length),this.rowIndices=e,this.columnIndices=o}set(i,e,o){return this.matrix.set(this.rowIndices[i],this.columnIndices[e],o),this}get(i,e){return this.matrix.get(this.rowIndices[i],this.columnIndices[e])}}class d6 extends tc{constructor(i,e,o,l,u){Zw(i,e,o,l,u),super(i,o-e+1,u-l+1),this.startRow=e,this.startColumn=l}set(i,e,o){return this.matrix.set(this.startRow+i,this.startColumn+e,o),this}get(i,e){return this.matrix.get(this.startRow+i,this.startColumn+e)}}class p6 extends tc{constructor(i){super(i,i.columns,i.rows)}set(i,e,o){return this.matrix.set(e,i,o),this}get(i,e){return this.matrix.get(e,i)}}class RC extends fr{constructor(i,e={}){const{rows:o=1}=e;if(i.length%o!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=o,this.columns=i.length/o,this.data=i}set(i,e,o){let l=this._calculateIndex(i,e);return this.data[l]=o,this}get(i,e){let o=this._calculateIndex(i,e);return this.data[o]}_calculateIndex(i,e){return i*this.columns+e}}class us extends fr{constructor(i){super(),this.data=i,this.rows=i.length,this.columns=i[0].length}set(i,e,o){return this.data[i][e]=o,this}get(i,e){return this.data[i][e]}}function f6(n,i){if(Bo.isAnyArray(n))return n[0]&&Bo.isAnyArray(n[0])?new us(n):new RC(n,i);throw new Error("the argument is not an array")}class ay{constructor(i){i=us.checkMatrix(i);let e=i.clone(),o=e.rows,l=e.columns,u=new Float64Array(o),p=1,f,m,y,_,E,C,I,z,B;for(f=0;f<o;f++)u[f]=f;for(z=new Float64Array(o),m=0;m<l;m++){for(f=0;f<o;f++)z[f]=e.get(f,m);for(f=0;f<o;f++){for(B=Math.min(f,m),E=0,y=0;y<B;y++)E+=e.get(f,y)*z[y];z[f]-=E,e.set(f,m,z[f])}for(_=m,f=m+1;f<o;f++)Math.abs(z[f])>Math.abs(z[_])&&(_=f);if(_!==m){for(y=0;y<l;y++)C=e.get(_,y),e.set(_,y,e.get(m,y)),e.set(m,y,C);I=u[_],u[_]=u[m],u[m]=I,p=-p}if(m<o&&e.get(m,m)!==0)for(f=m+1;f<o;f++)e.set(f,m,e.get(f,m)/e.get(m,m))}this.LU=e,this.pivotVector=u,this.pivotSign=p}isSingular(){let i=this.LU,e=i.columns;for(let o=0;o<e;o++)if(i.get(o,o)===0)return!0;return!1}solve(i){i=be.checkMatrix(i);let e=this.LU;if(e.rows!==i.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let o=i.columns,l=i.subMatrixRow(this.pivotVector,0,o-1),u=e.columns,p,f,m;for(m=0;m<u;m++)for(p=m+1;p<u;p++)for(f=0;f<o;f++)l.set(p,f,l.get(p,f)-l.get(m,f)*e.get(p,m));for(m=u-1;m>=0;m--){for(f=0;f<o;f++)l.set(m,f,l.get(m,f)/e.get(m,m));for(p=0;p<m;p++)for(f=0;f<o;f++)l.set(p,f,l.get(p,f)-l.get(m,f)*e.get(p,m))}return l}get determinant(){let i=this.LU;if(!i.isSquare())throw new Error("Matrix must be square");let e=this.pivotSign,o=i.columns;for(let l=0;l<o;l++)e*=i.get(l,l);return e}get lowerTriangularMatrix(){let i=this.LU,e=i.rows,o=i.columns,l=new be(e,o);for(let u=0;u<e;u++)for(let p=0;p<o;p++)u>p?l.set(u,p,i.get(u,p)):u===p?l.set(u,p,1):l.set(u,p,0);return l}get upperTriangularMatrix(){let i=this.LU,e=i.rows,o=i.columns,l=new be(e,o);for(let u=0;u<e;u++)for(let p=0;p<o;p++)u<=p?l.set(u,p,i.get(u,p)):l.set(u,p,0);return l}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function Gl(n,i){let e=0;return Math.abs(n)>Math.abs(i)?(e=i/n,Math.abs(n)*Math.sqrt(1+e*e)):i!==0?(e=n/i,Math.abs(i)*Math.sqrt(1+e*e)):0}class ex{constructor(i){i=us.checkMatrix(i);let e=i.clone(),o=i.rows,l=i.columns,u=new Float64Array(l),p,f,m,y;for(m=0;m<l;m++){let _=0;for(p=m;p<o;p++)_=Gl(_,e.get(p,m));if(_!==0){for(e.get(m,m)<0&&(_=-_),p=m;p<o;p++)e.set(p,m,e.get(p,m)/_);for(e.set(m,m,e.get(m,m)+1),f=m+1;f<l;f++){for(y=0,p=m;p<o;p++)y+=e.get(p,m)*e.get(p,f);for(y=-y/e.get(m,m),p=m;p<o;p++)e.set(p,f,e.get(p,f)+y*e.get(p,m))}}u[m]=-_}this.QR=e,this.Rdiag=u}solve(i){i=be.checkMatrix(i);let e=this.QR,o=e.rows;if(i.rows!==o)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let l=i.columns,u=i.clone(),p=e.columns,f,m,y,_;for(y=0;y<p;y++)for(m=0;m<l;m++){for(_=0,f=y;f<o;f++)_+=e.get(f,y)*u.get(f,m);for(_=-_/e.get(y,y),f=y;f<o;f++)u.set(f,m,u.get(f,m)+_*e.get(f,y))}for(y=p-1;y>=0;y--){for(m=0;m<l;m++)u.set(y,m,u.get(y,m)/this.Rdiag[y]);for(f=0;f<y;f++)for(m=0;m<l;m++)u.set(f,m,u.get(f,m)-u.get(y,m)*e.get(f,y))}return u.subMatrix(0,p-1,0,l-1)}isFullRank(){let i=this.QR.columns;for(let e=0;e<i;e++)if(this.Rdiag[e]===0)return!1;return!0}get upperTriangularMatrix(){let i=this.QR,e=i.columns,o=new be(e,e),l,u;for(l=0;l<e;l++)for(u=0;u<e;u++)l<u?o.set(l,u,i.get(l,u)):l===u?o.set(l,u,this.Rdiag[l]):o.set(l,u,0);return o}get orthogonalMatrix(){let i=this.QR,e=i.rows,o=i.columns,l=new be(e,o),u,p,f,m;for(f=o-1;f>=0;f--){for(u=0;u<e;u++)l.set(u,f,0);for(l.set(f,f,1),p=f;p<o;p++)if(i.get(f,f)!==0){for(m=0,u=f;u<e;u++)m+=i.get(u,f)*l.get(u,p);for(m=-m/i.get(f,f),u=f;u<e;u++)l.set(u,p,l.get(u,p)+m*i.get(u,f))}}return l}}let sp=class{constructor(n,i={}){if(n=us.checkMatrix(n),n.isEmpty())throw new Error("Matrix must be non-empty");let e=n.rows,o=n.columns;const{computeLeftSingularVectors:l=!0,computeRightSingularVectors:u=!0,autoTranspose:p=!1}=i;let f=!!l,m=!!u,y=!1,_;if(e<o)if(!p)_=n.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{_=n.transpose(),e=_.rows,o=_.columns,y=!0;let Z=f;f=m,m=Z}else _=n.clone();let E=Math.min(e,o),C=Math.min(e+1,o),I=new Float64Array(C),z=new be(e,E),B=new be(o,o),G=new Float64Array(o),H=new Float64Array(e),$=new Float64Array(C);for(let Z=0;Z<C;Z++)$[Z]=Z;let j=Math.min(e-1,o),V=Math.max(0,Math.min(o-2,e)),ot=Math.max(j,V);for(let Z=0;Z<ot;Z++){if(Z<j){I[Z]=0;for(let lt=Z;lt<e;lt++)I[Z]=Gl(I[Z],_.get(lt,Z));if(I[Z]!==0){_.get(Z,Z)<0&&(I[Z]=-I[Z]);for(let lt=Z;lt<e;lt++)_.set(lt,Z,_.get(lt,Z)/I[Z]);_.set(Z,Z,_.get(Z,Z)+1)}I[Z]=-I[Z]}for(let lt=Z+1;lt<o;lt++){if(Z<j&&I[Z]!==0){let ut=0;for(let mt=Z;mt<e;mt++)ut+=_.get(mt,Z)*_.get(mt,lt);ut=-ut/_.get(Z,Z);for(let mt=Z;mt<e;mt++)_.set(mt,lt,_.get(mt,lt)+ut*_.get(mt,Z))}G[lt]=_.get(Z,lt)}if(f&&Z<j)for(let lt=Z;lt<e;lt++)z.set(lt,Z,_.get(lt,Z));if(Z<V){G[Z]=0;for(let lt=Z+1;lt<o;lt++)G[Z]=Gl(G[Z],G[lt]);if(G[Z]!==0){G[Z+1]<0&&(G[Z]=0-G[Z]);for(let lt=Z+1;lt<o;lt++)G[lt]/=G[Z];G[Z+1]+=1}if(G[Z]=-G[Z],Z+1<e&&G[Z]!==0){for(let lt=Z+1;lt<e;lt++)H[lt]=0;for(let lt=Z+1;lt<e;lt++)for(let ut=Z+1;ut<o;ut++)H[lt]+=G[ut]*_.get(lt,ut);for(let lt=Z+1;lt<o;lt++){let ut=-G[lt]/G[Z+1];for(let mt=Z+1;mt<e;mt++)_.set(mt,lt,_.get(mt,lt)+ut*H[mt])}}if(m)for(let lt=Z+1;lt<o;lt++)B.set(lt,Z,G[lt])}}let ft=Math.min(o,e+1);if(j<o&&(I[j]=_.get(j,j)),e<ft&&(I[ft-1]=0),V+1<ft&&(G[V]=_.get(V,ft-1)),G[ft-1]=0,f){for(let Z=j;Z<E;Z++){for(let lt=0;lt<e;lt++)z.set(lt,Z,0);z.set(Z,Z,1)}for(let Z=j-1;Z>=0;Z--)if(I[Z]!==0){for(let lt=Z+1;lt<E;lt++){let ut=0;for(let mt=Z;mt<e;mt++)ut+=z.get(mt,Z)*z.get(mt,lt);ut=-ut/z.get(Z,Z);for(let mt=Z;mt<e;mt++)z.set(mt,lt,z.get(mt,lt)+ut*z.get(mt,Z))}for(let lt=Z;lt<e;lt++)z.set(lt,Z,-z.get(lt,Z));z.set(Z,Z,1+z.get(Z,Z));for(let lt=0;lt<Z-1;lt++)z.set(lt,Z,0)}else{for(let lt=0;lt<e;lt++)z.set(lt,Z,0);z.set(Z,Z,1)}}if(m)for(let Z=o-1;Z>=0;Z--){if(Z<V&&G[Z]!==0)for(let lt=Z+1;lt<o;lt++){let ut=0;for(let mt=Z+1;mt<o;mt++)ut+=B.get(mt,Z)*B.get(mt,lt);ut=-ut/B.get(Z+1,Z);for(let mt=Z+1;mt<o;mt++)B.set(mt,lt,B.get(mt,lt)+ut*B.get(mt,Z))}for(let lt=0;lt<o;lt++)B.set(lt,Z,0);B.set(Z,Z,1)}let ht=ft-1,ct=Number.EPSILON;for(;ft>0;){let Z,lt;for(Z=ft-2;Z>=-1&&Z!==-1;Z--){const ut=Number.MIN_VALUE+ct*Math.abs(I[Z]+Math.abs(I[Z+1]));if(Math.abs(G[Z])<=ut||Number.isNaN(G[Z])){G[Z]=0;break}}if(Z===ft-2)lt=4;else{let ut;for(ut=ft-1;ut>=Z&&ut!==Z;ut--){let mt=(ut!==ft?Math.abs(G[ut]):0)+(ut!==Z+1?Math.abs(G[ut-1]):0);if(Math.abs(I[ut])<=ct*mt){I[ut]=0;break}}ut===Z?lt=3:ut===ft-1?lt=1:(lt=2,Z=ut)}switch(Z++,lt){case 1:{let ut=G[ft-2];G[ft-2]=0;for(let mt=ft-2;mt>=Z;mt--){let te=Gl(I[mt],ut),ne=I[mt]/te,ye=ut/te;if(I[mt]=te,mt!==Z&&(ut=-ye*G[mt-1],G[mt-1]=ne*G[mt-1]),m)for(let Gt=0;Gt<o;Gt++)te=ne*B.get(Gt,mt)+ye*B.get(Gt,ft-1),B.set(Gt,ft-1,-ye*B.get(Gt,mt)+ne*B.get(Gt,ft-1)),B.set(Gt,mt,te)}break}case 2:{let ut=G[Z-1];G[Z-1]=0;for(let mt=Z;mt<ft;mt++){let te=Gl(I[mt],ut),ne=I[mt]/te,ye=ut/te;if(I[mt]=te,ut=-ye*G[mt],G[mt]=ne*G[mt],f)for(let Gt=0;Gt<e;Gt++)te=ne*z.get(Gt,mt)+ye*z.get(Gt,Z-1),z.set(Gt,Z-1,-ye*z.get(Gt,mt)+ne*z.get(Gt,Z-1)),z.set(Gt,mt,te)}break}case 3:{const ut=Math.max(Math.abs(I[ft-1]),Math.abs(I[ft-2]),Math.abs(G[ft-2]),Math.abs(I[Z]),Math.abs(G[Z])),mt=I[ft-1]/ut,te=I[ft-2]/ut,ne=G[ft-2]/ut,ye=I[Z]/ut,Gt=G[Z]/ut,he=((te+mt)*(te-mt)+ne*ne)/2,Kt=mt*ne*(mt*ne);let Je=0;(he!==0||Kt!==0)&&(he<0?Je=0-Math.sqrt(he*he+Kt):Je=Math.sqrt(he*he+Kt),Je=Kt/(he+Je));let kt=(ye+mt)*(ye-mt)+Je,zt=ye*Gt;for(let Wt=Z;Wt<ft-1;Wt++){let ee=Gl(kt,zt);ee===0&&(ee=Number.MIN_VALUE);let ve=kt/ee,se=zt/ee;if(Wt!==Z&&(G[Wt-1]=ee),kt=ve*I[Wt]+se*G[Wt],G[Wt]=ve*G[Wt]-se*I[Wt],zt=se*I[Wt+1],I[Wt+1]=ve*I[Wt+1],m)for(let ue=0;ue<o;ue++)ee=ve*B.get(ue,Wt)+se*B.get(ue,Wt+1),B.set(ue,Wt+1,-se*B.get(ue,Wt)+ve*B.get(ue,Wt+1)),B.set(ue,Wt,ee);if(ee=Gl(kt,zt),ee===0&&(ee=Number.MIN_VALUE),ve=kt/ee,se=zt/ee,I[Wt]=ee,kt=ve*G[Wt]+se*I[Wt+1],I[Wt+1]=-se*G[Wt]+ve*I[Wt+1],zt=se*G[Wt+1],G[Wt+1]=ve*G[Wt+1],f&&Wt<e-1)for(let ue=0;ue<e;ue++)ee=ve*z.get(ue,Wt)+se*z.get(ue,Wt+1),z.set(ue,Wt+1,-se*z.get(ue,Wt)+ve*z.get(ue,Wt+1)),z.set(ue,Wt,ee)}G[ft-2]=kt;break}case 4:{if(I[Z]<=0&&(I[Z]=I[Z]<0?-I[Z]:0,m))for(let ut=0;ut<=ht;ut++)B.set(ut,Z,-B.get(ut,Z));for(;Z<ht&&!(I[Z]>=I[Z+1]);){let ut=I[Z];if(I[Z]=I[Z+1],I[Z+1]=ut,m&&Z<o-1)for(let mt=0;mt<o;mt++)ut=B.get(mt,Z+1),B.set(mt,Z+1,B.get(mt,Z)),B.set(mt,Z,ut);if(f&&Z<e-1)for(let mt=0;mt<e;mt++)ut=z.get(mt,Z+1),z.set(mt,Z+1,z.get(mt,Z)),z.set(mt,Z,ut);Z++}ft--;break}}}if(y){let Z=B;B=z,z=Z}this.m=e,this.n=o,this.s=I,this.U=z,this.V=B}solve(n){let i=n,e=this.threshold,o=this.s.length,l=be.zeros(o,o);for(let E=0;E<o;E++)Math.abs(this.s[E])<=e?l.set(E,E,0):l.set(E,E,1/this.s[E]);let u=this.U,p=this.rightSingularVectors,f=p.mmul(l),m=p.rows,y=u.rows,_=be.zeros(m,y);for(let E=0;E<m;E++)for(let C=0;C<y;C++){let I=0;for(let z=0;z<o;z++)I+=f.get(E,z)*u.get(C,z);_.set(E,C,I)}return _.mmul(i)}solveForDiagonal(n){return this.solve(be.diag(n))}inverse(){let n=this.V,i=this.threshold,e=n.rows,o=n.columns,l=new be(e,this.s.length);for(let y=0;y<e;y++)for(let _=0;_<o;_++)Math.abs(this.s[_])>i&&l.set(y,_,n.get(y,_)/this.s[_]);let u=this.U,p=u.rows,f=u.columns,m=new be(e,p);for(let y=0;y<e;y++)for(let _=0;_<p;_++){let E=0;for(let C=0;C<f;C++)E+=l.get(y,C)*u.get(_,C);m.set(y,_,E)}return m}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let n=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,i=0,e=this.s;for(let o=0,l=e.length;o<l;o++)e[o]>n&&i++;return i}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return be.diag(this.s)}};function g6(n,i=!1){return n=us.checkMatrix(n),i?new sp(n).inverse():AC(n,be.eye(n.rows))}function AC(n,i,e=!1){return n=us.checkMatrix(n),i=us.checkMatrix(i),e?new sp(n).solve(i):n.isSquare()?new ay(n).solve(i):new ex(n).solve(i)}function Kv(n){if(n=be.checkMatrix(n),n.isSquare()){if(n.columns===0)return 1;let i,e,o,l;if(n.columns===2)return i=n.get(0,0),e=n.get(0,1),o=n.get(1,0),l=n.get(1,1),i*l-e*o;if(n.columns===3){let u,p,f;return u=new Yv(n,[1,2],[1,2]),p=new Yv(n,[1,2],[0,2]),f=new Yv(n,[1,2],[0,1]),i=n.get(0,0),e=n.get(0,1),o=n.get(0,2),i*Kv(u)-e*Kv(p)+o*Kv(f)}else return new ay(n).determinant}else throw Error("determinant can only be calculated for a square matrix")}function m6(n,i){let e=[];for(let o=0;o<n;o++)o!==i&&e.push(o);return e}function v6(n,i,e,o=1e-9,l=1e-9){if(n>l)return new Array(i.rows+1).fill(0);{let u=i.addRow(e,[0]);for(let p=0;p<u.rows;p++)Math.abs(u.get(p,0))<o&&u.set(p,0,0);return u.to1DArray()}}function y6(n,i={}){const{thresholdValue:e=1e-9,thresholdError:o=1e-9}=i;n=be.checkMatrix(n);let l=n.rows,u=new be(l,l);for(let p=0;p<l;p++){let f=be.columnVector(n.getRow(p)),m=n.subMatrixRow(m6(l,p)).transpose(),y=new sp(m).solve(f),_=be.sub(f,m.mmul(y)).abs().max();u.setRow(p,v6(_,y,p,e,o))}return u}function b6(n,i=Number.EPSILON){if(n=be.checkMatrix(n),n.isEmpty())return n.transpose();let e=new sp(n,{autoTranspose:!0}),o=e.leftSingularVectors,l=e.rightSingularVectors,u=e.diagonal;for(let p=0;p<u.length;p++)Math.abs(u[p])>i?u[p]=1/u[p]:u[p]=0;return l.mmul(be.diag(u).mmul(o.transpose()))}function w6(n,i=n,e={}){n=new be(n);let o=!1;if(typeof i=="object"&&!be.isMatrix(i)&&!Bo.isAnyArray(i)?(e=i,i=n,o=!0):i=new be(i),n.rows!==i.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:l=!0}=e;l&&(n=n.center("column"),o||(i=i.center("column")));const u=n.transpose().mmul(i);for(let p=0;p<u.rows;p++)for(let f=0;f<u.columns;f++)u.set(p,f,u.get(p,f)*(1/(n.rows-1)));return u}function x6(n,i=n,e={}){n=new be(n);let o=!1;if(typeof i=="object"&&!be.isMatrix(i)&&!Bo.isAnyArray(i)?(e=i,i=n,o=!0):i=new be(i),n.rows!==i.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:l=!0,scale:u=!0}=e;l&&(n.center("column"),o||i.center("column")),u&&(n.scale("column"),o||i.scale("column"));const p=n.standardDeviation("column",{unbiased:!0}),f=o?p:i.standardDeviation("column",{unbiased:!0}),m=n.transpose().mmul(i);for(let y=0;y<m.rows;y++)for(let _=0;_<m.columns;_++)m.set(y,_,m.get(y,_)*(1/(p[y]*f[_]))*(1/(n.rows-1)));return m}class zC{constructor(i,e={}){const{assumeSymmetric:o=!1}=e;if(i=us.checkMatrix(i),!i.isSquare())throw new Error("Matrix is not a square matrix");if(i.isEmpty())throw new Error("Matrix must be non-empty");let l=i.columns,u=new be(l,l),p=new Float64Array(l),f=new Float64Array(l),m=i,y,_,E=!1;if(o?E=!0:E=i.isSymmetric(),E){for(y=0;y<l;y++)for(_=0;_<l;_++)u.set(y,_,m.get(y,_));_6(l,f,p,u),k6(l,f,p,u)}else{let C=new be(l,l),I=new Float64Array(l);for(_=0;_<l;_++)for(y=0;y<l;y++)C.set(y,_,m.get(y,_));E6(l,C,I,u),T6(l,f,p,u,C)}this.n=l,this.e=f,this.d=p,this.V=u}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let i=this.n,e=this.e,o=this.d,l=new be(i,i),u,p;for(u=0;u<i;u++){for(p=0;p<i;p++)l.set(u,p,0);l.set(u,u,o[u]),e[u]>0?l.set(u,u+1,e[u]):e[u]<0&&l.set(u,u-1,e[u])}return l}}function _6(n,i,e,o){let l,u,p,f,m,y,_,E;for(m=0;m<n;m++)e[m]=o.get(n-1,m);for(f=n-1;f>0;f--){for(E=0,p=0,y=0;y<f;y++)E=E+Math.abs(e[y]);if(E===0)for(i[f]=e[f-1],m=0;m<f;m++)e[m]=o.get(f-1,m),o.set(f,m,0),o.set(m,f,0);else{for(y=0;y<f;y++)e[y]/=E,p+=e[y]*e[y];for(l=e[f-1],u=Math.sqrt(p),l>0&&(u=-u),i[f]=E*u,p=p-l*u,e[f-1]=l-u,m=0;m<f;m++)i[m]=0;for(m=0;m<f;m++){for(l=e[m],o.set(m,f,l),u=i[m]+o.get(m,m)*l,y=m+1;y<=f-1;y++)u+=o.get(y,m)*e[y],i[y]+=o.get(y,m)*l;i[m]=u}for(l=0,m=0;m<f;m++)i[m]/=p,l+=i[m]*e[m];for(_=l/(p+p),m=0;m<f;m++)i[m]-=_*e[m];for(m=0;m<f;m++){for(l=e[m],u=i[m],y=m;y<=f-1;y++)o.set(y,m,o.get(y,m)-(l*i[y]+u*e[y]));e[m]=o.get(f-1,m),o.set(f,m,0)}}e[f]=p}for(f=0;f<n-1;f++){if(o.set(n-1,f,o.get(f,f)),o.set(f,f,1),p=e[f+1],p!==0){for(y=0;y<=f;y++)e[y]=o.get(y,f+1)/p;for(m=0;m<=f;m++){for(u=0,y=0;y<=f;y++)u+=o.get(y,f+1)*o.get(y,m);for(y=0;y<=f;y++)o.set(y,m,o.get(y,m)-u*e[y])}}for(y=0;y<=f;y++)o.set(y,f+1,0)}for(m=0;m<n;m++)e[m]=o.get(n-1,m),o.set(n-1,m,0);o.set(n-1,n-1,1),i[0]=0}function k6(n,i,e,o){let l,u,p,f,m,y,_,E,C,I,z,B,G,H,$,j;for(p=1;p<n;p++)i[p-1]=i[p];i[n-1]=0;let V=0,ot=0,ft=Number.EPSILON;for(y=0;y<n;y++){for(ot=Math.max(ot,Math.abs(e[y])+Math.abs(i[y])),_=y;_<n&&!(Math.abs(i[_])<=ft*ot);)_++;if(_>y)do{for(l=e[y],E=(e[y+1]-l)/(2*i[y]),C=Gl(E,1),E<0&&(C=-C),e[y]=i[y]/(E+C),e[y+1]=i[y]*(E+C),I=e[y+1],u=l-e[y],p=y+2;p<n;p++)e[p]-=u;for(V=V+u,E=e[_],z=1,B=z,G=z,H=i[y+1],$=0,j=0,p=_-1;p>=y;p--)for(G=B,B=z,j=$,l=z*i[p],u=z*E,C=Gl(E,i[p]),i[p+1]=$*C,$=i[p]/C,z=E/C,E=z*e[p]-$*l,e[p+1]=u+$*(z*l+$*e[p]),m=0;m<n;m++)u=o.get(m,p+1),o.set(m,p+1,$*o.get(m,p)+z*u),o.set(m,p,z*o.get(m,p)-$*u);E=-$*j*G*H*i[y]/I,i[y]=$*E,e[y]=z*E}while(Math.abs(i[y])>ft*ot);e[y]=e[y]+V,i[y]=0}for(p=0;p<n-1;p++){for(m=p,E=e[p],f=p+1;f<n;f++)e[f]<E&&(m=f,E=e[f]);if(m!==p)for(e[m]=e[p],e[p]=E,f=0;f<n;f++)E=o.get(f,p),o.set(f,p,o.get(f,m)),o.set(f,m,E)}}function E6(n,i,e,o){let l=0,u=n-1,p,f,m,y,_,E,C;for(E=l+1;E<=u-1;E++){for(C=0,y=E;y<=u;y++)C=C+Math.abs(i.get(y,E-1));if(C!==0){for(m=0,y=u;y>=E;y--)e[y]=i.get(y,E-1)/C,m+=e[y]*e[y];for(f=Math.sqrt(m),e[E]>0&&(f=-f),m=m-e[E]*f,e[E]=e[E]-f,_=E;_<n;_++){for(p=0,y=u;y>=E;y--)p+=e[y]*i.get(y,_);for(p=p/m,y=E;y<=u;y++)i.set(y,_,i.get(y,_)-p*e[y])}for(y=0;y<=u;y++){for(p=0,_=u;_>=E;_--)p+=e[_]*i.get(y,_);for(p=p/m,_=E;_<=u;_++)i.set(y,_,i.get(y,_)-p*e[_])}e[E]=C*e[E],i.set(E,E-1,C*f)}}for(y=0;y<n;y++)for(_=0;_<n;_++)o.set(y,_,y===_?1:0);for(E=u-1;E>=l+1;E--)if(i.get(E,E-1)!==0){for(y=E+1;y<=u;y++)e[y]=i.get(y,E-1);for(_=E;_<=u;_++){for(f=0,y=E;y<=u;y++)f+=e[y]*o.get(y,_);for(f=f/e[E]/i.get(E,E-1),y=E;y<=u;y++)o.set(y,_,o.get(y,_)+f*e[y])}}}function T6(n,i,e,o,l){let u=n-1,p=0,f=n-1,m=Number.EPSILON,y=0,_=0,E=0,C=0,I=0,z=0,B=0,G=0,H,$,j,V,ot,ft,ht,ct,Z,lt,ut,mt,te,ne,ye;for(H=0;H<n;H++)for((H<p||H>f)&&(e[H]=l.get(H,H),i[H]=0),$=Math.max(H-1,0);$<n;$++)_=_+Math.abs(l.get(H,$));for(;u>=p;){for(V=u;V>p&&(z=Math.abs(l.get(V-1,V-1))+Math.abs(l.get(V,V)),z===0&&(z=_),!(Math.abs(l.get(V,V-1))<m*z));)V--;if(V===u)l.set(u,u,l.get(u,u)+y),e[u]=l.get(u,u),i[u]=0,u--,G=0;else if(V===u-1){if(ht=l.get(u,u-1)*l.get(u-1,u),E=(l.get(u-1,u-1)-l.get(u,u))/2,C=E*E+ht,B=Math.sqrt(Math.abs(C)),l.set(u,u,l.get(u,u)+y),l.set(u-1,u-1,l.get(u-1,u-1)+y),ct=l.get(u,u),C>=0){for(B=E>=0?E+B:E-B,e[u-1]=ct+B,e[u]=e[u-1],B!==0&&(e[u]=ct-ht/B),i[u-1]=0,i[u]=0,ct=l.get(u,u-1),z=Math.abs(ct)+Math.abs(B),E=ct/z,C=B/z,I=Math.sqrt(E*E+C*C),E=E/I,C=C/I,$=u-1;$<n;$++)B=l.get(u-1,$),l.set(u-1,$,C*B+E*l.get(u,$)),l.set(u,$,C*l.get(u,$)-E*B);for(H=0;H<=u;H++)B=l.get(H,u-1),l.set(H,u-1,C*B+E*l.get(H,u)),l.set(H,u,C*l.get(H,u)-E*B);for(H=p;H<=f;H++)B=o.get(H,u-1),o.set(H,u-1,C*B+E*o.get(H,u)),o.set(H,u,C*o.get(H,u)-E*B)}else e[u-1]=ct+E,e[u]=ct+E,i[u-1]=B,i[u]=-B;u=u-2,G=0}else{if(ct=l.get(u,u),Z=0,ht=0,V<u&&(Z=l.get(u-1,u-1),ht=l.get(u,u-1)*l.get(u-1,u)),G===10){for(y+=ct,H=p;H<=u;H++)l.set(H,H,l.get(H,H)-ct);z=Math.abs(l.get(u,u-1))+Math.abs(l.get(u-1,u-2)),ct=Z=.75*z,ht=-.4375*z*z}if(G===30&&(z=(Z-ct)/2,z=z*z+ht,z>0)){for(z=Math.sqrt(z),Z<ct&&(z=-z),z=ct-ht/((Z-ct)/2+z),H=p;H<=u;H++)l.set(H,H,l.get(H,H)-z);y+=z,ct=Z=ht=.964}for(G=G+1,ot=u-2;ot>=V&&(B=l.get(ot,ot),I=ct-B,z=Z-B,E=(I*z-ht)/l.get(ot+1,ot)+l.get(ot,ot+1),C=l.get(ot+1,ot+1)-B-I-z,I=l.get(ot+2,ot+1),z=Math.abs(E)+Math.abs(C)+Math.abs(I),E=E/z,C=C/z,I=I/z,!(ot===V||Math.abs(l.get(ot,ot-1))*(Math.abs(C)+Math.abs(I))<m*(Math.abs(E)*(Math.abs(l.get(ot-1,ot-1))+Math.abs(B)+Math.abs(l.get(ot+1,ot+1))))));)ot--;for(H=ot+2;H<=u;H++)l.set(H,H-2,0),H>ot+2&&l.set(H,H-3,0);for(j=ot;j<=u-1&&(ne=j!==u-1,j!==ot&&(E=l.get(j,j-1),C=l.get(j+1,j-1),I=ne?l.get(j+2,j-1):0,ct=Math.abs(E)+Math.abs(C)+Math.abs(I),ct!==0&&(E=E/ct,C=C/ct,I=I/ct)),ct!==0);j++)if(z=Math.sqrt(E*E+C*C+I*I),E<0&&(z=-z),z!==0){for(j!==ot?l.set(j,j-1,-z*ct):V!==ot&&l.set(j,j-1,-l.get(j,j-1)),E=E+z,ct=E/z,Z=C/z,B=I/z,C=C/E,I=I/E,$=j;$<n;$++)E=l.get(j,$)+C*l.get(j+1,$),ne&&(E=E+I*l.get(j+2,$),l.set(j+2,$,l.get(j+2,$)-E*B)),l.set(j,$,l.get(j,$)-E*ct),l.set(j+1,$,l.get(j+1,$)-E*Z);for(H=0;H<=Math.min(u,j+3);H++)E=ct*l.get(H,j)+Z*l.get(H,j+1),ne&&(E=E+B*l.get(H,j+2),l.set(H,j+2,l.get(H,j+2)-E*I)),l.set(H,j,l.get(H,j)-E),l.set(H,j+1,l.get(H,j+1)-E*C);for(H=p;H<=f;H++)E=ct*o.get(H,j)+Z*o.get(H,j+1),ne&&(E=E+B*o.get(H,j+2),o.set(H,j+2,o.get(H,j+2)-E*I)),o.set(H,j,o.get(H,j)-E),o.set(H,j+1,o.get(H,j+1)-E*C)}}}if(_!==0){for(u=n-1;u>=0;u--)if(E=e[u],C=i[u],C===0)for(V=u,l.set(u,u,1),H=u-1;H>=0;H--){for(ht=l.get(H,H)-E,I=0,$=V;$<=u;$++)I=I+l.get(H,$)*l.get($,u);if(i[H]<0)B=ht,z=I;else if(V=H,i[H]===0?l.set(H,u,ht!==0?-I/ht:-I/(m*_)):(ct=l.get(H,H+1),Z=l.get(H+1,H),C=(e[H]-E)*(e[H]-E)+i[H]*i[H],ft=(ct*z-B*I)/C,l.set(H,u,ft),l.set(H+1,u,Math.abs(ct)>Math.abs(B)?(-I-ht*ft)/ct:(-z-Z*ft)/B)),ft=Math.abs(l.get(H,u)),m*ft*ft>1)for($=H;$<=u;$++)l.set($,u,l.get($,u)/ft)}else if(C<0)for(V=u-1,Math.abs(l.get(u,u-1))>Math.abs(l.get(u-1,u))?(l.set(u-1,u-1,C/l.get(u,u-1)),l.set(u-1,u,-(l.get(u,u)-E)/l.get(u,u-1))):(ye=Lv(0,-l.get(u-1,u),l.get(u-1,u-1)-E,C),l.set(u-1,u-1,ye[0]),l.set(u-1,u,ye[1])),l.set(u,u-1,0),l.set(u,u,1),H=u-2;H>=0;H--){for(lt=0,ut=0,$=V;$<=u;$++)lt=lt+l.get(H,$)*l.get($,u-1),ut=ut+l.get(H,$)*l.get($,u);if(ht=l.get(H,H)-E,i[H]<0)B=ht,I=lt,z=ut;else if(V=H,i[H]===0?(ye=Lv(-lt,-ut,ht,C),l.set(H,u-1,ye[0]),l.set(H,u,ye[1])):(ct=l.get(H,H+1),Z=l.get(H+1,H),mt=(e[H]-E)*(e[H]-E)+i[H]*i[H]-C*C,te=(e[H]-E)*2*C,mt===0&&te===0&&(mt=m*_*(Math.abs(ht)+Math.abs(C)+Math.abs(ct)+Math.abs(Z)+Math.abs(B))),ye=Lv(ct*I-B*lt+C*ut,ct*z-B*ut-C*lt,mt,te),l.set(H,u-1,ye[0]),l.set(H,u,ye[1]),Math.abs(ct)>Math.abs(B)+Math.abs(C)?(l.set(H+1,u-1,(-lt-ht*l.get(H,u-1)+C*l.get(H,u))/ct),l.set(H+1,u,(-ut-ht*l.get(H,u)-C*l.get(H,u-1))/ct)):(ye=Lv(-I-Z*l.get(H,u-1),-z-Z*l.get(H,u),B,C),l.set(H+1,u-1,ye[0]),l.set(H+1,u,ye[1]))),ft=Math.max(Math.abs(l.get(H,u-1)),Math.abs(l.get(H,u))),m*ft*ft>1)for($=H;$<=u;$++)l.set($,u-1,l.get($,u-1)/ft),l.set($,u,l.get($,u)/ft)}for(H=0;H<n;H++)if(H<p||H>f)for($=H;$<n;$++)o.set(H,$,l.get(H,$));for($=n-1;$>=p;$--)for(H=p;H<=f;H++){for(B=0,j=p;j<=Math.min($,f);j++)B=B+o.get(H,j)*l.get(j,$);o.set(H,$,B)}}}function Lv(n,i,e,o){let l,u;return Math.abs(e)>Math.abs(o)?(l=o/e,u=e+l*o,[(n+l*i)/u,(i-l*n)/u]):(l=e/o,u=o+l*e,[(l*n+i)/u,(l*i-n)/u])}class OC{constructor(i){if(i=us.checkMatrix(i),!i.isSymmetric())throw new Error("Matrix is not symmetric");let e=i,o=e.rows,l=new be(o,o),u=!0,p,f,m;for(f=0;f<o;f++){let y=0;for(m=0;m<f;m++){let _=0;for(p=0;p<m;p++)_+=l.get(m,p)*l.get(f,p);_=(e.get(f,m)-_)/l.get(m,m),l.set(f,m,_),y=y+_*_}for(y=e.get(f,f)-y,u&=y>0,l.set(f,f,Math.sqrt(Math.max(y,0))),m=f+1;m<o;m++)l.set(f,m,0)}this.L=l,this.positiveDefinite=!!u}isPositiveDefinite(){return this.positiveDefinite}solve(i){i=us.checkMatrix(i);let e=this.L,o=e.rows;if(i.rows!==o)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");let l=i.columns,u=i.clone(),p,f,m;for(m=0;m<o;m++)for(f=0;f<l;f++){for(p=0;p<m;p++)u.set(m,f,u.get(m,f)-u.get(p,f)*e.get(m,p));u.set(m,f,u.get(m,f)/e.get(m,m))}for(m=o-1;m>=0;m--)for(f=0;f<l;f++){for(p=m+1;p<o;p++)u.set(m,f,u.get(m,f)-u.get(p,f)*e.get(p,m));u.set(m,f,u.get(m,f)/e.get(m,m))}return u}get lowerTriangularMatrix(){return this.L}}class NC{constructor(i,e={}){i=us.checkMatrix(i);let{Y:o}=e;const{scaleScores:l=!1,maxIterations:u=1e3,terminationCriteria:p=1e-10}=e;let f;if(o){if(Bo.isAnyArray(o)&&typeof o[0]=="number"?o=be.columnVector(o):o=us.checkMatrix(o),o.rows!==i.rows)throw new Error("Y should have the same number of rows as X");f=o.getColumnVector(0)}else f=i.getColumnVector(0);let m=1,y,_,E,C;for(let I=0;I<u&&m>p;I++)E=i.transpose().mmul(f).div(f.transpose().mmul(f).get(0,0)),E=E.div(E.norm()),y=i.mmul(E).div(E.transpose().mmul(E).get(0,0)),I>0&&(m=y.clone().sub(C).pow(2).sum()),C=y.clone(),o?(_=o.transpose().mmul(y).div(y.transpose().mmul(y).get(0,0)),_=_.div(_.norm()),f=o.mmul(_).div(_.transpose().mmul(_).get(0,0))):f=y;if(o){let I=i.transpose().mmul(y).div(y.transpose().mmul(y).get(0,0));I=I.div(I.norm());let z=i.clone().sub(y.clone().mmul(I.transpose())),B=f.transpose().mmul(y).div(y.transpose().mmul(y).get(0,0)),G=o.clone().sub(y.clone().mulS(B.get(0,0)).mmul(_.transpose()));this.t=y,this.p=I.transpose(),this.w=E.transpose(),this.q=_,this.u=f,this.s=y.transpose().mmul(y),this.xResidual=z,this.yResidual=G,this.betas=B}else this.w=E.transpose(),this.s=y.transpose().mmul(y).sqrt(),l?this.t=y.clone().div(this.s.get(0,0)):this.t=y,this.xResidual=i.sub(y.mmul(E.transpose()))}}ti.AbstractMatrix=fr;ti.CHO=OC;ti.CholeskyDecomposition=OC;ti.DistanceMatrix=sy;ti.EVD=zC;ti.EigenvalueDecomposition=zC;ti.LU=ay;ti.LuDecomposition=ay;var S6=ti.Matrix=be;ti.MatrixColumnSelectionView=a6;ti.MatrixColumnView=s6;ti.MatrixFlipColumnView=l6;ti.MatrixFlipRowView=c6;ti.MatrixRowSelectionView=h6;ti.MatrixRowView=u6;ti.MatrixSelectionView=Yv;ti.MatrixSubView=d6;ti.MatrixTransposeView=p6;ti.NIPALS=NC;ti.Nipals=NC;ti.QR=ex;ti.QrDecomposition=ex;ti.SVD=sp;var C6=ti.SingularValueDecomposition=sp;ti.SymmetricMatrix=Qf;ti.WrapperMatrix1D=RC;ti.WrapperMatrix2D=us;ti.correlation=x6;ti.covariance=w6;var L2=ti.default=be;ti.determinant=Kv;var P6=ti.inverse=g6;ti.linearDependencies=y6;var M6=ti.pseudoInverse=b6;ti.solve=AC;ti.wrap=f6;const oo=S6,I6=C6;L2.Matrix&&L2.Matrix;const L6=P6,DC=M6;class R6{constructor(i,e){if(this.sourcePoints=i,this.destinationPoints=e,this.pointCount=this.sourcePoints.length,this.pointCount<2)throw new Error("Not enough control points. A helmert transformation requires a minimum of 2 points, but "+this.pointCount+" are given.");const o=oo.columnVector(e.flat()),l=oo.zeros(2*this.pointCount,4);for(let p=0;p<this.pointCount;p++)l.set(2*p,0,1),l.set(2*p,1,0),l.set(2*p,2,i[p][0]),l.set(2*p,3,-i[p][1]),l.set(2*p+1,0,0),l.set(2*p+1,1,1),l.set(2*p+1,2,i[p][1]),l.set(2*p+1,3,i[p][0]);const u=DC(l);this.helmertParametersMatrix=u.mmul(o)}interpolate(i){if(!this.helmertParametersMatrix)throw new Error("Helmert parameters not computed");return[this.helmertParametersMatrix.get(0,0)+this.helmertParametersMatrix.get(2,0)*i[0]-this.helmertParametersMatrix.get(3,0)*i[1],this.helmertParametersMatrix.get(1,0)+this.helmertParametersMatrix.get(3,0)*i[0]+this.helmertParametersMatrix.get(2,0)*i[1]]}}class sw{constructor(i,e,o){if(this.sourcePoints=i,this.destinationPoints=e,this.pointCount=this.sourcePoints.length,this.order=o||1,this.nCoefs=(this.order+1)*(this.order+2)/2,this.pointCount<this.nCoefs)throw new Error("Not enough control points. A polynomial transformation of order "+this.order+" requires a minimum of "+this.nCoefs+" points, but "+this.pointCount+" are given.");if(this.order<1||this.order>3)throw new Error("Only polynomial transformations of order 1, 2 or 3 are supported");const l=[oo.columnVector(e.map(f=>f[0])),oo.columnVector(e.map(f=>f[1]))],u=oo.zeros(this.pointCount,this.nCoefs);for(let f=0;f<this.pointCount;f++)switch(this.order){case 1:u.set(f,0,1),u.set(f,1,i[f][0]),u.set(f,2,i[f][1]);break;case 2:u.set(f,0,1),u.set(f,1,i[f][0]),u.set(f,2,i[f][1]),u.set(f,3,i[f][0]**2),u.set(f,4,i[f][1]**2),u.set(f,5,i[f][0]*i[f][1]);break;case 3:u.set(f,0,1),u.set(f,1,i[f][0]),u.set(f,2,i[f][1]),u.set(f,3,i[f][0]**2),u.set(f,4,i[f][1]**2),u.set(f,5,i[f][0]*i[f][1]),u.set(f,6,i[f][0]**3),u.set(f,7,i[f][1]**3),u.set(f,8,i[f][0]**2*i[f][1]),u.set(f,9,i[f][0]*i[f][1]**2);break}const p=DC(u);this.polynomialParametersMatrices=[p.mmul(l[0]),p.mmul(l[1])]}interpolate(i){if(!this.polynomialParametersMatrices)throw new Error("Polynomial parameters not computed");const e=[0,0];for(let o=0;o<2;o++)switch(this.order){case 1:e[o]+=this.polynomialParametersMatrices[o].get(0,0)+this.polynomialParametersMatrices[o].get(1,0)*i[0]+this.polynomialParametersMatrices[o].get(2,0)*i[1];break;case 2:e[o]+=this.polynomialParametersMatrices[o].get(0,0)+this.polynomialParametersMatrices[o].get(1,0)*i[0]+this.polynomialParametersMatrices[o].get(2,0)*i[1]+this.polynomialParametersMatrices[o].get(3,0)*i[0]**2+this.polynomialParametersMatrices[o].get(4,0)*i[1]**2+this.polynomialParametersMatrices[o].get(5,0)*i[0]*i[1];break;case 3:e[o]+=this.polynomialParametersMatrices[o].get(0,0)+this.polynomialParametersMatrices[o].get(1,0)*i[0]+this.polynomialParametersMatrices[o].get(2,0)*i[1]+this.polynomialParametersMatrices[o].get(3,0)*i[0]**2+this.polynomialParametersMatrices[o].get(4,0)*i[1]**2+this.polynomialParametersMatrices[o].get(5,0)*i[0]*i[1]+this.polynomialParametersMatrices[o].get(6,0)*i[0]**3+this.polynomialParametersMatrices[o].get(7,0)*i[1]**3+this.polynomialParametersMatrices[o].get(8,0)*i[0]**2*i[1]+this.polynomialParametersMatrices[o].get(9,0)*i[0]*i[1]**2;break}return e}}class A6{constructor(i,e){if(this.sourcePoints=i,this.destinationPoints=e,this.pointCount=this.sourcePoints.length,this.pointCount<4)throw new Error("Not enough control points. A projective transformation requires a minimum of 4 points, but "+this.pointCount+" are given.");const o=oo.zeros(2*this.pointCount,9);for(let u=0;u<this.pointCount;u++)o.set(2*u,0,-i[u][0]),o.set(2*u,1,-i[u][1]),o.set(2*u,2,-1),o.set(2*u,3,0),o.set(2*u,4,0),o.set(2*u,5,0),o.set(2*u,6,e[u][0]*i[u][0]),o.set(2*u,7,e[u][0]*i[u][1]),o.set(2*u,8,e[u][0]),o.set(2*u+1,0,0),o.set(2*u+1,1,0),o.set(2*u+1,2,0),o.set(2*u+1,3,-i[u][0]),o.set(2*u+1,4,-i[u][1]),o.set(2*u+1,5,-1),o.set(2*u+1,6,e[u][1]*i[u][0]),o.set(2*u+1,7,e[u][1]*i[u][1]),o.set(2*u+1,8,e[u][1]);const l=new I6(o);this.projectiveParametersMatrix=oo.from1DArray(3,3,l.rightSingularVectors.getColumn(8)).transpose()}interpolate(i){if(!this.projectiveParametersMatrix)throw new Error("projective parameters not computed");const e=this.projectiveParametersMatrix.get(0,2)*i[0]+this.projectiveParametersMatrix.get(1,2)*i[1]+this.projectiveParametersMatrix.get(2,2);return[(this.projectiveParametersMatrix.get(0,0)*i[0]+this.projectiveParametersMatrix.get(1,0)*i[1]+this.projectiveParametersMatrix.get(2,0))/e,(this.projectiveParametersMatrix.get(0,1)*i[0]+this.projectiveParametersMatrix.get(1,1)*i[1]+this.projectiveParametersMatrix.get(2,1))/e]}}function z6(n,i){if(n=oo.checkMatrix(n),i=oo.checkMatrix(i),n.rows!=i.rows||n.columns!=i.columns)throw new Error("Matrices have different dimensions");const e=oo.zeros(n.rows,n.columns);for(let o=0;o<n.rows;o++)for(let l=0;l<n.columns;l++)e.set(o,l,n.get(o,l)*i.get(o,l));return e}class O6{constructor(i,e,o,l,u){if(this.sourcePoints=i,this.destinationPoints=e,this.kernelFunction=o,this.normFunction=l,this.pointCount=this.sourcePoints.length,this.pointCount<3)throw new Error(`Not enough control points. A thin plate spline transformation (with affine component) requires a minimum of 3 points, but ${this.pointCount} are given.`);const p=[oo.columnVector([...e,[0,0],[0,0],[0,0]].map(E=>E[0])),oo.columnVector([...e,[0,0],[0,0],[0,0]].map(E=>E[1]))],f=oo.zeros(this.pointCount,this.pointCount);for(let E=0;E<this.pointCount;E++)for(let C=0;C<this.pointCount;C++)f.set(E,C,l(i[E],i[C]));u===void 0&&(u=f.sum()/(Math.pow(this.pointCount,2)-this.pointCount)),this.epsilon=u;for(let E=0;E<this.pointCount;E++)for(let C=0;C<this.pointCount;C++)f.set(E,C,o(f.get(E,C),u));const m=oo.zeros(this.pointCount,3),y=oo.zeros(this.pointCount+3,this.pointCount+3);for(let E=0;E<this.pointCount;E++)m.set(E,0,1),m.set(E,1,i[E][0]),m.set(E,2,i[E][1]);for(let E=0;E<this.pointCount+3;E++)for(let C=0;C<this.pointCount+3;C++)E<this.pointCount&&C<this.pointCount?y.set(E,C,f.get(E,C)):E>=this.pointCount&&C<this.pointCount?y.set(E,C,m.transpose().get(E-this.pointCount,C)):E<this.pointCount&&C>=this.pointCount&&y.set(E,C,m.get(E,C-this.pointCount));const _=L6(y);this.weightsMatrices=[_.mmul(p[0]),_.mmul(p[1])]}interpolate(i){if(!this.weightsMatrices)throw new Error("Weights not computed");const e=oo.zeros(this.pointCount,1);for(let l=0;l<this.pointCount;l++)e.set(l,0,this.kernelFunction(this.normFunction(i,this.sourcePoints[l]),this.epsilon));const o=[0,0];for(let l=0;l<2;l++){o[l]=z6(e,this.weightsMatrices[l].selection([...Array(this.pointCount).keys()],[0])).sum();const u=this.weightsMatrices[l].get(this.pointCount,0),p=this.weightsMatrices[l].get(this.pointCount+1,0),f=this.weightsMatrices[l].get(this.pointCount+2,0);o[l]+=u+p*i[0]+f*i[1]}return o}}function N6(n){return n===0?0:Math.pow(n,2)*Math.log(n)}function D6(n,i){const e=[i[0]-n[0],i[1]-n[1]];return Math.sqrt(e[0]**2+e[1]**2)}function ly(n){const i={close:!1,maxOffsetRatio:0,maxDepth:0,destinationIsGeographic:!1,sourceIsGeographic:!1};return n&&n.maxDepth!==void 0&&(i.maxDepth=n.maxDepth),n&&n.maxOffsetRatio!==void 0&&(i.maxOffsetRatio=n.maxOffsetRatio),n&&n.destinationIsGeographic!==void 0&&(i.destinationIsGeographic=n.destinationIsGeographic),n&&n.sourceIsGeographic!==void 0&&(i.sourceIsGeographic=n.sourceIsGeographic),i}function Rv(n,i,e){const o=ly(e);i=SC(i);const l=i.map(f=>({source:f,destination:n.transformForward(f)})),u=cy(l,!1),p=FC(n,u,o);return uy(p,!0).map(f=>f.destination)}function Av(n,i,e){const o=ly(e);i=SC(i);const l=i.map(f=>({source:n.transformBackward(f),destination:f})),u=cy(l,!1),p=BC(n,u,o);return uy(p,!0).map(f=>f.source)}function F6(n,i,e){const o=ly(e);i=K1(i);const l=i.map(f=>({source:f,destination:n.transformForward(f)})),u=cy(l,!0),p=FC(n,u,o);return uy(p,!1).map(f=>f.destination)}function B6(n,i,e){const o=ly(e);i=K1(i);const l=i.map(f=>({source:n.transformBackward(f),destination:f})),u=cy(l,!0),p=BC(n,u,o);return uy(p,!1).map(f=>f.source)}function zv(n,i,e){return i.map(o=>F6(n,o,e))}function Ov(n,i,e){return i.map(o=>B6(n,o,e))}function cy(n,i=!1){const e=n.length-(i?0:1),o=[];for(let l=0;l<e;l++)o.push({from:n[l],to:n[(l+1)%n.length]});return o}function uy(n,i=!1){const e=n.map(o=>o.from);return i&&e.push(n[n.length-1].to),e}function FC(n,i,e){return e.maxDepth<=0||e.maxOffsetRatio<=0?i:i.map(o=>Yw(n,o,e,0)).flat(1)}function BC(n,i,e){return e.maxDepth<=0||e.maxOffsetRatio<=0?i:i.map(o=>Kw(n,o,e,0)).flat(1)}function Yw(n,i,e,o){const l=(e.sourceIsGeographic?(_,E)=>I0(_,E).geometry.coordinates:L0)(i.from.source,i.to.source),u=(e.destinationIsGeographic?(_,E)=>I0(_,E).geometry.coordinates:L0)(i.from.destination,i.to.destination),p=n.transformForward(l),f=e.destinationIsGeographic?Y1:Wl,m=f(i.from.destination,i.to.destination),y=f(u,p);if(o<e.maxDepth&&e.maxOffsetRatio&&y/m>e.maxOffsetRatio&&m>0){const _={source:l,destination:p};return[Yw(n,{from:i.from,to:_},e,o+1),Yw(n,{from:_,to:i.to},e,o+1)].flat(1)}else return i}function Kw(n,i,e,o){const l=(e.destinationIsGeographic?(_,E)=>I0(_,E).geometry.coordinates:L0)(i.from.destination,i.to.destination),u=(e.sourceIsGeographic?(_,E)=>I0(_,E).geometry.coordinates:L0)(i.from.source,i.to.source),p=n.transformBackward(l),f=e.sourceIsGeographic?Y1:Wl,m=f(i.from.source,i.to.source),y=f(u,p);if(o<e.maxDepth&&e.maxOffsetRatio&&y/m>e.maxOffsetRatio&&m>0){const _={source:p,destination:l};return[Kw(n,{from:i.from,to:_},e,o+1),Kw(n,{from:_,to:i.to},e,o+1)].flat(1)}else return i}var Jw,jC,Qw,HC,Jv,aw;class R2{constructor(i,e="polynomial"){if(Jf(this,Jw),Jf(this,Qw),Jf(this,Jv),i.length==0)throw new Error("No control points.");this.gcps=i.map(o=>{if("resource"in o&&"geo"in o)return{source:o.resource,destination:o.geo};if("source"in o&&"destination"in o)return o;throw new Error("Unsupported GCP type")}),this.sourcePoints=this.gcps.map(o=>o.source),this.destinationPoints=this.gcps.map(o=>o.destination),this.type=e}transformForward(i,e){if(Fo(i))return this.forwardTransformation||(this.forwardTransformation=$d(this,Jw,jC).call(this)),this.forwardTransformation.interpolate(i);if(Bl(i))return this.transformForward(Nf(i));if(Ja(i))return Rv(this,i,e);if(jl(i))return e&&!("sourceIsGeographic"in e)&&(e.sourceIsGeographic=!0),Rv(this,Df(i),e);if(Qa(i))return zv(this,i,e);if(Hl(i))return e&&!("sourceIsGeographic"in e)&&(e.sourceIsGeographic=!0),zv(this,Ff(i),e);throw new Error("Input type not supported")}transformForwardAsGeojson(i,e){if(Fo(i))return Ev(this.transformForward(i));if(Bl(i))return Ev(this.transformForward(Nf(i)));if(Ja(i))return e&&!("destinationIsGeographic"in e)&&(e.destinationIsGeographic=!0),Tv(Rv(this,i,e));if(jl(i))return e&&!("sourceIsGeographic"in e)&&(e.sourceIsGeographic=!0),e&&!("destinationIsGeographic"in e)&&(e.destinationIsGeographic=!0),Tv(Rv(this,Df(i),e));if(Qa(i))return e&&!("destinationIsGeographic"in e)&&(e.destinationIsGeographic=!0),Sv(zv(this,i,e));if(Hl(i))return e&&!("sourceIsGeographic"in e)&&(e.sourceIsGeographic=!0),e&&!("destinationIsGeographic"in e)&&(e.destinationIsGeographic=!0),Sv(zv(this,Ff(i),e));throw new Error("Input type not supported")}transformBackward(i,e){if(Fo(i))return this.backwardTransformation||(this.backwardTransformation=$d(this,Qw,HC).call(this)),this.backwardTransformation.interpolate(i);if(Bl(i))return this.transformBackward(Nf(i));if(Ja(i))return Av(this,i,e);if(jl(i))return e&&!("destinationIsGeographic"in e)&&(e.destinationIsGeographic=!0),Av(this,Df(i),e);if(Qa(i))return Ov(this,i,e);if(Hl(i))return e&&!("destinationIsGeographic"in e)&&(e.destinationIsGeographic=!0),Ov(this,Ff(i),e);throw new Error("Input type not supported")}transformBackwardAsGeojson(i,e){if(Fo(i))return Ev(this.transformBackward(i));if(Bl(i))return Ev(this.transformBackward(Nf(i)));if(Ja(i))return e&&!("sourceIsGeographic"in e)&&(e.sourceIsGeographic=!0),Tv(Av(this,i,e));if(jl(i))return e&&!("sourceIsGeographic"in e)&&(e.sourceIsGeographic=!0),e&&!("destinationIsGeographic"in e)&&(e.destinationIsGeographic=!0),Tv(Av(this,Df(i),e));if(Qa(i))return e&&!("sourceIsGeographic"in e)&&(e.sourceIsGeographic=!0),Sv(Ov(this,i,e));if(Hl(i))return e&&!("sourceIsGeographic"in e)&&(e.sourceIsGeographic=!0),e&&!("destinationIsGeographic"in e)&&(e.destinationIsGeographic=!0),Sv(Ov(this,Ff(i),e));throw new Error("Input type not supported")}transformToGeo(i,e){if(Fo(i))return this.transformForward(i,e);if(Bl(i))return this.transformForward(i,e);if(Ja(i))return this.transformForward(i,e);if(jl(i))return this.transformForward(i,e);if(Qa(i))return this.transformForward(i,e);if(Hl(i))return this.transformForward(i,e);throw new Error("Input type not supported")}transformToGeoAsGeojson(i,e){if(Fo(i))return this.transformForwardAsGeojson(i,e);if(Bl(i))return this.transformForwardAsGeojson(i,e);if(Ja(i))return this.transformForwardAsGeojson(i,e);if(jl(i))return this.transformForwardAsGeojson(i,e);if(Qa(i))return this.transformForwardAsGeojson(i,e);if(Hl(i))return this.transformForwardAsGeojson(i,e);throw new Error("Input type not supported")}transformToResource(i,e){if(Fo(i))return this.transformBackward(i,e);if(Bl(i))return this.transformBackward(i,e);if(Ja(i))return this.transformBackward(i,e);if(jl(i))return this.transformBackward(i,e);if(Qa(i))return this.transformBackward(i,e);if(Hl(i))return this.transformBackward(i,e);throw new Error("Input type not supported")}transformToResourceAsGeojson(i,e){if(Fo(i))return this.transformBackwardAsGeojson(i,e);if(Bl(i))return this.transformBackwardAsGeojson(i,e);if(Ja(i))return this.transformBackwardAsGeojson(i,e);if(jl(i))return this.transformBackwardAsGeojson(i,e);if(Qa(i))return this.transformBackwardAsGeojson(i,e);if(Hl(i))return this.transformBackwardAsGeojson(i,e);throw new Error("Input type not supported")}transformSvgToGeojson(i,e){if(i.type==="circle")return this.transformForwardAsGeojson(i.coordinates);if(i.type==="line")return this.transformForwardAsGeojson(i.coordinates,e);if(i.type==="polyline")return this.transformForwardAsGeojson(i.coordinates,e);if(i.type==="rect")return this.transformForwardAsGeojson([i.coordinates],e);if(i.type==="polygon")return this.transformForwardAsGeojson([i.coordinates],e);throw new Error("Unsupported SVG geometry")}transformGeojsonToSvg(i,e){if(i.type==="Point")return{type:"circle",coordinates:this.transformBackward(i)};if(i.type==="LineString")return{type:"polyline",coordinates:this.transformBackward(i,e)};if(i.type==="Polygon")return{type:"polygon",coordinates:this.transformBackward(i,e)[0]};throw new Error("Unsupported GeoJSON geometry")}}Jw=new WeakSet,jC=function(){return $d(this,Jv,aw).call(this,this.sourcePoints,this.destinationPoints)},Qw=new WeakSet,HC=function(){return $d(this,Jv,aw).call(this,this.destinationPoints,this.sourcePoints)},Jv=new WeakSet,aw=function(n,i){if(this.type==="helmert")return new R6(n,i);if(this.type==="polynomial1"||this.type==="polynomial")return new sw(n,i);if(this.type==="polynomial2")return new sw(n,i,2);if(this.type==="polynomial3")return new sw(n,i,3);if(this.type==="projective")return new A6(n,i);if(this.type==="thinPlateSpline")return new O6(n,i,N6,D6);throw new Error(`Unsupported transformation type: ${this.type}`)};function j6(n){return Math.sqrt(Math.pow(n[1][0]-n[0][0],2)+Math.pow(n[1][1]-n[0][1],2))}function H6(n){return Math.atan2(n[1][1]-n[0][1],n[1][0]-n[0][0])}function U6(n,i,e){return[n[0]+Math.cos(e)*i,n[1]+Math.sin(e)*i]}function G6(n,i){let e=n[0];const o=[e];for(;j6([e,n[1]])>i;){const l=U6(e,i,H6(n));o.push(l),e=l}return o}function q6(n,i){n=[...n,n[0]];let e=[];for(let o=0;o<n.length-1;o++)e=e.concat(G6([n[o],n[o+1]],i));return e}function V6(n,i){const e=[],o=Bn(n);for(let l=o[0]+i,u=0;l<=o[2];u++,l+=i)for(let p=o[1]+i,f=0;p<=o[3];f++,p+=i)e.push([l,p]);return e}var $w={},W6={get exports(){return $w},set exports(n){$w=n}},UC=Z6,A2=+(Math.pow(2,27)+1);function Z6(n,i,e){var o=n*i,l=A2*n,u=l-n,p=l-u,f=n-p,m=A2*i,y=m-i,_=m-y,E=i-_,C=o-p*_,I=C-f*_,z=I-p*E,B=f*E-z;return e?(e[0]=B,e[1]=o,e):[B,o]}var X6=K6;function Y6(n,i){var e=n+i,o=e-n,l=e-o,u=i-o,p=n-l,f=p+u;return f?[f,e]:[e]}function K6(n,i){var e=n.length|0,o=i.length|0;if(e===1&&o===1)return Y6(n[0],i[0]);var l=e+o,u=new Array(l),p=0,f=0,m=0,y=Math.abs,_=n[f],E=y(_),C=i[m],I=y(C),z,B;E<I?(B=_,f+=1,f<e&&(_=n[f],E=y(_))):(B=C,m+=1,m<o&&(C=i[m],I=y(C))),f<e&&E<I||m>=o?(z=_,f+=1,f<e&&(_=n[f],E=y(_))):(z=C,m+=1,m<o&&(C=i[m],I=y(C)));for(var G=z+B,H=G-z,$=B-H,j=$,V=G,ot,ft,ht,ct,Z;f<e&&m<o;)E<I?(z=_,f+=1,f<e&&(_=n[f],E=y(_))):(z=C,m+=1,m<o&&(C=i[m],I=y(C))),B=j,G=z+B,H=G-z,$=B-H,$&&(u[p++]=$),ot=V+G,ft=ot-V,ht=ot-ft,ct=G-ft,Z=V-ht,j=Z+ct,V=ot;for(;f<e;)z=_,B=j,G=z+B,H=G-z,$=B-H,$&&(u[p++]=$),ot=V+G,ft=ot-V,ht=ot-ft,ct=G-ft,Z=V-ht,j=Z+ct,V=ot,f+=1,f<e&&(_=n[f]);for(;m<o;)z=C,B=j,G=z+B,H=G-z,$=B-H,$&&(u[p++]=$),ot=V+G,ft=ot-V,ht=ot-ft,ct=G-ft,Z=V-ht,j=Z+ct,V=ot,m+=1,m<o&&(C=i[m]);return j&&(u[p++]=j),V&&(u[p++]=V),p||(u[p++]=0),u.length=p,u}var J6=Q6;function Q6(n,i,e){var o=n+i,l=o-n,u=o-l,p=i-l,f=n-u;return e?(e[0]=f+p,e[1]=o,e):[f+p,o]}var lw=UC,$6=J6,tF=eF;function eF(n,i){var e=n.length;if(e===1){var o=lw(n[0],i);return o[0]?o:[o[1]]}var l=new Array(2*e),u=[.1,.1],p=[.1,.1],f=0;lw(n[0],i,u),u[0]&&(l[f++]=u[0]);for(var m=1;m<e;++m){lw(n[m],i,p);var y=u[1];$6(y,p[0],u),u[0]&&(l[f++]=u[0]);var _=p[1],E=u[1],C=_+E,I=C-_,z=E-I;u[1]=C,z&&(l[f++]=z)}return u[1]&&(l[f++]=u[1]),f===0&&(l[f++]=0),l.length=f,l}var rF=nF;function iF(n,i){var e=n+i,o=e-n,l=e-o,u=i-o,p=n-l,f=p+u;return f?[f,e]:[e]}function nF(n,i){var e=n.length|0,o=i.length|0;if(e===1&&o===1)return iF(n[0],-i[0]);var l=e+o,u=new Array(l),p=0,f=0,m=0,y=Math.abs,_=n[f],E=y(_),C=-i[m],I=y(C),z,B;E<I?(B=_,f+=1,f<e&&(_=n[f],E=y(_))):(B=C,m+=1,m<o&&(C=-i[m],I=y(C))),f<e&&E<I||m>=o?(z=_,f+=1,f<e&&(_=n[f],E=y(_))):(z=C,m+=1,m<o&&(C=-i[m],I=y(C)));for(var G=z+B,H=G-z,$=B-H,j=$,V=G,ot,ft,ht,ct,Z;f<e&&m<o;)E<I?(z=_,f+=1,f<e&&(_=n[f],E=y(_))):(z=C,m+=1,m<o&&(C=-i[m],I=y(C))),B=j,G=z+B,H=G-z,$=B-H,$&&(u[p++]=$),ot=V+G,ft=ot-V,ht=ot-ft,ct=G-ft,Z=V-ht,j=Z+ct,V=ot;for(;f<e;)z=_,B=j,G=z+B,H=G-z,$=B-H,$&&(u[p++]=$),ot=V+G,ft=ot-V,ht=ot-ft,ct=G-ft,Z=V-ht,j=Z+ct,V=ot,f+=1,f<e&&(_=n[f]);for(;m<o;)z=C,B=j,G=z+B,H=G-z,$=B-H,$&&(u[p++]=$),ot=V+G,ft=ot-V,ht=ot-ft,ct=G-ft,Z=V-ht,j=Z+ct,V=ot,m+=1,m<o&&(C=-i[m]);return j&&(u[p++]=j),V&&(u[p++]=V),p||(u[p++]=0),u.length=p,u}(function(n){var i=UC,e=X6,o=tF,l=rF,u=5,p=11102230246251565e-32,f=(3+16*p)*p,m=(7+56*p)*p;function y(j,V,ot,ft){return function(ht,ct,Z){var lt=j(j(V(ct[1],Z[0]),V(-Z[1],ct[0])),j(V(ht[1],ct[0]),V(-ct[1],ht[0]))),ut=j(V(ht[1],Z[0]),V(-Z[1],ht[0])),mt=ft(lt,ut);return mt[mt.length-1]}}function _(j,V,ot,ft){return function(ht,ct,Z,lt){var ut=j(j(ot(j(V(Z[1],lt[0]),V(-lt[1],Z[0])),ct[2]),j(ot(j(V(ct[1],lt[0]),V(-lt[1],ct[0])),-Z[2]),ot(j(V(ct[1],Z[0]),V(-Z[1],ct[0])),lt[2]))),j(ot(j(V(ct[1],lt[0]),V(-lt[1],ct[0])),ht[2]),j(ot(j(V(ht[1],lt[0]),V(-lt[1],ht[0])),-ct[2]),ot(j(V(ht[1],ct[0]),V(-ct[1],ht[0])),lt[2])))),mt=j(j(ot(j(V(Z[1],lt[0]),V(-lt[1],Z[0])),ht[2]),j(ot(j(V(ht[1],lt[0]),V(-lt[1],ht[0])),-Z[2]),ot(j(V(ht[1],Z[0]),V(-Z[1],ht[0])),lt[2]))),j(ot(j(V(ct[1],Z[0]),V(-Z[1],ct[0])),ht[2]),j(ot(j(V(ht[1],Z[0]),V(-Z[1],ht[0])),-ct[2]),ot(j(V(ht[1],ct[0]),V(-ct[1],ht[0])),Z[2])))),te=ft(ut,mt);return te[te.length-1]}}function E(j,V,ot,ft){return function(ht,ct,Z,lt,ut){var mt=j(j(j(ot(j(ot(j(V(lt[1],ut[0]),V(-ut[1],lt[0])),Z[2]),j(ot(j(V(Z[1],ut[0]),V(-ut[1],Z[0])),-lt[2]),ot(j(V(Z[1],lt[0]),V(-lt[1],Z[0])),ut[2]))),ct[3]),j(ot(j(ot(j(V(lt[1],ut[0]),V(-ut[1],lt[0])),ct[2]),j(ot(j(V(ct[1],ut[0]),V(-ut[1],ct[0])),-lt[2]),ot(j(V(ct[1],lt[0]),V(-lt[1],ct[0])),ut[2]))),-Z[3]),ot(j(ot(j(V(Z[1],ut[0]),V(-ut[1],Z[0])),ct[2]),j(ot(j(V(ct[1],ut[0]),V(-ut[1],ct[0])),-Z[2]),ot(j(V(ct[1],Z[0]),V(-Z[1],ct[0])),ut[2]))),lt[3]))),j(ot(j(ot(j(V(Z[1],lt[0]),V(-lt[1],Z[0])),ct[2]),j(ot(j(V(ct[1],lt[0]),V(-lt[1],ct[0])),-Z[2]),ot(j(V(ct[1],Z[0]),V(-Z[1],ct[0])),lt[2]))),-ut[3]),j(ot(j(ot(j(V(lt[1],ut[0]),V(-ut[1],lt[0])),ct[2]),j(ot(j(V(ct[1],ut[0]),V(-ut[1],ct[0])),-lt[2]),ot(j(V(ct[1],lt[0]),V(-lt[1],ct[0])),ut[2]))),ht[3]),ot(j(ot(j(V(lt[1],ut[0]),V(-ut[1],lt[0])),ht[2]),j(ot(j(V(ht[1],ut[0]),V(-ut[1],ht[0])),-lt[2]),ot(j(V(ht[1],lt[0]),V(-lt[1],ht[0])),ut[2]))),-ct[3])))),j(j(ot(j(ot(j(V(ct[1],ut[0]),V(-ut[1],ct[0])),ht[2]),j(ot(j(V(ht[1],ut[0]),V(-ut[1],ht[0])),-ct[2]),ot(j(V(ht[1],ct[0]),V(-ct[1],ht[0])),ut[2]))),lt[3]),j(ot(j(ot(j(V(ct[1],lt[0]),V(-lt[1],ct[0])),ht[2]),j(ot(j(V(ht[1],lt[0]),V(-lt[1],ht[0])),-ct[2]),ot(j(V(ht[1],ct[0]),V(-ct[1],ht[0])),lt[2]))),-ut[3]),ot(j(ot(j(V(Z[1],lt[0]),V(-lt[1],Z[0])),ct[2]),j(ot(j(V(ct[1],lt[0]),V(-lt[1],ct[0])),-Z[2]),ot(j(V(ct[1],Z[0]),V(-Z[1],ct[0])),lt[2]))),ht[3]))),j(ot(j(ot(j(V(Z[1],lt[0]),V(-lt[1],Z[0])),ht[2]),j(ot(j(V(ht[1],lt[0]),V(-lt[1],ht[0])),-Z[2]),ot(j(V(ht[1],Z[0]),V(-Z[1],ht[0])),lt[2]))),-ct[3]),j(ot(j(ot(j(V(ct[1],lt[0]),V(-lt[1],ct[0])),ht[2]),j(ot(j(V(ht[1],lt[0]),V(-lt[1],ht[0])),-ct[2]),ot(j(V(ht[1],ct[0]),V(-ct[1],ht[0])),lt[2]))),Z[3]),ot(j(ot(j(V(ct[1],Z[0]),V(-Z[1],ct[0])),ht[2]),j(ot(j(V(ht[1],Z[0]),V(-Z[1],ht[0])),-ct[2]),ot(j(V(ht[1],ct[0]),V(-ct[1],ht[0])),Z[2]))),-lt[3]))))),te=j(j(j(ot(j(ot(j(V(lt[1],ut[0]),V(-ut[1],lt[0])),Z[2]),j(ot(j(V(Z[1],ut[0]),V(-ut[1],Z[0])),-lt[2]),ot(j(V(Z[1],lt[0]),V(-lt[1],Z[0])),ut[2]))),ht[3]),ot(j(ot(j(V(lt[1],ut[0]),V(-ut[1],lt[0])),ht[2]),j(ot(j(V(ht[1],ut[0]),V(-ut[1],ht[0])),-lt[2]),ot(j(V(ht[1],lt[0]),V(-lt[1],ht[0])),ut[2]))),-Z[3])),j(ot(j(ot(j(V(Z[1],ut[0]),V(-ut[1],Z[0])),ht[2]),j(ot(j(V(ht[1],ut[0]),V(-ut[1],ht[0])),-Z[2]),ot(j(V(ht[1],Z[0]),V(-Z[1],ht[0])),ut[2]))),lt[3]),ot(j(ot(j(V(Z[1],lt[0]),V(-lt[1],Z[0])),ht[2]),j(ot(j(V(ht[1],lt[0]),V(-lt[1],ht[0])),-Z[2]),ot(j(V(ht[1],Z[0]),V(-Z[1],ht[0])),lt[2]))),-ut[3]))),j(j(ot(j(ot(j(V(Z[1],ut[0]),V(-ut[1],Z[0])),ct[2]),j(ot(j(V(ct[1],ut[0]),V(-ut[1],ct[0])),-Z[2]),ot(j(V(ct[1],Z[0]),V(-Z[1],ct[0])),ut[2]))),ht[3]),ot(j(ot(j(V(Z[1],ut[0]),V(-ut[1],Z[0])),ht[2]),j(ot(j(V(ht[1],ut[0]),V(-ut[1],ht[0])),-Z[2]),ot(j(V(ht[1],Z[0]),V(-Z[1],ht[0])),ut[2]))),-ct[3])),j(ot(j(ot(j(V(ct[1],ut[0]),V(-ut[1],ct[0])),ht[2]),j(ot(j(V(ht[1],ut[0]),V(-ut[1],ht[0])),-ct[2]),ot(j(V(ht[1],ct[0]),V(-ct[1],ht[0])),ut[2]))),Z[3]),ot(j(ot(j(V(ct[1],Z[0]),V(-Z[1],ct[0])),ht[2]),j(ot(j(V(ht[1],Z[0]),V(-Z[1],ht[0])),-ct[2]),ot(j(V(ht[1],ct[0]),V(-ct[1],ht[0])),Z[2]))),-ut[3])))),ne=ft(mt,te);return ne[ne.length-1]}}function C(j){var V=j===3?y:j===4?_:E;return V(e,i,o,l)}var I=C(3),z=C(4),B=[function(){return 0},function(){return 0},function(j,V){return V[0]-j[0]},function(j,V,ot){var ft=(j[1]-ot[1])*(V[0]-ot[0]),ht=(j[0]-ot[0])*(V[1]-ot[1]),ct=ft-ht,Z;if(ft>0){if(ht<=0)return ct;Z=ft+ht}else if(ft<0){if(ht>=0)return ct;Z=-(ft+ht)}else return ct;var lt=f*Z;return ct>=lt||ct<=-lt?ct:I(j,V,ot)},function(j,V,ot,ft){var ht=j[0]-ft[0],ct=V[0]-ft[0],Z=ot[0]-ft[0],lt=j[1]-ft[1],ut=V[1]-ft[1],mt=ot[1]-ft[1],te=j[2]-ft[2],ne=V[2]-ft[2],ye=ot[2]-ft[2],Gt=ct*mt,he=Z*ut,Kt=Z*lt,Je=ht*mt,kt=ht*ut,zt=ct*lt,Wt=te*(Gt-he)+ne*(Kt-Je)+ye*(kt-zt),ee=(Math.abs(Gt)+Math.abs(he))*Math.abs(te)+(Math.abs(Kt)+Math.abs(Je))*Math.abs(ne)+(Math.abs(kt)+Math.abs(zt))*Math.abs(ye),ve=m*ee;return Wt>ve||-Wt>ve?Wt:z(j,V,ot,ft)}];function G(j){var V=B[j.length];return V||(V=B[j.length]=C(j.length)),V.apply(void 0,j)}function H(j,V,ot,ft,ht,ct,Z){return function(lt,ut,mt,te,ne){switch(arguments.length){case 0:case 1:return 0;case 2:return ft(lt,ut);case 3:return ht(lt,ut,mt);case 4:return ct(lt,ut,mt,te);case 5:return Z(lt,ut,mt,te,ne)}for(var ye=new Array(arguments.length),Gt=0;Gt<arguments.length;++Gt)ye[Gt]=arguments[Gt];return j(ye)}}function $(){for(;B.length<=u;)B.push(C(B.length));n.exports=H.apply(void 0,[G].concat(B));for(var j=0;j<=u;++j)n.exports[j]=B[j]}$()})(W6);var oF=sF,Nv=$w;function sF(n,i){for(var e=i[0],o=i[1],l=n.length,u=1,p=l,f=0,m=l-1;f<p;m=f++){var y=n[f],_=n[m],E=y[1],C=_[1];if(C<E){if(C<o&&o<E){var I=Nv(y,_,i);if(I===0)return 0;u^=0<I|0}else if(o===E){var z=n[(f+1)%l],B=z[1];if(E<B){var I=Nv(y,_,i);if(I===0)return 0;u^=0<I|0}}}else if(E<C){if(E<o&&o<C){var I=Nv(y,_,i);if(I===0)return 0;u^=I<0|0}else if(o===E){var z=n[(f+1)%l],B=z[1];if(B<E){var I=Nv(y,_,i);if(I===0)return 0;u^=I<0|0}}}else if(o===E){var G=Math.min(y[0],_[0]),H=Math.max(y[0],_[0]);if(f===0){for(;m>0;){var $=(m+l-1)%l,j=n[$];if(j[1]!==o)break;var V=j[0];G=Math.min(G,V),H=Math.max(H,V),m=$}if(m===0)return G<=e&&e<=H?0:1;p=m+1}for(var ot=n[(m+l-1)%l][1];f+1<p;){var j=n[f+1];if(j[1]!==o)break;var V=j[0];G=Math.min(G,V),H=Math.max(H,V),f+=1}if(G<=e&&e<=H)return 0;var ft=n[(f+1)%l][1];e<G&&ot<o!=ft<o&&(u^=1)}}return 2*u-1}var Qv={};const aF="1.5.0",lF={version:aF};function GC(n){return"("+n.x+";"+n.y+")"}function cF(n){var i=n.toString();return i==="[object Object]"?GC(n):i}function uF(n,i){return n.y===i.y?n.x-i.x:n.y-i.y}function hF(n,i){return n.x===i.x&&n.y===i.y}var rx={toString:cF,toStringBase:GC,compare:uF,equals:hF},dF=rx,A0=function(n,i){this.name="PointError",this.points=i=i||[],this.message=n||"Invalid Points!";for(var e=0;e<i.length;e++)this.message+=" "+dF.toString(i[e])};A0.prototype=new Error;A0.prototype.constructor=A0;var ix=A0,Dg=rx,vi=function(n,i){this.x=+n||0,this.y=+i||0,this._p2t_edge_list=null};vi.prototype.toString=function(){return Dg.toStringBase(this)};vi.prototype.toJSON=function(){return{x:this.x,y:this.y}};vi.prototype.clone=function(){return new vi(this.x,this.y)};vi.prototype.set_zero=function(){return this.x=0,this.y=0,this};vi.prototype.set=function(n,i){return this.x=+n||0,this.y=+i||0,this};vi.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this};vi.prototype.add=function(n){return this.x+=n.x,this.y+=n.y,this};vi.prototype.sub=function(n){return this.x-=n.x,this.y-=n.y,this};vi.prototype.mul=function(n){return this.x*=n,this.y*=n,this};vi.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};vi.prototype.normalize=function(){var n=this.length();return this.x/=n,this.y/=n,n};vi.prototype.equals=function(n){return this.x===n.x&&this.y===n.y};vi.negate=function(n){return new vi(-n.x,-n.y)};vi.add=function(n,i){return new vi(n.x+i.x,n.y+i.y)};vi.sub=function(n,i){return new vi(n.x-i.x,n.y-i.y)};vi.mul=function(n,i){return new vi(n*i.x,n*i.y)};vi.cross=function(n,i){return typeof n=="number"?typeof i=="number"?n*i:new vi(-n*i.y,n*i.x):typeof i=="number"?new vi(i*n.y,-i*n.x):n.x*i.y-n.y*i.x};vi.toString=Dg.toString;vi.compare=Dg.compare;vi.cmp=Dg.compare;vi.equals=Dg.equals;vi.dot=function(n,i){return n.x*i.x+n.y*i.y};var qC=vi,pF=rx,$r=function(n,i,e){this.points_=[n,i,e],this.neighbors_=[null,null,null],this.interior_=!1,this.constrained_edge=[!1,!1,!1],this.delaunay_edge=[!1,!1,!1]},cw=pF.toString;$r.prototype.toString=function(){return"["+cw(this.points_[0])+cw(this.points_[1])+cw(this.points_[2])+"]"};$r.prototype.getPoint=function(n){return this.points_[n]};$r.prototype.GetPoint=$r.prototype.getPoint;$r.prototype.getPoints=function(){return this.points_};$r.prototype.getNeighbor=function(n){return this.neighbors_[n]};$r.prototype.containsPoint=function(n){var i=this.points_;return n===i[0]||n===i[1]||n===i[2]};$r.prototype.containsEdge=function(n){return this.containsPoint(n.p)&&this.containsPoint(n.q)};$r.prototype.containsPoints=function(n,i){return this.containsPoint(n)&&this.containsPoint(i)};$r.prototype.isInterior=function(){return this.interior_};$r.prototype.setInterior=function(n){return this.interior_=n,this};$r.prototype.markNeighborPointers=function(n,i,e){var o=this.points_;if(n===o[2]&&i===o[1]||n===o[1]&&i===o[2])this.neighbors_[0]=e;else if(n===o[0]&&i===o[2]||n===o[2]&&i===o[0])this.neighbors_[1]=e;else if(n===o[0]&&i===o[1]||n===o[1]&&i===o[0])this.neighbors_[2]=e;else throw new Error("poly2tri Invalid Triangle.markNeighborPointers() call")};$r.prototype.markNeighbor=function(n){var i=this.points_;n.containsPoints(i[1],i[2])?(this.neighbors_[0]=n,n.markNeighborPointers(i[1],i[2],this)):n.containsPoints(i[0],i[2])?(this.neighbors_[1]=n,n.markNeighborPointers(i[0],i[2],this)):n.containsPoints(i[0],i[1])&&(this.neighbors_[2]=n,n.markNeighborPointers(i[0],i[1],this))};$r.prototype.clearNeighbors=function(){this.neighbors_[0]=null,this.neighbors_[1]=null,this.neighbors_[2]=null};$r.prototype.clearDelaunayEdges=function(){this.delaunay_edge[0]=!1,this.delaunay_edge[1]=!1,this.delaunay_edge[2]=!1};$r.prototype.pointCW=function(n){var i=this.points_;return n===i[0]?i[2]:n===i[1]?i[0]:n===i[2]?i[1]:null};$r.prototype.pointCCW=function(n){var i=this.points_;return n===i[0]?i[1]:n===i[1]?i[2]:n===i[2]?i[0]:null};$r.prototype.neighborCW=function(n){return n===this.points_[0]?this.neighbors_[1]:n===this.points_[1]?this.neighbors_[2]:this.neighbors_[0]};$r.prototype.neighborCCW=function(n){return n===this.points_[0]?this.neighbors_[2]:n===this.points_[1]?this.neighbors_[0]:this.neighbors_[1]};$r.prototype.getConstrainedEdgeCW=function(n){return n===this.points_[0]?this.constrained_edge[1]:n===this.points_[1]?this.constrained_edge[2]:this.constrained_edge[0]};$r.prototype.getConstrainedEdgeCCW=function(n){return n===this.points_[0]?this.constrained_edge[2]:n===this.points_[1]?this.constrained_edge[0]:this.constrained_edge[1]};$r.prototype.getConstrainedEdgeAcross=function(n){return n===this.points_[0]?this.constrained_edge[0]:n===this.points_[1]?this.constrained_edge[1]:this.constrained_edge[2]};$r.prototype.setConstrainedEdgeCW=function(n,i){n===this.points_[0]?this.constrained_edge[1]=i:n===this.points_[1]?this.constrained_edge[2]=i:this.constrained_edge[0]=i};$r.prototype.setConstrainedEdgeCCW=function(n,i){n===this.points_[0]?this.constrained_edge[2]=i:n===this.points_[1]?this.constrained_edge[0]=i:this.constrained_edge[1]=i};$r.prototype.getDelaunayEdgeCW=function(n){return n===this.points_[0]?this.delaunay_edge[1]:n===this.points_[1]?this.delaunay_edge[2]:this.delaunay_edge[0]};$r.prototype.getDelaunayEdgeCCW=function(n){return n===this.points_[0]?this.delaunay_edge[2]:n===this.points_[1]?this.delaunay_edge[0]:this.delaunay_edge[1]};$r.prototype.setDelaunayEdgeCW=function(n,i){n===this.points_[0]?this.delaunay_edge[1]=i:n===this.points_[1]?this.delaunay_edge[2]=i:this.delaunay_edge[0]=i};$r.prototype.setDelaunayEdgeCCW=function(n,i){n===this.points_[0]?this.delaunay_edge[2]=i:n===this.points_[1]?this.delaunay_edge[0]=i:this.delaunay_edge[1]=i};$r.prototype.neighborAcross=function(n){return n===this.points_[0]?this.neighbors_[0]:n===this.points_[1]?this.neighbors_[1]:this.neighbors_[2]};$r.prototype.oppositePoint=function(n,i){var e=n.pointCW(i);return this.pointCW(e)};$r.prototype.legalize=function(n,i){var e=this.points_;if(n===e[0])e[1]=e[0],e[0]=e[2],e[2]=i;else if(n===e[1])e[2]=e[1],e[1]=e[0],e[0]=i;else if(n===e[2])e[0]=e[2],e[2]=e[1],e[1]=i;else throw new Error("poly2tri Invalid Triangle.legalize() call")};$r.prototype.index=function(n){var i=this.points_;if(n===i[0])return 0;if(n===i[1])return 1;if(n===i[2])return 2;throw new Error("poly2tri Invalid Triangle.index() call")};$r.prototype.edgeIndex=function(n,i){var e=this.points_;if(n===e[0]){if(i===e[1])return 2;if(i===e[2])return 1}else if(n===e[1]){if(i===e[2])return 0;if(i===e[0])return 2}else if(n===e[2]){if(i===e[0])return 1;if(i===e[1])return 0}return-1};$r.prototype.markConstrainedEdgeByIndex=function(n){this.constrained_edge[n]=!0};$r.prototype.markConstrainedEdgeByEdge=function(n){this.markConstrainedEdgeByPoints(n.p,n.q)};$r.prototype.markConstrainedEdgeByPoints=function(n,i){var e=this.points_;i===e[0]&&n===e[1]||i===e[1]&&n===e[0]?this.constrained_edge[2]=!0:i===e[0]&&n===e[2]||i===e[2]&&n===e[0]?this.constrained_edge[1]=!0:(i===e[1]&&n===e[2]||i===e[2]&&n===e[1])&&(this.constrained_edge[0]=!0)};var nx=$r,ox={};function fF(n,i){if(!n)throw new Error(i||"Assert Failed")}var gF=fF,Tg={},mF={get exports(){return Tg},set exports(n){Tg=n}},vF=function(n,i){this.point=n,this.triangle=i||null,this.next=null,this.prev=null,this.value=n.x},cl=function(n,i){this.head_=n,this.tail_=i,this.search_node_=n};cl.prototype.head=function(){return this.head_};cl.prototype.setHead=function(n){this.head_=n};cl.prototype.tail=function(){return this.tail_};cl.prototype.setTail=function(n){this.tail_=n};cl.prototype.search=function(){return this.search_node_};cl.prototype.setSearch=function(n){this.search_node_=n};cl.prototype.findSearchNode=function(){return this.search_node_};cl.prototype.locateNode=function(n){var i=this.search_node_;if(n<i.value){for(;i=i.prev;)if(n>=i.value)return this.search_node_=i,i}else for(;i=i.next;)if(n<i.value)return this.search_node_=i.prev,i.prev;return null};cl.prototype.locatePoint=function(n){var i=n.x,e=this.findSearchNode(i),o=e.point.x;if(i===o){if(n!==e.point)if(n===e.prev.point)e=e.prev;else if(n===e.next.point)e=e.next;else throw new Error("poly2tri Invalid AdvancingFront.locatePoint() call")}else if(i<o)for(;(e=e.prev)&&n!==e.point;);else for(;(e=e.next)&&n!==e.point;);return e&&(this.search_node_=e),e};mF.exports=cl;Tg.Node=vF;var ap={},Sg=1e-12;ap.EPSILON=Sg;var $v={CW:1,CCW:-1,COLLINEAR:0};ap.Orientation=$v;function yF(n,i,e){var o=(n.x-e.x)*(i.y-e.y),l=(n.y-e.y)*(i.x-e.x),u=o-l;return u>-Sg&&u<Sg?$v.COLLINEAR:u>0?$v.CCW:$v.CW}ap.orient2d=yF;function bF(n,i,e,o){var l=(n.x-i.x)*(o.y-i.y)-(o.x-i.x)*(n.y-i.y);if(l>=-Sg)return!1;var u=(n.x-e.x)*(o.y-e.y)-(o.x-e.x)*(n.y-e.y);return!(u<=Sg)}ap.inScanArea=bF;function wF(n,i,e){var o=i.x-n.x,l=i.y-n.y,u=e.x-n.x,p=e.y-n.y;return o*u+l*p<0}ap.isAngleObtuse=wF;var sx=gF,z0=ix,VC=nx,xF=Tg.Node,Fg=ap,_F=Fg.EPSILON,sn=Fg.Orientation,Cn=Fg.orient2d,WC=Fg.inScanArea,z2=Fg.isAngleObtuse;function kF(n){n.initTriangulation(),n.createAdvancingFront(),EF(n),TF(n)}function EF(n){var i,e=n.pointCount();for(i=1;i<e;++i)for(var o=n.getPoint(i),l=SF(n,o),u=o._p2t_edge_list,p=0;u&&p<u.length;++p)CF(n,u[p],l)}function TF(n){for(var i=n.front().head().next.triangle,e=n.front().head().next.point;!i.getConstrainedEdgeCW(e);)i=i.neighborCCW(e);n.meshClean(i)}function SF(n,i){var e=n.locateNode(i),o=PF(n,i,e);return i.x<=e.point.x+_F&&tp(n,e),MF(n,o),o}function CF(n,i,e){n.edge_event.constrained_edge=i,n.edge_event.right=i.p.x>i.q.x,!ZC(e.triangle,i.p,i.q)&&(zF(n,i,e),ax(n,i.p,i.q,e.triangle,i.q))}function ax(n,i,e,o,l){if(!ZC(o,i,e)){var u=o.pointCCW(l),p=Cn(e,u,i);if(p===sn.COLLINEAR)throw new z0("poly2tri EdgeEvent: Collinear not supported!",[e,u,i]);var f=o.pointCW(l),m=Cn(e,f,i);if(m===sn.COLLINEAR)throw new z0("poly2tri EdgeEvent: Collinear not supported!",[e,f,i]);p===m?(p===sn.CW?o=o.neighborCCW(l):o=o.neighborCW(l),ax(n,i,e,o,l)):ux(n,i,e,o,l)}}function ZC(n,i,e){var o=n.edgeIndex(i,e);if(o!==-1){n.markConstrainedEdgeByIndex(o);var l=n.getNeighbor(o);return l&&l.markConstrainedEdgeByPoints(i,e),!0}return!1}function PF(n,i,e){var o=new VC(i,e.point,e.next.point);o.markNeighbor(e.triangle),n.addToMap(o);var l=new xF(i);return l.next=e.next,l.prev=e,e.next.prev=l,e.next=l,tu(n,o)||n.mapTriangleToNodes(o),l}function tp(n,i){var e=new VC(i.prev.point,i.point,i.next.point);e.markNeighbor(i.prev.triangle),e.markNeighbor(i.triangle),n.addToMap(e),i.prev.next=i.next,i.next.prev=i.prev,tu(n,e)||n.mapTriangleToNodes(e)}function MF(n,i){for(var e=i.next;e.next&&!z2(e.point,e.next.point,e.prev.point);)tp(n,e),e=e.next;for(e=i.prev;e.prev&&!z2(e.point,e.next.point,e.prev.point);)tp(n,e),e=e.prev;i.next&&i.next.next&&IF(i)&&RF(n,i)}function IF(n){var i=n.point.x-n.next.next.point.x,e=n.point.y-n.next.next.point.y;return sx(e>=0,"unordered y"),i>=0||Math.abs(i)<e}function tu(n,i){for(var e=0;e<3;++e)if(!i.delaunay_edge[e]){var o=i.getNeighbor(e);if(o){var l=i.getPoint(e),u=o.oppositePoint(i,l),p=o.index(u);if(o.constrained_edge[p]||o.delaunay_edge[p]){i.constrained_edge[e]=o.constrained_edge[p];continue}var f=LF(l,i.pointCCW(l),i.pointCW(l),u);if(f){i.delaunay_edge[e]=!0,o.delaunay_edge[p]=!0,XC(i,l,o,u);var m=!tu(n,i);return m&&n.mapTriangleToNodes(i),m=!tu(n,o),m&&n.mapTriangleToNodes(o),i.delaunay_edge[e]=!1,o.delaunay_edge[p]=!1,!0}}}return!1}function LF(n,i,e,o){var l=n.x-o.x,u=n.y-o.y,p=i.x-o.x,f=i.y-o.y,m=l*f,y=p*u,_=m-y;if(_<=0)return!1;var E=e.x-o.x,C=e.y-o.y,I=E*u,z=l*C,B=I-z;if(B<=0)return!1;var G=p*C,H=E*f,$=l*l+u*u,j=p*p+f*f,V=E*E+C*C,ot=$*(G-H)+j*B+V*_;return ot>0}function XC(n,i,e,o){var l,u,p,f;l=n.neighborCCW(i),u=n.neighborCW(i),p=e.neighborCCW(o),f=e.neighborCW(o);var m,y,_,E;m=n.getConstrainedEdgeCCW(i),y=n.getConstrainedEdgeCW(i),_=e.getConstrainedEdgeCCW(o),E=e.getConstrainedEdgeCW(o);var C,I,z,B;C=n.getDelaunayEdgeCCW(i),I=n.getDelaunayEdgeCW(i),z=e.getDelaunayEdgeCCW(o),B=e.getDelaunayEdgeCW(o),n.legalize(i,o),e.legalize(o,i),e.setDelaunayEdgeCCW(i,C),n.setDelaunayEdgeCW(i,I),n.setDelaunayEdgeCCW(o,z),e.setDelaunayEdgeCW(o,B),e.setConstrainedEdgeCCW(i,m),n.setConstrainedEdgeCW(i,y),n.setConstrainedEdgeCCW(o,_),e.setConstrainedEdgeCW(o,E),n.clearNeighbors(),e.clearNeighbors(),l&&e.markNeighbor(l),u&&n.markNeighbor(u),p&&n.markNeighbor(p),f&&e.markNeighbor(f),n.markNeighbor(e)}function RF(n,i){for(Cn(i.point,i.next.point,i.next.next.point)===sn.CCW?n.basin.left_node=i.next.next:n.basin.left_node=i.next,n.basin.bottom_node=n.basin.left_node;n.basin.bottom_node.next&&n.basin.bottom_node.point.y>=n.basin.bottom_node.next.point.y;)n.basin.bottom_node=n.basin.bottom_node.next;if(n.basin.bottom_node!==n.basin.left_node){for(n.basin.right_node=n.basin.bottom_node;n.basin.right_node.next&&n.basin.right_node.point.y<n.basin.right_node.next.point.y;)n.basin.right_node=n.basin.right_node.next;n.basin.right_node!==n.basin.bottom_node&&(n.basin.width=n.basin.right_node.point.x-n.basin.left_node.point.x,n.basin.left_highest=n.basin.left_node.point.y>n.basin.right_node.point.y,YC(n,n.basin.bottom_node))}}function YC(n,i){if(!AF(n,i)){tp(n,i);var e;if(!(i.prev===n.basin.left_node&&i.next===n.basin.right_node)){if(i.prev===n.basin.left_node){if(e=Cn(i.point,i.next.point,i.next.next.point),e===sn.CW)return;i=i.next}else if(i.next===n.basin.right_node){if(e=Cn(i.point,i.prev.point,i.prev.prev.point),e===sn.CCW)return;i=i.prev}else i.prev.point.y<i.next.point.y?i=i.prev:i=i.next;YC(n,i)}}}function AF(n,i){var e;return n.basin.left_highest?e=n.basin.left_node.point.y-i.point.y:e=n.basin.right_node.point.y-i.point.y,n.basin.width>e}function zF(n,i,e){n.edge_event.right?OF(n,i,e):NF(n,i,e)}function OF(n,i,e){for(;e.next.point.x<i.p.x;)Cn(i.q,e.next.point,i.p)===sn.CCW?KC(n,i,e):e=e.next}function KC(n,i,e){e.point.x<i.p.x&&(Cn(e.point,e.next.point,e.next.next.point)===sn.CCW?lx(n,i,e):(JC(n,i,e),KC(n,i,e)))}function lx(n,i,e){tp(n,e.next),e.next.point!==i.p&&Cn(i.q,e.next.point,i.p)===sn.CCW&&Cn(e.point,e.next.point,e.next.next.point)===sn.CCW&&lx(n,i,e)}function JC(n,i,e){Cn(e.next.point,e.next.next.point,e.next.next.next.point)===sn.CCW?lx(n,i,e.next):Cn(i.q,e.next.next.point,i.p)===sn.CCW&&JC(n,i,e.next)}function NF(n,i,e){for(;e.prev.point.x>i.p.x;)Cn(i.q,e.prev.point,i.p)===sn.CW?QC(n,i,e):e=e.prev}function QC(n,i,e){e.point.x>i.p.x&&(Cn(e.point,e.prev.point,e.prev.prev.point)===sn.CW?cx(n,i,e):($C(n,i,e),QC(n,i,e)))}function $C(n,i,e){Cn(e.prev.point,e.prev.prev.point,e.prev.prev.prev.point)===sn.CW?cx(n,i,e.prev):Cn(i.q,e.prev.prev.point,i.p)===sn.CW&&$C(n,i,e.prev)}function cx(n,i,e){tp(n,e.prev),e.prev.point!==i.p&&Cn(i.q,e.prev.point,i.p)===sn.CW&&Cn(e.point,e.prev.point,e.prev.prev.point)===sn.CW&&cx(n,i,e)}function ux(n,i,e,o,l){var u=o.neighborAcross(l);sx(u,"FLIP failed due to missing triangle!");var p=u.oppositePoint(o,l);if(o.getConstrainedEdgeAcross(l)){var f=o.index(l);throw new z0("poly2tri Intersecting Constraints",[l,p,o.getPoint((f+1)%3),o.getPoint((f+2)%3)])}if(WC(l,o.pointCCW(l),o.pointCW(l),p))if(XC(o,l,u,p),n.mapTriangleToNodes(o),n.mapTriangleToNodes(u),l===e&&p===i)e===n.edge_event.constrained_edge.q&&i===n.edge_event.constrained_edge.p&&(o.markConstrainedEdgeByPoints(i,e),u.markConstrainedEdgeByPoints(i,e),tu(n,o),tu(n,u));else{var m=Cn(e,p,i);o=DF(n,m,o,u,l,p),ux(n,i,e,o,l)}else{var y=tP(i,e,u,p);eP(n,i,e,o,u,y),ax(n,i,e,o,l)}}function DF(n,i,e,o,l,u){var p;return i===sn.CCW?(p=o.edgeIndex(l,u),o.delaunay_edge[p]=!0,tu(n,o),o.clearDelaunayEdges(),e):(p=e.edgeIndex(l,u),e.delaunay_edge[p]=!0,tu(n,e),e.clearDelaunayEdges(),o)}function tP(n,i,e,o){var l=Cn(i,o,n);if(l===sn.CW)return e.pointCCW(o);if(l===sn.CCW)return e.pointCW(o);throw new z0("poly2tri [Unsupported] nextFlipPoint: opposing point on constrained edge!",[i,o,n])}function eP(n,i,e,o,l,u){var p=l.neighborAcross(u);sx(p,"FLIP failed due to missing triangle");var f=p.oppositePoint(l,u);if(WC(e,o.pointCCW(e),o.pointCW(e),f))ux(n,e,f,p,f);else{var m=tP(i,e,p,f);eP(n,i,e,o,p,m)}}ox.triangulate=kF;var FF=ix,Lf=qC,BF=nx,jF=ox,rP=Tg,uw=rP.Node,O2=.3,HF=function(n,i){if(this.p=n,this.q=i,n.y>i.y)this.q=n,this.p=i;else if(n.y===i.y){if(n.x>i.x)this.q=n,this.p=i;else if(n.x===i.x)throw new FF("poly2tri Invalid Edge constructor: repeated points!",[n])}this.q._p2t_edge_list||(this.q._p2t_edge_list=[]),this.q._p2t_edge_list.push(this)},iP=function(){this.left_node=null,this.bottom_node=null,this.right_node=null,this.width=0,this.left_highest=!1};iP.prototype.clear=function(){this.left_node=null,this.bottom_node=null,this.right_node=null,this.width=0,this.left_highest=!1};var UF=function(){this.constrained_edge=null,this.right=!1},gi=function(n,i){i=i||{},this.triangles_=[],this.map_=[],this.points_=i.cloneArrays?n.slice(0):n,this.edge_list=[],this.pmin_=this.pmax_=null,this.front_=null,this.head_=null,this.tail_=null,this.af_head_=null,this.af_middle_=null,this.af_tail_=null,this.basin=new iP,this.edge_event=new UF,this.initEdges(this.points_)};gi.prototype.addHole=function(n){this.initEdges(n);var i,e=n.length;for(i=0;i<e;i++)this.points_.push(n[i]);return this};gi.prototype.AddHole=gi.prototype.addHole;gi.prototype.addHoles=function(n){var i,e=n.length;for(i=0;i<e;i++)this.initEdges(n[i]);return this.points_=this.points_.concat.apply(this.points_,n),this};gi.prototype.addPoint=function(n){return this.points_.push(n),this};gi.prototype.AddPoint=gi.prototype.addPoint;gi.prototype.addPoints=function(n){return this.points_=this.points_.concat(n),this};gi.prototype.triangulate=function(){return jF.triangulate(this),this};gi.prototype.getBoundingBox=function(){return{min:this.pmin_,max:this.pmax_}};gi.prototype.getTriangles=function(){return this.triangles_};gi.prototype.GetTriangles=gi.prototype.getTriangles;gi.prototype.front=function(){return this.front_};gi.prototype.pointCount=function(){return this.points_.length};gi.prototype.head=function(){return this.head_};gi.prototype.setHead=function(n){this.head_=n};gi.prototype.tail=function(){return this.tail_};gi.prototype.setTail=function(n){this.tail_=n};gi.prototype.getMap=function(){return this.map_};gi.prototype.initTriangulation=function(){var n=this.points_[0].x,i=this.points_[0].x,e=this.points_[0].y,o=this.points_[0].y,l,u=this.points_.length;for(l=1;l<u;l++){var p=this.points_[l];p.x>n&&(n=p.x),p.x<i&&(i=p.x),p.y>e&&(e=p.y),p.y<o&&(o=p.y)}this.pmin_=new Lf(i,o),this.pmax_=new Lf(n,e);var f=O2*(n-i),m=O2*(e-o);this.head_=new Lf(n+f,o-m),this.tail_=new Lf(i-f,o-m),this.points_.sort(Lf.compare)};gi.prototype.initEdges=function(n){var i,e=n.length;for(i=0;i<e;++i)this.edge_list.push(new HF(n[i],n[(i+1)%e]))};gi.prototype.getPoint=function(n){return this.points_[n]};gi.prototype.addToMap=function(n){this.map_.push(n)};gi.prototype.locateNode=function(n){return this.front_.locateNode(n.x)};gi.prototype.createAdvancingFront=function(){var n,i,e,o=new BF(this.points_[0],this.tail_,this.head_);this.map_.push(o),n=new uw(o.getPoint(1),o),i=new uw(o.getPoint(0),o),e=new uw(o.getPoint(2)),this.front_=new rP(n,e),n.next=i,i.next=e,i.prev=n,e.prev=i};gi.prototype.removeNode=function(n){};gi.prototype.mapTriangleToNodes=function(n){for(var i=0;i<3;++i)if(!n.getNeighbor(i)){var e=this.front_.locatePoint(n.pointCW(n.getPoint(i)));e&&(e.triangle=n)}};gi.prototype.removeFromMap=function(n){var i,e=this.map_,o=e.length;for(i=0;i<o;i++)if(e[i]===n){e.splice(i,1);break}};gi.prototype.meshClean=function(n){for(var i=[n],e,o;e=i.pop();)if(!e.isInterior())for(e.setInterior(!0),this.triangles_.push(e),o=0;o<3;o++)e.constrained_edge[o]||i.push(e.getNeighbor(o))};var GF=gi;(function(n){var i=globalThis.poly2tri;n.noConflict=function(){return globalThis.poly2tri=i,n},n.VERSION=lF.version,n.PointError=ix,n.Point=qC,n.Triangle=nx,n.SweepContext=GF;var e=ox;n.triangulate=e.triangulate,n.sweep={Triangulate:e.triangulate}})(Qv);function qF(n,i){const e=V6(n,i),o=new Qv.SweepContext(q6(n,i).map(l=>new Qv.Point(l[0],l[1])));for(let l=0;l<e.length;l++)oF(n,e[l])===-1&&o.addPoint(new Qv.Point(e[l][0],e[l][1]));try{o.triangulate()}catch{throw new Error("A Point Error occured during resource mask triangulation. This is typically because the resource mask contains duplicate or collinear points, or is self-intersecting.")}return o.getTriangles()}function VF(n,i){return qF(n,i).map(e=>e.getPoints().map(o=>[o.x,o.y]))}function zd(n,i){const e=i[0],o=i[1];return[n[0]*e+n[2]*o+n[4],n[1]*e+n[3]*o+n[5]]}function WF(){return[1,0,0,1,0,0]}function ZF(n,i){const e=n[0],o=n[1],l=n[2],u=n[3],p=n[4],f=n[5],m=i[0],y=i[1],_=i[2],E=i[3],C=i[4],I=i[5];return[e*m+l*y,o*m+u*y,e*_+l*E,o*_+u*E,e*C+l*I+p,o*C+u*I+f]}function N2(n,i,e,o,l,u,p){const f=Math.sin(l),m=Math.cos(l);return[e*m,o*f,-e*f,o*m,u*e*m-p*e*f+n,u*o*f+p*o*m+i]}function XF(n){const i=YF(n),e=n[0],o=n[1],l=n[2],u=n[3],p=n[4],f=n[5];return[u/i,-o/i,-l/i,e/i,(l*f-u*p)/i,-(e*f-o*p)/i]}function YF(n){return n[0]*n[3]-n[1]*n[2]}function KF(n){const i=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return i[0]=n[0],i[1]=n[1],i[4]=n[2],i[5]=n[3],i[12]=n[4],i[13]=n[5],i}var Ee;(function(n){n.GEOREFERENCEANNOTATIONADDED="georeferenceannotationadded",n.GEOREFERENCEANNOTATIONREMOVED="georeferenceannotationremoved",n.WARPEDMAPADDED="warpedmapadded",n.WARPEDMAPREMOVED="warpedmapremoved",n.WARPEDMAPENTER="warpedmapenter",n.WARPEDMAPLEAVE="warpedmapleave",n.IMAGEINFOLOADED="imageinfoloaded",n.TILEFETCHED="tilefetched",n.TILEFETCHERROR="tilefetcherror",n.MAPTILELOADED="maptileloaded",n.MAPTILEREMOVED="maptileremoved",n.FIRSTMAPTILELOADED="firstmaptileloaded",n.ALLREQUESTEDTILESLOADED="allrequestedtilesloaded",n.TEXTURESUPDATED="texturesupdated",n.ZINDICESCHANGES="zindiceschanged",n.RESOURCEMASKUPDATED="resourcemaskupdated",n.VISIBILITYCHANGED="visibilitychanged",n.TRANSFORMATIONCHANGED="transformationchanged",n.CHANGED="changed",n.CLEARED="cleared"})(Ee||(Ee={}));class Wr extends Event{constructor(i,e){super(i),this.data=e}}const JF=80,D2={maxOffsetRatio:.05,maxDepth:2},F2={maxOffsetRatio:.05,maxDepth:2};class QF extends EventTarget{constructor(i,e,o,l=!0){var u;super(),this.resourceViewportRing=[],this.resourceTrianglePoints=[],this.resourceTrianglePointsByBestScaleFactor=new Map,this.projectedGeoCurrentTrianglePoints=[],this.projectedGeoNewTrianglePoints=[],this.mapId=i,this.georeferencedMap=e,this.gcps=this.georeferencedMap.gcps,this.projectedGcps=this.gcps.map(({geo:p,resource:f})=>({geo:E4(p),resource:f})),this.resourceMask=this.georeferencedMap.resourceMask,this.resourceMaskBbox=Bn(this.resourceMask),this.resourceFullMask=[[0,0],[this.georeferencedMap.resource.width,0],[this.georeferencedMap.resource.width,this.georeferencedMap.resource.height],[0,this.georeferencedMap.resource.height]],this.resourceFullMaskBbox=Bn(this.resourceFullMask),this.imageInfoCache=o,this.visible=l,this.transformationType=((u=this.georeferencedMap.transformation)==null?void 0:u.type)||"polynomial",this.updateTransformerProperties()}getViewportMask(i){return this.projectedGeoMask.map(e=>zd(i.projectedGeoToViewportTransform,e))}getViewportMaskBbox(i){return Bn(this.getViewportMask(i))}getApproxViewportMaskBbox(i){return Bn(kg(this.projectedGeoMaskBbox).map(e=>zd(i.projectedGeoToViewportTransform,e)))}getViewportFullMask(i){return this.projectedGeoFullMask.map(e=>zd(i.projectedGeoToViewportTransform,e))}getViewportFullMaskBbox(i){return Bn(this.getViewportFullMask(i))}getApproxViewportFullMaskBbox(i){return Bn(kg(this.projectedGeoFullMaskBbox).map(e=>zd(i.projectedGeoToViewportTransform,e)))}getResourceToViewportScale(i){return iw(this.resourceMaskBbox,this.getViewportMaskBbox(i))}getResourceToCanvasScale(i){return this.getResourceToViewportScale(i)/i.devicePixelRatio}getApproxResourceToViewportScale(i){return iw(this.resourceMaskBbox,this.getApproxViewportMaskBbox(i))}getApproxResourceToCanvasScale(i){return this.getApproxResourceToViewportScale(i)/i.devicePixelRatio}setResourceViewportRing(i){this.resourceViewportRing=i,this.resourceViewportRingBbox=Bn(i)}setResourceMask(i){this.resourceMask=i,this.updateGeoMask(),this.updateProjectedGeoMask()}setTransformationType(i){this.transformationType=i,this.updateTransformerProperties()}setGcps(i){this.gcps=i,this.updateTransformerProperties()}updateBestScaleFactor(i){this.bestScaleFactor!=i&&(this.bestScaleFactor=i,this.updateTriangulation(!0))}updateTriangulation(i=!1){if(this.resourceTrianglePointsByBestScaleFactor.has(this.bestScaleFactor))this.resourceTrianglePoints=this.resourceTrianglePointsByBestScaleFactor.get(this.bestScaleFactor);else{const e=w4(this.resourceMask)*this.bestScaleFactor/JF;this.resourceTrianglePoints=VF(this.resourceMask,e).flat(),this.resourceTrianglePointsByBestScaleFactor.set(this.bestScaleFactor,this.resourceTrianglePoints)}this.updateProjectedGeoTrianglePoints(i)}updateProjectedGeoTrianglePoints(i=!1){this.projectedGeoNewTrianglePoints=this.resourceTrianglePoints.map(e=>this.projectedTransformer.transformToGeo(e)),(i||!this.projectedGeoCurrentTrianglePoints.length)&&(this.projectedGeoCurrentTrianglePoints=this.projectedGeoNewTrianglePoints)}resetCurrentTrianglePoints(){this.projectedGeoCurrentTrianglePoints=this.projectedGeoNewTrianglePoints}clearResourceTrianglePointsByBestScaleFactor(){this.resourceTrianglePointsByBestScaleFactor=new Map}mixProjectedGeoCurrentAndNewTrianglePoints(i){this.projectedGeoCurrentTrianglePoints=this.projectedGeoNewTrianglePoints.map((e,o)=>p4(e,this.projectedGeoCurrentTrianglePoints[o],i))}hasImageInfo(){return this.imageId!==void 0&&this.parsedImage!==void 0}async loadImageInfo(){const i=this.georeferencedMap.resource.id,e=await a4(i,{cache:this.imageInfoCache});this.parsedImage=QD.parse(e),this.imageId=await WS(i),this.dispatchEvent(new Wr(Ee.IMAGEINFOLOADED))}dispose(){this.resourceTrianglePoints=[],this.projectedGeoCurrentTrianglePoints=[],this.projectedGeoNewTrianglePoints=[]}updateTransformerProperties(){this.updateTransformer(),this.updateProjectedTransformer(),this.updateGeoMask(),this.updateFullGeoMask(),this.updateProjectedGeoMask(),this.updateProjectedFullGeoMask(),this.updateResourceToProjectedGeoScale()}updateTransformer(){this.transformer=new R2(this.gcps,this.transformationType)}updateProjectedTransformer(){this.projectedTransformer=new R2(this.projectedGcps,this.transformationType)}updateGeoMask(){this.geoMask=this.transformer.transformForwardAsGeojson([this.resourceMask],D2),this.geoMaskBbox=Bn(this.geoMask)}updateFullGeoMask(){this.geoFullMask=this.transformer.transformForwardAsGeojson([this.resourceFullMask],D2),this.geoFullMaskBbox=Bn(this.geoFullMask)}updateProjectedGeoMask(){this.projectedGeoMask=this.projectedTransformer.transformForward([this.resourceMask],F2)[0],this.projectedGeoMaskBbox=Bn(this.projectedGeoMask)}updateProjectedFullGeoMask(){this.projectedGeoFullMask=this.projectedTransformer.transformForward([this.resourceFullMask],F2)[0],this.projectedGeoFullMaskBbox=Bn(this.projectedGeoFullMask)}updateResourceToProjectedGeoScale(){this.resourceToProjectedGeoScale=iw(this.resourceMaskBbox,this.projectedGeoMaskBbox)}}const $F=bt.string().or(bt.number()).or(bt.boolean()),t8=bt.record(bt.string(),$F.array()),eu=bt.tuple([bt.number(),bt.number()]),nP=bt.object({type:bt.literal("Point"),coordinates:eu}),oP=eu.array().min(3),Bg=bt.enum(["ImageService1","ImageService2","ImageService3"]),e8=bt.object({id:bt.string().url(),type:bt.string(),label:t8.optional()}),hy=e8.extend({partOf:bt.lazy(()=>hy.array()).optional()}),r8=bt.object({type:bt.literal("polynomial"),options:bt.object({order:bt.number().min(1).max(3)}).optional()}),i8=bt.object({type:bt.literal("thinPlateSpline")}),dy=r8.or(i8),n8=/^<svg\s+width="\d+"\s+height="\d+"\s*>\s*<polygon\s+points="\s*(-?\d+(\.\d+)?,-?\d+(\.\d+)?\s+){2,}-?\d+(\.\d+)?,-?\d+(\.\d+)?\s*"\s*\/>\s*<\/svg>$/,o8=bt.object({type:bt.literal("SvgSelector"),value:bt.string().regex(n8)}),s8=bt.object({source:bt.string().url(),service:bt.array(bt.object({"@id":bt.string().url(),type:Bg})).length(1),selector:o8}),sP=bt.object({pixelCoords:eu}),a8=bt.object({type:bt.literal("FeatureCollection"),transformation:dy.optional(),features:bt.array(bt.object({type:bt.literal("Feature"),properties:sP,geometry:nP}))}),hx=bt.object({id:bt.string().optional(),type:bt.literal("Annotation"),"@context":bt.string().url().array().optional(),motivation:bt.string().default("georeferencing").optional(),target:s8,body:a8}),aP=bt.object({id:bt.string().optional(),type:bt.literal("AnnotationPage"),"@context":bt.string().url().array().optional(),items:bt.array(hx)}),dx=/<polygon\s+points="\s*(-?\d+(\.\d+)?,-?\d+(\.\d+)?\s+){2,}-?\d+(\.\d+)?,-?\d+(\.\d+)?\s*"\s*\/>/,l8=new RegExp(`^<svg\\s+width="\\d+"\\s+height="\\d+"\\s*>\\s*${dx.source}\\s*</svg>$`),c8=new RegExp(`^<svg\\s+height="\\d+"\\s+width="\\d+"\\s*>\\s*${dx.source}\\s*</svg>$`),u8=new RegExp(`^<svg\\s*>\\s*${dx.source}\\s*</svg>$`),h8=bt.string().regex(u8),d8=bt.string().regex(l8),p8=bt.string().regex(c8),f8=bt.object({type:bt.literal("SvgSelector"),value:h8.or(d8).or(p8)}),g8=bt.object({"@id":bt.string().url(),type:Bg,height:bt.number().positive(),width:bt.number().positive(),partOf:hy.array().optional()}),m8=bt.object({id:bt.string().url(),type:Bg,height:bt.number().positive(),width:bt.number().positive(),partOf:hy.array().optional()}),v8=bt.object({type:bt.literal("SpecificResource"),source:g8.or(m8),selector:f8}),lP=bt.object({resourceCoords:eu}),y8=bt.object({type:bt.literal("FeatureCollection"),transformation:dy.optional(),features:bt.array(bt.object({type:bt.literal("Feature"),properties:lP,geometry:nP}))}),px=bt.object({id:bt.string().optional(),type:bt.literal("Annotation"),"@context":bt.string().url().array().optional(),motivation:bt.string().default("georeferencing").optional(),target:v8,body:y8}),cP=bt.object({id:bt.string().optional(),type:bt.literal("AnnotationPage"),"@context":bt.string().url().array().optional(),items:bt.array(px)});hx.or(px);aP.or(cP);sP.or(lP);function uP(n){return Array.isArray(n)}function b8(n){return!!(n&&typeof n=="object"&&"type"in n&&n.type==="AnnotationPage")}function O0(n){return!!(n&&typeof n=="object"&&"type"in n&&n.type==="GeoreferencedMap")}function B2(n){return!!(n&&typeof n=="object"&&"target"in n&&n.target&&typeof n.target=="object"&&"source"in n.target&&typeof n.target.source=="string")}function fx(n){return"type"in n&&n.type==="GeoreferencedMap"}function gx(n){return"source"in n.target&&typeof n.target.source=="object"}function w8(n){return{id:x8(n),...S8(n),type:_8(n),partOf:k8(n)}}function x8(n){if(gx(n)){const i=n.target.source;return"id"in i?i.id:i["@id"]}else return n.target.service[0]["@id"]}function _8(n){return"service"in n.target?n.target.service[0].type:n.target.source.type}function k8(n){if(gx(n))return n.target.source.partOf}function E8(n){return"pixelCoords"in n?n.pixelCoords:n.resourceCoords}function T8(n){return n.body.features.map(i=>({resource:E8(i.properties),geo:i.geometry.coordinates}))}function S8(n){var p,f;if(gx(n))return{width:n.target.source.width,height:n.target.source.height};const i=n.target.selector.value,e=/width="(?<width>\d+)"/.exec(i),o=/height="(?<height>\d+)"/.exec(i),l=(p=e==null?void 0:e.groups)==null?void 0:p.width,u=(f=o==null?void 0:o.groups)==null?void 0:f.height;if(!l||!u)throw new Error("Could not parse image dimensions");return{width:parseInt(l),height:parseInt(u)}}function C8(n){var o;const i=n.target.selector.value,e=(o=/points="(?<points>.+)"/.exec(i))==null?void 0:o.groups;if(e&&e.points){const l=e.points.trim().split(/\s+/);if(l[0]===l[l.length-1]&&l.splice(-1),l.length>=3)return l.map(u=>{const p=u.split(",");if(p.length===2)return[parseFloat(p[0]),parseFloat(p[1])];throw new Error("Could not parse resource mask")});throw new Error("Could not parse resource mask")}else throw new Error("Could not parse resource mask")}function j2(n){return{"@context":"https://schemas.allmaps.org/map/2/context.json",type:"GeoreferencedMap",id:n.id,resource:w8(n),gcps:T8(n),resourceMask:C8(n),transformation:n.body.transformation}}function t1(n){if(b8(n)){let i;return"items"in n&&Array.isArray(n.items)&&B2(n.items[0])?i=aP.parse(n):i=cP.parse(n),i.items.map(e=>j2(e))}else{let i;return B2(n)?i=hx.parse(n):i=px.parse(n),[j2(i)]}}const hP=bt.object({image:eu,world:eu}),P8=bt.object({uri:bt.string().url(),width:bt.number(),height:bt.number(),type:Bg}),py=bt.object({id:bt.string().optional(),version:bt.number().min(1).max(1).default(1),image:P8,gcps:hP.array(),pixelMask:oP,transformation:dy.optional()}),mx=bt.array(py),dP=bt.object({resource:eu,geo:eu}),M8=bt.object({id:bt.string().url(),width:bt.number(),height:bt.number(),type:Bg,partOf:hy.array().optional()}),fy=bt.object({"@context":bt.literal("https://schemas.allmaps.org/map/2/context.json").optional(),type:bt.literal("GeoreferencedMap"),id:bt.string().optional(),resource:M8,gcps:dP.array(),resourceMask:oP,transformation:dy.optional()}),vx=bt.array(fy);py.or(fy);mx.or(vx);hP.or(dP);function I8(n){let i,e,o;return fx(n)?(i=n.resource.width,e=n.resource.height,o=n.resourceMask):(i=n.image.width,e=n.image.height,o=n.pixelMask),{type:"SvgSelector",value:`<svg width="${i}" height="${e}"><polygon points="${o.map(l=>l.join(",")).join(" ")}" /></svg>`}}function L8(n){let i,e,o,l,u;return fx(n)?(i=n.resource.id,e=n.resource.type,o=n.resource.width,l=n.resource.height,u=n.resource.partOf):(i=n.image.uri,e=n.image.type,o=n.image.width,l=n.image.height),{id:i,type:e,height:l,width:o,partOf:u}}function pP(){return["http://iiif.io/api/extension/georef/1/context.json","http://iiif.io/api/presentation/3/context.json"]}function R8(n){let i,e;return"resource"in n?(i=n.resource,e=n.geo):(i=n.image,e=n.world),{type:"Feature",properties:{resourceCoords:i},geometry:{type:"Point",coordinates:e}}}function H2(n,i=!0){const e={type:"SpecificResource",source:L8(n),selector:I8(n)},o={type:"FeatureCollection",transformation:n.transformation,features:n.gcps.map(l=>R8(l))};return{id:n.id,type:"Annotation","@context":i?pP():void 0,motivation:"georeferencing",target:e,body:o}}function A8(n){if(uP(n)){let i;O0(n[0])?i=vx.parse(n):i=mx.parse(n);const e=i.map(o=>H2(o,!1));return{type:"AnnotationPage","@context":pP(),items:e}}else{let i;return O0(n)?i=fy.parse(n):i=py.parse(n),H2(i)}}function fP(n){return fx(n)?n:t1(A8(n))[0]}function z8(n){return n.map(fP)}function U2(n){if(uP(n)){let i;return O0(n[0])?i=vx.parse(n):i=mx.parse(n),z8(i)}else{let i;return O0(n)?i=fy.parse(n):i=py.parse(n),fP(i)}}function O8(n,i,e,o,l){gP(n,i,e||0,o||n.length-1,l||N8)}function gP(n,i,e,o,l){for(;o>e;){if(o-e>600){var u=o-e+1,p=i-e+1,f=Math.log(u),m=.5*Math.exp(2*f/3),y=.5*Math.sqrt(f*m*(u-m)/u)*(p-u/2<0?-1:1),_=Math.max(e,Math.floor(i-p*m/u+y)),E=Math.min(o,Math.floor(i+(u-p)*m/u+y));gP(n,i,_,E,l)}var C=n[i],I=e,z=o;for(Rf(n,e,i),l(n[o],C)>0&&Rf(n,e,o);I<z;){for(Rf(n,I,z),I++,z--;l(n[I],C)<0;)I++;for(;l(n[z],C)>0;)z--}l(n[e],C)===0?Rf(n,e,z):(z++,Rf(n,z,o)),z<=i&&(e=z+1),i<=z&&(o=z-1)}}function Rf(n,i,e){var o=n[i];n[i]=n[e],n[e]=o}function N8(n,i){return n<i?-1:n>i?1:0}class D8{constructor(i=9){this._maxEntries=Math.max(4,i),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(i){let e=this.data;const o=[];if(!Fv(i,e))return o;const l=this.toBBox,u=[];for(;e;){for(let p=0;p<e.children.length;p++){const f=e.children[p],m=e.leaf?l(f):f;Fv(i,m)&&(e.leaf?o.push(f):dw(i,m)?this._all(f,o):u.push(f))}e=u.pop()}return o}collides(i){let e=this.data;if(!Fv(i,e))return!1;const o=[];for(;e;){for(let l=0;l<e.children.length;l++){const u=e.children[l],p=e.leaf?this.toBBox(u):u;if(Fv(i,p)){if(e.leaf||dw(i,p))return!0;o.push(u)}}e=o.pop()}return!1}load(i){if(!(i&&i.length))return this;if(i.length<this._minEntries){for(let o=0;o<i.length;o++)this.insert(i[o]);return this}let e=this._build(i.slice(),0,i.length-1,0);if(!this.data.children.length)this.data=e;else if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){const o=this.data;this.data=e,e=o}this._insert(e,this.data.height-e.height-1,!0)}return this}insert(i){return i&&this._insert(i,this.data.height-1),this}clear(){return this.data=Ld([]),this}remove(i,e){if(!i)return this;let o=this.data;const l=this.toBBox(i),u=[],p=[];let f,m,y;for(;o||u.length;){if(o||(o=u.pop(),m=u[u.length-1],f=p.pop(),y=!0),o.leaf){const _=F8(i,o.children,e);if(_!==-1)return o.children.splice(_,1),u.push(o),this._condense(u),this}!y&&!o.leaf&&dw(o,l)?(u.push(o),p.push(f),f=0,m=o,o=o.children[0]):m?(f++,o=m.children[f],y=!1):o=null}return this}toBBox(i){return i}compareMinX(i,e){return i.minX-e.minX}compareMinY(i,e){return i.minY-e.minY}toJSON(){return this.data}fromJSON(i){return this.data=i,this}_all(i,e){const o=[];for(;i;)i.leaf?e.push(...i.children):o.push(...i.children),i=o.pop();return e}_build(i,e,o,l){const u=o-e+1;let p=this._maxEntries,f;if(u<=p)return f=Ld(i.slice(e,o+1)),Sd(f,this.toBBox),f;l||(l=Math.ceil(Math.log(u)/Math.log(p)),p=Math.ceil(u/Math.pow(p,l-1))),f=Ld([]),f.leaf=!1,f.height=l;const m=Math.ceil(u/p),y=m*Math.ceil(Math.sqrt(p));G2(i,e,o,y,this.compareMinX);for(let _=e;_<=o;_+=y){const E=Math.min(_+y-1,o);G2(i,_,E,m,this.compareMinY);for(let C=_;C<=E;C+=m){const I=Math.min(C+m-1,E);f.children.push(this._build(i,C,I,l-1))}}return Sd(f,this.toBBox),f}_chooseSubtree(i,e,o,l){for(;l.push(e),!(e.leaf||l.length-1===o);){let u=1/0,p=1/0,f;for(let m=0;m<e.children.length;m++){const y=e.children[m],_=hw(y),E=H8(i,y)-_;E<p?(p=E,u=_<u?_:u,f=y):E===p&&_<u&&(u=_,f=y)}e=f||e.children[0]}return e}_insert(i,e,o){const l=o?i:this.toBBox(i),u=[],p=this._chooseSubtree(l,this.data,e,u);for(p.children.push(i),jf(p,l);e>=0&&u[e].children.length>this._maxEntries;)this._split(u,e),e--;this._adjustParentBBoxes(l,u,e)}_split(i,e){const o=i[e],l=o.children.length,u=this._minEntries;this._chooseSplitAxis(o,u,l);const p=this._chooseSplitIndex(o,u,l),f=Ld(o.children.splice(p,o.children.length-p));f.height=o.height,f.leaf=o.leaf,Sd(o,this.toBBox),Sd(f,this.toBBox),e?i[e-1].children.push(f):this._splitRoot(o,f)}_splitRoot(i,e){this.data=Ld([i,e]),this.data.height=i.height+1,this.data.leaf=!1,Sd(this.data,this.toBBox)}_chooseSplitIndex(i,e,o){let l,u=1/0,p=1/0;for(let f=e;f<=o-e;f++){const m=Bf(i,0,f,this.toBBox),y=Bf(i,f,o,this.toBBox),_=U8(m,y),E=hw(m)+hw(y);_<u?(u=_,l=f,p=E<p?E:p):_===u&&E<p&&(p=E,l=f)}return l||o-e}_chooseSplitAxis(i,e,o){const l=i.leaf?this.compareMinX:B8,u=i.leaf?this.compareMinY:j8,p=this._allDistMargin(i,e,o,l),f=this._allDistMargin(i,e,o,u);p<f&&i.children.sort(l)}_allDistMargin(i,e,o,l){i.children.sort(l);const u=this.toBBox,p=Bf(i,0,e,u),f=Bf(i,o-e,o,u);let m=Dv(p)+Dv(f);for(let y=e;y<o-e;y++){const _=i.children[y];jf(p,i.leaf?u(_):_),m+=Dv(p)}for(let y=o-e-1;y>=e;y--){const _=i.children[y];jf(f,i.leaf?u(_):_),m+=Dv(f)}return m}_adjustParentBBoxes(i,e,o){for(let l=o;l>=0;l--)jf(e[l],i)}_condense(i){for(let e=i.length-1,o;e>=0;e--)i[e].children.length===0?e>0?(o=i[e-1].children,o.splice(o.indexOf(i[e]),1)):this.clear():Sd(i[e],this.toBBox)}}function F8(n,i,e){if(!e)return i.indexOf(n);for(let o=0;o<i.length;o++)if(e(n,i[o]))return o;return-1}function Sd(n,i){Bf(n,0,n.children.length,i,n)}function Bf(n,i,e,o,l){l||(l=Ld(null)),l.minX=1/0,l.minY=1/0,l.maxX=-1/0,l.maxY=-1/0;for(let u=i;u<e;u++){const p=n.children[u];jf(l,n.leaf?o(p):p)}return l}function jf(n,i){return n.minX=Math.min(n.minX,i.minX),n.minY=Math.min(n.minY,i.minY),n.maxX=Math.max(n.maxX,i.maxX),n.maxY=Math.max(n.maxY,i.maxY),n}function B8(n,i){return n.minX-i.minX}function j8(n,i){return n.minY-i.minY}function hw(n){return(n.maxX-n.minX)*(n.maxY-n.minY)}function Dv(n){return n.maxX-n.minX+(n.maxY-n.minY)}function H8(n,i){return(Math.max(i.maxX,n.maxX)-Math.min(i.minX,n.minX))*(Math.max(i.maxY,n.maxY)-Math.min(i.minY,n.minY))}function U8(n,i){const e=Math.max(n.minX,i.minX),o=Math.max(n.minY,i.minY),l=Math.min(n.maxX,i.maxX),u=Math.min(n.maxY,i.maxY);return Math.max(0,l-e)*Math.max(0,u-o)}function dw(n,i){return n.minX<=i.minX&&n.minY<=i.minY&&i.maxX<=n.maxX&&i.maxY<=n.maxY}function Fv(n,i){return i.minX<=n.maxX&&i.minY<=n.maxY&&i.maxX>=n.minX&&i.maxY>=n.minY}function Ld(n){return{children:n,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function G2(n,i,e,o,l){const u=[i,e];for(;u.length;){if(e=u.pop(),i=u.pop(),e-i<=o)continue;const p=i+Math.ceil((e-i)/o/2)*o;O8(n,p,i,e,l),u.push(i,p,p,e)}}function G8(n,i,e){if(e===void 0&&(e={}),!n)throw new Error("point is required");if(!i)throw new Error("polygon is required");var o=Qd(n),l=i4(i),u=l.type,p=i.bbox,f=l.coordinates;if(p&&q8(o,p)===!1)return!1;u==="Polygon"&&(f=[f]);for(var m=!1,y=0;y<f.length&&!m;y++)if(q2(o,f[y][0],e.ignoreBoundary)){for(var _=!1,E=1;E<f[y].length&&!_;)q2(o,f[y][E],!e.ignoreBoundary)&&(_=!0),E++;_||(m=!0)}return m}function q2(n,i,e){var o=!1;i[0][0]===i[i.length-1][0]&&i[0][1]===i[i.length-1][1]&&(i=i.slice(0,i.length-1));for(var l=0,u=i.length-1;l<i.length;u=l++){var p=i[l][0],f=i[l][1],m=i[u][0],y=i[u][1],_=n[1]*(p-m)+f*(m-n[0])+y*(n[0]-p)===0&&(p-n[0])*(m-n[0])<=0&&(f-n[1])*(y-n[1])<=0;if(_)return!e;var E=f>n[1]!=y>n[1]&&n[0]<(m-p)*(n[1]-f)/(y-f)+p;E&&(o=!o)}return o}function q8(n,i){return i[0]<=n[0]&&i[1]<=n[1]&&i[2]>=n[0]&&i[3]>=n[1]}const V8=!0;class W8{constructor(){this.rbush=new D8,this.polygonsById=new Map,this.bboxesById=new Map,this.itemsById=new Map}addItem(i,e){this.removeItem(i);const o=Bn(e),l={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],id:i};this.polygonsById.set(i,e),this.bboxesById.set(i,o),this.itemsById.set(i,l),this.rbush.insert(l)}removeItem(i){const e=this.itemsById.get(i);e&&(this.rbush.remove(e),this.polygonsById.delete(i),this.bboxesById.delete(i),this.itemsById.delete(i))}clear(){this.rbush.clear()}search(i,e,o,l){return this.rbush.search({minX:i,minY:e,maxX:o,maxY:l})}getBbox(i){return this.bboxesById.get(i)}getPolygon(i){return this.polygonsById.get(i)}searchFromBbox(i){const[e,o,l,u]=i;return this.search(e,o,l,u).map(p=>p.id)}searchFromPoint(i,e=V8){const[o,l,u,p]=[i[0],i[1],i[0],i[1]],f=this.search(o,l,u,p);return e?f.filter(m=>{const y=this.polygonsById.get(m.id);return y?G8(i,y):!1}).map(m=>m.id):f.map(m=>m.id)}}class Z8 extends EventTarget{constructor(i,e){super(),this.warpedMapsById=new Map,this.zIndices=new Map,e=Object.assign({createRTree:!0},e),this.imageInfoCache=i,e.createRTree&&(this.rtree=new W8)}getMaps(){return this.warpedMapsById.keys()}getWarpedMaps(i){if(i===void 0)return this.warpedMapsById.values();{const e=[];for(const o of i){const l=this.warpedMapsById.get(o);l&&e.push(l)}return e}}getWarpedMap(i){return this.warpedMapsById.get(i)}getMapZIndex(i){return this.zIndices.get(i)}getTotalBbox(){let i;for(const e of this.getWarpedMaps())e.visible&&(i?i=E2(i,e.geoMaskBbox):i=e.geoMaskBbox);return i}getTotalProjectedGeoMaskBbox(){let i;for(const e of this.getWarpedMaps())e.visible&&(i?i=E2(i,e.projectedGeoMaskBbox):i=e.projectedGeoMaskBbox);return i}getMapsByGeoBbox(i){return this.rtree?this.rtree.searchFromBbox(i):Array.from(this.warpedMapsById.keys())}setImageInfoCache(i){this.imageInfoCache=i}setMapResourceMask(i,e){const o=this.warpedMapsById.get(i);o&&(o.setResourceMask(e),this.addToOrUpdateRtree(o),this.dispatchEvent(new Wr(Ee.RESOURCEMASKUPDATED,i)))}setMapsTransformationType(i,e){for(const o of i){const l=this.warpedMapsById.get(o);l&&(l.setTransformationType(e),this.addToOrUpdateRtree(l))}this.dispatchEvent(new Wr(Ee.TRANSFORMATIONCHANGED,i))}bringMapsToFront(i){let e=this.warpedMapsById.size;for(const o of i)this.zIndices.has(o)&&(this.zIndices.set(o,e),e++);this.removeZIndexHoles(),this.dispatchEvent(new Wr(Ee.ZINDICESCHANGES))}sendMapsToBack(i){let e=-Array.from(i).length;for(const o of i)this.zIndices.has(o)&&(this.zIndices.set(o,e),e++);this.removeZIndexHoles(),this.dispatchEvent(new Wr(Ee.ZINDICESCHANGES))}bringMapsForward(i){for(const[e,o]of this.zIndices.entries())this.zIndices.set(e,o*2);for(const e of i){const o=this.zIndices.get(e);o!==void 0&&this.zIndices.set(e,o+3)}this.removeZIndexHoles(),this.dispatchEvent(new Wr(Ee.ZINDICESCHANGES))}sendMapsBackward(i){for(const[e,o]of this.zIndices.entries())this.zIndices.set(e,o*2);for(const e of i){const o=this.zIndices.get(e);o!==void 0&&this.zIndices.set(e,o-3)}this.removeZIndexHoles(),this.dispatchEvent(new Wr(Ee.ZINDICESCHANGES))}showMaps(i){for(const e of i){const o=this.warpedMapsById.get(e);o&&(o.visible=!0)}this.dispatchEvent(new Wr(Ee.VISIBILITYCHANGED,i))}hideMaps(i){for(const e of i){const o=this.warpedMapsById.get(e);o&&(o.visible=!1)}this.dispatchEvent(new Wr(Ee.VISIBILITYCHANGED,i))}async addGeoreferencedMap(i){const e=U2(i),o=Array.isArray(e)?e[0]:e;return this.addGeoreferencedMapInternal(o)}async removeGeoreferencedMap(i){const e=U2(i),o=Array.isArray(e)?e[0]:e;return this.removeGeoreferencedMapInternal(o)}async addGeoreferenceAnnotation(i){const e=[],o=t1(i),l=await Promise.allSettled(o.map(u=>this.addGeoreferencedMapInternal(u)));for(const u of l)u.status==="fulfilled"?e.push(u.value):e.push(u.reason);return this.dispatchEvent(new Wr(Ee.GEOREFERENCEANNOTATIONADDED)),this.dispatchEvent(new Wr(Ee.ZINDICESCHANGES)),e}async removeGeoreferenceAnnotation(i){const e=[],o=t1(i);for(const l of o){const u=await this.removeGeoreferencedMapInternal(l);e.push(u)}return this.dispatchEvent(new Wr(Ee.GEOREFERENCEANNOTATIONREMOVED)),e}clear(){var i;this.warpedMapsById=new Map,this.zIndices=new Map,(i=this.rtree)==null||i.clear(),this.dispatchEvent(new Wr(Ee.CLEARED))}dispose(){for(const i of this.getWarpedMaps())this.removeEventListenersFromWarpedMap(i),i.dispose()}async addGeoreferencedMapInternal(i){const e=await this.getOrComputeMapId(i),o=new QF(e,i,this.imageInfoCache);return this.warpedMapsById.set(e,o),this.zIndices.set(e,this.warpedMapsById.size-1),this.addToOrUpdateRtree(o),this.addEventListenersToWarpedMap(o),this.dispatchEvent(new Wr(Ee.WARPEDMAPADDED,e)),e}async removeGeoreferencedMapInternal(i){const e=await this.getOrComputeMapId(i),o=this.warpedMapsById.get(e);if(o)this.warpedMapsById.delete(e),this.zIndices.delete(e),this.removeFromRtree(o),this.dispatchEvent(new Wr(Ee.WARPEDMAPREMOVED,e)),this.removeZIndexHoles(),this.dispatchEvent(new Wr(Ee.ZINDICESCHANGES));else throw new Error(`No map found with ID ${e}`);return e}async getOrComputeMapId(i){return i.id||await x3(i)}addToOrUpdateRtree(i){this.rtree&&(this.rtree.removeItem(i.mapId),this.rtree.addItem(i.mapId,i.geoMask))}removeFromRtree(i){this.rtree&&this.rtree.removeItem(i.mapId)}removeZIndexHoles(){const i=[...this.zIndices.entries()].sort((o,l)=>o[1]-l[1]);let e=0;for(const o of i){const l=o[0];this.zIndices.set(l,e),e++}}imageInfoLoaded(){this.dispatchEvent(new Wr(Ee.IMAGEINFOLOADED))}addEventListenersToWarpedMap(i){i.addEventListener(Ee.IMAGEINFOLOADED,this.imageInfoLoaded.bind(this))}removeEventListenersFromWarpedMap(i){i.removeEventListener(Ee.IMAGEINFOLOADED,this.imageInfoLoaded.bind(this))}}class X8 extends EventTarget{constructor(i,e,o,l,u=1){super(),this.projectedGeoToViewportTransform=[1,0,0,1,0,0],this.projectedGeoToClipTransform=[1,0,0,1,0,0],this.projectedGeoCenter=i,this.projectedGeoPerViewportScale=l,this.rotation=o,this.viewportSize=e,this.devicePixelRatio=u,this.projectedGeoRectangle=this.computeProjectedGeoRectangle(this.projectedGeoCenter,this.projectedGeoPerViewportScale,this.rotation,this.viewportSize),this.projectedGeoBbox=Bn(this.projectedGeoRectangle),this.projectedGeoSize=[this.viewportSize[0]*l,this.viewportSize[1]*l],this.geoCenter=C2(this.projectedGeoCenter),this.geoRectangle=this.projectedGeoRectangle.map(p=>C2(p)),this.geoBbox=Bn(this.geoRectangle),this.geoSize=R0(this.geoBbox),this.viewportCenter=[this.viewportSize[0]/2,this.viewportSize[1]/2],this.viewportBbox=[0,0,...this.viewportSize],this.viewportRectangle=kg(this.viewportBbox),this.canvasCenter=[this.viewportCenter[0]*this.devicePixelRatio,this.viewportSize[1]*this.devicePixelRatio],this.canvasSize=[this.viewportSize[0]*this.devicePixelRatio,this.viewportSize[1]*this.devicePixelRatio],this.canvasBbox=[0,0,...this.canvasSize],this.canvasRectangle=kg(this.canvasBbox),this.projectedGeoPerCanvasScale=this.projectedGeoPerViewportScale/this.devicePixelRatio,this.projectedGeoToViewportTransform=this.composeProjectedGeoToViewportTransform(),this.projectedGeoToClipTransform=this.composeProjectedGeoToClipTransform()}composeProjectedGeoToViewportTransform(){return N2(this.viewportSize[0]/2,this.viewportSize[1]/2,1/this.projectedGeoPerViewportScale,-1/this.projectedGeoPerViewportScale,-this.rotation,-this.projectedGeoCenter[0],-this.projectedGeoCenter[1])}composeProjectedGeoToClipTransform(){return N2(0,0,2/(this.projectedGeoPerViewportScale*this.viewportSize[0]),2/(this.projectedGeoPerViewportScale*this.viewportSize[1]),-this.rotation,-this.projectedGeoCenter[0],-this.projectedGeoCenter[1])}computeProjectedGeoRectangle(i,e,o,l){const u=e*l[0]/2,p=e*l[1]/2,f=Math.cos(o),m=Math.sin(o),y=u*f,_=u*m,E=p*f,C=p*m,I=i[0],z=i[1];return[[I-y+C,z-_-E],[I-y-C,z-_+E],[I+y-C,z+_+E],[I+y+C,z+_-E]]}}class Y8 extends EventTarget{constructor(i){super(),this.tile=i.tile,this.imageRequest=i.imageRequest,this.tileUrl=i.tileUrl,this.abortController=new AbortController}async fetch(){try{const i=await l4(this.tileUrl,this.abortController.signal);return this.imageBitmap=await createImageBitmap(i),this.dispatchEvent(new Wr(Ee.TILEFETCHED,this.tileUrl)),this.imageBitmap}catch(i){i instanceof Error&&i.name==="AbortError"||this.dispatchEvent(new Wr(Ee.TILEFETCHERROR,this.tileUrl))}}isCachedTile(){return this.imageBitmap!==void 0}abort(){this.abortController.signal.aborted||this.abortController.abort()}}const K8=.75;function mP(n,i){return`${n}:${i}`}function vP(n){return mP(n.mapId,n.tileUrl)}function pw(n){return new Set(n.map(i=>vP(i)))}function J8(n,i,e={maxOffsetRatio:1e-5,maxDepth:2}){const o=y4(i)[0];return n.transformBackward(o,e)}function Q8(n,i,e=K8){let o=Number.POSITIVE_INFINITY,l=n.tileZoomLevels.at(-1);for(const u of n.tileZoomLevels){const p=Math.abs(Math.log(u.scaleFactor)-(Math.log(i)-Math.log(e)));p<o&&(o=p,l=u)}return l}function $8(n,i,e){const o=tB(n,i),l=eB(o),u=iB(l,e,i),p=Ww(Bn(n));return u.sort((f,m)=>V2(f,p)-V2(m,p)),u}function tB(n,i){return n.map(e=>[e[0]/i.originalWidth,e[1]/i.originalHeight])}function eB(n){const i={};for(let e=0;e<n.length;e++){const o=[n[e],n[(e+1)%n.length]];rB(o).forEach(([l,u])=>{i[l]||(i[l]=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]),u<i[l][0]&&(i[l][0]=u),u>i[l][1]&&(i[l][1]=u)})}return i}function rB([n,i]){let e=Math.floor(n[0]),o=Math.floor(n[1]);const l=Math.floor(i[0]),u=Math.floor(i[1]),p=[[e,o]];if(e===l&&o===u)return p;const f=Math.sign(i[0]-n[0]),m=Math.sign(i[1]-n[1]),y=Math.abs(n[0]-e-Math.max(0,f)),_=Math.abs(n[1]-o-Math.max(0,m)),E=Math.abs(n[0]-i[0]),C=Math.abs(n[1]-i[1]);let I=y/E,z=_/C;const B=1/E,G=1/C;for(;!(e===l&&o===u);)I<z?(I=I+B,e=e+f):(z=z+G,o=o+m),p.push([e,o]);return p}function iB(n,i,e){const o=[];for(const l in n){const u=parseInt(l);if(u<0||u>=e.columns)break;const p=Math.max(n[u][0],0),f=Math.min(n[u][1],e.rows-1);for(let m=p;m<=f;m++)o.push({column:u,row:m,tileZoomLevel:e,imageSize:[i.width,i.height]})}return o}function nB(n){var i,e;return(((i=n.imageRequest.size)==null?void 0:i.height)||0)*(((e=n.imageRequest.size)==null?void 0:e.width)||0)*3}function V2(n,i){return Wl(oB(n),i)}function oB(n){const i=yP(n);return[(i[2]-i[0])/2+i[0],(i[3]-i[1])/2+i[1]]}function sB(n){const i=n.column*n.tileZoomLevel.originalWidth,e=n.row*n.tileZoomLevel.originalHeight;return[i,e]}function yP(n){const i=sB(n),e=Math.min(i[0]+n.tileZoomLevel.originalWidth,n.imageSize[0]),o=Math.min(i[1]+n.tileZoomLevel.originalHeight,n.imageSize[1]);return[i[0],i[1],e,o]}const aB=50,lB=32*1e3*1e3;class cB extends EventTarget{constructor(){super(...arguments),this.tilesByTileUrl=new Map,this.mapIdsByTileUrl=new Map,this.tileUrlsByMapId=new Map,this.tilesFetchingCount=0,this.previousRequestedTiles=[],this.outgoingTilesHistory=[]}getCacheableTile(i){return this.tilesByTileUrl.get(i)}getCachedTile(i){const e=this.tilesByTileUrl.get(i);if(e&&e.isCachedTile())return e}getCacheableTiles(){return this.tilesByTileUrl.values()}getCachedTiles(){const i=Array.from(this.tilesByTileUrl.values()),e=[];return i.forEach(o=>{o.isCachedTile()&&e.push(o)}),e}getTileUrls(){return this.tilesByTileUrl.keys()}requestFetcableMapTiles(i){const e=pw(this.previousRequestedTiles),o=pw(i);if(_4(e,o))return;const l=[];for(const f of this.previousRequestedTiles)o.has(vP(f))||l.push(f);this.updateOutgoingTilesHistory(l,i.length);const u=pw(this.outgoingTilesHistory),p=new Set([...o,...u]);for(const[f,m]of this.mapIdsByTileUrl)for(const y of m)p.has(mP(y,f))||this.removeMapTile(y,f);for(const f of i)this.addMapTile(f);this.previousRequestedTiles=i}clear(){this.tilesByTileUrl=new Map,this.mapIdsByTileUrl=new Map,this.tileUrlsByMapId=new Map,this.tilesFetchingCount=0,this.outgoingTilesHistory=[]}dispose(){for(const i of this.getCacheableTiles())this.removeEventListenersFromTile(i)}addMapTile(i){const e=i.mapId,o=i.tileUrl;if(this.tilesByTileUrl.has(o))this.dispatchEvent(new Wr(Ee.MAPTILELOADED,{mapId:e,tileUrl:o}));else{const l=new Y8(i);this.addEventListenersToTile(l),this.tilesByTileUrl.set(o,l),this.updateTilesFetchingCount(1),l.fetch()}this.addTileUrlForMapId(e,o),this.addMapIdForTileUrl(e,o)}removeMapTile(i,e){const o=this.tilesByTileUrl.get(e);if(!o)return;const l=this.removeMapIdForTileUrl(i,e);this.removeTileUrlForMapId(i,e),l.size||(o.isCachedTile()||(o.abort(),this.updateTilesFetchingCount(-1)),this.tilesByTileUrl.delete(e)),this.dispatchEvent(new Wr(Ee.MAPTILEREMOVED,{mapId:i,tileUrl:e}))}updateOutgoingTilesHistory(i,e){for(let p=i.length-1;p>=0;p--){const f=i[p];this.outgoingTilesHistory.unshift(f)}this.outgoingTilesHistory=Array.from(new Set(this.outgoingTilesHistory));let o=0,l=0,u=0;for(const p of this.outgoingTilesHistory){if(o+=1,u=nB(p),l+=u,o+e>aB){o-=1,l-=u;break}if(l>lB){o-=1,l-=u;break}}this.outgoingTilesHistory=this.outgoingTilesHistory.slice(0,o)}tileFetched(i){var e;if(i instanceof Wr){const o=i.data;this.updateTilesFetchingCount(-1);for(const l of this.mapIdsByTileUrl.get(o)||[])this.dispatchEvent(new Wr(Ee.MAPTILELOADED,{mapId:l,tileUrl:o})),((e=this.tileUrlsByMapId.get(l))==null?void 0:e.values().next().value)===o&&this.dispatchEvent(new Wr(Ee.FIRSTMAPTILELOADED,{mapId:l,tileUrl:o}))}}tileFetchError(i){if(i instanceof Wr){const e=i.data;this.tilesByTileUrl.has(e)||(this.updateTilesFetchingCount(-1),this.tilesByTileUrl.delete(e))}}addMapIdForTileUrl(i,e){let o=this.mapIdsByTileUrl.get(e);return o?o.add(i):o=new Set([i]),this.mapIdsByTileUrl.set(e,o),o}removeMapIdForTileUrl(i,e){const o=this.mapIdsByTileUrl.get(e);if(o)o.delete(i);else return new Set;return o.size?this.mapIdsByTileUrl.set(e,o):this.mapIdsByTileUrl.delete(e),o}addTileUrlForMapId(i,e){let o=this.tileUrlsByMapId.get(i);return o?o.add(e):o=new Set([e]),this.tileUrlsByMapId.set(i,o),o}removeTileUrlForMapId(i,e){const o=this.tileUrlsByMapId.get(i);return o?(o.delete(e),o.size?this.tileUrlsByMapId.set(i,o):this.tileUrlsByMapId.delete(i),o):new Set}updateTilesFetchingCount(i){this.tilesFetchingCount+=i,this.tilesFetchingCount===0&&this.dispatchEvent(new Wr(Ee.ALLREQUESTEDTILESLOADED))}addEventListenersToTile(i){i.addEventListener(Ee.TILEFETCHED,this.tileFetched.bind(this)),i.addEventListener(Ee.TILEFETCHERROR,this.tileFetchError.bind(this))}removeEventListenersFromTile(i){i.removeEventListener(Ee.TILEFETCHED,this.tileFetched.bind(this)),i.removeEventListener(Ee.TILEFETCHERROR,this.tileFetchError.bind(this))}}class uB{constructor(i,e){this.mapId=e.mapId,this.tile=i;const o=e.parsedImage.getIiifTile(i.tileZoomLevel,i.column,i.row);this.imageRequest=o;const l=e.parsedImage.getImageUrl(o);this.tileUrl=l}}var hB=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis;const dB=hB;var pB=typeof self=="object"&&self&&self.Object===Object&&self,fB=dB||pB||Function("return this")();const bP=fB;var gB=bP.Symbol;const N0=gB;var wP=Object.prototype,mB=wP.hasOwnProperty,vB=wP.toString,Af=N0?N0.toStringTag:void 0;function yB(n){var i=mB.call(n,Af),e=n[Af];try{n[Af]=void 0;var o=!0}catch{}var l=vB.call(n);return o&&(i?n[Af]=e:delete n[Af]),l}var bB=Object.prototype,wB=bB.toString;function xB(n){return wB.call(n)}var _B="[object Null]",kB="[object Undefined]",W2=N0?N0.toStringTag:void 0;function EB(n){return n==null?n===void 0?kB:_B:W2&&W2 in Object(n)?yB(n):xB(n)}function TB(n){return n!=null&&typeof n=="object"}var SB="[object Symbol]";function CB(n){return typeof n=="symbol"||TB(n)&&EB(n)==SB}var PB=/\s/;function MB(n){for(var i=n.length;i--&&PB.test(n.charAt(i)););return i}var IB=/^\s+/;function LB(n){return n&&n.slice(0,MB(n)+1).replace(IB,"")}function D0(n){var i=typeof n;return n!=null&&(i=="object"||i=="function")}var Z2=0/0,RB=/^[-+]0x[0-9a-f]+$/i,AB=/^0b[01]+$/i,zB=/^0o[0-7]+$/i,OB=parseInt;function X2(n){if(typeof n=="number")return n;if(CB(n))return Z2;if(D0(n)){var i=typeof n.valueOf=="function"?n.valueOf():n;n=D0(i)?i+"":i}if(typeof n!="string")return n===0?n:+n;n=LB(n);var e=AB.test(n);return e||zB.test(n)?OB(n.slice(2),e?2:8):RB.test(n)?Z2:+n}var NB=function(){return bP.Date.now()};const fw=NB;var DB="Expected a function",FB=Math.max,BB=Math.min;function jB(n,i,e){var o,l,u,p,f,m,y=0,_=!1,E=!1,C=!0;if(typeof n!="function")throw new TypeError(DB);i=X2(i)||0,D0(e)&&(_=!!e.leading,E="maxWait"in e,u=E?FB(X2(e.maxWait)||0,i):u,C="trailing"in e?!!e.trailing:C);function I(ft){var ht=o,ct=l;return o=l=void 0,y=ft,p=n.apply(ct,ht),p}function z(ft){return y=ft,f=setTimeout(H,i),_?I(ft):p}function B(ft){var ht=ft-m,ct=ft-y,Z=i-ht;return E?BB(Z,u-ct):Z}function G(ft){var ht=ft-m,ct=ft-y;return m===void 0||ht>=i||ht<0||E&&ct>=u}function H(){var ft=fw();if(G(ft))return $(ft);f=setTimeout(H,B(ft))}function $(ft){return f=void 0,C&&o?I(ft):(o=l=void 0,p)}function j(){f!==void 0&&clearTimeout(f),y=0,o=m=l=f=void 0}function V(){return f===void 0?p:$(fw())}function ot(){var ft=fw(),ht=G(ft);if(o=arguments,l=this,m=ft,ht){if(f===void 0)return z(m);if(E)return clearTimeout(f),f=setTimeout(H,i),I(m)}return f===void 0&&(f=setTimeout(H,i)),p}return ot.cancel=j,ot.flush=V,ot}var HB="Expected a function";function e1(n,i,e){var o=!0,l=!0;if(typeof n!="function")throw new TypeError(HB);return D0(e)&&(o="leading"in e?!!e.leading:o,l="trailing"in e?!!e.trailing:l),jB(n,i,{leading:o,maxWait:i,trailing:l})}function UB(n){let i=0,e=0;for(const p of n)i+=p.w*p.h,e=Math.max(e,p.w);n.sort((p,f)=>f.h-p.h);const o=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(i/.95)),e),h:1/0}];let l=0,u=0;for(const p of n)for(let f=o.length-1;f>=0;f--){const m=o[f];if(!(p.w>m.w||p.h>m.h)){if(p.x=m.x,p.y=m.y,u=Math.max(u,p.y+p.h),l=Math.max(l,p.x+p.w),p.w===m.w&&p.h===m.h){const y=o.pop();f<o.length&&(o[f]=y)}else p.h===m.h?(m.x+=p.w,m.w-=p.w):p.w===m.w?(m.y+=p.h,m.h-=p.h):(o.push({x:m.x+p.w,y:m.y,w:m.w-p.w,h:p.h}),m.y+=p.h,m.h-=p.h);break}}return{w:l,h:u,fill:i/(l*u)||0}}function Y2(n,i,e){const o=n.createShader(i);if(o){if(n.shaderSource(o,e),n.compileShader(o),n.getShaderParameter(o,n.COMPILE_STATUS))return o;{const l=n.getShaderInfoLog(o);throw n.deleteShader(o),new Error("Failed to compile shader: "+l)}}else throw new Error("Failed to create shader")}function GB(n,i,e){const o=n.createProgram();if(o){if(n.attachShader(o,i),n.attachShader(o,e),n.linkProgram(o),n.getProgramParameter(o,n.LINK_STATUS))return o;{const l=n.getProgramInfoLog(o);throw n.deleteProgram(o),new Error("Failed to link program: "+l)}}else throw new Error("Failed to create program")}function Bv(n,i,e,o,l){const u=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,u),n.bufferData(n.ARRAY_BUFFER,e,n.STATIC_DRAW);const p=n.FLOAT,f=!1,m=0,y=0,_=n.getAttribLocation(i,l);n.vertexAttribPointer(_,o,p,f,m,y),n.enableVertexAttribArray(_)}const qB=250,VB={leading:!0,trailing:!0},WB=1,ZB=1;class XB extends EventTarget{constructor(i,e,o){super(),this.CachedTilesByTileUrl=new Map,this.opacity=WB,this.saturation=ZB,this.renderOptions={},this.warpedMap=o,this.gl=i,this.program=e,this.vao=i.createVertexArray(),this.packedTilesTexture=i.createTexture(),this.packedTilesScaleFactorsTexture=i.createTexture(),this.packedTilesPositionsTexture=i.createTexture(),this.packedTilesResourcePositionsAndDimensionsTexture=i.createTexture(),this.throttledUpdateTextures=e1(this.updateTextures.bind(this),qB,VB)}updateVertexBuffers(i){this.projectedGeoToClipTransform=i,this.updateVertexBuffersInternal()}addCachedTileAndUpdateTextures(i){this.CachedTilesByTileUrl.set(i.tileUrl,i),this.throttledUpdateTextures()}removeCachedTileAndUpdateTextures(i){this.CachedTilesByTileUrl.delete(i),this.throttledUpdateTextures()}dispose(){this.gl.deleteVertexArray(this.vao),this.gl.deleteTexture(this.packedTilesTexture),this.gl.deleteTexture(this.packedTilesScaleFactorsTexture),this.gl.deleteTexture(this.packedTilesPositionsTexture),this.gl.deleteTexture(this.packedTilesResourcePositionsAndDimensionsTexture)}updateVertexBuffersInternal(){if(!this.vao||!this.projectedGeoToClipTransform)return;this.gl.bindVertexArray(this.vao),Bv(this.gl,this.program,new Float32Array(this.warpedMap.resourceTrianglePoints.flat()),2,"a_resourceTrianglePoint");const i=this.warpedMap.projectedGeoCurrentTrianglePoints.map(l=>zd(this.projectedGeoToClipTransform,l));Bv(this.gl,this.program,new Float32Array(i.flat()),2,"a_clipCurrentTrianglePoint");const e=this.warpedMap.projectedGeoNewTrianglePoints.map(l=>zd(this.projectedGeoToClipTransform,l));Bv(this.gl,this.program,new Float32Array(e.flat()),2,"a_clipNewTrianglePoint");let o=new Float32Array(this.warpedMap.resourceTrianglePoints.length);o=o.map((l,u)=>Math.round((u-1)/3)),Bv(this.gl,this.program,o,1,"a_triangleIndex")}async updateTextures(){const i=this.gl;if(this.CachedTilesByTileUrl.size===0)return;let e=[...this.CachedTilesByTileUrl.values()];e=e.filter(_=>this.warpedMap.resourceViewportRingBbox?v4(yP(_.tile),this.warpedMap.resourceViewportRingBbox):!0);const o=e.length,l=e.map((_,E)=>({w:_.imageBitmap.width,h:_.imageBitmap.height,x:0,y:0,index:E})),{w:u,h:p}=UB(l);i.pixelStorei(i.UNPACK_ALIGNMENT,4),i.bindTexture(i.TEXTURE_2D,this.packedTilesTexture),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,u,p,0,i.RGBA,i.UNSIGNED_BYTE,null);for(const _ of l){const E=e[_.index].imageBitmap;i.texSubImage2D(i.TEXTURE_2D,0,_.x,_.y,E.width,E.height,i.RGBA,i.UNSIGNED_BYTE,E)}i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE);const f=l.map(_=>[_.x,_.y]);i.bindTexture(i.TEXTURE_2D,this.packedTilesPositionsTexture),i.texImage2D(i.TEXTURE_2D,0,i.RG32I,1,o,0,i.RG_INTEGER,i.INT,new Int32Array(f.flat())),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE);const m=l.map(_=>{const E=e[_.index];if(E&&E.imageRequest&&E.imageRequest.region)return[E.imageRequest.region.x,E.imageRequest.region.y,E.imageRequest.region.width,E.imageRequest.region.height]});i.bindTexture(i.TEXTURE_2D,this.packedTilesResourcePositionsAndDimensionsTexture),i.texImage2D(i.TEXTURE_2D,0,i.RGBA32I,1,o,0,i.RGBA_INTEGER,i.INT,new Int32Array(m.flat())),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE);const y=l.map(({index:_})=>e[_].tile.tileZoomLevel.scaleFactor);i.bindTexture(i.TEXTURE_2D,this.packedTilesScaleFactorsTexture),i.texImage2D(i.TEXTURE_2D,0,i.R32I,1,o,0,i.RED_INTEGER,i.INT,new Int32Array(y)),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),this.dispatchEvent(new Wr(Ee.TEXTURESUPDATED))}}const YB=`#version 300 es

precision highp float;

uniform mat4 u_renderTransform;

uniform float u_animationProgress;

in vec2 a_clipCurrentTrianglePoint;
in vec2 a_clipNewTrianglePoint;
in vec2 a_resourceTrianglePoint;
in float a_triangleIndex;

out vec2 v_resourceTrianglePoint;
out float v_triangleIndex;

float cubicInOut(float t) {
  return t < 0.5f ? 4.0f * t * t * t : 0.5f * pow(2.0f * t - 2.0f, 3.0f) + 1.0f;
}

void main() {
  // Pass attributes as varyings to fragment shader
  v_resourceTrianglePoint = a_resourceTrianglePoint;
  v_triangleIndex = a_triangleIndex;

  // Compute triangle vertex coordinates by mixing current and new
  vec2 clipTrianglePoint = mix(a_clipCurrentTrianglePoint, a_clipNewTrianglePoint, cubicInOut(u_animationProgress));

  // Set triangle points coordinates
  // Variables that start with gl_ are special globalThis variables
  // gl_Position stores the vertex (or 'point') positions (or 'coordinates') in clip coordinates (which go from -1 to 1.)

  gl_Position = u_renderTransform * vec4(clipTrianglePoint, 0.0f, 1.0f);
}
`,KB=`#version 300 es

precision highp float;
precision highp isampler2D;

uniform bool u_removeColor;
uniform vec3 u_removeColorOptionsColor;
uniform float u_removeColorOptionsThreshold;
uniform float u_removeColorOptionsHardness;

uniform bool u_colorize;
uniform vec3 u_colorizeOptionsColor;

uniform float u_opacity;
uniform float u_saturation;

uniform int u_bestScaleFactor;

uniform sampler2D u_packedTilesTexture;
uniform isampler2D u_packedTilesPositionsTexture;
uniform isampler2D u_packedTilesResourcePositionsAndDimensionsTexture;
uniform isampler2D u_packedTilesScaleFactorsTexture;

in vec2 v_resourceTrianglePoint;
in float v_triangleIndex;

out vec4 color;

void main() {
  // The treated triangle point
  int resourceTrianglePointX = int(round(v_resourceTrianglePoint.x));
  int resourceTrianglePointY = int(round(v_resourceTrianglePoint.y));

  // Reading information on packed tiles from textures
  int packedTilesCount = textureSize(u_packedTilesPositionsTexture, 0).y;
  ivec2 packedTilesTextureSize = textureSize(u_packedTilesTexture, 0);

  // Setting references for the for loop
  int smallestScaleFactorDiff = 256 * 256; // Starting with very high number
  int bestScaleFactor = 0;

  // Prepare storage for the resulting packed tiles texture point that corresponds to the treated triangle point
  vec2 packedTilesTexturePoint = vec2(0.0f, 0.0f);

  color = vec4(0.0f, 0.0f, 0.0f, 0.0f);

  bool found = false;

  // Loop through all packed tiles
  for(int index = 0; index < packedTilesCount; index += 1) {

    // Read the information of the tile
    ivec2 packedTilePosition = texelFetch(u_packedTilesPositionsTexture, ivec2(0, index), 0).rg;
    ivec4 packedTileResourcePositionAndDimension = texelFetch(u_packedTilesResourcePositionsAndDimensionsTexture, ivec2(0, index), 0);
    int packedTileScaleFactor = texelFetch(u_packedTilesScaleFactorsTexture, ivec2(0, index), 0).r;

    float packedTilePositionX = float(packedTilePosition.r);
    float packedTilePositionY = float(packedTilePosition.g);

    int packedTileResourcePositionX = packedTileResourcePositionAndDimension.r;
    int packedTileResourcePositionY = packedTileResourcePositionAndDimension.g;

    int packedTileDimensionWidth = packedTileResourcePositionAndDimension.b;
    int packedTileDimensionHeight = packedTileResourcePositionAndDimension.a;

    // If the treated triangle point is inside the tile, consider to use the tile:
    // if the scale factor is closer to the best scale factor for this map then currently known one
    // update the smallest scale factor diff
    // and compute the packed tiles texture point that corresponds to the treated triangle point
    if(resourceTrianglePointX >= packedTileResourcePositionX &&
      resourceTrianglePointX < packedTileResourcePositionX + packedTileDimensionWidth &&
      resourceTrianglePointY >= packedTileResourcePositionY &&
      resourceTrianglePointY < packedTileResourcePositionY + packedTileDimensionHeight) {
      found = true;

      int scaleFactorDiff = abs(u_bestScaleFactor - packedTileScaleFactor);

      if(scaleFactorDiff < smallestScaleFactorDiff || bestScaleFactor == 0) {

        smallestScaleFactorDiff = scaleFactorDiff;
        bestScaleFactor = packedTileScaleFactor;

        float packedTilePointX = float(resourceTrianglePointX - packedTileResourcePositionX) / float(bestScaleFactor);
        float packedTilePointY = float(resourceTrianglePointY - packedTileResourcePositionY) / float(bestScaleFactor);

        float packedTilesPointX = packedTilePositionX + packedTilePointX;
        float packedTilesPointY = packedTilePositionY + packedTilePointY;

        float packedTilesTexturePointX = round(packedTilesPointX) / float(packedTilesTextureSize.x);
        float packedTilesTexturePointY = round(packedTilesPointY) / float(packedTilesTextureSize.y);

        packedTilesTexturePoint = vec2(packedTilesTexturePointX, packedTilesTexturePointY);
      }
    }
  }

  if(found == true) {
    // Read color of the treated point at it's packed tiles texture point coordinates in the packed tiles texture
    color = texture(u_packedTilesTexture, packedTilesTexturePoint);

    // Remove background color
    if(u_removeColorOptionsThreshold > 0.0f) {
      vec3 backgroundColorDiff = color.rgb - u_removeColorOptionsColor.rgb;
      float backgroundColorDistance = length(backgroundColorDiff);
      if(u_removeColor && backgroundColorDistance < u_removeColorOptionsThreshold) {
        float amount = smoothstep(u_removeColorOptionsThreshold - u_removeColorOptionsThreshold * (1.0f - u_removeColorOptionsHardness), u_removeColorOptionsThreshold, backgroundColorDistance);
        color = vec4(color.rgb * amount, amount);
      }
    }

    // Saturation
    float gray = 0.21f * color.r + 0.71f * color.g + 0.07f * color.b;
    color = vec4(color.rgb * (u_saturation) + (gray * (1.0f - u_saturation)), color.a);

    // Colorize
    if(u_colorize) {
      color = vec4((u_colorizeOptionsColor + color.rgb) * color.a, color.a);
    }

    // Opacity
    color = vec4(color.rgb * u_opacity, color.a * u_opacity);

    // Debugging: uncomment to override color of the treated point with a color made from the point's triangle index
    // vec4 debugColor = vec4(abs(sin(v_triangleIndex)), abs(sin(v_triangleIndex + 1.0f)), abs(sin(v_triangleIndex + 2.0f)), 1);
    // color = debugColor;
  }
}
`,JB=500,QB={leading:!0,trailing:!0},$B=50,tj={leading:!0,trailing:!0},gw=1,mw=1,ej=0,rj=.7,ij=5,nj=5,K2=750;class oj extends EventTarget{constructor(i,e){super(),this.webgl2WarpedMapsById=new Map,this.tileCache=new cB,this.mapsInViewport=new Set,this.opacity=gw,this.saturation=mw,this.renderOptions={},this.animating=!1,this.animationProgress=1,this.warpedMapList=e,this.gl=i;const o=Y2(i,i.VERTEX_SHADER,YB),l=Y2(i,i.FRAGMENT_SHADER,KB);this.program=GB(i,o,l),i.deleteShader(o),i.deleteShader(l),i.disable(i.DEPTH_TEST),this.invertedRenderTransform=WF(),this.addEventListeners(),this.throttledPrepareRenderInternal=e1(this.prepareRenderInternal.bind(this),JB,QB),this.throttledChanged=e1(this.changed.bind(this),$B,tj)}getOpacity(){return this.opacity}setOpacity(i){this.opacity=i}resetOpacity(){this.opacity=gw}getMapOpacity(i){const e=this.webgl2WarpedMapsById.get(i);if(e)return e.opacity}setMapOpacity(i,e){const o=this.webgl2WarpedMapsById.get(i);o&&(o.opacity=Math.min(Math.max(e,0),1))}resetMapOpacity(i){const e=this.webgl2WarpedMapsById.get(i);e&&(e.opacity=gw)}getRemoveColorOptions(){return this.renderOptions.removeColorOptions}setRemoveColorOptions(i){this.renderOptions.removeColorOptions=i}resetRemoveColorOptions(){this.renderOptions.removeColorOptions=void 0}getMapRemoveColorOptions(i){const e=this.webgl2WarpedMapsById.get(i);if(e)return e.renderOptions.removeColorOptions}setMapRemoveColorOptions(i,e){const o=this.webgl2WarpedMapsById.get(i);o&&(o.renderOptions.removeColorOptions=e)}resetMapRemoveColorOptions(i){const e=this.webgl2WarpedMapsById.get(i);e&&(e.renderOptions.removeColorOptions=void 0)}getColorizeOptions(){return this.renderOptions.colorizeOptions}setColorizeOptions(i){this.renderOptions.colorizeOptions=i}resetColorizeOptions(){this.renderOptions.colorizeOptions=void 0}getMapColorizeOptions(i){const e=this.webgl2WarpedMapsById.get(i);if(e)return e.renderOptions.colorizeOptions}setMapColorizeOptions(i,e){const o=this.webgl2WarpedMapsById.get(i);o&&(o.renderOptions.colorizeOptions=e)}resetMapColorizeOptions(i){const e=this.webgl2WarpedMapsById.get(i);e&&(e.renderOptions.colorizeOptions=void 0)}getSaturation(){return this.saturation}setSaturation(i){this.saturation=i}resetSaturation(){this.saturation=mw}getMapSaturation(i){const e=this.webgl2WarpedMapsById.get(i);if(e)return e.saturation}setMapSaturation(i,e){const o=this.webgl2WarpedMapsById.get(i);o&&(o.saturation=e)}resetMapSaturation(i){const e=this.webgl2WarpedMapsById.get(i);e&&(e.saturation=mw)}render(i){this.viewport=i,this.throttledPrepareRenderInternal(),this.renderInternal()}clear(){this.webgl2WarpedMapsById=new Map,this.mapsInViewport=new Set,this.gl.clear(this.gl.DEPTH_BUFFER_BIT|this.gl.COLOR_BUFFER_BIT),this.tileCache.clear()}dispose(){for(const i of this.webgl2WarpedMapsById.values())this.removeEventListenersFromWebGL2WarpedMap(i),i.dispose();this.tileCache.clear(),this.tileCache.dispose(),this.removeEventListeners(),this.gl.deleteProgram(this.program)}startTransformationTransition(){this.lastAnimationFrameRequestId!==void 0&&cancelAnimationFrame(this.lastAnimationFrameRequestId),this.animating=!0,this.transformationTransitionStart=void 0,this.lastAnimationFrameRequestId=requestAnimationFrame(this.transformationTransitionFrame.bind(this))}transformationTransitionFrame(i){if(this.transformationTransitionStart||(this.transformationTransitionStart=i),i-this.transformationTransitionStart<K2)this.animationProgress=(i-this.transformationTransitionStart)/K2,this.renderInternal(),this.lastAnimationFrameRequestId=requestAnimationFrame(this.transformationTransitionFrame.bind(this));else{for(const e of this.warpedMapList.getWarpedMaps())e.resetCurrentTrianglePoints();this.updateVertexBuffers(),this.animating=!1,this.animationProgress=0,this.transformationTransitionStart=void 0}}prepareRenderInternal(){this.updateRequestedTiles(),this.updateVertexBuffers()}updateVertexBuffers(){if(this.viewport){this.invertedRenderTransform=XF(this.viewport.projectedGeoToClipTransform);for(const i of this.mapsInViewport){const e=this.webgl2WarpedMapsById.get(i);if(!e)break;e.updateVertexBuffers(this.viewport.projectedGeoToClipTransform)}}}updateRequestedTiles(){if(!this.viewport||!this.viewportMovedSignificantly())return;const i=Array.from(this.warpedMapList.getMapsByGeoBbox(this.viewport.geoBbox)).sort((o,l)=>Wl(Ww(this.warpedMapList.getWarpedMap(o).geoMaskBbox),this.viewport.geoCenter)-Wl(Ww(this.warpedMapList.getWarpedMap(l).geoMaskBbox),this.viewport.geoCenter)),e=[];for(const o of i){const l=this.warpedMapList.getWarpedMap(o);if(!l||!l.visible)continue;if(!l.hasImageInfo()){l.loadImageInfo();continue}if(b4(l.getApproxViewportMaskBbox(this.viewport))<ij)continue;const u=Q8(l.parsedImage,l.getApproxResourceToCanvasScale(this.viewport));l.updateBestScaleFactor(u.scaleFactor);const p={maxDepth:0},f=J8(l.projectedTransformer,this.viewport.projectedGeoBbox,p);l.setResourceViewportRing(f);const m=$8(f,u,l.parsedImage);for(const y of m)e.push(new uB(y,l))}this.tileCache.requestFetcableMapTiles(e),this.updateMapsInViewport(e)}viewportMovedSignificantly(){if(!this.viewport)return!1;if(this.previousSignificantViewport){const i=[];for(let o=0;o<4;o++)i.push(Wl(this.previousSignificantViewport.projectedGeoRectangle[o],this.viewport.projectedGeoRectangle[o])/this.viewport.projectedGeoPerViewportScale);const e=Math.max(...i);return e==0?!0:e>nj?(this.previousSignificantViewport=this.viewport,!0):!1}else return this.previousSignificantViewport=this.viewport,!1}updateMapsInViewport(i){const e=Array.from(this.mapsInViewport),o=i.map(p=>p.mapId).filter((p,f,m)=>m.indexOf(p)===f);this.mapsInViewport=new Set(o.sort((p,f)=>{const m=this.warpedMapList.getMapZIndex(p),y=this.warpedMapList.getMapZIndex(f);return m!==void 0&&y!==void 0?m-y:0}));const l=o.filter(p=>!e.includes(p)),u=e.filter(p=>!o.includes(p));for(const p in l)this.dispatchEvent(new Wr(Ee.WARPEDMAPENTER,p));for(const p in u)this.dispatchEvent(new Wr(Ee.WARPEDMAPLEAVE,p))}renderInternal(){if(!this.viewport)return;const i=ZF(this.viewport.projectedGeoToClipTransform,this.invertedRenderTransform),e=this.gl;e.viewport(0,0,e.canvas.width,e.canvas.height),e.enable(e.BLEND),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA),e.useProgram(this.program);const o=e.getUniformLocation(this.program,"u_renderTransform");e.uniformMatrix4fv(o,!1,KF(i));const l=e.getUniformLocation(this.program,"u_animationProgress");e.uniform1f(l,this.animationProgress);for(const u of this.mapsInViewport){const p=this.webgl2WarpedMapsById.get(u);if(!p)continue;this.setRenderOptionsUniforms(this.renderOptions,p.renderOptions);const f=e.getUniformLocation(this.program,"u_opacity");e.uniform1f(f,this.opacity*p.opacity);const m=e.getUniformLocation(this.program,"u_saturation");e.uniform1f(m,this.saturation*p.saturation);const y=e.getUniformLocation(this.program,"u_bestScaleFactor"),_=p.warpedMap.bestScaleFactor;e.uniform1i(y,_);const E=e.getUniformLocation(this.program,"u_packedTilesTexture");e.uniform1i(E,0),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,p.packedTilesTexture);const C=e.getUniformLocation(this.program,"u_packedTilesPositionsTexture");e.uniform1i(C,1),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,p.packedTilesPositionsTexture);const I=e.getUniformLocation(this.program,"u_packedTilesResourcePositionsAndDimensionsTexture");e.uniform1i(I,2),e.activeTexture(e.TEXTURE2),e.bindTexture(e.TEXTURE_2D,p.packedTilesResourcePositionsAndDimensionsTexture);const z=e.getUniformLocation(this.program,"u_packedTilesScaleFactorsTexture");e.uniform1i(z,3),e.activeTexture(e.TEXTURE3),e.bindTexture(e.TEXTURE_2D,p.packedTilesScaleFactorsTexture);const B=p.vao,G=p.warpedMap.resourceTrianglePoints.length,H=this.gl.TRIANGLES,$=0;e.bindVertexArray(B),e.drawArrays(H,$,G)}}setRenderOptionsUniforms(i,e){var y,_,E,C,I,z,B,G,H,$;const o=this.gl,l={removeColorOptions:{color:((y=e.removeColorOptions)==null?void 0:y.color)||((_=i.removeColorOptions)==null?void 0:_.color),hardness:S2((E=e.removeColorOptions)==null?void 0:E.hardness,(C=i.removeColorOptions)==null?void 0:C.hardness),threshold:S2((I=e.removeColorOptions)==null?void 0:I.threshold,(z=i.removeColorOptions)==null?void 0:z.threshold)},colorizeOptions:{...i.colorizeOptions,...e.colorizeOptions}},u=(B=l.removeColorOptions)==null?void 0:B.color,p=o.getUniformLocation(this.program,"u_removeColor");if(o.uniform1f(p,u?1:0),u){const j=o.getUniformLocation(this.program,"u_removeColorOptionsColor");o.uniform3fv(j,u);const V=o.getUniformLocation(this.program,"u_removeColorOptionsThreshold");o.uniform1f(V,((G=l.removeColorOptions)==null?void 0:G.threshold)||ej);const ot=o.getUniformLocation(this.program,"u_removeColorOptionsHardness");o.uniform1f(ot,((H=l.removeColorOptions)==null?void 0:H.hardness)||rj)}const f=($=l.colorizeOptions)==null?void 0:$.color,m=o.getUniformLocation(this.program,"u_colorize");if(o.uniform1f(m,f?1:0),f){const j=o.getUniformLocation(this.program,"u_colorizeOptionsColor");o.uniform3fv(j,f)}}changed(){this.dispatchEvent(new Wr(Ee.CHANGED))}imageInfoLoaded(i){i instanceof Wr&&this.dispatchEvent(new Wr(Ee.IMAGEINFOLOADED))}mapTileLoaded(i){if(i instanceof Wr){const{mapId:e,tileUrl:o}=i.data,l=this.tileCache.getCacheableTile(o);if(!l||!l.isCachedTile())return;const u=this.webgl2WarpedMapsById.get(e);if(!u)return;u.addCachedTileAndUpdateTextures(l)}}mapTileRemoved(i){if(i instanceof Wr){const{mapId:e,tileUrl:o}=i.data,l=this.webgl2WarpedMapsById.get(e);if(!l)return;l.removeCachedTileAndUpdateTextures(o)}}warpedMapAdded(i){if(i instanceof Wr){const e=i.data,o=this.warpedMapList.getWarpedMap(e);if(o){const l=new XB(this.gl,this.program,o);this.webgl2WarpedMapsById.set(o.mapId,l),this.addEventListenersToWebGL2WarpedMap(l)}}}transformationChanged(i){if(i instanceof Wr){const e=i.data;for(const o of this.warpedMapList.getWarpedMaps(e))this.animating&&o.mixProjectedGeoCurrentAndNewTrianglePoints(this.animationProgress),o.updateProjectedGeoTrianglePoints(!1);this.updateVertexBuffers(),this.startTransformationTransition()}}resourceMaskUpdated(i){if(i instanceof Wr){const e=i.data,o=this.warpedMapList.getWarpedMap(e);o&&(o.clearResourceTrianglePointsByBestScaleFactor(),o.updateTriangulation(!1))}}addEventListenersToWebGL2WarpedMap(i){i.addEventListener(Ee.TEXTURESUPDATED,this.throttledChanged.bind(this))}removeEventListenersFromWebGL2WarpedMap(i){i.removeEventListener(Ee.TEXTURESUPDATED,this.throttledChanged.bind(this))}addEventListeners(){this.tileCache.addEventListener(Ee.MAPTILELOADED,this.mapTileLoaded.bind(this)),this.tileCache.addEventListener(Ee.MAPTILEREMOVED,this.mapTileRemoved.bind(this)),this.warpedMapList.addEventListener(Ee.IMAGEINFOLOADED,this.imageInfoLoaded.bind(this)),this.warpedMapList.addEventListener(Ee.WARPEDMAPADDED,this.warpedMapAdded.bind(this)),this.warpedMapList.addEventListener(Ee.TRANSFORMATIONCHANGED,this.transformationChanged.bind(this)),this.warpedMapList.addEventListener(Ee.RESOURCEMASKUPDATED,this.resourceMaskUpdated.bind(this)),this.warpedMapList.addEventListener(Ee.CLEARED,this.clear.bind(this))}removeEventListeners(){this.tileCache.removeEventListener(Ee.MAPTILELOADED,this.mapTileLoaded.bind(this)),this.tileCache.removeEventListener(Ee.MAPTILEREMOVED,this.mapTileRemoved.bind(this)),this.warpedMapList.removeEventListener(Ee.IMAGEINFOLOADED,this.imageInfoLoaded.bind(this)),this.warpedMapList.removeEventListener(Ee.WARPEDMAPADDED,this.warpedMapAdded.bind(this)),this.warpedMapList.removeEventListener(Ee.TRANSFORMATIONCHANGED,this.transformationChanged.bind(this)),this.warpedMapList.removeEventListener(Ee.RESOURCEMASKUPDATED,this.resourceMaskUpdated.bind(this)),this.warpedMapList.removeEventListener(Ee.CLEARED,this.clear.bind(this))}}const sj=io.Layer.extend({options:{opacity:1,interactive:!1,className:"",pane:"tilePane",zIndex:"1"},initialize(n,i){this._annotation=n,io.setOptions(this,i),this._initGl()},async onAdd(n){const i=this.getPaneName();return this._map.getPane(i).appendChild(this.container),n.on("zoomend viewreset move",this._update,this),n.on("zoomanim",this._animateZoom,this),n.on("unload",this._unload,this),this.resizeObserver=new ResizeObserver(this._resized.bind(this)),this.resizeObserver.observe(this._map.getContainer(),{box:"content-box"}),this._annotation&&(k4(this._annotation)?await this.addGeoreferenceAnnotationByUrl(this._annotation):await this.addGeoreferenceAnnotation(this._annotation)),this._update(),this},onRemove(n){this.container.remove(),n.off("zoomend viewreset move",this._update,this),n.off("zoomanim",this._animateZoom,this)},async addGeoreferenceAnnotation(n){const i=await this.renderer.warpedMapList.addGeoreferenceAnnotation(n);return this._update(),i},async removeGeoreferenceAnnotation(n){const i=await this.renderer.warpedMapList.removeGeoreferenceAnnotation(n);return this._update(),i},async addGeoreferenceAnnotationByUrl(n){const i=await fetch(n).then(e=>e.json());return this.addGeoreferenceAnnotation(i)},async removeGeoreferenceAnnotationByUrl(n){const i=await fetch(n).then(e=>e.json());return this.removeGeoreferenceAnnotation(i)},async addGeoreferencedMap(n){const i=this.renderer.warpedMapList.addGeoreferencedMap(n);return this._update(),i},async removeGeoreferencedMap(n){const i=this.renderer.warpedMapList.removeGeoreferencedMap(n);return this._update(),i},getContainer(){return this.container},getCanvas(){return this.canvas},getWarpedMapList(){return this.renderer.warpedMapList},getWarpedMap(n){return this.renderer.warpedMapList.getWarpedMap(n)},showMap(n){this.renderer.warpedMapList.showMaps([n]),this._update()},showMaps(n){this.renderer.warpedMapList.showMaps(n),this._update()},hideMap(n){this.renderer.warpedMapList.hideMaps([n]),this._update()},hideMaps(n){this.renderer.warpedMapList.hideMaps(n),this._update()},isMapVisible(n){var i;return(i=this.renderer.warpedMapList.getWarpedMap(n))==null?void 0:i.visible},setMapResourceMask(n,i){this.renderer.warpedMapList.setMapResourceMask(n,i),this._update()},setMapsTransformationType(n,i){this.renderer.warpedMapList.setMapsTransformationType(n,i),this._update()},getTotalBbox(){return this.renderer.warpedMapList.getBbox()},getTotalProjectedBbox(){return this.renderer.warpedMapList.getProjectedBbox()},getTotalBounds(){const n=this.getTotalBbox();return io.latLngBounds(io.latLng(n[1],n[0]),io.latLng(n[3],n[2]))},getTotalProjectedBounds(){const n=this.getTotalProjectedBbox();return io.latLngBounds(io.latLng(n[1],n[0]),io.latLng(n[3],n[2]))},bringMapsToFront(n){this.renderer.warpedMapList.bringMapsToFront(n),this._update()},sendMapsToBack(n){this.renderer.warpedMapList.sendMapsToBack(n),this._update()},bringMapsForward(n){this.renderer.warpedMapList.bringMapsForward(n),this._update()},sendMapsBackward(n){this.renderer.warpedMapList.sendMapsBackward(n),this._update()},bringToFront(){return this._map&&io.DomUtil.toFront(this.container),this},bringToBack(){return this._map&&io.DomUtil.toBack(this.container),this},getMapZIndex(n){return this.renderer.warpedMapList.getMapZIndex(n)},getZIndex(){return this.options.zIndex},setZIndex(n){return this.options.zIndex=n,this._updateZIndex(),this},setImageInfoCache(n){this.renderer.warpedMapList.setImageInfoCache(n)},getPaneName(){return this._map.getPane(this.options.pane)?this.options.pane:"tilePane"},getOpacity(){return this.options.opacity},setOpacity(n){return this.options.opacity=n,this._update(),this},resetOpacity(){return this.options.opacity=1,this._update(),this},getMapOpacity(n){return this.renderer.getMapOpacity(n)},setMapOpacity(n,i){return this.renderer.setMapOpacity(n,i),this._update(),this},resetMapOpacity(n){return this.renderer.resetMapOpacity(n),this._update(),this},setSaturation(n){return this.renderer.setSaturation(n),this._update(),this},resetSaturation(){return this.renderer.resetSaturation(),this._update(),this},setMapSaturation(n,i){return this.renderer.setMapSaturation(n,i),this._update(),this},resetMapSaturation(n){return this.renderer.resetMapSaturation(n),this._update(),this},setRemoveColor(n){const i=n.hexColor?T2(n.hexColor):void 0;return this.renderer.setRemoveColorOptions({color:i,threshold:n.threshold,hardness:n.hardness}),this._update(),this},resetRemoveColor(){return this.renderer.resetRemoveColorOptions(),this._update(),this},setMapRemoveColor(n,i){const e=i.hexColor?T2(i.hexColor):void 0;return this.renderer.setMapRemoveColorOptions(n,{color:e,threshold:i.threshold,hardness:i.hardness}),this._update(),this},resetMapRemoveColor(n){return this.renderer.resetMapRemoveColorOptions(n),this},setColorize(n){const i=this.hexToRgb(n);return i&&(this.renderer.setColorizeOptions({color:i}),this._update()),this},resetColorize(){return this.renderer.resetColorizeOptions(),this._update(),this},setMapColorize(n,i){const e=this.hexToRgb(i);return e&&(this.renderer.setMapColorizeOptions(n,{color:e}),this._update()),this},resetMapColorize(n){return this.renderer.resetMapColorizeOptions(n),this._update(),this},_initGl(){if(this.container=io.DomUtil.create("div"),this.container.classList.add("leaflet-layer"),this.container.classList.add("allmaps-warped-map-layer"),this.options.zIndex&&this._updateZIndex(),this.canvas=io.DomUtil.create("canvas",void 0,this.container),this.canvas.classList.add("leaflet-zoom-animated"),this.canvas.classList.add("leaflet-image-layer"),this.options.interactive&&this.canvas.classList.add("leaflet-interactive"),this.options.className&&this.canvas.classList.add(this.options.className),this.gl=this.canvas.getContext("webgl2",{premultipliedAlpha:!0}),!this.gl)throw new Error("WebGL 2 not available");const n=new Z8(this.options.imageInfoCache);this.renderer=new oj(this.gl,n),this._addEventListeners()},_resized(n){for(const i of n){const e=i.contentRect.width,o=i.contentRect.height,l=window.devicePixelRatio,u=Math.round(e*l),p=Math.round(o*l);this.canvas.width=u,this.canvas.height=p,this.canvas.style.width=e+"px",this.canvas.style.height=o+"px"}this._update()},_animateZoom(n){const i=this._map.getZoomScale(n.zoom),e=this._map._latLngBoundsToNewLayerBounds(this._map.getBounds(),n.zoom,n.center).min;io.DomUtil.setTransform(this.canvas,e,i)},_updateZIndex(){this.container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this.container.style.zIndex=this.options.zIndex)},_update(){if(!this._map)return;const n=this._map.containerPointToLayerPoint([0,0]);io.DomUtil.setPosition(this.canvas,n),this.renderer.setOpacity(this.getOpacity());const i=this._map.getCenter(),e=this._map.options.crs.project(i),o=[e.x,e.y],l=this._map.getSize(),u=[l.x,l.y],p=this._map.getBounds(),f=this._map.options.crs.project(p.getNorthEast()),m=this._map.options.crs.project(p.getSouthWest()),y=[m.x,m.y,f.x,f.y],_=R0(y),E=PC(_,u),C=new X8(o,u,0,E,window.devicePixelRatio);return this.renderer.render(C),this.container},_addEventListeners(){this.renderer.addEventListener(Ee.CHANGED,this._update.bind(this)),this.renderer.addEventListener(Ee.IMAGEINFOLOADED,this._update.bind(this)),this.renderer.addEventListener(Ee.WARPEDMAPENTER,this._passWarpedMapEvent.bind(this)),this.renderer.addEventListener(Ee.WARPEDMAPLEAVE,this._passWarpedMapEvent.bind(this)),this.renderer.tileCache.addEventListener(Ee.FIRSTMAPTILELOADED,this._passWarpedMapEvent.bind(this)),this.renderer.tileCache.addEventListener(Ee.ALLREQUESTEDTILESLOADED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.addEventListener(Ee.WARPEDMAPADDED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.addEventListener(Ee.WARPEDMAPREMOVED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.addEventListener(Ee.VISIBILITYCHANGED,this._update.bind(this)),this.renderer.warpedMapList.addEventListener(Ee.CLEARED,this._update.bind(this))},_removeEventListeners(){this.renderer.removeEventListener(Ee.CHANGED,this._update.bind(this)),this.renderer.removeEventListener(Ee.IMAGEINFOLOADED,this._update.bind(this)),this.renderer.removeEventListener(Ee.WARPEDMAPENTER,this._passWarpedMapEvent.bind(this)),this.renderer.removeEventListener(Ee.WARPEDMAPLEAVE,this._passWarpedMapEvent.bind(this)),this.renderer.tileCache.removeEventListener(Ee.FIRSTMAPTILELOADED,this._passWarpedMapEvent.bind(this)),this.renderer.tileCache.removeEventListener(Ee.ALLREQUESTEDTILESLOADED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.removeEventListener(Ee.WARPEDMAPADDED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.removeEventListener(Ee.WARPEDMAPREMOVED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.removeEventListener(Ee.VISIBILITYCHANGED,this._update.bind(this)),this.renderer.warpedMapList.removeEventListener(Ee.CLEARED,this._update.bind(this))},_passWarpedMapEvent(n){n instanceof Wr&&this._map&&this._map.fire(n.type,n.data)},_unload(){this.renderer.dispose();const n=this.gl.getExtension("WEBGL_lose_context");n&&n.loseContext();const i=this.gl.canvas;i.width=1,i.height=1,this.resizeObserver.disconnect(),this._removeEventListeners()}}),aj={class:"content",ref:"content"},lj=["innerHTML"],cj=["innerHTML"],uj=hs({__name:"Map.ce",props:{overlay:{type:String},zoom:{type:Number,default:2},center:{type:String,default:"32.32347,-80.97122"},data:{type:String},marker:{type:Boolean},basemaps:{type:String,default:"OpenStreetMap"},caption:{type:String},entities:{type:String},preferGeojson:{type:Boolean},popupOnHover:{type:Boolean},zoomOnClick:{type:Boolean},scrollWheelZoom:{type:Boolean},essayBase:{type:String}},setup(n){const i=n,e=window.turf,o={iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-icon.png",iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-icon-2x.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",shadowSize:[41,41]},l={CartoDB_DarkMatter:["https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_DarkMatterNoLabels:["https://{s}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_DarkMatterOnlyLabels:["https://{s}.basemaps.cartocdn.com/dark_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_Positron:["https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_PositronNoLabels:["https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_PositronOnlyLabels:["https://{s}.basemaps.cartocdn.com/light_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_Voyager:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_VoyagerNoLabels:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager_nolabels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_VoyagerOnlyLabels:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_VoyagerLabelsUnder:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager_labels_under/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],Esri_DeLorme:["https://server.arcgisonline.com/ArcGIS/rest/services/Specialty/DeLorme_World_Base_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Copyright: &copy;2012 DeLorme",minZoom:1,maxZoom:11}],Esri_NatGeoWorldMap:["https://server.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC",maxZoom:16}],Esri_OceanBasemap:["https://server.arcgisonline.com/ArcGIS/rest/services/Ocean/World_Ocean_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri",maxZoom:13}],Esri_WorldGrayCanvas:["https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ",maxZoom:16}],Esri_WorldImagery:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}],Esri_WorldPhysical:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}",{maxZoom:8,attribution:"Tiles &copy; Esri &mdash; Source: US National Park Service"}],Esri_WorldShadedRelief:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri",maxZoom:13}],Esri_WorldStreetMap:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"}],Esri_WorldTerrain:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: USGS, Esri, TANA, DeLorme, and NPS",maxZoom:13}],Esri_WorldTopoMap:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"}],MtbMap:["http://tile.mtbmap.cz/mtbmap_tiles/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &amp; USGS'}],OpenStreetMap:["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}],OpenStreetMap_DE:["https://{s}.tile.openstreetmap.de/{z}/{x}/{y}.png",{maxZoom:18,attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}],OpenStreetMap_France:["https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",{maxZoom:20,attribution:'&copy; OpenStreetMap France | &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}],OpenStreetMap_HOT:["https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Tiles style by <a href="https://www.hotosm.org/" target="_blank">Humanitarian OpenStreetMap Team</a> hosted by <a href="https://openstreetmap.fr/" target="_blank">OpenStreetMap France</a>',maxZoom:19}],OpenStreetMap_Mapnik:["https://tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:19}],OpenTopoMap:["https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",{maxZoom:17,attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}],OPNVKarte:["https://tileserver.memomaps.de/tilegen/{z}/{x}/{y}.png",{attribution:'Map <a href="https://memomaps.de/">memomaps.de</a> <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:18}],Stadia_AlidadeSmooth:["https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20}],Stadia_AlidadeSmoothDark:["https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20}],Stadia_OSMBright:["https://tiles.stadiamaps.com/tiles/osm_bright/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20}],Stadia_Outdoors:["https://tiles.stadiamaps.com/tiles/outdoors/{z}/{x}/{y}{r}.png",{maxZoom:20,attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'}],Stamen_Terrain:["https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}],Stamen_TerrainBackground:["https://stamen-tiles-{s}.a.ssl.fastly.net/terrain-background/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}],Stamen_TerrainLabels:["https://stamen-tiles-{s}.a.ssl.fastly.net/terrain-labels/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}],Stamen_Toner:["https://stamen-tiles-{s}.a.ssl.fastly.net/toner/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"}],Stamen_TonerBackground:["https://stamen-tiles-{s}.a.ssl.fastly.net/toner-background/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"}],Stamen_TonerLite:["https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"}],Stamen_Watercolor:["https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.{ext}",{subdomains:"abcd",minZoom:1,maxZoom:16,ext:"jpg",attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}],USGS_USTopo:["https://basemap.nationalmap.gov/arcgis/rest/services/USGSTopo/MapServer/tile/{z}/{y}/{x}",{maxZoom:20,attribution:'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'}],USGS_USImagery:["https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryOnly/MapServer/tile/{z}/{y}/{x}",{maxZoom:20,attribution:'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'}],USGS_USImageryTopo:["https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryTopo/MapServer/tile/{z}/{y}/{x}",{maxZoom:20,attribution:'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'}]},u=Oe(null),p=qr(()=>{var Ft,qt;return(qt=(Ft=u.value)==null?void 0:Ft.getRootNode())==null?void 0:qt.host}),f=Oe(null),m=Oe(1),y=Oe(),_=Oe([]),E=Oe(),C=Oe([]),I=Oe(),z=Oe(),B=Oe(),G=Oe(10),H=Oe(),$=Oe(),j=Oe();ei(f,Ft=>{Ft&&(Ft.clientHeight===0&&(Ft.style.height=`${Ft.clientWidth*m.value}px`),new ResizeObserver(qt=>Ft.style.height=`${qt[0].contentRect.width*m.value}px`).observe(Ft),V())}),ei(C,async()=>{let Ft=await Promise.all(C.value);console.log(ui(Ft));let qt=Ft.filter(vt=>vt.geojson&&vt.preferGeojson).map(vt=>{if(vt.geojson.indexOf("http")!==0)if(vt.geojson[0]==="/"){let[A,X,...dt]=vt.geojson.split("/").filter(Ot=>Ot),_t=dt.join("/"),wt="main";vt.geojson=`https://raw.githubusercontent.com/${A}/${X}/${wt}/${_t}`}else vt.geojson=`https://raw.githubusercontent.com/${i.essayBase}/${vt.geojson}`;return vt}).map(vt=>({url:vt.geojson,item:vt})),Zt=await Promise.all(qt.map(vt=>fetch(vt.url))),Xt=await Promise.all(Zt.map(vt=>vt.json())),nt={};for(let vt=0;vt<qt.length;vt++){qt[vt].item.id&&/^Q[0-9]+$/.test(qt[vt].item.id)&&(qt[vt].item.qid=qt[vt].item.id,delete qt[vt].item.id),Xt[vt].type==="FeatureCollection"?Xt[vt].features.forEach(X=>X.properties={...X.properties,...qt[vt].item}):Xt[vt].properties={...Xt[vt].properties,...qt[vt].item};let A=qt[vt].item.layer||"Locations";nt[A]||(nt[A]=[]),nt[A].push(Xt[vt])}let pt={};Ft.filter(vt=>!vt.geojson||!vt.preferGeojson).filter(vt=>!vt.allmaps).forEach(vt=>{let A=vt.layer||"Locations";pt[A]||(pt[A]=[]),pt[A].push(vt)}),Ft.filter(vt=>!vt.allmaps).forEach(vt=>{let A=vt.layer||"Locations";nt[A]?pt[A]&&(nt[A].push(lt(pt[A])),delete pt[A]):(nt[A]=[lt(pt[A])],delete pt[A])}),B.value=nt,z.value=Ft.filter(vt=>vt.allmaps).map(vt=>{let A=new sj(`https://annotations.allmaps.org/images/${vt.allmaps}`);return{name:vt.layer||"Image layer",type:"allmaps",disabled:vt.disabled,opacity:vt.opacity||100,layer:A}})}),ei(B,()=>Z()),ei(z,()=>Z()),ei(y,()=>Z());function V(){_.value=i.entities?i.entities.split(/\s+/).filter(Ft=>Ft):[],ut(),mt(),ot(),ee()}async function ot(){G.value=i.zoom;let Ft;if(i.center)if(tw(i.center)){let Xt=await Ed(i.center);Ft=Je(Xt.coords)}else Ft=Je(i.center);else if(i.entities){let Xt=await Ed(_.value[0]);Ft=Je(Xt.coords),G.value=9}else Ft=new ss.LatLng(0,0),G.value=6;if(y.value&&(y.value.off(),y.value.remove()),!f.value)return;ew()&&ss.Map.addInitHook("addHandler","gestureHandling",y3.GestureHandling),f.value.style.cursor="default";let qt=i.basemaps.split(",").map(Xt=>{let[nt,pt]=l[Xt];return[Xt.replace(/_/," "),ss.tileLayer(nt,pt)]}),Zt={preferCanvas:!1,scrollWheelZoom:!1,smoothWheelZoom:!0,smoothSensitivity:1.5,zoomSnap:.1,center:Ft,zoom:G.value,zoomAnimation:!0,gestureHandling:ew(),layers:[qt[0][1]]};y.value=ss.map(f.value,Zt),(qt.length>1||Object.keys(B.value||{}).length>1)&&(I.value=ss.control.layers(Object.fromEntries(qt),{}).addTo(y.value)),y.value.on("click",Xt=>{var nt;ft(Xt),E.value&&kt((nt=E.value)==null?void 0:nt.split(" ")[0]),i.zoomOnClick&&tr()}),y.value.on("zoomend",Xt=>{ft(Xt),j.value&&j.value.layer.openPopup()}),y.value.on("movestart",()=>{f.value&&(f.value.style.cursor="move")}),y.value.on("moveend",Xt=>{f.value&&(f.value.style.cursor="default"),ft(Xt)}),y.value.on("layeradd",Xt=>{var nt,pt;if(Xt.layer.feature){let vt=Xt.layer;((nt=vt.feature)==null?void 0:nt.type)=="Feature"&&((pt=vt.feature)!=null&&pt.properties.qid)&&vt.feature}}),E.value=`${Number(Ft.lat.toFixed(5))},${Number(Ft.lng.toFixed(5))} ${G.value}`,H.value=`${Number(Ft.lat.toFixed(5))},${Number(Ft.lng.toFixed(5))},${G.value}`}function ft(Ft){let qt=Ft.type==="click"?Ft.latlng:Ft.target.getCenter(),Zt=Ft.target.getZoom(),Xt=[qt.lat,qt.lng,Zt];return E.value=`${Number(qt.lat.toFixed(5))},${Number(qt.lng.toFixed(5))} ${Zt}`,$.value||(H.value=`${Number(qt.lat.toFixed(5))},${Number(qt.lng.toFixed(5))},${Zt}`),Xt}function ht(Ft){return ss.geoJSON(Ft,{pointToLayer:(qt,Zt)=>{const Xt=qt.properties;let nt={...o};return qt.properties.icon&&(nt.iconUrl=qt.properties.icon),qt.properties.shadowUrl&&(nt.shadowUrl=qt.properties.shadowUrl),qt.properties.iconRetinaUrl&&(nt.iconRetinaUrl=qt.properties.iconRetinaUrl),Xt.markerType==="circle"?ss.circleMarker(Zt,{radius:Xt.radius||4}):ss.marker(Zt,{icon:new ss.Icon(nt)})},onEachFeature:async(qt,Zt)=>{var nt;let Xt=Zt;if(!qt.properties.coords){if((nt=Xt.feature)!=null&&nt.bbox){let pt=Xt.getBounds().getCenter();qt.properties.coords=`${pt.lat},${pt.lng}`}else if(qt.geometry.type==="Polygon"){let pt=e.centroid(qt);qt.properties.coords=`${pt.geometry.coordinates[1]},${pt.geometry.coordinates[0]}`}}if(qt.properties.qid){let pt=await Ed(qt.properties.qid);qt.properties.entityData=pt;let A=`<ve-info-card data="${JSON.stringify(pt).replace(/"/g,"&quot;")}" style="width:100%;"></ve-info-card>`;Zt.bindPopup(A)}else{let vt=`<ve-info-card data="${JSON.stringify(qt.properties).replace(/"/g,"&quot;")}" style="width:100%;"></ve-info-card>`;Zt.bindPopup(vt)}i.popupOnHover&&(Zt.on("mouseover",()=>Zt.openPopup()),Zt.on("mouseout",()=>Zt.closePopup())),Zt.on("click",()=>{$.value?(Zt.closePopup(),$.value=void 0):(Zt.openPopup(),$.value={},i.zoomOnClick&&ue(qt.properties.coords))})},style:qt=>{const Zt=qt==null?void 0:qt.properties,Xt=qt==null?void 0:qt.geometry.type;for(let[pt,vt]of Object.entries(Zt))vt==="null"&&(Zt[pt]=null);return{color:Zt.color||"#FB683F",weight:Zt.weight||(Xt==="Polygon"||Xt==="MultiPolygon"?0:4),opacity:Zt.opacity||1,fillColor:Zt.fillColor||"#32C125",fillOpacity:Zt.fillOpacity||.5}}})}let ct=!1;function Z(){var Ft;if(y.value&&B.value&&z.value&&!ct){ct=!0;let qt=Object.keys(B.value||{}),Zt=z.value?z.value.length:0;!I.value&&(qt.length>1||qt.length===1&&qt[0]!=="Locations"||Zt>0)&&(I.value=ss.control.layers(Object.fromEntries([]),{}).addTo(y.value));let Xt={};if((Ft=z.value)==null||Ft.forEach(nt=>{var pt;I.value&&I.value.addOverlay(nt.layer,nt.name),nt.disabled||(pt=y.value)==null||pt.addLayer(nt.layer),Xt[nt.name]=nt.layer}),Object.keys(B.value||{}).forEach(nt=>{var A;let pt=new ss.LayerGroup,vt=!1;B.value[nt].forEach(X=>{var _t;let dt=ht(X);pt.addLayer(dt),(_t=X.properties)!=null&&_t.disabled&&(vt=!0)}),vt||(A=y.value)==null||A.addLayer(pt),I.value&&I.value.addOverlay(pt,nt)}),Object.keys(Xt).length>0){let nt=ss.control.opacity(Xt,{label:null,collapsed:!0,position:"topright"});nt.addTo(y.value),Array.from(nt.getContainer().querySelectorAll(".leaflet-control-layers-overlays label")).forEach(pt=>{var X;let vt=pt.children[0].textContent.trim(),A;if((X=z.value)==null||X.forEach(dt=>{dt.name===vt&&(A=dt)}),A){let dt=A.opacity,_t=pt.children[1].children[0];_t.value=dt,A.layer.setOpacity(dt/100),_t.addEventListener("input",wt=>{wt.preventDefault(),wt.stopPropagation(),A.layer.setOpacity(parseInt(_t.value)/100)})}})}}}function lt(Ft){const qt={type:"FeatureCollection",features:[]};return Ft.filter(Zt=>Zt.coords).forEach(Zt=>{let[Xt,nt]=Zt.coords.split(",").map(pt=>parseFloat(pt.trim()));qt.features.push({type:"Feature",properties:Zt,geometry:{type:"Point",coordinates:[nt,Xt]}})}),qt}async function ut(){let Ft=i.data?document.getElementById(i.data):p.value,qt=Array.from(Ft.querySelectorAll("li")).map(Zt=>{var Xt;return Kt((Xt=Zt.firstChild)==null?void 0:Xt.textContent)});if(i.marker&&i.center)if(tw(i.center)){let Zt=await Ed(i.center);qt.push(Promise.resolve(he(Zt)))}else qt.push(Promise.resolve({coords:i.center,zoom:i.zoom||10}));C.value=[...C.value,...qt]}function mt(){const Ft=Zt=>{for(let Xt of Zt)Xt.type==="childList"&&Array.from(Xt.target.classList).indexOf("hydrated")>=0&&ut()};new MutationObserver(Ft).observe(p.value,{childList:!0,subtree:!0,characterData:!0})}function te(Ft){return/^[+-]?\d+(.\d*|\d*),{1}[+-]?\d+(.\d*|\d*)$/.test(Ft)}function ne(Ft){return/^\d{1,2}(\.\d{1})?$/.test(Ft)}function ye(Ft){Ft=Ft||"";let qt=[];Ft=Ft.replace(//,'"').replace(//,'"').replace(//,"'");let Zt=Ft.match(/[^\s"]+|"([^"]*)"/gmi);return Zt&&Zt.forEach(Xt=>{qt.length>0&&qt[qt.length-1].indexOf("=")===qt[qt.length-1].length-1?qt[qt.length-1]=`${qt[qt.length-1]}${Xt}`:qt.push(Xt)}),qt}function Gt(Ft,qt){let Zt={id:qt},Xt=OO(Ft);return Xt.location&&(Zt.coords=Xt.location[0]),Xt.coordinates_of_the_point_of_view&&(Zt.coords=Xt.coordinates_of_the_point_of_view[0]),Ft.label&&(Zt.label=Ft.label.en),Ft.summary&&(Zt.description=Ft.summary.en[0]),Ft.thumbnail&&(Zt.image=Ft.thumbnail[0].id),Zt}function he(Ft,qt=""){let Zt={id:qt||Ft.id};return Ft.coords&&(Zt.coords=Ft.coords),Ft.geojson&&(Zt.geojson=Ft.geojson),Ft.label&&(Zt.label=Ft.label),Ft.description&&(Zt.description=Ft.description),Ft.thumbnail&&(Zt.image=Ft.thumbnail),Zt}async function Kt(Ft){let qt=ye(Ft),Zt=/\.(geo)?json$/i,Xt=/^[a-z0-9\-]+:.+/,nt={},pt=new Set(["disabled","prefer-geojson"]);for(let vt=0;vt<qt.length;vt++){let A=qt[vt];if(A.indexOf("=")>0){let[X,...dt]=A.split("="),_t=dt.join("=");if(_t=_t[_t.length-1]==='"'?_t.slice(1,-1):_t,X==="qid"){let wt=await Ed(A);nt={...he(wt,A),...nt}}else if(X==="iiif"){let wt=await v0(A);nt={...Gt(wt,A),...nt}}else nt[X]=_t}else if(ne(A))nt.zoom=parseInt(A);else if(te(A))nt.coords=A,nt.id=A;else if(tw(A)){let X=await Ed(A);nt={...he(X,A),...nt}}else if(Zt.test(A))nt.geojson=A;else if(Xt.test(A)){let X=await v0(A);nt={...Gt(X,A),...nt}}else if(pt.has(A))nt[AO(A)]=!0;else{let X=A[0]==='"'&&A[A.length-1]==='"'?A.slice(1,-1):A;nt.label?nt.description=X:nt.label=X}}return nt.preferGeojson=nt.preferGeojson||i.preferGeojson&&nt.geojson||nt.geojson&&!nt.coords,nt}function Je(Ft){let[qt,Zt]=Ft.split(",").map(Xt=>parseFloat(Xt.trim()));return new io.LatLng(qt,Zt)}function kt(Ft){navigator.clipboard&&navigator.clipboard.writeText(Ft)}function zt(Ft="",qt=""){return Object.values(B.value).map(Xt=>{let nt=Xt[0];return nt.type==="FeatureCollection"?nt.features:[nt]}).flat().find(Xt=>{var nt,pt;return Xt.id===Ft||((nt=Xt.properties)==null?void 0:nt.id)===Ft||((pt=Xt.properties)==null?void 0:pt.coords)===qt})}function Wt(Ft=""){var pt,vt,A,X;Ft=Ft.replace(/^flyto\|/i,"");let qt="",Zt=10,Xt=Ft.split(",");if(Xt.length===1){qt=Xt[0];let dt=zt(qt);Zt=((pt=dt==null?void 0:dt.properties)==null?void 0:pt.zoom)||Zt}else if(Xt.length===2)if(/^[+-]?\d+(.\d*|\d*)$/.test(Xt[0])){qt=Xt.join(",");let dt=zt("",qt);Zt=((vt=dt==null?void 0:dt.properties)==null?void 0:vt.zoom)||Zt}else qt=Xt[0],Zt=parseFloat(Xt[1]);else qt=Xt.slice(0,2).join(","),Zt=parseFloat(Xt[2]);let nt;return(A=y.value)==null||A.eachLayer(dt=>{var _t,wt,Ot,xt;(((wt=(_t=dt==null?void 0:dt.feature)==null?void 0:_t.properties)==null?void 0:wt.id)===qt||((xt=(Ot=dt==null?void 0:dt.feature)==null?void 0:Ot.properties)==null?void 0:xt.coords)===qt)&&(nt=dt)}),nt||(X=y.value)==null||X.eachLayer(dt=>nt=dt),{id:qt,zoom:Zt,layer:nt}}function ee(){let Ft=p.value.parentElement,qt=new Set;for(;Ft!=null&&Ft.parentElement&&Ft.tagName!=="MAIN";)Ft=Ft.parentElement,Array.from(Ft.querySelectorAll("[enter],[exit]")).forEach(Xt=>{se(Xt)&&!qt.has(Xt)&&(ve(Xt),qt.add(Xt))});let Zt=p.value.parentElement;for(;Zt!=null&&Zt.parentElement&&Zt.tagName!=="BODY";)Zt=Zt.parentElement;Zt&&Array.from(Zt.querySelectorAll("mark")).forEach(Xt=>{let nt=Array.from(Xt.attributes).find(pt=>pt.name==="flyto");if(nt&&se(Xt.parentElement)){let vt=nt==null?void 0:nt.value;Xt.classList.add(nt.name),Xt.addEventListener("click",()=>ue(vt)),i.popupOnHover&&(Xt.addEventListener("mouseover",()=>{let A=Wt(vt).layer;A.openPopup(),ew()&&setTimeout(()=>A.closePopup(),2e3)}),Xt.addEventListener("mouseleave",()=>{var A;j.value=Wt(vt),j.value.id!==$.value&&((A=j.value.layer)==null||A.closePopup())}))}})}function ve(Ft){let qt=Ft.classList.contains("active");new MutationObserver(Xt=>{Xt.forEach(nt=>{if(nt.attributeName=="class"){let pt=nt.target.classList.contains("active");if(qt!==pt){qt=pt;let vt=Ft.attributes.getNamedItem(pt?"enter":"exit");if(vt){const[A,...X]=vt.value.split(":");let dt=X.join(":");A==="flyto"&&ue(dt,!0),vt.name==="exit"&&tr()}}}})}).observe(Ft,{attributes:!0,childList:!0,subtree:!0,characterData:!0})}function se(Ft){let qt=Ft.previousSibling;for(;qt;){if(qt.nodeName==="VE-MAP")return qt===p.value?qt:null;qt=qt.previousSibling}for(;Ft.parentElement&&Ft.tagName!=="MAIN";){Ft=Ft.parentElement;let Zt=Ft.querySelector(":scope > ve-map, :scope > p > ve-map, :scope > section > ve-map");if(Zt)return Zt===p.value?Zt:null}}async function ue(Ft,qt=!1){var Zt,Xt;if(j.value=Wt(Ft),j.value.layer){if(j.value.id===$.value&&!qt)j.value.layer.closePopup(),tr();else if($.value=j.value.id,(Zt=j.value.layer.feature)!=null&&Zt.properties){let nt=Je(j.value.layer.feature.properties.coords);(Xt=y.value)==null||Xt.flyTo(nt,j.value.zoom)}}else tr()}function tr(){var Ft,qt;if(j.value=null,H.value){let[Zt,Xt,nt]=H.value.split(",").map(vt=>parseFloat(vt)),pt=new ss.LatLng(Zt,Xt);(Ft=y.value)==null||Ft.flyTo(pt,nt),(qt=y.value)==null||qt.closePopup()}$.value=void 0}return(Ft,qt)=>(Ae(),Ne("div",{ref_key:"root",ref:u,style:{width:"100%",height:"100%"}},[Jt("div",aj,[Jt("div",{id:"lat-lng-zoom",innerHTML:E.value,onClick:qt[0]||(qt[0]=Zt=>kt(`${E.value}`))},null,8,lj),Jt("div",{id:"map",ref_key:"mapEl",ref:f},null,512),n.caption?(Ae(),Ne("div",{key:0,id:"caption",innerHTML:n.caption},null,8,cj)):fi("",!0)],512)],512))}}),hj=`.leaflet-pane,.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile-container,.leaflet-pane>svg,.leaflet-pane>canvas,.leaflet-zoom-box,.leaflet-image-layer,.leaflet-layer{position:absolute;left:0;top:0}.leaflet-container{overflow:hidden}.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none}.leaflet-tile::-moz-selection{background:transparent}.leaflet-tile::selection{background:transparent}.leaflet-safari .leaflet-tile{image-rendering:-webkit-optimize-contrast}.leaflet-safari .leaflet-tile-container{width:1600px;height:1600px;-webkit-transform-origin:0 0}.leaflet-marker-icon,.leaflet-marker-shadow{display:block}.leaflet-container .leaflet-overlay-pane svg{max-width:none!important;max-height:none!important}.leaflet-container .leaflet-marker-pane img,.leaflet-container .leaflet-shadow-pane img,.leaflet-container .leaflet-tile-pane img,.leaflet-container img.leaflet-image-layer,.leaflet-container .leaflet-tile{max-width:none!important;max-height:none!important;width:auto;padding:0}.leaflet-container img.leaflet-tile{mix-blend-mode:plus-lighter}.leaflet-container.leaflet-touch-zoom{touch-action:pan-x pan-y}.leaflet-container.leaflet-touch-drag{touch-action:none;touch-action:pinch-zoom}.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom{touch-action:none}.leaflet-container{-webkit-tap-highlight-color:transparent}.leaflet-container a{-webkit-tap-highlight-color:rgba(51,181,229,.4)}.leaflet-tile{filter:inherit;visibility:hidden}.leaflet-tile-loaded{visibility:inherit}.leaflet-zoom-box{width:0;height:0;box-sizing:border-box;z-index:800}.leaflet-overlay-pane svg{-moz-user-select:none}.leaflet-pane{z-index:400}.leaflet-tile-pane{z-index:200}.leaflet-overlay-pane{z-index:400}.leaflet-shadow-pane{z-index:500}.leaflet-marker-pane{z-index:600}.leaflet-tooltip-pane{z-index:650}.leaflet-popup-pane{z-index:700}.leaflet-map-pane canvas{z-index:100}.leaflet-map-pane svg{z-index:200}.leaflet-vml-shape{width:1px;height:1px}.lvml{behavior:url(#default#VML);display:inline-block;position:absolute}.leaflet-control{position:relative;z-index:800;pointer-events:visiblePainted;pointer-events:auto}.leaflet-top,.leaflet-bottom{position:absolute;z-index:1000;pointer-events:none}.leaflet-top{top:0}.leaflet-right{right:0}.leaflet-bottom{bottom:0}.leaflet-left{left:0}.leaflet-control{float:left;clear:both}.leaflet-right .leaflet-control{float:right}.leaflet-top .leaflet-control{margin-top:10px}.leaflet-bottom .leaflet-control{margin-bottom:10px}.leaflet-left .leaflet-control{margin-left:10px}.leaflet-right .leaflet-control{margin-right:10px}.leaflet-fade-anim .leaflet-popup{opacity:0;transition:opacity .2s linear}.leaflet-fade-anim .leaflet-map-pane .leaflet-popup{opacity:1}.leaflet-zoom-animated{transform-origin:0 0}svg.leaflet-zoom-animated{will-change:transform}.leaflet-zoom-anim .leaflet-zoom-animated{transition:transform .25s cubic-bezier(0,0,.25,1)}.leaflet-zoom-anim .leaflet-tile,.leaflet-pan-anim .leaflet-tile{transition:none}.leaflet-zoom-anim .leaflet-zoom-hide{visibility:hidden}.leaflet-interactive{cursor:pointer}.leaflet-grab{cursor:grab}.leaflet-crosshair,.leaflet-crosshair .leaflet-interactive{cursor:crosshair}.leaflet-popup-pane,.leaflet-control{cursor:auto}.leaflet-dragging .leaflet-grab,.leaflet-dragging .leaflet-grab .leaflet-interactive,.leaflet-dragging .leaflet-marker-draggable{cursor:move;cursor:grabbing}.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-image-layer,.leaflet-pane>svg path,.leaflet-tile-container{pointer-events:none}.leaflet-marker-icon.leaflet-interactive,.leaflet-image-layer.leaflet-interactive,.leaflet-pane>svg path.leaflet-interactive,svg.leaflet-image-layer.leaflet-interactive path{pointer-events:visiblePainted;pointer-events:auto}.leaflet-container{background:#ddd;outline-offset:1px}.leaflet-container a{color:#0078a8}.leaflet-zoom-box{border:2px dotted #38f;background:rgba(255,255,255,.5)}.leaflet-container{font-family:Helvetica Neue,Arial,Helvetica,sans-serif;font-size:12px;font-size:.75rem;line-height:1.5}.leaflet-bar{box-shadow:0 1px 5px #000000a6;border-radius:4px}.leaflet-bar a{background-color:#fff;border-bottom:1px solid #ccc;width:26px;height:26px;line-height:26px;display:block;text-align:center;text-decoration:none;color:#000}.leaflet-bar a,.leaflet-control-layers-toggle{background-position:50% 50%;background-repeat:no-repeat;display:block}.leaflet-bar a:hover,.leaflet-bar a:focus{background-color:#f4f4f4}.leaflet-bar a:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.leaflet-bar a:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-bottom:none}.leaflet-bar a.leaflet-disabled{cursor:default;background-color:#f4f4f4;color:#bbb}.leaflet-touch .leaflet-bar a{width:30px;height:30px;line-height:30px}.leaflet-touch .leaflet-bar a:first-child{border-top-left-radius:2px;border-top-right-radius:2px}.leaflet-touch .leaflet-bar a:last-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.leaflet-control-zoom-in,.leaflet-control-zoom-out{font:700 18px Lucida Console,Monaco,monospace;text-indent:1px}.leaflet-touch .leaflet-control-zoom-in,.leaflet-touch .leaflet-control-zoom-out{font-size:22px}.leaflet-control-layers{box-shadow:0 1px 5px #0006;background:#fff;border-radius:5px}.leaflet-control-layers-toggle{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAQAAAADQ4RFAAACf0lEQVR4AY1UM3gkARTePdvdoTxXKc+qTl3aU5U6b2Kbkz3Gtq3Zw6ziLGNPzrYx7946Tr6/ee/XeCQ4D3ykPtL5tHno4n0d/h3+xfuWHGLX81cn7r0iTNzjr7LrlxCqPtkbTQEHeqOrTy4Yyt3VCi/IOB0v7rVC7q45Q3Gr5K6jt+3Gl5nCoDD4MtO+j96Wu8atmhGqcNGHObuf8OM/x3AMx38+4Z2sPqzCxRFK2aF2e5Jol56XTLyggAMTL56XOMoS1W4pOyjUcGGQdZxU6qRh7B9Zp+PfpOFlqt0zyDZckPi1ttmIp03jX8gyJ8a/PG2yutpS/Vol7peZIbZcKBAEEheEIAgFbDkz5H6Zrkm2hVWGiXKiF4Ycw0RWKdtC16Q7qe3X4iOMxruonzegJzWaXFrU9utOSsLUmrc0YjeWYjCW4PDMADElpJSSQ0vQvA1Tm6/JlKnqFs1EGyZiFCqnRZTEJJJiKRYzVYzJck2Rm6P4iH+cmSY0YzimYa8l0EtTODFWhcMIMVqdsI2uiTvKmTisIDHJ3od5GILVhBCarCfVRmo4uTjkhrhzkiBV7SsaqS+TzrzM1qpGGUFt28pIySQHR6h7F6KSwGWm97ay+Z+ZqMcEjEWebE7wxCSQwpkhJqoZA5ivCdZDjJepuJ9IQjGGUmuXJdBFUygxVqVsxFsLMbDe8ZbDYVCGKxs+W080max1hFCarCfV+C1KATwcnvE9gRRuMP2prdbWGowm1KB1y+zwMMENkM755cJ2yPDtqhTI6ED1M/82yIDtC/4j4BijjeObflpO9I9MwXTCsSX8jWAFeHr05WoLTJ5G8IQVS/7vwR6ohirYM7f6HzYpogfS3R2OAAAAAElFTkSuQmCC);width:36px;height:36px}.leaflet-retina .leaflet-control-layers-toggle{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAQAAABvcdNgAAAEsklEQVR4AWL4TydIhpZK1kpWOlg0w3ZXP6D2soBtG42jeI6ZmQTHzAxiTbSJsYLjO9HhP+WOmcuhciVnmHVQcJnp7DFvScowZorad/+V/fVzMdMT2g9Cv9guXGv/7pYOrXh2U+RRR3dSd9JRx6bIFc/ekqHI29JC6pJ5ZEh1yWkhkbcFeSjxgx3L2m1cb1C7bceyxA+CNjT/Ifff+/kDk2u/w/33/IeCMOSaWZ4glosqT3DNnNZQ7Cs58/3Ce5HL78iZH/vKVIaYlqzfdLu8Vi7dnvUbEza5Idt36tquZFldl6N5Z/POLof0XLK61mZCmJSWjVF9tEjUluu74IUXvgttuVIHE7YxSkaYhJZam7yiM9Pv82JYfl9nptxZaxMJE4YSPty+vF0+Y2up9d3wwijfjZbabqm/3bZ9ecKHsiGmRflnn1MW4pjHf9oLufyn2z3y1D6n8g8TZhxyzipLNPnAUpsOiuWimg52psrTZYnOWYNDTMuWBWa0tJb4rgq1UvmutpaYEbZlwU3CLJm/ayYjHW5/h7xWLn9Hh1vepDkyf7dE7MtT5LR4e7yYpHrkhOUpEfssBLq2pPhAqoSWKUkk7EDqkmK6RrCEzqDjhNDWNE+XSMvkJRDWlZTmCW0l0PHQGRZY5t1L83kT0Y3l2SItk5JAWHl2dCOBm+fPu3fo5/3v61RMCO9Jx2EEYYhb0rmNQMX/vm7gqOEJLcXTGw3CAuRNeyaPWwjR8PRqKQ1PDA/dpv+on9Shox52WFnx0KY8onHayrJzm87i5h9xGw/tfkev0jGsQizqezUKjk12hBMKJ4kbCqGPVNXudyyrShovGw5CgxsRICxF6aRmSjlBnHRzg7Gx8fKqEubI2rahQYdR1YgDIRQO7JvQyD52hoIQx0mxa0ODtW2Iozn1le2iIRdzwWewedyZzewidueOGqlsn1MvcnQpuVwLGG3/IR1hIKxCjelIDZ8ldqWz25jWAsnldEnK0Zxro19TGVb2ffIZEsIO89EIEDvKMPrzmBOQcKQ+rroye6NgRRxqR4U8EAkz0CL6uSGOm6KQCdWjvjRiSP1BPalCRS5iQYiEIvxuBMJEWgzSoHADcVMuN7IuqqTeyUPq22qFimFtxDyBBJEwNyt6TM88blFHao/6tWWhuuOM4SAK4EI4QmFHA+SEyWlp4EQoJ13cYGzMu7yszEIBOm2rVmHUNqwAIQabISNMRstmdhNWcFLsSm+0tjJH1MdRxO5Nx0WDMhCtgD6OKgZeljJqJKc9po8juskR9XN0Y1lZ3mWjLR9JCO1jRDMd0fpYC2VnvjBSEFg7wBENc0R9HFlb0xvF1+TBEpF68d+DHR6IOWVv2BECtxo46hOFUBd/APU57WIoEwJhIi2CdpyZX0m93BZicktMj1AS9dClteUFAUNUIEygRZCtik5zSxI9MubTBH1GOiHsiLJ3OCoSZkILa9PxiN0EbvhsAo8tdAf9Seepd36lGWHmtNANTv5Jd0z4QYyeo/UEJqxKRpg5LZx6btLPsOaEmdMyxYdlc8LMaJnikDlhclqmPiQnTEpLUIZEwkRagjYkEibQErwhkTAKCLQEbUgkzJQWc/0PstHHcfEdQ+UAAAAASUVORK5CYII=);background-size:26px 26px}.leaflet-touch .leaflet-control-layers-toggle{width:44px;height:44px}.leaflet-control-layers .leaflet-control-layers-list,.leaflet-control-layers-expanded .leaflet-control-layers-toggle{display:none}.leaflet-control-layers-expanded .leaflet-control-layers-list{display:block;position:relative}.leaflet-control-layers-expanded{padding:6px 10px 6px 6px;color:#333;background:#fff}.leaflet-control-layers-scrollbar{overflow-y:scroll;overflow-x:hidden;padding-right:5px}.leaflet-control-layers-selector{margin-top:2px;position:relative;top:1px}.leaflet-control-layers label{display:block;font-size:13px;font-size:1.08333em}.leaflet-control-layers-separator{height:0;border-top:1px solid #ddd;margin:5px -10px 5px -6px}.leaflet-default-icon-path{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=)}.leaflet-container .leaflet-control-attribution{background:#fff;background:rgba(255,255,255,.8);margin:0}.leaflet-control-attribution,.leaflet-control-scale-line{padding:0 5px;color:#333;line-height:1.4}.leaflet-control-attribution a{text-decoration:none}.leaflet-control-attribution a:hover,.leaflet-control-attribution a:focus{text-decoration:underline}.leaflet-attribution-flag{display:inline!important;vertical-align:baseline!important;width:1em;height:.6669em}.leaflet-left .leaflet-control-scale{margin-left:5px}.leaflet-bottom .leaflet-control-scale{margin-bottom:5px}.leaflet-control-scale-line{border:2px solid #777;border-top:none;line-height:1.1;padding:2px 5px 1px;white-space:nowrap;box-sizing:border-box;background:rgba(255,255,255,.8);text-shadow:1px 1px #fff}.leaflet-control-scale-line:not(:first-child){border-top:2px solid #777;border-bottom:none;margin-top:-2px}.leaflet-control-scale-line:not(:first-child):not(:last-child){border-bottom:2px solid #777}.leaflet-touch .leaflet-control-attribution,.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{box-shadow:none}.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{border:2px solid rgba(0,0,0,.2);background-clip:padding-box}.leaflet-popup{position:absolute;text-align:center;margin-bottom:20px}.leaflet-popup-content-wrapper{padding:1px;text-align:left;border-radius:12px}.leaflet-popup-content{margin:13px 24px 13px 20px;line-height:1.3;font-size:13px;font-size:1.08333em;min-height:1px}.leaflet-popup-content p{margin:1.3em 0}.leaflet-popup-tip-container{width:40px;height:20px;position:absolute;left:50%;margin-top:-1px;margin-left:-20px;overflow:hidden;pointer-events:none}.leaflet-popup-tip{width:17px;height:17px;padding:1px;margin:-10px auto 0;pointer-events:auto;transform:rotate(45deg)}.leaflet-popup-content-wrapper,.leaflet-popup-tip{background:white;color:#333;box-shadow:0 3px 14px #0006}.leaflet-container a.leaflet-popup-close-button{position:absolute;top:0;right:0;border:none;text-align:center;width:24px;height:24px;font:16px/24px Tahoma,Verdana,sans-serif;color:#757575;text-decoration:none;background:transparent}.leaflet-container a.leaflet-popup-close-button:hover,.leaflet-container a.leaflet-popup-close-button:focus{color:#585858}.leaflet-popup-scrolled{overflow:auto}.leaflet-oldie .leaflet-popup-content-wrapper{-ms-zoom:1}.leaflet-oldie .leaflet-popup-tip{width:24px;margin:0 auto;-ms-filter:"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)";filter:progid:DXImageTransform.Microsoft.Matrix(M11=.70710678,M12=.70710678,M21=-.70710678,M22=.70710678)}.leaflet-oldie .leaflet-control-zoom,.leaflet-oldie .leaflet-control-layers,.leaflet-oldie .leaflet-popup-content-wrapper,.leaflet-oldie .leaflet-popup-tip{border:1px solid #999}.leaflet-div-icon{background:#fff;border:1px solid #666}.leaflet-tooltip{position:absolute;padding:6px;background-color:#fff;border:1px solid #fff;border-radius:3px;color:#222;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:none;box-shadow:0 1px 3px #0006}.leaflet-tooltip.leaflet-interactive{cursor:pointer;pointer-events:auto}.leaflet-tooltip-top:before,.leaflet-tooltip-bottom:before,.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{position:absolute;pointer-events:none;border:6px solid transparent;background:transparent;content:""}.leaflet-tooltip-bottom{margin-top:6px}.leaflet-tooltip-top{margin-top:-6px}.leaflet-tooltip-bottom:before,.leaflet-tooltip-top:before{left:50%;margin-left:-6px}.leaflet-tooltip-top:before{bottom:0;margin-bottom:-12px;border-top-color:#fff}.leaflet-tooltip-bottom:before{top:0;margin-top:-12px;margin-left:-6px;border-bottom-color:#fff}.leaflet-tooltip-left{margin-left:-6px}.leaflet-tooltip-right{margin-left:6px}.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{top:50%;margin-top:-6px}.leaflet-tooltip-left:before{right:0;margin-right:-12px;border-left-color:#fff}.leaflet-tooltip-right:before{left:0;margin-left:-12px;border-right-color:#fff}@media print{.leaflet-control{-webkit-print-color-adjust:exact;print-color-adjust:exact}}input[type=range]{-webkit-appearance:none;-webkit-tap-highlight-color:rgba(255,255,255,0);width:110px;height:10px;margin:0;border:none;padding:1px 2px;border-radius:30px;background:#f1f0ee;outline:none}input[type=range]::-ms-track{border:inherit;color:transparent;background:transparent}input[type=range]::-ms-fill-lower,input[type=range]::-ms-fill-upper{background:transparent}input[type=range]::-ms-tooltip{display:none}input[type=range]::-ms-thumb{width:15px;height:18px;border-radius:12px;border:0;background-image:linear-gradient(to bottom,#1253a4 0,#1253a4 100%)}.leaflet-control-layers-label{margin:0 0 8px 1px}@keyframes leaflet-gestures-fadein{0%{opacity:0}to{opacity:1}}.leaflet-container:after{animation:leaflet-gestures-fadein .8s backwards;color:#fff;font-family:Roboto,Arial,sans-serif;font-size:22px;justify-content:center;display:flex;align-items:center;padding:15px;position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:461;pointer-events:none}.leaflet-gesture-handling-touch-warning:after,.leaflet-gesture-handling-scroll-warning:after{animation:leaflet-gestures-fadein .8s forwards}.leaflet-gesture-handling-touch-warning:after{content:attr(data-gesture-handling-touch-content)}.leaflet-gesture-handling-scroll-warning:after{content:attr(data-gesture-handling-scroll-content)}:root,:host,.sl-theme-light{color-scheme:light;--sl-color-gray-50: hsl(0 0% 97.5%);--sl-color-gray-100: hsl(240 4.8% 95.9%);--sl-color-gray-200: hsl(240 5.9% 90%);--sl-color-gray-300: hsl(240 4.9% 83.9%);--sl-color-gray-400: hsl(240 5% 64.9%);--sl-color-gray-500: hsl(240 3.8% 46.1%);--sl-color-gray-600: hsl(240 5.2% 33.9%);--sl-color-gray-700: hsl(240 5.3% 26.1%);--sl-color-gray-800: hsl(240 3.7% 15.9%);--sl-color-gray-900: hsl(240 5.9% 10%);--sl-color-gray-950: hsl(240 7.3% 8%);--sl-color-red-50: hsl(0 85.7% 97.3%);--sl-color-red-100: hsl(0 93.3% 94.1%);--sl-color-red-200: hsl(0 96.3% 89.4%);--sl-color-red-300: hsl(0 93.5% 81.8%);--sl-color-red-400: hsl(0 90.6% 70.8%);--sl-color-red-500: hsl(0 84.2% 60.2%);--sl-color-red-600: hsl(0 72.2% 50.6%);--sl-color-red-700: hsl(0 73.7% 41.8%);--sl-color-red-800: hsl(0 70% 35.3%);--sl-color-red-900: hsl(0 62.8% 30.6%);--sl-color-red-950: hsl(0 60% 19.6%);--sl-color-orange-50: hsl(33.3 100% 96.5%);--sl-color-orange-100: hsl(34.3 100% 91.8%);--sl-color-orange-200: hsl(32.1 97.7% 83.1%);--sl-color-orange-300: hsl(30.7 97.2% 72.4%);--sl-color-orange-400: hsl(27 96% 61%);--sl-color-orange-500: hsl(24.6 95% 53.1%);--sl-color-orange-600: hsl(20.5 90.2% 48.2%);--sl-color-orange-700: hsl(17.5 88.3% 40.4%);--sl-color-orange-800: hsl(15 79.1% 33.7%);--sl-color-orange-900: hsl(15.3 74.6% 27.8%);--sl-color-orange-950: hsl(15.2 69.1% 19%);--sl-color-amber-50: hsl(48 100% 96.1%);--sl-color-amber-100: hsl(48 96.5% 88.8%);--sl-color-amber-200: hsl(48 96.6% 76.7%);--sl-color-amber-300: hsl(45.9 96.7% 64.5%);--sl-color-amber-400: hsl(43.3 96.4% 56.3%);--sl-color-amber-500: hsl(37.7 92.1% 50.2%);--sl-color-amber-600: hsl(32.1 94.6% 43.7%);--sl-color-amber-700: hsl(26 90.5% 37.1%);--sl-color-amber-800: hsl(22.7 82.5% 31.4%);--sl-color-amber-900: hsl(21.7 77.8% 26.5%);--sl-color-amber-950: hsl(22.9 74.1% 16.7%);--sl-color-yellow-50: hsl(54.5 91.7% 95.3%);--sl-color-yellow-100: hsl(54.9 96.7% 88%);--sl-color-yellow-200: hsl(52.8 98.3% 76.9%);--sl-color-yellow-300: hsl(50.4 97.8% 63.5%);--sl-color-yellow-400: hsl(47.9 95.8% 53.1%);--sl-color-yellow-500: hsl(45.4 93.4% 47.5%);--sl-color-yellow-600: hsl(40.6 96.1% 40.4%);--sl-color-yellow-700: hsl(35.5 91.7% 32.9%);--sl-color-yellow-800: hsl(31.8 81% 28.8%);--sl-color-yellow-900: hsl(28.4 72.5% 25.7%);--sl-color-yellow-950: hsl(33.1 69% 13.9%);--sl-color-lime-50: hsl(78.3 92% 95.1%);--sl-color-lime-100: hsl(79.6 89.1% 89.2%);--sl-color-lime-200: hsl(80.9 88.5% 79.6%);--sl-color-lime-300: hsl(82 84.5% 67.1%);--sl-color-lime-400: hsl(82.7 78% 55.5%);--sl-color-lime-500: hsl(83.7 80.5% 44.3%);--sl-color-lime-600: hsl(84.8 85.2% 34.5%);--sl-color-lime-700: hsl(85.9 78.4% 27.3%);--sl-color-lime-800: hsl(86.3 69% 22.7%);--sl-color-lime-900: hsl(87.6 61.2% 20.2%);--sl-color-lime-950: hsl(86.5 60.6% 13.9%);--sl-color-green-50: hsl(138.5 76.5% 96.7%);--sl-color-green-100: hsl(140.6 84.2% 92.5%);--sl-color-green-200: hsl(141 78.9% 85.1%);--sl-color-green-300: hsl(141.7 76.6% 73.1%);--sl-color-green-400: hsl(141.9 69.2% 58%);--sl-color-green-500: hsl(142.1 70.6% 45.3%);--sl-color-green-600: hsl(142.1 76.2% 36.3%);--sl-color-green-700: hsl(142.4 71.8% 29.2%);--sl-color-green-800: hsl(142.8 64.2% 24.1%);--sl-color-green-900: hsl(143.8 61.2% 20.2%);--sl-color-green-950: hsl(144.3 60.7% 12%);--sl-color-emerald-50: hsl(151.8 81% 95.9%);--sl-color-emerald-100: hsl(149.3 80.4% 90%);--sl-color-emerald-200: hsl(152.4 76% 80.4%);--sl-color-emerald-300: hsl(156.2 71.6% 66.9%);--sl-color-emerald-400: hsl(158.1 64.4% 51.6%);--sl-color-emerald-500: hsl(160.1 84.1% 39.4%);--sl-color-emerald-600: hsl(161.4 93.5% 30.4%);--sl-color-emerald-700: hsl(162.9 93.5% 24.3%);--sl-color-emerald-800: hsl(163.1 88.1% 19.8%);--sl-color-emerald-900: hsl(164.2 85.7% 16.5%);--sl-color-emerald-950: hsl(164.3 87.5% 9.4%);--sl-color-teal-50: hsl(166.2 76.5% 96.7%);--sl-color-teal-100: hsl(167.2 85.5% 89.2%);--sl-color-teal-200: hsl(168.4 83.8% 78.2%);--sl-color-teal-300: hsl(170.6 76.9% 64.3%);--sl-color-teal-400: hsl(172.5 66% 50.4%);--sl-color-teal-500: hsl(173.4 80.4% 40%);--sl-color-teal-600: hsl(174.7 83.9% 31.6%);--sl-color-teal-700: hsl(175.3 77.4% 26.1%);--sl-color-teal-800: hsl(176.1 69.4% 21.8%);--sl-color-teal-900: hsl(175.9 60.8% 19%);--sl-color-teal-950: hsl(176.5 58.6% 11.4%);--sl-color-cyan-50: hsl(183.2 100% 96.3%);--sl-color-cyan-100: hsl(185.1 95.9% 90.4%);--sl-color-cyan-200: hsl(186.2 93.5% 81.8%);--sl-color-cyan-300: hsl(187 92.4% 69%);--sl-color-cyan-400: hsl(187.9 85.7% 53.3%);--sl-color-cyan-500: hsl(188.7 94.5% 42.7%);--sl-color-cyan-600: hsl(191.6 91.4% 36.5%);--sl-color-cyan-700: hsl(192.9 82.3% 31%);--sl-color-cyan-800: hsl(194.4 69.6% 27.1%);--sl-color-cyan-900: hsl(196.4 63.6% 23.7%);--sl-color-cyan-950: hsl(196.8 61% 16.1%);--sl-color-sky-50: hsl(204 100% 97.1%);--sl-color-sky-100: hsl(204 93.8% 93.7%);--sl-color-sky-200: hsl(200.6 94.4% 86.1%);--sl-color-sky-300: hsl(199.4 95.5% 73.9%);--sl-color-sky-400: hsl(198.4 93.2% 59.6%);--sl-color-sky-500: hsl(198.6 88.7% 48.4%);--sl-color-sky-600: hsl(200.4 98% 39.4%);--sl-color-sky-700: hsl(201.3 96.3% 32.2%);--sl-color-sky-800: hsl(201 90% 27.5%);--sl-color-sky-900: hsl(202 80.3% 23.9%);--sl-color-sky-950: hsl(202.3 73.8% 16.5%);--sl-color-blue-50: hsl(213.8 100% 96.9%);--sl-color-blue-100: hsl(214.3 94.6% 92.7%);--sl-color-blue-200: hsl(213.3 96.9% 87.3%);--sl-color-blue-300: hsl(211.7 96.4% 78.4%);--sl-color-blue-400: hsl(213.1 93.9% 67.8%);--sl-color-blue-500: hsl(217.2 91.2% 59.8%);--sl-color-blue-600: hsl(221.2 83.2% 53.3%);--sl-color-blue-700: hsl(224.3 76.3% 48%);--sl-color-blue-800: hsl(225.9 70.7% 40.2%);--sl-color-blue-900: hsl(224.4 64.3% 32.9%);--sl-color-blue-950: hsl(226.2 55.3% 18.4%);--sl-color-indigo-50: hsl(225.9 100% 96.7%);--sl-color-indigo-100: hsl(226.5 100% 93.9%);--sl-color-indigo-200: hsl(228 96.5% 88.8%);--sl-color-indigo-300: hsl(229.7 93.5% 81.8%);--sl-color-indigo-400: hsl(234.5 89.5% 73.9%);--sl-color-indigo-500: hsl(238.7 83.5% 66.7%);--sl-color-indigo-600: hsl(243.4 75.4% 58.6%);--sl-color-indigo-700: hsl(244.5 57.9% 50.6%);--sl-color-indigo-800: hsl(243.7 54.5% 41.4%);--sl-color-indigo-900: hsl(242.2 47.4% 34.3%);--sl-color-indigo-950: hsl(243.5 43.6% 22.9%);--sl-color-violet-50: hsl(250 100% 97.6%);--sl-color-violet-100: hsl(251.4 91.3% 95.5%);--sl-color-violet-200: hsl(250.5 95.2% 91.8%);--sl-color-violet-300: hsl(252.5 94.7% 85.1%);--sl-color-violet-400: hsl(255.1 91.7% 76.3%);--sl-color-violet-500: hsl(258.3 89.5% 66.3%);--sl-color-violet-600: hsl(262.1 83.3% 57.8%);--sl-color-violet-700: hsl(263.4 70% 50.4%);--sl-color-violet-800: hsl(263.4 69.3% 42.2%);--sl-color-violet-900: hsl(263.5 67.4% 34.9%);--sl-color-violet-950: hsl(265.1 61.5% 21.4%);--sl-color-purple-50: hsl(270 100% 98%);--sl-color-purple-100: hsl(268.7 100% 95.5%);--sl-color-purple-200: hsl(268.6 100% 91.8%);--sl-color-purple-300: hsl(269.2 97.4% 85.1%);--sl-color-purple-400: hsl(270 95.2% 75.3%);--sl-color-purple-500: hsl(270.7 91% 65.1%);--sl-color-purple-600: hsl(271.5 81.3% 55.9%);--sl-color-purple-700: hsl(272.1 71.7% 47.1%);--sl-color-purple-800: hsl(272.9 67.2% 39.4%);--sl-color-purple-900: hsl(273.6 65.6% 32%);--sl-color-purple-950: hsl(276 59.5% 16.5%);--sl-color-fuchsia-50: hsl(289.1 100% 97.8%);--sl-color-fuchsia-100: hsl(287 100% 95.5%);--sl-color-fuchsia-200: hsl(288.3 95.8% 90.6%);--sl-color-fuchsia-300: hsl(291.1 93.1% 82.9%);--sl-color-fuchsia-400: hsl(292 91.4% 72.5%);--sl-color-fuchsia-500: hsl(292.2 84.1% 60.6%);--sl-color-fuchsia-600: hsl(293.4 69.5% 48.8%);--sl-color-fuchsia-700: hsl(294.7 72.4% 39.8%);--sl-color-fuchsia-800: hsl(295.4 70.2% 32.9%);--sl-color-fuchsia-900: hsl(296.7 63.6% 28%);--sl-color-fuchsia-950: hsl(297.1 56.8% 14.5%);--sl-color-pink-50: hsl(327.3 73.3% 97.1%);--sl-color-pink-100: hsl(325.7 77.8% 94.7%);--sl-color-pink-200: hsl(325.9 84.6% 89.8%);--sl-color-pink-300: hsl(327.4 87.1% 81.8%);--sl-color-pink-400: hsl(328.6 85.5% 70.2%);--sl-color-pink-500: hsl(330.4 81.2% 60.4%);--sl-color-pink-600: hsl(333.3 71.4% 50.6%);--sl-color-pink-700: hsl(335.1 77.6% 42%);--sl-color-pink-800: hsl(335.8 74.4% 35.3%);--sl-color-pink-900: hsl(335.9 69% 30.4%);--sl-color-pink-950: hsl(336.2 65.4% 15.9%);--sl-color-rose-50: hsl(355.7 100% 97.3%);--sl-color-rose-100: hsl(355.6 100% 94.7%);--sl-color-rose-200: hsl(352.7 96.1% 90%);--sl-color-rose-300: hsl(352.6 95.7% 81.8%);--sl-color-rose-400: hsl(351.3 94.5% 71.4%);--sl-color-rose-500: hsl(349.7 89.2% 60.2%);--sl-color-rose-600: hsl(346.8 77.2% 49.8%);--sl-color-rose-700: hsl(345.3 82.7% 40.8%);--sl-color-rose-800: hsl(343.4 79.7% 34.7%);--sl-color-rose-900: hsl(341.5 75.5% 30.4%);--sl-color-rose-950: hsl(341.3 70.1% 17.1%);--sl-color-primary-50: var(--sl-color-sky-50);--sl-color-primary-100: var(--sl-color-sky-100);--sl-color-primary-200: var(--sl-color-sky-200);--sl-color-primary-300: var(--sl-color-sky-300);--sl-color-primary-400: var(--sl-color-sky-400);--sl-color-primary-500: var(--sl-color-sky-500);--sl-color-primary-600: var(--sl-color-sky-600);--sl-color-primary-700: var(--sl-color-sky-700);--sl-color-primary-800: var(--sl-color-sky-800);--sl-color-primary-900: var(--sl-color-sky-900);--sl-color-primary-950: var(--sl-color-sky-950);--sl-color-success-50: var(--sl-color-green-50);--sl-color-success-100: var(--sl-color-green-100);--sl-color-success-200: var(--sl-color-green-200);--sl-color-success-300: var(--sl-color-green-300);--sl-color-success-400: var(--sl-color-green-400);--sl-color-success-500: var(--sl-color-green-500);--sl-color-success-600: var(--sl-color-green-600);--sl-color-success-700: var(--sl-color-green-700);--sl-color-success-800: var(--sl-color-green-800);--sl-color-success-900: var(--sl-color-green-900);--sl-color-success-950: var(--sl-color-green-950);--sl-color-warning-50: var(--sl-color-amber-50);--sl-color-warning-100: var(--sl-color-amber-100);--sl-color-warning-200: var(--sl-color-amber-200);--sl-color-warning-300: var(--sl-color-amber-300);--sl-color-warning-400: var(--sl-color-amber-400);--sl-color-warning-500: var(--sl-color-amber-500);--sl-color-warning-600: var(--sl-color-amber-600);--sl-color-warning-700: var(--sl-color-amber-700);--sl-color-warning-800: var(--sl-color-amber-800);--sl-color-warning-900: var(--sl-color-amber-900);--sl-color-warning-950: var(--sl-color-amber-950);--sl-color-danger-50: var(--sl-color-red-50);--sl-color-danger-100: var(--sl-color-red-100);--sl-color-danger-200: var(--sl-color-red-200);--sl-color-danger-300: var(--sl-color-red-300);--sl-color-danger-400: var(--sl-color-red-400);--sl-color-danger-500: var(--sl-color-red-500);--sl-color-danger-600: var(--sl-color-red-600);--sl-color-danger-700: var(--sl-color-red-700);--sl-color-danger-800: var(--sl-color-red-800);--sl-color-danger-900: var(--sl-color-red-900);--sl-color-danger-950: var(--sl-color-red-950);--sl-color-neutral-50: var(--sl-color-gray-50);--sl-color-neutral-100: var(--sl-color-gray-100);--sl-color-neutral-200: var(--sl-color-gray-200);--sl-color-neutral-300: var(--sl-color-gray-300);--sl-color-neutral-400: var(--sl-color-gray-400);--sl-color-neutral-500: var(--sl-color-gray-500);--sl-color-neutral-600: var(--sl-color-gray-600);--sl-color-neutral-700: var(--sl-color-gray-700);--sl-color-neutral-800: var(--sl-color-gray-800);--sl-color-neutral-900: var(--sl-color-gray-900);--sl-color-neutral-950: var(--sl-color-gray-950);--sl-color-neutral-0: hsl(0, 0%, 100%);--sl-color-neutral-1000: hsl(0, 0%, 0%);--sl-border-radius-small: .1875rem;--sl-border-radius-medium: .25rem;--sl-border-radius-large: .5rem;--sl-border-radius-x-large: 1rem;--sl-border-radius-circle: 50%;--sl-border-radius-pill: 9999px;--sl-shadow-x-small: 0 1px 2px hsl(240 3.8% 46.1% / 6%);--sl-shadow-small: 0 1px 2px hsl(240 3.8% 46.1% / 12%);--sl-shadow-medium: 0 2px 4px hsl(240 3.8% 46.1% / 12%);--sl-shadow-large: 0 2px 8px hsl(240 3.8% 46.1% / 12%);--sl-shadow-x-large: 0 4px 16px hsl(240 3.8% 46.1% / 12%);--sl-spacing-3x-small: .125rem;--sl-spacing-2x-small: .25rem;--sl-spacing-x-small: .5rem;--sl-spacing-small: .75rem;--sl-spacing-medium: 1rem;--sl-spacing-large: 1.25rem;--sl-spacing-x-large: 1.75rem;--sl-spacing-2x-large: 2.25rem;--sl-spacing-3x-large: 3rem;--sl-spacing-4x-large: 4.5rem;--sl-transition-x-slow: 1s;--sl-transition-slow: .5s;--sl-transition-medium: .25s;--sl-transition-fast: .15s;--sl-transition-x-fast: 50ms;--sl-font-mono: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;--sl-font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--sl-font-serif: Georgia, "Times New Roman", serif;--sl-font-size-2x-small: .625rem;--sl-font-size-x-small: .75rem;--sl-font-size-small: .875rem;--sl-font-size-medium: 1rem;--sl-font-size-large: 1.25rem;--sl-font-size-x-large: 1.5rem;--sl-font-size-2x-large: 2.25rem;--sl-font-size-3x-large: 3rem;--sl-font-size-4x-large: 4.5rem;--sl-font-weight-light: 300;--sl-font-weight-normal: 400;--sl-font-weight-semibold: 500;--sl-font-weight-bold: 700;--sl-letter-spacing-denser: -.03em;--sl-letter-spacing-dense: -.015em;--sl-letter-spacing-normal: normal;--sl-letter-spacing-loose: .075em;--sl-letter-spacing-looser: .15em;--sl-line-height-denser: 1;--sl-line-height-dense: 1.4;--sl-line-height-normal: 1.8;--sl-line-height-loose: 2.2;--sl-line-height-looser: 2.6;--sl-focus-ring-color: var(--sl-color-primary-600);--sl-focus-ring-style: solid;--sl-focus-ring-width: 3px;--sl-focus-ring: var(--sl-focus-ring-style) var(--sl-focus-ring-width) var(--sl-focus-ring-color);--sl-focus-ring-offset: 1px;--sl-button-font-size-small: var(--sl-font-size-x-small);--sl-button-font-size-medium: var(--sl-font-size-small);--sl-button-font-size-large: var(--sl-font-size-medium);--sl-input-height-small: 1.875rem;--sl-input-height-medium: 2.5rem;--sl-input-height-large: 3.125rem;--sl-input-background-color: var(--sl-color-neutral-0);--sl-input-background-color-hover: var(--sl-input-background-color);--sl-input-background-color-focus: var(--sl-input-background-color);--sl-input-background-color-disabled: var(--sl-color-neutral-100);--sl-input-border-color: var(--sl-color-neutral-300);--sl-input-border-color-hover: var(--sl-color-neutral-400);--sl-input-border-color-focus: var(--sl-color-primary-500);--sl-input-border-color-disabled: var(--sl-color-neutral-300);--sl-input-border-width: 1px;--sl-input-required-content: "*";--sl-input-required-content-offset: -2px;--sl-input-required-content-color: var(--sl-input-label-color);--sl-input-border-radius-small: var(--sl-border-radius-medium);--sl-input-border-radius-medium: var(--sl-border-radius-medium);--sl-input-border-radius-large: var(--sl-border-radius-medium);--sl-input-font-family: var(--sl-font-sans);--sl-input-font-weight: var(--sl-font-weight-normal);--sl-input-font-size-small: var(--sl-font-size-small);--sl-input-font-size-medium: var(--sl-font-size-medium);--sl-input-font-size-large: var(--sl-font-size-large);--sl-input-letter-spacing: var(--sl-letter-spacing-normal);--sl-input-color: var(--sl-color-neutral-700);--sl-input-color-hover: var(--sl-color-neutral-700);--sl-input-color-focus: var(--sl-color-neutral-700);--sl-input-color-disabled: var(--sl-color-neutral-900);--sl-input-icon-color: var(--sl-color-neutral-500);--sl-input-icon-color-hover: var(--sl-color-neutral-600);--sl-input-icon-color-focus: var(--sl-color-neutral-600);--sl-input-placeholder-color: var(--sl-color-neutral-500);--sl-input-placeholder-color-disabled: var(--sl-color-neutral-600);--sl-input-spacing-small: var(--sl-spacing-small);--sl-input-spacing-medium: var(--sl-spacing-medium);--sl-input-spacing-large: var(--sl-spacing-large);--sl-input-focus-ring-color: hsl(198.6 88.7% 48.4% / 40%);--sl-input-focus-ring-offset: 0;--sl-input-filled-background-color: var(--sl-color-neutral-100);--sl-input-filled-background-color-hover: var(--sl-color-neutral-100);--sl-input-filled-background-color-focus: var(--sl-color-neutral-100);--sl-input-filled-background-color-disabled: var(--sl-color-neutral-100);--sl-input-filled-color: var(--sl-color-neutral-800);--sl-input-filled-color-hover: var(--sl-color-neutral-800);--sl-input-filled-color-focus: var(--sl-color-neutral-700);--sl-input-filled-color-disabled: var(--sl-color-neutral-800);--sl-input-label-font-size-small: var(--sl-font-size-small);--sl-input-label-font-size-medium: var(--sl-font-size-medium);--sl-input-label-font-size-large: var(--sl-font-size-large);--sl-input-label-color: inherit;--sl-input-help-text-font-size-small: var(--sl-font-size-x-small);--sl-input-help-text-font-size-medium: var(--sl-font-size-small);--sl-input-help-text-font-size-large: var(--sl-font-size-medium);--sl-input-help-text-color: var(--sl-color-neutral-500);--sl-toggle-size-small: .875rem;--sl-toggle-size-medium: 1.125rem;--sl-toggle-size-large: 1.375rem;--sl-overlay-background-color: hsl(240 3.8% 46.1% / 33%);--sl-panel-background-color: var(--sl-color-neutral-0);--sl-panel-border-color: var(--sl-color-neutral-200);--sl-panel-border-width: 1px;--sl-tooltip-border-radius: var(--sl-border-radius-medium);--sl-tooltip-background-color: var(--sl-color-neutral-800);--sl-tooltip-color: var(--sl-color-neutral-0);--sl-tooltip-font-family: var(--sl-font-sans);--sl-tooltip-font-weight: var(--sl-font-weight-normal);--sl-tooltip-font-size: var(--sl-font-size-small);--sl-tooltip-line-height: var(--sl-line-height-dense);--sl-tooltip-padding: var(--sl-spacing-2x-small) var(--sl-spacing-x-small);--sl-tooltip-arrow-size: 6px;--sl-z-index-drawer: 700;--sl-z-index-dialog: 800;--sl-z-index-dropdown: 900;--sl-z-index-toast: 950;--sl-z-index-tooltip: 1000}@supports (scrollbar-gutter: stable){.sl-scroll-lock{scrollbar-gutter:stable!important;overflow:hidden!important}}@supports not (scrollbar-gutter: stable){.sl-scroll-lock{padding-right:var(--sl-scroll-lock-size)!important;overflow:hidden!important}}.sl-toast-stack{position:fixed;top:0;inset-inline-end:0;z-index:var(--sl-z-index-toast);width:28rem;max-width:100%;max-height:100%;overflow:auto}.sl-toast-stack sl-alert{margin:var(--sl-spacing-medium)}.sl-toast-stack sl-alert::part(base){box-shadow:var(--sl-shadow-large)}*{box-sizing:border-box}:host{display:flex;align-content:center;justify-content:center;position:relative;background-color:inherit}.content{width:100%;height:100%;margin:auto}#map{width:100%;height:100%}#caption{font-family:sans-serif;width:100%;white-space:nowrap;background-color:#555;color:#fff;padding:4px 6px;bottom:0;height:32px;text-overflow:ellipsis;overflow:hidden}#lat-lng-zoom{position:absolute;font-family:sans-serif;bottom:24px;right:0;width:150px;height:32px;padding:3px 6px;font-size:.8rem;background-color:#ffffff80;color:#000;z-index:2;opacity:0;text-align:right}#lat-lng-zoom:hover{visibility:visible;opacity:1;transition:all .3s ease-in;cursor:copy;z-index:1000}.card{display:grid;grid-template-columns:1fr;grid-template-rows:auto auto auto 1fr 0px;border-radius:4px;padding:0}.card p{border:none}.card-image{grid-area:1 / 1 / 2 / 2;width:100%;height:190px}.card-title{grid-area:2 / 1 / 3 / 2;font-weight:700;font-size:1.5rem;line-height:1;padding:1.3rem .5rem .2rem;text-decoration:none}.card-metadata{grid-area:3 / 1 / 4 / 2;list-style:none;padding:.2rem .5rem;margin:0;font-size:.9rem;font-weight:400}.card-abstract{grid-area:4 / 1 / 5 / 2;align-self:flex-end;height:110px;line-height:1.4;font-size:1rem;padding:.5rem .5rem 0;overflow:hidden;display:-webkit-box;-webkit-line-clamp:5;-webkit-box-orient:vertical;margin:0 0 .5rem}.leaflet-popup-content{width:280px;margin:0}.leaflet-control-layers-toggle{background-image:url(https://unpkg.com/leaflet@1.9.3/dist/images/layers.png)}.leaflet-retina .leaflet-control-layers-toggle{background-image:url(https://unpkg.com/leaflet@1.9.3/dist/images/layers-2x.png)}
`,dj=Ma(uj,[["styles",[hj]]]),pj=Jt("sl-button",{slot:"trigger"},[Jt("svg",{xmlns:"http://www.w3.org/2000/svg",slot:"prefix",width:"16",height:"16",fill:"currentColor",class:"bi bi-list",viewBox:"0 0 16 16"},[Jt("path",{"fill-rule":"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"})])],-1),fj=["onClick"],gj=["innerHTML"],mj=["innerHTML"],vj={key:1,slot:"prefix",style:{width:"1em","margin-right":"1em"}},yj=Jt("span",null,"Download as PDF",-1),bj=Jt("img",{slot:"prefix",width:"16",src:"https://upload.wikimedia.org/wikipedia/commons/2/2a/Noun_Project_PDF_icon_117327_cc.svg",alt:"PDF Download Icon"},null,-1),wj=[yj,bj],xj={class:"hs-overlay-open:mt-7 hs-overlay-open:opacity-100 hs-overlay-open:duration-500 mt-0 opacity-0 ease-out transition-all sm:max-w-lg sm:w-full m-3 sm:mx-auto min-h-[calc(100%-3.5rem)] flex items-center"},_j={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},kj={class:"p-4 overflow-y-auto flex items-center gap-4 text-black"},Ej=Jt("sl-spinner",{style:{"font-size":"3rem","--indicator-color":"deeppink","--track-color":"pink"}},null,-1),Tj=["innerHTML"],Sj=hs({__name:"Menu.ce",props:{contact:{type:String},pdfDownloadEnabled:{type:Boolean,default:!1}},setup(n){const i=n,e=Oe(null),o=qr(()=>{var H,$;return($=(H=e.value)==null?void 0:H.getRootNode())==null?void 0:$.host});ei(o,()=>{C()});const l=Oe(null),u=qr(()=>l==null?void 0:l.value),p=qr(()=>new V1(u.value)),f=Oe(null),m=qr(()=>f==null?void 0:f.value),y=Oe("Generating PDF...");ei(m,H=>{p.value.init(),H.addEventListener("open.hs.overlay",$=>_.value=!0),H.addEventListener("close.hs.overlay",$=>_.value=!1)});const _=Oe(!1);ei(_,H=>{H?p.value.open(m.value):p.value.close(m.value)});const E=Oe([]);function C(){function H(){let $=Array.from(o.value.querySelectorAll("li")).map(j=>{var ht,ct;const V=j.querySelector("a");let ot=V.innerText.trim(),ft=(ht=j.querySelector("svg"))==null?void 0:ht.outerHTML;if(!ft){let Z=((ct=V.href.split("/").filter(lt=>lt).pop())==null?void 0:ct.toLowerCase())||"";Z=location.host===Z?"home":Z,G[Z]&&(ft=G[Z])}return{label:ot,icon:ft,href:V.href}});i.contact&&$.push({label:"Contact Us",icon:G.contact,href:"/contact"}),E.value=$}H(),new MutationObserver($=>{for(let j of $)j.type==="childList"&&H()}).observe(o.value,{childList:!0,subtree:!0})}function I(H,$){var V;let j=H.href.split("/").filter(ot=>ot).pop().toLowerCase();if(j=location.host===j?"home":j,j==="contact")z();else{let ot=new URL(H.href);if(ot.origin===location.origin){let ht=`${((V=(window==null?void 0:window.config)||{})==null?void 0:V.baseurl)||""}${ot.pathname}`;location.pathname=ht}else location.href=H.href}}function z(){const H=i.contact,$=`${window.config.title} Contact`,V=`mailto:${H}?subject=${$}&body=`;window.open(V,"_blank")}async function B(){console.log(`Generating PDF for ${location.href}`),y.value="Generating PDF...",_.value=!_.value;let H=await fetch(`https://ezsitepdf-drnxe7pzjq-uc.a.run.app/pdf?url=${location.href}`);if(H.ok){y.value="Downloading PDF...";let $=await H.blob();const j=document.createElement("a");j.setAttribute("download","resume.pdf");const V=URL.createObjectURL($);j.href=V,j.setAttribute("target","_blank"),j.click(),j.addEventListener,URL.revokeObjectURL(V)}setTimeout(()=>_.value=!1,2e3)}const G={home:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 576 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"/></svg>',about:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"/></svg>',contact:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"/></svg>'};return(H,$)=>(Ae(),Ne(nn,null,[Jt("sl-dropdown",{ref_key:"root",ref:e},[pj,Jt("sl-menu",null,[(Ae(!0),Ne(nn,null,Qu(E.value,j=>(Ae(),Ne("sl-menu-item",{onClick:V=>I(j)},[Jt("span",{innerHTML:j.label},null,8,gj),j.icon?(Ae(),Ne("svg",{key:0,slot:"prefix",innerHTML:j.icon},null,8,mj)):(Ae(),Ne("span",vj))],8,fj))),256)),n.pdfDownloadEnabled?(Ae(),Ne("sl-menu-item",{key:0,onClick:B},wj)):fi("",!0)])],512),Jt("div",{ref_key:"overlayRef",ref:l},[Jt("div",{ref_key:"modalRef",ref:f,id:"hs-basic-modal",class:"hs-overlay hidden w-full h-full fixed top-0 start-0 z-[80] overflow-x-hidden overflow-y-auto pointer-events-none"},[Jt("div",xj,[Jt("div",_j,[Jt("div",kj,[Ej,Jt("p",{innerHTML:y.value},null,8,Tj)])])])],512)],512)],64))}}),Cj=`:root,:host,.sl-theme-light{color-scheme:light;--sl-color-gray-50: hsl(0 0% 97.5%);--sl-color-gray-100: hsl(240 4.8% 95.9%);--sl-color-gray-200: hsl(240 5.9% 90%);--sl-color-gray-300: hsl(240 4.9% 83.9%);--sl-color-gray-400: hsl(240 5% 64.9%);--sl-color-gray-500: hsl(240 3.8% 46.1%);--sl-color-gray-600: hsl(240 5.2% 33.9%);--sl-color-gray-700: hsl(240 5.3% 26.1%);--sl-color-gray-800: hsl(240 3.7% 15.9%);--sl-color-gray-900: hsl(240 5.9% 10%);--sl-color-gray-950: hsl(240 7.3% 8%);--sl-color-red-50: hsl(0 85.7% 97.3%);--sl-color-red-100: hsl(0 93.3% 94.1%);--sl-color-red-200: hsl(0 96.3% 89.4%);--sl-color-red-300: hsl(0 93.5% 81.8%);--sl-color-red-400: hsl(0 90.6% 70.8%);--sl-color-red-500: hsl(0 84.2% 60.2%);--sl-color-red-600: hsl(0 72.2% 50.6%);--sl-color-red-700: hsl(0 73.7% 41.8%);--sl-color-red-800: hsl(0 70% 35.3%);--sl-color-red-900: hsl(0 62.8% 30.6%);--sl-color-red-950: hsl(0 60% 19.6%);--sl-color-orange-50: hsl(33.3 100% 96.5%);--sl-color-orange-100: hsl(34.3 100% 91.8%);--sl-color-orange-200: hsl(32.1 97.7% 83.1%);--sl-color-orange-300: hsl(30.7 97.2% 72.4%);--sl-color-orange-400: hsl(27 96% 61%);--sl-color-orange-500: hsl(24.6 95% 53.1%);--sl-color-orange-600: hsl(20.5 90.2% 48.2%);--sl-color-orange-700: hsl(17.5 88.3% 40.4%);--sl-color-orange-800: hsl(15 79.1% 33.7%);--sl-color-orange-900: hsl(15.3 74.6% 27.8%);--sl-color-orange-950: hsl(15.2 69.1% 19%);--sl-color-amber-50: hsl(48 100% 96.1%);--sl-color-amber-100: hsl(48 96.5% 88.8%);--sl-color-amber-200: hsl(48 96.6% 76.7%);--sl-color-amber-300: hsl(45.9 96.7% 64.5%);--sl-color-amber-400: hsl(43.3 96.4% 56.3%);--sl-color-amber-500: hsl(37.7 92.1% 50.2%);--sl-color-amber-600: hsl(32.1 94.6% 43.7%);--sl-color-amber-700: hsl(26 90.5% 37.1%);--sl-color-amber-800: hsl(22.7 82.5% 31.4%);--sl-color-amber-900: hsl(21.7 77.8% 26.5%);--sl-color-amber-950: hsl(22.9 74.1% 16.7%);--sl-color-yellow-50: hsl(54.5 91.7% 95.3%);--sl-color-yellow-100: hsl(54.9 96.7% 88%);--sl-color-yellow-200: hsl(52.8 98.3% 76.9%);--sl-color-yellow-300: hsl(50.4 97.8% 63.5%);--sl-color-yellow-400: hsl(47.9 95.8% 53.1%);--sl-color-yellow-500: hsl(45.4 93.4% 47.5%);--sl-color-yellow-600: hsl(40.6 96.1% 40.4%);--sl-color-yellow-700: hsl(35.5 91.7% 32.9%);--sl-color-yellow-800: hsl(31.8 81% 28.8%);--sl-color-yellow-900: hsl(28.4 72.5% 25.7%);--sl-color-yellow-950: hsl(33.1 69% 13.9%);--sl-color-lime-50: hsl(78.3 92% 95.1%);--sl-color-lime-100: hsl(79.6 89.1% 89.2%);--sl-color-lime-200: hsl(80.9 88.5% 79.6%);--sl-color-lime-300: hsl(82 84.5% 67.1%);--sl-color-lime-400: hsl(82.7 78% 55.5%);--sl-color-lime-500: hsl(83.7 80.5% 44.3%);--sl-color-lime-600: hsl(84.8 85.2% 34.5%);--sl-color-lime-700: hsl(85.9 78.4% 27.3%);--sl-color-lime-800: hsl(86.3 69% 22.7%);--sl-color-lime-900: hsl(87.6 61.2% 20.2%);--sl-color-lime-950: hsl(86.5 60.6% 13.9%);--sl-color-green-50: hsl(138.5 76.5% 96.7%);--sl-color-green-100: hsl(140.6 84.2% 92.5%);--sl-color-green-200: hsl(141 78.9% 85.1%);--sl-color-green-300: hsl(141.7 76.6% 73.1%);--sl-color-green-400: hsl(141.9 69.2% 58%);--sl-color-green-500: hsl(142.1 70.6% 45.3%);--sl-color-green-600: hsl(142.1 76.2% 36.3%);--sl-color-green-700: hsl(142.4 71.8% 29.2%);--sl-color-green-800: hsl(142.8 64.2% 24.1%);--sl-color-green-900: hsl(143.8 61.2% 20.2%);--sl-color-green-950: hsl(144.3 60.7% 12%);--sl-color-emerald-50: hsl(151.8 81% 95.9%);--sl-color-emerald-100: hsl(149.3 80.4% 90%);--sl-color-emerald-200: hsl(152.4 76% 80.4%);--sl-color-emerald-300: hsl(156.2 71.6% 66.9%);--sl-color-emerald-400: hsl(158.1 64.4% 51.6%);--sl-color-emerald-500: hsl(160.1 84.1% 39.4%);--sl-color-emerald-600: hsl(161.4 93.5% 30.4%);--sl-color-emerald-700: hsl(162.9 93.5% 24.3%);--sl-color-emerald-800: hsl(163.1 88.1% 19.8%);--sl-color-emerald-900: hsl(164.2 85.7% 16.5%);--sl-color-emerald-950: hsl(164.3 87.5% 9.4%);--sl-color-teal-50: hsl(166.2 76.5% 96.7%);--sl-color-teal-100: hsl(167.2 85.5% 89.2%);--sl-color-teal-200: hsl(168.4 83.8% 78.2%);--sl-color-teal-300: hsl(170.6 76.9% 64.3%);--sl-color-teal-400: hsl(172.5 66% 50.4%);--sl-color-teal-500: hsl(173.4 80.4% 40%);--sl-color-teal-600: hsl(174.7 83.9% 31.6%);--sl-color-teal-700: hsl(175.3 77.4% 26.1%);--sl-color-teal-800: hsl(176.1 69.4% 21.8%);--sl-color-teal-900: hsl(175.9 60.8% 19%);--sl-color-teal-950: hsl(176.5 58.6% 11.4%);--sl-color-cyan-50: hsl(183.2 100% 96.3%);--sl-color-cyan-100: hsl(185.1 95.9% 90.4%);--sl-color-cyan-200: hsl(186.2 93.5% 81.8%);--sl-color-cyan-300: hsl(187 92.4% 69%);--sl-color-cyan-400: hsl(187.9 85.7% 53.3%);--sl-color-cyan-500: hsl(188.7 94.5% 42.7%);--sl-color-cyan-600: hsl(191.6 91.4% 36.5%);--sl-color-cyan-700: hsl(192.9 82.3% 31%);--sl-color-cyan-800: hsl(194.4 69.6% 27.1%);--sl-color-cyan-900: hsl(196.4 63.6% 23.7%);--sl-color-cyan-950: hsl(196.8 61% 16.1%);--sl-color-sky-50: hsl(204 100% 97.1%);--sl-color-sky-100: hsl(204 93.8% 93.7%);--sl-color-sky-200: hsl(200.6 94.4% 86.1%);--sl-color-sky-300: hsl(199.4 95.5% 73.9%);--sl-color-sky-400: hsl(198.4 93.2% 59.6%);--sl-color-sky-500: hsl(198.6 88.7% 48.4%);--sl-color-sky-600: hsl(200.4 98% 39.4%);--sl-color-sky-700: hsl(201.3 96.3% 32.2%);--sl-color-sky-800: hsl(201 90% 27.5%);--sl-color-sky-900: hsl(202 80.3% 23.9%);--sl-color-sky-950: hsl(202.3 73.8% 16.5%);--sl-color-blue-50: hsl(213.8 100% 96.9%);--sl-color-blue-100: hsl(214.3 94.6% 92.7%);--sl-color-blue-200: hsl(213.3 96.9% 87.3%);--sl-color-blue-300: hsl(211.7 96.4% 78.4%);--sl-color-blue-400: hsl(213.1 93.9% 67.8%);--sl-color-blue-500: hsl(217.2 91.2% 59.8%);--sl-color-blue-600: hsl(221.2 83.2% 53.3%);--sl-color-blue-700: hsl(224.3 76.3% 48%);--sl-color-blue-800: hsl(225.9 70.7% 40.2%);--sl-color-blue-900: hsl(224.4 64.3% 32.9%);--sl-color-blue-950: hsl(226.2 55.3% 18.4%);--sl-color-indigo-50: hsl(225.9 100% 96.7%);--sl-color-indigo-100: hsl(226.5 100% 93.9%);--sl-color-indigo-200: hsl(228 96.5% 88.8%);--sl-color-indigo-300: hsl(229.7 93.5% 81.8%);--sl-color-indigo-400: hsl(234.5 89.5% 73.9%);--sl-color-indigo-500: hsl(238.7 83.5% 66.7%);--sl-color-indigo-600: hsl(243.4 75.4% 58.6%);--sl-color-indigo-700: hsl(244.5 57.9% 50.6%);--sl-color-indigo-800: hsl(243.7 54.5% 41.4%);--sl-color-indigo-900: hsl(242.2 47.4% 34.3%);--sl-color-indigo-950: hsl(243.5 43.6% 22.9%);--sl-color-violet-50: hsl(250 100% 97.6%);--sl-color-violet-100: hsl(251.4 91.3% 95.5%);--sl-color-violet-200: hsl(250.5 95.2% 91.8%);--sl-color-violet-300: hsl(252.5 94.7% 85.1%);--sl-color-violet-400: hsl(255.1 91.7% 76.3%);--sl-color-violet-500: hsl(258.3 89.5% 66.3%);--sl-color-violet-600: hsl(262.1 83.3% 57.8%);--sl-color-violet-700: hsl(263.4 70% 50.4%);--sl-color-violet-800: hsl(263.4 69.3% 42.2%);--sl-color-violet-900: hsl(263.5 67.4% 34.9%);--sl-color-violet-950: hsl(265.1 61.5% 21.4%);--sl-color-purple-50: hsl(270 100% 98%);--sl-color-purple-100: hsl(268.7 100% 95.5%);--sl-color-purple-200: hsl(268.6 100% 91.8%);--sl-color-purple-300: hsl(269.2 97.4% 85.1%);--sl-color-purple-400: hsl(270 95.2% 75.3%);--sl-color-purple-500: hsl(270.7 91% 65.1%);--sl-color-purple-600: hsl(271.5 81.3% 55.9%);--sl-color-purple-700: hsl(272.1 71.7% 47.1%);--sl-color-purple-800: hsl(272.9 67.2% 39.4%);--sl-color-purple-900: hsl(273.6 65.6% 32%);--sl-color-purple-950: hsl(276 59.5% 16.5%);--sl-color-fuchsia-50: hsl(289.1 100% 97.8%);--sl-color-fuchsia-100: hsl(287 100% 95.5%);--sl-color-fuchsia-200: hsl(288.3 95.8% 90.6%);--sl-color-fuchsia-300: hsl(291.1 93.1% 82.9%);--sl-color-fuchsia-400: hsl(292 91.4% 72.5%);--sl-color-fuchsia-500: hsl(292.2 84.1% 60.6%);--sl-color-fuchsia-600: hsl(293.4 69.5% 48.8%);--sl-color-fuchsia-700: hsl(294.7 72.4% 39.8%);--sl-color-fuchsia-800: hsl(295.4 70.2% 32.9%);--sl-color-fuchsia-900: hsl(296.7 63.6% 28%);--sl-color-fuchsia-950: hsl(297.1 56.8% 14.5%);--sl-color-pink-50: hsl(327.3 73.3% 97.1%);--sl-color-pink-100: hsl(325.7 77.8% 94.7%);--sl-color-pink-200: hsl(325.9 84.6% 89.8%);--sl-color-pink-300: hsl(327.4 87.1% 81.8%);--sl-color-pink-400: hsl(328.6 85.5% 70.2%);--sl-color-pink-500: hsl(330.4 81.2% 60.4%);--sl-color-pink-600: hsl(333.3 71.4% 50.6%);--sl-color-pink-700: hsl(335.1 77.6% 42%);--sl-color-pink-800: hsl(335.8 74.4% 35.3%);--sl-color-pink-900: hsl(335.9 69% 30.4%);--sl-color-pink-950: hsl(336.2 65.4% 15.9%);--sl-color-rose-50: hsl(355.7 100% 97.3%);--sl-color-rose-100: hsl(355.6 100% 94.7%);--sl-color-rose-200: hsl(352.7 96.1% 90%);--sl-color-rose-300: hsl(352.6 95.7% 81.8%);--sl-color-rose-400: hsl(351.3 94.5% 71.4%);--sl-color-rose-500: hsl(349.7 89.2% 60.2%);--sl-color-rose-600: hsl(346.8 77.2% 49.8%);--sl-color-rose-700: hsl(345.3 82.7% 40.8%);--sl-color-rose-800: hsl(343.4 79.7% 34.7%);--sl-color-rose-900: hsl(341.5 75.5% 30.4%);--sl-color-rose-950: hsl(341.3 70.1% 17.1%);--sl-color-primary-50: var(--sl-color-sky-50);--sl-color-primary-100: var(--sl-color-sky-100);--sl-color-primary-200: var(--sl-color-sky-200);--sl-color-primary-300: var(--sl-color-sky-300);--sl-color-primary-400: var(--sl-color-sky-400);--sl-color-primary-500: var(--sl-color-sky-500);--sl-color-primary-600: var(--sl-color-sky-600);--sl-color-primary-700: var(--sl-color-sky-700);--sl-color-primary-800: var(--sl-color-sky-800);--sl-color-primary-900: var(--sl-color-sky-900);--sl-color-primary-950: var(--sl-color-sky-950);--sl-color-success-50: var(--sl-color-green-50);--sl-color-success-100: var(--sl-color-green-100);--sl-color-success-200: var(--sl-color-green-200);--sl-color-success-300: var(--sl-color-green-300);--sl-color-success-400: var(--sl-color-green-400);--sl-color-success-500: var(--sl-color-green-500);--sl-color-success-600: var(--sl-color-green-600);--sl-color-success-700: var(--sl-color-green-700);--sl-color-success-800: var(--sl-color-green-800);--sl-color-success-900: var(--sl-color-green-900);--sl-color-success-950: var(--sl-color-green-950);--sl-color-warning-50: var(--sl-color-amber-50);--sl-color-warning-100: var(--sl-color-amber-100);--sl-color-warning-200: var(--sl-color-amber-200);--sl-color-warning-300: var(--sl-color-amber-300);--sl-color-warning-400: var(--sl-color-amber-400);--sl-color-warning-500: var(--sl-color-amber-500);--sl-color-warning-600: var(--sl-color-amber-600);--sl-color-warning-700: var(--sl-color-amber-700);--sl-color-warning-800: var(--sl-color-amber-800);--sl-color-warning-900: var(--sl-color-amber-900);--sl-color-warning-950: var(--sl-color-amber-950);--sl-color-danger-50: var(--sl-color-red-50);--sl-color-danger-100: var(--sl-color-red-100);--sl-color-danger-200: var(--sl-color-red-200);--sl-color-danger-300: var(--sl-color-red-300);--sl-color-danger-400: var(--sl-color-red-400);--sl-color-danger-500: var(--sl-color-red-500);--sl-color-danger-600: var(--sl-color-red-600);--sl-color-danger-700: var(--sl-color-red-700);--sl-color-danger-800: var(--sl-color-red-800);--sl-color-danger-900: var(--sl-color-red-900);--sl-color-danger-950: var(--sl-color-red-950);--sl-color-neutral-50: var(--sl-color-gray-50);--sl-color-neutral-100: var(--sl-color-gray-100);--sl-color-neutral-200: var(--sl-color-gray-200);--sl-color-neutral-300: var(--sl-color-gray-300);--sl-color-neutral-400: var(--sl-color-gray-400);--sl-color-neutral-500: var(--sl-color-gray-500);--sl-color-neutral-600: var(--sl-color-gray-600);--sl-color-neutral-700: var(--sl-color-gray-700);--sl-color-neutral-800: var(--sl-color-gray-800);--sl-color-neutral-900: var(--sl-color-gray-900);--sl-color-neutral-950: var(--sl-color-gray-950);--sl-color-neutral-0: hsl(0, 0%, 100%);--sl-color-neutral-1000: hsl(0, 0%, 0%);--sl-border-radius-small: .1875rem;--sl-border-radius-medium: .25rem;--sl-border-radius-large: .5rem;--sl-border-radius-x-large: 1rem;--sl-border-radius-circle: 50%;--sl-border-radius-pill: 9999px;--sl-shadow-x-small: 0 1px 2px hsl(240 3.8% 46.1% / 6%);--sl-shadow-small: 0 1px 2px hsl(240 3.8% 46.1% / 12%);--sl-shadow-medium: 0 2px 4px hsl(240 3.8% 46.1% / 12%);--sl-shadow-large: 0 2px 8px hsl(240 3.8% 46.1% / 12%);--sl-shadow-x-large: 0 4px 16px hsl(240 3.8% 46.1% / 12%);--sl-spacing-3x-small: .125rem;--sl-spacing-2x-small: .25rem;--sl-spacing-x-small: .5rem;--sl-spacing-small: .75rem;--sl-spacing-medium: 1rem;--sl-spacing-large: 1.25rem;--sl-spacing-x-large: 1.75rem;--sl-spacing-2x-large: 2.25rem;--sl-spacing-3x-large: 3rem;--sl-spacing-4x-large: 4.5rem;--sl-transition-x-slow: 1s;--sl-transition-slow: .5s;--sl-transition-medium: .25s;--sl-transition-fast: .15s;--sl-transition-x-fast: 50ms;--sl-font-mono: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;--sl-font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--sl-font-serif: Georgia, "Times New Roman", serif;--sl-font-size-2x-small: .625rem;--sl-font-size-x-small: .75rem;--sl-font-size-small: .875rem;--sl-font-size-medium: 1rem;--sl-font-size-large: 1.25rem;--sl-font-size-x-large: 1.5rem;--sl-font-size-2x-large: 2.25rem;--sl-font-size-3x-large: 3rem;--sl-font-size-4x-large: 4.5rem;--sl-font-weight-light: 300;--sl-font-weight-normal: 400;--sl-font-weight-semibold: 500;--sl-font-weight-bold: 700;--sl-letter-spacing-denser: -.03em;--sl-letter-spacing-dense: -.015em;--sl-letter-spacing-normal: normal;--sl-letter-spacing-loose: .075em;--sl-letter-spacing-looser: .15em;--sl-line-height-denser: 1;--sl-line-height-dense: 1.4;--sl-line-height-normal: 1.8;--sl-line-height-loose: 2.2;--sl-line-height-looser: 2.6;--sl-focus-ring-color: var(--sl-color-primary-600);--sl-focus-ring-style: solid;--sl-focus-ring-width: 3px;--sl-focus-ring: var(--sl-focus-ring-style) var(--sl-focus-ring-width) var(--sl-focus-ring-color);--sl-focus-ring-offset: 1px;--sl-button-font-size-small: var(--sl-font-size-x-small);--sl-button-font-size-medium: var(--sl-font-size-small);--sl-button-font-size-large: var(--sl-font-size-medium);--sl-input-height-small: 1.875rem;--sl-input-height-medium: 2.5rem;--sl-input-height-large: 3.125rem;--sl-input-background-color: var(--sl-color-neutral-0);--sl-input-background-color-hover: var(--sl-input-background-color);--sl-input-background-color-focus: var(--sl-input-background-color);--sl-input-background-color-disabled: var(--sl-color-neutral-100);--sl-input-border-color: var(--sl-color-neutral-300);--sl-input-border-color-hover: var(--sl-color-neutral-400);--sl-input-border-color-focus: var(--sl-color-primary-500);--sl-input-border-color-disabled: var(--sl-color-neutral-300);--sl-input-border-width: 1px;--sl-input-required-content: "*";--sl-input-required-content-offset: -2px;--sl-input-required-content-color: var(--sl-input-label-color);--sl-input-border-radius-small: var(--sl-border-radius-medium);--sl-input-border-radius-medium: var(--sl-border-radius-medium);--sl-input-border-radius-large: var(--sl-border-radius-medium);--sl-input-font-family: var(--sl-font-sans);--sl-input-font-weight: var(--sl-font-weight-normal);--sl-input-font-size-small: var(--sl-font-size-small);--sl-input-font-size-medium: var(--sl-font-size-medium);--sl-input-font-size-large: var(--sl-font-size-large);--sl-input-letter-spacing: var(--sl-letter-spacing-normal);--sl-input-color: var(--sl-color-neutral-700);--sl-input-color-hover: var(--sl-color-neutral-700);--sl-input-color-focus: var(--sl-color-neutral-700);--sl-input-color-disabled: var(--sl-color-neutral-900);--sl-input-icon-color: var(--sl-color-neutral-500);--sl-input-icon-color-hover: var(--sl-color-neutral-600);--sl-input-icon-color-focus: var(--sl-color-neutral-600);--sl-input-placeholder-color: var(--sl-color-neutral-500);--sl-input-placeholder-color-disabled: var(--sl-color-neutral-600);--sl-input-spacing-small: var(--sl-spacing-small);--sl-input-spacing-medium: var(--sl-spacing-medium);--sl-input-spacing-large: var(--sl-spacing-large);--sl-input-focus-ring-color: hsl(198.6 88.7% 48.4% / 40%);--sl-input-focus-ring-offset: 0;--sl-input-filled-background-color: var(--sl-color-neutral-100);--sl-input-filled-background-color-hover: var(--sl-color-neutral-100);--sl-input-filled-background-color-focus: var(--sl-color-neutral-100);--sl-input-filled-background-color-disabled: var(--sl-color-neutral-100);--sl-input-filled-color: var(--sl-color-neutral-800);--sl-input-filled-color-hover: var(--sl-color-neutral-800);--sl-input-filled-color-focus: var(--sl-color-neutral-700);--sl-input-filled-color-disabled: var(--sl-color-neutral-800);--sl-input-label-font-size-small: var(--sl-font-size-small);--sl-input-label-font-size-medium: var(--sl-font-size-medium);--sl-input-label-font-size-large: var(--sl-font-size-large);--sl-input-label-color: inherit;--sl-input-help-text-font-size-small: var(--sl-font-size-x-small);--sl-input-help-text-font-size-medium: var(--sl-font-size-small);--sl-input-help-text-font-size-large: var(--sl-font-size-medium);--sl-input-help-text-color: var(--sl-color-neutral-500);--sl-toggle-size-small: .875rem;--sl-toggle-size-medium: 1.125rem;--sl-toggle-size-large: 1.375rem;--sl-overlay-background-color: hsl(240 3.8% 46.1% / 33%);--sl-panel-background-color: var(--sl-color-neutral-0);--sl-panel-border-color: var(--sl-color-neutral-200);--sl-panel-border-width: 1px;--sl-tooltip-border-radius: var(--sl-border-radius-medium);--sl-tooltip-background-color: var(--sl-color-neutral-800);--sl-tooltip-color: var(--sl-color-neutral-0);--sl-tooltip-font-family: var(--sl-font-sans);--sl-tooltip-font-weight: var(--sl-font-weight-normal);--sl-tooltip-font-size: var(--sl-font-size-small);--sl-tooltip-line-height: var(--sl-line-height-dense);--sl-tooltip-padding: var(--sl-spacing-2x-small) var(--sl-spacing-x-small);--sl-tooltip-arrow-size: 6px;--sl-z-index-drawer: 700;--sl-z-index-dialog: 800;--sl-z-index-dropdown: 900;--sl-z-index-toast: 950;--sl-z-index-tooltip: 1000}@supports (scrollbar-gutter: stable){.sl-scroll-lock{scrollbar-gutter:stable!important;overflow:hidden!important}}@supports not (scrollbar-gutter: stable){.sl-scroll-lock{padding-right:var(--sl-scroll-lock-size)!important;overflow:hidden!important}}.sl-toast-stack{position:fixed;top:0;inset-inline-end:0;z-index:var(--sl-z-index-toast);width:28rem;max-width:100%;max-height:100%;overflow:auto}.sl-toast-stack sl-alert{margin:var(--sl-spacing-medium)}.sl-toast-stack sl-alert::part(base){box-shadow:var(--sl-shadow-large)}*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}ez-header ul,ez-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}sl-menu-item svg{width:1em;height:1em;vertical-align:middle;margin-right:1em}
`,Pj=Ma(Sj,[["styles",[Cj]]]),Mj=hs({__name:"Meta.ce",props:{title:{type:String},description:{type:String},author:{type:String},viewport:{type:String},robots:{type:String}},setup(n){return()=>{}}}),Ij={class:"hs-overlay-open:mt-7 hs-overlay-open:opacity-100 hs-overlay-open:duration-500 mt-0 opacity-0 ease-out transition-all sm:max-w-lg sm:w-full m-3 sm:mx-auto min-h-[calc(100%-3.5rem)] flex items-center"},Lj={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},Rj={class:"p-4 overflow-y-auto"},Aj={class:"mt-1 text-gray-800 dark:text-gray-400"},zj=hs({__name:"Modal.ce",props:{open:{type:Boolean,default:!1}},setup(n){const i=n,e=Oe(null),o=Oe(null),l=qr(()=>{var y,_;return(_=(y=e.value)==null?void 0:y.getRootNode())==null?void 0:_.host}),u=qr(()=>e==null?void 0:e.value),p=qr(()=>o==null?void 0:o.value),f=qr(()=>new V1(u.value));ei(p,()=>{f.value.init(),p.value.addEventListener("open.hs.overlay",y=>m.value=!0),p.value.addEventListener("close.hs.overlay",y=>m.value=!1)});const m=Oe(!1);return ei(m,y=>{y?(f.value.open(p.value),l.value.setAttribute("open","")):(f.value.close(p.value),l.value.removeAttribute("open"))}),ei(i,()=>{m.value=i.open}),ru(()=>{m.value=i.open}),(y,_)=>(Ae(),Ne("div",{ref_key:"overlayRef",ref:e},[Jt("div",{ref_key:"modalRef",ref:o,id:"hs-basic-modal",class:"hs-overlay hidden w-full h-full fixed top-0 start-0 z-[80] overflow-x-hidden overflow-y-auto pointer-events-none"},[Jt("div",Ij,[Jt("div",Lj,[Jt("div",Rj,[Jt("p",Aj,[IL(y.$slots,"default")])])])])],512)],512))}}),Oj=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}ez-header ul,ez-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}
`,Nj=Ma(zj,[["styles",[Oj]]]),Dj=Jt("input",{class:"search-btn",type:"checkbox",id:"search-btn"},null,-1),Fj={class:"wrapper"},Bj={class:"search-form"},jj={class:"input-wrapper relative"},Hj=Jt("path",{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"},null,-1),Uj=[Hj],Gj={key:0,class:"search-results"},qj=["href"],Vj=["innerHTML"],Wj=["innerHTML"],Zj={key:0},Xj=Jt("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 512 512",fill:"#fff"},[Jt("path",{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"})],-1),Yj=[Xj],Kj="https://www.googleapis.com/customsearch/v1",Jj=hs({__name:"SiteSearch.ce",props:{searchDomain:{type:String},searchKey:{type:String},searchCx:{type:String}},setup(n){const i=n,e=Oe(G(i.searchDomain||"",i.searchKey||"")),o=Oe(null),l=qr(()=>{var H;return(H=o==null?void 0:o.value)==null?void 0:H.parentNode}),u=Oe(),p=Oe(),f=Oe(""),m=Oe([]),y=Oe(0),_=Oe(!1);ru(()=>C());function E(H){console.log("open",H),H.preventDefault(),_.value=!0}function C(){var H,$;u.value=(H=l.value)==null?void 0:H.querySelector("#search-input"),u.value.value="",p.value=($=l.value)==null?void 0:$.querySelector("#search-btn"),m.value=[]}ei(_,()=>{var H;p.value&&(p.value.checked=_.value),_&&((H=u.value)==null||H.focus())});function I(){var ot;let H=(ot=u.value)==null?void 0:ot.value.replace(/ /,"%20"),$={q:H,start:H===f.value?m.value.length+1:1,key:e.value,cx:i.searchCx},j=Object.keys($).map(ft=>`${ft}=${$[ft]}`).join("&"),V=`${Kj}?${j}`;fetch(V).then(ft=>ft.json()).then(ft=>{y.value=parseInt(ft.searchInformation.totalResults);let ht=ft.items.map(ct=>{var lt;let Z=new URL(ct.link);return ct.link=`${location.origin}${((lt=window.config)==null?void 0:lt.baseurl)||""}${Z.pathname}`,ct});m.value=H!==f.value?ht:[...m.value,...ht],f.value=H||""})}function z(H){H.key==="Enter"&&I()}function B(H){H.preventDefault(),H.stopPropagation(),_.value=!1,u.value&&(u.value.value=""),f.value="",y.value=0,m.value=[]}function G(H,$){const j=ht=>ht.split("").map(ct=>ct.charCodeAt(0)),V=ht=>j(H).reduce((ct,Z)=>ct^Z,ht);let ot=$.match(/.{1,2}/g);return ot?ot.map(ht=>parseInt(ht,16)).map(V).map(ht=>String.fromCharCode(ht)).join(""):""}return(H,$)=>(Ae(),Ne("div",{ref_key:"root",ref:o,class:"search"},[Dj,Jt("div",Fj,[Jt("div",Bj,[Jt("div",jj,[Jt("input",{type:"text",id:"search-input",class:"search-input",onKeyup:z,autocomplete:"off",role:"textbox",placeholder:"Search site"},null,32)]),(Ae(),Ne("svg",{onClick:B,class:"absolute top-[12px] right-[10px] z-10 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 384 512",fill:"#000"},Uj))]),m.value.length>0?(Ae(),Ne("ul",Gj,[(Ae(!0),Ne(nn,null,Qu(m.value,(j,V)=>(Ae(),Ne("li",{key:`sr=${V}`},[Jt("a",{href:j.link},[Jt("h3",{innerHTML:j.htmlTitle},null,8,Vj),Jt("p",{innerHTML:j.htmlSnippet},null,8,Wj)],8,qj)]))),128)),y.value>m.value.length?(Ae(),Ne("li",Zj,[Jt("div",{class:"more",onClick:I},"More")])):fi("",!0)])):fi("",!0)]),Jt("label",{class:"search-icon",htmlFor:"search-btn"},[Jt("span",{onClick:E},Yj)])],512))}}),Qj=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}ez-header ul,ez-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}*{box-sizing:border-box}.search-icon{color:#fff;font-size:28px}.search-icon:hover{cursor:pointer}.search{position:relative;display:flex;align-items:center;gap:10px}.search-btn,.search-form,.wrapper{display:none}.wrapper{flex-direction:column;position:absolute;right:-4px}.search-form{display:flex;align-items:center}.search-input{height:42px;width:250px;border-radius:6px;padding:3px 10px;font-size:1rem;color:#000}.search-submit{background-color:#fff;border-radius:6px;padding:8px 8px 4px;height:24px;z-index:4}.search-submit:hover{background-color:#ddd;cursor:pointer}.search-results{position:absolute;top:42px;left:0;width:326px;max-height:50vh;overflow-y:scroll;z-index:2;background-color:#fff;margin:0 0 0 2px;list-style:none;padding:6px;border-radius:6px;font-size:.9rem;box-shadow:0 6px 20px #00000030}.search-results li:nth-of-type(2n){background-color:#e6e6df}.search-results li{padding:6px;margin:3px;border:1px solid #E6E6DF}.search-results li h3,.search-results li p{margin:8px 0}.search-results li a{text-decoration:none;color:#444}.search-results li a h3{font-weight:700}.search-results li a p{font-weight:300}.search-results li:hover{cursor:pointer;box-shadow:0 4px 8px #0003}.search-btn:checked~.wrapper .search-form{display:flex;width:100%}.search-btn:checked~.wrapper{display:flex}.input-wrapper{display:inline-block;position:relative}
`,$j=Ma(Jj,[["styles",[Qj]]]);sI(()=>import("./preline-7d6f83a6.js").then(n=>n.p),[]);function t7(){customElements.define("ez-breadcrumbs",Ds(jA)),customElements.define("ez-entity-infobox",Ds(aO)),customElements.define("ez-footer",Ds(RO)),customElements.define("ez-header",Ds(rN)),customElements.define("ez-image",Ds(dN)),customElements.define("ez-manifest",Ds(l3)),customElements.define("ez-manifest-popup",Ds(v3)),customElements.define("ez-map",Ds(dj)),customElements.define("ez-menu",Ds(Pj)),customElements.define("ez-meta",Ds(Mj)),customElements.define("ez-modal",Ds(Nj)),customElements.define("ez-site-search",Ds($j))}console.log("mdpress: version=0.1.0");t7();export{GS as g};
