var sL=Object.defineProperty;var aL=(n,r,t)=>r in n?sL(n,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[r]=t;var li=(n,r,t)=>(aL(n,typeof r!="symbol"?r+"":r,t),t),lL=(n,r,t)=>{if(!r.has(n))throw TypeError("Cannot "+t)};var uw=(n,r,t)=>{if(r.has(n))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(n):r.set(n,t)};var z0=(n,r,t)=>(lL(n,r,"access private method"),t);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function t(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=t(l);fetch(l.href,u)}})();const cL="modulepreload",uL=function(n){return"/mdpress/mdpress/dist/"+n},IE={},hL=function(r,t,o){if(!t||t.length===0)return r();const l=document.getElementsByTagName("link");return Promise.all(t.map(u=>{if(u=uL(u),u in IE)return;IE[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(!!o)for(let _=l.length-1;_>=0;_--){const k=l[_];if(k.href===u&&(!d||k.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const v=document.createElement("link");if(v.rel=d?"stylesheet":cL,d||(v.as="script",v.crossOrigin=""),v.href=u,document.head.appendChild(v),d)return new Promise((_,k)=>{v.addEventListener("load",_),v.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${u}`)))})})).then(()=>r()).catch(u=>{const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u})};function F1(n,r){const t=Object.create(null),o=n.split(",");for(let l=0;l<o.length;l++)t[o[l]]=!0;return r?l=>!!t[l.toLowerCase()]:l=>!!t[l]}const Di={},ip=[],La=()=>{},dL=()=>!1,pL=/^on[^a-z]/,py=n=>pL.test(n),B1=n=>n.startsWith("onUpdate:"),Mn=Object.assign,j1=(n,r)=>{const t=n.indexOf(r);t>-1&&n.splice(t,1)},fL=Object.prototype.hasOwnProperty,si=(n,r)=>fL.call(n,r),nr=Array.isArray,np=n=>fy(n)==="[object Map]",WT=n=>fy(n)==="[object Set]",Wr=n=>typeof n=="function",In=n=>typeof n=="string",H1=n=>typeof n=="symbol",Yi=n=>n!==null&&typeof n=="object",ZT=n=>Yi(n)&&Wr(n.then)&&Wr(n.catch),YT=Object.prototype.toString,fy=n=>YT.call(n),gL=n=>fy(n).slice(8,-1),XT=n=>fy(n)==="[object Object]",U1=n=>In(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,hv=F1(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),gy=n=>{const r=Object.create(null);return t=>r[t]||(r[t]=n(t))},mL=/-(\w)/g,ic=gy(n=>n.replace(mL,(r,t)=>t?t.toUpperCase():"")),vL=/\B([A-Z])/g,Sa=gy(n=>n.replace(vL,"-$1").toLowerCase()),KT=gy(n=>n.charAt(0).toUpperCase()+n.slice(1)),hw=gy(n=>n?`on${KT(n)}`:""),kg=(n,r)=>!Object.is(n,r),dw=(n,r)=>{for(let t=0;t<n.length;t++)n[t](r)},Tv=(n,r,t)=>{Object.defineProperty(n,r,{configurable:!0,enumerable:!1,value:t})},yL=n=>{const r=parseFloat(n);return isNaN(r)?n:r},LE=n=>{const r=In(n)?Number(n):NaN;return isNaN(r)?n:r};let RE;const Xw=()=>RE||(RE=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function au(n){if(nr(n)){const r={};for(let t=0;t<n.length;t++){const o=n[t],l=In(o)?_L(o):au(o);if(l)for(const u in l)r[u]=l[u]}return r}else{if(In(n))return n;if(Yi(n))return n}}const bL=/;(?![^(]*\))/g,wL=/:([^]+)/,xL=/\/\*[^]*?\*\//g;function _L(n){const r={};return n.replace(xL,"").split(bL).forEach(t=>{if(t){const o=t.split(wL);o.length>1&&(r[o[0].trim()]=o[1].trim())}}),r}function $g(n){let r="";if(In(n))r=n;else if(nr(n))for(let t=0;t<n.length;t++){const o=$g(n[t]);o&&(r+=o+" ")}else if(Yi(n))for(const t in n)n[t]&&(r+=t+" ");return r.trim()}const kL="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",EL=F1(kL);function JT(n){return!!n||n===""}const Sv=n=>In(n)?n:n==null?"":nr(n)||Yi(n)&&(n.toString===YT||!Wr(n.toString))?JSON.stringify(n,QT,2):String(n),QT=(n,r)=>r&&r.__v_isRef?QT(n,r.value):np(r)?{[`Map(${r.size})`]:[...r.entries()].reduce((t,[o,l])=>(t[`${o} =>`]=l,t),{})}:WT(r)?{[`Set(${r.size})`]:[...r.values()]}:Yi(r)&&!nr(r)&&!XT(r)?String(r):r;let Ta;class TL{constructor(r=!1){this.detached=r,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ta,!r&&Ta&&(this.index=(Ta.scopes||(Ta.scopes=[])).push(this)-1)}get active(){return this._active}run(r){if(this._active){const t=Ta;try{return Ta=this,r()}finally{Ta=t}}}on(){Ta=this}off(){Ta=this.parent}stop(r){if(this._active){let t,o;for(t=0,o=this.effects.length;t<o;t++)this.effects[t].stop();for(t=0,o=this.cleanups.length;t<o;t++)this.cleanups[t]();if(this.scopes)for(t=0,o=this.scopes.length;t<o;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!r){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.parent=void 0,this._active=!1}}}function SL(n,r=Ta){r&&r.active&&r.effects.push(n)}function CL(){return Ta}const G1=n=>{const r=new Set(n);return r.w=0,r.n=0,r},$T=n=>(n.w&lu)>0,tS=n=>(n.n&lu)>0,PL=({deps:n})=>{if(n.length)for(let r=0;r<n.length;r++)n[r].w|=lu},ML=n=>{const{deps:r}=n;if(r.length){let t=0;for(let o=0;o<r.length;o++){const l=r[o];$T(l)&&!tS(l)?l.delete(n):r[t++]=l,l.w&=~lu,l.n&=~lu}r.length=t}},Kw=new WeakMap;let ng=0,lu=1;const Jw=30;let Ca;const gh=Symbol(""),Qw=Symbol("");class q1{constructor(r,t=null,o){this.fn=r,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,SL(this,o)}run(){if(!this.active)return this.fn();let r=Ca,t=ru;for(;r;){if(r===this)return;r=r.parent}try{return this.parent=Ca,Ca=this,ru=!0,lu=1<<++ng,ng<=Jw?PL(this):AE(this),this.fn()}finally{ng<=Jw&&ML(this),lu=1<<--ng,Ca=this.parent,ru=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ca===this?this.deferStop=!0:this.active&&(AE(this),this.onStop&&this.onStop(),this.active=!1)}}function AE(n){const{deps:r}=n;if(r.length){for(let t=0;t<r.length;t++)r[t].delete(n);r.length=0}}let ru=!0;const eS=[];function Tp(){eS.push(ru),ru=!1}function Sp(){const n=eS.pop();ru=n===void 0?!0:n}function $o(n,r,t){if(ru&&Ca){let o=Kw.get(n);o||Kw.set(n,o=new Map);let l=o.get(t);l||o.set(t,l=G1()),rS(l)}}function rS(n,r){let t=!1;ng<=Jw?tS(n)||(n.n|=lu,t=!$T(n)):t=!n.has(Ca),t&&(n.add(Ca),Ca.deps.push(n))}function sc(n,r,t,o,l,u){const d=Kw.get(n);if(!d)return;let f=[];if(r==="clear")f=[...d.values()];else if(t==="length"&&nr(n)){const m=Number(o);d.forEach((v,_)=>{(_==="length"||_>=m)&&f.push(v)})}else switch(t!==void 0&&f.push(d.get(t)),r){case"add":nr(n)?U1(t)&&f.push(d.get("length")):(f.push(d.get(gh)),np(n)&&f.push(d.get(Qw)));break;case"delete":nr(n)||(f.push(d.get(gh)),np(n)&&f.push(d.get(Qw)));break;case"set":np(n)&&f.push(d.get(gh));break}if(f.length===1)f[0]&&$w(f[0]);else{const m=[];for(const v of f)v&&m.push(...v);$w(G1(m))}}function $w(n,r){const t=nr(n)?n:[...n];for(const o of t)o.computed&&OE(o);for(const o of t)o.computed||OE(o)}function OE(n,r){(n!==Ca||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const IL=F1("__proto__,__v_isRef,__isVue"),iS=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(H1)),LL=V1(),RL=V1(!1,!0),AL=V1(!0),zE=OL();function OL(){const n={};return["includes","indexOf","lastIndexOf"].forEach(r=>{n[r]=function(...t){const o=ti(this);for(let u=0,d=this.length;u<d;u++)$o(o,"get",u+"");const l=o[r](...t);return l===-1||l===!1?o[r](...t.map(ti)):l}}),["push","pop","shift","unshift","splice"].forEach(r=>{n[r]=function(...t){Tp();const o=ti(this)[r].apply(this,t);return Sp(),o}}),n}function zL(n){const r=ti(this);return $o(r,"has",n),r.hasOwnProperty(n)}function V1(n=!1,r=!1){return function(o,l,u){if(l==="__v_isReactive")return!n;if(l==="__v_isReadonly")return n;if(l==="__v_isShallow")return r;if(l==="__v_raw"&&u===(n?r?JL:lS:r?aS:sS).get(o))return o;const d=nr(o);if(!n){if(d&&si(zE,l))return Reflect.get(zE,l,u);if(l==="hasOwnProperty")return zL}const f=Reflect.get(o,l,u);return(H1(l)?iS.has(l):IL(l))||(n||$o(o,"get",l),r)?f:fo(f)?d&&U1(l)?f:f.value:Yi(f)?n?cS(f):Y1(f):f}}const NL=nS(),DL=nS(!0);function nS(n=!1){return function(t,o,l,u){let d=t[o];if(cp(d)&&fo(d)&&!fo(l))return!1;if(!n&&(!Cv(l)&&!cp(l)&&(d=ti(d),l=ti(l)),!nr(t)&&fo(d)&&!fo(l)))return d.value=l,!0;const f=nr(t)&&U1(o)?Number(o)<t.length:si(t,o),m=Reflect.set(t,o,l,u);return t===ti(u)&&(f?kg(l,d)&&sc(t,"set",o,l):sc(t,"add",o,l)),m}}function FL(n,r){const t=si(n,r);n[r];const o=Reflect.deleteProperty(n,r);return o&&t&&sc(n,"delete",r,void 0),o}function BL(n,r){const t=Reflect.has(n,r);return(!H1(r)||!iS.has(r))&&$o(n,"has",r),t}function jL(n){return $o(n,"iterate",nr(n)?"length":gh),Reflect.ownKeys(n)}const oS={get:LL,set:NL,deleteProperty:FL,has:BL,ownKeys:jL},HL={get:AL,set(n,r){return!0},deleteProperty(n,r){return!0}},UL=Mn({},oS,{get:RL,set:DL}),W1=n=>n,my=n=>Reflect.getPrototypeOf(n);function N0(n,r,t=!1,o=!1){n=n.__v_raw;const l=ti(n),u=ti(r);t||(r!==u&&$o(l,"get",r),$o(l,"get",u));const{has:d}=my(l),f=o?W1:t?K1:Eg;if(d.call(l,r))return f(n.get(r));if(d.call(l,u))return f(n.get(u));n!==l&&n.get(r)}function D0(n,r=!1){const t=this.__v_raw,o=ti(t),l=ti(n);return r||(n!==l&&$o(o,"has",n),$o(o,"has",l)),n===l?t.has(n):t.has(n)||t.has(l)}function F0(n,r=!1){return n=n.__v_raw,!r&&$o(ti(n),"iterate",gh),Reflect.get(n,"size",n)}function NE(n){n=ti(n);const r=ti(this);return my(r).has.call(r,n)||(r.add(n),sc(r,"add",n,n)),this}function DE(n,r){r=ti(r);const t=ti(this),{has:o,get:l}=my(t);let u=o.call(t,n);u||(n=ti(n),u=o.call(t,n));const d=l.call(t,n);return t.set(n,r),u?kg(r,d)&&sc(t,"set",n,r):sc(t,"add",n,r),this}function FE(n){const r=ti(this),{has:t,get:o}=my(r);let l=t.call(r,n);l||(n=ti(n),l=t.call(r,n)),o&&o.call(r,n);const u=r.delete(n);return l&&sc(r,"delete",n,void 0),u}function BE(){const n=ti(this),r=n.size!==0,t=n.clear();return r&&sc(n,"clear",void 0,void 0),t}function B0(n,r){return function(o,l){const u=this,d=u.__v_raw,f=ti(d),m=r?W1:n?K1:Eg;return!n&&$o(f,"iterate",gh),d.forEach((v,_)=>o.call(l,m(v),m(_),u))}}function j0(n,r,t){return function(...o){const l=this.__v_raw,u=ti(l),d=np(u),f=n==="entries"||n===Symbol.iterator&&d,m=n==="keys"&&d,v=l[n](...o),_=t?W1:r?K1:Eg;return!r&&$o(u,"iterate",m?Qw:gh),{next(){const{value:k,done:C}=v.next();return C?{value:k,done:C}:{value:f?[_(k[0]),_(k[1])]:_(k),done:C}},[Symbol.iterator](){return this}}}}function Jc(n){return function(...r){return n==="delete"?!1:this}}function GL(){const n={get(u){return N0(this,u)},get size(){return F0(this)},has:D0,add:NE,set:DE,delete:FE,clear:BE,forEach:B0(!1,!1)},r={get(u){return N0(this,u,!1,!0)},get size(){return F0(this)},has:D0,add:NE,set:DE,delete:FE,clear:BE,forEach:B0(!1,!0)},t={get(u){return N0(this,u,!0)},get size(){return F0(this,!0)},has(u){return D0.call(this,u,!0)},add:Jc("add"),set:Jc("set"),delete:Jc("delete"),clear:Jc("clear"),forEach:B0(!0,!1)},o={get(u){return N0(this,u,!0,!0)},get size(){return F0(this,!0)},has(u){return D0.call(this,u,!0)},add:Jc("add"),set:Jc("set"),delete:Jc("delete"),clear:Jc("clear"),forEach:B0(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{n[u]=j0(u,!1,!1),t[u]=j0(u,!0,!1),r[u]=j0(u,!1,!0),o[u]=j0(u,!0,!0)}),[n,t,r,o]}const[qL,VL,WL,ZL]=GL();function Z1(n,r){const t=r?n?ZL:WL:n?VL:qL;return(o,l,u)=>l==="__v_isReactive"?!n:l==="__v_isReadonly"?n:l==="__v_raw"?o:Reflect.get(si(t,l)&&l in o?t:o,l,u)}const YL={get:Z1(!1,!1)},XL={get:Z1(!1,!0)},KL={get:Z1(!0,!1)},sS=new WeakMap,aS=new WeakMap,lS=new WeakMap,JL=new WeakMap;function QL(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function $L(n){return n.__v_skip||!Object.isExtensible(n)?0:QL(gL(n))}function Y1(n){return cp(n)?n:X1(n,!1,oS,YL,sS)}function t5(n){return X1(n,!1,UL,XL,aS)}function cS(n){return X1(n,!0,HL,KL,lS)}function X1(n,r,t,o,l){if(!Yi(n)||n.__v_raw&&!(r&&n.__v_isReactive))return n;const u=l.get(n);if(u)return u;const d=$L(n);if(d===0)return n;const f=new Proxy(n,d===2?o:t);return l.set(n,f),f}function op(n){return cp(n)?op(n.__v_raw):!!(n&&n.__v_isReactive)}function cp(n){return!!(n&&n.__v_isReadonly)}function Cv(n){return!!(n&&n.__v_isShallow)}function uS(n){return op(n)||cp(n)}function ti(n){const r=n&&n.__v_raw;return r?ti(r):n}function hS(n){return Tv(n,"__v_skip",!0),n}const Eg=n=>Yi(n)?Y1(n):n,K1=n=>Yi(n)?cS(n):n;function dS(n){ru&&Ca&&(n=ti(n),rS(n.dep||(n.dep=G1())))}function pS(n,r){n=ti(n);const t=n.dep;t&&$w(t)}function fo(n){return!!(n&&n.__v_isRef===!0)}function me(n){return e5(n,!1)}function e5(n,r){return fo(n)?n:new r5(n,r)}class r5{constructor(r,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?r:ti(r),this._value=t?r:Eg(r)}get value(){return dS(this),this._value}set value(r){const t=this.__v_isShallow||Cv(r)||cp(r);r=t?r:ti(r),kg(r,this._rawValue)&&(this._rawValue=r,this._value=t?r:Eg(r),pS(this))}}function i5(n){return fo(n)?n.value:n}const n5={get:(n,r,t)=>i5(Reflect.get(n,r,t)),set:(n,r,t,o)=>{const l=n[r];return fo(l)&&!fo(t)?(l.value=t,!0):Reflect.set(n,r,t,o)}};function fS(n){return op(n)?n:new Proxy(n,n5)}class o5{constructor(r,t,o,l){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new q1(r,()=>{this._dirty||(this._dirty=!0,pS(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!l,this.__v_isReadonly=o}get value(){const r=ti(this);return dS(r),(r._dirty||!r._cacheable)&&(r._dirty=!1,r._value=r.effect.run()),r._value}set value(r){this._setter(r)}}function s5(n,r,t=!1){let o,l;const u=Wr(n);return u?(o=n,l=La):(o=n.get,l=n.set),new o5(o,l,u||!l,t)}function iu(n,r,t,o){let l;try{l=o?n(...o):n()}catch(u){vy(u,r,t)}return l}function Ra(n,r,t,o){if(Wr(n)){const u=iu(n,r,t,o);return u&&ZT(u)&&u.catch(d=>{vy(d,r,t)}),u}const l=[];for(let u=0;u<n.length;u++)l.push(Ra(n[u],r,t,o));return l}function vy(n,r,t,o=!0){const l=r?r.vnode:null;if(r){let u=r.parent;const d=r.proxy,f=t;for(;u;){const v=u.ec;if(v){for(let _=0;_<v.length;_++)if(v[_](n,d,f)===!1)return}u=u.parent}const m=r.appContext.config.errorHandler;if(m){iu(m,null,10,[n,d,f]);return}}a5(n,t,l,o)}function a5(n,r,t,o=!0){console.error(n)}let Tg=!1,t1=!1;const ho=[];let ll=0;const sp=[];let Ql=null,hh=0;const gS=Promise.resolve();let J1=null;function Q1(n){const r=J1||gS;return n?r.then(this?n.bind(this):n):r}function l5(n){let r=ll+1,t=ho.length;for(;r<t;){const o=r+t>>>1;Sg(ho[o])<n?r=o+1:t=o}return r}function $1(n){(!ho.length||!ho.includes(n,Tg&&n.allowRecurse?ll+1:ll))&&(n.id==null?ho.push(n):ho.splice(l5(n.id),0,n),mS())}function mS(){!Tg&&!t1&&(t1=!0,J1=gS.then(yS))}function c5(n){const r=ho.indexOf(n);r>ll&&ho.splice(r,1)}function u5(n){nr(n)?sp.push(...n):(!Ql||!Ql.includes(n,n.allowRecurse?hh+1:hh))&&sp.push(n),mS()}function jE(n,r=Tg?ll+1:0){for(;r<ho.length;r++){const t=ho[r];t&&t.pre&&(ho.splice(r,1),r--,t())}}function vS(n){if(sp.length){const r=[...new Set(sp)];if(sp.length=0,Ql){Ql.push(...r);return}for(Ql=r,Ql.sort((t,o)=>Sg(t)-Sg(o)),hh=0;hh<Ql.length;hh++)Ql[hh]();Ql=null,hh=0}}const Sg=n=>n.id==null?1/0:n.id,h5=(n,r)=>{const t=Sg(n)-Sg(r);if(t===0){if(n.pre&&!r.pre)return-1;if(r.pre&&!n.pre)return 1}return t};function yS(n){t1=!1,Tg=!0,ho.sort(h5);const r=La;try{for(ll=0;ll<ho.length;ll++){const t=ho[ll];t&&t.active!==!1&&iu(t,null,14)}}finally{ll=0,ho.length=0,vS(),Tg=!1,J1=null,(ho.length||sp.length)&&yS()}}function d5(n,r,...t){if(n.isUnmounted)return;const o=n.vnode.props||Di;let l=t;const u=r.startsWith("update:"),d=u&&r.slice(7);if(d&&d in o){const _=`${d==="modelValue"?"model":d}Modifiers`,{number:k,trim:C}=o[_]||Di;C&&(l=t.map(M=>In(M)?M.trim():M)),k&&(l=t.map(yL))}let f,m=o[f=hw(r)]||o[f=hw(ic(r))];!m&&u&&(m=o[f=hw(Sa(r))]),m&&Ra(m,n,6,l);const v=o[f+"Once"];if(v){if(!n.emitted)n.emitted={};else if(n.emitted[f])return;n.emitted[f]=!0,Ra(v,n,6,l)}}function bS(n,r,t=!1){const o=r.emitsCache,l=o.get(n);if(l!==void 0)return l;const u=n.emits;let d={},f=!1;if(!Wr(n)){const m=v=>{const _=bS(v,r,!0);_&&(f=!0,Mn(d,_))};!t&&r.mixins.length&&r.mixins.forEach(m),n.extends&&m(n.extends),n.mixins&&n.mixins.forEach(m)}return!u&&!f?(Yi(n)&&o.set(n,null),null):(nr(u)?u.forEach(m=>d[m]=null):Mn(d,u),Yi(n)&&o.set(n,d),d)}function yy(n,r){return!n||!py(r)?!1:(r=r.slice(2).replace(/Once$/,""),si(n,r[0].toLowerCase()+r.slice(1))||si(n,Sa(r))||si(n,r))}let Xo=null,by=null;function Pv(n){const r=Xo;return Xo=n,by=n&&n.type.__scopeId||null,r}function p5(n){by=n}function f5(){by=null}function g5(n,r=Xo,t){if(!r||n._n)return n;const o=(...l)=>{o._d&&KE(-1);const u=Pv(r);let d;try{d=n(...l)}finally{Pv(u),o._d&&KE(1)}return d};return o._n=!0,o._c=!0,o._d=!0,o}function pw(n){const{type:r,vnode:t,proxy:o,withProxy:l,props:u,propsOptions:[d],slots:f,attrs:m,emit:v,render:_,renderCache:k,data:C,setupState:M,ctx:A,inheritAttrs:F}=n;let G,H;const W=Pv(n);try{if(t.shapeFlag&4){const V=l||o;G=al(_.call(V,V,k,u,M,C,A)),H=m}else{const V=r;G=al(V.length>1?V(u,{attrs:m,slots:f,emit:v}):V(u,null)),H=r.props?m:m5(m)}}catch(V){pg.length=0,vy(V,n,1),G=Aa(cu)}let j=G;if(H&&F!==!1){const V=Object.keys(H),{shapeFlag:nt}=j;V.length&&nt&7&&(d&&V.some(B1)&&(H=v5(H,d)),j=up(j,H))}return t.dirs&&(j=up(j),j.dirs=j.dirs?j.dirs.concat(t.dirs):t.dirs),t.transition&&(j.transition=t.transition),G=j,Pv(W),G}const m5=n=>{let r;for(const t in n)(t==="class"||t==="style"||py(t))&&((r||(r={}))[t]=n[t]);return r},v5=(n,r)=>{const t={};for(const o in n)(!B1(o)||!(o.slice(9)in r))&&(t[o]=n[o]);return t};function y5(n,r,t){const{props:o,children:l,component:u}=n,{props:d,children:f,patchFlag:m}=r,v=u.emitsOptions;if(r.dirs||r.transition)return!0;if(t&&m>=0){if(m&1024)return!0;if(m&16)return o?HE(o,d,v):!!d;if(m&8){const _=r.dynamicProps;for(let k=0;k<_.length;k++){const C=_[k];if(d[C]!==o[C]&&!yy(v,C))return!0}}}else return(l||f)&&(!f||!f.$stable)?!0:o===d?!1:o?d?HE(o,d,v):!0:!!d;return!1}function HE(n,r,t){const o=Object.keys(r);if(o.length!==Object.keys(n).length)return!0;for(let l=0;l<o.length;l++){const u=o[l];if(r[u]!==n[u]&&!yy(t,u))return!0}return!1}function b5({vnode:n,parent:r},t){for(;r&&r.subTree===n;)(n=r.vnode).el=t,r=r.parent}const w5=n=>n.__isSuspense;function x5(n,r){r&&r.pendingBranch?nr(n)?r.effects.push(...n):r.effects.push(n):u5(n)}const H0={};function er(n,r,t){return wS(n,r,t)}function wS(n,r,{immediate:t,deep:o,flush:l,onTrack:u,onTrigger:d}=Di){var f;const m=CL()===((f=po)==null?void 0:f.scope)?po:null;let v,_=!1,k=!1;if(fo(n)?(v=()=>n.value,_=Cv(n)):op(n)?(v=()=>n,o=!0):nr(n)?(k=!0,_=n.some(V=>op(V)||Cv(V)),v=()=>n.map(V=>{if(fo(V))return V.value;if(op(V))return Qd(V);if(Wr(V))return iu(V,m,2)})):Wr(n)?r?v=()=>iu(n,m,2):v=()=>{if(!(m&&m.isUnmounted))return C&&C(),Ra(n,m,3,[M])}:v=La,r&&o){const V=v;v=()=>Qd(V())}let C,M=V=>{C=W.onStop=()=>{iu(V,m,4)}},A;if(Pg)if(M=La,r?t&&Ra(r,m,3,[v(),k?[]:void 0,M]):v(),l==="sync"){const V=fR();A=V.__watcherHandles||(V.__watcherHandles=[])}else return La;let F=k?new Array(n.length).fill(H0):H0;const G=()=>{if(W.active)if(r){const V=W.run();(o||_||(k?V.some((nt,gt)=>kg(nt,F[gt])):kg(V,F)))&&(C&&C(),Ra(r,m,3,[V,F===H0?void 0:k&&F[0]===H0?[]:F,M]),F=V)}else W.run()};G.allowRecurse=!!r;let H;l==="sync"?H=G:l==="post"?H=()=>Wo(G,m&&m.suspense):(G.pre=!0,m&&(G.id=m.uid),H=()=>$1(G));const W=new q1(v,H);r?t?G():F=W.run():l==="post"?Wo(W.run.bind(W),m&&m.suspense):W.run();const j=()=>{W.stop(),m&&m.scope&&j1(m.scope.effects,W)};return A&&A.push(j),j}function _5(n,r,t){const o=this.proxy,l=In(n)?n.includes(".")?xS(o,n):()=>o[n]:n.bind(o,o);let u;Wr(r)?u=r:(u=r.handler,t=r);const d=po;hp(this);const f=wS(l,u.bind(o),t);return d?hp(d):mh(),f}function xS(n,r){const t=r.split(".");return()=>{let o=n;for(let l=0;l<t.length&&o;l++)o=o[t[l]];return o}}function Qd(n,r){if(!Yi(n)||n.__v_skip||(r=r||new Set,r.has(n)))return n;if(r.add(n),fo(n))Qd(n.value,r);else if(nr(n))for(let t=0;t<n.length;t++)Qd(n[t],r);else if(WT(n)||np(n))n.forEach(t=>{Qd(t,r)});else if(XT(n))for(const t in n)Qd(n[t],r);return n}function lh(n,r,t,o){const l=n.dirs,u=r&&r.dirs;for(let d=0;d<l.length;d++){const f=l[d];u&&(f.oldValue=u[d].value);let m=f.dir[o];m&&(Tp(),Ra(m,t,8,[n.el,f,n,r]),Sp())}}function Ro(n,r){return Wr(n)?(()=>Mn({name:n.name},r,{setup:n}))():n}const hg=n=>!!n.type.__asyncLoader,_S=n=>n.type.__isKeepAlive;function k5(n,r){kS(n,"a",r)}function E5(n,r){kS(n,"da",r)}function kS(n,r,t=po){const o=n.__wdc||(n.__wdc=()=>{let l=t;for(;l;){if(l.isDeactivated)return;l=l.parent}return n()});if(wy(r,o,t),t){let l=t.parent;for(;l&&l.parent;)_S(l.parent.vnode)&&T5(o,r,t,l),l=l.parent}}function T5(n,r,t,o){const l=wy(r,n,o,!0);ES(()=>{j1(o[r],l)},t)}function wy(n,r,t=po,o=!1){if(t){const l=t[n]||(t[n]=[]),u=r.__weh||(r.__weh=(...d)=>{if(t.isUnmounted)return;Tp(),hp(t);const f=Ra(r,t,n,d);return mh(),Sp(),f});return o?l.unshift(u):l.push(u),u}}const uc=n=>(r,t=po)=>(!Pg||n==="sp")&&wy(n,(...o)=>r(...o),t),S5=uc("bm"),ta=uc("m"),C5=uc("bu"),P5=uc("u"),M5=uc("bum"),ES=uc("um"),I5=uc("sp"),L5=uc("rtg"),R5=uc("rtc");function A5(n,r=po){wy("ec",n,r)}const O5=Symbol.for("v-ndc");function nu(n,r,t,o){let l;const u=t&&t[o];if(nr(n)||In(n)){l=new Array(n.length);for(let d=0,f=n.length;d<f;d++)l[d]=r(n[d],d,void 0,u&&u[d])}else if(typeof n=="number"){l=new Array(n);for(let d=0;d<n;d++)l[d]=r(d+1,d,void 0,u&&u[d])}else if(Yi(n))if(n[Symbol.iterator])l=Array.from(n,(d,f)=>r(d,f,void 0,u&&u[f]));else{const d=Object.keys(n);l=new Array(d.length);for(let f=0,m=d.length;f<m;f++){const v=d[f];l[f]=r(n[v],v,f,u&&u[f])}}else l=[];return t&&(t[o]=l),l}function z5(n,r,t={},o,l){if(Xo.isCE||Xo.parent&&hg(Xo.parent)&&Xo.parent.isCE)return r!=="default"&&(t.name=r),Aa("slot",t,o&&o());let u=n[r];u&&u._c&&(u._d=!1),ke();const d=u&&TS(u(t)),f=zS(Fi,{key:t.key||d&&d.key||`_${r}`},d||(o?o():[]),d&&n._===1?64:-2);return!l&&f.scopeId&&(f.slotScopeIds=[f.scopeId+"-s"]),u&&u._c&&(u._d=!0),f}function TS(n){return n.some(r=>NS(r)?!(r.type===cu||r.type===Fi&&!TS(r.children)):!0)?n:null}const e1=n=>n?FS(n)?nx(n)||n.proxy:e1(n.parent):null,dg=Mn(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>e1(n.parent),$root:n=>e1(n.root),$emit:n=>n.emit,$options:n=>tx(n),$forceUpdate:n=>n.f||(n.f=()=>$1(n.update)),$nextTick:n=>n.n||(n.n=Q1.bind(n.proxy)),$watch:n=>_5.bind(n)}),fw=(n,r)=>n!==Di&&!n.__isScriptSetup&&si(n,r),N5={get({_:n},r){const{ctx:t,setupState:o,data:l,props:u,accessCache:d,type:f,appContext:m}=n;let v;if(r[0]!=="$"){const M=d[r];if(M!==void 0)switch(M){case 1:return o[r];case 2:return l[r];case 4:return t[r];case 3:return u[r]}else{if(fw(o,r))return d[r]=1,o[r];if(l!==Di&&si(l,r))return d[r]=2,l[r];if((v=n.propsOptions[0])&&si(v,r))return d[r]=3,u[r];if(t!==Di&&si(t,r))return d[r]=4,t[r];r1&&(d[r]=0)}}const _=dg[r];let k,C;if(_)return r==="$attrs"&&$o(n,"get",r),_(n);if((k=f.__cssModules)&&(k=k[r]))return k;if(t!==Di&&si(t,r))return d[r]=4,t[r];if(C=m.config.globalProperties,si(C,r))return C[r]},set({_:n},r,t){const{data:o,setupState:l,ctx:u}=n;return fw(l,r)?(l[r]=t,!0):o!==Di&&si(o,r)?(o[r]=t,!0):si(n.props,r)||r[0]==="$"&&r.slice(1)in n?!1:(u[r]=t,!0)},has({_:{data:n,setupState:r,accessCache:t,ctx:o,appContext:l,propsOptions:u}},d){let f;return!!t[d]||n!==Di&&si(n,d)||fw(r,d)||(f=u[0])&&si(f,d)||si(o,d)||si(dg,d)||si(l.config.globalProperties,d)},defineProperty(n,r,t){return t.get!=null?n._.accessCache[r]=0:si(t,"value")&&this.set(n,r,t.value,null),Reflect.defineProperty(n,r,t)}};function UE(n){return nr(n)?n.reduce((r,t)=>(r[t]=null,r),{}):n}let r1=!0;function D5(n){const r=tx(n),t=n.proxy,o=n.ctx;r1=!1,r.beforeCreate&&GE(r.beforeCreate,n,"bc");const{data:l,computed:u,methods:d,watch:f,provide:m,inject:v,created:_,beforeMount:k,mounted:C,beforeUpdate:M,updated:A,activated:F,deactivated:G,beforeDestroy:H,beforeUnmount:W,destroyed:j,unmounted:V,render:nt,renderTracked:gt,renderTriggered:pt,errorCaptured:ct,serverPrefetch:Z,expose:at,inheritAttrs:ft,components:vt,directives:Qt,filters:re}=r;if(v&&F5(v,o,null),d)for(const ce in d){const Jt=d[ce];Wr(Jt)&&(o[ce]=Jt.bind(t))}if(l){const ce=l.call(t,t);Yi(ce)&&(n.data=Y1(ce))}if(r1=!0,u)for(const ce in u){const Jt=u[ce],tr=Wr(Jt)?Jt.bind(t,t):Wr(Jt.get)?Jt.get.bind(t,t):La,xt=!Wr(Jt)&&Wr(Jt.set)?Jt.set.bind(t):La,Nt=Xe({get:tr,set:xt});Object.defineProperty(o,ce,{enumerable:!0,configurable:!0,get:()=>Nt.value,set:Vt=>Nt.value=Vt})}if(f)for(const ce in f)SS(f[ce],o,t,ce);if(m){const ce=Wr(m)?m.call(t):m;Reflect.ownKeys(ce).forEach(Jt=>{q5(Jt,ce[Jt])})}_&&GE(_,n,"c");function Gt(ce,Jt){nr(Jt)?Jt.forEach(tr=>ce(tr.bind(t))):Jt&&ce(Jt.bind(t))}if(Gt(S5,k),Gt(ta,C),Gt(C5,M),Gt(P5,A),Gt(k5,F),Gt(E5,G),Gt(A5,ct),Gt(R5,gt),Gt(L5,pt),Gt(M5,W),Gt(ES,V),Gt(I5,Z),nr(at))if(at.length){const ce=n.exposed||(n.exposed={});at.forEach(Jt=>{Object.defineProperty(ce,Jt,{get:()=>t[Jt],set:tr=>t[Jt]=tr})})}else n.exposed||(n.exposed={});nt&&n.render===La&&(n.render=nt),ft!=null&&(n.inheritAttrs=ft),vt&&(n.components=vt),Qt&&(n.directives=Qt)}function F5(n,r,t=La){nr(n)&&(n=i1(n));for(const o in n){const l=n[o];let u;Yi(l)?"default"in l?u=dv(l.from||o,l.default,!0):u=dv(l.from||o):u=dv(l),fo(u)?Object.defineProperty(r,o,{enumerable:!0,configurable:!0,get:()=>u.value,set:d=>u.value=d}):r[o]=u}}function GE(n,r,t){Ra(nr(n)?n.map(o=>o.bind(r.proxy)):n.bind(r.proxy),r,t)}function SS(n,r,t,o){const l=o.includes(".")?xS(t,o):()=>t[o];if(In(n)){const u=r[n];Wr(u)&&er(l,u)}else if(Wr(n))er(l,n.bind(t));else if(Yi(n))if(nr(n))n.forEach(u=>SS(u,r,t,o));else{const u=Wr(n.handler)?n.handler.bind(t):r[n.handler];Wr(u)&&er(l,u,n)}}function tx(n){const r=n.type,{mixins:t,extends:o}=r,{mixins:l,optionsCache:u,config:{optionMergeStrategies:d}}=n.appContext,f=u.get(r);let m;return f?m=f:!l.length&&!t&&!o?m=r:(m={},l.length&&l.forEach(v=>Mv(m,v,d,!0)),Mv(m,r,d)),Yi(r)&&u.set(r,m),m}function Mv(n,r,t,o=!1){const{mixins:l,extends:u}=r;u&&Mv(n,u,t,!0),l&&l.forEach(d=>Mv(n,d,t,!0));for(const d in r)if(!(o&&d==="expose")){const f=B5[d]||t&&t[d];n[d]=f?f(n[d],r[d]):r[d]}return n}const B5={data:qE,props:VE,emits:VE,methods:og,computed:og,beforeCreate:Po,created:Po,beforeMount:Po,mounted:Po,beforeUpdate:Po,updated:Po,beforeDestroy:Po,beforeUnmount:Po,destroyed:Po,unmounted:Po,activated:Po,deactivated:Po,errorCaptured:Po,serverPrefetch:Po,components:og,directives:og,watch:H5,provide:qE,inject:j5};function qE(n,r){return r?n?function(){return Mn(Wr(n)?n.call(this,this):n,Wr(r)?r.call(this,this):r)}:r:n}function j5(n,r){return og(i1(n),i1(r))}function i1(n){if(nr(n)){const r={};for(let t=0;t<n.length;t++)r[n[t]]=n[t];return r}return n}function Po(n,r){return n?[...new Set([].concat(n,r))]:r}function og(n,r){return n?Mn(Object.create(null),n,r):r}function VE(n,r){return n?nr(n)&&nr(r)?[...new Set([...n,...r])]:Mn(Object.create(null),UE(n),UE(r??{})):r}function H5(n,r){if(!n)return r;if(!r)return n;const t=Mn(Object.create(null),n);for(const o in r)t[o]=Po(n[o],r[o]);return t}function CS(){return{app:null,config:{isNativeTag:dL,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let U5=0;function G5(n,r){return function(o,l=null){Wr(o)||(o=Mn({},o)),l!=null&&!Yi(l)&&(l=null);const u=CS(),d=new Set;let f=!1;const m=u.app={_uid:U5++,_component:o,_props:l,_container:null,_context:u,_instance:null,version:gR,get config(){return u.config},set config(v){},use(v,..._){return d.has(v)||(v&&Wr(v.install)?(d.add(v),v.install(m,..._)):Wr(v)&&(d.add(v),v(m,..._))),m},mixin(v){return u.mixins.includes(v)||u.mixins.push(v),m},component(v,_){return _?(u.components[v]=_,m):u.components[v]},directive(v,_){return _?(u.directives[v]=_,m):u.directives[v]},mount(v,_,k){if(!f){const C=Aa(o,l);return C.appContext=u,_&&r?r(C,v):n(C,v,k),f=!0,m._container=v,v.__vue_app__=m,nx(C.component)||C.component.proxy}},unmount(){f&&(n(null,m._container),delete m._container.__vue_app__)},provide(v,_){return u.provides[v]=_,m},runWithContext(v){Iv=m;try{return v()}finally{Iv=null}}};return m}}let Iv=null;function q5(n,r){if(po){let t=po.provides;const o=po.parent&&po.parent.provides;o===t&&(t=po.provides=Object.create(o)),t[n]=r}}function dv(n,r,t=!1){const o=po||Xo;if(o||Iv){const l=o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:Iv._context.provides;if(l&&n in l)return l[n];if(arguments.length>1)return t&&Wr(r)?r.call(o&&o.proxy):r}}function V5(n,r,t,o=!1){const l={},u={};Tv(u,_y,1),n.propsDefaults=Object.create(null),PS(n,r,l,u);for(const d in n.propsOptions[0])d in l||(l[d]=void 0);t?n.props=o?l:t5(l):n.type.props?n.props=l:n.props=u,n.attrs=u}function W5(n,r,t,o){const{props:l,attrs:u,vnode:{patchFlag:d}}=n,f=ti(l),[m]=n.propsOptions;let v=!1;if((o||d>0)&&!(d&16)){if(d&8){const _=n.vnode.dynamicProps;for(let k=0;k<_.length;k++){let C=_[k];if(yy(n.emitsOptions,C))continue;const M=r[C];if(m)if(si(u,C))M!==u[C]&&(u[C]=M,v=!0);else{const A=ic(C);l[A]=n1(m,f,A,M,n,!1)}else M!==u[C]&&(u[C]=M,v=!0)}}}else{PS(n,r,l,u)&&(v=!0);let _;for(const k in f)(!r||!si(r,k)&&((_=Sa(k))===k||!si(r,_)))&&(m?t&&(t[k]!==void 0||t[_]!==void 0)&&(l[k]=n1(m,f,k,void 0,n,!0)):delete l[k]);if(u!==f)for(const k in u)(!r||!si(r,k))&&(delete u[k],v=!0)}v&&sc(n,"set","$attrs")}function PS(n,r,t,o){const[l,u]=n.propsOptions;let d=!1,f;if(r)for(let m in r){if(hv(m))continue;const v=r[m];let _;l&&si(l,_=ic(m))?!u||!u.includes(_)?t[_]=v:(f||(f={}))[_]=v:yy(n.emitsOptions,m)||(!(m in o)||v!==o[m])&&(o[m]=v,d=!0)}if(u){const m=ti(t),v=f||Di;for(let _=0;_<u.length;_++){const k=u[_];t[k]=n1(l,m,k,v[k],n,!si(v,k))}}return d}function n1(n,r,t,o,l,u){const d=n[t];if(d!=null){const f=si(d,"default");if(f&&o===void 0){const m=d.default;if(d.type!==Function&&!d.skipFactory&&Wr(m)){const{propsDefaults:v}=l;t in v?o=v[t]:(hp(l),o=v[t]=m.call(null,r),mh())}else o=m}d[0]&&(u&&!f?o=!1:d[1]&&(o===""||o===Sa(t))&&(o=!0))}return o}function MS(n,r,t=!1){const o=r.propsCache,l=o.get(n);if(l)return l;const u=n.props,d={},f=[];let m=!1;if(!Wr(n)){const _=k=>{m=!0;const[C,M]=MS(k,r,!0);Mn(d,C),M&&f.push(...M)};!t&&r.mixins.length&&r.mixins.forEach(_),n.extends&&_(n.extends),n.mixins&&n.mixins.forEach(_)}if(!u&&!m)return Yi(n)&&o.set(n,ip),ip;if(nr(u))for(let _=0;_<u.length;_++){const k=ic(u[_]);WE(k)&&(d[k]=Di)}else if(u)for(const _ in u){const k=ic(_);if(WE(k)){const C=u[_],M=d[k]=nr(C)||Wr(C)?{type:C}:Mn({},C);if(M){const A=XE(Boolean,M.type),F=XE(String,M.type);M[0]=A>-1,M[1]=F<0||A<F,(A>-1||si(M,"default"))&&f.push(k)}}}const v=[d,f];return Yi(n)&&o.set(n,v),v}function WE(n){return n[0]!=="$"}function ZE(n){const r=n&&n.toString().match(/^\s*(function|class) (\w+)/);return r?r[2]:n===null?"null":""}function YE(n,r){return ZE(n)===ZE(r)}function XE(n,r){return nr(r)?r.findIndex(t=>YE(t,n)):Wr(r)&&YE(r,n)?0:-1}const IS=n=>n[0]==="_"||n==="$stable",ex=n=>nr(n)?n.map(al):[al(n)],Z5=(n,r,t)=>{if(r._n)return r;const o=g5((...l)=>ex(r(...l)),t);return o._c=!1,o},LS=(n,r,t)=>{const o=n._ctx;for(const l in n){if(IS(l))continue;const u=n[l];if(Wr(u))r[l]=Z5(l,u,o);else if(u!=null){const d=ex(u);r[l]=()=>d}}},RS=(n,r)=>{const t=ex(r);n.slots.default=()=>t},Y5=(n,r)=>{if(n.vnode.shapeFlag&32){const t=r._;t?(n.slots=ti(r),Tv(r,"_",t)):LS(r,n.slots={})}else n.slots={},r&&RS(n,r);Tv(n.slots,_y,1)},X5=(n,r,t)=>{const{vnode:o,slots:l}=n;let u=!0,d=Di;if(o.shapeFlag&32){const f=r._;f?t&&f===1?u=!1:(Mn(l,r),!t&&f===1&&delete l._):(u=!r.$stable,LS(r,l)),d=r}else r&&(RS(n,r),d={default:1});if(u)for(const f in l)!IS(f)&&!(f in d)&&delete l[f]};function o1(n,r,t,o,l=!1){if(nr(n)){n.forEach((C,M)=>o1(C,r&&(nr(r)?r[M]:r),t,o,l));return}if(hg(o)&&!l)return;const u=o.shapeFlag&4?nx(o.component)||o.component.proxy:o.el,d=l?null:u,{i:f,r:m}=n,v=r&&r.r,_=f.refs===Di?f.refs={}:f.refs,k=f.setupState;if(v!=null&&v!==m&&(In(v)?(_[v]=null,si(k,v)&&(k[v]=null)):fo(v)&&(v.value=null)),Wr(m))iu(m,f,12,[d,_]);else{const C=In(m),M=fo(m);if(C||M){const A=()=>{if(n.f){const F=C?si(k,m)?k[m]:_[m]:m.value;l?nr(F)&&j1(F,u):nr(F)?F.includes(u)||F.push(u):C?(_[m]=[u],si(k,m)&&(k[m]=_[m])):(m.value=[u],n.k&&(_[n.k]=m.value))}else C?(_[m]=d,si(k,m)&&(k[m]=d)):M&&(m.value=d,n.k&&(_[n.k]=d))};d?(A.id=-1,Wo(A,t)):A()}}}const Wo=x5;function K5(n){return J5(n)}function J5(n,r){const t=Xw();t.__VUE__=!0;const{insert:o,remove:l,patchProp:u,createElement:d,createText:f,createComment:m,setText:v,setElementText:_,parentNode:k,nextSibling:C,setScopeId:M=La,insertStaticContent:A}=n,F=(yt,kt,zt,I=null,U=null,ot=null,dt=!1,ht=null,_t=!!kt.dynamicChildren)=>{if(yt===kt)return;yt&&!Zf(yt,kt)&&(I=rr(yt),Vt(yt,U,ot,!0),yt=null),kt.patchFlag===-2&&(_t=!1,kt.dynamicChildren=null);const{type:ut,ref:It,shapeFlag:Zt}=kt;switch(ut){case xy:G(yt,kt,zt,I);break;case cu:H(yt,kt,zt,I);break;case gw:yt==null&&W(kt,zt,I,dt);break;case Fi:vt(yt,kt,zt,I,U,ot,dt,ht,_t);break;default:Zt&1?nt(yt,kt,zt,I,U,ot,dt,ht,_t):Zt&6?Qt(yt,kt,zt,I,U,ot,dt,ht,_t):(Zt&64||Zt&128)&&ut.process(yt,kt,zt,I,U,ot,dt,ht,_t,vi)}It!=null&&U&&o1(It,yt&&yt.ref,ot,kt||yt,!kt)},G=(yt,kt,zt,I)=>{if(yt==null)o(kt.el=f(kt.children),zt,I);else{const U=kt.el=yt.el;kt.children!==yt.children&&v(U,kt.children)}},H=(yt,kt,zt,I)=>{yt==null?o(kt.el=m(kt.children||""),zt,I):kt.el=yt.el},W=(yt,kt,zt,I)=>{[yt.el,yt.anchor]=A(yt.children,kt,zt,I,yt.el,yt.anchor)},j=({el:yt,anchor:kt},zt,I)=>{let U;for(;yt&&yt!==kt;)U=C(yt),o(yt,zt,I),yt=U;o(kt,zt,I)},V=({el:yt,anchor:kt})=>{let zt;for(;yt&&yt!==kt;)zt=C(yt),l(yt),yt=zt;l(kt)},nt=(yt,kt,zt,I,U,ot,dt,ht,_t)=>{dt=dt||kt.type==="svg",yt==null?gt(kt,zt,I,U,ot,dt,ht,_t):Z(yt,kt,U,ot,dt,ht,_t)},gt=(yt,kt,zt,I,U,ot,dt,ht)=>{let _t,ut;const{type:It,props:Zt,shapeFlag:Yt,transition:Kt,dirs:ge}=yt;if(_t=yt.el=d(yt.type,ot,Zt&&Zt.is,Zt),Yt&8?_(_t,yt.children):Yt&16&&ct(yt.children,_t,null,I,U,ot&&It!=="foreignObject",dt,ht),ge&&lh(yt,null,I,"created"),pt(_t,yt,yt.scopeId,dt,I),Zt){for(const De in Zt)De!=="value"&&!hv(De)&&u(_t,De,null,Zt[De],ot,yt.children,I,U,se);"value"in Zt&&u(_t,"value",null,Zt.value),(ut=Zt.onVnodeBeforeMount)&&il(ut,I,yt)}ge&&lh(yt,null,I,"beforeMount");const be=(!U||U&&!U.pendingBranch)&&Kt&&!Kt.persisted;be&&Kt.beforeEnter(_t),o(_t,kt,zt),((ut=Zt&&Zt.onVnodeMounted)||be||ge)&&Wo(()=>{ut&&il(ut,I,yt),be&&Kt.enter(_t),ge&&lh(yt,null,I,"mounted")},U)},pt=(yt,kt,zt,I,U)=>{if(zt&&M(yt,zt),I)for(let ot=0;ot<I.length;ot++)M(yt,I[ot]);if(U){let ot=U.subTree;if(kt===ot){const dt=U.vnode;pt(yt,dt,dt.scopeId,dt.slotScopeIds,U.parent)}}},ct=(yt,kt,zt,I,U,ot,dt,ht,_t=0)=>{for(let ut=_t;ut<yt.length;ut++){const It=yt[ut]=ht?Qc(yt[ut]):al(yt[ut]);F(null,It,kt,zt,I,U,ot,dt,ht)}},Z=(yt,kt,zt,I,U,ot,dt)=>{const ht=kt.el=yt.el;let{patchFlag:_t,dynamicChildren:ut,dirs:It}=kt;_t|=yt.patchFlag&16;const Zt=yt.props||Di,Yt=kt.props||Di;let Kt;zt&&ch(zt,!1),(Kt=Yt.onVnodeBeforeUpdate)&&il(Kt,zt,kt,yt),It&&lh(kt,yt,zt,"beforeUpdate"),zt&&ch(zt,!0);const ge=U&&kt.type!=="foreignObject";if(ut?at(yt.dynamicChildren,ut,ht,zt,I,ge,ot):dt||Jt(yt,kt,ht,null,zt,I,ge,ot,!1),_t>0){if(_t&16)ft(ht,kt,Zt,Yt,zt,I,U);else if(_t&2&&Zt.class!==Yt.class&&u(ht,"class",null,Yt.class,U),_t&4&&u(ht,"style",Zt.style,Yt.style,U),_t&8){const be=kt.dynamicProps;for(let De=0;De<be.length;De++){const $=be[De],J=Zt[$],lt=Yt[$];(lt!==J||$==="value")&&u(ht,$,J,lt,U,yt.children,zt,I,se)}}_t&1&&yt.children!==kt.children&&_(ht,kt.children)}else!dt&&ut==null&&ft(ht,kt,Zt,Yt,zt,I,U);((Kt=Yt.onVnodeUpdated)||It)&&Wo(()=>{Kt&&il(Kt,zt,kt,yt),It&&lh(kt,yt,zt,"updated")},I)},at=(yt,kt,zt,I,U,ot,dt)=>{for(let ht=0;ht<kt.length;ht++){const _t=yt[ht],ut=kt[ht],It=_t.el&&(_t.type===Fi||!Zf(_t,ut)||_t.shapeFlag&70)?k(_t.el):zt;F(_t,ut,It,null,I,U,ot,dt,!0)}},ft=(yt,kt,zt,I,U,ot,dt)=>{if(zt!==I){if(zt!==Di)for(const ht in zt)!hv(ht)&&!(ht in I)&&u(yt,ht,zt[ht],null,dt,kt.children,U,ot,se);for(const ht in I){if(hv(ht))continue;const _t=I[ht],ut=zt[ht];_t!==ut&&ht!=="value"&&u(yt,ht,ut,_t,dt,kt.children,U,ot,se)}"value"in I&&u(yt,"value",zt.value,I.value)}},vt=(yt,kt,zt,I,U,ot,dt,ht,_t)=>{const ut=kt.el=yt?yt.el:f(""),It=kt.anchor=yt?yt.anchor:f("");let{patchFlag:Zt,dynamicChildren:Yt,slotScopeIds:Kt}=kt;Kt&&(ht=ht?ht.concat(Kt):Kt),yt==null?(o(ut,zt,I),o(It,zt,I),ct(kt.children,zt,It,U,ot,dt,ht,_t)):Zt>0&&Zt&64&&Yt&&yt.dynamicChildren?(at(yt.dynamicChildren,Yt,zt,U,ot,dt,ht),(kt.key!=null||U&&kt===U.subTree)&&AS(yt,kt,!0)):Jt(yt,kt,zt,It,U,ot,dt,ht,_t)},Qt=(yt,kt,zt,I,U,ot,dt,ht,_t)=>{kt.slotScopeIds=ht,yt==null?kt.shapeFlag&512?U.ctx.activate(kt,zt,I,dt,_t):re(kt,zt,I,U,ot,dt,_t):pe(yt,kt,_t)},re=(yt,kt,zt,I,U,ot,dt)=>{const ht=yt.component=aR(yt,I,U);if(_S(yt)&&(ht.ctx.renderer=vi),lR(ht),ht.asyncDep){if(U&&U.registerDep(ht,Gt),!yt.el){const _t=ht.subTree=Aa(cu);H(null,_t,kt,zt)}return}Gt(ht,yt,kt,zt,U,ot,dt)},pe=(yt,kt,zt)=>{const I=kt.component=yt.component;if(y5(yt,kt,zt))if(I.asyncDep&&!I.asyncResolved){ce(I,kt,zt);return}else I.next=kt,c5(I.update),I.update();else kt.el=yt.el,I.vnode=kt},Gt=(yt,kt,zt,I,U,ot,dt)=>{const ht=()=>{if(yt.isMounted){let{next:It,bu:Zt,u:Yt,parent:Kt,vnode:ge}=yt,be=It,De;ch(yt,!1),It?(It.el=ge.el,ce(yt,It,dt)):It=ge,Zt&&dw(Zt),(De=It.props&&It.props.onVnodeBeforeUpdate)&&il(De,Kt,It,ge),ch(yt,!0);const $=pw(yt),J=yt.subTree;yt.subTree=$,F(J,$,k(J.el),rr(J),yt,U,ot),It.el=$.el,be===null&&b5(yt,$.el),Yt&&Wo(Yt,U),(De=It.props&&It.props.onVnodeUpdated)&&Wo(()=>il(De,Kt,It,ge),U)}else{let It;const{el:Zt,props:Yt}=kt,{bm:Kt,m:ge,parent:be}=yt,De=hg(kt);if(ch(yt,!1),Kt&&dw(Kt),!De&&(It=Yt&&Yt.onVnodeBeforeMount)&&il(It,be,kt),ch(yt,!0),Zt&&Bi){const $=()=>{yt.subTree=pw(yt),Bi(Zt,yt.subTree,yt,U,null)};De?kt.type.__asyncLoader().then(()=>!yt.isUnmounted&&$()):$()}else{const $=yt.subTree=pw(yt);F(null,$,zt,I,yt,U,ot),kt.el=$.el}if(ge&&Wo(ge,U),!De&&(It=Yt&&Yt.onVnodeMounted)){const $=kt;Wo(()=>il(It,be,$),U)}(kt.shapeFlag&256||be&&hg(be.vnode)&&be.vnode.shapeFlag&256)&&yt.a&&Wo(yt.a,U),yt.isMounted=!0,kt=zt=I=null}},_t=yt.effect=new q1(ht,()=>$1(ut),yt.scope),ut=yt.update=()=>_t.run();ut.id=yt.uid,ch(yt,!0),ut()},ce=(yt,kt,zt)=>{kt.component=yt;const I=yt.vnode.props;yt.vnode=kt,yt.next=null,W5(yt,kt.props,I,zt),X5(yt,kt.children,zt),Tp(),jE(),Sp()},Jt=(yt,kt,zt,I,U,ot,dt,ht,_t=!1)=>{const ut=yt&&yt.children,It=yt?yt.shapeFlag:0,Zt=kt.children,{patchFlag:Yt,shapeFlag:Kt}=kt;if(Yt>0){if(Yt&128){xt(ut,Zt,zt,I,U,ot,dt,ht,_t);return}else if(Yt&256){tr(ut,Zt,zt,I,U,ot,dt,ht,_t);return}}Kt&8?(It&16&&se(ut,U,ot),Zt!==ut&&_(zt,Zt)):It&16?Kt&16?xt(ut,Zt,zt,I,U,ot,dt,ht,_t):se(ut,U,ot,!0):(It&8&&_(zt,""),Kt&16&&ct(Zt,zt,I,U,ot,dt,ht,_t))},tr=(yt,kt,zt,I,U,ot,dt,ht,_t)=>{yt=yt||ip,kt=kt||ip;const ut=yt.length,It=kt.length,Zt=Math.min(ut,It);let Yt;for(Yt=0;Yt<Zt;Yt++){const Kt=kt[Yt]=_t?Qc(kt[Yt]):al(kt[Yt]);F(yt[Yt],Kt,zt,null,U,ot,dt,ht,_t)}ut>It?se(yt,U,ot,!0,!1,Zt):ct(kt,zt,I,U,ot,dt,ht,_t,Zt)},xt=(yt,kt,zt,I,U,ot,dt,ht,_t)=>{let ut=0;const It=kt.length;let Zt=yt.length-1,Yt=It-1;for(;ut<=Zt&&ut<=Yt;){const Kt=yt[ut],ge=kt[ut]=_t?Qc(kt[ut]):al(kt[ut]);if(Zf(Kt,ge))F(Kt,ge,zt,null,U,ot,dt,ht,_t);else break;ut++}for(;ut<=Zt&&ut<=Yt;){const Kt=yt[Zt],ge=kt[Yt]=_t?Qc(kt[Yt]):al(kt[Yt]);if(Zf(Kt,ge))F(Kt,ge,zt,null,U,ot,dt,ht,_t);else break;Zt--,Yt--}if(ut>Zt){if(ut<=Yt){const Kt=Yt+1,ge=Kt<It?kt[Kt].el:I;for(;ut<=Yt;)F(null,kt[ut]=_t?Qc(kt[ut]):al(kt[ut]),zt,ge,U,ot,dt,ht,_t),ut++}}else if(ut>Yt)for(;ut<=Zt;)Vt(yt[ut],U,ot,!0),ut++;else{const Kt=ut,ge=ut,be=new Map;for(ut=ge;ut<=Yt;ut++){const _e=kt[ut]=_t?Qc(kt[ut]):al(kt[ut]);_e.key!=null&&be.set(_e.key,ut)}let De,$=0;const J=Yt-ge+1;let lt=!1,st=0;const qt=new Array(J);for(ut=0;ut<J;ut++)qt[ut]=0;for(ut=Kt;ut<=Zt;ut++){const _e=yt[ut];if($>=J){Vt(_e,U,ot,!0);continue}let sr;if(_e.key!=null)sr=be.get(_e.key);else for(De=ge;De<=Yt;De++)if(qt[De-ge]===0&&Zf(_e,kt[De])){sr=De;break}sr===void 0?Vt(_e,U,ot,!0):(qt[sr-ge]=ut+1,sr>=st?st=sr:lt=!0,F(_e,kt[sr],zt,null,U,ot,dt,ht,_t),$++)}const ee=lt?Q5(qt):ip;for(De=ee.length-1,ut=J-1;ut>=0;ut--){const _e=ge+ut,sr=kt[_e],Oe=_e+1<It?kt[_e+1].el:I;qt[ut]===0?F(null,sr,zt,Oe,U,ot,dt,ht,_t):lt&&(De<0||ut!==ee[De]?Nt(sr,zt,Oe,2):De--)}}},Nt=(yt,kt,zt,I,U=null)=>{const{el:ot,type:dt,transition:ht,children:_t,shapeFlag:ut}=yt;if(ut&6){Nt(yt.component.subTree,kt,zt,I);return}if(ut&128){yt.suspense.move(kt,zt,I);return}if(ut&64){dt.move(yt,kt,zt,vi);return}if(dt===Fi){o(ot,kt,zt);for(let Zt=0;Zt<_t.length;Zt++)Nt(_t[Zt],kt,zt,I);o(yt.anchor,kt,zt);return}if(dt===gw){j(yt,kt,zt);return}if(I!==2&&ut&1&&ht)if(I===0)ht.beforeEnter(ot),o(ot,kt,zt),Wo(()=>ht.enter(ot),U);else{const{leave:Zt,delayLeave:Yt,afterLeave:Kt}=ht,ge=()=>o(ot,kt,zt),be=()=>{Zt(ot,()=>{ge(),Kt&&Kt()})};Yt?Yt(ot,ge,be):be()}else o(ot,kt,zt)},Vt=(yt,kt,zt,I=!1,U=!1)=>{const{type:ot,props:dt,ref:ht,children:_t,dynamicChildren:ut,shapeFlag:It,patchFlag:Zt,dirs:Yt}=yt;if(ht!=null&&o1(ht,null,zt,yt,!0),It&256){kt.ctx.deactivate(yt);return}const Kt=It&1&&Yt,ge=!hg(yt);let be;if(ge&&(be=dt&&dt.onVnodeBeforeUnmount)&&il(be,kt,yt),It&6)oe(yt.component,zt,I);else{if(It&128){yt.suspense.unmount(zt,I);return}Kt&&lh(yt,null,kt,"beforeUnmount"),It&64?yt.type.remove(yt,kt,zt,U,vi,I):ut&&(ot!==Fi||Zt>0&&Zt&64)?se(ut,kt,zt,!1,!0):(ot===Fi&&Zt&384||!U&&It&16)&&se(_t,kt,zt),I&&te(yt)}(ge&&(be=dt&&dt.onVnodeUnmounted)||Kt)&&Wo(()=>{be&&il(be,kt,yt),Kt&&lh(yt,null,kt,"unmounted")},zt)},te=yt=>{const{type:kt,el:zt,anchor:I,transition:U}=yt;if(kt===Fi){de(zt,I);return}if(kt===gw){V(yt);return}const ot=()=>{l(zt),U&&!U.persisted&&U.afterLeave&&U.afterLeave()};if(yt.shapeFlag&1&&U&&!U.persisted){const{leave:dt,delayLeave:ht}=U,_t=()=>dt(zt,ot);ht?ht(yt.el,ot,_t):_t()}else ot()},de=(yt,kt)=>{let zt;for(;yt!==kt;)zt=C(yt),l(yt),yt=zt;l(kt)},oe=(yt,kt,zt)=>{const{bum:I,scope:U,update:ot,subTree:dt,um:ht}=yt;I&&dw(I),U.stop(),ot&&(ot.active=!1,Vt(dt,yt,kt,zt)),ht&&Wo(ht,kt),Wo(()=>{yt.isUnmounted=!0},kt),kt&&kt.pendingBranch&&!kt.isUnmounted&&yt.asyncDep&&!yt.asyncResolved&&yt.suspenseId===kt.pendingId&&(kt.deps--,kt.deps===0&&kt.resolve())},se=(yt,kt,zt,I=!1,U=!1,ot=0)=>{for(let dt=ot;dt<yt.length;dt++)Vt(yt[dt],kt,zt,I,U)},rr=yt=>yt.shapeFlag&6?rr(yt.component.subTree):yt.shapeFlag&128?yt.suspense.next():C(yt.anchor||yt.el),gr=(yt,kt,zt)=>{yt==null?kt._vnode&&Vt(kt._vnode,null,null,!0):F(kt._vnode||null,yt,kt,null,null,null,zt),jE(),vS(),kt._vnode=yt},vi={p:F,um:Vt,m:Nt,r:te,mt:re,mc:ct,pc:Jt,pbc:at,n:rr,o:n};let Xi,Bi;return r&&([Xi,Bi]=r(vi)),{render:gr,hydrate:Xi,createApp:G5(gr,Xi)}}function ch({effect:n,update:r},t){n.allowRecurse=r.allowRecurse=t}function AS(n,r,t=!1){const o=n.children,l=r.children;if(nr(o)&&nr(l))for(let u=0;u<o.length;u++){const d=o[u];let f=l[u];f.shapeFlag&1&&!f.dynamicChildren&&((f.patchFlag<=0||f.patchFlag===32)&&(f=l[u]=Qc(l[u]),f.el=d.el),t||AS(d,f)),f.type===xy&&(f.el=d.el)}}function Q5(n){const r=n.slice(),t=[0];let o,l,u,d,f;const m=n.length;for(o=0;o<m;o++){const v=n[o];if(v!==0){if(l=t[t.length-1],n[l]<v){r[o]=l,t.push(o);continue}for(u=0,d=t.length-1;u<d;)f=u+d>>1,n[t[f]]<v?u=f+1:d=f;v<n[t[u]]&&(u>0&&(r[o]=t[u-1]),t[u]=o)}}for(u=t.length,d=t[u-1];u-- >0;)t[u]=d,d=r[d];return t}const $5=n=>n.__isTeleport,Fi=Symbol.for("v-fgt"),xy=Symbol.for("v-txt"),cu=Symbol.for("v-cmt"),gw=Symbol.for("v-stc"),pg=[];let Pa=null;function ke(n=!1){pg.push(Pa=n?null:[])}function tR(){pg.pop(),Pa=pg[pg.length-1]||null}let Cg=1;function KE(n){Cg+=n}function OS(n){return n.dynamicChildren=Cg>0?Pa||ip:null,tR(),Cg>0&&Pa&&Pa.push(n),n}function Ce(n,r,t,o,l,u){return OS(Xt(n,r,t,o,l,u,!0))}function zS(n,r,t,o,l){return OS(Aa(n,r,t,o,l,!0))}function NS(n){return n?n.__v_isVNode===!0:!1}function Zf(n,r){return n.type===r.type&&n.key===r.key}const _y="__vInternal",DS=({key:n})=>n??null,pv=({ref:n,ref_key:r,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?In(n)||fo(n)||Wr(n)?{i:Xo,r:n,k:r,f:!!t}:n:null);function Xt(n,r=null,t=null,o=0,l=null,u=n===Fi?0:1,d=!1,f=!1){const m={__v_isVNode:!0,__v_skip:!0,type:n,props:r,key:r&&DS(r),ref:r&&pv(r),scopeId:by,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:o,dynamicProps:l,dynamicChildren:null,appContext:null,ctx:Xo};return f?(rx(m,t),u&128&&n.normalize(m)):t&&(m.shapeFlag|=In(t)?8:16),Cg>0&&!d&&Pa&&(m.patchFlag>0||u&6)&&m.patchFlag!==32&&Pa.push(m),m}const Aa=eR;function eR(n,r=null,t=null,o=0,l=null,u=!1){if((!n||n===O5)&&(n=cu),NS(n)){const f=up(n,r,!0);return t&&rx(f,t),Cg>0&&!u&&Pa&&(f.shapeFlag&6?Pa[Pa.indexOf(n)]=f:Pa.push(f)),f.patchFlag|=-2,f}if(dR(n)&&(n=n.__vccOpts),r){r=rR(r);let{class:f,style:m}=r;f&&!In(f)&&(r.class=$g(f)),Yi(m)&&(uS(m)&&!nr(m)&&(m=Mn({},m)),r.style=au(m))}const d=In(n)?1:w5(n)?128:$5(n)?64:Yi(n)?4:Wr(n)?2:0;return Xt(n,r,t,o,l,d,u,!0)}function rR(n){return n?uS(n)||_y in n?Mn({},n):n:null}function up(n,r,t=!1){const{props:o,ref:l,patchFlag:u,children:d}=n,f=r?nR(o||{},r):o;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:f,key:f&&DS(f),ref:r&&r.ref?t&&l?nr(l)?l.concat(pv(r)):[l,pv(r)]:pv(r):l,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:d,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:r&&n.type!==Fi?u===-1?16:u|16:u,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&up(n.ssContent),ssFallback:n.ssFallback&&up(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce}}function iR(n=" ",r=0){return Aa(xy,null,n,r)}function ii(n="",r=!1){return r?(ke(),zS(cu,null,n)):Aa(cu,null,n)}function al(n){return n==null||typeof n=="boolean"?Aa(cu):nr(n)?Aa(Fi,null,n.slice()):typeof n=="object"?Qc(n):Aa(xy,null,String(n))}function Qc(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:up(n)}function rx(n,r){let t=0;const{shapeFlag:o}=n;if(r==null)r=null;else if(nr(r))t=16;else if(typeof r=="object")if(o&65){const l=r.default;l&&(l._c&&(l._d=!1),rx(n,l()),l._c&&(l._d=!0));return}else{t=32;const l=r._;!l&&!(_y in r)?r._ctx=Xo:l===3&&Xo&&(Xo.slots._===1?r._=1:(r._=2,n.patchFlag|=1024))}else Wr(r)?(r={default:r,_ctx:Xo},t=32):(r=String(r),o&64?(t=16,r=[iR(r)]):t=8);n.children=r,n.shapeFlag|=t}function nR(...n){const r={};for(let t=0;t<n.length;t++){const o=n[t];for(const l in o)if(l==="class")r.class!==o.class&&(r.class=$g([r.class,o.class]));else if(l==="style")r.style=au([r.style,o.style]);else if(py(l)){const u=r[l],d=o[l];d&&u!==d&&!(nr(u)&&u.includes(d))&&(r[l]=u?[].concat(u,d):d)}else l!==""&&(r[l]=o[l])}return r}function il(n,r,t,o=null){Ra(n,r,7,[t,o])}const oR=CS();let sR=0;function aR(n,r,t){const o=n.type,l=(r?r.appContext:n.appContext)||oR,u={uid:sR++,vnode:n,type:o,parent:r,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,scope:new TL(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(l.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:MS(o,l),emitsOptions:bS(o,l),emit:null,emitted:null,propsDefaults:Di,inheritAttrs:o.inheritAttrs,ctx:Di,data:Di,props:Di,attrs:Di,slots:Di,refs:Di,setupState:Di,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=r?r.root:u,u.emit=d5.bind(null,u),n.ce&&n.ce(u),u}let po=null,ix,Ud,JE="__VUE_INSTANCE_SETTERS__";(Ud=Xw()[JE])||(Ud=Xw()[JE]=[]),Ud.push(n=>po=n),ix=n=>{Ud.length>1?Ud.forEach(r=>r(n)):Ud[0](n)};const hp=n=>{ix(n),n.scope.on()},mh=()=>{po&&po.scope.off(),ix(null)};function FS(n){return n.vnode.shapeFlag&4}let Pg=!1;function lR(n,r=!1){Pg=r;const{props:t,children:o}=n.vnode,l=FS(n);V5(n,t,l,r),Y5(n,o);const u=l?cR(n,r):void 0;return Pg=!1,u}function cR(n,r){const t=n.type;n.accessCache=Object.create(null),n.proxy=hS(new Proxy(n.ctx,N5));const{setup:o}=t;if(o){const l=n.setupContext=o.length>1?hR(n):null;hp(n),Tp();const u=iu(o,n,0,[n.props,l]);if(Sp(),mh(),ZT(u)){if(u.then(mh,mh),r)return u.then(d=>{QE(n,d,r)}).catch(d=>{vy(d,n,0)});n.asyncDep=u}else QE(n,u,r)}else BS(n,r)}function QE(n,r,t){Wr(r)?n.type.__ssrInlineRender?n.ssrRender=r:n.render=r:Yi(r)&&(n.setupState=fS(r)),BS(n,t)}let $E;function BS(n,r,t){const o=n.type;if(!n.render){if(!r&&$E&&!o.render){const l=o.template||tx(n).template;if(l){const{isCustomElement:u,compilerOptions:d}=n.appContext.config,{delimiters:f,compilerOptions:m}=o,v=Mn(Mn({isCustomElement:u,delimiters:f},d),m);o.render=$E(l,v)}}n.render=o.render||La}hp(n),Tp(),D5(n),Sp(),mh()}function uR(n){return n.attrsProxy||(n.attrsProxy=new Proxy(n.attrs,{get(r,t){return $o(n,"get","$attrs"),r[t]}}))}function hR(n){const r=t=>{n.exposed=t||{}};return{get attrs(){return uR(n)},slots:n.slots,emit:n.emit,expose:r}}function nx(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(fS(hS(n.exposed)),{get(r,t){if(t in r)return r[t];if(t in dg)return dg[t](n)},has(r,t){return t in r||t in dg}}))}function dR(n){return Wr(n)&&"__vccOpts"in n}const Xe=(n,r)=>s5(n,r,Pg),pR=Symbol.for("v-scx"),fR=()=>dv(pR),gR="3.3.4",mR="http://www.w3.org/2000/svg",dh=typeof document<"u"?document:null,t2=dh&&dh.createElement("template"),vR={insert:(n,r,t)=>{r.insertBefore(n,t||null)},remove:n=>{const r=n.parentNode;r&&r.removeChild(n)},createElement:(n,r,t,o)=>{const l=r?dh.createElementNS(mR,n):dh.createElement(n,t?{is:t}:void 0);return n==="select"&&o&&o.multiple!=null&&l.setAttribute("multiple",o.multiple),l},createText:n=>dh.createTextNode(n),createComment:n=>dh.createComment(n),setText:(n,r)=>{n.nodeValue=r},setElementText:(n,r)=>{n.textContent=r},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>dh.querySelector(n),setScopeId(n,r){n.setAttribute(r,"")},insertStaticContent(n,r,t,o,l,u){const d=t?t.previousSibling:r.lastChild;if(l&&(l===u||l.nextSibling))for(;r.insertBefore(l.cloneNode(!0),t),!(l===u||!(l=l.nextSibling)););else{t2.innerHTML=o?`<svg>${n}</svg>`:n;const f=t2.content;if(o){const m=f.firstChild;for(;m.firstChild;)f.appendChild(m.firstChild);f.removeChild(m)}r.insertBefore(f,t)}return[d?d.nextSibling:r.firstChild,t?t.previousSibling:r.lastChild]}};function yR(n,r,t){const o=n._vtc;o&&(r=(r?[r,...o]:[...o]).join(" ")),r==null?n.removeAttribute("class"):t?n.setAttribute("class",r):n.className=r}function bR(n,r,t){const o=n.style,l=In(t);if(t&&!l){if(r&&!In(r))for(const u in r)t[u]==null&&s1(o,u,"");for(const u in t)s1(o,u,t[u])}else{const u=o.display;l?r!==t&&(o.cssText=t):r&&n.removeAttribute("style"),"_vod"in n&&(o.display=u)}}const e2=/\s*!important$/;function s1(n,r,t){if(nr(t))t.forEach(o=>s1(n,r,o));else if(t==null&&(t=""),r.startsWith("--"))n.setProperty(r,t);else{const o=wR(n,r);e2.test(t)?n.setProperty(Sa(o),t.replace(e2,""),"important"):n[o]=t}}const r2=["Webkit","Moz","ms"],mw={};function wR(n,r){const t=mw[r];if(t)return t;let o=ic(r);if(o!=="filter"&&o in n)return mw[r]=o;o=KT(o);for(let l=0;l<r2.length;l++){const u=r2[l]+o;if(u in n)return mw[r]=u}return r}const i2="http://www.w3.org/1999/xlink";function xR(n,r,t,o,l){if(o&&r.startsWith("xlink:"))t==null?n.removeAttributeNS(i2,r.slice(6,r.length)):n.setAttributeNS(i2,r,t);else{const u=EL(r);t==null||u&&!JT(t)?n.removeAttribute(r):n.setAttribute(r,u?"":t)}}function _R(n,r,t,o,l,u,d){if(r==="innerHTML"||r==="textContent"){o&&d(o,l,u),n[r]=t??"";return}const f=n.tagName;if(r==="value"&&f!=="PROGRESS"&&!f.includes("-")){n._value=t;const v=f==="OPTION"?n.getAttribute("value"):n.value,_=t??"";v!==_&&(n.value=_),t==null&&n.removeAttribute(r);return}let m=!1;if(t===""||t==null){const v=typeof n[r];v==="boolean"?t=JT(t):t==null&&v==="string"?(t="",m=!0):v==="number"&&(t=0,m=!0)}try{n[r]=t}catch{}m&&n.removeAttribute(r)}function kR(n,r,t,o){n.addEventListener(r,t,o)}function ER(n,r,t,o){n.removeEventListener(r,t,o)}function TR(n,r,t,o,l=null){const u=n._vei||(n._vei={}),d=u[r];if(o&&d)d.value=o;else{const[f,m]=SR(r);if(o){const v=u[r]=MR(o,l);kR(n,f,v,m)}else d&&(ER(n,f,d,m),u[r]=void 0)}}const n2=/(?:Once|Passive|Capture)$/;function SR(n){let r;if(n2.test(n)){r={};let o;for(;o=n.match(n2);)n=n.slice(0,n.length-o[0].length),r[o[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Sa(n.slice(2)),r]}let vw=0;const CR=Promise.resolve(),PR=()=>vw||(CR.then(()=>vw=0),vw=Date.now());function MR(n,r){const t=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=t.attached)return;Ra(IR(o,t.value),r,5,[o])};return t.value=n,t.attached=PR(),t}function IR(n,r){if(nr(r)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},r.map(o=>l=>!l._stopped&&o&&o(l))}else return r}const o2=/^on[a-z]/,LR=(n,r,t,o,l=!1,u,d,f,m)=>{r==="class"?yR(n,o,l):r==="style"?bR(n,t,o):py(r)?B1(r)||TR(n,r,t,o,d):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):RR(n,r,o,l))?_R(n,r,o,u,d,f,m):(r==="true-value"?n._trueValue=o:r==="false-value"&&(n._falseValue=o),xR(n,r,o,l))};function RR(n,r,t,o){return o?!!(r==="innerHTML"||r==="textContent"||r in n&&o2.test(r)&&Wr(t)):r==="spellcheck"||r==="draggable"||r==="translate"||r==="form"||r==="list"&&n.tagName==="INPUT"||r==="type"&&n.tagName==="TEXTAREA"||o2.test(r)&&In(t)?!1:r in n}function qo(n,r){const t=Ro(n);class o extends ox{constructor(u){super(t,u,r)}}return o.def=t,o}const AR=typeof HTMLElement<"u"?HTMLElement:class{};class ox extends AR{constructor(r,t={},o){super(),this._def=r,this._props=t,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&o?o(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,Q1(()=>{this._connected||(a2(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let o=0;o<this.attributes.length;o++)this._setAttr(this.attributes[o].name);new MutationObserver(o=>{for(const l of o)this._setAttr(l.attributeName)}).observe(this,{attributes:!0});const r=(o,l=!1)=>{const{props:u,styles:d}=o;let f;if(u&&!nr(u))for(const m in u){const v=u[m];(v===Number||v&&v.type===Number)&&(m in this._props&&(this._props[m]=LE(this._props[m])),(f||(f=Object.create(null)))[ic(m)]=!0)}this._numberProps=f,l&&this._resolveProps(o),this._applyStyles(d),this._update()},t=this._def.__asyncLoader;t?t().then(o=>r(o,!0)):r(this._def)}_resolveProps(r){const{props:t}=r,o=nr(t)?t:Object.keys(t||{});for(const l of Object.keys(this))l[0]!=="_"&&o.includes(l)&&this._setProp(l,this[l],!0,!1);for(const l of o.map(ic))Object.defineProperty(this,l,{get(){return this._getProp(l)},set(u){this._setProp(l,u)}})}_setAttr(r){let t=this.getAttribute(r);const o=ic(r);this._numberProps&&this._numberProps[o]&&(t=LE(t)),this._setProp(o,t,!1)}_getProp(r){return this._props[r]}_setProp(r,t,o=!0,l=!0){t!==this._props[r]&&(this._props[r]=t,l&&this._instance&&this._update(),o&&(t===!0?this.setAttribute(Sa(r),""):typeof t=="string"||typeof t=="number"?this.setAttribute(Sa(r),t+""):t||this.removeAttribute(Sa(r))))}_update(){a2(this._createVNode(),this.shadowRoot)}_createVNode(){const r=Aa(this._def,Mn({},this._props));return this._instance||(r.ce=t=>{this._instance=t,t.isCE=!0;const o=(u,d)=>{this.dispatchEvent(new CustomEvent(u,{detail:d}))};t.emit=(u,...d)=>{o(u,d),Sa(u)!==u&&o(Sa(u),d)};let l=this;for(;l=l&&(l.parentNode||l.host);)if(l instanceof ox){t.parent=l._instance,t.provides=l._instance.provides;break}}),r}_applyStyles(r){r&&r.forEach(t=>{const o=document.createElement("style");o.textContent=t,this.shadowRoot.appendChild(o)})}}const OR=Mn({patchProp:LR},vR);let s2;function zR(){return s2||(s2=K5(OR))}const a2=(...n)=>{zR().render(...n)};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const fv=globalThis,sx=fv.ShadowRoot&&(fv.ShadyCSS===void 0||fv.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,ax=Symbol(),l2=new WeakMap;let jS=class{constructor(r,t,o){if(this._$cssResult$=!0,o!==ax)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=r,this.t=t}get styleSheet(){let r=this.o;const t=this.t;if(sx&&r===void 0){const o=t!==void 0&&t.length===1;o&&(r=l2.get(t)),r===void 0&&((this.o=r=new CSSStyleSheet).replaceSync(this.cssText),o&&l2.set(t,r))}return r}toString(){return this.cssText}};const NR=n=>new jS(typeof n=="string"?n:n+"",void 0,ax),ts=(n,...r)=>{const t=n.length===1?n[0]:r.reduce((o,l,u)=>o+(d=>{if(d._$cssResult$===!0)return d.cssText;if(typeof d=="number")return d;throw Error("Value passed to 'css' function must be a 'css' function result: "+d+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(l)+n[u+1],n[0]);return new jS(t,n,ax)},DR=(n,r)=>{if(sx)n.adoptedStyleSheets=r.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet);else for(const t of r){const o=document.createElement("style"),l=fv.litNonce;l!==void 0&&o.setAttribute("nonce",l),o.textContent=t.cssText,n.appendChild(o)}},c2=sx?n=>n:n=>n instanceof CSSStyleSheet?(r=>{let t="";for(const o of r.cssRules)t+=o.cssText;return NR(t)})(n):n;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:FR,defineProperty:BR,getOwnPropertyDescriptor:jR,getOwnPropertyNames:HR,getOwnPropertySymbols:UR,getPrototypeOf:GR}=Object,ou=globalThis,u2=ou.trustedTypes,qR=u2?u2.emptyScript:"",yw=ou.reactiveElementPolyfillSupport,fg=(n,r)=>n,Lv={toAttribute(n,r){switch(r){case Boolean:n=n?qR:null;break;case Object:case Array:n=n==null?n:JSON.stringify(n)}return n},fromAttribute(n,r){let t=n;switch(r){case Boolean:t=n!==null;break;case Number:t=n===null?null:Number(n);break;case Object:case Array:try{t=JSON.parse(n)}catch{t=null}}return t}},lx=(n,r)=>!FR(n,r),h2={attribute:!0,type:String,converter:Lv,reflect:!1,hasChanged:lx};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),ou.litPropertyMetadata??(ou.litPropertyMetadata=new WeakMap);class Zd extends HTMLElement{static addInitializer(r){this._$Ei(),(this.l??(this.l=[])).push(r)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(r,t=h2){if(t.state&&(t.attribute=!1),this._$Ei(),this.elementProperties.set(r,t),!t.noAccessor){const o=Symbol(),l=this.getPropertyDescriptor(r,o,t);l!==void 0&&BR(this.prototype,r,l)}}static getPropertyDescriptor(r,t,o){const{get:l,set:u}=jR(this.prototype,r)??{get(){return this[t]},set(d){this[t]=d}};return{get(){return l==null?void 0:l.call(this)},set(d){const f=l==null?void 0:l.call(this);u.call(this,d),this.requestUpdate(r,f,o)},configurable:!0,enumerable:!0}}static getPropertyOptions(r){return this.elementProperties.get(r)??h2}static _$Ei(){if(this.hasOwnProperty(fg("elementProperties")))return;const r=GR(this);r.finalize(),r.l!==void 0&&(this.l=[...r.l]),this.elementProperties=new Map(r.elementProperties)}static finalize(){if(this.hasOwnProperty(fg("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(fg("properties"))){const t=this.properties,o=[...HR(t),...UR(t)];for(const l of o)this.createProperty(l,t[l])}const r=this[Symbol.metadata];if(r!==null){const t=litPropertyMetadata.get(r);if(t!==void 0)for(const[o,l]of t)this.elementProperties.set(o,l)}this._$Eh=new Map;for(const[t,o]of this.elementProperties){const l=this._$Eu(t,o);l!==void 0&&this._$Eh.set(l,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(r){const t=[];if(Array.isArray(r)){const o=new Set(r.flat(1/0).reverse());for(const l of o)t.unshift(c2(l))}else r!==void 0&&t.push(c2(r));return t}static _$Eu(r,t){const o=t.attribute;return o===!1?void 0:typeof o=="string"?o:typeof r=="string"?r.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var r;this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),(r=this.constructor.l)==null||r.forEach(t=>t(this))}addController(r){var t;(this._$EO??(this._$EO=new Set)).add(r),this.renderRoot!==void 0&&this.isConnected&&((t=r.hostConnected)==null||t.call(r))}removeController(r){var t;(t=this._$EO)==null||t.delete(r)}_$E_(){const r=new Map,t=this.constructor.elementProperties;for(const o of t.keys())this.hasOwnProperty(o)&&(r.set(o,this[o]),delete this[o]);r.size>0&&(this._$Ep=r)}createRenderRoot(){const r=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return DR(r,this.constructor.elementStyles),r}connectedCallback(){var r;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(r=this._$EO)==null||r.forEach(t=>{var o;return(o=t.hostConnected)==null?void 0:o.call(t)})}enableUpdating(r){}disconnectedCallback(){var r;(r=this._$EO)==null||r.forEach(t=>{var o;return(o=t.hostDisconnected)==null?void 0:o.call(t)})}attributeChangedCallback(r,t,o){this._$AK(r,o)}_$EC(r,t){var u;const o=this.constructor.elementProperties.get(r),l=this.constructor._$Eu(r,o);if(l!==void 0&&o.reflect===!0){const d=(((u=o.converter)==null?void 0:u.toAttribute)!==void 0?o.converter:Lv).toAttribute(t,o.type);this._$Em=r,d==null?this.removeAttribute(l):this.setAttribute(l,d),this._$Em=null}}_$AK(r,t){var u;const o=this.constructor,l=o._$Eh.get(r);if(l!==void 0&&this._$Em!==l){const d=o.getPropertyOptions(l),f=typeof d.converter=="function"?{fromAttribute:d.converter}:((u=d.converter)==null?void 0:u.fromAttribute)!==void 0?d.converter:Lv;this._$Em=l,this[l]=f.fromAttribute(t,d.type),this._$Em=null}}requestUpdate(r,t,o){if(r!==void 0){if(o??(o=this.constructor.getPropertyOptions(r)),!(o.hasChanged??lx)(this[r],t))return;this.P(r,t,o)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(r,t,o){this._$AL.has(r)||this._$AL.set(r,t),o.reflect===!0&&this._$Em!==r&&(this._$Ej??(this._$Ej=new Set)).add(r)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const r=this.scheduleUpdate();return r!=null&&await r,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var o;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[u,d]of this._$Ep)this[u]=d;this._$Ep=void 0}const l=this.constructor.elementProperties;if(l.size>0)for(const[u,d]of l)d.wrapped!==!0||this._$AL.has(u)||this[u]===void 0||this.P(u,this[u],d)}let r=!1;const t=this._$AL;try{r=this.shouldUpdate(t),r?(this.willUpdate(t),(o=this._$EO)==null||o.forEach(l=>{var u;return(u=l.hostUpdate)==null?void 0:u.call(l)}),this.update(t)):this._$EU()}catch(l){throw r=!1,this._$EU(),l}r&&this._$AE(t)}willUpdate(r){}_$AE(r){var t;(t=this._$EO)==null||t.forEach(o=>{var l;return(l=o.hostUpdated)==null?void 0:l.call(o)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(r)),this.updated(r)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(r){return!0}update(r){this._$Ej&&(this._$Ej=this._$Ej.forEach(t=>this._$EC(t,this[t]))),this._$EU()}updated(r){}firstUpdated(r){}}Zd.elementStyles=[],Zd.shadowRootOptions={mode:"open"},Zd[fg("elementProperties")]=new Map,Zd[fg("finalized")]=new Map,yw==null||yw({ReactiveElement:Zd}),(ou.reactiveElementVersions??(ou.reactiveElementVersions=[])).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const gg=globalThis,Rv=gg.trustedTypes,d2=Rv?Rv.createPolicy("lit-html",{createHTML:n=>n}):void 0,HS="$lit$",$c=`lit$${(Math.random()+"").slice(9)}$`,US="?"+$c,VR=`<${US}>`,xh=document,Mg=()=>xh.createComment(""),Ig=n=>n===null||typeof n!="object"&&typeof n!="function",GS=Array.isArray,WR=n=>GS(n)||typeof(n==null?void 0:n[Symbol.iterator])=="function",bw=`[ 	
\f\r]`,Yf=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,p2=/-->/g,f2=/>/g,uh=RegExp(`>|${bw}(?:([^\\s"'>=/]+)(${bw}*=${bw}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),g2=/'/g,m2=/"/g,qS=/^(?:script|style|textarea|title)$/i,ZR=n=>(r,...t)=>({_$litType$:n,strings:r,values:t}),_n=ZR(1),_h=Symbol.for("lit-noChange"),an=Symbol.for("lit-nothing"),v2=new WeakMap,fh=xh.createTreeWalker(xh,129);function VS(n,r){if(!Array.isArray(n)||!n.hasOwnProperty("raw"))throw Error("invalid template strings array");return d2!==void 0?d2.createHTML(r):r}const YR=(n,r)=>{const t=n.length-1,o=[];let l,u=r===2?"<svg>":"",d=Yf;for(let f=0;f<t;f++){const m=n[f];let v,_,k=-1,C=0;for(;C<m.length&&(d.lastIndex=C,_=d.exec(m),_!==null);)C=d.lastIndex,d===Yf?_[1]==="!--"?d=p2:_[1]!==void 0?d=f2:_[2]!==void 0?(qS.test(_[2])&&(l=RegExp("</"+_[2],"g")),d=uh):_[3]!==void 0&&(d=uh):d===uh?_[0]===">"?(d=l??Yf,k=-1):_[1]===void 0?k=-2:(k=d.lastIndex-_[2].length,v=_[1],d=_[3]===void 0?uh:_[3]==='"'?m2:g2):d===m2||d===g2?d=uh:d===p2||d===f2?d=Yf:(d=uh,l=void 0);const M=d===uh&&n[f+1].startsWith("/>")?" ":"";u+=d===Yf?m+VR:k>=0?(o.push(v),m.slice(0,k)+HS+m.slice(k)+$c+M):m+$c+(k===-2?f:M)}return[VS(n,u+(n[t]||"<?>")+(r===2?"</svg>":"")),o]};class Lg{constructor({strings:r,_$litType$:t},o){let l;this.parts=[];let u=0,d=0;const f=r.length-1,m=this.parts,[v,_]=YR(r,t);if(this.el=Lg.createElement(v,o),fh.currentNode=this.el.content,t===2){const k=this.el.content.firstChild;k.replaceWith(...k.childNodes)}for(;(l=fh.nextNode())!==null&&m.length<f;){if(l.nodeType===1){if(l.hasAttributes())for(const k of l.getAttributeNames())if(k.endsWith(HS)){const C=_[d++],M=l.getAttribute(k).split($c),A=/([.?@])?(.*)/.exec(C);m.push({type:1,index:u,name:A[2],strings:M,ctor:A[1]==="."?KR:A[1]==="?"?JR:A[1]==="@"?QR:ky}),l.removeAttribute(k)}else k.startsWith($c)&&(m.push({type:6,index:u}),l.removeAttribute(k));if(qS.test(l.tagName)){const k=l.textContent.split($c),C=k.length-1;if(C>0){l.textContent=Rv?Rv.emptyScript:"";for(let M=0;M<C;M++)l.append(k[M],Mg()),fh.nextNode(),m.push({type:2,index:++u});l.append(k[C],Mg())}}}else if(l.nodeType===8)if(l.data===US)m.push({type:2,index:u});else{let k=-1;for(;(k=l.data.indexOf($c,k+1))!==-1;)m.push({type:7,index:u}),k+=$c.length-1}u++}}static createElement(r,t){const o=xh.createElement("template");return o.innerHTML=r,o}}function dp(n,r,t=n,o){var d,f;if(r===_h)return r;let l=o!==void 0?(d=t._$Co)==null?void 0:d[o]:t._$Cl;const u=Ig(r)?void 0:r._$litDirective$;return(l==null?void 0:l.constructor)!==u&&((f=l==null?void 0:l._$AO)==null||f.call(l,!1),u===void 0?l=void 0:(l=new u(n),l._$AT(n,t,o)),o!==void 0?(t._$Co??(t._$Co=[]))[o]=l:t._$Cl=l),l!==void 0&&(r=dp(n,l._$AS(n,r.values),l,o)),r}class XR{constructor(r,t){this._$AV=[],this._$AN=void 0,this._$AD=r,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(r){const{el:{content:t},parts:o}=this._$AD,l=((r==null?void 0:r.creationScope)??xh).importNode(t,!0);fh.currentNode=l;let u=fh.nextNode(),d=0,f=0,m=o[0];for(;m!==void 0;){if(d===m.index){let v;m.type===2?v=new tm(u,u.nextSibling,this,r):m.type===1?v=new m.ctor(u,m.name,m.strings,this,r):m.type===6&&(v=new $R(u,this,r)),this._$AV.push(v),m=o[++f]}d!==(m==null?void 0:m.index)&&(u=fh.nextNode(),d++)}return fh.currentNode=xh,l}p(r){let t=0;for(const o of this._$AV)o!==void 0&&(o.strings!==void 0?(o._$AI(r,o,t),t+=o.strings.length-2):o._$AI(r[t])),t++}}class tm{get _$AU(){var r;return((r=this._$AM)==null?void 0:r._$AU)??this._$Cv}constructor(r,t,o,l){this.type=2,this._$AH=an,this._$AN=void 0,this._$AA=r,this._$AB=t,this._$AM=o,this.options=l,this._$Cv=(l==null?void 0:l.isConnected)??!0}get parentNode(){let r=this._$AA.parentNode;const t=this._$AM;return t!==void 0&&(r==null?void 0:r.nodeType)===11&&(r=t.parentNode),r}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(r,t=this){r=dp(this,r,t),Ig(r)?r===an||r==null||r===""?(this._$AH!==an&&this._$AR(),this._$AH=an):r!==this._$AH&&r!==_h&&this._(r):r._$litType$!==void 0?this.$(r):r.nodeType!==void 0?this.T(r):WR(r)?this.k(r):this._(r)}S(r){return this._$AA.parentNode.insertBefore(r,this._$AB)}T(r){this._$AH!==r&&(this._$AR(),this._$AH=this.S(r))}_(r){this._$AH!==an&&Ig(this._$AH)?this._$AA.nextSibling.data=r:this.T(xh.createTextNode(r)),this._$AH=r}$(r){var u;const{values:t,_$litType$:o}=r,l=typeof o=="number"?this._$AC(r):(o.el===void 0&&(o.el=Lg.createElement(VS(o.h,o.h[0]),this.options)),o);if(((u=this._$AH)==null?void 0:u._$AD)===l)this._$AH.p(t);else{const d=new XR(l,this),f=d.u(this.options);d.p(t),this.T(f),this._$AH=d}}_$AC(r){let t=v2.get(r.strings);return t===void 0&&v2.set(r.strings,t=new Lg(r)),t}k(r){GS(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let o,l=0;for(const u of r)l===t.length?t.push(o=new tm(this.S(Mg()),this.S(Mg()),this,this.options)):o=t[l],o._$AI(u),l++;l<t.length&&(this._$AR(o&&o._$AB.nextSibling,l),t.length=l)}_$AR(r=this._$AA.nextSibling,t){var o;for((o=this._$AP)==null?void 0:o.call(this,!1,!0,t);r&&r!==this._$AB;){const l=r.nextSibling;r.remove(),r=l}}setConnected(r){var t;this._$AM===void 0&&(this._$Cv=r,(t=this._$AP)==null||t.call(this,r))}}let ky=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(r,t,o,l,u){this.type=1,this._$AH=an,this._$AN=void 0,this.element=r,this.name=t,this._$AM=l,this.options=u,o.length>2||o[0]!==""||o[1]!==""?(this._$AH=Array(o.length-1).fill(new String),this.strings=o):this._$AH=an}_$AI(r,t=this,o,l){const u=this.strings;let d=!1;if(u===void 0)r=dp(this,r,t,0),d=!Ig(r)||r!==this._$AH&&r!==_h,d&&(this._$AH=r);else{const f=r;let m,v;for(r=u[0],m=0;m<u.length-1;m++)v=dp(this,f[o+m],t,m),v===_h&&(v=this._$AH[m]),d||(d=!Ig(v)||v!==this._$AH[m]),v===an?r=an:r!==an&&(r+=(v??"")+u[m+1]),this._$AH[m]=v}d&&!l&&this.j(r)}j(r){r===an?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,r??"")}},KR=class extends ky{constructor(){super(...arguments),this.type=3}j(r){this.element[this.name]=r===an?void 0:r}},JR=class extends ky{constructor(){super(...arguments),this.type=4}j(r){this.element.toggleAttribute(this.name,!!r&&r!==an)}};class QR extends ky{constructor(r,t,o,l,u){super(r,t,o,l,u),this.type=5}_$AI(r,t=this){if((r=dp(this,r,t,0)??an)===_h)return;const o=this._$AH,l=r===an&&o!==an||r.capture!==o.capture||r.once!==o.once||r.passive!==o.passive,u=r!==an&&(o===an||l);l&&this.element.removeEventListener(this.name,this,o),u&&this.element.addEventListener(this.name,this,r),this._$AH=r}handleEvent(r){var t;typeof this._$AH=="function"?this._$AH.call(((t=this.options)==null?void 0:t.host)??this.element,r):this._$AH.handleEvent(r)}}let $R=class{constructor(r,t,o){this.element=r,this.type=6,this._$AN=void 0,this._$AM=t,this.options=o}get _$AU(){return this._$AM._$AU}_$AI(r){dp(this,r)}};const ww=gg.litHtmlPolyfillSupport;ww==null||ww(Lg,tm),(gg.litHtmlVersions??(gg.litHtmlVersions=[])).push("3.1.2");const tA=(n,r,t)=>{const o=(t==null?void 0:t.renderBefore)??r;let l=o._$litPart$;if(l===void 0){const u=(t==null?void 0:t.renderBefore)??null;o._$litPart$=l=new tm(r.insertBefore(Mg(),u),u,void 0,t??{})}return l._$AI(n),l};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let mg=class extends Zd{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t;const r=super.createRenderRoot();return(t=this.renderOptions).renderBefore??(t.renderBefore=r.firstChild),r}update(r){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(r),this._$Do=tA(t,this.renderRoot,this.renderOptions)}connectedCallback(){var r;super.connectedCallback(),(r=this._$Do)==null||r.setConnected(!0)}disconnectedCallback(){var r;super.disconnectedCallback(),(r=this._$Do)==null||r.setConnected(!1)}render(){return _h}};var qT;mg._$litElement$=!0,mg.finalized=!0,(qT=globalThis.litElementHydrateSupport)==null||qT.call(globalThis,{LitElement:mg});const xw=globalThis.litElementPolyfillSupport;xw==null||xw({LitElement:mg});(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.0.4");var xs=ts`
  :host {
    box-sizing: border-box;
  }

  :host *,
  :host *::before,
  :host *::after {
    box-sizing: inherit;
  }

  [hidden] {
    display: none !important;
  }
`,eA=ts`
  ${xs}

  :host {
    --track-width: 2px;
    --track-color: rgb(128 128 128 / 25%);
    --indicator-color: var(--sl-color-primary-600);
    --speed: 2s;

    display: inline-flex;
    width: 1em;
    height: 1em;
    flex: none;
  }

  .spinner {
    flex: 1 1 auto;
    height: 100%;
    width: 100%;
  }

  .spinner__track,
  .spinner__indicator {
    fill: none;
    stroke-width: var(--track-width);
    r: calc(0.5em - var(--track-width) / 2);
    cx: 0.5em;
    cy: 0.5em;
    transform-origin: 50% 50%;
  }

  .spinner__track {
    stroke: var(--track-color);
    transform-origin: 0% 0%;
  }

  .spinner__indicator {
    stroke: var(--indicator-color);
    stroke-linecap: round;
    stroke-dasharray: 150% 75%;
    animation: spin var(--speed) linear infinite;
  }

  @keyframes spin {
    0% {
      transform: rotate(0deg);
      stroke-dasharray: 0.05em, 3em;
    }

    50% {
      transform: rotate(450deg);
      stroke-dasharray: 1.375em, 1.375em;
    }

    100% {
      transform: rotate(1080deg);
      stroke-dasharray: 0.05em, 3em;
    }
  }
`;const a1=new Set,rA=new MutationObserver(XS),$d=new Map;let WS=document.documentElement.dir||"ltr",ZS=document.documentElement.lang||navigator.language,ph;rA.observe(document.documentElement,{attributes:!0,attributeFilter:["dir","lang"]});function YS(...n){n.map(r=>{const t=r.$code.toLowerCase();$d.has(t)?$d.set(t,Object.assign(Object.assign({},$d.get(t)),r)):$d.set(t,r),ph||(ph=r)}),XS()}function XS(){WS=document.documentElement.dir||"ltr",ZS=document.documentElement.lang||navigator.language,[...a1.keys()].map(n=>{typeof n.requestUpdate=="function"&&n.requestUpdate()})}let iA=class{constructor(r){this.host=r,this.host.addController(this)}hostConnected(){a1.add(this.host)}hostDisconnected(){a1.delete(this.host)}dir(){return`${this.host.dir||WS}`.toLowerCase()}lang(){return`${this.host.lang||ZS}`.toLowerCase()}getTranslationData(r){var t,o;const l=new Intl.Locale(r.replace(/_/g,"-")),u=l==null?void 0:l.language.toLowerCase(),d=(o=(t=l==null?void 0:l.region)===null||t===void 0?void 0:t.toLowerCase())!==null&&o!==void 0?o:"",f=$d.get(`${u}-${d}`),m=$d.get(u);return{locale:l,language:u,region:d,primary:f,secondary:m}}exists(r,t){var o;const{primary:l,secondary:u}=this.getTranslationData((o=t.lang)!==null&&o!==void 0?o:this.lang());return t=Object.assign({includeFallback:!1},t),!!(l&&l[r]||u&&u[r]||t.includeFallback&&ph&&ph[r])}term(r,...t){const{primary:o,secondary:l}=this.getTranslationData(this.lang());let u;if(o&&o[r])u=o[r];else if(l&&l[r])u=l[r];else if(ph&&ph[r])u=ph[r];else return console.error(`No translation found for: ${String(r)}`),String(r);return typeof u=="function"?u(...t):u}date(r,t){return r=new Date(r),new Intl.DateTimeFormat(this.lang(),t).format(r)}number(r,t){return r=Number(r),isNaN(r)?"":new Intl.NumberFormat(this.lang(),t).format(r)}relativeTime(r,t,o){return new Intl.RelativeTimeFormat(this.lang(),o).format(r,t)}};var KS={$code:"en",$name:"English",$dir:"ltr",carousel:"Carousel",clearEntry:"Clear entry",close:"Close",copied:"Copied",copy:"Copy",currentValue:"Current value",error:"Error",goToSlide:(n,r)=>`Go to slide ${n} of ${r}`,hidePassword:"Hide password",loading:"Loading",nextSlide:"Next slide",numOptionsSelected:n=>n===0?"No options selected":n===1?"1 option selected":`${n} options selected`,previousSlide:"Previous slide",progress:"Progress",remove:"Remove",resize:"Resize",scrollToEnd:"Scroll to end",scrollToStart:"Scroll to start",selectAColorFromTheScreen:"Select a color from the screen",showPassword:"Show password",slideNum:n=>`Slide ${n}`,toggleColorFormat:"Toggle color format"};YS(KS);var nA=KS,wu=class extends iA{};YS(nA);var JS=Object.defineProperty,oA=Object.defineProperties,sA=Object.getOwnPropertyDescriptor,aA=Object.getOwnPropertyDescriptors,y2=Object.getOwnPropertySymbols,lA=Object.prototype.hasOwnProperty,cA=Object.prototype.propertyIsEnumerable,_w=(n,r)=>(r=Symbol[n])?r:Symbol.for("Symbol."+n),b2=(n,r,t)=>r in n?JS(n,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[r]=t,xu=(n,r)=>{for(var t in r||(r={}))lA.call(r,t)&&b2(n,t,r[t]);if(y2)for(var t of y2(r))cA.call(r,t)&&b2(n,t,r[t]);return n},Ey=(n,r)=>oA(n,aA(r)),Wt=(n,r,t,o)=>{for(var l=o>1?void 0:o?sA(r,t):r,u=n.length-1,d;u>=0;u--)(d=n[u])&&(l=(o?d(r,t,l):d(l))||l);return o&&l&&JS(r,t,l),l},uA=function(n,r){this[0]=n,this[1]=r},hA=n=>{var r=n[_w("asyncIterator")],t=!1,o,l={};return r==null?(r=n[_w("iterator")](),o=u=>l[u]=d=>r[u](d)):(r=r.call(n),o=u=>l[u]=d=>{if(t){if(t=!1,u==="throw")throw d;return d}return t=!0,{done:!1,value:new uA(new Promise(f=>{var m=r[u](d);if(!(m instanceof Object))throw TypeError("Object expected");f(m)}),1)}}),l[_w("iterator")]=()=>l,o("next"),"throw"in r?o("throw"):l.throw=u=>{throw u},"return"in r&&o("return"),l};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const dA={attribute:!0,type:String,converter:Lv,reflect:!1,hasChanged:lx},pA=(n=dA,r,t)=>{const{kind:o,metadata:l}=t;let u=globalThis.litPropertyMetadata.get(l);if(u===void 0&&globalThis.litPropertyMetadata.set(l,u=new Map),u.set(t.name,n),o==="accessor"){const{name:d}=t;return{set(f){const m=r.get.call(this);r.set.call(this,f),this.requestUpdate(d,m,n)},init(f){return f!==void 0&&this.P(d,void 0,n),f}}}if(o==="setter"){const{name:d}=t;return function(f){const m=this[d];r.call(this,f),this.requestUpdate(d,m,n)}}throw Error("Unsupported decorator location: "+o)};function le(n){return(r,t)=>typeof t=="object"?pA(n,r,t):((o,l,u)=>{const d=l.hasOwnProperty(u);return l.constructor.createProperty(u,d?{...o,wrapped:!0}:o),d?Object.getOwnPropertyDescriptor(l,u):void 0})(n,r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function em(n){return le({...n,state:!0,attribute:!1})}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const w2=(n,r,t)=>(t.configurable=!0,t.enumerable=!0,Reflect.decorate&&typeof r!="object"&&Object.defineProperty(n,r,t),t);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function cn(n,r){return(t,o,l)=>{const u=d=>{var f;return((f=d.renderRoot)==null?void 0:f.querySelector(n))??null};if(r){const{get:d,set:f}=typeof o=="object"?t:l??(()=>{const m=Symbol();return{get(){return this[m]},set(v){this[m]=v}}})();return w2(t,o,{get(){let m=d.call(this);return m===void 0&&(m=u(this),(m!==null||this.hasUpdated)&&f.call(this,m)),m}})}return w2(t,o,{get(){return u(this)}})}}var $n=class extends mg{constructor(){super(),Object.entries(this.constructor.dependencies).forEach(([n,r])=>{this.constructor.define(n,r)})}emit(n,r){const t=new CustomEvent(n,xu({bubbles:!0,cancelable:!1,composed:!0,detail:{}},r));return this.dispatchEvent(t),t}static define(n,r=this,t={}){const o=customElements.get(n);if(!o){customElements.define(n,class extends r{},t);return}let l=" (unknown version)",u=l;"version"in r&&r.version&&(l=" v"+r.version),"version"in o&&o.version&&(u=" v"+o.version),!(l&&u&&l===u)&&console.warn(`Attempted to register <${n}>${l}, but <${n}>${u} has already been registered.`)}};$n.version="2.13.1";$n.dependencies={};Wt([le()],$n.prototype,"dir",2);Wt([le()],$n.prototype,"lang",2);var Ty=class extends $n{constructor(){super(...arguments),this.localize=new wu(this)}render(){return _n`
      <svg part="base" class="spinner" role="progressbar" aria-label=${this.localize.term("loading")}>
        <circle class="spinner__track"></circle>
        <circle class="spinner__indicator"></circle>
      </svg>
    `}};Ty.styles=eA;var Xf=new WeakMap,Kf=new WeakMap,Jf=new WeakMap,kw=new WeakSet,U0=new WeakMap,fA=class{constructor(n,r){this.handleFormData=t=>{const o=this.options.disabled(this.host),l=this.options.name(this.host),u=this.options.value(this.host),d=this.host.tagName.toLowerCase()==="sl-button";this.host.isConnected&&!o&&!d&&typeof l=="string"&&l.length>0&&typeof u<"u"&&(Array.isArray(u)?u.forEach(f=>{t.formData.append(l,f.toString())}):t.formData.append(l,u.toString()))},this.handleFormSubmit=t=>{var o;const l=this.options.disabled(this.host),u=this.options.reportValidity;this.form&&!this.form.noValidate&&((o=Xf.get(this.form))==null||o.forEach(d=>{this.setUserInteracted(d,!0)})),this.form&&!this.form.noValidate&&!l&&!u(this.host)&&(t.preventDefault(),t.stopImmediatePropagation())},this.handleFormReset=()=>{this.options.setValue(this.host,this.options.defaultValue(this.host)),this.setUserInteracted(this.host,!1),U0.set(this.host,[])},this.handleInteraction=t=>{const o=U0.get(this.host);o.includes(t.type)||o.push(t.type),o.length===this.options.assumeInteractionOn.length&&this.setUserInteracted(this.host,!0)},this.checkFormValidity=()=>{if(this.form&&!this.form.noValidate){const t=this.form.querySelectorAll("*");for(const o of t)if(typeof o.checkValidity=="function"&&!o.checkValidity())return!1}return!0},this.reportFormValidity=()=>{if(this.form&&!this.form.noValidate){const t=this.form.querySelectorAll("*");for(const o of t)if(typeof o.reportValidity=="function"&&!o.reportValidity())return!1}return!0},(this.host=n).addController(this),this.options=xu({form:t=>{const o=t.form;if(o){const u=t.getRootNode().getElementById(o);if(u)return u}return t.closest("form")},name:t=>t.name,value:t=>t.value,defaultValue:t=>t.defaultValue,disabled:t=>{var o;return(o=t.disabled)!=null?o:!1},reportValidity:t=>typeof t.reportValidity=="function"?t.reportValidity():!0,checkValidity:t=>typeof t.checkValidity=="function"?t.checkValidity():!0,setValue:(t,o)=>t.value=o,assumeInteractionOn:["sl-input"]},r)}hostConnected(){const n=this.options.form(this.host);n&&this.attachForm(n),U0.set(this.host,[]),this.options.assumeInteractionOn.forEach(r=>{this.host.addEventListener(r,this.handleInteraction)})}hostDisconnected(){this.detachForm(),U0.delete(this.host),this.options.assumeInteractionOn.forEach(n=>{this.host.removeEventListener(n,this.handleInteraction)})}hostUpdated(){const n=this.options.form(this.host);n||this.detachForm(),n&&this.form!==n&&(this.detachForm(),this.attachForm(n)),this.host.hasUpdated&&this.setValidity(this.host.validity.valid)}attachForm(n){n?(this.form=n,Xf.has(this.form)?Xf.get(this.form).add(this.host):Xf.set(this.form,new Set([this.host])),this.form.addEventListener("formdata",this.handleFormData),this.form.addEventListener("submit",this.handleFormSubmit),this.form.addEventListener("reset",this.handleFormReset),Kf.has(this.form)||(Kf.set(this.form,this.form.reportValidity),this.form.reportValidity=()=>this.reportFormValidity()),Jf.has(this.form)||(Jf.set(this.form,this.form.checkValidity),this.form.checkValidity=()=>this.checkFormValidity())):this.form=void 0}detachForm(){if(!this.form)return;const n=Xf.get(this.form);n&&(n.delete(this.host),n.size<=0&&(this.form.removeEventListener("formdata",this.handleFormData),this.form.removeEventListener("submit",this.handleFormSubmit),this.form.removeEventListener("reset",this.handleFormReset),Kf.has(this.form)&&(this.form.reportValidity=Kf.get(this.form),Kf.delete(this.form)),Jf.has(this.form)&&(this.form.checkValidity=Jf.get(this.form),Jf.delete(this.form)),this.form=void 0))}setUserInteracted(n,r){r?kw.add(n):kw.delete(n),n.requestUpdate()}doAction(n,r){if(this.form){const t=document.createElement("button");t.type=n,t.style.position="absolute",t.style.width="0",t.style.height="0",t.style.clipPath="inset(50%)",t.style.overflow="hidden",t.style.whiteSpace="nowrap",r&&(t.name=r.name,t.value=r.value,["formaction","formenctype","formmethod","formnovalidate","formtarget"].forEach(o=>{r.hasAttribute(o)&&t.setAttribute(o,r.getAttribute(o))})),this.form.append(t),t.click(),t.remove()}}getForm(){var n;return(n=this.form)!=null?n:null}reset(n){this.doAction("reset",n)}submit(n){this.doAction("submit",n)}setValidity(n){const r=this.host,t=!!kw.has(r),o=!!r.required;r.toggleAttribute("data-required",o),r.toggleAttribute("data-optional",!o),r.toggleAttribute("data-invalid",!n),r.toggleAttribute("data-valid",n),r.toggleAttribute("data-user-invalid",!n&&t),r.toggleAttribute("data-user-valid",n&&t)}updateValidity(){const n=this.host;this.setValidity(n.validity.valid)}emitInvalidEvent(n){const r=new CustomEvent("sl-invalid",{bubbles:!1,composed:!1,cancelable:!0,detail:{}});n||r.preventDefault(),this.host.dispatchEvent(r)||n==null||n.preventDefault()}},cx=Object.freeze({badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valid:!0,valueMissing:!1});Object.freeze(Ey(xu({},cx),{valid:!1,valueMissing:!0}));Object.freeze(Ey(xu({},cx),{valid:!1,customError:!0}));var gA=ts`
  ${xs}

  :host {
    display: inline-block;
    position: relative;
    width: auto;
    cursor: pointer;
  }

  .button {
    display: inline-flex;
    align-items: stretch;
    justify-content: center;
    width: 100%;
    border-style: solid;
    border-width: var(--sl-input-border-width);
    font-family: var(--sl-input-font-family);
    font-weight: var(--sl-font-weight-semibold);
    text-decoration: none;
    user-select: none;
    -webkit-user-select: none;
    white-space: nowrap;
    vertical-align: middle;
    padding: 0;
    transition:
      var(--sl-transition-x-fast) background-color,
      var(--sl-transition-x-fast) color,
      var(--sl-transition-x-fast) border,
      var(--sl-transition-x-fast) box-shadow;
    cursor: inherit;
  }

  .button::-moz-focus-inner {
    border: 0;
  }

  .button:focus {
    outline: none;
  }

  .button:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  /* When disabled, prevent mouse events from bubbling up from children */
  .button--disabled * {
    pointer-events: none;
  }

  .button__prefix,
  .button__suffix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    pointer-events: none;
  }

  .button__label {
    display: inline-block;
  }

  .button__label::slotted(sl-icon) {
    vertical-align: -2px;
  }

  /*
   * Standard buttons
   */

  /* Default */
  .button--standard.button--default {
    background-color: var(--sl-color-neutral-0);
    border-color: var(--sl-color-neutral-300);
    color: var(--sl-color-neutral-700);
  }

  .button--standard.button--default:hover:not(.button--disabled) {
    background-color: var(--sl-color-primary-50);
    border-color: var(--sl-color-primary-300);
    color: var(--sl-color-primary-700);
  }

  .button--standard.button--default:active:not(.button--disabled) {
    background-color: var(--sl-color-primary-100);
    border-color: var(--sl-color-primary-400);
    color: var(--sl-color-primary-700);
  }

  /* Primary */
  .button--standard.button--primary {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--primary:hover:not(.button--disabled) {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--primary:active:not(.button--disabled) {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  /* Success */
  .button--standard.button--success {
    background-color: var(--sl-color-success-600);
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--success:hover:not(.button--disabled) {
    background-color: var(--sl-color-success-500);
    border-color: var(--sl-color-success-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--success:active:not(.button--disabled) {
    background-color: var(--sl-color-success-600);
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  /* Neutral */
  .button--standard.button--neutral {
    background-color: var(--sl-color-neutral-600);
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--neutral:hover:not(.button--disabled) {
    background-color: var(--sl-color-neutral-500);
    border-color: var(--sl-color-neutral-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--neutral:active:not(.button--disabled) {
    background-color: var(--sl-color-neutral-600);
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  /* Warning */
  .button--standard.button--warning {
    background-color: var(--sl-color-warning-600);
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }
  .button--standard.button--warning:hover:not(.button--disabled) {
    background-color: var(--sl-color-warning-500);
    border-color: var(--sl-color-warning-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--warning:active:not(.button--disabled) {
    background-color: var(--sl-color-warning-600);
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  /* Danger */
  .button--standard.button--danger {
    background-color: var(--sl-color-danger-600);
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--danger:hover:not(.button--disabled) {
    background-color: var(--sl-color-danger-500);
    border-color: var(--sl-color-danger-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--danger:active:not(.button--disabled) {
    background-color: var(--sl-color-danger-600);
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  /*
   * Outline buttons
   */

  .button--outline {
    background: none;
    border: solid 1px;
  }

  /* Default */
  .button--outline.button--default {
    border-color: var(--sl-color-neutral-300);
    color: var(--sl-color-neutral-700);
  }

  .button--outline.button--default:hover:not(.button--disabled),
  .button--outline.button--default.button--checked:not(.button--disabled) {
    border-color: var(--sl-color-primary-600);
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--default:active:not(.button--disabled) {
    border-color: var(--sl-color-primary-700);
    background-color: var(--sl-color-primary-700);
    color: var(--sl-color-neutral-0);
  }

  /* Primary */
  .button--outline.button--primary {
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-primary-600);
  }

  .button--outline.button--primary:hover:not(.button--disabled),
  .button--outline.button--primary.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--primary:active:not(.button--disabled) {
    border-color: var(--sl-color-primary-700);
    background-color: var(--sl-color-primary-700);
    color: var(--sl-color-neutral-0);
  }

  /* Success */
  .button--outline.button--success {
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-success-600);
  }

  .button--outline.button--success:hover:not(.button--disabled),
  .button--outline.button--success.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--success:active:not(.button--disabled) {
    border-color: var(--sl-color-success-700);
    background-color: var(--sl-color-success-700);
    color: var(--sl-color-neutral-0);
  }

  /* Neutral */
  .button--outline.button--neutral {
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-600);
  }

  .button--outline.button--neutral:hover:not(.button--disabled),
  .button--outline.button--neutral.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--neutral:active:not(.button--disabled) {
    border-color: var(--sl-color-neutral-700);
    background-color: var(--sl-color-neutral-700);
    color: var(--sl-color-neutral-0);
  }

  /* Warning */
  .button--outline.button--warning {
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-warning-600);
  }

  .button--outline.button--warning:hover:not(.button--disabled),
  .button--outline.button--warning.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--warning:active:not(.button--disabled) {
    border-color: var(--sl-color-warning-700);
    background-color: var(--sl-color-warning-700);
    color: var(--sl-color-neutral-0);
  }

  /* Danger */
  .button--outline.button--danger {
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-danger-600);
  }

  .button--outline.button--danger:hover:not(.button--disabled),
  .button--outline.button--danger.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--danger:active:not(.button--disabled) {
    border-color: var(--sl-color-danger-700);
    background-color: var(--sl-color-danger-700);
    color: var(--sl-color-neutral-0);
  }

  @media (forced-colors: active) {
    .button.button--outline.button--checked:not(.button--disabled) {
      outline: solid 2px transparent;
    }
  }

  /*
   * Text buttons
   */

  .button--text {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-600);
  }

  .button--text:hover:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-500);
  }

  .button--text:focus-visible:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-500);
  }

  .button--text:active:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-700);
  }

  /*
   * Size modifiers
   */

  .button--small {
    height: auto;
    min-height: var(--sl-input-height-small);
    font-size: var(--sl-button-font-size-small);
    line-height: calc(var(--sl-input-height-small) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-small);
  }

  .button--medium {
    height: auto;
    min-height: var(--sl-input-height-medium);
    font-size: var(--sl-button-font-size-medium);
    line-height: calc(var(--sl-input-height-medium) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-medium);
  }

  .button--large {
    height: auto;
    min-height: var(--sl-input-height-large);
    font-size: var(--sl-button-font-size-large);
    line-height: calc(var(--sl-input-height-large) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-large);
  }

  /*
   * Pill modifier
   */

  .button--pill.button--small {
    border-radius: var(--sl-input-height-small);
  }

  .button--pill.button--medium {
    border-radius: var(--sl-input-height-medium);
  }

  .button--pill.button--large {
    border-radius: var(--sl-input-height-large);
  }

  /*
   * Circle modifier
   */

  .button--circle {
    padding-left: 0;
    padding-right: 0;
  }

  .button--circle.button--small {
    width: var(--sl-input-height-small);
    border-radius: 50%;
  }

  .button--circle.button--medium {
    width: var(--sl-input-height-medium);
    border-radius: 50%;
  }

  .button--circle.button--large {
    width: var(--sl-input-height-large);
    border-radius: 50%;
  }

  .button--circle .button__prefix,
  .button--circle .button__suffix,
  .button--circle .button__caret {
    display: none;
  }

  /*
   * Caret modifier
   */

  .button--caret .button__suffix {
    display: none;
  }

  .button--caret .button__caret {
    height: auto;
  }

  /*
   * Loading modifier
   */

  .button--loading {
    position: relative;
    cursor: wait;
  }

  .button--loading .button__prefix,
  .button--loading .button__label,
  .button--loading .button__suffix,
  .button--loading .button__caret {
    visibility: hidden;
  }

  .button--loading sl-spinner {
    --indicator-color: currentColor;
    position: absolute;
    font-size: 1em;
    height: 1em;
    width: 1em;
    top: calc(50% - 0.5em);
    left: calc(50% - 0.5em);
  }

  /*
   * Badges
   */

  .button ::slotted(sl-badge) {
    position: absolute;
    top: 0;
    right: 0;
    translate: 50% -50%;
    pointer-events: none;
  }

  .button--rtl ::slotted(sl-badge) {
    right: auto;
    left: 0;
    translate: -50% -50%;
  }

  /*
   * Button spacing
   */

  .button--has-label.button--small .button__label {
    padding: 0 var(--sl-spacing-small);
  }

  .button--has-label.button--medium .button__label {
    padding: 0 var(--sl-spacing-medium);
  }

  .button--has-label.button--large .button__label {
    padding: 0 var(--sl-spacing-large);
  }

  .button--has-prefix.button--small {
    padding-inline-start: var(--sl-spacing-x-small);
  }

  .button--has-prefix.button--small .button__label {
    padding-inline-start: var(--sl-spacing-x-small);
  }

  .button--has-prefix.button--medium {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--medium .button__label {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--large {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--large .button__label {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-suffix.button--small,
  .button--caret.button--small {
    padding-inline-end: var(--sl-spacing-x-small);
  }

  .button--has-suffix.button--small .button__label,
  .button--caret.button--small .button__label {
    padding-inline-end: var(--sl-spacing-x-small);
  }

  .button--has-suffix.button--medium,
  .button--caret.button--medium {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--medium .button__label,
  .button--caret.button--medium .button__label {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--large,
  .button--caret.button--large {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--large .button__label,
  .button--caret.button--large .button__label {
    padding-inline-end: var(--sl-spacing-small);
  }

  /*
   * Button groups support a variety of button types (e.g. buttons with tooltips, buttons as dropdown triggers, etc.).
   * This means buttons aren't always direct descendants of the button group, thus we can't target them with the
   * ::slotted selector. To work around this, the button group component does some magic to add these special classes to
   * buttons and we style them here instead.
   */

  :host(.sl-button-group__button--first:not(.sl-button-group__button--last)) .button {
    border-start-end-radius: 0;
    border-end-end-radius: 0;
  }

  :host(.sl-button-group__button--inner) .button {
    border-radius: 0;
  }

  :host(.sl-button-group__button--last:not(.sl-button-group__button--first)) .button {
    border-start-start-radius: 0;
    border-end-start-radius: 0;
  }

  /* All except the first */
  :host(.sl-button-group__button:not(.sl-button-group__button--first)) {
    margin-inline-start: calc(-1 * var(--sl-input-border-width));
  }

  /* Add a visual separator between solid buttons */
  :host(
      .sl-button-group__button:not(
          .sl-button-group__button--first,
          .sl-button-group__button--radio,
          [variant='default']
        ):not(:hover)
    )
    .button:after {
    content: '';
    position: absolute;
    top: 0;
    inset-inline-start: 0;
    bottom: 0;
    border-left: solid 1px rgb(128 128 128 / 33%);
    mix-blend-mode: multiply;
  }

  /* Bump hovered, focused, and checked buttons up so their focus ring isn't clipped */
  :host(.sl-button-group__button--hover) {
    z-index: 1;
  }

  /* Focus and checked are always on top */
  :host(.sl-button-group__button--focus),
  :host(.sl-button-group__button[checked]) {
    z-index: 2;
  }
`,ux=class{constructor(n,...r){this.slotNames=[],this.handleSlotChange=t=>{const o=t.target;(this.slotNames.includes("[default]")&&!o.name||o.name&&this.slotNames.includes(o.name))&&this.host.requestUpdate()},(this.host=n).addController(this),this.slotNames=r}hasDefaultSlot(){return[...this.host.childNodes].some(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent.trim()!=="")return!0;if(n.nodeType===n.ELEMENT_NODE){const r=n;if(r.tagName.toLowerCase()==="sl-visually-hidden")return!1;if(!r.hasAttribute("slot"))return!0}return!1})}hasNamedSlot(n){return this.host.querySelector(`:scope > [slot="${n}"]`)!==null}test(n){return n==="[default]"?this.hasDefaultSlot():this.hasNamedSlot(n)}hostConnected(){this.host.shadowRoot.addEventListener("slotchange",this.handleSlotChange)}hostDisconnected(){this.host.shadowRoot.removeEventListener("slotchange",this.handleSlotChange)}};function mA(n){if(!n)return"";const r=n.assignedNodes({flatten:!0});let t="";return[...r].forEach(o=>{o.nodeType===Node.TEXT_NODE&&(t+=o.textContent)}),t}var l1="";function x2(n){l1=n}function vA(n=""){if(!l1){const r=[...document.getElementsByTagName("script")],t=r.find(o=>o.hasAttribute("data-shoelace"));if(t)x2(t.getAttribute("data-shoelace"));else{const o=r.find(u=>/shoelace(\.min)?\.js($|\?)/.test(u.src)||/shoelace-autoloader(\.min)?\.js($|\?)/.test(u.src));let l="";o&&(l=o.getAttribute("src")),x2(l.split("/").slice(0,-1).join("/"))}}return l1.replace(/\/$/,"")+(n?`/${n.replace(/^\//,"")}`:"")}var yA={name:"default",resolver:n=>vA(`assets/icons/${n}.svg`)},bA=yA,_2={caret:`
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <polyline points="6 9 12 15 18 9"></polyline>
    </svg>
  `,check:`
    <svg part="checked-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor">
          <g transform="translate(3.428571, 3.428571)">
            <path d="M0,5.71428571 L3.42857143,9.14285714"></path>
            <path d="M9.14285714,0 L3.42857143,9.14285714"></path>
          </g>
        </g>
      </g>
    </svg>
  `,"chevron-down":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,"chevron-left":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
    </svg>
  `,"chevron-right":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,copy:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-copy" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M4 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V2Zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H6ZM2 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1h1v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1v1H2Z"/>
    </svg>
  `,eye:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
      <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
      <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
    </svg>
  `,"eye-slash":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-slash" viewBox="0 0 16 16">
      <path d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"/>
      <path d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z"/>
      <path d="M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708z"/>
    </svg>
  `,eyedropper:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eyedropper" viewBox="0 0 16 16">
      <path d="M13.354.646a1.207 1.207 0 0 0-1.708 0L8.5 3.793l-.646-.647a.5.5 0 1 0-.708.708L8.293 5l-7.147 7.146A.5.5 0 0 0 1 12.5v1.793l-.854.853a.5.5 0 1 0 .708.707L1.707 15H3.5a.5.5 0 0 0 .354-.146L11 7.707l1.146 1.147a.5.5 0 0 0 .708-.708l-.647-.646 3.147-3.146a1.207 1.207 0 0 0 0-1.708l-2-2zM2 12.707l7-7L10.293 7l-7 7H2v-1.293z"></path>
    </svg>
  `,"grip-vertical":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-grip-vertical" viewBox="0 0 16 16">
      <path d="M7 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path>
    </svg>
  `,indeterminate:`
    <svg part="indeterminate-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor" stroke-width="2">
          <g transform="translate(2.285714, 6.857143)">
            <path d="M10.2857143,1.14285714 L1.14285714,1.14285714"></path>
          </g>
        </g>
      </g>
    </svg>
  `,"person-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
      <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
    </svg>
  `,"play-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">
      <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"></path>
    </svg>
  `,"pause-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pause-fill" viewBox="0 0 16 16">
      <path d="M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"></path>
    </svg>
  `,radio:`
    <svg part="checked-icon" class="radio__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g fill="currentColor">
          <circle cx="8" cy="8" r="3.42857143"></circle>
        </g>
      </g>
    </svg>
  `,"star-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
    </svg>
  `,"x-lg":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
      <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/>
    </svg>
  `,"x-circle-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle-fill" viewBox="0 0 16 16">
      <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"></path>
    </svg>
  `},wA={name:"system",resolver:n=>n in _2?`data:image/svg+xml,${encodeURIComponent(_2[n])}`:""},xA=wA,_A=[bA,xA],c1=[];function kA(n){c1.push(n)}function EA(n){c1=c1.filter(r=>r!==n)}function k2(n){return _A.find(r=>r.name===n)}var TA=ts`
  ${xs}

  :host {
    display: inline-block;
    width: 1em;
    height: 1em;
    box-sizing: content-box !important;
  }

  svg {
    display: block;
    height: 100%;
    width: 100%;
  }
`;function vo(n,r){const t=xu({waitUntilFirstUpdate:!1},r);return(o,l)=>{const{update:u}=o,d=Array.isArray(n)?n:[n];o.update=function(f){d.forEach(m=>{const v=m;if(f.has(v)){const _=f.get(v),k=this[v];_!==k&&(!t.waitUntilFirstUpdate||this.hasUpdated)&&this[l](_,k)}}),u.call(this,f)}}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const SA=(n,r)=>r===void 0?(n==null?void 0:n._$litType$)!==void 0:(n==null?void 0:n._$litType$)===r,CA=n=>n.strings===void 0;var Qf=Symbol(),G0=Symbol(),Ew,Tw=new Map,ea=class extends $n{constructor(){super(...arguments),this.initialRender=!1,this.svg=null,this.label="",this.library="default"}async resolveIcon(n,r){var t;let o;if(r!=null&&r.spriteSheet)return _n`<svg part="svg">
        <use part="use" href="${n}"></use>
      </svg>`;try{if(o=await fetch(n,{mode:"cors"}),!o.ok)return o.status===410?Qf:G0}catch{return G0}try{const l=document.createElement("div");l.innerHTML=await o.text();const u=l.firstElementChild;if(((t=u==null?void 0:u.tagName)==null?void 0:t.toLowerCase())!=="svg")return Qf;Ew||(Ew=new DOMParser);const f=Ew.parseFromString(u.outerHTML,"text/html").body.querySelector("svg");return f?(f.part.add("svg"),document.adoptNode(f)):Qf}catch{return Qf}}connectedCallback(){super.connectedCallback(),kA(this)}firstUpdated(){this.initialRender=!0,this.setIcon()}disconnectedCallback(){super.disconnectedCallback(),EA(this)}getIconSource(){const n=k2(this.library);return this.name&&n?{url:n.resolver(this.name),fromLibrary:!0}:{url:this.src,fromLibrary:!1}}handleLabelChange(){typeof this.label=="string"&&this.label.length>0?(this.setAttribute("role","img"),this.setAttribute("aria-label",this.label),this.removeAttribute("aria-hidden")):(this.removeAttribute("role"),this.removeAttribute("aria-label"),this.setAttribute("aria-hidden","true"))}async setIcon(){var n;const{url:r,fromLibrary:t}=this.getIconSource(),o=t?k2(this.library):void 0;if(!r){this.svg=null;return}let l=Tw.get(r);if(l||(l=this.resolveIcon(r,o),Tw.set(r,l)),!this.initialRender)return;const u=await l;if(u===G0&&Tw.delete(r),r===this.getIconSource().url){if(SA(u)){this.svg=u;return}switch(u){case G0:case Qf:this.svg=null,this.emit("sl-error");break;default:this.svg=u.cloneNode(!0),(n=o==null?void 0:o.mutator)==null||n.call(o,this.svg),this.emit("sl-load")}}}render(){return this.svg}};ea.styles=TA;Wt([em()],ea.prototype,"svg",2);Wt([le({reflect:!0})],ea.prototype,"name",2);Wt([le()],ea.prototype,"src",2);Wt([le()],ea.prototype,"label",2);Wt([le({reflect:!0})],ea.prototype,"library",2);Wt([vo("label")],ea.prototype,"handleLabelChange",1);Wt([vo(["name","src","library"])],ea.prototype,"setIcon",1);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const QS={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},$S=n=>(...r)=>({_$litDirective$:n,values:r});let tC=class{constructor(r){}get _$AU(){return this._$AM._$AU}_$AT(r,t,o){this._$Ct=r,this._$AM=t,this._$Ci=o}_$AS(r,t){return this.update(r,t)}update(r,t){return this.render(...t)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Na=$S(class extends tC{constructor(n){var r;if(super(n),n.type!==QS.ATTRIBUTE||n.name!=="class"||((r=n.strings)==null?void 0:r.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(n){return" "+Object.keys(n).filter(r=>n[r]).join(" ")+" "}update(n,[r]){var o,l;if(this.st===void 0){this.st=new Set,n.strings!==void 0&&(this.nt=new Set(n.strings.join(" ").split(/\s/).filter(u=>u!=="")));for(const u in r)r[u]&&!((o=this.nt)!=null&&o.has(u))&&this.st.add(u);return this.render(r)}const t=n.element.classList;for(const u of this.st)u in r||(t.remove(u),this.st.delete(u));for(const u in r){const d=!!r[u];d===this.st.has(u)||(l=this.nt)!=null&&l.has(u)||(d?(t.add(u),this.st.add(u)):(t.remove(u),this.st.delete(u)))}return _h}});/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const eC=Symbol.for(""),PA=n=>{if((n==null?void 0:n.r)===eC)return n==null?void 0:n._$litStatic$},Av=(n,...r)=>({_$litStatic$:r.reduce((t,o,l)=>t+(u=>{if(u._$litStatic$!==void 0)return u._$litStatic$;throw Error(`Value passed to 'literal' function must be a 'literal' result: ${u}. Use 'unsafeStatic' to pass non-literal values, but
            take care to ensure page security.`)})(o)+n[l+1],n[0]),r:eC}),E2=new Map,MA=n=>(r,...t)=>{const o=t.length;let l,u;const d=[],f=[];let m,v=0,_=!1;for(;v<o;){for(m=r[v];v<o&&(u=t[v],(l=PA(u))!==void 0);)m+=l+r[++v],_=!0;v!==o&&f.push(u),d.push(m),v++}if(v===o&&d.push(r[o]),_){const k=d.join("$$lit$$");(r=E2.get(k))===void 0&&(d.raw=d,E2.set(k,r=d)),t=f}return n(r,...t)},gv=MA(_n);/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const sn=n=>n??an;var bi=class extends $n{constructor(){super(...arguments),this.formControlController=new fA(this,{assumeInteractionOn:["click"]}),this.hasSlotController=new ux(this,"[default]","prefix","suffix"),this.localize=new wu(this),this.hasFocus=!1,this.invalid=!1,this.title="",this.variant="default",this.size="medium",this.caret=!1,this.disabled=!1,this.loading=!1,this.outline=!1,this.pill=!1,this.circle=!1,this.type="button",this.name="",this.value="",this.href="",this.rel="noreferrer noopener"}get validity(){return this.isButton()?this.button.validity:cx}get validationMessage(){return this.isButton()?this.button.validationMessage:""}firstUpdated(){this.isButton()&&this.formControlController.updateValidity()}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleClick(){this.type==="submit"&&this.formControlController.submit(this),this.type==="reset"&&this.formControlController.reset(this)}handleInvalid(n){this.formControlController.setValidity(!1),this.formControlController.emitInvalidEvent(n)}isButton(){return!this.href}isLink(){return!!this.href}handleDisabledChange(){this.isButton()&&this.formControlController.setValidity(this.disabled)}click(){this.button.click()}focus(n){this.button.focus(n)}blur(){this.button.blur()}checkValidity(){return this.isButton()?this.button.checkValidity():!0}getForm(){return this.formControlController.getForm()}reportValidity(){return this.isButton()?this.button.reportValidity():!0}setCustomValidity(n){this.isButton()&&(this.button.setCustomValidity(n),this.formControlController.updateValidity())}render(){const n=this.isLink(),r=n?Av`a`:Av`button`;return gv`
      <${r}
        part="base"
        class=${Na({button:!0,"button--default":this.variant==="default","button--primary":this.variant==="primary","button--success":this.variant==="success","button--neutral":this.variant==="neutral","button--warning":this.variant==="warning","button--danger":this.variant==="danger","button--text":this.variant==="text","button--small":this.size==="small","button--medium":this.size==="medium","button--large":this.size==="large","button--caret":this.caret,"button--circle":this.circle,"button--disabled":this.disabled,"button--focused":this.hasFocus,"button--loading":this.loading,"button--standard":!this.outline,"button--outline":this.outline,"button--pill":this.pill,"button--rtl":this.localize.dir()==="rtl","button--has-label":this.hasSlotController.test("[default]"),"button--has-prefix":this.hasSlotController.test("prefix"),"button--has-suffix":this.hasSlotController.test("suffix")})}
        ?disabled=${sn(n?void 0:this.disabled)}
        type=${sn(n?void 0:this.type)}
        title=${this.title}
        name=${sn(n?void 0:this.name)}
        value=${sn(n?void 0:this.value)}
        href=${sn(n?this.href:void 0)}
        target=${sn(n?this.target:void 0)}
        download=${sn(n?this.download:void 0)}
        rel=${sn(n?this.rel:void 0)}
        role=${sn(n?void 0:"button")}
        aria-disabled=${this.disabled?"true":"false"}
        tabindex=${this.disabled?"-1":"0"}
        @blur=${this.handleBlur}
        @focus=${this.handleFocus}
        @invalid=${this.isButton()?this.handleInvalid:null}
        @click=${this.handleClick}
      >
        <slot name="prefix" part="prefix" class="button__prefix"></slot>
        <slot part="label" class="button__label"></slot>
        <slot name="suffix" part="suffix" class="button__suffix"></slot>
        ${this.caret?gv` <sl-icon part="caret" class="button__caret" library="system" name="caret"></sl-icon> `:""}
        ${this.loading?gv`<sl-spinner part="spinner"></sl-spinner>`:""}
      </${r}>
    `}};bi.styles=gA;bi.dependencies={"sl-icon":ea,"sl-spinner":Ty};Wt([cn(".button")],bi.prototype,"button",2);Wt([em()],bi.prototype,"hasFocus",2);Wt([em()],bi.prototype,"invalid",2);Wt([le()],bi.prototype,"title",2);Wt([le({reflect:!0})],bi.prototype,"variant",2);Wt([le({reflect:!0})],bi.prototype,"size",2);Wt([le({type:Boolean,reflect:!0})],bi.prototype,"caret",2);Wt([le({type:Boolean,reflect:!0})],bi.prototype,"disabled",2);Wt([le({type:Boolean,reflect:!0})],bi.prototype,"loading",2);Wt([le({type:Boolean,reflect:!0})],bi.prototype,"outline",2);Wt([le({type:Boolean,reflect:!0})],bi.prototype,"pill",2);Wt([le({type:Boolean,reflect:!0})],bi.prototype,"circle",2);Wt([le()],bi.prototype,"type",2);Wt([le()],bi.prototype,"name",2);Wt([le()],bi.prototype,"value",2);Wt([le()],bi.prototype,"href",2);Wt([le()],bi.prototype,"target",2);Wt([le()],bi.prototype,"rel",2);Wt([le()],bi.prototype,"download",2);Wt([le()],bi.prototype,"form",2);Wt([le({attribute:"formaction"})],bi.prototype,"formAction",2);Wt([le({attribute:"formenctype"})],bi.prototype,"formEnctype",2);Wt([le({attribute:"formmethod"})],bi.prototype,"formMethod",2);Wt([le({attribute:"formnovalidate",type:Boolean})],bi.prototype,"formNoValidate",2);Wt([le({attribute:"formtarget"})],bi.prototype,"formTarget",2);Wt([vo("disabled",{waitUntilFirstUpdate:!0})],bi.prototype,"handleDisabledChange",1);bi.define("sl-button");var T2=new WeakMap;function rC(n){let r=T2.get(n);return r||(r=window.getComputedStyle(n,null),T2.set(n,r)),r}function IA(n){if(typeof n.checkVisibility=="function")return n.checkVisibility({checkOpacity:!1,checkVisibilityCSS:!0});const r=rC(n);return r.visibility!=="hidden"&&r.display!=="none"}function LA(n){const r=rC(n),{overflowY:t,overflowX:o}=r;return t==="scroll"||o==="scroll"?!0:t!=="auto"||o!=="auto"?!1:n.scrollHeight>n.clientHeight&&t==="auto"||n.scrollWidth>n.clientWidth&&o==="auto"}function RA(n){const r=n.tagName.toLowerCase(),t=Number(n.getAttribute("tabindex"));return n.hasAttribute("tabindex")&&(isNaN(t)||t<=-1)||n.hasAttribute("disabled")||n.closest("[inert]")||r==="input"&&n.getAttribute("type")==="radio"&&!n.hasAttribute("checked")||!IA(n)?!1:(r==="audio"||r==="video")&&n.hasAttribute("controls")||n.hasAttribute("tabindex")||n.hasAttribute("contenteditable")&&n.getAttribute("contenteditable")!=="false"||["button","input","select","textarea","a","audio","video","summary","iframe"].includes(r)?!0:LA(n)}function AA(n){var r,t;const o=u1(n),l=(r=o[0])!=null?r:null,u=(t=o[o.length-1])!=null?t:null;return{start:l,end:u}}function OA(n,r){var t;return((t=n.getRootNode({composed:!0}))==null?void 0:t.host)!==r}function u1(n){const r=new WeakMap,t=[];function o(l){if(l instanceof Element){if(l.hasAttribute("inert")||l.closest("[inert]")||r.has(l))return;r.set(l,!0),!t.includes(l)&&RA(l)&&t.push(l),l instanceof HTMLSlotElement&&OA(l,n)&&l.assignedElements({flatten:!0}).forEach(u=>{o(u)}),l.shadowRoot!==null&&l.shadowRoot.mode==="open"&&o(l.shadowRoot)}for(const u of l.children)o(u)}return o(n),t.sort((l,u)=>{const d=Number(l.getAttribute("tabindex"))||0;return(Number(u.getAttribute("tabindex"))||0)-d})}function*hx(n=document.activeElement){n!=null&&(yield n,"shadowRoot"in n&&n.shadowRoot&&n.shadowRoot.mode!=="closed"&&(yield*hA(hx(n.shadowRoot.activeElement))))}function zA(){return[...hx()].pop()}var $f=[],NA=class{constructor(r){this.tabDirection="forward",this.handleFocusIn=()=>{this.isActive()&&this.checkFocus()},this.handleKeyDown=t=>{var o;if(t.key!=="Tab"||this.isExternalActivated||!this.isActive())return;const l=zA();if(this.previousFocus=l,this.previousFocus&&this.possiblyHasTabbableChildren(this.previousFocus))return;t.shiftKey?this.tabDirection="backward":this.tabDirection="forward";const u=u1(this.element);let d=u.findIndex(m=>m===l);this.previousFocus=this.currentFocus;const f=this.tabDirection==="forward"?1:-1;for(;;){d+f>=u.length?d=0:d+f<0?d=u.length-1:d+=f,this.previousFocus=this.currentFocus;const m=u[d];if(this.tabDirection==="backward"&&this.previousFocus&&this.possiblyHasTabbableChildren(this.previousFocus)||m&&this.possiblyHasTabbableChildren(m))return;t.preventDefault(),this.currentFocus=m,(o=this.currentFocus)==null||o.focus({preventScroll:!1});const v=[...hx()];if(v.includes(this.currentFocus)||!v.includes(this.previousFocus))break}setTimeout(()=>this.checkFocus())},this.handleKeyUp=()=>{this.tabDirection="forward"},this.element=r,this.elementsWithTabbableControls=["iframe"]}activate(){$f.push(this.element),document.addEventListener("focusin",this.handleFocusIn),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}deactivate(){$f=$f.filter(r=>r!==this.element),this.currentFocus=null,document.removeEventListener("focusin",this.handleFocusIn),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)}isActive(){return $f[$f.length-1]===this.element}activateExternal(){this.isExternalActivated=!0}deactivateExternal(){this.isExternalActivated=!1}checkFocus(){if(this.isActive()&&!this.isExternalActivated){const r=u1(this.element);if(!this.element.matches(":focus-within")){const t=r[0],o=r[r.length-1],l=this.tabDirection==="forward"?t:o;typeof(l==null?void 0:l.focus)=="function"&&(this.currentFocus=l,l.focus({preventScroll:!1}))}}}possiblyHasTabbableChildren(r){return this.elementsWithTabbableControls.includes(r.tagName.toLowerCase())||r.hasAttribute("controls")}};function DA(n,r){return{top:Math.round(n.getBoundingClientRect().top-r.getBoundingClientRect().top),left:Math.round(n.getBoundingClientRect().left-r.getBoundingClientRect().left)}}var h1=new Set;function FA(){const n=document.documentElement.clientWidth;return Math.abs(window.innerWidth-n)}function S2(n){if(h1.add(n),!document.body.classList.contains("sl-scroll-lock")){const r=FA();document.body.classList.add("sl-scroll-lock"),document.body.style.setProperty("--sl-scroll-lock-size",`${r}px`)}}function C2(n){h1.delete(n),h1.size===0&&(document.body.classList.remove("sl-scroll-lock"),document.body.style.removeProperty("--sl-scroll-lock-size"))}function P2(n,r,t="vertical",o="smooth"){const l=DA(n,r),u=l.top+r.scrollTop,d=l.left+r.scrollLeft,f=r.scrollLeft,m=r.scrollLeft+r.offsetWidth,v=r.scrollTop,_=r.scrollTop+r.offsetHeight;(t==="horizontal"||t==="both")&&(d<f?r.scrollTo({left:d,behavior:o}):d+n.clientWidth>m&&r.scrollTo({left:d-r.offsetWidth+n.clientWidth,behavior:o})),(t==="vertical"||t==="both")&&(u<v?r.scrollTo({top:u,behavior:o}):u+n.clientHeight>_&&r.scrollTo({top:u-r.offsetHeight+n.clientHeight,behavior:o}))}var BA=ts`
  ${xs}

  :host {
    --width: 31rem;
    --header-spacing: var(--sl-spacing-large);
    --body-spacing: var(--sl-spacing-large);
    --footer-spacing: var(--sl-spacing-large);

    display: contents;
  }

  .dialog {
    display: flex;
    align-items: center;
    justify-content: center;
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: var(--sl-z-index-dialog);
  }

  .dialog__panel {
    display: flex;
    flex-direction: column;
    z-index: 2;
    width: var(--width);
    max-width: calc(100% - var(--sl-spacing-2x-large));
    max-height: calc(100% - var(--sl-spacing-2x-large));
    background-color: var(--sl-panel-background-color);
    border-radius: var(--sl-border-radius-medium);
    box-shadow: var(--sl-shadow-x-large);
  }

  .dialog__panel:focus {
    outline: none;
  }

  /* Ensure there's enough vertical padding for phones that don't update vh when chrome appears (e.g. iPhone) */
  @media screen and (max-width: 420px) {
    .dialog__panel {
      max-height: 80vh;
    }
  }

  .dialog--open .dialog__panel {
    display: flex;
    opacity: 1;
  }

  .dialog__header {
    flex: 0 0 auto;
    display: flex;
  }

  .dialog__title {
    flex: 1 1 auto;
    font: inherit;
    font-size: var(--sl-font-size-large);
    line-height: var(--sl-line-height-dense);
    padding: var(--header-spacing);
    margin: 0;
  }

  .dialog__header-actions {
    flex-shrink: 0;
    display: flex;
    flex-wrap: wrap;
    justify-content: end;
    gap: var(--sl-spacing-2x-small);
    padding: 0 var(--header-spacing);
  }

  .dialog__header-actions sl-icon-button,
  .dialog__header-actions ::slotted(sl-icon-button) {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    font-size: var(--sl-font-size-medium);
  }

  .dialog__body {
    flex: 1 1 auto;
    display: block;
    padding: var(--body-spacing);
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }

  .dialog__footer {
    flex: 0 0 auto;
    text-align: right;
    padding: var(--footer-spacing);
  }

  .dialog__footer ::slotted(sl-button:not(:first-of-type)) {
    margin-inline-start: var(--sl-spacing-x-small);
  }

  .dialog:not(.dialog--has-footer) .dialog__footer {
    display: none;
  }

  .dialog__overlay {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: var(--sl-overlay-background-color);
  }

  @media (forced-colors: active) {
    .dialog__panel {
      border: solid 1px var(--sl-color-neutral-0);
    }
  }
`,jA=ts`
  ${xs}

  :host {
    display: inline-block;
    color: var(--sl-color-neutral-600);
  }

  .icon-button {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    background: none;
    border: none;
    border-radius: var(--sl-border-radius-medium);
    font-size: inherit;
    color: inherit;
    padding: var(--sl-spacing-x-small);
    cursor: pointer;
    transition: var(--sl-transition-x-fast) color;
    -webkit-appearance: none;
  }

  .icon-button:hover:not(.icon-button--disabled),
  .icon-button:focus-visible:not(.icon-button--disabled) {
    color: var(--sl-color-primary-600);
  }

  .icon-button:active:not(.icon-button--disabled) {
    color: var(--sl-color-primary-700);
  }

  .icon-button:focus {
    outline: none;
  }

  .icon-button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .icon-button:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .icon-button__icon {
    pointer-events: none;
  }
`,Ao=class extends $n{constructor(){super(...arguments),this.hasFocus=!1,this.label="",this.disabled=!1}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleClick(n){this.disabled&&(n.preventDefault(),n.stopPropagation())}click(){this.button.click()}focus(n){this.button.focus(n)}blur(){this.button.blur()}render(){const n=!!this.href,r=n?Av`a`:Av`button`;return gv`
      <${r}
        part="base"
        class=${Na({"icon-button":!0,"icon-button--disabled":!n&&this.disabled,"icon-button--focused":this.hasFocus})}
        ?disabled=${sn(n?void 0:this.disabled)}
        type=${sn(n?void 0:"button")}
        href=${sn(n?this.href:void 0)}
        target=${sn(n?this.target:void 0)}
        download=${sn(n?this.download:void 0)}
        rel=${sn(n&&this.target?"noreferrer noopener":void 0)}
        role=${sn(n?void 0:"button")}
        aria-disabled=${this.disabled?"true":"false"}
        aria-label="${this.label}"
        tabindex=${this.disabled?"-1":"0"}
        @blur=${this.handleBlur}
        @focus=${this.handleFocus}
        @click=${this.handleClick}
      >
        <sl-icon
          class="icon-button__icon"
          name=${sn(this.name)}
          library=${sn(this.library)}
          src=${sn(this.src)}
          aria-hidden="true"
        ></sl-icon>
      </${r}>
    `}};Ao.styles=jA;Ao.dependencies={"sl-icon":ea};Wt([cn(".icon-button")],Ao.prototype,"button",2);Wt([em()],Ao.prototype,"hasFocus",2);Wt([le()],Ao.prototype,"name",2);Wt([le()],Ao.prototype,"library",2);Wt([le()],Ao.prototype,"src",2);Wt([le()],Ao.prototype,"href",2);Wt([le()],Ao.prototype,"target",2);Wt([le()],Ao.prototype,"download",2);Wt([le()],Ao.prototype,"label",2);Wt([le({type:Boolean,reflect:!0})],Ao.prototype,"disabled",2);var iC=new Map,HA=new WeakMap;function UA(n){return n??{keyframes:[],options:{duration:0}}}function M2(n,r){return r.toLowerCase()==="rtl"?{keyframes:n.rtlKeyframes||n.keyframes,options:n.options}:n}function hc(n,r){iC.set(n,UA(r))}function tc(n,r,t){const o=HA.get(n);if(o!=null&&o[r])return M2(o[r],t.dir);const l=iC.get(r);return l?M2(l,t.dir):{keyframes:[],options:{duration:0}}}function pp(n,r){return new Promise(t=>{function o(l){l.target===n&&(n.removeEventListener(r,o),t())}n.addEventListener(r,o)})}function ec(n,r,t){return new Promise(o=>{if((t==null?void 0:t.duration)===1/0)throw new Error("Promise-based animations must be finite.");const l=n.animate(r,Ey(xu({},t),{duration:GA()?0:t.duration}));l.addEventListener("cancel",o,{once:!0}),l.addEventListener("finish",o,{once:!0})})}function I2(n){return n=n.toString().toLowerCase(),n.indexOf("ms")>-1?parseFloat(n):n.indexOf("s")>-1?parseFloat(n)*1e3:parseFloat(n)}function GA(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches}function eu(n){return Promise.all(n.getAnimations().map(r=>new Promise(t=>{r.cancel(),requestAnimationFrame(t)})))}var vl=class extends $n{constructor(){super(...arguments),this.hasSlotController=new ux(this,"footer"),this.localize=new wu(this),this.modal=new NA(this),this.open=!1,this.label="",this.noHeader=!1,this.handleDocumentKeyDown=n=>{n.key==="Escape"&&this.modal.isActive()&&this.open&&(n.stopPropagation(),this.requestClose("keyboard"))}}firstUpdated(){this.dialog.hidden=!this.open,this.open&&(this.addOpenListeners(),this.modal.activate(),S2(this))}disconnectedCallback(){var n;super.disconnectedCallback(),this.modal.deactivate(),C2(this),(n=this.closeWatcher)==null||n.destroy()}requestClose(n){if(this.emit("sl-request-close",{cancelable:!0,detail:{source:n}}).defaultPrevented){const t=tc(this,"dialog.denyClose",{dir:this.localize.dir()});ec(this.panel,t.keyframes,t.options);return}this.hide()}addOpenListeners(){var n;"CloseWatcher"in window?((n=this.closeWatcher)==null||n.destroy(),this.closeWatcher=new CloseWatcher,this.closeWatcher.onclose=()=>this.requestClose("keyboard")):document.addEventListener("keydown",this.handleDocumentKeyDown)}removeOpenListeners(){var n;(n=this.closeWatcher)==null||n.destroy(),document.removeEventListener("keydown",this.handleDocumentKeyDown)}async handleOpenChange(){if(this.open){this.emit("sl-show"),this.addOpenListeners(),this.originalTrigger=document.activeElement,this.modal.activate(),S2(this);const n=this.querySelector("[autofocus]");n&&n.removeAttribute("autofocus"),await Promise.all([eu(this.dialog),eu(this.overlay)]),this.dialog.hidden=!1,requestAnimationFrame(()=>{this.emit("sl-initial-focus",{cancelable:!0}).defaultPrevented||(n?n.focus({preventScroll:!0}):this.panel.focus({preventScroll:!0})),n&&n.setAttribute("autofocus","")});const r=tc(this,"dialog.show",{dir:this.localize.dir()}),t=tc(this,"dialog.overlay.show",{dir:this.localize.dir()});await Promise.all([ec(this.panel,r.keyframes,r.options),ec(this.overlay,t.keyframes,t.options)]),this.emit("sl-after-show")}else{this.emit("sl-hide"),this.removeOpenListeners(),this.modal.deactivate(),await Promise.all([eu(this.dialog),eu(this.overlay)]);const n=tc(this,"dialog.hide",{dir:this.localize.dir()}),r=tc(this,"dialog.overlay.hide",{dir:this.localize.dir()});await Promise.all([ec(this.overlay,r.keyframes,r.options).then(()=>{this.overlay.hidden=!0}),ec(this.panel,n.keyframes,n.options).then(()=>{this.panel.hidden=!0})]),this.dialog.hidden=!0,this.overlay.hidden=!1,this.panel.hidden=!1,C2(this);const t=this.originalTrigger;typeof(t==null?void 0:t.focus)=="function"&&setTimeout(()=>t.focus()),this.emit("sl-after-hide")}}async show(){if(!this.open)return this.open=!0,pp(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,pp(this,"sl-after-hide")}render(){return _n`
      <div
        part="base"
        class=${Na({dialog:!0,"dialog--open":this.open,"dialog--has-footer":this.hasSlotController.test("footer")})}
      >
        <div part="overlay" class="dialog__overlay" @click=${()=>this.requestClose("overlay")} tabindex="-1"></div>

        <div
          part="panel"
          class="dialog__panel"
          role="dialog"
          aria-modal="true"
          aria-hidden=${this.open?"false":"true"}
          aria-label=${sn(this.noHeader?this.label:void 0)}
          aria-labelledby=${sn(this.noHeader?void 0:"title")}
          tabindex="-1"
        >
          ${this.noHeader?"":_n`
                <header part="header" class="dialog__header">
                  <h2 part="title" class="dialog__title" id="title">
                    <slot name="label"> ${this.label.length>0?this.label:String.fromCharCode(65279)} </slot>
                  </h2>
                  <div part="header-actions" class="dialog__header-actions">
                    <slot name="header-actions"></slot>
                    <sl-icon-button
                      part="close-button"
                      exportparts="base:close-button__base"
                      class="dialog__close"
                      name="x-lg"
                      label=${this.localize.term("close")}
                      library="system"
                      @click="${()=>this.requestClose("close-button")}"
                    ></sl-icon-button>
                  </div>
                </header>
              `}
          ${""}
          <div part="body" class="dialog__body" tabindex="-1"><slot></slot></div>

          <footer part="footer" class="dialog__footer">
            <slot name="footer"></slot>
          </footer>
        </div>
      </div>
    `}};vl.styles=BA;vl.dependencies={"sl-icon-button":Ao};Wt([cn(".dialog")],vl.prototype,"dialog",2);Wt([cn(".dialog__panel")],vl.prototype,"panel",2);Wt([cn(".dialog__overlay")],vl.prototype,"overlay",2);Wt([le({type:Boolean,reflect:!0})],vl.prototype,"open",2);Wt([le({reflect:!0})],vl.prototype,"label",2);Wt([le({attribute:"no-header",type:Boolean,reflect:!0})],vl.prototype,"noHeader",2);Wt([vo("open",{waitUntilFirstUpdate:!0})],vl.prototype,"handleOpenChange",1);hc("dialog.show",{keyframes:[{opacity:0,scale:.8},{opacity:1,scale:1}],options:{duration:250,easing:"ease"}});hc("dialog.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.8}],options:{duration:250,easing:"ease"}});hc("dialog.denyClose",{keyframes:[{scale:1},{scale:1.02},{scale:1}],options:{duration:250}});hc("dialog.overlay.show",{keyframes:[{opacity:0},{opacity:1}],options:{duration:250}});hc("dialog.overlay.hide",{keyframes:[{opacity:1},{opacity:0}],options:{duration:250}});vl.define("sl-dialog");var qA=ts`
  ${xs}

  :host {
    display: inline-block;
  }

  .dropdown::part(popup) {
    z-index: var(--sl-z-index-dropdown);
  }

  .dropdown[data-current-placement^='top']::part(popup) {
    transform-origin: bottom;
  }

  .dropdown[data-current-placement^='bottom']::part(popup) {
    transform-origin: top;
  }

  .dropdown[data-current-placement^='left']::part(popup) {
    transform-origin: right;
  }

  .dropdown[data-current-placement^='right']::part(popup) {
    transform-origin: left;
  }

  .dropdown__trigger {
    display: block;
  }

  .dropdown__panel {
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    box-shadow: var(--sl-shadow-large);
    border-radius: var(--sl-border-radius-medium);
    pointer-events: none;
  }

  .dropdown--open .dropdown__panel {
    display: block;
    pointer-events: all;
  }

  /* When users slot a menu, make sure it conforms to the popup's auto-size */
  ::slotted(sl-menu) {
    max-width: var(--auto-size-available-width) !important;
    max-height: var(--auto-size-available-height) !important;
  }
`,VA=ts`
  ${xs}

  :host {
    --arrow-color: var(--sl-color-neutral-1000);
    --arrow-size: 6px;

    /*
     * These properties are computed to account for the arrow's dimensions after being rotated 45. The constant
     * 0.7071 is derived from sin(45), which is the diagonal size of the arrow's container after rotating.
     */
    --arrow-size-diagonal: calc(var(--arrow-size) * 0.7071);
    --arrow-padding-offset: calc(var(--arrow-size-diagonal) - var(--arrow-size));

    display: contents;
  }

  .popup {
    position: absolute;
    isolation: isolate;
    max-width: var(--auto-size-available-width, none);
    max-height: var(--auto-size-available-height, none);
  }

  .popup--fixed {
    position: fixed;
  }

  .popup:not(.popup--active) {
    display: none;
  }

  .popup__arrow {
    position: absolute;
    width: calc(var(--arrow-size-diagonal) * 2);
    height: calc(var(--arrow-size-diagonal) * 2);
    rotate: 45deg;
    background: var(--arrow-color);
    z-index: -1;
  }

  /* Hover bridge */
  .popup-hover-bridge:not(.popup-hover-bridge--visible) {
    display: none;
  }

  .popup-hover-bridge {
    position: fixed;
    z-index: calc(var(--sl-z-index-dropdown) - 1);
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    clip-path: polygon(
      var(--hover-bridge-top-left-x, 0) var(--hover-bridge-top-left-y, 0),
      var(--hover-bridge-top-right-x, 0) var(--hover-bridge-top-right-y, 0),
      var(--hover-bridge-bottom-right-x, 0) var(--hover-bridge-bottom-right-y, 0),
      var(--hover-bridge-bottom-left-x, 0) var(--hover-bridge-bottom-left-y, 0)
    );
  }
`;const uu=Math.min,vs=Math.max,Ov=Math.round,q0=Math.floor,hu=n=>({x:n,y:n}),WA={left:"right",right:"left",bottom:"top",top:"bottom"},ZA={start:"end",end:"start"};function d1(n,r,t){return vs(n,uu(r,t))}function Cp(n,r){return typeof n=="function"?n(r):n}function du(n){return n.split("-")[0]}function Pp(n){return n.split("-")[1]}function nC(n){return n==="x"?"y":"x"}function dx(n){return n==="y"?"height":"width"}function rm(n){return["top","bottom"].includes(du(n))?"y":"x"}function px(n){return nC(rm(n))}function YA(n,r,t){t===void 0&&(t=!1);const o=Pp(n),l=px(n),u=dx(l);let d=l==="x"?o===(t?"end":"start")?"right":"left":o==="start"?"bottom":"top";return r.reference[u]>r.floating[u]&&(d=zv(d)),[d,zv(d)]}function XA(n){const r=zv(n);return[p1(n),r,p1(r)]}function p1(n){return n.replace(/start|end/g,r=>ZA[r])}function KA(n,r,t){const o=["left","right"],l=["right","left"],u=["top","bottom"],d=["bottom","top"];switch(n){case"top":case"bottom":return t?r?l:o:r?o:l;case"left":case"right":return r?u:d;default:return[]}}function JA(n,r,t,o){const l=Pp(n);let u=KA(du(n),t==="start",o);return l&&(u=u.map(d=>d+"-"+l),r&&(u=u.concat(u.map(p1)))),u}function zv(n){return n.replace(/left|right|bottom|top/g,r=>WA[r])}function QA(n){return{top:0,right:0,bottom:0,left:0,...n}}function oC(n){return typeof n!="number"?QA(n):{top:n,right:n,bottom:n,left:n}}function Nv(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}function L2(n,r,t){let{reference:o,floating:l}=n;const u=rm(r),d=px(r),f=dx(d),m=du(r),v=u==="y",_=o.x+o.width/2-l.width/2,k=o.y+o.height/2-l.height/2,C=o[f]/2-l[f]/2;let M;switch(m){case"top":M={x:_,y:o.y-l.height};break;case"bottom":M={x:_,y:o.y+o.height};break;case"right":M={x:o.x+o.width,y:k};break;case"left":M={x:o.x-l.width,y:k};break;default:M={x:o.x,y:o.y}}switch(Pp(r)){case"start":M[d]-=C*(t&&v?-1:1);break;case"end":M[d]+=C*(t&&v?-1:1);break}return M}const $A=async(n,r,t)=>{const{placement:o="bottom",strategy:l="absolute",middleware:u=[],platform:d}=t,f=u.filter(Boolean),m=await(d.isRTL==null?void 0:d.isRTL(r));let v=await d.getElementRects({reference:n,floating:r,strategy:l}),{x:_,y:k}=L2(v,o,m),C=o,M={},A=0;for(let F=0;F<f.length;F++){const{name:G,fn:H}=f[F],{x:W,y:j,data:V,reset:nt}=await H({x:_,y:k,initialPlacement:o,placement:C,strategy:l,middlewareData:M,rects:v,platform:d,elements:{reference:n,floating:r}});_=W??_,k=j??k,M={...M,[G]:{...M[G],...V}},nt&&A<=50&&(A++,typeof nt=="object"&&(nt.placement&&(C=nt.placement),nt.rects&&(v=nt.rects===!0?await d.getElementRects({reference:n,floating:r,strategy:l}):nt.rects),{x:_,y:k}=L2(v,C,m)),F=-1)}return{x:_,y:k,placement:C,strategy:l,middlewareData:M}};async function fx(n,r){var t;r===void 0&&(r={});const{x:o,y:l,platform:u,rects:d,elements:f,strategy:m}=n,{boundary:v="clippingAncestors",rootBoundary:_="viewport",elementContext:k="floating",altBoundary:C=!1,padding:M=0}=Cp(r,n),A=oC(M),G=f[C?k==="floating"?"reference":"floating":k],H=Nv(await u.getClippingRect({element:(t=await(u.isElement==null?void 0:u.isElement(G)))==null||t?G:G.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(f.floating)),boundary:v,rootBoundary:_,strategy:m})),W=k==="floating"?{...d.floating,x:o,y:l}:d.reference,j=await(u.getOffsetParent==null?void 0:u.getOffsetParent(f.floating)),V=await(u.isElement==null?void 0:u.isElement(j))?await(u.getScale==null?void 0:u.getScale(j))||{x:1,y:1}:{x:1,y:1},nt=Nv(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:W,offsetParent:j,strategy:m}):W);return{top:(H.top-nt.top+A.top)/V.y,bottom:(nt.bottom-H.bottom+A.bottom)/V.y,left:(H.left-nt.left+A.left)/V.x,right:(nt.right-H.right+A.right)/V.x}}const tO=n=>({name:"arrow",options:n,async fn(r){const{x:t,y:o,placement:l,rects:u,platform:d,elements:f,middlewareData:m}=r,{element:v,padding:_=0}=Cp(n,r)||{};if(v==null)return{};const k=oC(_),C={x:t,y:o},M=px(l),A=dx(M),F=await d.getDimensions(v),G=M==="y",H=G?"top":"left",W=G?"bottom":"right",j=G?"clientHeight":"clientWidth",V=u.reference[A]+u.reference[M]-C[M]-u.floating[A],nt=C[M]-u.reference[M],gt=await(d.getOffsetParent==null?void 0:d.getOffsetParent(v));let pt=gt?gt[j]:0;(!pt||!await(d.isElement==null?void 0:d.isElement(gt)))&&(pt=f.floating[j]||u.floating[A]);const ct=V/2-nt/2,Z=pt/2-F[A]/2-1,at=uu(k[H],Z),ft=uu(k[W],Z),vt=at,Qt=pt-F[A]-ft,re=pt/2-F[A]/2+ct,pe=d1(vt,re,Qt),Gt=!m.arrow&&Pp(l)!=null&&re!==pe&&u.reference[A]/2-(re<vt?at:ft)-F[A]/2<0,ce=Gt?re<vt?re-vt:re-Qt:0;return{[M]:C[M]+ce,data:{[M]:pe,centerOffset:re-pe-ce,...Gt&&{alignmentOffset:ce}},reset:Gt}}}),eO=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(r){var t,o;const{placement:l,middlewareData:u,rects:d,initialPlacement:f,platform:m,elements:v}=r,{mainAxis:_=!0,crossAxis:k=!0,fallbackPlacements:C,fallbackStrategy:M="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:F=!0,...G}=Cp(n,r);if((t=u.arrow)!=null&&t.alignmentOffset)return{};const H=du(l),W=du(f)===f,j=await(m.isRTL==null?void 0:m.isRTL(v.floating)),V=C||(W||!F?[zv(f)]:XA(f));!C&&A!=="none"&&V.push(...JA(f,F,A,j));const nt=[f,...V],gt=await fx(r,G),pt=[];let ct=((o=u.flip)==null?void 0:o.overflows)||[];if(_&&pt.push(gt[H]),k){const vt=YA(l,d,j);pt.push(gt[vt[0]],gt[vt[1]])}if(ct=[...ct,{placement:l,overflows:pt}],!pt.every(vt=>vt<=0)){var Z,at;const vt=(((Z=u.flip)==null?void 0:Z.index)||0)+1,Qt=nt[vt];if(Qt)return{data:{index:vt,overflows:ct},reset:{placement:Qt}};let re=(at=ct.filter(pe=>pe.overflows[0]<=0).sort((pe,Gt)=>pe.overflows[1]-Gt.overflows[1])[0])==null?void 0:at.placement;if(!re)switch(M){case"bestFit":{var ft;const pe=(ft=ct.map(Gt=>[Gt.placement,Gt.overflows.filter(ce=>ce>0).reduce((ce,Jt)=>ce+Jt,0)]).sort((Gt,ce)=>Gt[1]-ce[1])[0])==null?void 0:ft[0];pe&&(re=pe);break}case"initialPlacement":re=f;break}if(l!==re)return{reset:{placement:re}}}return{}}}};async function rO(n,r){const{placement:t,platform:o,elements:l}=n,u=await(o.isRTL==null?void 0:o.isRTL(l.floating)),d=du(t),f=Pp(t),m=rm(t)==="y",v=["left","top"].includes(d)?-1:1,_=u&&m?-1:1,k=Cp(r,n);let{mainAxis:C,crossAxis:M,alignmentAxis:A}=typeof k=="number"?{mainAxis:k,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...k};return f&&typeof A=="number"&&(M=f==="end"?A*-1:A),m?{x:M*_,y:C*v}:{x:C*v,y:M*_}}const iO=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(r){var t,o;const{x:l,y:u,placement:d,middlewareData:f}=r,m=await rO(r,n);return d===((t=f.offset)==null?void 0:t.placement)&&(o=f.arrow)!=null&&o.alignmentOffset?{}:{x:l+m.x,y:u+m.y,data:{...m,placement:d}}}}},nO=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(r){const{x:t,y:o,placement:l}=r,{mainAxis:u=!0,crossAxis:d=!1,limiter:f={fn:G=>{let{x:H,y:W}=G;return{x:H,y:W}}},...m}=Cp(n,r),v={x:t,y:o},_=await fx(r,m),k=rm(du(l)),C=nC(k);let M=v[C],A=v[k];if(u){const G=C==="y"?"top":"left",H=C==="y"?"bottom":"right",W=M+_[G],j=M-_[H];M=d1(W,M,j)}if(d){const G=k==="y"?"top":"left",H=k==="y"?"bottom":"right",W=A+_[G],j=A-_[H];A=d1(W,A,j)}const F=f.fn({...r,[C]:M,[k]:A});return{...F,data:{x:F.x-t,y:F.y-o}}}}},oO=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(r){const{placement:t,rects:o,platform:l,elements:u}=r,{apply:d=()=>{},...f}=Cp(n,r),m=await fx(r,f),v=du(t),_=Pp(t),k=rm(t)==="y",{width:C,height:M}=o.floating;let A,F;v==="top"||v==="bottom"?(A=v,F=_===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(F=v,A=_==="end"?"top":"bottom");const G=M-m[A],H=C-m[F],W=!r.middlewareData.shift;let j=G,V=H;if(k){const gt=C-m.left-m.right;V=_||W?uu(H,gt):gt}else{const gt=M-m.top-m.bottom;j=_||W?uu(G,gt):gt}if(W&&!_){const gt=vs(m.left,0),pt=vs(m.right,0),ct=vs(m.top,0),Z=vs(m.bottom,0);k?V=C-2*(gt!==0||pt!==0?gt+pt:vs(m.left,m.right)):j=M-2*(ct!==0||Z!==0?ct+Z:vs(m.top,m.bottom))}await d({...r,availableWidth:V,availableHeight:j});const nt=await l.getDimensions(u.floating);return C!==nt.width||M!==nt.height?{reset:{rects:!0}}:{}}}};function pu(n){return sC(n)?(n.nodeName||"").toLowerCase():"#document"}function ys(n){var r;return(n==null||(r=n.ownerDocument)==null?void 0:r.defaultView)||window}function dc(n){var r;return(r=(sC(n)?n.ownerDocument:n.document)||window.document)==null?void 0:r.documentElement}function sC(n){return n instanceof Node||n instanceof ys(n).Node}function ac(n){return n instanceof Element||n instanceof ys(n).Element}function pl(n){return n instanceof HTMLElement||n instanceof ys(n).HTMLElement}function R2(n){return typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ys(n).ShadowRoot}function im(n){const{overflow:r,overflowX:t,overflowY:o,display:l}=Js(n);return/auto|scroll|overlay|hidden|clip/.test(r+o+t)&&!["inline","contents"].includes(l)}function sO(n){return["table","td","th"].includes(pu(n))}function gx(n){const r=mx(),t=Js(n);return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!r&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!r&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(t.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(t.contain||"").includes(o))}function aC(n){let r=fp(n);for(;pl(r)&&!Sy(r);){if(gx(r))return r;r=fp(r)}return null}function mx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Sy(n){return["html","body","#document"].includes(pu(n))}function Js(n){return ys(n).getComputedStyle(n)}function Cy(n){return ac(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function fp(n){if(pu(n)==="html")return n;const r=n.assignedSlot||n.parentNode||R2(n)&&n.host||dc(n);return R2(r)?r.host:r}function lC(n){const r=fp(n);return Sy(r)?n.ownerDocument?n.ownerDocument.body:n.body:pl(r)&&im(r)?r:lC(r)}function Rg(n,r,t){var o;r===void 0&&(r=[]),t===void 0&&(t=!0);const l=lC(n),u=l===((o=n.ownerDocument)==null?void 0:o.body),d=ys(l);return u?r.concat(d,d.visualViewport||[],im(l)?l:[],d.frameElement&&t?Rg(d.frameElement):[]):r.concat(l,Rg(l,[],t))}function cC(n){const r=Js(n);let t=parseFloat(r.width)||0,o=parseFloat(r.height)||0;const l=pl(n),u=l?n.offsetWidth:t,d=l?n.offsetHeight:o,f=Ov(t)!==u||Ov(o)!==d;return f&&(t=u,o=d),{width:t,height:o,$:f}}function vx(n){return ac(n)?n:n.contextElement}function ap(n){const r=vx(n);if(!pl(r))return hu(1);const t=r.getBoundingClientRect(),{width:o,height:l,$:u}=cC(r);let d=(u?Ov(t.width):t.width)/o,f=(u?Ov(t.height):t.height)/l;return(!d||!Number.isFinite(d))&&(d=1),(!f||!Number.isFinite(f))&&(f=1),{x:d,y:f}}const aO=hu(0);function uC(n){const r=ys(n);return!mx()||!r.visualViewport?aO:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function lO(n,r,t){return r===void 0&&(r=!1),!t||r&&t!==ys(n)?!1:r}function kh(n,r,t,o){r===void 0&&(r=!1),t===void 0&&(t=!1);const l=n.getBoundingClientRect(),u=vx(n);let d=hu(1);r&&(o?ac(o)&&(d=ap(o)):d=ap(n));const f=lO(u,t,o)?uC(u):hu(0);let m=(l.left+f.x)/d.x,v=(l.top+f.y)/d.y,_=l.width/d.x,k=l.height/d.y;if(u){const C=ys(u),M=o&&ac(o)?ys(o):o;let A=C.frameElement;for(;A&&o&&M!==C;){const F=ap(A),G=A.getBoundingClientRect(),H=Js(A),W=G.left+(A.clientLeft+parseFloat(H.paddingLeft))*F.x,j=G.top+(A.clientTop+parseFloat(H.paddingTop))*F.y;m*=F.x,v*=F.y,_*=F.x,k*=F.y,m+=W,v+=j,A=ys(A).frameElement}}return Nv({width:_,height:k,x:m,y:v})}const cO=[":popover-open",":modal"];function hC(n){let r=!1,t=0,o=0;function l(u){try{r=r||n.matches(u)}catch{}}if(cO.forEach(u=>{l(u)}),r){const u=aC(n);if(u){const d=u.getBoundingClientRect();t=d.x,o=d.y}}return[r,t,o]}function uO(n){let{elements:r,rect:t,offsetParent:o,strategy:l}=n;const u=dc(o),[d]=r?hC(r.floating):[!1];if(o===u||d)return t;let f={scrollLeft:0,scrollTop:0},m=hu(1);const v=hu(0),_=pl(o);if((_||!_&&l!=="fixed")&&((pu(o)!=="body"||im(u))&&(f=Cy(o)),pl(o))){const k=kh(o);m=ap(o),v.x=k.x+o.clientLeft,v.y=k.y+o.clientTop}return{width:t.width*m.x,height:t.height*m.y,x:t.x*m.x-f.scrollLeft*m.x+v.x,y:t.y*m.y-f.scrollTop*m.y+v.y}}function hO(n){return Array.from(n.getClientRects())}function dC(n){return kh(dc(n)).left+Cy(n).scrollLeft}function dO(n){const r=dc(n),t=Cy(n),o=n.ownerDocument.body,l=vs(r.scrollWidth,r.clientWidth,o.scrollWidth,o.clientWidth),u=vs(r.scrollHeight,r.clientHeight,o.scrollHeight,o.clientHeight);let d=-t.scrollLeft+dC(n);const f=-t.scrollTop;return Js(o).direction==="rtl"&&(d+=vs(r.clientWidth,o.clientWidth)-l),{width:l,height:u,x:d,y:f}}function pO(n,r){const t=ys(n),o=dc(n),l=t.visualViewport;let u=o.clientWidth,d=o.clientHeight,f=0,m=0;if(l){u=l.width,d=l.height;const v=mx();(!v||v&&r==="fixed")&&(f=l.offsetLeft,m=l.offsetTop)}return{width:u,height:d,x:f,y:m}}function fO(n,r){const t=kh(n,!0,r==="fixed"),o=t.top+n.clientTop,l=t.left+n.clientLeft,u=pl(n)?ap(n):hu(1),d=n.clientWidth*u.x,f=n.clientHeight*u.y,m=l*u.x,v=o*u.y;return{width:d,height:f,x:m,y:v}}function A2(n,r,t){let o;if(r==="viewport")o=pO(n,t);else if(r==="document")o=dO(dc(n));else if(ac(r))o=fO(r,t);else{const l=uC(n);o={...r,x:r.x-l.x,y:r.y-l.y}}return Nv(o)}function pC(n,r){const t=fp(n);return t===r||!ac(t)||Sy(t)?!1:Js(t).position==="fixed"||pC(t,r)}function gO(n,r){const t=r.get(n);if(t)return t;let o=Rg(n,[],!1).filter(f=>ac(f)&&pu(f)!=="body"),l=null;const u=Js(n).position==="fixed";let d=u?fp(n):n;for(;ac(d)&&!Sy(d);){const f=Js(d),m=gx(d);!m&&f.position==="fixed"&&(l=null),(u?!m&&!l:!m&&f.position==="static"&&!!l&&["absolute","fixed"].includes(l.position)||im(d)&&!m&&pC(n,d))?o=o.filter(_=>_!==d):l=f,d=fp(d)}return r.set(n,o),o}function mO(n){let{element:r,boundary:t,rootBoundary:o,strategy:l}=n;const d=[...t==="clippingAncestors"?gO(r,this._c):[].concat(t),o],f=d[0],m=d.reduce((v,_)=>{const k=A2(r,_,l);return v.top=vs(k.top,v.top),v.right=uu(k.right,v.right),v.bottom=uu(k.bottom,v.bottom),v.left=vs(k.left,v.left),v},A2(r,f,l));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function vO(n){const{width:r,height:t}=cC(n);return{width:r,height:t}}function yO(n,r,t,o){const l=pl(r),u=dc(r),d=t==="fixed",f=kh(n,!0,d,r);let m={scrollLeft:0,scrollTop:0};const v=hu(0);if(l||!l&&!d)if((pu(r)!=="body"||im(u))&&(m=Cy(r)),l){const F=kh(r,!0,d,r);v.x=F.x+r.clientLeft,v.y=F.y+r.clientTop}else u&&(v.x=dC(u));let _=f.left+m.scrollLeft-v.x,k=f.top+m.scrollTop-v.y;const[C,M,A]=hC(o);return C&&(_+=M,k+=A,l&&(_+=r.clientLeft,k+=r.clientTop)),{x:_,y:k,width:f.width,height:f.height}}function O2(n,r){return!pl(n)||Js(n).position==="fixed"?null:r?r(n):n.offsetParent}function fC(n,r){const t=ys(n);if(!pl(n))return t;let o=O2(n,r);for(;o&&sO(o)&&Js(o).position==="static";)o=O2(o,r);return o&&(pu(o)==="html"||pu(o)==="body"&&Js(o).position==="static"&&!gx(o))?t:o||aC(n)||t}const bO=async function(n){const r=this.getOffsetParent||fC,t=this.getDimensions;return{reference:yO(n.reference,await r(n.floating),n.strategy,n.floating),floating:{x:0,y:0,...await t(n.floating)}}};function wO(n){return Js(n).direction==="rtl"}const mv={convertOffsetParentRelativeRectToViewportRelativeRect:uO,getDocumentElement:dc,getClippingRect:mO,getOffsetParent:fC,getElementRects:bO,getClientRects:hO,getDimensions:vO,getScale:ap,isElement:ac,isRTL:wO};function xO(n,r){let t=null,o;const l=dc(n);function u(){var f;clearTimeout(o),(f=t)==null||f.disconnect(),t=null}function d(f,m){f===void 0&&(f=!1),m===void 0&&(m=1),u();const{left:v,top:_,width:k,height:C}=n.getBoundingClientRect();if(f||r(),!k||!C)return;const M=q0(_),A=q0(l.clientWidth-(v+k)),F=q0(l.clientHeight-(_+C)),G=q0(v),W={rootMargin:-M+"px "+-A+"px "+-F+"px "+-G+"px",threshold:vs(0,uu(1,m))||1};let j=!0;function V(nt){const gt=nt[0].intersectionRatio;if(gt!==m){if(!j)return d();gt?d(!1,gt):o=setTimeout(()=>{d(!1,1e-7)},100)}j=!1}try{t=new IntersectionObserver(V,{...W,root:l.ownerDocument})}catch{t=new IntersectionObserver(V,W)}t.observe(n)}return d(!0),u}function _O(n,r,t,o){o===void 0&&(o={});const{ancestorScroll:l=!0,ancestorResize:u=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:m=!1}=o,v=vx(n),_=l||u?[...v?Rg(v):[],...Rg(r)]:[];_.forEach(H=>{l&&H.addEventListener("scroll",t,{passive:!0}),u&&H.addEventListener("resize",t)});const k=v&&f?xO(v,t):null;let C=-1,M=null;d&&(M=new ResizeObserver(H=>{let[W]=H;W&&W.target===v&&M&&(M.unobserve(r),cancelAnimationFrame(C),C=requestAnimationFrame(()=>{var j;(j=M)==null||j.observe(r)})),t()}),v&&!m&&M.observe(v),M.observe(r));let A,F=m?kh(n):null;m&&G();function G(){const H=kh(n);F&&(H.x!==F.x||H.y!==F.y||H.width!==F.width||H.height!==F.height)&&t(),F=H,A=requestAnimationFrame(G)}return t(),()=>{var H;_.forEach(W=>{l&&W.removeEventListener("scroll",t),u&&W.removeEventListener("resize",t)}),k==null||k(),(H=M)==null||H.disconnect(),M=null,m&&cancelAnimationFrame(A)}}const kO=nO,EO=eO,z2=oO,TO=tO,SO=(n,r,t)=>{const o=new Map,l={platform:mv,...t},u={...l.platform,_c:o};return $A(n,r,{...l,platform:u})};function CO(n){return PO(n)}function Sw(n){return n.assignedSlot?n.assignedSlot:n.parentNode instanceof ShadowRoot?n.parentNode.host:n.parentNode}function PO(n){for(let r=n;r;r=Sw(r))if(r instanceof Element&&getComputedStyle(r).display==="none")return null;for(let r=Sw(n);r;r=Sw(r)){if(!(r instanceof Element))continue;const t=getComputedStyle(r);if(t.display!=="contents"&&(t.position!=="static"||t.filter!=="none"||r.tagName==="BODY"))return r}return null}function MO(n){return n!==null&&typeof n=="object"&&"getBoundingClientRect"in n}var _i=class extends $n{constructor(){super(...arguments),this.active=!1,this.placement="top",this.strategy="absolute",this.distance=0,this.skidding=0,this.arrow=!1,this.arrowPlacement="anchor",this.arrowPadding=10,this.flip=!1,this.flipFallbackPlacements="",this.flipFallbackStrategy="best-fit",this.flipPadding=0,this.shift=!1,this.shiftPadding=0,this.autoSizePadding=0,this.hoverBridge=!1,this.updateHoverBridge=()=>{if(this.hoverBridge&&this.anchorEl){const n=this.anchorEl.getBoundingClientRect(),r=this.popup.getBoundingClientRect(),t=this.placement.includes("top")||this.placement.includes("bottom");let o=0,l=0,u=0,d=0,f=0,m=0,v=0,_=0;t?n.top<r.top?(o=n.left,l=n.bottom,u=n.right,d=n.bottom,f=r.left,m=r.top,v=r.right,_=r.top):(o=r.left,l=r.bottom,u=r.right,d=r.bottom,f=n.left,m=n.top,v=n.right,_=n.top):n.left<r.left?(o=n.right,l=n.top,u=r.left,d=r.top,f=n.right,m=n.bottom,v=r.left,_=r.bottom):(o=r.right,l=r.top,u=n.left,d=n.top,f=r.right,m=r.bottom,v=n.left,_=n.bottom),this.style.setProperty("--hover-bridge-top-left-x",`${o}px`),this.style.setProperty("--hover-bridge-top-left-y",`${l}px`),this.style.setProperty("--hover-bridge-top-right-x",`${u}px`),this.style.setProperty("--hover-bridge-top-right-y",`${d}px`),this.style.setProperty("--hover-bridge-bottom-left-x",`${f}px`),this.style.setProperty("--hover-bridge-bottom-left-y",`${m}px`),this.style.setProperty("--hover-bridge-bottom-right-x",`${v}px`),this.style.setProperty("--hover-bridge-bottom-right-y",`${_}px`)}}}async connectedCallback(){super.connectedCallback(),await this.updateComplete,this.start()}disconnectedCallback(){super.disconnectedCallback(),this.stop()}async updated(n){super.updated(n),n.has("active")&&(this.active?this.start():this.stop()),n.has("anchor")&&this.handleAnchorChange(),this.active&&(await this.updateComplete,this.reposition())}async handleAnchorChange(){if(await this.stop(),this.anchor&&typeof this.anchor=="string"){const n=this.getRootNode();this.anchorEl=n.getElementById(this.anchor)}else this.anchor instanceof Element||MO(this.anchor)?this.anchorEl=this.anchor:this.anchorEl=this.querySelector('[slot="anchor"]');this.anchorEl instanceof HTMLSlotElement&&(this.anchorEl=this.anchorEl.assignedElements({flatten:!0})[0]),this.anchorEl&&this.start()}start(){this.anchorEl&&(this.cleanup=_O(this.anchorEl,this.popup,()=>{this.reposition()}))}async stop(){return new Promise(n=>{this.cleanup?(this.cleanup(),this.cleanup=void 0,this.removeAttribute("data-current-placement"),this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height"),requestAnimationFrame(()=>n())):n()})}reposition(){if(!this.active||!this.anchorEl)return;const n=[iO({mainAxis:this.distance,crossAxis:this.skidding})];this.sync?n.push(z2({apply:({rects:t})=>{const o=this.sync==="width"||this.sync==="both",l=this.sync==="height"||this.sync==="both";this.popup.style.width=o?`${t.reference.width}px`:"",this.popup.style.height=l?`${t.reference.height}px`:""}})):(this.popup.style.width="",this.popup.style.height=""),this.flip&&n.push(EO({boundary:this.flipBoundary,fallbackPlacements:this.flipFallbackPlacements,fallbackStrategy:this.flipFallbackStrategy==="best-fit"?"bestFit":"initialPlacement",padding:this.flipPadding})),this.shift&&n.push(kO({boundary:this.shiftBoundary,padding:this.shiftPadding})),this.autoSize?n.push(z2({boundary:this.autoSizeBoundary,padding:this.autoSizePadding,apply:({availableWidth:t,availableHeight:o})=>{this.autoSize==="vertical"||this.autoSize==="both"?this.style.setProperty("--auto-size-available-height",`${o}px`):this.style.removeProperty("--auto-size-available-height"),this.autoSize==="horizontal"||this.autoSize==="both"?this.style.setProperty("--auto-size-available-width",`${t}px`):this.style.removeProperty("--auto-size-available-width")}})):(this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height")),this.arrow&&n.push(TO({element:this.arrowEl,padding:this.arrowPadding}));const r=this.strategy==="absolute"?t=>mv.getOffsetParent(t,CO):mv.getOffsetParent;SO(this.anchorEl,this.popup,{placement:this.placement,middleware:n,strategy:this.strategy,platform:Ey(xu({},mv),{getOffsetParent:r})}).then(({x:t,y:o,middlewareData:l,placement:u})=>{const d=getComputedStyle(this).direction==="rtl",f={top:"bottom",right:"left",bottom:"top",left:"right"}[u.split("-")[0]];if(this.setAttribute("data-current-placement",u),Object.assign(this.popup.style,{left:`${t}px`,top:`${o}px`}),this.arrow){const m=l.arrow.x,v=l.arrow.y;let _="",k="",C="",M="";if(this.arrowPlacement==="start"){const A=typeof m=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";_=typeof v=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"",k=d?A:"",M=d?"":A}else if(this.arrowPlacement==="end"){const A=typeof m=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";k=d?"":A,M=d?A:"",C=typeof v=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:""}else this.arrowPlacement==="center"?(M=typeof m=="number"?"calc(50% - var(--arrow-size-diagonal))":"",_=typeof v=="number"?"calc(50% - var(--arrow-size-diagonal))":""):(M=typeof m=="number"?`${m}px`:"",_=typeof v=="number"?`${v}px`:"");Object.assign(this.arrowEl.style,{top:_,right:k,bottom:C,left:M,[f]:"calc(var(--arrow-size-diagonal) * -1)"})}}),requestAnimationFrame(()=>this.updateHoverBridge()),this.emit("sl-reposition")}render(){return _n`
      <slot name="anchor" @slotchange=${this.handleAnchorChange}></slot>

      <span
        part="hover-bridge"
        class=${Na({"popup-hover-bridge":!0,"popup-hover-bridge--visible":this.hoverBridge&&this.active})}
      ></span>

      <div
        part="popup"
        class=${Na({popup:!0,"popup--active":this.active,"popup--fixed":this.strategy==="fixed","popup--has-arrow":this.arrow})}
      >
        <slot></slot>
        ${this.arrow?_n`<div part="arrow" class="popup__arrow" role="presentation"></div>`:""}
      </div>
    `}};_i.styles=VA;Wt([cn(".popup")],_i.prototype,"popup",2);Wt([cn(".popup__arrow")],_i.prototype,"arrowEl",2);Wt([le()],_i.prototype,"anchor",2);Wt([le({type:Boolean,reflect:!0})],_i.prototype,"active",2);Wt([le({reflect:!0})],_i.prototype,"placement",2);Wt([le({reflect:!0})],_i.prototype,"strategy",2);Wt([le({type:Number})],_i.prototype,"distance",2);Wt([le({type:Number})],_i.prototype,"skidding",2);Wt([le({type:Boolean})],_i.prototype,"arrow",2);Wt([le({attribute:"arrow-placement"})],_i.prototype,"arrowPlacement",2);Wt([le({attribute:"arrow-padding",type:Number})],_i.prototype,"arrowPadding",2);Wt([le({type:Boolean})],_i.prototype,"flip",2);Wt([le({attribute:"flip-fallback-placements",converter:{fromAttribute:n=>n.split(" ").map(r=>r.trim()).filter(r=>r!==""),toAttribute:n=>n.join(" ")}})],_i.prototype,"flipFallbackPlacements",2);Wt([le({attribute:"flip-fallback-strategy"})],_i.prototype,"flipFallbackStrategy",2);Wt([le({type:Object})],_i.prototype,"flipBoundary",2);Wt([le({attribute:"flip-padding",type:Number})],_i.prototype,"flipPadding",2);Wt([le({type:Boolean})],_i.prototype,"shift",2);Wt([le({type:Object})],_i.prototype,"shiftBoundary",2);Wt([le({attribute:"shift-padding",type:Number})],_i.prototype,"shiftPadding",2);Wt([le({attribute:"auto-size"})],_i.prototype,"autoSize",2);Wt([le()],_i.prototype,"sync",2);Wt([le({type:Object})],_i.prototype,"autoSizeBoundary",2);Wt([le({attribute:"auto-size-padding",type:Number})],_i.prototype,"autoSizePadding",2);Wt([le({attribute:"hover-bridge",type:Boolean})],_i.prototype,"hoverBridge",2);var Oo=class extends $n{constructor(){super(...arguments),this.localize=new wu(this),this.open=!1,this.placement="bottom-start",this.disabled=!1,this.stayOpenOnSelect=!1,this.distance=0,this.skidding=0,this.hoist=!1,this.handleKeyDown=n=>{this.open&&n.key==="Escape"&&(n.stopPropagation(),this.hide(),this.focusOnTrigger())},this.handleDocumentKeyDown=n=>{var r;if(n.key==="Escape"&&this.open&&!this.closeWatcher){n.stopPropagation(),this.focusOnTrigger(),this.hide();return}if(n.key==="Tab"){if(this.open&&((r=document.activeElement)==null?void 0:r.tagName.toLowerCase())==="sl-menu-item"){n.preventDefault(),this.hide(),this.focusOnTrigger();return}setTimeout(()=>{var t,o,l;const u=((t=this.containingElement)==null?void 0:t.getRootNode())instanceof ShadowRoot?(l=(o=document.activeElement)==null?void 0:o.shadowRoot)==null?void 0:l.activeElement:document.activeElement;(!this.containingElement||(u==null?void 0:u.closest(this.containingElement.tagName.toLowerCase()))!==this.containingElement)&&this.hide()})}},this.handleDocumentMouseDown=n=>{const r=n.composedPath();this.containingElement&&!r.includes(this.containingElement)&&this.hide()},this.handlePanelSelect=n=>{const r=n.target;!this.stayOpenOnSelect&&r.tagName.toLowerCase()==="sl-menu"&&(this.hide(),this.focusOnTrigger())}}connectedCallback(){super.connectedCallback(),this.containingElement||(this.containingElement=this)}firstUpdated(){this.panel.hidden=!this.open,this.open&&(this.addOpenListeners(),this.popup.active=!0)}disconnectedCallback(){super.disconnectedCallback(),this.removeOpenListeners(),this.hide()}focusOnTrigger(){const n=this.trigger.assignedElements({flatten:!0})[0];typeof(n==null?void 0:n.focus)=="function"&&n.focus()}getMenu(){return this.panel.assignedElements({flatten:!0}).find(n=>n.tagName.toLowerCase()==="sl-menu")}handleTriggerClick(){this.open?this.hide():(this.show(),this.focusOnTrigger())}async handleTriggerKeyDown(n){if([" ","Enter"].includes(n.key)){n.preventDefault(),this.handleTriggerClick();return}const r=this.getMenu();if(r){const t=r.getAllItems(),o=t[0],l=t[t.length-1];["ArrowDown","ArrowUp","Home","End"].includes(n.key)&&(n.preventDefault(),this.open||(this.show(),await this.updateComplete),t.length>0&&this.updateComplete.then(()=>{(n.key==="ArrowDown"||n.key==="Home")&&(r.setCurrentItem(o),o.focus()),(n.key==="ArrowUp"||n.key==="End")&&(r.setCurrentItem(l),l.focus())}))}}handleTriggerKeyUp(n){n.key===" "&&n.preventDefault()}handleTriggerSlotChange(){this.updateAccessibleTrigger()}updateAccessibleTrigger(){const r=this.trigger.assignedElements({flatten:!0}).find(o=>AA(o).start);let t;if(r){switch(r.tagName.toLowerCase()){case"sl-button":case"sl-icon-button":t=r.button;break;default:t=r}t.setAttribute("aria-haspopup","true"),t.setAttribute("aria-expanded",this.open?"true":"false")}}async show(){if(!this.open)return this.open=!0,pp(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,pp(this,"sl-after-hide")}reposition(){this.popup.reposition()}addOpenListeners(){var n;this.panel.addEventListener("sl-select",this.handlePanelSelect),"CloseWatcher"in window?((n=this.closeWatcher)==null||n.destroy(),this.closeWatcher=new CloseWatcher,this.closeWatcher.onclose=()=>{this.hide(),this.focusOnTrigger()}):this.panel.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("mousedown",this.handleDocumentMouseDown)}removeOpenListeners(){var n;this.panel&&(this.panel.removeEventListener("sl-select",this.handlePanelSelect),this.panel.removeEventListener("keydown",this.handleKeyDown)),document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("mousedown",this.handleDocumentMouseDown),(n=this.closeWatcher)==null||n.destroy()}async handleOpenChange(){if(this.disabled){this.open=!1;return}if(this.updateAccessibleTrigger(),this.open){this.emit("sl-show"),this.addOpenListeners(),await eu(this),this.panel.hidden=!1,this.popup.active=!0;const{keyframes:n,options:r}=tc(this,"dropdown.show",{dir:this.localize.dir()});await ec(this.popup.popup,n,r),this.emit("sl-after-show")}else{this.emit("sl-hide"),this.removeOpenListeners(),await eu(this);const{keyframes:n,options:r}=tc(this,"dropdown.hide",{dir:this.localize.dir()});await ec(this.popup.popup,n,r),this.panel.hidden=!0,this.popup.active=!1,this.emit("sl-after-hide")}}render(){return _n`
      <sl-popup
        part="base"
        id="dropdown"
        placement=${this.placement}
        distance=${this.distance}
        skidding=${this.skidding}
        strategy=${this.hoist?"fixed":"absolute"}
        flip
        shift
        auto-size="vertical"
        auto-size-padding="10"
        class=${Na({dropdown:!0,"dropdown--open":this.open})}
      >
        <slot
          name="trigger"
          slot="anchor"
          part="trigger"
          class="dropdown__trigger"
          @click=${this.handleTriggerClick}
          @keydown=${this.handleTriggerKeyDown}
          @keyup=${this.handleTriggerKeyUp}
          @slotchange=${this.handleTriggerSlotChange}
        ></slot>

        <div aria-hidden=${this.open?"false":"true"} aria-labelledby="dropdown">
          <slot part="panel" class="dropdown__panel"></slot>
        </div>
      </sl-popup>
    `}};Oo.styles=qA;Oo.dependencies={"sl-popup":_i};Wt([cn(".dropdown")],Oo.prototype,"popup",2);Wt([cn(".dropdown__trigger")],Oo.prototype,"trigger",2);Wt([cn(".dropdown__panel")],Oo.prototype,"panel",2);Wt([le({type:Boolean,reflect:!0})],Oo.prototype,"open",2);Wt([le({reflect:!0})],Oo.prototype,"placement",2);Wt([le({type:Boolean,reflect:!0})],Oo.prototype,"disabled",2);Wt([le({attribute:"stay-open-on-select",type:Boolean,reflect:!0})],Oo.prototype,"stayOpenOnSelect",2);Wt([le({attribute:!1})],Oo.prototype,"containingElement",2);Wt([le({type:Number})],Oo.prototype,"distance",2);Wt([le({type:Number})],Oo.prototype,"skidding",2);Wt([le({type:Boolean})],Oo.prototype,"hoist",2);Wt([vo("open",{waitUntilFirstUpdate:!0})],Oo.prototype,"handleOpenChange",1);hc("dropdown.show",{keyframes:[{opacity:0,scale:.9},{opacity:1,scale:1}],options:{duration:100,easing:"ease"}});hc("dropdown.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.9}],options:{duration:100,easing:"ease"}});Oo.define("sl-dropdown");ea.define("sl-icon");var IO=ts`
  ${xs}

  :host {
    display: block;
    position: relative;
    background: var(--sl-panel-background-color);
    border: solid var(--sl-panel-border-width) var(--sl-panel-border-color);
    border-radius: var(--sl-border-radius-medium);
    padding: var(--sl-spacing-x-small) 0;
    overflow: auto;
    overscroll-behavior: none;
  }

  ::slotted(sl-divider) {
    --spacing: var(--sl-spacing-x-small);
  }
`,yx=class extends $n{connectedCallback(){super.connectedCallback(),this.setAttribute("role","menu")}handleClick(n){const r=["menuitem","menuitemcheckbox"],t=n.composedPath().find(l=>{var u;return r.includes(((u=l==null?void 0:l.getAttribute)==null?void 0:u.call(l,"role"))||"")});if(!t)return;const o=t;o.type==="checkbox"&&(o.checked=!o.checked),this.emit("sl-select",{detail:{item:o}})}handleKeyDown(n){if(n.key==="Enter"||n.key===" "){const r=this.getCurrentItem();n.preventDefault(),n.stopPropagation(),r==null||r.click()}else if(["ArrowDown","ArrowUp","Home","End"].includes(n.key)){const r=this.getAllItems(),t=this.getCurrentItem();let o=t?r.indexOf(t):0;r.length>0&&(n.preventDefault(),n.stopPropagation(),n.key==="ArrowDown"?o++:n.key==="ArrowUp"?o--:n.key==="Home"?o=0:n.key==="End"&&(o=r.length-1),o<0&&(o=r.length-1),o>r.length-1&&(o=0),this.setCurrentItem(r[o]),r[o].focus())}}handleMouseDown(n){const r=n.target;this.isMenuItem(r)&&this.setCurrentItem(r)}handleSlotChange(){const n=this.getAllItems();n.length>0&&this.setCurrentItem(n[0])}isMenuItem(n){var r;return n.tagName.toLowerCase()==="sl-menu-item"||["menuitem","menuitemcheckbox","menuitemradio"].includes((r=n.getAttribute("role"))!=null?r:"")}getAllItems(){return[...this.defaultSlot.assignedElements({flatten:!0})].filter(n=>!(n.inert||!this.isMenuItem(n)))}getCurrentItem(){return this.getAllItems().find(n=>n.getAttribute("tabindex")==="0")}setCurrentItem(n){this.getAllItems().forEach(t=>{t.setAttribute("tabindex",t===n?"0":"-1")})}render(){return _n`
      <slot
        @slotchange=${this.handleSlotChange}
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
        @mousedown=${this.handleMouseDown}
      ></slot>
    `}};yx.styles=IO;Wt([cn("slot")],yx.prototype,"defaultSlot",2);yx.define("sl-menu");var LO=ts`
  ${xs}

  :host {
    --submenu-offset: -2px;

    display: block;
  }

  :host([inert]) {
    display: none;
  }

  .menu-item {
    position: relative;
    display: flex;
    align-items: stretch;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    line-height: var(--sl-line-height-normal);
    letter-spacing: var(--sl-letter-spacing-normal);
    color: var(--sl-color-neutral-700);
    padding: var(--sl-spacing-2x-small) var(--sl-spacing-2x-small);
    transition: var(--sl-transition-fast) fill;
    user-select: none;
    -webkit-user-select: none;
    white-space: nowrap;
    cursor: pointer;
  }

  .menu-item.menu-item--disabled {
    outline: none;
    opacity: 0.5;
    cursor: not-allowed;
  }

  .menu-item.menu-item--loading {
    outline: none;
    cursor: wait;
  }

  .menu-item.menu-item--loading *:not(sl-spinner) {
    opacity: 0.5;
  }

  .menu-item--loading sl-spinner {
    --indicator-color: currentColor;
    --track-width: 1px;
    position: absolute;
    font-size: 0.75em;
    top: calc(50% - 0.5em);
    left: 0.65rem;
    opacity: 1;
  }

  .menu-item .menu-item__label {
    flex: 1 1 auto;
    display: inline-block;
    text-overflow: ellipsis;
    overflow: hidden;
  }

  .menu-item .menu-item__prefix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .menu-item .menu-item__prefix::slotted(*) {
    margin-inline-end: var(--sl-spacing-x-small);
  }

  .menu-item .menu-item__suffix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .menu-item .menu-item__suffix::slotted(*) {
    margin-inline-start: var(--sl-spacing-x-small);
  }

  /* Safe triangle */
  .menu-item--submenu-expanded::after {
    content: '';
    position: fixed;
    z-index: calc(var(--sl-z-index-dropdown) - 1);
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    clip-path: polygon(
      var(--safe-triangle-cursor-x, 0) var(--safe-triangle-cursor-y, 0),
      var(--safe-triangle-submenu-start-x, 0) var(--safe-triangle-submenu-start-y, 0),
      var(--safe-triangle-submenu-end-x, 0) var(--safe-triangle-submenu-end-y, 0)
    );
  }

  :host(:focus-visible) {
    outline: none;
  }

  :host(:hover:not([aria-disabled='true'], :focus-visible)) .menu-item,
  .menu-item--submenu-expanded {
    background-color: var(--sl-color-neutral-100);
    color: var(--sl-color-neutral-1000);
  }

  :host(:focus-visible) .menu-item {
    outline: none;
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
    opacity: 1;
  }

  .menu-item .menu-item__check,
  .menu-item .menu-item__chevron {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 1.5em;
    visibility: hidden;
  }

  .menu-item--checked .menu-item__check,
  .menu-item--has-submenu .menu-item__chevron {
    visibility: visible;
  }

  /* Add elevation and z-index to submenus */
  sl-popup::part(popup) {
    box-shadow: var(--sl-shadow-large);
    z-index: var(--sl-z-index-dropdown);
    margin-left: var(--submenu-offset);
  }

  .menu-item--rtl sl-popup::part(popup) {
    margin-left: calc(-1 * var(--submenu-offset));
  }

  @media (forced-colors: active) {
    :host(:hover:not([aria-disabled='true'])) .menu-item,
    :host(:focus-visible) .menu-item {
      outline: dashed 1px SelectedItem;
      outline-offset: -1px;
    }
  }
`;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const vg=(n,r)=>{var o;const t=n._$AN;if(t===void 0)return!1;for(const l of t)(o=l._$AO)==null||o.call(l,r,!1),vg(l,r);return!0},Dv=n=>{let r,t;do{if((r=n._$AM)===void 0)break;t=r._$AN,t.delete(n),n=r}while((t==null?void 0:t.size)===0)},gC=n=>{for(let r;r=n._$AM;n=r){let t=r._$AN;if(t===void 0)r._$AN=t=new Set;else if(t.has(n))break;t.add(n),OO(r)}};function RO(n){this._$AN!==void 0?(Dv(this),this._$AM=n,gC(this)):this._$AM=n}function AO(n,r=!1,t=0){const o=this._$AH,l=this._$AN;if(l!==void 0&&l.size!==0)if(r)if(Array.isArray(o))for(let u=t;u<o.length;u++)vg(o[u],!1),Dv(o[u]);else o!=null&&(vg(o,!1),Dv(o));else vg(this,n)}const OO=n=>{n.type==QS.CHILD&&(n._$AP??(n._$AP=AO),n._$AQ??(n._$AQ=RO))};class zO extends tC{constructor(){super(...arguments),this._$AN=void 0}_$AT(r,t,o){super._$AT(r,t,o),gC(this),this.isConnected=r._$AU}_$AO(r,t=!0){var o,l;r!==this.isConnected&&(this.isConnected=r,r?(o=this.reconnected)==null||o.call(this):(l=this.disconnected)==null||l.call(this)),t&&(vg(this,r),Dv(this))}setValue(r){if(CA(this._$Ct))this._$Ct._$AI(r,this);else{const t=[...this._$Ct._$AH];t[this._$Ci]=r,this._$Ct._$AI(t,this,0)}}disconnected(){}reconnected(){}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const NO=()=>new DO;class DO{}const Cw=new WeakMap,FO=$S(class extends zO{render(n){return an}update(n,[r]){var o;const t=r!==this.Y;return t&&this.Y!==void 0&&this.rt(void 0),(t||this.lt!==this.ct)&&(this.Y=r,this.ht=(o=n.options)==null?void 0:o.host,this.rt(this.ct=n.element)),an}rt(n){if(typeof this.Y=="function"){const r=this.ht??globalThis;let t=Cw.get(r);t===void 0&&(t=new WeakMap,Cw.set(r,t)),t.get(this.Y)!==void 0&&this.Y.call(this.ht,void 0),t.set(this.Y,n),n!==void 0&&this.Y.call(this.ht,n)}else this.Y.value=n}get lt(){var n,r;return typeof this.Y=="function"?(n=Cw.get(this.ht??globalThis))==null?void 0:n.get(this.Y):(r=this.Y)==null?void 0:r.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});var BO=class{constructor(n,r,t){this.popupRef=NO(),this.enableSubmenuTimer=-1,this.isConnected=!1,this.isPopupConnected=!1,this.skidding=0,this.submenuOpenDelay=100,this.handleMouseMove=o=>{this.host.style.setProperty("--safe-triangle-cursor-x",`${o.clientX}px`),this.host.style.setProperty("--safe-triangle-cursor-y",`${o.clientY}px`)},this.handleMouseOver=()=>{this.hasSlotController.test("submenu")&&this.enableSubmenu()},this.handleKeyDown=o=>{switch(o.key){case"Escape":case"Tab":this.disableSubmenu();break;case"ArrowLeft":o.target!==this.host&&(o.preventDefault(),o.stopPropagation(),this.host.focus(),this.disableSubmenu());break;case"ArrowRight":case"Enter":case" ":this.handleSubmenuEntry(o);break}},this.handleClick=o=>{var l;o.target===this.host?(o.preventDefault(),o.stopPropagation()):o.target instanceof Element&&(o.target.tagName==="sl-menu-item"||(l=o.target.role)!=null&&l.startsWith("menuitem"))&&this.disableSubmenu()},this.handleFocusOut=o=>{o.relatedTarget&&o.relatedTarget instanceof Element&&this.host.contains(o.relatedTarget)||this.disableSubmenu()},this.handlePopupMouseover=o=>{o.stopPropagation()},this.handlePopupReposition=()=>{const o=this.host.renderRoot.querySelector("slot[name='submenu']"),l=o==null?void 0:o.assignedElements({flatten:!0}).filter(_=>_.localName==="sl-menu")[0],u=this.localize.dir()==="rtl";if(!l)return;const{left:d,top:f,width:m,height:v}=l.getBoundingClientRect();this.host.style.setProperty("--safe-triangle-submenu-start-x",`${u?d+m:d}px`),this.host.style.setProperty("--safe-triangle-submenu-start-y",`${f}px`),this.host.style.setProperty("--safe-triangle-submenu-end-x",`${u?d+m:d}px`),this.host.style.setProperty("--safe-triangle-submenu-end-y",`${f+v}px`)},(this.host=n).addController(this),this.hasSlotController=r,this.localize=t}hostConnected(){this.hasSlotController.test("submenu")&&!this.host.disabled&&this.addListeners()}hostDisconnected(){this.removeListeners()}hostUpdated(){this.hasSlotController.test("submenu")&&!this.host.disabled?(this.addListeners(),this.updateSkidding()):this.removeListeners()}addListeners(){this.isConnected||(this.host.addEventListener("mousemove",this.handleMouseMove),this.host.addEventListener("mouseover",this.handleMouseOver),this.host.addEventListener("keydown",this.handleKeyDown),this.host.addEventListener("click",this.handleClick),this.host.addEventListener("focusout",this.handleFocusOut),this.isConnected=!0),this.isPopupConnected||this.popupRef.value&&(this.popupRef.value.addEventListener("mouseover",this.handlePopupMouseover),this.popupRef.value.addEventListener("sl-reposition",this.handlePopupReposition),this.isPopupConnected=!0)}removeListeners(){this.isConnected&&(this.host.removeEventListener("mousemove",this.handleMouseMove),this.host.removeEventListener("mouseover",this.handleMouseOver),this.host.removeEventListener("keydown",this.handleKeyDown),this.host.removeEventListener("click",this.handleClick),this.host.removeEventListener("focusout",this.handleFocusOut),this.isConnected=!1),this.isPopupConnected&&this.popupRef.value&&(this.popupRef.value.removeEventListener("mouseover",this.handlePopupMouseover),this.popupRef.value.removeEventListener("sl-reposition",this.handlePopupReposition),this.isPopupConnected=!1)}handleSubmenuEntry(n){const r=this.host.renderRoot.querySelector("slot[name='submenu']");if(!r){console.error("Cannot activate a submenu if no corresponding menuitem can be found.",this);return}let t=null;for(const o of r.assignedElements())if(t=o.querySelectorAll("sl-menu-item, [role^='menuitem']"),t.length!==0)break;if(!(!t||t.length===0)){t[0].setAttribute("tabindex","0");for(let o=1;o!==t.length;++o)t[o].setAttribute("tabindex","-1");this.popupRef.value&&(n.preventDefault(),n.stopPropagation(),this.popupRef.value.active?t[0]instanceof HTMLElement&&t[0].focus():(this.enableSubmenu(!1),this.host.updateComplete.then(()=>{t[0]instanceof HTMLElement&&t[0].focus()}),this.host.requestUpdate()))}}setSubmenuState(n){this.popupRef.value&&this.popupRef.value.active!==n&&(this.popupRef.value.active=n,this.host.requestUpdate())}enableSubmenu(n=!0){n?this.enableSubmenuTimer=window.setTimeout(()=>{this.setSubmenuState(!0)},this.submenuOpenDelay):this.setSubmenuState(!0)}disableSubmenu(){clearTimeout(this.enableSubmenuTimer),this.setSubmenuState(!1)}updateSkidding(){var n;if(!((n=this.host.parentElement)!=null&&n.computedStyleMap))return;const r=this.host.parentElement.computedStyleMap(),o=["padding-top","border-top-width","margin-top"].reduce((l,u)=>{var d;const f=(d=r.get(u))!=null?d:new CSSUnitValue(0,"px"),v=(f instanceof CSSUnitValue?f:new CSSUnitValue(0,"px")).to("px");return l-v.value},0);this.skidding=o}isExpanded(){return this.popupRef.value?this.popupRef.value.active:!1}renderSubmenu(){const n=this.localize.dir()==="ltr";return this.isConnected?_n`
      <sl-popup
        ${FO(this.popupRef)}
        placement=${n?"right-start":"left-start"}
        anchor="anchor"
        flip
        flip-fallback-strategy="best-fit"
        skidding="${this.skidding}"
        strategy="fixed"
      >
        <slot name="submenu"></slot>
      </sl-popup>
    `:_n` <slot name="submenu" hidden></slot> `}},_s=class extends $n{constructor(){super(...arguments),this.type="normal",this.checked=!1,this.value="",this.loading=!1,this.disabled=!1,this.localize=new wu(this),this.hasSlotController=new ux(this,"submenu"),this.submenuController=new BO(this,this.hasSlotController,this.localize),this.handleHostClick=n=>{this.disabled&&(n.preventDefault(),n.stopImmediatePropagation())},this.handleMouseOver=n=>{this.focus(),n.stopPropagation()}}connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.handleHostClick),this.addEventListener("mouseover",this.handleMouseOver)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("click",this.handleHostClick),this.removeEventListener("mouseover",this.handleMouseOver)}handleDefaultSlotChange(){const n=this.getTextLabel();if(typeof this.cachedTextLabel>"u"){this.cachedTextLabel=n;return}n!==this.cachedTextLabel&&(this.cachedTextLabel=n,this.emit("slotchange",{bubbles:!0,composed:!1,cancelable:!1}))}handleCheckedChange(){if(this.checked&&this.type!=="checkbox"){this.checked=!1,console.error('The checked attribute can only be used on menu items with type="checkbox"',this);return}this.type==="checkbox"?this.setAttribute("aria-checked",this.checked?"true":"false"):this.removeAttribute("aria-checked")}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false")}handleTypeChange(){this.type==="checkbox"?(this.setAttribute("role","menuitemcheckbox"),this.setAttribute("aria-checked",this.checked?"true":"false")):(this.setAttribute("role","menuitem"),this.removeAttribute("aria-checked"))}getTextLabel(){return mA(this.defaultSlot)}isSubmenu(){return this.hasSlotController.test("submenu")}render(){const n=this.localize.dir()==="rtl",r=this.submenuController.isExpanded();return _n`
      <div
        id="anchor"
        part="base"
        class=${Na({"menu-item":!0,"menu-item--rtl":n,"menu-item--checked":this.checked,"menu-item--disabled":this.disabled,"menu-item--loading":this.loading,"menu-item--has-submenu":this.isSubmenu(),"menu-item--submenu-expanded":r})}
        ?aria-haspopup="${this.isSubmenu()}"
        ?aria-expanded="${!!r}"
      >
        <span part="checked-icon" class="menu-item__check">
          <sl-icon name="check" library="system" aria-hidden="true"></sl-icon>
        </span>

        <slot name="prefix" part="prefix" class="menu-item__prefix"></slot>

        <slot part="label" class="menu-item__label" @slotchange=${this.handleDefaultSlotChange}></slot>

        <slot name="suffix" part="suffix" class="menu-item__suffix"></slot>

        <span part="submenu-icon" class="menu-item__chevron">
          <sl-icon name=${n?"chevron-left":"chevron-right"} library="system" aria-hidden="true"></sl-icon>
        </span>

        ${this.submenuController.renderSubmenu()}
        ${this.loading?_n` <sl-spinner part="spinner" exportparts="base:spinner__base"></sl-spinner> `:""}
      </div>
    `}};_s.styles=LO;_s.dependencies={"sl-icon":ea,"sl-popup":_i,"sl-spinner":Ty};Wt([cn("slot:not([name])")],_s.prototype,"defaultSlot",2);Wt([cn(".menu-item")],_s.prototype,"menuItem",2);Wt([le()],_s.prototype,"type",2);Wt([le({type:Boolean,reflect:!0})],_s.prototype,"checked",2);Wt([le()],_s.prototype,"value",2);Wt([le({type:Boolean,reflect:!0})],_s.prototype,"loading",2);Wt([le({type:Boolean,reflect:!0})],_s.prototype,"disabled",2);Wt([vo("checked")],_s.prototype,"handleCheckedChange",1);Wt([vo("disabled")],_s.prototype,"handleDisabledChange",1);Wt([vo("type")],_s.prototype,"handleTypeChange",1);_s.define("sl-menu-item");Ty.define("sl-spinner");var jO=ts`
  ${xs}

  :host {
    --indicator-color: var(--sl-color-primary-600);
    --track-color: var(--sl-color-neutral-200);
    --track-width: 2px;

    display: block;
  }

  .tab-group {
    display: flex;
    border-radius: 0;
  }

  .tab-group__tabs {
    display: flex;
    position: relative;
  }

  .tab-group__indicator {
    position: absolute;
    transition:
      var(--sl-transition-fast) translate ease,
      var(--sl-transition-fast) width ease;
  }

  .tab-group--has-scroll-controls .tab-group__nav-container {
    position: relative;
    padding: 0 var(--sl-spacing-x-large);
  }

  .tab-group__body {
    display: block;
    overflow: auto;
  }

  .tab-group__scroll-button {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    bottom: 0;
    width: var(--sl-spacing-x-large);
  }

  .tab-group__scroll-button--start {
    left: 0;
  }

  .tab-group__scroll-button--end {
    right: 0;
  }

  .tab-group--rtl .tab-group__scroll-button--start {
    left: auto;
    right: 0;
  }

  .tab-group--rtl .tab-group__scroll-button--end {
    left: 0;
    right: auto;
  }

  /*
   * Top
   */

  .tab-group--top {
    flex-direction: column;
  }

  .tab-group--top .tab-group__nav-container {
    order: 1;
  }

  .tab-group--top .tab-group__nav {
    display: flex;
    overflow-x: auto;

    /* Hide scrollbar in Firefox */
    scrollbar-width: none;
  }

  /* Hide scrollbar in Chrome/Safari */
  .tab-group--top .tab-group__nav::-webkit-scrollbar {
    width: 0;
    height: 0;
  }

  .tab-group--top .tab-group__tabs {
    flex: 1 1 auto;
    position: relative;
    flex-direction: row;
    border-bottom: solid var(--track-width) var(--track-color);
  }

  .tab-group--top .tab-group__indicator {
    bottom: calc(-1 * var(--track-width));
    border-bottom: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--top .tab-group__body {
    order: 2;
  }

  .tab-group--top ::slotted(sl-tab-panel) {
    --padding: var(--sl-spacing-medium) 0;
  }

  /*
   * Bottom
   */

  .tab-group--bottom {
    flex-direction: column;
  }

  .tab-group--bottom .tab-group__nav-container {
    order: 2;
  }

  .tab-group--bottom .tab-group__nav {
    display: flex;
    overflow-x: auto;

    /* Hide scrollbar in Firefox */
    scrollbar-width: none;
  }

  /* Hide scrollbar in Chrome/Safari */
  .tab-group--bottom .tab-group__nav::-webkit-scrollbar {
    width: 0;
    height: 0;
  }

  .tab-group--bottom .tab-group__tabs {
    flex: 1 1 auto;
    position: relative;
    flex-direction: row;
    border-top: solid var(--track-width) var(--track-color);
  }

  .tab-group--bottom .tab-group__indicator {
    top: calc(-1 * var(--track-width));
    border-top: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--bottom .tab-group__body {
    order: 1;
  }

  .tab-group--bottom ::slotted(sl-tab-panel) {
    --padding: var(--sl-spacing-medium) 0;
  }

  /*
   * Start
   */

  .tab-group--start {
    flex-direction: row;
  }

  .tab-group--start .tab-group__nav-container {
    order: 1;
  }

  .tab-group--start .tab-group__tabs {
    flex: 0 0 auto;
    flex-direction: column;
    border-inline-end: solid var(--track-width) var(--track-color);
  }

  .tab-group--start .tab-group__indicator {
    right: calc(-1 * var(--track-width));
    border-right: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--start.tab-group--rtl .tab-group__indicator {
    right: auto;
    left: calc(-1 * var(--track-width));
  }

  .tab-group--start .tab-group__body {
    flex: 1 1 auto;
    order: 2;
  }

  .tab-group--start ::slotted(sl-tab-panel) {
    --padding: 0 var(--sl-spacing-medium);
  }

  /*
   * End
   */

  .tab-group--end {
    flex-direction: row;
  }

  .tab-group--end .tab-group__nav-container {
    order: 2;
  }

  .tab-group--end .tab-group__tabs {
    flex: 0 0 auto;
    flex-direction: column;
    border-left: solid var(--track-width) var(--track-color);
  }

  .tab-group--end .tab-group__indicator {
    left: calc(-1 * var(--track-width));
    border-inline-start: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--end.tab-group--rtl .tab-group__indicator {
    right: calc(-1 * var(--track-width));
    left: auto;
  }

  .tab-group--end .tab-group__body {
    flex: 1 1 auto;
    order: 1;
  }

  .tab-group--end ::slotted(sl-tab-panel) {
    --padding: 0 var(--sl-spacing-medium);
  }
`,ks=class extends $n{constructor(){super(...arguments),this.localize=new wu(this),this.tabs=[],this.panels=[],this.hasScrollControls=!1,this.placement="top",this.activation="auto",this.noScrollControls=!1}connectedCallback(){const n=Promise.all([customElements.whenDefined("sl-tab"),customElements.whenDefined("sl-tab-panel")]);super.connectedCallback(),this.resizeObserver=new ResizeObserver(()=>{this.repositionIndicator(),this.updateScrollControls()}),this.mutationObserver=new MutationObserver(r=>{r.some(t=>!["aria-labelledby","aria-controls"].includes(t.attributeName))&&setTimeout(()=>this.setAriaLabels()),r.some(t=>t.attributeName==="disabled")&&this.syncTabsAndPanels()}),this.updateComplete.then(()=>{this.syncTabsAndPanels(),this.mutationObserver.observe(this,{attributes:!0,childList:!0,subtree:!0}),this.resizeObserver.observe(this.nav),n.then(()=>{new IntersectionObserver((t,o)=>{var l;t[0].intersectionRatio>0&&(this.setAriaLabels(),this.setActiveTab((l=this.getActiveTab())!=null?l:this.tabs[0],{emitEvents:!1}),o.unobserve(t[0].target))}).observe(this.tabGroup)})})}disconnectedCallback(){super.disconnectedCallback(),this.mutationObserver.disconnect(),this.resizeObserver.unobserve(this.nav)}getAllTabs(n={includeDisabled:!0}){return[...this.shadowRoot.querySelector('slot[name="nav"]').assignedElements()].filter(t=>n.includeDisabled?t.tagName.toLowerCase()==="sl-tab":t.tagName.toLowerCase()==="sl-tab"&&!t.disabled)}getAllPanels(){return[...this.body.assignedElements()].filter(n=>n.tagName.toLowerCase()==="sl-tab-panel")}getActiveTab(){return this.tabs.find(n=>n.active)}handleClick(n){const t=n.target.closest("sl-tab");(t==null?void 0:t.closest("sl-tab-group"))===this&&t!==null&&this.setActiveTab(t,{scrollBehavior:"smooth"})}handleKeyDown(n){const t=n.target.closest("sl-tab");if((t==null?void 0:t.closest("sl-tab-group"))===this&&(["Enter"," "].includes(n.key)&&t!==null&&(this.setActiveTab(t,{scrollBehavior:"smooth"}),n.preventDefault()),["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(n.key))){const l=this.tabs.find(d=>d.matches(":focus")),u=this.localize.dir()==="rtl";if((l==null?void 0:l.tagName.toLowerCase())==="sl-tab"){let d=this.tabs.indexOf(l);n.key==="Home"?d=0:n.key==="End"?d=this.tabs.length-1:["top","bottom"].includes(this.placement)&&n.key===(u?"ArrowRight":"ArrowLeft")||["start","end"].includes(this.placement)&&n.key==="ArrowUp"?d--:(["top","bottom"].includes(this.placement)&&n.key===(u?"ArrowLeft":"ArrowRight")||["start","end"].includes(this.placement)&&n.key==="ArrowDown")&&d++,d<0&&(d=this.tabs.length-1),d>this.tabs.length-1&&(d=0),this.tabs[d].focus({preventScroll:!0}),this.activation==="auto"&&this.setActiveTab(this.tabs[d],{scrollBehavior:"smooth"}),["top","bottom"].includes(this.placement)&&P2(this.tabs[d],this.nav,"horizontal"),n.preventDefault()}}}handleScrollToStart(){this.nav.scroll({left:this.localize.dir()==="rtl"?this.nav.scrollLeft+this.nav.clientWidth:this.nav.scrollLeft-this.nav.clientWidth,behavior:"smooth"})}handleScrollToEnd(){this.nav.scroll({left:this.localize.dir()==="rtl"?this.nav.scrollLeft-this.nav.clientWidth:this.nav.scrollLeft+this.nav.clientWidth,behavior:"smooth"})}setActiveTab(n,r){if(r=xu({emitEvents:!0,scrollBehavior:"auto"},r),n!==this.activeTab&&!n.disabled){const t=this.activeTab;this.activeTab=n,this.tabs.forEach(o=>o.active=o===this.activeTab),this.panels.forEach(o=>{var l;return o.active=o.name===((l=this.activeTab)==null?void 0:l.panel)}),this.syncIndicator(),["top","bottom"].includes(this.placement)&&P2(this.activeTab,this.nav,"horizontal",r.scrollBehavior),r.emitEvents&&(t&&this.emit("sl-tab-hide",{detail:{name:t.panel}}),this.emit("sl-tab-show",{detail:{name:this.activeTab.panel}}))}}setAriaLabels(){this.tabs.forEach(n=>{const r=this.panels.find(t=>t.name===n.panel);r&&(n.setAttribute("aria-controls",r.getAttribute("id")),r.setAttribute("aria-labelledby",n.getAttribute("id")))})}repositionIndicator(){const n=this.getActiveTab();if(!n)return;const r=n.clientWidth,t=n.clientHeight,o=this.localize.dir()==="rtl",l=this.getAllTabs(),d=l.slice(0,l.indexOf(n)).reduce((f,m)=>({left:f.left+m.clientWidth,top:f.top+m.clientHeight}),{left:0,top:0});switch(this.placement){case"top":case"bottom":this.indicator.style.width=`${r}px`,this.indicator.style.height="auto",this.indicator.style.translate=o?`${-1*d.left}px`:`${d.left}px`;break;case"start":case"end":this.indicator.style.width="auto",this.indicator.style.height=`${t}px`,this.indicator.style.translate=`0 ${d.top}px`;break}}syncTabsAndPanels(){this.tabs=this.getAllTabs({includeDisabled:!1}),this.panels=this.getAllPanels(),this.syncIndicator(),this.updateComplete.then(()=>this.updateScrollControls())}updateScrollControls(){this.noScrollControls?this.hasScrollControls=!1:this.hasScrollControls=["top","bottom"].includes(this.placement)&&this.nav.scrollWidth>this.nav.clientWidth}syncIndicator(){this.getActiveTab()?(this.indicator.style.display="block",this.repositionIndicator()):this.indicator.style.display="none"}show(n){const r=this.tabs.find(t=>t.panel===n);r&&this.setActiveTab(r,{scrollBehavior:"smooth"})}render(){const n=this.localize.dir()==="rtl";return _n`
      <div
        part="base"
        class=${Na({"tab-group":!0,"tab-group--top":this.placement==="top","tab-group--bottom":this.placement==="bottom","tab-group--start":this.placement==="start","tab-group--end":this.placement==="end","tab-group--rtl":this.localize.dir()==="rtl","tab-group--has-scroll-controls":this.hasScrollControls})}
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
      >
        <div class="tab-group__nav-container" part="nav">
          ${this.hasScrollControls?_n`
                <sl-icon-button
                  part="scroll-button scroll-button--start"
                  exportparts="base:scroll-button__base"
                  class="tab-group__scroll-button tab-group__scroll-button--start"
                  name=${n?"chevron-right":"chevron-left"}
                  library="system"
                  label=${this.localize.term("scrollToStart")}
                  @click=${this.handleScrollToStart}
                ></sl-icon-button>
              `:""}

          <div class="tab-group__nav">
            <div part="tabs" class="tab-group__tabs" role="tablist">
              <div part="active-tab-indicator" class="tab-group__indicator"></div>
              <slot name="nav" @slotchange=${this.syncTabsAndPanels}></slot>
            </div>
          </div>

          ${this.hasScrollControls?_n`
                <sl-icon-button
                  part="scroll-button scroll-button--end"
                  exportparts="base:scroll-button__base"
                  class="tab-group__scroll-button tab-group__scroll-button--end"
                  name=${n?"chevron-left":"chevron-right"}
                  library="system"
                  label=${this.localize.term("scrollToEnd")}
                  @click=${this.handleScrollToEnd}
                ></sl-icon-button>
              `:""}
        </div>

        <slot part="body" class="tab-group__body" @slotchange=${this.syncTabsAndPanels}></slot>
      </div>
    `}};ks.styles=jO;ks.dependencies={"sl-icon-button":Ao};Wt([cn(".tab-group")],ks.prototype,"tabGroup",2);Wt([cn(".tab-group__body")],ks.prototype,"body",2);Wt([cn(".tab-group__nav")],ks.prototype,"nav",2);Wt([cn(".tab-group__indicator")],ks.prototype,"indicator",2);Wt([em()],ks.prototype,"hasScrollControls",2);Wt([le()],ks.prototype,"placement",2);Wt([le()],ks.prototype,"activation",2);Wt([le({attribute:"no-scroll-controls",type:Boolean})],ks.prototype,"noScrollControls",2);Wt([vo("noScrollControls",{waitUntilFirstUpdate:!0})],ks.prototype,"updateScrollControls",1);Wt([vo("placement",{waitUntilFirstUpdate:!0})],ks.prototype,"syncIndicator",1);ks.define("sl-tab-group");var HO=ts`
  ${xs}

  :host {
    --padding: 0;

    display: none;
  }

  :host([active]) {
    display: block;
  }

  .tab-panel {
    display: block;
    padding: var(--padding);
  }
`,UO=0,nm=class extends $n{constructor(){super(...arguments),this.attrId=++UO,this.componentId=`sl-tab-panel-${this.attrId}`,this.name="",this.active=!1}connectedCallback(){super.connectedCallback(),this.id=this.id.length>0?this.id:this.componentId,this.setAttribute("role","tabpanel")}handleActiveChange(){this.setAttribute("aria-hidden",this.active?"false":"true")}render(){return _n`
      <slot
        part="base"
        class=${Na({"tab-panel":!0,"tab-panel--active":this.active})}
      ></slot>
    `}};nm.styles=HO;Wt([le({reflect:!0})],nm.prototype,"name",2);Wt([le({type:Boolean,reflect:!0})],nm.prototype,"active",2);Wt([vo("active")],nm.prototype,"handleActiveChange",1);nm.define("sl-tab-panel");var GO=ts`
  ${xs}

  :host {
    display: inline-block;
  }

  .tab {
    display: inline-flex;
    align-items: center;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-small);
    font-weight: var(--sl-font-weight-semibold);
    border-radius: var(--sl-border-radius-medium);
    color: var(--sl-color-neutral-600);
    padding: var(--sl-spacing-medium) var(--sl-spacing-large);
    white-space: nowrap;
    user-select: none;
    -webkit-user-select: none;
    cursor: pointer;
    transition:
      var(--transition-speed) box-shadow,
      var(--transition-speed) color;
  }

  .tab:hover:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab:focus {
    outline: none;
  }

  .tab:focus-visible:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: calc(-1 * var(--sl-focus-ring-width) - var(--sl-focus-ring-offset));
  }

  .tab.tab--active:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab.tab--closable {
    padding-inline-end: var(--sl-spacing-small);
  }

  .tab.tab--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .tab__close-button {
    font-size: var(--sl-font-size-small);
    margin-inline-start: var(--sl-spacing-small);
  }

  .tab__close-button::part(base) {
    padding: var(--sl-spacing-3x-small);
  }

  @media (forced-colors: active) {
    .tab.tab--active:not(.tab--disabled) {
      outline: solid 1px transparent;
      outline-offset: -3px;
    }
  }
`,qO=0,yl=class extends $n{constructor(){super(...arguments),this.localize=new wu(this),this.attrId=++qO,this.componentId=`sl-tab-${this.attrId}`,this.panel="",this.active=!1,this.closable=!1,this.disabled=!1}connectedCallback(){super.connectedCallback(),this.setAttribute("role","tab")}handleCloseClick(n){n.stopPropagation(),this.emit("sl-close")}handleActiveChange(){this.setAttribute("aria-selected",this.active?"true":"false")}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false")}focus(n){this.tab.focus(n)}blur(){this.tab.blur()}render(){return this.id=this.id.length>0?this.id:this.componentId,_n`
      <div
        part="base"
        class=${Na({tab:!0,"tab--active":this.active,"tab--closable":this.closable,"tab--disabled":this.disabled})}
        tabindex=${this.disabled?"-1":"0"}
      >
        <slot></slot>
        ${this.closable?_n`
              <sl-icon-button
                part="close-button"
                exportparts="base:close-button__base"
                name="x-lg"
                library="system"
                label=${this.localize.term("close")}
                class="tab__close-button"
                @click=${this.handleCloseClick}
                tabindex="-1"
              ></sl-icon-button>
            `:""}
      </div>
    `}};yl.styles=GO;yl.dependencies={"sl-icon-button":Ao};Wt([cn(".tab")],yl.prototype,"tab",2);Wt([le({reflect:!0})],yl.prototype,"panel",2);Wt([le({type:Boolean,reflect:!0})],yl.prototype,"active",2);Wt([le({type:Boolean})],yl.prototype,"closable",2);Wt([le({type:Boolean,reflect:!0})],yl.prototype,"disabled",2);Wt([vo("active")],yl.prototype,"handleActiveChange",1);Wt([vo("disabled")],yl.prototype,"handleDisabledChange",1);yl.define("sl-tab");var VO=ts`
  ${xs}

  :host {
    --max-width: 20rem;
    --hide-delay: 0ms;
    --show-delay: 150ms;

    display: contents;
  }

  .tooltip {
    --arrow-size: var(--sl-tooltip-arrow-size);
    --arrow-color: var(--sl-tooltip-background-color);
  }

  .tooltip::part(popup) {
    z-index: var(--sl-z-index-tooltip);
  }

  .tooltip[placement^='top']::part(popup) {
    transform-origin: bottom;
  }

  .tooltip[placement^='bottom']::part(popup) {
    transform-origin: top;
  }

  .tooltip[placement^='left']::part(popup) {
    transform-origin: right;
  }

  .tooltip[placement^='right']::part(popup) {
    transform-origin: left;
  }

  .tooltip__body {
    display: block;
    width: max-content;
    max-width: var(--max-width);
    border-radius: var(--sl-tooltip-border-radius);
    background-color: var(--sl-tooltip-background-color);
    font-family: var(--sl-tooltip-font-family);
    font-size: var(--sl-tooltip-font-size);
    font-weight: var(--sl-tooltip-font-weight);
    line-height: var(--sl-tooltip-line-height);
    color: var(--sl-tooltip-color);
    padding: var(--sl-tooltip-padding);
    pointer-events: none;
    user-select: none;
    -webkit-user-select: none;
  }
`,to=class extends $n{constructor(){super(),this.localize=new wu(this),this.content="",this.placement="top",this.disabled=!1,this.distance=8,this.open=!1,this.skidding=0,this.trigger="hover focus",this.hoist=!1,this.handleBlur=()=>{this.hasTrigger("focus")&&this.hide()},this.handleClick=()=>{this.hasTrigger("click")&&(this.open?this.hide():this.show())},this.handleFocus=()=>{this.hasTrigger("focus")&&this.show()},this.handleDocumentKeyDown=n=>{n.key==="Escape"&&(n.stopPropagation(),this.hide())},this.handleMouseOver=()=>{if(this.hasTrigger("hover")){const n=I2(getComputedStyle(this).getPropertyValue("--show-delay"));clearTimeout(this.hoverTimeout),this.hoverTimeout=window.setTimeout(()=>this.show(),n)}},this.handleMouseOut=()=>{if(this.hasTrigger("hover")){const n=I2(getComputedStyle(this).getPropertyValue("--hide-delay"));clearTimeout(this.hoverTimeout),this.hoverTimeout=window.setTimeout(()=>this.hide(),n)}},this.addEventListener("blur",this.handleBlur,!0),this.addEventListener("focus",this.handleFocus,!0),this.addEventListener("click",this.handleClick),this.addEventListener("mouseover",this.handleMouseOver),this.addEventListener("mouseout",this.handleMouseOut)}disconnectedCallback(){var n;(n=this.closeWatcher)==null||n.destroy(),document.removeEventListener("keydown",this.handleDocumentKeyDown)}firstUpdated(){this.body.hidden=!this.open,this.open&&(this.popup.active=!0,this.popup.reposition())}hasTrigger(n){return this.trigger.split(" ").includes(n)}async handleOpenChange(){var n,r;if(this.open){if(this.disabled)return;this.emit("sl-show"),"CloseWatcher"in window?((n=this.closeWatcher)==null||n.destroy(),this.closeWatcher=new CloseWatcher,this.closeWatcher.onclose=()=>{this.hide()}):document.addEventListener("keydown",this.handleDocumentKeyDown),await eu(this.body),this.body.hidden=!1,this.popup.active=!0;const{keyframes:t,options:o}=tc(this,"tooltip.show",{dir:this.localize.dir()});await ec(this.popup.popup,t,o),this.popup.reposition(),this.emit("sl-after-show")}else{this.emit("sl-hide"),(r=this.closeWatcher)==null||r.destroy(),document.removeEventListener("keydown",this.handleDocumentKeyDown),await eu(this.body);const{keyframes:t,options:o}=tc(this,"tooltip.hide",{dir:this.localize.dir()});await ec(this.popup.popup,t,o),this.popup.active=!1,this.body.hidden=!0,this.emit("sl-after-hide")}}async handleOptionsChange(){this.hasUpdated&&(await this.updateComplete,this.popup.reposition())}handleDisabledChange(){this.disabled&&this.open&&this.hide()}async show(){if(!this.open)return this.open=!0,pp(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,pp(this,"sl-after-hide")}render(){return _n`
      <sl-popup
        part="base"
        exportparts="
          popup:base__popup,
          arrow:base__arrow
        "
        class=${Na({tooltip:!0,"tooltip--open":this.open})}
        placement=${this.placement}
        distance=${this.distance}
        skidding=${this.skidding}
        strategy=${this.hoist?"fixed":"absolute"}
        flip
        shift
        arrow
        hover-bridge
      >
        ${""}
        <slot slot="anchor" aria-describedby="tooltip"></slot>

        ${""}
        <div part="body" id="tooltip" class="tooltip__body" role="tooltip" aria-live=${this.open?"polite":"off"}>
          <slot name="content">${this.content}</slot>
        </div>
      </sl-popup>
    `}};to.styles=VO;to.dependencies={"sl-popup":_i};Wt([cn("slot:not([name])")],to.prototype,"defaultSlot",2);Wt([cn(".tooltip__body")],to.prototype,"body",2);Wt([cn("sl-popup")],to.prototype,"popup",2);Wt([le()],to.prototype,"content",2);Wt([le()],to.prototype,"placement",2);Wt([le({type:Boolean,reflect:!0})],to.prototype,"disabled",2);Wt([le({type:Number})],to.prototype,"distance",2);Wt([le({type:Boolean,reflect:!0})],to.prototype,"open",2);Wt([le({type:Number})],to.prototype,"skidding",2);Wt([le()],to.prototype,"trigger",2);Wt([le({type:Boolean})],to.prototype,"hoist",2);Wt([vo("open",{waitUntilFirstUpdate:!0})],to.prototype,"handleOpenChange",1);Wt([vo(["content","distance","hoist","placement","skidding"])],to.prototype,"handleOptionsChange",1);Wt([vo("disabled")],to.prototype,"handleDisabledChange",1);hc("tooltip.show",{keyframes:[{opacity:0,scale:.8},{opacity:1,scale:1}],options:{duration:150,easing:"ease"}});hc("tooltip.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.8}],options:{duration:150,easing:"ease"}});to.define("sl-tooltip");const WO=["href"],ZO={key:1,class:"text-gray-500"},YO={key:2,class:"mx-2 text-gray-500"},XO=Ro({__name:"Breadcrumbs.ce",setup(n){const r=me(null),t=Xe(()=>{var l;return(l=r==null?void 0:r.value)==null?void 0:l.parentNode});er(t,l=>{l.children[1].classList.remove("sticky")});const o=me();return ta(()=>{var d;let l=location.pathname,u=((d=window.config)==null?void 0:d.baseurl)||"";o.value=[...l.split("/").filter(f=>f).slice(u==null?void 0:u.split("/").filter(f=>f).length).map((f,m,v)=>({name:f,path:u+"/"+v.slice(0,m+1).join("/")}))]}),(l,u)=>{var d;return ke(),Ce("div",{class:"inline-flex items-center gap-1 w-full flex-wrap leading-6",ref_key:"root",ref:r},[((d=o.value)==null?void 0:d.length)>1?(ke(!0),Ce(Fi,{key:0},nu(o.value,(f,m)=>(ke(),Ce(Fi,{key:f.path},[m<o.value.length-1?(ke(),Ce("a",{key:0,href:f.path,class:"text-[#0645ad] hover:underline"},Sv(f.name),9,WO)):(ke(),Ce("span",ZO,Sv(f.name),1)),m<o.value.length-1?(ke(),Ce("span",YO," > ")):ii("",!0)],64))),128)):ii("",!0)],512)}}}),KO=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-\\[100\\%\\]{height:100%}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}
`,Es=(n,r)=>{const t=n.__vccOpts||n;for(const[o,l]of r)t[o]=l;return t},JO=Es(XO,[["styles",[KO]]]);class on{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(r,t=!1){return this.onePassHasher.start().appendStr(r).end(t)}static hashAsciiStr(r,t=!1){return this.onePassHasher.start().appendAsciiStr(r).end(t)}static _hex(r){const t=on.hexChars,o=on.hexOut;let l,u,d,f;for(f=0;f<4;f+=1)for(u=f*8,l=r[f],d=0;d<8;d+=2)o[u+1+d]=t.charAt(l&15),l>>>=4,o[u+0+d]=t.charAt(l&15),l>>>=4;return o.join("")}static _md5cycle(r,t){let o=r[0],l=r[1],u=r[2],d=r[3];o+=(l&u|~l&d)+t[0]-680876936|0,o=(o<<7|o>>>25)+l|0,d+=(o&l|~o&u)+t[1]-389564586|0,d=(d<<12|d>>>20)+o|0,u+=(d&o|~d&l)+t[2]+606105819|0,u=(u<<17|u>>>15)+d|0,l+=(u&d|~u&o)+t[3]-1044525330|0,l=(l<<22|l>>>10)+u|0,o+=(l&u|~l&d)+t[4]-176418897|0,o=(o<<7|o>>>25)+l|0,d+=(o&l|~o&u)+t[5]+1200080426|0,d=(d<<12|d>>>20)+o|0,u+=(d&o|~d&l)+t[6]-1473231341|0,u=(u<<17|u>>>15)+d|0,l+=(u&d|~u&o)+t[7]-45705983|0,l=(l<<22|l>>>10)+u|0,o+=(l&u|~l&d)+t[8]+1770035416|0,o=(o<<7|o>>>25)+l|0,d+=(o&l|~o&u)+t[9]-1958414417|0,d=(d<<12|d>>>20)+o|0,u+=(d&o|~d&l)+t[10]-42063|0,u=(u<<17|u>>>15)+d|0,l+=(u&d|~u&o)+t[11]-1990404162|0,l=(l<<22|l>>>10)+u|0,o+=(l&u|~l&d)+t[12]+1804603682|0,o=(o<<7|o>>>25)+l|0,d+=(o&l|~o&u)+t[13]-40341101|0,d=(d<<12|d>>>20)+o|0,u+=(d&o|~d&l)+t[14]-1502002290|0,u=(u<<17|u>>>15)+d|0,l+=(u&d|~u&o)+t[15]+1236535329|0,l=(l<<22|l>>>10)+u|0,o+=(l&d|u&~d)+t[1]-165796510|0,o=(o<<5|o>>>27)+l|0,d+=(o&u|l&~u)+t[6]-1069501632|0,d=(d<<9|d>>>23)+o|0,u+=(d&l|o&~l)+t[11]+643717713|0,u=(u<<14|u>>>18)+d|0,l+=(u&o|d&~o)+t[0]-373897302|0,l=(l<<20|l>>>12)+u|0,o+=(l&d|u&~d)+t[5]-701558691|0,o=(o<<5|o>>>27)+l|0,d+=(o&u|l&~u)+t[10]+38016083|0,d=(d<<9|d>>>23)+o|0,u+=(d&l|o&~l)+t[15]-660478335|0,u=(u<<14|u>>>18)+d|0,l+=(u&o|d&~o)+t[4]-405537848|0,l=(l<<20|l>>>12)+u|0,o+=(l&d|u&~d)+t[9]+568446438|0,o=(o<<5|o>>>27)+l|0,d+=(o&u|l&~u)+t[14]-1019803690|0,d=(d<<9|d>>>23)+o|0,u+=(d&l|o&~l)+t[3]-187363961|0,u=(u<<14|u>>>18)+d|0,l+=(u&o|d&~o)+t[8]+1163531501|0,l=(l<<20|l>>>12)+u|0,o+=(l&d|u&~d)+t[13]-1444681467|0,o=(o<<5|o>>>27)+l|0,d+=(o&u|l&~u)+t[2]-51403784|0,d=(d<<9|d>>>23)+o|0,u+=(d&l|o&~l)+t[7]+1735328473|0,u=(u<<14|u>>>18)+d|0,l+=(u&o|d&~o)+t[12]-1926607734|0,l=(l<<20|l>>>12)+u|0,o+=(l^u^d)+t[5]-378558|0,o=(o<<4|o>>>28)+l|0,d+=(o^l^u)+t[8]-2022574463|0,d=(d<<11|d>>>21)+o|0,u+=(d^o^l)+t[11]+1839030562|0,u=(u<<16|u>>>16)+d|0,l+=(u^d^o)+t[14]-35309556|0,l=(l<<23|l>>>9)+u|0,o+=(l^u^d)+t[1]-1530992060|0,o=(o<<4|o>>>28)+l|0,d+=(o^l^u)+t[4]+1272893353|0,d=(d<<11|d>>>21)+o|0,u+=(d^o^l)+t[7]-155497632|0,u=(u<<16|u>>>16)+d|0,l+=(u^d^o)+t[10]-1094730640|0,l=(l<<23|l>>>9)+u|0,o+=(l^u^d)+t[13]+681279174|0,o=(o<<4|o>>>28)+l|0,d+=(o^l^u)+t[0]-358537222|0,d=(d<<11|d>>>21)+o|0,u+=(d^o^l)+t[3]-722521979|0,u=(u<<16|u>>>16)+d|0,l+=(u^d^o)+t[6]+76029189|0,l=(l<<23|l>>>9)+u|0,o+=(l^u^d)+t[9]-640364487|0,o=(o<<4|o>>>28)+l|0,d+=(o^l^u)+t[12]-421815835|0,d=(d<<11|d>>>21)+o|0,u+=(d^o^l)+t[15]+530742520|0,u=(u<<16|u>>>16)+d|0,l+=(u^d^o)+t[2]-995338651|0,l=(l<<23|l>>>9)+u|0,o+=(u^(l|~d))+t[0]-198630844|0,o=(o<<6|o>>>26)+l|0,d+=(l^(o|~u))+t[7]+1126891415|0,d=(d<<10|d>>>22)+o|0,u+=(o^(d|~l))+t[14]-1416354905|0,u=(u<<15|u>>>17)+d|0,l+=(d^(u|~o))+t[5]-57434055|0,l=(l<<21|l>>>11)+u|0,o+=(u^(l|~d))+t[12]+1700485571|0,o=(o<<6|o>>>26)+l|0,d+=(l^(o|~u))+t[3]-1894986606|0,d=(d<<10|d>>>22)+o|0,u+=(o^(d|~l))+t[10]-1051523|0,u=(u<<15|u>>>17)+d|0,l+=(d^(u|~o))+t[1]-2054922799|0,l=(l<<21|l>>>11)+u|0,o+=(u^(l|~d))+t[8]+1873313359|0,o=(o<<6|o>>>26)+l|0,d+=(l^(o|~u))+t[15]-30611744|0,d=(d<<10|d>>>22)+o|0,u+=(o^(d|~l))+t[6]-1560198380|0,u=(u<<15|u>>>17)+d|0,l+=(d^(u|~o))+t[13]+1309151649|0,l=(l<<21|l>>>11)+u|0,o+=(u^(l|~d))+t[4]-145523070|0,o=(o<<6|o>>>26)+l|0,d+=(l^(o|~u))+t[11]-1120210379|0,d=(d<<10|d>>>22)+o|0,u+=(o^(d|~l))+t[2]+718787259|0,u=(u<<15|u>>>17)+d|0,l+=(d^(u|~o))+t[9]-343485551|0,l=(l<<21|l>>>11)+u|0,r[0]=o+r[0]|0,r[1]=l+r[1]|0,r[2]=u+r[2]|0,r[3]=d+r[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(on.stateIdentity),this}appendStr(r){const t=this._buffer8,o=this._buffer32;let l=this._bufferLength,u,d;for(d=0;d<r.length;d+=1){if(u=r.charCodeAt(d),u<128)t[l++]=u;else if(u<2048)t[l++]=(u>>>6)+192,t[l++]=u&63|128;else if(u<55296||u>56319)t[l++]=(u>>>12)+224,t[l++]=u>>>6&63|128,t[l++]=u&63|128;else{if(u=(u-55296)*1024+(r.charCodeAt(++d)-56320)+65536,u>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");t[l++]=(u>>>18)+240,t[l++]=u>>>12&63|128,t[l++]=u>>>6&63|128,t[l++]=u&63|128}l>=64&&(this._dataLength+=64,on._md5cycle(this._state,o),l-=64,o[0]=o[16])}return this._bufferLength=l,this}appendAsciiStr(r){const t=this._buffer8,o=this._buffer32;let l=this._bufferLength,u,d=0;for(;;){for(u=Math.min(r.length-d,64-l);u--;)t[l++]=r.charCodeAt(d++);if(l<64)break;this._dataLength+=64,on._md5cycle(this._state,o),l=0}return this._bufferLength=l,this}appendByteArray(r){const t=this._buffer8,o=this._buffer32;let l=this._bufferLength,u,d=0;for(;;){for(u=Math.min(r.length-d,64-l);u--;)t[l++]=r[d++];if(l<64)break;this._dataLength+=64,on._md5cycle(this._state,o),l=0}return this._bufferLength=l,this}getState(){const r=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[r[0],r[1],r[2],r[3]]}}setState(r){const t=r.buffer,o=r.state,l=this._state;let u;for(this._dataLength=r.length,this._bufferLength=r.buflen,l[0]=o[0],l[1]=o[1],l[2]=o[2],l[3]=o[3],u=0;u<t.length;u+=1)this._buffer8[u]=t.charCodeAt(u)}end(r=!1){const t=this._bufferLength,o=this._buffer8,l=this._buffer32,u=(t>>2)+1;this._dataLength+=t;const d=this._dataLength*8;if(o[t]=128,o[t+1]=o[t+2]=o[t+3]=0,l.set(on.buffer32Identity.subarray(u),u),t>55&&(on._md5cycle(this._state,l),l.set(on.buffer32Identity)),d<=4294967295)l[14]=d;else{const f=d.toString(16).match(/(.*?)(.{0,8})$/);if(f===null)return;const m=parseInt(f[2],16),v=parseInt(f[1],16)||0;l[14]=m,l[15]=v}return on._md5cycle(this._state,l),r?this._state:on._hex(this._state)}}on.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]);on.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);on.hexChars="0123456789abcdef";on.hexOut=[];on.onePassHasher=new on;if(on.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592")throw new Error("Md5 self test failed.");/*
 * Component
 * @version: 1.3.0
 * @author: HtmlStream
 * @license: Licensed under MIT (https://preline.co/docs/license.html)
 * Copyright 2023 Htmlstream
 */class mC{constructor(r,t){this.$collection=[],this.selector=r,this.config=t,this.events={}}_fireEvent(r,t=null){this.events.hasOwnProperty(r)&&this.events[r](t)}_dispatch(r,t,o=null){const l=new CustomEvent(r,{detail:{payload:o},bubbles:!0,cancelable:!0,composed:!1});t.dispatchEvent(l)}on(r,t){this.events[r]=t}afterTransition(r,t){const o=()=>{t(),r.removeEventListener("transitionend",o,!0)};window.getComputedStyle(r,null).getPropertyValue("transition")!=="all 0s ease 0s"?r.addEventListener("transitionend",o,!0):t()}getClassProperty(r,t,o=""){return(window.getComputedStyle(r).getPropertyValue(t)||o).replace(" ","")}}var Jo="top",Qs="bottom",$s="right",Qo="left",bx="auto",om=[Jo,Qs,$s,Qo],gp="start",Ag="end",QO="clippingParents",vC="viewport",tg="popper",$O="reference",N2=om.reduce(function(n,r){return n.concat([r+"-"+gp,r+"-"+Ag])},[]),yC=[].concat(om,[bx]).reduce(function(n,r){return n.concat([r,r+"-"+gp,r+"-"+Ag])},[]),tz="beforeRead",ez="read",rz="afterRead",iz="beforeMain",nz="main",oz="afterMain",sz="beforeWrite",az="write",lz="afterWrite",cz=[tz,ez,rz,iz,nz,oz,sz,az,lz];function fl(n){return n?(n.nodeName||"").toLowerCase():null}function bs(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var r=n.ownerDocument;return r&&r.defaultView||window}return n}function Eh(n){var r=bs(n).Element;return n instanceof r||n instanceof Element}function Ks(n){var r=bs(n).HTMLElement;return n instanceof r||n instanceof HTMLElement}function wx(n){if(typeof ShadowRoot>"u")return!1;var r=bs(n).ShadowRoot;return n instanceof r||n instanceof ShadowRoot}function uz(n){var r=n.state;Object.keys(r.elements).forEach(function(t){var o=r.styles[t]||{},l=r.attributes[t]||{},u=r.elements[t];!Ks(u)||!fl(u)||(Object.assign(u.style,o),Object.keys(l).forEach(function(d){var f=l[d];f===!1?u.removeAttribute(d):u.setAttribute(d,f===!0?"":f)}))})}function hz(n){var r=n.state,t={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(r.elements.popper.style,t.popper),r.styles=t,r.elements.arrow&&Object.assign(r.elements.arrow.style,t.arrow),function(){Object.keys(r.elements).forEach(function(o){var l=r.elements[o],u=r.attributes[o]||{},d=Object.keys(r.styles.hasOwnProperty(o)?r.styles[o]:t[o]),f=d.reduce(function(m,v){return m[v]="",m},{});!Ks(l)||!fl(l)||(Object.assign(l.style,f),Object.keys(u).forEach(function(m){l.removeAttribute(m)}))})}}const dz={name:"applyStyles",enabled:!0,phase:"write",fn:uz,effect:hz,requires:["computeStyles"]};function hl(n){return n.split("-")[0]}var vh=Math.max,Fv=Math.min,mp=Math.round;function f1(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(r){return r.brand+"/"+r.version}).join(" "):navigator.userAgent}function bC(){return!/^((?!chrome|android).)*safari/i.test(f1())}function vp(n,r,t){r===void 0&&(r=!1),t===void 0&&(t=!1);var o=n.getBoundingClientRect(),l=1,u=1;r&&Ks(n)&&(l=n.offsetWidth>0&&mp(o.width)/n.offsetWidth||1,u=n.offsetHeight>0&&mp(o.height)/n.offsetHeight||1);var d=Eh(n)?bs(n):window,f=d.visualViewport,m=!bC()&&t,v=(o.left+(m&&f?f.offsetLeft:0))/l,_=(o.top+(m&&f?f.offsetTop:0))/u,k=o.width/l,C=o.height/u;return{width:k,height:C,top:_,right:v+k,bottom:_+C,left:v,x:v,y:_}}function xx(n){var r=vp(n),t=n.offsetWidth,o=n.offsetHeight;return Math.abs(r.width-t)<=1&&(t=r.width),Math.abs(r.height-o)<=1&&(o=r.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:o}}function wC(n,r){var t=r.getRootNode&&r.getRootNode();if(n.contains(r))return!0;if(t&&wx(t)){var o=r;do{if(o&&n.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function lc(n){return bs(n).getComputedStyle(n)}function pz(n){return["table","td","th"].indexOf(fl(n))>=0}function _u(n){return((Eh(n)?n.ownerDocument:n.document)||window.document).documentElement}function Py(n){return fl(n)==="html"?n:n.assignedSlot||n.parentNode||(wx(n)?n.host:null)||_u(n)}function D2(n){return!Ks(n)||lc(n).position==="fixed"?null:n.offsetParent}function fz(n){var r=/firefox/i.test(f1()),t=/Trident/i.test(f1());if(t&&Ks(n)){var o=lc(n);if(o.position==="fixed")return null}var l=Py(n);for(wx(l)&&(l=l.host);Ks(l)&&["html","body"].indexOf(fl(l))<0;){var u=lc(l);if(u.transform!=="none"||u.perspective!=="none"||u.contain==="paint"||["transform","perspective"].indexOf(u.willChange)!==-1||r&&u.willChange==="filter"||r&&u.filter&&u.filter!=="none")return l;l=l.parentNode}return null}function sm(n){for(var r=bs(n),t=D2(n);t&&pz(t)&&lc(t).position==="static";)t=D2(t);return t&&(fl(t)==="html"||fl(t)==="body"&&lc(t).position==="static")?r:t||fz(n)||r}function _x(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function yg(n,r,t){return vh(n,Fv(r,t))}function gz(n,r,t){var o=yg(n,r,t);return o>t?t:o}function xC(){return{top:0,right:0,bottom:0,left:0}}function _C(n){return Object.assign({},xC(),n)}function kC(n,r){return r.reduce(function(t,o){return t[o]=n,t},{})}var mz=function(r,t){return r=typeof r=="function"?r(Object.assign({},t.rects,{placement:t.placement})):r,_C(typeof r!="number"?r:kC(r,om))};function vz(n){var r,t=n.state,o=n.name,l=n.options,u=t.elements.arrow,d=t.modifiersData.popperOffsets,f=hl(t.placement),m=_x(f),v=[Qo,$s].indexOf(f)>=0,_=v?"height":"width";if(!(!u||!d)){var k=mz(l.padding,t),C=xx(u),M=m==="y"?Jo:Qo,A=m==="y"?Qs:$s,F=t.rects.reference[_]+t.rects.reference[m]-d[m]-t.rects.popper[_],G=d[m]-t.rects.reference[m],H=sm(u),W=H?m==="y"?H.clientHeight||0:H.clientWidth||0:0,j=F/2-G/2,V=k[M],nt=W-C[_]-k[A],gt=W/2-C[_]/2+j,pt=yg(V,gt,nt),ct=m;t.modifiersData[o]=(r={},r[ct]=pt,r.centerOffset=pt-gt,r)}}function yz(n){var r=n.state,t=n.options,o=t.element,l=o===void 0?"[data-popper-arrow]":o;l!=null&&(typeof l=="string"&&(l=r.elements.popper.querySelector(l),!l)||wC(r.elements.popper,l)&&(r.elements.arrow=l))}const bz={name:"arrow",enabled:!0,phase:"main",fn:vz,effect:yz,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function yp(n){return n.split("-")[1]}var wz={top:"auto",right:"auto",bottom:"auto",left:"auto"};function xz(n,r){var t=n.x,o=n.y,l=r.devicePixelRatio||1;return{x:mp(t*l)/l||0,y:mp(o*l)/l||0}}function F2(n){var r,t=n.popper,o=n.popperRect,l=n.placement,u=n.variation,d=n.offsets,f=n.position,m=n.gpuAcceleration,v=n.adaptive,_=n.roundOffsets,k=n.isFixed,C=d.x,M=C===void 0?0:C,A=d.y,F=A===void 0?0:A,G=typeof _=="function"?_({x:M,y:F}):{x:M,y:F};M=G.x,F=G.y;var H=d.hasOwnProperty("x"),W=d.hasOwnProperty("y"),j=Qo,V=Jo,nt=window;if(v){var gt=sm(t),pt="clientHeight",ct="clientWidth";if(gt===bs(t)&&(gt=_u(t),lc(gt).position!=="static"&&f==="absolute"&&(pt="scrollHeight",ct="scrollWidth")),gt=gt,l===Jo||(l===Qo||l===$s)&&u===Ag){V=Qs;var Z=k&&gt===nt&&nt.visualViewport?nt.visualViewport.height:gt[pt];F-=Z-o.height,F*=m?1:-1}if(l===Qo||(l===Jo||l===Qs)&&u===Ag){j=$s;var at=k&&gt===nt&&nt.visualViewport?nt.visualViewport.width:gt[ct];M-=at-o.width,M*=m?1:-1}}var ft=Object.assign({position:f},v&&wz),vt=_===!0?xz({x:M,y:F},bs(t)):{x:M,y:F};if(M=vt.x,F=vt.y,m){var Qt;return Object.assign({},ft,(Qt={},Qt[V]=W?"0":"",Qt[j]=H?"0":"",Qt.transform=(nt.devicePixelRatio||1)<=1?"translate("+M+"px, "+F+"px)":"translate3d("+M+"px, "+F+"px, 0)",Qt))}return Object.assign({},ft,(r={},r[V]=W?F+"px":"",r[j]=H?M+"px":"",r.transform="",r))}function _z(n){var r=n.state,t=n.options,o=t.gpuAcceleration,l=o===void 0?!0:o,u=t.adaptive,d=u===void 0?!0:u,f=t.roundOffsets,m=f===void 0?!0:f,v={placement:hl(r.placement),variation:yp(r.placement),popper:r.elements.popper,popperRect:r.rects.popper,gpuAcceleration:l,isFixed:r.options.strategy==="fixed"};r.modifiersData.popperOffsets!=null&&(r.styles.popper=Object.assign({},r.styles.popper,F2(Object.assign({},v,{offsets:r.modifiersData.popperOffsets,position:r.options.strategy,adaptive:d,roundOffsets:m})))),r.modifiersData.arrow!=null&&(r.styles.arrow=Object.assign({},r.styles.arrow,F2(Object.assign({},v,{offsets:r.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:m})))),r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-placement":r.placement})}const kz={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:_z,data:{}};var V0={passive:!0};function Ez(n){var r=n.state,t=n.instance,o=n.options,l=o.scroll,u=l===void 0?!0:l,d=o.resize,f=d===void 0?!0:d,m=bs(r.elements.popper),v=[].concat(r.scrollParents.reference,r.scrollParents.popper);return u&&v.forEach(function(_){_.addEventListener("scroll",t.update,V0)}),f&&m.addEventListener("resize",t.update,V0),function(){u&&v.forEach(function(_){_.removeEventListener("scroll",t.update,V0)}),f&&m.removeEventListener("resize",t.update,V0)}}const Tz={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ez,data:{}};var Sz={left:"right",right:"left",bottom:"top",top:"bottom"};function vv(n){return n.replace(/left|right|bottom|top/g,function(r){return Sz[r]})}var Cz={start:"end",end:"start"};function B2(n){return n.replace(/start|end/g,function(r){return Cz[r]})}function kx(n){var r=bs(n),t=r.pageXOffset,o=r.pageYOffset;return{scrollLeft:t,scrollTop:o}}function Ex(n){return vp(_u(n)).left+kx(n).scrollLeft}function Pz(n,r){var t=bs(n),o=_u(n),l=t.visualViewport,u=o.clientWidth,d=o.clientHeight,f=0,m=0;if(l){u=l.width,d=l.height;var v=bC();(v||!v&&r==="fixed")&&(f=l.offsetLeft,m=l.offsetTop)}return{width:u,height:d,x:f+Ex(n),y:m}}function Mz(n){var r,t=_u(n),o=kx(n),l=(r=n.ownerDocument)==null?void 0:r.body,u=vh(t.scrollWidth,t.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),d=vh(t.scrollHeight,t.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),f=-o.scrollLeft+Ex(n),m=-o.scrollTop;return lc(l||t).direction==="rtl"&&(f+=vh(t.clientWidth,l?l.clientWidth:0)-u),{width:u,height:d,x:f,y:m}}function Tx(n){var r=lc(n),t=r.overflow,o=r.overflowX,l=r.overflowY;return/auto|scroll|overlay|hidden/.test(t+l+o)}function EC(n){return["html","body","#document"].indexOf(fl(n))>=0?n.ownerDocument.body:Ks(n)&&Tx(n)?n:EC(Py(n))}function bg(n,r){var t;r===void 0&&(r=[]);var o=EC(n),l=o===((t=n.ownerDocument)==null?void 0:t.body),u=bs(o),d=l?[u].concat(u.visualViewport||[],Tx(o)?o:[]):o,f=r.concat(d);return l?f:f.concat(bg(Py(d)))}function g1(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Iz(n,r){var t=vp(n,!1,r==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function j2(n,r,t){return r===vC?g1(Pz(n,t)):Eh(r)?Iz(r,t):g1(Mz(_u(n)))}function Lz(n){var r=bg(Py(n)),t=["absolute","fixed"].indexOf(lc(n).position)>=0,o=t&&Ks(n)?sm(n):n;return Eh(o)?r.filter(function(l){return Eh(l)&&wC(l,o)&&fl(l)!=="body"}):[]}function Rz(n,r,t,o){var l=r==="clippingParents"?Lz(n):[].concat(r),u=[].concat(l,[t]),d=u[0],f=u.reduce(function(m,v){var _=j2(n,v,o);return m.top=vh(_.top,m.top),m.right=Fv(_.right,m.right),m.bottom=Fv(_.bottom,m.bottom),m.left=vh(_.left,m.left),m},j2(n,d,o));return f.width=f.right-f.left,f.height=f.bottom-f.top,f.x=f.left,f.y=f.top,f}function TC(n){var r=n.reference,t=n.element,o=n.placement,l=o?hl(o):null,u=o?yp(o):null,d=r.x+r.width/2-t.width/2,f=r.y+r.height/2-t.height/2,m;switch(l){case Jo:m={x:d,y:r.y-t.height};break;case Qs:m={x:d,y:r.y+r.height};break;case $s:m={x:r.x+r.width,y:f};break;case Qo:m={x:r.x-t.width,y:f};break;default:m={x:r.x,y:r.y}}var v=l?_x(l):null;if(v!=null){var _=v==="y"?"height":"width";switch(u){case gp:m[v]=m[v]-(r[_]/2-t[_]/2);break;case Ag:m[v]=m[v]+(r[_]/2-t[_]/2);break}}return m}function Og(n,r){r===void 0&&(r={});var t=r,o=t.placement,l=o===void 0?n.placement:o,u=t.strategy,d=u===void 0?n.strategy:u,f=t.boundary,m=f===void 0?QO:f,v=t.rootBoundary,_=v===void 0?vC:v,k=t.elementContext,C=k===void 0?tg:k,M=t.altBoundary,A=M===void 0?!1:M,F=t.padding,G=F===void 0?0:F,H=_C(typeof G!="number"?G:kC(G,om)),W=C===tg?$O:tg,j=n.rects.popper,V=n.elements[A?W:C],nt=Rz(Eh(V)?V:V.contextElement||_u(n.elements.popper),m,_,d),gt=vp(n.elements.reference),pt=TC({reference:gt,element:j,strategy:"absolute",placement:l}),ct=g1(Object.assign({},j,pt)),Z=C===tg?ct:gt,at={top:nt.top-Z.top+H.top,bottom:Z.bottom-nt.bottom+H.bottom,left:nt.left-Z.left+H.left,right:Z.right-nt.right+H.right},ft=n.modifiersData.offset;if(C===tg&&ft){var vt=ft[l];Object.keys(at).forEach(function(Qt){var re=[$s,Qs].indexOf(Qt)>=0?1:-1,pe=[Jo,Qs].indexOf(Qt)>=0?"y":"x";at[Qt]+=vt[pe]*re})}return at}function Az(n,r){r===void 0&&(r={});var t=r,o=t.placement,l=t.boundary,u=t.rootBoundary,d=t.padding,f=t.flipVariations,m=t.allowedAutoPlacements,v=m===void 0?yC:m,_=yp(o),k=_?f?N2:N2.filter(function(A){return yp(A)===_}):om,C=k.filter(function(A){return v.indexOf(A)>=0});C.length===0&&(C=k);var M=C.reduce(function(A,F){return A[F]=Og(n,{placement:F,boundary:l,rootBoundary:u,padding:d})[hl(F)],A},{});return Object.keys(M).sort(function(A,F){return M[A]-M[F]})}function Oz(n){if(hl(n)===bx)return[];var r=vv(n);return[B2(n),r,B2(r)]}function zz(n){var r=n.state,t=n.options,o=n.name;if(!r.modifiersData[o]._skip){for(var l=t.mainAxis,u=l===void 0?!0:l,d=t.altAxis,f=d===void 0?!0:d,m=t.fallbackPlacements,v=t.padding,_=t.boundary,k=t.rootBoundary,C=t.altBoundary,M=t.flipVariations,A=M===void 0?!0:M,F=t.allowedAutoPlacements,G=r.options.placement,H=hl(G),W=H===G,j=m||(W||!A?[vv(G)]:Oz(G)),V=[G].concat(j).reduce(function(de,oe){return de.concat(hl(oe)===bx?Az(r,{placement:oe,boundary:_,rootBoundary:k,padding:v,flipVariations:A,allowedAutoPlacements:F}):oe)},[]),nt=r.rects.reference,gt=r.rects.popper,pt=new Map,ct=!0,Z=V[0],at=0;at<V.length;at++){var ft=V[at],vt=hl(ft),Qt=yp(ft)===gp,re=[Jo,Qs].indexOf(vt)>=0,pe=re?"width":"height",Gt=Og(r,{placement:ft,boundary:_,rootBoundary:k,altBoundary:C,padding:v}),ce=re?Qt?$s:Qo:Qt?Qs:Jo;nt[pe]>gt[pe]&&(ce=vv(ce));var Jt=vv(ce),tr=[];if(u&&tr.push(Gt[vt]<=0),f&&tr.push(Gt[ce]<=0,Gt[Jt]<=0),tr.every(function(de){return de})){Z=ft,ct=!1;break}pt.set(ft,tr)}if(ct)for(var xt=A?3:1,Nt=function(oe){var se=V.find(function(rr){var gr=pt.get(rr);if(gr)return gr.slice(0,oe).every(function(vi){return vi})});if(se)return Z=se,"break"},Vt=xt;Vt>0;Vt--){var te=Nt(Vt);if(te==="break")break}r.placement!==Z&&(r.modifiersData[o]._skip=!0,r.placement=Z,r.reset=!0)}}const Nz={name:"flip",enabled:!0,phase:"main",fn:zz,requiresIfExists:["offset"],data:{_skip:!1}};function H2(n,r,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-r.height-t.y,right:n.right-r.width+t.x,bottom:n.bottom-r.height+t.y,left:n.left-r.width-t.x}}function U2(n){return[Jo,$s,Qs,Qo].some(function(r){return n[r]>=0})}function Dz(n){var r=n.state,t=n.name,o=r.rects.reference,l=r.rects.popper,u=r.modifiersData.preventOverflow,d=Og(r,{elementContext:"reference"}),f=Og(r,{altBoundary:!0}),m=H2(d,o),v=H2(f,l,u),_=U2(m),k=U2(v);r.modifiersData[t]={referenceClippingOffsets:m,popperEscapeOffsets:v,isReferenceHidden:_,hasPopperEscaped:k},r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-reference-hidden":_,"data-popper-escaped":k})}const Fz={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Dz};function Bz(n,r,t){var o=hl(n),l=[Qo,Jo].indexOf(o)>=0?-1:1,u=typeof t=="function"?t(Object.assign({},r,{placement:n})):t,d=u[0],f=u[1];return d=d||0,f=(f||0)*l,[Qo,$s].indexOf(o)>=0?{x:f,y:d}:{x:d,y:f}}function jz(n){var r=n.state,t=n.options,o=n.name,l=t.offset,u=l===void 0?[0,0]:l,d=yC.reduce(function(_,k){return _[k]=Bz(k,r.rects,u),_},{}),f=d[r.placement],m=f.x,v=f.y;r.modifiersData.popperOffsets!=null&&(r.modifiersData.popperOffsets.x+=m,r.modifiersData.popperOffsets.y+=v),r.modifiersData[o]=d}const Hz={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:jz};function Uz(n){var r=n.state,t=n.name;r.modifiersData[t]=TC({reference:r.rects.reference,element:r.rects.popper,strategy:"absolute",placement:r.placement})}const Gz={name:"popperOffsets",enabled:!0,phase:"read",fn:Uz,data:{}};function qz(n){return n==="x"?"y":"x"}function Vz(n){var r=n.state,t=n.options,o=n.name,l=t.mainAxis,u=l===void 0?!0:l,d=t.altAxis,f=d===void 0?!1:d,m=t.boundary,v=t.rootBoundary,_=t.altBoundary,k=t.padding,C=t.tether,M=C===void 0?!0:C,A=t.tetherOffset,F=A===void 0?0:A,G=Og(r,{boundary:m,rootBoundary:v,padding:k,altBoundary:_}),H=hl(r.placement),W=yp(r.placement),j=!W,V=_x(H),nt=qz(V),gt=r.modifiersData.popperOffsets,pt=r.rects.reference,ct=r.rects.popper,Z=typeof F=="function"?F(Object.assign({},r.rects,{placement:r.placement})):F,at=typeof Z=="number"?{mainAxis:Z,altAxis:Z}:Object.assign({mainAxis:0,altAxis:0},Z),ft=r.modifiersData.offset?r.modifiersData.offset[r.placement]:null,vt={x:0,y:0};if(gt){if(u){var Qt,re=V==="y"?Jo:Qo,pe=V==="y"?Qs:$s,Gt=V==="y"?"height":"width",ce=gt[V],Jt=ce+G[re],tr=ce-G[pe],xt=M?-ct[Gt]/2:0,Nt=W===gp?pt[Gt]:ct[Gt],Vt=W===gp?-ct[Gt]:-pt[Gt],te=r.elements.arrow,de=M&&te?xx(te):{width:0,height:0},oe=r.modifiersData["arrow#persistent"]?r.modifiersData["arrow#persistent"].padding:xC(),se=oe[re],rr=oe[pe],gr=yg(0,pt[Gt],de[Gt]),vi=j?pt[Gt]/2-xt-gr-se-at.mainAxis:Nt-gr-se-at.mainAxis,Xi=j?-pt[Gt]/2+xt+gr+rr+at.mainAxis:Vt+gr+rr+at.mainAxis,Bi=r.elements.arrow&&sm(r.elements.arrow),yt=Bi?V==="y"?Bi.clientTop||0:Bi.clientLeft||0:0,kt=(Qt=ft==null?void 0:ft[V])!=null?Qt:0,zt=ce+vi-kt-yt,I=ce+Xi-kt,U=yg(M?Fv(Jt,zt):Jt,ce,M?vh(tr,I):tr);gt[V]=U,vt[V]=U-ce}if(f){var ot,dt=V==="x"?Jo:Qo,ht=V==="x"?Qs:$s,_t=gt[nt],ut=nt==="y"?"height":"width",It=_t+G[dt],Zt=_t-G[ht],Yt=[Jo,Qo].indexOf(H)!==-1,Kt=(ot=ft==null?void 0:ft[nt])!=null?ot:0,ge=Yt?It:_t-pt[ut]-ct[ut]-Kt+at.altAxis,be=Yt?_t+pt[ut]+ct[ut]-Kt-at.altAxis:Zt,De=M&&Yt?gz(ge,_t,be):yg(M?ge:It,_t,M?be:Zt);gt[nt]=De,vt[nt]=De-_t}r.modifiersData[o]=vt}}const Wz={name:"preventOverflow",enabled:!0,phase:"main",fn:Vz,requiresIfExists:["offset"]};function Zz(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function Yz(n){return n===bs(n)||!Ks(n)?kx(n):Zz(n)}function Xz(n){var r=n.getBoundingClientRect(),t=mp(r.width)/n.offsetWidth||1,o=mp(r.height)/n.offsetHeight||1;return t!==1||o!==1}function Kz(n,r,t){t===void 0&&(t=!1);var o=Ks(r),l=Ks(r)&&Xz(r),u=_u(r),d=vp(n,l,t),f={scrollLeft:0,scrollTop:0},m={x:0,y:0};return(o||!o&&!t)&&((fl(r)!=="body"||Tx(u))&&(f=Yz(r)),Ks(r)?(m=vp(r,!0),m.x+=r.clientLeft,m.y+=r.clientTop):u&&(m.x=Ex(u))),{x:d.left+f.scrollLeft-m.x,y:d.top+f.scrollTop-m.y,width:d.width,height:d.height}}function Jz(n){var r=new Map,t=new Set,o=[];n.forEach(function(u){r.set(u.name,u)});function l(u){t.add(u.name);var d=[].concat(u.requires||[],u.requiresIfExists||[]);d.forEach(function(f){if(!t.has(f)){var m=r.get(f);m&&l(m)}}),o.push(u)}return n.forEach(function(u){t.has(u.name)||l(u)}),o}function Qz(n){var r=Jz(n);return cz.reduce(function(t,o){return t.concat(r.filter(function(l){return l.phase===o}))},[])}function $z(n){var r;return function(){return r||(r=new Promise(function(t){Promise.resolve().then(function(){r=void 0,t(n())})})),r}}function t3(n){var r=n.reduce(function(t,o){var l=t[o.name];return t[o.name]=l?Object.assign({},l,o,{options:Object.assign({},l.options,o.options),data:Object.assign({},l.data,o.data)}):o,t},{});return Object.keys(r).map(function(t){return r[t]})}var G2={placement:"bottom",modifiers:[],strategy:"absolute"};function q2(){for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];return!r.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function e3(n){n===void 0&&(n={});var r=n,t=r.defaultModifiers,o=t===void 0?[]:t,l=r.defaultOptions,u=l===void 0?G2:l;return function(f,m,v){v===void 0&&(v=u);var _={placement:"bottom",orderedModifiers:[],options:Object.assign({},G2,u),modifiersData:{},elements:{reference:f,popper:m},attributes:{},styles:{}},k=[],C=!1,M={state:_,setOptions:function(H){var W=typeof H=="function"?H(_.options):H;F(),_.options=Object.assign({},u,_.options,W),_.scrollParents={reference:Eh(f)?bg(f):f.contextElement?bg(f.contextElement):[],popper:bg(m)};var j=Qz(t3([].concat(o,_.options.modifiers)));return _.orderedModifiers=j.filter(function(V){return V.enabled}),A(),M.update()},forceUpdate:function(){if(!C){var H=_.elements,W=H.reference,j=H.popper;if(q2(W,j)){_.rects={reference:Kz(W,sm(j),_.options.strategy==="fixed"),popper:xx(j)},_.reset=!1,_.placement=_.options.placement,_.orderedModifiers.forEach(function(at){return _.modifiersData[at.name]=Object.assign({},at.data)});for(var V=0;V<_.orderedModifiers.length;V++){if(_.reset===!0){_.reset=!1,V=-1;continue}var nt=_.orderedModifiers[V],gt=nt.fn,pt=nt.options,ct=pt===void 0?{}:pt,Z=nt.name;typeof gt=="function"&&(_=gt({state:_,options:ct,name:Z,instance:M})||_)}}}},update:$z(function(){return new Promise(function(G){M.forceUpdate(),G(_)})}),destroy:function(){F(),C=!0}};if(!q2(f,m))return M;M.setOptions(v).then(function(G){!C&&v.onFirstUpdate&&v.onFirstUpdate(G)});function A(){_.orderedModifiers.forEach(function(G){var H=G.name,W=G.options,j=W===void 0?{}:W,V=G.effect;if(typeof V=="function"){var nt=V({state:_,name:H,instance:M,options:j}),gt=function(){};k.push(nt||gt)}})}function F(){k.forEach(function(G){return G()}),k=[]}return M}}var r3=[Tz,Gz,kz,dz,Hz,Nz,Wz,bz,Fz],Pw=e3({defaultModifiers:r3});/*
* HSTooltips
* @version: 1.4.0
* @author: HtmlStream
* @requires: @popperjs/core ^2.11.2
* @license: Licensed under MIT (https://preline.co/docs/license.html)
* Copyright 2023 Htmlstream
*/class SC extends mC{constructor(t){super(".hs-tooltip");li(this,"root");this.root=t}init(){var t;(t=this.root)==null||t.addEventListener("click",o=>{const u=o.target.closest(this.selector);u&&this.getClassProperty(u,"--trigger")==="focus"&&this._focus(u),u&&this.getClassProperty(u,"--trigger")==="click"&&this._click(u)}),this.root.addEventListener("mousemove",o=>{const u=o.target.closest(this.selector);u&&this.getClassProperty(u,"--trigger")!=="focus"&&this.getClassProperty(u,"--trigger")!=="click"&&this._hover(u)})}_hover(t){if(t.classList.contains("show"))return;const o=t.querySelector(".hs-tooltip-toggle"),l=t.querySelector(".hs-tooltip-content"),u=this.getClassProperty(t,"--placement");Pw(o,l,{placement:u||"top",strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.show(t);const d=f=>{f.relatedTarget.closest(this.selector)&&f.relatedTarget.closest(this.selector)==t||(this.hide(t),t.removeEventListener("mouseleave",d,!0))};t.addEventListener("mouseleave",d,!0)}_focus(t){const o=t.querySelector(".hs-tooltip-toggle"),l=t.querySelector(".hs-tooltip-content"),u=this.getClassProperty(t,"--placement"),d=this.getClassProperty(t,"--strategy");Pw(o,l,{placement:u||"top",strategy:d||"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.show(t);const f=()=>{this.hide(t),t.removeEventListener("blur",f,!0)};t.addEventListener("blur",f,!0)}_click(t){if(t.classList.contains("show"))return;const o=t.querySelector(".hs-tooltip-toggle"),l=t.querySelector(".hs-tooltip-content"),u=this.getClassProperty(t,"--placement"),d=this.getClassProperty(t,"--strategy");Pw(o,l,{placement:u||"top",strategy:d||"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.show(t);const f=m=>{setTimeout(()=>{this.hide(t),t.removeEventListener("click",f,!0),t.removeEventListener("blur",f,!0)})};t.addEventListener("blur",f,!0),t.addEventListener("click",f,!0)}show(t){t.querySelector(".hs-tooltip-content").classList.remove("hidden"),setTimeout(()=>{t.classList.add("show"),this._fireEvent("show",t),this._dispatch("show.hs.tooltip",t,t)})}hide(t){const o=t.querySelector(".hs-tooltip-content");t.classList.remove("show"),this._fireEvent("hide",t),this._dispatch("hide.hs.tooltip",t,t),this.afterTransition(o,()=>{t.classList.contains("show")||o.classList.add("hidden")})}}const i3={class:"hs-tooltip-toggle block text-center",href:"javascript:;",title:"Click for more information"},n3=["innerHTML"],o3={class:"hs-tooltip-content z-30 hs-tooltip-shown:opacity-100 hs-tooltip-shown:visible hidden opacity-0 transition-opacity absolute invisible max-w-xs bg-white border border-gray-100 text-left rounded-lg shadow-md dark:bg-gray-800 dark:border-gray-700",role:"tooltip"},s3={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},a3=["src"],l3={class:"p-4 md:p-5"},c3={class:"text-lg font-bold text-gray-800 dark:text-white"},u3={class:"mt-1 text-gray-800 dark:text-gray-400"},h3={class:"mt-5 text-xs text-gray-500 dark:text-gray-500"},d3=["href"],p3=Xt("img",{class:"max-w-[24px]",src:"https://upload.wikimedia.org/wikipedia/commons/7/77/Wikipedia_svg_logo.svg"},null,-1),f3=Xt("span",{class:"ml-1"},"Wikipedia",-1),g3=[p3,f3],m3=Ro({__name:"EntityInfobox.ce",props:{qid:{type:String},label:{type:String},description:{type:String},language:{type:String,default:"en"}},setup(n){const r=n;er(r,()=>{d.value=r.qid});const t=me(null),o=Xe(()=>{var A,F;return(F=(A=t.value)==null?void 0:A.getRootNode())==null?void 0:F.host}),l=Xe(()=>{var A;return(A=o.value)==null?void 0:A.textContent}),u=Xe(()=>{var A;return(A=t==null?void 0:t.value)==null?void 0:A.parentNode});er(u,()=>{new SC(u.value).init()});const d=me(r.qid);er(d,()=>{C(d.value)});const f=me({}),m=Xe(()=>d.value&&f.value[d.value]),v=Xe(()=>{var A,F,G;return(G=(F=(A=m.value)==null?void 0:A.labels)==null?void 0:F[r.language])==null?void 0:G.value}),_=Xe(()=>{var A,F,G;return(G=(F=(A=m.value)==null?void 0:A.descriptions)==null?void 0:F[r.language])==null?void 0:G.value}),k=Xe(()=>{var A;return m.value&&((A=m.value.sitelinks[`${r.language}wiki`])==null?void 0:A.url)});ta(()=>{C(d.value)});async function C(A){if(!A||f.value[A])return;let F=`https://www.wikidata.org/wiki/Special:EntityData/${A}.json`;const H=await(await fetch(F)).json();Object.values(H.entities).forEach(W=>{W.summaryText={},W.claims.P18&&(W.image=W.claims.P18[0].mainsnak.datavalue.value,W.thumbnail=M(W.image))}),f.value={...f.value,...H.entities}}function M(A,F=300){Array.isArray(A)&&(A=A[0]),A=A.split("/").pop(),A=decodeURIComponent(A).replace(/ /g,"_");const G=on.hashStr(A),H=A.split(".").pop();let W=`https://upload.wikimedia.org/wikipedia/commons${F?"/thumb":""}`;return W+=`/${G.slice(0,1)}/${G.slice(0,2)}/${A}`,F&&(W+=`/${F}px-${A}`,H==="svg"?W+=".png":(H==="tif"||H==="tiff")&&(W+=".jpg")),W}return(A,F)=>{var G;return ke(),Ce("div",{ref_key:"root",ref:t,class:"hs-tooltip inline-block [--trigger:click] [--placement:top]"},[Xt("a",i3,[Xt("span",{innerHTML:l.value,class:"bg-yellow-100"},null,8,n3),Xt("div",o3,[Xt("div",s3,[Xt("img",{class:"w-full h-auto rounded-t-xl",src:(G=m.value)==null?void 0:G.thumbnail,alt:"Image Description"},null,8,a3),Xt("div",l3,[Xt("h3",c3,Sv(v.value),1),Xt("p",u3,Sv(_.value),1),Xt("div",h3,[Xt("a",{class:"inline-flex items-center gap-2 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all text-sm",target:"_blank",href:k.value},g3,8,d3)])])])])])],512)}}}),v3=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-\\[100\\%\\]{height:100%}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}
`,y3=Es(m3,[["styles",[v3]]]);function Sx(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!1,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!1,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Lh=Sx();function CC(n){Lh=n}const PC=/[&<>"']/,b3=new RegExp(PC.source,"g"),MC=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,w3=new RegExp(MC.source,"g"),x3={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},V2=n=>x3[n];function co(n,r){if(r){if(PC.test(n))return n.replace(b3,V2)}else if(MC.test(n))return n.replace(w3,V2);return n}const _3=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function IC(n){return n.replace(_3,(r,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const k3=/(^|[^\[])\^/g;function mi(n,r){n=typeof n=="string"?n:n.source,r=r||"";const t={replace:(o,l)=>(l=typeof l=="object"&&"source"in l?l.source:l,l=l.replace(k3,"$1"),n=n.replace(o,l),t),getRegex:()=>new RegExp(n,r)};return t}const E3=/[^\w:]/g,T3=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function W2(n,r,t){if(n){let o;try{o=decodeURIComponent(IC(t)).replace(E3,"").toLowerCase()}catch{return null}if(o.indexOf("javascript:")===0||o.indexOf("vbscript:")===0||o.indexOf("data:")===0)return null}r&&!T3.test(t)&&(t=M3(r,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const W0={},S3=/^[^:]+:\/*[^/]*$/,C3=/^([^:]+:)[\s\S]*$/,P3=/^([^:]+:\/*[^/]*)[\s\S]*$/;function M3(n,r){W0[" "+n]||(S3.test(n)?W0[" "+n]=n+"/":W0[" "+n]=yv(n,"/",!0)),n=W0[" "+n];const t=n.indexOf(":")===-1;return r.substring(0,2)==="//"?t?r:n.replace(C3,"$1")+r:r.charAt(0)==="/"?t?r:n.replace(P3,"$1")+r:n+r}const Bv={exec:()=>null};function Z2(n,r){const t=n.replace(/\|/g,(u,d,f)=>{let m=!1,v=d;for(;--v>=0&&f[v]==="\\";)m=!m;return m?"|":" |"}),o=t.split(/ \|/);let l=0;if(o[0].trim()||o.shift(),o.length>0&&!o[o.length-1].trim()&&o.pop(),r)if(o.length>r)o.splice(r);else for(;o.length<r;)o.push("");for(;l<o.length;l++)o[l]=o[l].trim().replace(/\\\|/g,"|");return o}function yv(n,r,t){const o=n.length;if(o===0)return"";let l=0;for(;l<o;){const u=n.charAt(o-l-1);if(u===r&&!t)l++;else if(u!==r&&t)l++;else break}return n.slice(0,o-l)}function I3(n,r){if(n.indexOf(r[1])===-1)return-1;let t=0;for(let o=0;o<n.length;o++)if(n[o]==="\\")o++;else if(n[o]===r[0])t++;else if(n[o]===r[1]&&(t--,t<0))return o;return-1}function L3(n,r){!n||n.silent||(r&&console.warn("marked(): callback is deprecated since version 5.0.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/using_pro#async"),(n.sanitize||n.sanitizer)&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options"),(n.highlight||n.langPrefix!=="language-")&&console.warn("marked(): highlight and langPrefix parameters are deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-highlight."),n.mangle&&console.warn("marked(): mangle parameter is enabled by default, but is deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install https://www.npmjs.com/package/marked-mangle, or disable by setting `{mangle: false}`."),n.baseUrl&&console.warn("marked(): baseUrl parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-base-url."),n.smartypants&&console.warn("marked(): smartypants parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-smartypants."),n.xhtml&&console.warn("marked(): xhtml parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-xhtml."),(n.headerIds||n.headerPrefix)&&console.warn("marked(): headerIds and headerPrefix parameters enabled by default, but are deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install  https://www.npmjs.com/package/marked-gfm-heading-id, or disable by setting `{headerIds: false}`."))}function Y2(n,r,t,o){const l=r.href,u=r.title?co(r.title):null,d=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){o.state.inLink=!0;const f={type:"link",raw:t,href:l,title:u,text:d,tokens:o.inlineTokens(d)};return o.state.inLink=!1,f}return{type:"image",raw:t,href:l,title:u,text:co(d)}}function R3(n,r){const t=n.match(/^(\s+)(?:```)/);if(t===null)return r;const o=t[1];return r.split(`
`).map(l=>{const u=l.match(/^\s+/);if(u===null)return l;const[d]=u;return d.length>=o.length?l.slice(o.length):l}).join(`
`)}class jv{constructor(r){li(this,"options");li(this,"rules");li(this,"lexer");this.options=r||Lh}space(r){const t=this.rules.block.newline.exec(r);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(r){const t=this.rules.block.code.exec(r);if(t){const o=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?o:yv(o,`
`)}}}fences(r){const t=this.rules.block.fences.exec(r);if(t){const o=t[0],l=R3(o,t[3]||"");return{type:"code",raw:o,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:l}}}heading(r){const t=this.rules.block.heading.exec(r);if(t){let o=t[2].trim();if(/#$/.test(o)){const l=yv(o,"#");(this.options.pedantic||!l||/ $/.test(l))&&(o=l.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:o,tokens:this.lexer.inline(o)}}}hr(r){const t=this.rules.block.hr.exec(r);if(t)return{type:"hr",raw:t[0]}}blockquote(r){const t=this.rules.block.blockquote.exec(r);if(t){const o=t[0].replace(/^ *>[ \t]?/gm,""),l=this.lexer.state.top;this.lexer.state.top=!0;const u=this.lexer.blockTokens(o);return this.lexer.state.top=l,{type:"blockquote",raw:t[0],tokens:u,text:o}}}list(r){let t=this.rules.block.list.exec(r);if(t){let o=t[1].trim();const l=o.length>1,u={type:"list",raw:"",ordered:l,start:l?+o.slice(0,-1):"",loose:!1,items:[]};o=l?`\\d{1,9}\\${o.slice(-1)}`:`\\${o}`,this.options.pedantic&&(o=l?o:"[*+-]");const d=new RegExp(`^( {0,3}${o})((?:[	 ][^\\n]*)?(?:\\n|$))`);let f="",m="",v=!1;for(;r;){let _=!1;if(!(t=d.exec(r))||this.rules.block.hr.test(r))break;f=t[0],r=r.substring(f.length);let k=t[2].split(`
`,1)[0].replace(/^\t+/,H=>" ".repeat(3*H.length)),C=r.split(`
`,1)[0],M=0;this.options.pedantic?(M=2,m=k.trimLeft()):(M=t[2].search(/[^ ]/),M=M>4?1:M,m=k.slice(M),M+=t[1].length);let A=!1;if(!k&&/^ *$/.test(C)&&(f+=C+`
`,r=r.substring(C.length+1),_=!0),!_){const H=new RegExp(`^ {0,${Math.min(3,M-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),W=new RegExp(`^ {0,${Math.min(3,M-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),j=new RegExp(`^ {0,${Math.min(3,M-1)}}(?:\`\`\`|~~~)`),V=new RegExp(`^ {0,${Math.min(3,M-1)}}#`);for(;r;){const nt=r.split(`
`,1)[0];if(C=nt,this.options.pedantic&&(C=C.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),j.test(C)||V.test(C)||H.test(C)||W.test(r))break;if(C.search(/[^ ]/)>=M||!C.trim())m+=`
`+C.slice(M);else{if(A||k.search(/[^ ]/)>=4||j.test(k)||V.test(k)||W.test(k))break;m+=`
`+C}!A&&!C.trim()&&(A=!0),f+=nt+`
`,r=r.substring(nt.length+1),k=C.slice(M)}}u.loose||(v?u.loose=!0:/\n *\n *$/.test(f)&&(v=!0));let F=null,G;this.options.gfm&&(F=/^\[[ xX]\] /.exec(m),F&&(G=F[0]!=="[ ] ",m=m.replace(/^\[[ xX]\] +/,""))),u.items.push({type:"list_item",raw:f,task:!!F,checked:G,loose:!1,text:m,tokens:[]}),u.raw+=f}u.items[u.items.length-1].raw=f.trimRight(),u.items[u.items.length-1].text=m.trimRight(),u.raw=u.raw.trimRight();for(let _=0;_<u.items.length;_++)if(this.lexer.state.top=!1,u.items[_].tokens=this.lexer.blockTokens(u.items[_].text,[]),!u.loose){const k=u.items[_].tokens.filter(M=>M.type==="space"),C=k.length>0&&k.some(M=>/\n.*\n/.test(M.raw));u.loose=C}if(u.loose)for(let _=0;_<u.items.length;_++)u.items[_].loose=!0;return u}}html(r){const t=this.rules.block.html.exec(r);if(t){const o={type:"html",block:!0,raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};if(this.options.sanitize){const l=this.options.sanitizer?this.options.sanitizer(t[0]):co(t[0]),u=o;u.type="paragraph",u.text=l,u.tokens=this.lexer.inline(l)}return o}}def(r){const t=this.rules.block.def.exec(r);if(t){const o=t[1].toLowerCase().replace(/\s+/g," "),l=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",u=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:o,raw:t[0],href:l,title:u}}}table(r){const t=this.rules.block.table.exec(r);if(t){const o={type:"table",raw:t[0],header:Z2(t[1]).map(l=>({text:l,tokens:[]})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(o.header.length===o.align.length){let l=o.align.length,u,d,f,m;for(u=0;u<l;u++){const v=o.align[u];v&&(/^ *-+: *$/.test(v)?o.align[u]="right":/^ *:-+: *$/.test(v)?o.align[u]="center":/^ *:-+ *$/.test(v)?o.align[u]="left":o.align[u]=null)}for(l=o.rows.length,u=0;u<l;u++)o.rows[u]=Z2(o.rows[u],o.header.length).map(v=>({text:v,tokens:[]}));for(l=o.header.length,d=0;d<l;d++)o.header[d].tokens=this.lexer.inline(o.header[d].text);for(l=o.rows.length,d=0;d<l;d++)for(m=o.rows[d],f=0;f<m.length;f++)m[f].tokens=this.lexer.inline(m[f].text);return o}}}lheading(r){const t=this.rules.block.lheading.exec(r);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(r){const t=this.rules.block.paragraph.exec(r);if(t){const o=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:o,tokens:this.lexer.inline(o)}}}text(r){const t=this.rules.block.text.exec(r);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(r){const t=this.rules.inline.escape.exec(r);if(t)return{type:"escape",raw:t[0],text:co(t[1])}}tag(r){const t=this.rules.inline.tag.exec(r);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):co(t[0]):t[0]}}link(r){const t=this.rules.inline.link.exec(r);if(t){const o=t[2].trim();if(!this.options.pedantic&&/^</.test(o)){if(!/>$/.test(o))return;const d=yv(o.slice(0,-1),"\\");if((o.length-d.length)%2===0)return}else{const d=I3(t[2],"()");if(d>-1){const m=(t[0].indexOf("!")===0?5:4)+t[1].length+d;t[2]=t[2].substring(0,d),t[0]=t[0].substring(0,m).trim(),t[3]=""}}let l=t[2],u="";if(this.options.pedantic){const d=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(l);d&&(l=d[1],u=d[3])}else u=t[3]?t[3].slice(1,-1):"";return l=l.trim(),/^</.test(l)&&(this.options.pedantic&&!/>$/.test(o)?l=l.slice(1):l=l.slice(1,-1)),Y2(t,{href:l&&l.replace(this.rules.inline._escapes,"$1"),title:u&&u.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(r,t){let o;if((o=this.rules.inline.reflink.exec(r))||(o=this.rules.inline.nolink.exec(r))){let l=(o[2]||o[1]).replace(/\s+/g," ");if(l=t[l.toLowerCase()],!l){const u=o[0].charAt(0);return{type:"text",raw:u,text:u}}return Y2(o,l,o[0],this.lexer)}}emStrong(r,t,o=""){let l=this.rules.inline.emStrong.lDelim.exec(r);if(!l||l[3]&&o.match(/[\p{L}\p{N}]/u))return;if(!(l[1]||l[2]||"")||!o||this.rules.inline.punctuation.exec(o)){const d=[...l[0]].length-1;let f,m,v=d,_=0;const k=l[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(k.lastIndex=0,t=t.slice(-1*r.length+d);(l=k.exec(t))!=null;){if(f=l[1]||l[2]||l[3]||l[4]||l[5]||l[6],!f)continue;if(m=[...f].length,l[3]||l[4]){v+=m;continue}else if((l[5]||l[6])&&d%3&&!((d+m)%3)){_+=m;continue}if(v-=m,v>0)continue;m=Math.min(m,m+v+_);const C=[...r].slice(0,d+l.index+m+1).join("");if(Math.min(d,m)%2){const A=C.slice(1,-1);return{type:"em",raw:C,text:A,tokens:this.lexer.inlineTokens(A)}}const M=C.slice(2,-2);return{type:"strong",raw:C,text:M,tokens:this.lexer.inlineTokens(M)}}}}codespan(r){const t=this.rules.inline.code.exec(r);if(t){let o=t[2].replace(/\n/g," ");const l=/[^ ]/.test(o),u=/^ /.test(o)&&/ $/.test(o);return l&&u&&(o=o.substring(1,o.length-1)),o=co(o,!0),{type:"codespan",raw:t[0],text:o}}}br(r){const t=this.rules.inline.br.exec(r);if(t)return{type:"br",raw:t[0]}}del(r){const t=this.rules.inline.del.exec(r);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(r,t){const o=this.rules.inline.autolink.exec(r);if(o){let l,u;return o[2]==="@"?(l=co(this.options.mangle?t(o[1]):o[1]),u="mailto:"+l):(l=co(o[1]),u=l),{type:"link",raw:o[0],text:l,href:u,tokens:[{type:"text",raw:l,text:l}]}}}url(r,t){let o;if(o=this.rules.inline.url.exec(r)){let l,u;if(o[2]==="@")l=co(this.options.mangle?t(o[0]):o[0]),u="mailto:"+l;else{let d;do d=o[0],o[0]=this.rules.inline._backpedal.exec(o[0])[0];while(d!==o[0]);l=co(o[0]),o[1]==="www."?u="http://"+o[0]:u=o[0]}return{type:"link",raw:o[0],text:l,href:u,tokens:[{type:"text",raw:l,text:l}]}}}inlineText(r,t){const o=this.rules.inline.text.exec(r);if(o){let l;return this.lexer.state.inRawBlock?l=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):co(o[0]):o[0]:l=co(this.options.smartypants?t(o[0]):o[0]),{type:"text",raw:o[0],text:l}}}}const Ue={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Bv,lheading:/^((?:(?!^bull ).|\n(?!\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Ue._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;Ue._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;Ue.def=mi(Ue.def).replace("label",Ue._label).replace("title",Ue._title).getRegex();Ue.bullet=/(?:[*+-]|\d{1,9}[.)])/;Ue.listItemStart=mi(/^( *)(bull) */).replace("bull",Ue.bullet).getRegex();Ue.list=mi(Ue.list).replace(/bull/g,Ue.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Ue.def.source+")").getRegex();Ue._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";Ue._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;Ue.html=mi(Ue.html,"i").replace("comment",Ue._comment).replace("tag",Ue._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();Ue.lheading=mi(Ue.lheading).replace(/bull/g,Ue.bullet).getRegex();Ue.paragraph=mi(Ue._paragraph).replace("hr",Ue.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ue._tag).getRegex();Ue.blockquote=mi(Ue.blockquote).replace("paragraph",Ue.paragraph).getRegex();Ue.normal={...Ue};Ue.gfm={...Ue.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};Ue.gfm.table=mi(Ue.gfm.table).replace("hr",Ue.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ue._tag).getRegex();Ue.gfm.paragraph=mi(Ue._paragraph).replace("hr",Ue.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Ue.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ue._tag).getRegex();Ue.pedantic={...Ue.normal,html:mi(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ue._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Bv,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:mi(Ue.normal._paragraph).replace("hr",Ue.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ue.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const Se={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Bv,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Bv,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};Se._punctuation="\\p{P}$+<=>`^|~";Se.punctuation=mi(Se.punctuation,"u").replace(/punctuation/g,Se._punctuation).getRegex();Se.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;Se.anyPunctuation=/\\[punct]/g;Se._escapes=/\\([punct])/g;Se._comment=mi(Ue._comment).replace("(?:-->|$)","-->").getRegex();Se.emStrong.lDelim=mi(Se.emStrong.lDelim,"u").replace(/punct/g,Se._punctuation).getRegex();Se.emStrong.rDelimAst=mi(Se.emStrong.rDelimAst,"gu").replace(/punct/g,Se._punctuation).getRegex();Se.emStrong.rDelimUnd=mi(Se.emStrong.rDelimUnd,"gu").replace(/punct/g,Se._punctuation).getRegex();Se.anyPunctuation=mi(Se.anyPunctuation,"gu").replace(/punct/g,Se._punctuation).getRegex();Se._escapes=mi(Se._escapes,"gu").replace(/punct/g,Se._punctuation).getRegex();Se._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;Se._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;Se.autolink=mi(Se.autolink).replace("scheme",Se._scheme).replace("email",Se._email).getRegex();Se._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;Se.tag=mi(Se.tag).replace("comment",Se._comment).replace("attribute",Se._attribute).getRegex();Se._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;Se._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;Se._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;Se.link=mi(Se.link).replace("label",Se._label).replace("href",Se._href).replace("title",Se._title).getRegex();Se.reflink=mi(Se.reflink).replace("label",Se._label).replace("ref",Ue._label).getRegex();Se.nolink=mi(Se.nolink).replace("ref",Ue._label).getRegex();Se.reflinkSearch=mi(Se.reflinkSearch,"g").replace("reflink",Se.reflink).replace("nolink",Se.nolink).getRegex();Se.normal={...Se};Se.pedantic={...Se.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:mi(/^!?\[(label)\]\((.*?)\)/).replace("label",Se._label).getRegex(),reflink:mi(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Se._label).getRegex()};Se.gfm={...Se.normal,escape:mi(Se.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};Se.gfm.url=mi(Se.gfm.url,"i").replace("email",Se.gfm._extended_email).getRegex();Se.breaks={...Se.gfm,br:mi(Se.br).replace("{2,}","*").getRegex(),text:mi(Se.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function A3(n){return n.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function X2(n){let r="";for(let t=0;t<n.length;t++){const o=Math.random()>.5?"x"+n.charCodeAt(t).toString(16):n.charCodeAt(t).toString();r+="&#"+o+";"}return r}class cl{constructor(r){li(this,"tokens");li(this,"options");li(this,"state");li(this,"tokenizer");li(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=r||Lh,this.options.tokenizer=this.options.tokenizer||new jv,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Ue.normal,inline:Se.normal};this.options.pedantic?(t.block=Ue.pedantic,t.inline=Se.pedantic):this.options.gfm&&(t.block=Ue.gfm,this.options.breaks?t.inline=Se.breaks:t.inline=Se.gfm),this.tokenizer.rules=t}static get rules(){return{block:Ue,inline:Se}}static lex(r,t){return new cl(t).lex(r)}static lexInline(r,t){return new cl(t).inlineTokens(r)}lex(r){r=r.replace(/\r\n|\r/g,`
`),this.blockTokens(r,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(r,t=[]){this.options.pedantic?r=r.replace(/\t/g,"    ").replace(/^ +$/gm,""):r=r.replace(/^( *)(\t+)/gm,(f,m,v)=>m+"    ".repeat(v.length));let o,l,u,d;for(;r;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(f=>(o=f.call({lexer:this},r,t))?(r=r.substring(o.raw.length),t.push(o),!0):!1))){if(o=this.tokenizer.space(r)){r=r.substring(o.raw.length),o.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(o);continue}if(o=this.tokenizer.code(r)){r=r.substring(o.raw.length),l=t[t.length-1],l&&(l.type==="paragraph"||l.type==="text")?(l.raw+=`
`+o.raw,l.text+=`
`+o.text,this.inlineQueue[this.inlineQueue.length-1].src=l.text):t.push(o);continue}if(o=this.tokenizer.fences(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.heading(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.hr(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.blockquote(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.list(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.html(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.def(r)){r=r.substring(o.raw.length),l=t[t.length-1],l&&(l.type==="paragraph"||l.type==="text")?(l.raw+=`
`+o.raw,l.text+=`
`+o.raw,this.inlineQueue[this.inlineQueue.length-1].src=l.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title});continue}if(o=this.tokenizer.table(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.lheading(r)){r=r.substring(o.raw.length),t.push(o);continue}if(u=r,this.options.extensions&&this.options.extensions.startBlock){let f=1/0;const m=r.slice(1);let v;this.options.extensions.startBlock.forEach(_=>{v=_.call({lexer:this},m),typeof v=="number"&&v>=0&&(f=Math.min(f,v))}),f<1/0&&f>=0&&(u=r.substring(0,f+1))}if(this.state.top&&(o=this.tokenizer.paragraph(u))){l=t[t.length-1],d&&l.type==="paragraph"?(l.raw+=`
`+o.raw,l.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=l.text):t.push(o),d=u.length!==r.length,r=r.substring(o.raw.length);continue}if(o=this.tokenizer.text(r)){r=r.substring(o.raw.length),l=t[t.length-1],l&&l.type==="text"?(l.raw+=`
`+o.raw,l.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=l.text):t.push(o);continue}if(r){const f="Infinite loop on byte: "+r.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return this.state.top=!0,t}inline(r,t=[]){return this.inlineQueue.push({src:r,tokens:t}),t}inlineTokens(r,t=[]){let o,l,u,d=r,f,m,v;if(this.tokens.links){const _=Object.keys(this.tokens.links);if(_.length>0)for(;(f=this.tokenizer.rules.inline.reflinkSearch.exec(d))!=null;)_.includes(f[0].slice(f[0].lastIndexOf("[")+1,-1))&&(d=d.slice(0,f.index)+"["+"a".repeat(f[0].length-2)+"]"+d.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(f=this.tokenizer.rules.inline.blockSkip.exec(d))!=null;)d=d.slice(0,f.index)+"["+"a".repeat(f[0].length-2)+"]"+d.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(f=this.tokenizer.rules.inline.anyPunctuation.exec(d))!=null;)d=d.slice(0,f.index)+"++"+d.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;r;)if(m||(v=""),m=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(_=>(o=_.call({lexer:this},r,t))?(r=r.substring(o.raw.length),t.push(o),!0):!1))){if(o=this.tokenizer.escape(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.tag(r)){r=r.substring(o.raw.length),l=t[t.length-1],l&&o.type==="text"&&l.type==="text"?(l.raw+=o.raw,l.text+=o.text):t.push(o);continue}if(o=this.tokenizer.link(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.reflink(r,this.tokens.links)){r=r.substring(o.raw.length),l=t[t.length-1],l&&o.type==="text"&&l.type==="text"?(l.raw+=o.raw,l.text+=o.text):t.push(o);continue}if(o=this.tokenizer.emStrong(r,d,v)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.codespan(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.br(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.del(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.autolink(r,X2)){r=r.substring(o.raw.length),t.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(r,X2))){r=r.substring(o.raw.length),t.push(o);continue}if(u=r,this.options.extensions&&this.options.extensions.startInline){let _=1/0;const k=r.slice(1);let C;this.options.extensions.startInline.forEach(M=>{C=M.call({lexer:this},k),typeof C=="number"&&C>=0&&(_=Math.min(_,C))}),_<1/0&&_>=0&&(u=r.substring(0,_+1))}if(o=this.tokenizer.inlineText(u,A3)){r=r.substring(o.raw.length),o.raw.slice(-1)!=="_"&&(v=o.raw.slice(-1)),m=!0,l=t[t.length-1],l&&l.type==="text"?(l.raw+=o.raw,l.text+=o.text):t.push(o);continue}if(r){const _="Infinite loop on byte: "+r.charCodeAt(0);if(this.options.silent){console.error(_);break}else throw new Error(_)}}return t}}class Hv{constructor(r){li(this,"options");this.options=r||Lh}code(r,t,o){var u;const l=(u=(t||"").match(/^\S*/))==null?void 0:u[0];if(this.options.highlight){const d=this.options.highlight(r,l);d!=null&&d!==r&&(o=!0,r=d)}return r=r.replace(/\n$/,"")+`
`,l?'<pre><code class="'+this.options.langPrefix+co(l)+'">'+(o?r:co(r,!0))+`</code></pre>
`:"<pre><code>"+(o?r:co(r,!0))+`</code></pre>
`}blockquote(r){return`<blockquote>
${r}</blockquote>
`}html(r,t){return r}heading(r,t,o,l){if(this.options.headerIds){const u=this.options.headerPrefix+l.slug(o);return`<h${t} id="${u}">${r}</h${t}>
`}return`<h${t}>${r}</h${t}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(r,t,o){const l=t?"ol":"ul",u=t&&o!==1?' start="'+o+'"':"";return"<"+l+u+`>
`+r+"</"+l+`>
`}listitem(r,t,o){return`<li>${r}</li>
`}checkbox(r){return"<input "+(r?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(r){return`<p>${r}</p>
`}table(r,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+t+`</table>
`}tablerow(r){return`<tr>
${r}</tr>
`}tablecell(r,t){const o=t.header?"th":"td";return(t.align?`<${o} align="${t.align}">`:`<${o}>`)+r+`</${o}>
`}strong(r){return`<strong>${r}</strong>`}em(r){return`<em>${r}</em>`}codespan(r){return`<code>${r}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(r){return`<del>${r}</del>`}link(r,t,o){const l=W2(this.options.sanitize,this.options.baseUrl,r);if(l===null)return o;r=l;let u='<a href="'+r+'"';return t&&(u+=' title="'+t+'"'),u+=">"+o+"</a>",u}image(r,t,o){const l=W2(this.options.sanitize,this.options.baseUrl,r);if(l===null)return o;r=l;let u=`<img src="${r}" alt="${o}"`;return t&&(u+=` title="${t}"`),u+=this.options.xhtml?"/>":">",u}text(r){return r}}class Cx{strong(r){return r}em(r){return r}codespan(r){return r}del(r){return r}html(r){return r}text(r){return r}link(r,t,o){return""+o}image(r,t,o){return""+o}br(){return""}}class Px{constructor(){li(this,"seen");this.seen={}}serialize(r){return r.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(r,t){let o=r,l=0;if(this.seen.hasOwnProperty(o)){l=this.seen[r];do l++,o=r+"-"+l;while(this.seen.hasOwnProperty(o))}return t||(this.seen[r]=l,this.seen[o]=0),o}slug(r,t={}){const o=this.serialize(r);return this.getNextSafeSlug(o,t.dryrun)}}class ul{constructor(r){li(this,"options");li(this,"renderer");li(this,"textRenderer");li(this,"slugger");this.options=r||Lh,this.options.renderer=this.options.renderer||new Hv,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Cx,this.slugger=new Px}static parse(r,t){return new ul(t).parse(r)}static parseInline(r,t){return new ul(t).parseInline(r)}parse(r,t=!0){let o="";for(let l=0;l<r.length;l++){const u=r[l];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[u.type]){const d=u,f=this.options.extensions.renderers[d.type].call({parser:this},d);if(f!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type)){o+=f||"";continue}}switch(u.type){case"space":continue;case"hr":{o+=this.renderer.hr();continue}case"heading":{const d=u;o+=this.renderer.heading(this.parseInline(d.tokens),d.depth,IC(this.parseInline(d.tokens,this.textRenderer)),this.slugger);continue}case"code":{const d=u;o+=this.renderer.code(d.text,d.lang,!!d.escaped);continue}case"table":{const d=u;let f="",m="";for(let _=0;_<d.header.length;_++)m+=this.renderer.tablecell(this.parseInline(d.header[_].tokens),{header:!0,align:d.align[_]});f+=this.renderer.tablerow(m);let v="";for(let _=0;_<d.rows.length;_++){const k=d.rows[_];m="";for(let C=0;C<k.length;C++)m+=this.renderer.tablecell(this.parseInline(k[C].tokens),{header:!1,align:d.align[C]});v+=this.renderer.tablerow(m)}o+=this.renderer.table(f,v);continue}case"blockquote":{const d=u,f=this.parse(d.tokens);o+=this.renderer.blockquote(f);continue}case"list":{const d=u,f=d.ordered,m=d.start,v=d.loose;let _="";for(let k=0;k<d.items.length;k++){const C=d.items[k],M=C.checked,A=C.task;let F="";if(C.task){const G=this.renderer.checkbox(!!M);v?C.tokens.length>0&&C.tokens[0].type==="paragraph"?(C.tokens[0].text=G+" "+C.tokens[0].text,C.tokens[0].tokens&&C.tokens[0].tokens.length>0&&C.tokens[0].tokens[0].type==="text"&&(C.tokens[0].tokens[0].text=G+" "+C.tokens[0].tokens[0].text)):C.tokens.unshift({type:"text",text:G}):F+=G}F+=this.parse(C.tokens,v),_+=this.renderer.listitem(F,A,!!M)}o+=this.renderer.list(_,f,m);continue}case"html":{const d=u;o+=this.renderer.html(d.text,d.block);continue}case"paragraph":{const d=u;o+=this.renderer.paragraph(this.parseInline(d.tokens));continue}case"text":{let d=u,f=d.tokens?this.parseInline(d.tokens):d.text;for(;l+1<r.length&&r[l+1].type==="text";)d=r[++l],f+=`
`+(d.tokens?this.parseInline(d.tokens):d.text);o+=t?this.renderer.paragraph(f):f;continue}default:{const d='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(d),"";throw new Error(d)}}}return o}parseInline(r,t){t=t||this.renderer;let o="";for(let l=0;l<r.length;l++){const u=r[l];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[u.type]){const d=this.options.extensions.renderers[u.type].call({parser:this},u);if(d!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(u.type)){o+=d||"";continue}}switch(u.type){case"escape":{const d=u;o+=t.text(d.text);break}case"html":{const d=u;o+=t.html(d.text);break}case"link":{const d=u;o+=t.link(d.href,d.title,this.parseInline(d.tokens,t));break}case"image":{const d=u;o+=t.image(d.href,d.title,d.text);break}case"strong":{const d=u;o+=t.strong(this.parseInline(d.tokens,t));break}case"em":{const d=u;o+=t.em(this.parseInline(d.tokens,t));break}case"codespan":{const d=u;o+=t.codespan(d.text);break}case"br":{o+=t.br();break}case"del":{const d=u;o+=t.del(this.parseInline(d.tokens,t));break}case"text":{const d=u;o+=t.text(d.text);break}default:{const d='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(d),"";throw new Error(d)}}}return o}}class wg{constructor(r){li(this,"options");this.options=r||Lh}preprocess(r){return r}postprocess(r){return r}}li(wg,"passThroughHooks",new Set(["preprocess","postprocess"]));var Qg,m1,dy,LC;class O3{constructor(...r){uw(this,Qg);uw(this,dy);li(this,"defaults",Sx());li(this,"options",this.setOptions);li(this,"parse",z0(this,Qg,m1).call(this,cl.lex,ul.parse));li(this,"parseInline",z0(this,Qg,m1).call(this,cl.lexInline,ul.parseInline));li(this,"Parser",ul);li(this,"parser",ul.parse);li(this,"Renderer",Hv);li(this,"TextRenderer",Cx);li(this,"Lexer",cl);li(this,"lexer",cl.lex);li(this,"Tokenizer",jv);li(this,"Slugger",Px);li(this,"Hooks",wg);this.use(...r)}walkTokens(r,t){var l,u;let o=[];for(const d of r)switch(o=o.concat(t.call(this,d)),d.type){case"table":{const f=d;for(const m of f.header)o=o.concat(this.walkTokens(m.tokens,t));for(const m of f.rows)for(const v of m)o=o.concat(this.walkTokens(v.tokens,t));break}case"list":{const f=d;o=o.concat(this.walkTokens(f.items,t));break}default:{const f=d;(u=(l=this.defaults.extensions)==null?void 0:l.childTokens)!=null&&u[f.type]?this.defaults.extensions.childTokens[f.type].forEach(m=>{o=o.concat(this.walkTokens(f[m],t))}):f.tokens&&(o=o.concat(this.walkTokens(f.tokens,t)))}}return o}use(...r){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return r.forEach(o=>{const l={...o};if(l.async=this.defaults.async||l.async||!1,o.extensions&&(o.extensions.forEach(u=>{if(!u.name)throw new Error("extension name required");if("renderer"in u){const d=t.renderers[u.name];d?t.renderers[u.name]=function(...f){let m=u.renderer.apply(this,f);return m===!1&&(m=d.apply(this,f)),m}:t.renderers[u.name]=u.renderer}if("tokenizer"in u){if(!u.level||u.level!=="block"&&u.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const d=t[u.level];d?d.unshift(u.tokenizer):t[u.level]=[u.tokenizer],u.start&&(u.level==="block"?t.startBlock?t.startBlock.push(u.start):t.startBlock=[u.start]:u.level==="inline"&&(t.startInline?t.startInline.push(u.start):t.startInline=[u.start]))}"childTokens"in u&&u.childTokens&&(t.childTokens[u.name]=u.childTokens)}),l.extensions=t),o.renderer){const u=this.defaults.renderer||new Hv(this.defaults);for(const d in o.renderer){const f=o.renderer[d],m=d,v=u[m];u[m]=(..._)=>{let k=f.apply(u,_);return k===!1&&(k=v.apply(u,_)),k||""}}l.renderer=u}if(o.tokenizer){const u=this.defaults.tokenizer||new jv(this.defaults);for(const d in o.tokenizer){const f=o.tokenizer[d],m=d,v=u[m];u[m]=(..._)=>{let k=f.apply(u,_);return k===!1&&(k=v.apply(u,_)),k}}l.tokenizer=u}if(o.hooks){const u=this.defaults.hooks||new wg;for(const d in o.hooks){const f=o.hooks[d],m=d,v=u[m];wg.passThroughHooks.has(d)?u[m]=_=>{if(this.defaults.async)return Promise.resolve(f.call(u,_)).then(C=>v.call(u,C));const k=f.call(u,_);return v.call(u,k)}:u[m]=(..._)=>{let k=f.apply(u,_);return k===!1&&(k=v.apply(u,_)),k}}l.hooks=u}if(o.walkTokens){const u=this.defaults.walkTokens,d=o.walkTokens;l.walkTokens=function(f){let m=[];return m.push(d.call(this,f)),u&&(m=m.concat(u.call(this,f))),m}}this.defaults={...this.defaults,...l}}),this}setOptions(r){return this.defaults={...this.defaults,...r},this}}Qg=new WeakSet,m1=function(r,t){return(o,l,u)=>{typeof l=="function"&&(u=l,l=null);const d={...l},f={...this.defaults,...d};this.defaults.async===!0&&d.async===!1&&(f.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),f.async=!0);const m=z0(this,dy,LC).call(this,!!f.silent,!!f.async,u);if(typeof o>"u"||o===null)return m(new Error("marked(): input parameter is undefined or null"));if(typeof o!="string")return m(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(o)+", string expected"));if(L3(f,u),f.hooks&&(f.hooks.options=f),u){const v=u,_=f.highlight;let k;try{f.hooks&&(o=f.hooks.preprocess(o)),k=r(o,f)}catch(A){return m(A)}const C=A=>{let F;if(!A)try{f.walkTokens&&this.walkTokens(k,f.walkTokens),F=t(k,f),f.hooks&&(F=f.hooks.postprocess(F))}catch(G){A=G}return f.highlight=_,A?m(A):v(null,F)};if(!_||_.length<3||(delete f.highlight,!k.length))return C();let M=0;this.walkTokens(k,A=>{A.type==="code"&&(M++,setTimeout(()=>{_(A.text,A.lang,(F,G)=>{if(F)return C(F);G!=null&&G!==A.text&&(A.text=G,A.escaped=!0),M--,M===0&&C()})},0))}),M===0&&C();return}if(f.async)return Promise.resolve(f.hooks?f.hooks.preprocess(o):o).then(v=>r(v,f)).then(v=>f.walkTokens?Promise.all(this.walkTokens(v,f.walkTokens)).then(()=>v):v).then(v=>t(v,f)).then(v=>f.hooks?f.hooks.postprocess(v):v).catch(m);try{f.hooks&&(o=f.hooks.preprocess(o));const v=r(o,f);f.walkTokens&&this.walkTokens(v,f.walkTokens);let _=t(v,f);return f.hooks&&(_=f.hooks.postprocess(_)),_}catch(v){return m(v)}}},dy=new WeakSet,LC=function(r,t,o){return l=>{if(l.message+=`
Please report this to https://github.com/markedjs/marked.`,r){const u="<p>An error occurred:</p><pre>"+co(l.message+"",!0)+"</pre>";if(t)return Promise.resolve(u);if(o){o(null,u);return}return u}if(t)return Promise.reject(l);if(o){o(l);return}throw l}};const Th=new O3;function fi(n,r,t){return Th.parse(n,r,t)}fi.options=fi.setOptions=function(n){return Th.setOptions(n),fi.defaults=Th.defaults,CC(fi.defaults),fi};fi.getDefaults=Sx;fi.defaults=Lh;fi.use=function(...n){return Th.use(...n),fi.defaults=Th.defaults,CC(fi.defaults),fi};fi.walkTokens=function(n,r){return Th.walkTokens(n,r)};fi.parseInline=Th.parseInline;fi.Parser=ul;fi.parser=ul.parse;fi.Renderer=Hv;fi.TextRenderer=Cx;fi.Lexer=cl;fi.lexer=cl.lex;fi.Tokenizer=jv;fi.Slugger=Px;fi.Hooks=wg;fi.parse=fi;fi.options;fi.setOptions;fi.use;fi.walkTokens;fi.parseInline;ul.parse;cl.lex;/*
 * HSOverlay
 * @version: 1.3.0
 * @author: HtmlStream
 * @license: Htmlstream Libraries (https://preline.co/docs/license.html)
 * Copyright 2023 Htmlstream
 */class Mx extends mC{constructor(t){super("[data-hs-overlay]");li(this,"root");this.root=t,this.openNextOverlay=!1}init(){this.root.addEventListener("click",t=>{const l=t.target.closest(this.selector),u=t.target.closest("[data-hs-overlay-close]"),d=t.target.getAttribute("aria-overlay")==="true";if(u)return this.close(u.closest(".hs-overlay.open"));if(l)return this.toggle(this.root.querySelector(l.getAttribute("data-hs-overlay")));d&&this._onBackdropClick(t.target)}),this.root.addEventListener("keydown",t=>{if(t.keyCode===27){const o=this.root.querySelector(".hs-overlay.open");if(!o)return;setTimeout(()=>{o.getAttribute("data-hs-overlay-keyboard")!=="false"&&this.close(o)})}})}toggle(t){t&&(t.classList.contains("hidden")?this.open(t):this.close(t))}open(t){if(!t)return;const o=this.root.querySelector(".hs-overlay.open"),l=this.getClassProperty(t,"--body-scroll","false")!=="true";if(o)return this.openNextOverlay=!0,this.close(o).then(()=>{this.open(t),this.openNextOverlay=!1});l&&(this.root.style.overflow="hidden"),this._buildBackdrop(t),this._checkTimer(t),this._autoHide(t),t.classList.remove("hidden"),t.setAttribute("aria-overlay","true"),t.setAttribute("tabindex","-1"),setTimeout(()=>{t.classList.contains("hidden")||(t.classList.add("open"),this._fireEvent("open",t),this._dispatch("open.hs.overlay",t,t),this._focusInput(t))},50)}close(t){return new Promise(o=>{t&&(t.classList.remove("open"),t.removeAttribute("aria-overlay"),t.removeAttribute("tabindex","-1"),this.afterTransition(t,()=>{t.classList.contains("open")||(t.classList.add("hidden"),this._destroyBackdrop(),this._fireEvent("close",t),this._dispatch("close.hs.overlay",t,t),this.root.style.overflow="",o(t))}))})}_autoHide(t){const o=parseInt(this.getClassProperty(t,"--auto-hide","0"));o&&(t.autoHide=setTimeout(()=>{this.close(t)},o))}_checkTimer(t){t.autoHide&&(clearTimeout(t.autoHide),delete t.autoHide)}_onBackdropClick(t){this.getClassProperty(t,"--overlay-backdrop","true")!=="static"&&this.close(t)}_buildBackdrop(t){const o=t.getAttribute("data-hs-overlay-backdrop-container")||!1;let l=document.createElement("div"),u="transition duration fixed inset-0 z-50 bg-gray-900 bg-opacity-50 dark:bg-opacity-80 hs-overlay-backdrop";for(const m of t.classList.values())m.startsWith("hs-overlay-backdrop-open:")&&(u+=` ${m}`);const d=this.getClassProperty(t,"--overlay-backdrop","true")!=="static";this.getClassProperty(t,"--overlay-backdrop","true")!=="false"&&(o&&(l=this.root.querySelector(o).cloneNode(!0),l.classList.remove("hidden"),u=l.classList,l.classList=""),d&&l.addEventListener("click",()=>this.close(t),!0),l.setAttribute("data-hs-overlay-backdrop-template",""),this.root.appendChild(l),setTimeout(()=>{l.classList=u}))}_destroyBackdrop(){const t=this.root.querySelector("[data-hs-overlay-backdrop-template]");t&&(this.openNextOverlay&&(t.style.transitionDuration=`${parseFloat(window.getComputedStyle(t).transitionDuration.replace(/[^\d.-]/g,""))*1.8}s`),t.classList.add("opacity-0"),this.afterTransition(t,()=>{t.remove()}))}_focusInput(t){const o=t.querySelector("[autofocus]");o&&o.focus()}}const z3=["innerHTML"],N3={class:"hs-overlay-open:mt-7 hs-overlay-open:opacity-100 hs-overlay-open:duration-500 mt-0 opacity-0 ease-out transition-all sm:max-w-lg sm:w-full m-3 sm:mx-auto min-h-[calc(100%-3.5rem)] flex items-center"},D3={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},F3={class:"p-4 overflow-y-auto flex items-center gap-4"},B3=Xt("sl-spinner",{style:{"font-size":"3rem","--indicator-color":"deeppink","--track-color":"pink"}},null,-1),j3=["innerHTML"],H3=Ro({__name:"Footer.ce",setup(n){const r=me([]),t=me(null),o=Xe(()=>{var M,A;return(A=(M=t.value)==null?void 0:M.getRootNode())==null?void 0:A.host}),l=me(null),u=Xe(()=>l==null?void 0:l.value),d=Xe(()=>new Mx(u.value)),f=me(null),m=Xe(()=>f==null?void 0:f.value),v=me("Generating PDF...");er(m,M=>{d.value.init(),M.addEventListener("open.hs.overlay",A=>_.value=!0),M.addEventListener("close.hs.overlay",A=>_.value=!1)});const _=me(!1);er(_,M=>{M?d.value.open(m.value):d.value.close(m.value)}),er(o,()=>{k()});function k(){function M(){return Array.from(o.value.querySelectorAll("li")).map(A=>{let F=document.createElement("li");F.innerHTML=fi.parse(A.textContent||"");let G=F.querySelector("code");if(G){let H=G.previousElementSibling,W=H||F,j=C(G.innerHTML);j.id&&(W.id=j.id),j.class&&j.class.split(" ").forEach(V=>W.classList.add(V)),j.style&&W.setAttribute("style",j.style),G.remove()}return F})}r.value=M(),new MutationObserver(A=>{for(let F of A)F.type==="childList"&&(r.value=M())}).observe(o.value,{childList:!0,subtree:!0})}function C(M){var H;let A=[];M=M.replace(//g,'"').replace(//g,'"').replace(//g,"'"),(H=M==null?void 0:M.match(/[^\s"]+|"([^"]*)"/gmi))==null||H.filter(W=>W).forEach(W=>{A.length>0&&A[A.length-1].indexOf("=")===A[A.length-1].length-1?A[A.length-1]=`${A[A.length-1]}${W}`:A.push(W)});let F={},G=0;for(;G<A.length;){let W=A[G];if(W.indexOf("=")>0){let[j,V]=W.split("=");V=V[0]==='"'&&V[V.length-1]==='"'?V.slice(1,-1):V,F[j]?F[j]+=` ${V}`:F[j]=V}else if(W[0]==="."){let j="class",V=W.slice(1);V=V[0]==='"'&&V[V.length-1]==='"'?V.slice(1,-1):V,F[j]?F[j]+=` ${V}`:F[j]=V}else if(W[0]===":"){let j="style",V;W.length===1&&G<W.length&&A[G+1][0]==='"'?(V=A[G+1].slice(1,-1),G++):V=W.slice(1),F[j]?F[j]+=` ${V}`:F[j]=V}else if(W[0]==='"'){let j="args",V=W.slice(1,-1);F[j]?F[j].push(V):F[j]=[V]}else W[0]==="#"?F.id=W.slice(1):F[W]=!0;G++}return F}return(M,A)=>(ke(),Ce(Fi,null,[Xt("ul",{ref_key:"footer",ref:t,id:"footer",class:"flex bg-slate-100 p-2 gap-3 mt-8 items-center w-full h-8"},[(ke(!0),Ce(Fi,null,nu(r.value,(F,G)=>(ke(),Ce("li",{key:`li-${G}`,innerHTML:F.innerHTML,class:$g(F.className),style:au(F.getAttribute("style")||"")},null,14,z3))),128))],512),Xt("div",{ref_key:"overlayRef",ref:l},[Xt("div",{ref_key:"modalRef",ref:f,id:"hs-basic-modal",class:"hs-overlay hidden w-full h-full fixed top-0 start-0 z-[80] overflow-x-hidden overflow-y-auto pointer-events-none"},[Xt("div",N3,[Xt("div",D3,[Xt("div",F3,[B3,Xt("p",{innerHTML:v.value},null,8,j3)])])])],512)],512)],64))}}),U3=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-\\[100\\%\\]{height:100%}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}img,svg{height:36px}.push{margin-left:auto}@media only screen and (max-width: 768px){#footer{font-size:.8em}li{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}}.overlay{position:fixed;display:none;width:100%;height:100%;top:0;left:0;right:0;bottom:0;background-color:#00000080;z-index:2;cursor:pointer}
`,G3=Es(H3,[["styles",[U3]]]);/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function RC(n){return typeof n>"u"||n===null}function q3(n){return typeof n=="object"&&n!==null}function V3(n){return Array.isArray(n)?n:RC(n)?[]:[n]}function W3(n,r){var t,o,l,u;if(r)for(u=Object.keys(r),t=0,o=u.length;t<o;t+=1)l=u[t],n[l]=r[l];return n}function Z3(n,r){var t="",o;for(o=0;o<r;o+=1)t+=n;return t}function Y3(n){return n===0&&Number.NEGATIVE_INFINITY===1/n}var X3=RC,K3=q3,J3=V3,Q3=Z3,$3=Y3,tN=W3,Io={isNothing:X3,isObject:K3,toArray:J3,repeat:Q3,isNegativeZero:$3,extend:tN};function AC(n,r){var t="",o=n.reason||"(unknown reason)";return n.mark?(n.mark.name&&(t+='in "'+n.mark.name+'" '),t+="("+(n.mark.line+1)+":"+(n.mark.column+1)+")",!r&&n.mark.snippet&&(t+=`

`+n.mark.snippet),o+" "+t):o}function zg(n,r){Error.call(this),this.name="YAMLException",this.reason=n,this.mark=r,this.message=AC(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}zg.prototype=Object.create(Error.prototype);zg.prototype.constructor=zg;zg.prototype.toString=function(r){return this.name+": "+AC(this,r)};var rc=zg;function Mw(n,r,t,o,l){var u="",d="",f=Math.floor(l/2)-1;return o-r>f&&(u=" ... ",r=o-f+u.length),t-o>f&&(d=" ...",t=o+f-d.length),{str:u+n.slice(r,t).replace(/\t/g,"")+d,pos:o-r+u.length}}function Iw(n,r){return Io.repeat(" ",r-n.length)+n}function eN(n,r){if(r=Object.create(r||null),!n.buffer)return null;r.maxLength||(r.maxLength=79),typeof r.indent!="number"&&(r.indent=1),typeof r.linesBefore!="number"&&(r.linesBefore=3),typeof r.linesAfter!="number"&&(r.linesAfter=2);for(var t=/\r?\n|\r|\0/g,o=[0],l=[],u,d=-1;u=t.exec(n.buffer);)l.push(u.index),o.push(u.index+u[0].length),n.position<=u.index&&d<0&&(d=o.length-2);d<0&&(d=o.length-1);var f="",m,v,_=Math.min(n.line+r.linesAfter,l.length).toString().length,k=r.maxLength-(r.indent+_+3);for(m=1;m<=r.linesBefore&&!(d-m<0);m++)v=Mw(n.buffer,o[d-m],l[d-m],n.position-(o[d]-o[d-m]),k),f=Io.repeat(" ",r.indent)+Iw((n.line-m+1).toString(),_)+" | "+v.str+`
`+f;for(v=Mw(n.buffer,o[d],l[d],n.position,k),f+=Io.repeat(" ",r.indent)+Iw((n.line+1).toString(),_)+" | "+v.str+`
`,f+=Io.repeat("-",r.indent+_+3+v.pos)+`^
`,m=1;m<=r.linesAfter&&!(d+m>=l.length);m++)v=Mw(n.buffer,o[d+m],l[d+m],n.position-(o[d]-o[d+m]),k),f+=Io.repeat(" ",r.indent)+Iw((n.line+m+1).toString(),_)+" | "+v.str+`
`;return f.replace(/\n$/,"")}var rN=eN,iN=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],nN=["scalar","sequence","mapping"];function oN(n){var r={};return n!==null&&Object.keys(n).forEach(function(t){n[t].forEach(function(o){r[String(o)]=t})}),r}function sN(n,r){if(r=r||{},Object.keys(r).forEach(function(t){if(iN.indexOf(t)===-1)throw new rc('Unknown option "'+t+'" is met in definition of "'+n+'" YAML type.')}),this.options=r,this.tag=n,this.kind=r.kind||null,this.resolve=r.resolve||function(){return!0},this.construct=r.construct||function(t){return t},this.instanceOf=r.instanceOf||null,this.predicate=r.predicate||null,this.represent=r.represent||null,this.representName=r.representName||null,this.defaultStyle=r.defaultStyle||null,this.multi=r.multi||!1,this.styleAliases=oN(r.styleAliases||null),nN.indexOf(this.kind)===-1)throw new rc('Unknown kind "'+this.kind+'" is specified for "'+n+'" YAML type.')}var go=sN;function K2(n,r){var t=[];return n[r].forEach(function(o){var l=t.length;t.forEach(function(u,d){u.tag===o.tag&&u.kind===o.kind&&u.multi===o.multi&&(l=d)}),t[l]=o}),t}function aN(){var n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},r,t;function o(l){l.multi?(n.multi[l.kind].push(l),n.multi.fallback.push(l)):n[l.kind][l.tag]=n.fallback[l.tag]=l}for(r=0,t=arguments.length;r<t;r+=1)arguments[r].forEach(o);return n}function v1(n){return this.extend(n)}v1.prototype.extend=function(r){var t=[],o=[];if(r instanceof go)o.push(r);else if(Array.isArray(r))o=o.concat(r);else if(r&&(Array.isArray(r.implicit)||Array.isArray(r.explicit)))r.implicit&&(t=t.concat(r.implicit)),r.explicit&&(o=o.concat(r.explicit));else throw new rc("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.forEach(function(u){if(!(u instanceof go))throw new rc("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(u.loadKind&&u.loadKind!=="scalar")throw new rc("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(u.multi)throw new rc("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),o.forEach(function(u){if(!(u instanceof go))throw new rc("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var l=Object.create(v1.prototype);return l.implicit=(this.implicit||[]).concat(t),l.explicit=(this.explicit||[]).concat(o),l.compiledImplicit=K2(l,"implicit"),l.compiledExplicit=K2(l,"explicit"),l.compiledTypeMap=aN(l.compiledImplicit,l.compiledExplicit),l};var lN=v1,cN=new go("tag:yaml.org,2002:str",{kind:"scalar",construct:function(n){return n!==null?n:""}}),uN=new go("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(n){return n!==null?n:[]}}),hN=new go("tag:yaml.org,2002:map",{kind:"mapping",construct:function(n){return n!==null?n:{}}}),dN=new lN({explicit:[cN,uN,hN]});function pN(n){if(n===null)return!0;var r=n.length;return r===1&&n==="~"||r===4&&(n==="null"||n==="Null"||n==="NULL")}function fN(){return null}function gN(n){return n===null}var mN=new go("tag:yaml.org,2002:null",{kind:"scalar",resolve:pN,construct:fN,predicate:gN,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function vN(n){if(n===null)return!1;var r=n.length;return r===4&&(n==="true"||n==="True"||n==="TRUE")||r===5&&(n==="false"||n==="False"||n==="FALSE")}function yN(n){return n==="true"||n==="True"||n==="TRUE"}function bN(n){return Object.prototype.toString.call(n)==="[object Boolean]"}var wN=new go("tag:yaml.org,2002:bool",{kind:"scalar",resolve:vN,construct:yN,predicate:bN,represent:{lowercase:function(n){return n?"true":"false"},uppercase:function(n){return n?"TRUE":"FALSE"},camelcase:function(n){return n?"True":"False"}},defaultStyle:"lowercase"});function xN(n){return 48<=n&&n<=57||65<=n&&n<=70||97<=n&&n<=102}function _N(n){return 48<=n&&n<=55}function kN(n){return 48<=n&&n<=57}function EN(n){if(n===null)return!1;var r=n.length,t=0,o=!1,l;if(!r)return!1;if(l=n[t],(l==="-"||l==="+")&&(l=n[++t]),l==="0"){if(t+1===r)return!0;if(l=n[++t],l==="b"){for(t++;t<r;t++)if(l=n[t],l!=="_"){if(l!=="0"&&l!=="1")return!1;o=!0}return o&&l!=="_"}if(l==="x"){for(t++;t<r;t++)if(l=n[t],l!=="_"){if(!xN(n.charCodeAt(t)))return!1;o=!0}return o&&l!=="_"}if(l==="o"){for(t++;t<r;t++)if(l=n[t],l!=="_"){if(!_N(n.charCodeAt(t)))return!1;o=!0}return o&&l!=="_"}}if(l==="_")return!1;for(;t<r;t++)if(l=n[t],l!=="_"){if(!kN(n.charCodeAt(t)))return!1;o=!0}return!(!o||l==="_")}function TN(n){var r=n,t=1,o;if(r.indexOf("_")!==-1&&(r=r.replace(/_/g,"")),o=r[0],(o==="-"||o==="+")&&(o==="-"&&(t=-1),r=r.slice(1),o=r[0]),r==="0")return 0;if(o==="0"){if(r[1]==="b")return t*parseInt(r.slice(2),2);if(r[1]==="x")return t*parseInt(r.slice(2),16);if(r[1]==="o")return t*parseInt(r.slice(2),8)}return t*parseInt(r,10)}function SN(n){return Object.prototype.toString.call(n)==="[object Number]"&&n%1===0&&!Io.isNegativeZero(n)}var CN=new go("tag:yaml.org,2002:int",{kind:"scalar",resolve:EN,construct:TN,predicate:SN,represent:{binary:function(n){return n>=0?"0b"+n.toString(2):"-0b"+n.toString(2).slice(1)},octal:function(n){return n>=0?"0o"+n.toString(8):"-0o"+n.toString(8).slice(1)},decimal:function(n){return n.toString(10)},hexadecimal:function(n){return n>=0?"0x"+n.toString(16).toUpperCase():"-0x"+n.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),PN=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function MN(n){return!(n===null||!PN.test(n)||n[n.length-1]==="_")}function IN(n){var r,t;return r=n.replace(/_/g,"").toLowerCase(),t=r[0]==="-"?-1:1,"+-".indexOf(r[0])>=0&&(r=r.slice(1)),r===".inf"?t===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:r===".nan"?NaN:t*parseFloat(r,10)}var LN=/^[-+]?[0-9]+e/;function RN(n,r){var t;if(isNaN(n))switch(r){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===n)switch(r){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===n)switch(r){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Io.isNegativeZero(n))return"-0.0";return t=n.toString(10),LN.test(t)?t.replace("e",".e"):t}function AN(n){return Object.prototype.toString.call(n)==="[object Number]"&&(n%1!==0||Io.isNegativeZero(n))}var ON=new go("tag:yaml.org,2002:float",{kind:"scalar",resolve:MN,construct:IN,predicate:AN,represent:RN,defaultStyle:"lowercase"}),zN=dN.extend({implicit:[mN,wN,CN,ON]}),NN=zN,OC=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),zC=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function DN(n){return n===null?!1:OC.exec(n)!==null||zC.exec(n)!==null}function FN(n){var r,t,o,l,u,d,f,m=0,v=null,_,k,C;if(r=OC.exec(n),r===null&&(r=zC.exec(n)),r===null)throw new Error("Date resolve error");if(t=+r[1],o=+r[2]-1,l=+r[3],!r[4])return new Date(Date.UTC(t,o,l));if(u=+r[4],d=+r[5],f=+r[6],r[7]){for(m=r[7].slice(0,3);m.length<3;)m+="0";m=+m}return r[9]&&(_=+r[10],k=+(r[11]||0),v=(_*60+k)*6e4,r[9]==="-"&&(v=-v)),C=new Date(Date.UTC(t,o,l,u,d,f,m)),v&&C.setTime(C.getTime()-v),C}function BN(n){return n.toISOString()}var jN=new go("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:DN,construct:FN,instanceOf:Date,represent:BN});function HN(n){return n==="<<"||n===null}var UN=new go("tag:yaml.org,2002:merge",{kind:"scalar",resolve:HN}),Ix=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function GN(n){if(n===null)return!1;var r,t,o=0,l=n.length,u=Ix;for(t=0;t<l;t++)if(r=u.indexOf(n.charAt(t)),!(r>64)){if(r<0)return!1;o+=6}return o%8===0}function qN(n){var r,t,o=n.replace(/[\r\n=]/g,""),l=o.length,u=Ix,d=0,f=[];for(r=0;r<l;r++)r%4===0&&r&&(f.push(d>>16&255),f.push(d>>8&255),f.push(d&255)),d=d<<6|u.indexOf(o.charAt(r));return t=l%4*6,t===0?(f.push(d>>16&255),f.push(d>>8&255),f.push(d&255)):t===18?(f.push(d>>10&255),f.push(d>>2&255)):t===12&&f.push(d>>4&255),new Uint8Array(f)}function VN(n){var r="",t=0,o,l,u=n.length,d=Ix;for(o=0;o<u;o++)o%3===0&&o&&(r+=d[t>>18&63],r+=d[t>>12&63],r+=d[t>>6&63],r+=d[t&63]),t=(t<<8)+n[o];return l=u%3,l===0?(r+=d[t>>18&63],r+=d[t>>12&63],r+=d[t>>6&63],r+=d[t&63]):l===2?(r+=d[t>>10&63],r+=d[t>>4&63],r+=d[t<<2&63],r+=d[64]):l===1&&(r+=d[t>>2&63],r+=d[t<<4&63],r+=d[64],r+=d[64]),r}function WN(n){return Object.prototype.toString.call(n)==="[object Uint8Array]"}var ZN=new go("tag:yaml.org,2002:binary",{kind:"scalar",resolve:GN,construct:qN,predicate:WN,represent:VN}),YN=Object.prototype.hasOwnProperty,XN=Object.prototype.toString;function KN(n){if(n===null)return!0;var r=[],t,o,l,u,d,f=n;for(t=0,o=f.length;t<o;t+=1){if(l=f[t],d=!1,XN.call(l)!=="[object Object]")return!1;for(u in l)if(YN.call(l,u))if(!d)d=!0;else return!1;if(!d)return!1;if(r.indexOf(u)===-1)r.push(u);else return!1}return!0}function JN(n){return n!==null?n:[]}var QN=new go("tag:yaml.org,2002:omap",{kind:"sequence",resolve:KN,construct:JN}),$N=Object.prototype.toString;function tD(n){if(n===null)return!0;var r,t,o,l,u,d=n;for(u=new Array(d.length),r=0,t=d.length;r<t;r+=1){if(o=d[r],$N.call(o)!=="[object Object]"||(l=Object.keys(o),l.length!==1))return!1;u[r]=[l[0],o[l[0]]]}return!0}function eD(n){if(n===null)return[];var r,t,o,l,u,d=n;for(u=new Array(d.length),r=0,t=d.length;r<t;r+=1)o=d[r],l=Object.keys(o),u[r]=[l[0],o[l[0]]];return u}var rD=new go("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:tD,construct:eD}),iD=Object.prototype.hasOwnProperty;function nD(n){if(n===null)return!0;var r,t=n;for(r in t)if(iD.call(t,r)&&t[r]!==null)return!1;return!0}function oD(n){return n!==null?n:{}}var sD=new go("tag:yaml.org,2002:set",{kind:"mapping",resolve:nD,construct:oD}),aD=NN.extend({implicit:[jN,UN],explicit:[ZN,QN,rD,sD]}),fu=Object.prototype.hasOwnProperty,Uv=1,NC=2,DC=3,Gv=4,Lw=1,lD=2,J2=3,cD=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,uD=/[\x85\u2028\u2029]/,hD=/[,\[\]\{\}]/,FC=/^(?:!|!!|![a-z\-]+!)$/i,BC=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Q2(n){return Object.prototype.toString.call(n)}function dl(n){return n===10||n===13}function yh(n){return n===9||n===32}function Ko(n){return n===9||n===32||n===10||n===13}function tp(n){return n===44||n===91||n===93||n===123||n===125}function dD(n){var r;return 48<=n&&n<=57?n-48:(r=n|32,97<=r&&r<=102?r-97+10:-1)}function pD(n){return n===120?2:n===117?4:n===85?8:0}function fD(n){return 48<=n&&n<=57?n-48:-1}function $2(n){return n===48?"\0":n===97?"\x07":n===98?"\b":n===116||n===9?"	":n===110?`
`:n===118?"\v":n===102?"\f":n===114?"\r":n===101?"\x1B":n===32?" ":n===34?'"':n===47?"/":n===92?"\\":n===78?"":n===95?"":n===76?"\u2028":n===80?"\u2029":""}function gD(n){return n<=65535?String.fromCharCode(n):String.fromCharCode((n-65536>>10)+55296,(n-65536&1023)+56320)}var jC=new Array(256),HC=new Array(256);for(var Gd=0;Gd<256;Gd++)jC[Gd]=$2(Gd)?1:0,HC[Gd]=$2(Gd);function mD(n,r){this.input=n,this.filename=r.filename||null,this.schema=r.schema||aD,this.onWarning=r.onWarning||null,this.legacy=r.legacy||!1,this.json=r.json||!1,this.listener=r.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=n.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function UC(n,r){var t={name:n.filename,buffer:n.input.slice(0,-1),position:n.position,line:n.line,column:n.position-n.lineStart};return t.snippet=rN(t),new rc(r,t)}function He(n,r){throw UC(n,r)}function qv(n,r){n.onWarning&&n.onWarning.call(null,UC(n,r))}var tT={YAML:function(r,t,o){var l,u,d;r.version!==null&&He(r,"duplication of %YAML directive"),o.length!==1&&He(r,"YAML directive accepts exactly one argument"),l=/^([0-9]+)\.([0-9]+)$/.exec(o[0]),l===null&&He(r,"ill-formed argument of the YAML directive"),u=parseInt(l[1],10),d=parseInt(l[2],10),u!==1&&He(r,"unacceptable YAML version of the document"),r.version=o[0],r.checkLineBreaks=d<2,d!==1&&d!==2&&qv(r,"unsupported YAML version of the document")},TAG:function(r,t,o){var l,u;o.length!==2&&He(r,"TAG directive accepts exactly two arguments"),l=o[0],u=o[1],FC.test(l)||He(r,"ill-formed tag handle (first argument) of the TAG directive"),fu.call(r.tagMap,l)&&He(r,'there is a previously declared suffix for "'+l+'" tag handle'),BC.test(u)||He(r,"ill-formed tag prefix (second argument) of the TAG directive");try{u=decodeURIComponent(u)}catch{He(r,"tag prefix is malformed: "+u)}r.tagMap[l]=u}};function su(n,r,t,o){var l,u,d,f;if(r<t){if(f=n.input.slice(r,t),o)for(l=0,u=f.length;l<u;l+=1)d=f.charCodeAt(l),d===9||32<=d&&d<=1114111||He(n,"expected valid JSON character");else cD.test(f)&&He(n,"the stream contains non-printable characters");n.result+=f}}function eT(n,r,t,o){var l,u,d,f;for(Io.isObject(t)||He(n,"cannot merge mappings; the provided source object is unacceptable"),l=Object.keys(t),d=0,f=l.length;d<f;d+=1)u=l[d],fu.call(r,u)||(r[u]=t[u],o[u]=!0)}function ep(n,r,t,o,l,u,d,f,m){var v,_;if(Array.isArray(l))for(l=Array.prototype.slice.call(l),v=0,_=l.length;v<_;v+=1)Array.isArray(l[v])&&He(n,"nested arrays are not supported inside keys"),typeof l=="object"&&Q2(l[v])==="[object Object]"&&(l[v]="[object Object]");if(typeof l=="object"&&Q2(l)==="[object Object]"&&(l="[object Object]"),l=String(l),r===null&&(r={}),o==="tag:yaml.org,2002:merge")if(Array.isArray(u))for(v=0,_=u.length;v<_;v+=1)eT(n,r,u[v],t);else eT(n,r,u,t);else!n.json&&!fu.call(t,l)&&fu.call(r,l)&&(n.line=d||n.line,n.lineStart=f||n.lineStart,n.position=m||n.position,He(n,"duplicated mapping key")),l==="__proto__"?Object.defineProperty(r,l,{configurable:!0,enumerable:!0,writable:!0,value:u}):r[l]=u,delete t[l];return r}function Lx(n){var r;r=n.input.charCodeAt(n.position),r===10?n.position++:r===13?(n.position++,n.input.charCodeAt(n.position)===10&&n.position++):He(n,"a line break is expected"),n.line+=1,n.lineStart=n.position,n.firstTabInLine=-1}function xn(n,r,t){for(var o=0,l=n.input.charCodeAt(n.position);l!==0;){for(;yh(l);)l===9&&n.firstTabInLine===-1&&(n.firstTabInLine=n.position),l=n.input.charCodeAt(++n.position);if(r&&l===35)do l=n.input.charCodeAt(++n.position);while(l!==10&&l!==13&&l!==0);if(dl(l))for(Lx(n),l=n.input.charCodeAt(n.position),o++,n.lineIndent=0;l===32;)n.lineIndent++,l=n.input.charCodeAt(++n.position);else break}return t!==-1&&o!==0&&n.lineIndent<t&&qv(n,"deficient indentation"),o}function My(n){var r=n.position,t;return t=n.input.charCodeAt(r),!!((t===45||t===46)&&t===n.input.charCodeAt(r+1)&&t===n.input.charCodeAt(r+2)&&(r+=3,t=n.input.charCodeAt(r),t===0||Ko(t)))}function Rx(n,r){r===1?n.result+=" ":r>1&&(n.result+=Io.repeat(`
`,r-1))}function vD(n,r,t){var o,l,u,d,f,m,v,_,k=n.kind,C=n.result,M;if(M=n.input.charCodeAt(n.position),Ko(M)||tp(M)||M===35||M===38||M===42||M===33||M===124||M===62||M===39||M===34||M===37||M===64||M===96||(M===63||M===45)&&(l=n.input.charCodeAt(n.position+1),Ko(l)||t&&tp(l)))return!1;for(n.kind="scalar",n.result="",u=d=n.position,f=!1;M!==0;){if(M===58){if(l=n.input.charCodeAt(n.position+1),Ko(l)||t&&tp(l))break}else if(M===35){if(o=n.input.charCodeAt(n.position-1),Ko(o))break}else{if(n.position===n.lineStart&&My(n)||t&&tp(M))break;if(dl(M))if(m=n.line,v=n.lineStart,_=n.lineIndent,xn(n,!1,-1),n.lineIndent>=r){f=!0,M=n.input.charCodeAt(n.position);continue}else{n.position=d,n.line=m,n.lineStart=v,n.lineIndent=_;break}}f&&(su(n,u,d,!1),Rx(n,n.line-m),u=d=n.position,f=!1),yh(M)||(d=n.position+1),M=n.input.charCodeAt(++n.position)}return su(n,u,d,!1),n.result?!0:(n.kind=k,n.result=C,!1)}function yD(n,r){var t,o,l;if(t=n.input.charCodeAt(n.position),t!==39)return!1;for(n.kind="scalar",n.result="",n.position++,o=l=n.position;(t=n.input.charCodeAt(n.position))!==0;)if(t===39)if(su(n,o,n.position,!0),t=n.input.charCodeAt(++n.position),t===39)o=n.position,n.position++,l=n.position;else return!0;else dl(t)?(su(n,o,l,!0),Rx(n,xn(n,!1,r)),o=l=n.position):n.position===n.lineStart&&My(n)?He(n,"unexpected end of the document within a single quoted scalar"):(n.position++,l=n.position);He(n,"unexpected end of the stream within a single quoted scalar")}function bD(n,r){var t,o,l,u,d,f;if(f=n.input.charCodeAt(n.position),f!==34)return!1;for(n.kind="scalar",n.result="",n.position++,t=o=n.position;(f=n.input.charCodeAt(n.position))!==0;){if(f===34)return su(n,t,n.position,!0),n.position++,!0;if(f===92){if(su(n,t,n.position,!0),f=n.input.charCodeAt(++n.position),dl(f))xn(n,!1,r);else if(f<256&&jC[f])n.result+=HC[f],n.position++;else if((d=pD(f))>0){for(l=d,u=0;l>0;l--)f=n.input.charCodeAt(++n.position),(d=dD(f))>=0?u=(u<<4)+d:He(n,"expected hexadecimal character");n.result+=gD(u),n.position++}else He(n,"unknown escape sequence");t=o=n.position}else dl(f)?(su(n,t,o,!0),Rx(n,xn(n,!1,r)),t=o=n.position):n.position===n.lineStart&&My(n)?He(n,"unexpected end of the document within a double quoted scalar"):(n.position++,o=n.position)}He(n,"unexpected end of the stream within a double quoted scalar")}function wD(n,r){var t=!0,o,l,u,d=n.tag,f,m=n.anchor,v,_,k,C,M,A=Object.create(null),F,G,H,W;if(W=n.input.charCodeAt(n.position),W===91)_=93,M=!1,f=[];else if(W===123)_=125,M=!0,f={};else return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=f),W=n.input.charCodeAt(++n.position);W!==0;){if(xn(n,!0,r),W=n.input.charCodeAt(n.position),W===_)return n.position++,n.tag=d,n.anchor=m,n.kind=M?"mapping":"sequence",n.result=f,!0;t?W===44&&He(n,"expected the node content, but found ','"):He(n,"missed comma between flow collection entries"),G=F=H=null,k=C=!1,W===63&&(v=n.input.charCodeAt(n.position+1),Ko(v)&&(k=C=!0,n.position++,xn(n,!0,r))),o=n.line,l=n.lineStart,u=n.position,bp(n,r,Uv,!1,!0),G=n.tag,F=n.result,xn(n,!0,r),W=n.input.charCodeAt(n.position),(C||n.line===o)&&W===58&&(k=!0,W=n.input.charCodeAt(++n.position),xn(n,!0,r),bp(n,r,Uv,!1,!0),H=n.result),M?ep(n,f,A,G,F,H,o,l,u):k?f.push(ep(n,null,A,G,F,H,o,l,u)):f.push(F),xn(n,!0,r),W=n.input.charCodeAt(n.position),W===44?(t=!0,W=n.input.charCodeAt(++n.position)):t=!1}He(n,"unexpected end of the stream within a flow collection")}function xD(n,r){var t,o,l=Lw,u=!1,d=!1,f=r,m=0,v=!1,_,k;if(k=n.input.charCodeAt(n.position),k===124)o=!1;else if(k===62)o=!0;else return!1;for(n.kind="scalar",n.result="";k!==0;)if(k=n.input.charCodeAt(++n.position),k===43||k===45)Lw===l?l=k===43?J2:lD:He(n,"repeat of a chomping mode identifier");else if((_=fD(k))>=0)_===0?He(n,"bad explicit indentation width of a block scalar; it cannot be less than one"):d?He(n,"repeat of an indentation width identifier"):(f=r+_-1,d=!0);else break;if(yh(k)){do k=n.input.charCodeAt(++n.position);while(yh(k));if(k===35)do k=n.input.charCodeAt(++n.position);while(!dl(k)&&k!==0)}for(;k!==0;){for(Lx(n),n.lineIndent=0,k=n.input.charCodeAt(n.position);(!d||n.lineIndent<f)&&k===32;)n.lineIndent++,k=n.input.charCodeAt(++n.position);if(!d&&n.lineIndent>f&&(f=n.lineIndent),dl(k)){m++;continue}if(n.lineIndent<f){l===J2?n.result+=Io.repeat(`
`,u?1+m:m):l===Lw&&u&&(n.result+=`
`);break}for(o?yh(k)?(v=!0,n.result+=Io.repeat(`
`,u?1+m:m)):v?(v=!1,n.result+=Io.repeat(`
`,m+1)):m===0?u&&(n.result+=" "):n.result+=Io.repeat(`
`,m):n.result+=Io.repeat(`
`,u?1+m:m),u=!0,d=!0,m=0,t=n.position;!dl(k)&&k!==0;)k=n.input.charCodeAt(++n.position);su(n,t,n.position,!1)}return!0}function rT(n,r){var t,o=n.tag,l=n.anchor,u=[],d,f=!1,m;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=u),m=n.input.charCodeAt(n.position);m!==0&&(n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,He(n,"tab characters must not be used in indentation")),!(m!==45||(d=n.input.charCodeAt(n.position+1),!Ko(d))));){if(f=!0,n.position++,xn(n,!0,-1)&&n.lineIndent<=r){u.push(null),m=n.input.charCodeAt(n.position);continue}if(t=n.line,bp(n,r,DC,!1,!0),u.push(n.result),xn(n,!0,-1),m=n.input.charCodeAt(n.position),(n.line===t||n.lineIndent>r)&&m!==0)He(n,"bad indentation of a sequence entry");else if(n.lineIndent<r)break}return f?(n.tag=o,n.anchor=l,n.kind="sequence",n.result=u,!0):!1}function _D(n,r,t){var o,l,u,d,f,m,v=n.tag,_=n.anchor,k={},C=Object.create(null),M=null,A=null,F=null,G=!1,H=!1,W;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=k),W=n.input.charCodeAt(n.position);W!==0;){if(!G&&n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,He(n,"tab characters must not be used in indentation")),o=n.input.charCodeAt(n.position+1),u=n.line,(W===63||W===58)&&Ko(o))W===63?(G&&(ep(n,k,C,M,A,null,d,f,m),M=A=F=null),H=!0,G=!0,l=!0):G?(G=!1,l=!0):He(n,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),n.position+=1,W=o;else{if(d=n.line,f=n.lineStart,m=n.position,!bp(n,t,NC,!1,!0))break;if(n.line===u){for(W=n.input.charCodeAt(n.position);yh(W);)W=n.input.charCodeAt(++n.position);if(W===58)W=n.input.charCodeAt(++n.position),Ko(W)||He(n,"a whitespace character is expected after the key-value separator within a block mapping"),G&&(ep(n,k,C,M,A,null,d,f,m),M=A=F=null),H=!0,G=!1,l=!1,M=n.tag,A=n.result;else if(H)He(n,"can not read an implicit mapping pair; a colon is missed");else return n.tag=v,n.anchor=_,!0}else if(H)He(n,"can not read a block mapping entry; a multiline key may not be an implicit key");else return n.tag=v,n.anchor=_,!0}if((n.line===u||n.lineIndent>r)&&(G&&(d=n.line,f=n.lineStart,m=n.position),bp(n,r,Gv,!0,l)&&(G?A=n.result:F=n.result),G||(ep(n,k,C,M,A,F,d,f,m),M=A=F=null),xn(n,!0,-1),W=n.input.charCodeAt(n.position)),(n.line===u||n.lineIndent>r)&&W!==0)He(n,"bad indentation of a mapping entry");else if(n.lineIndent<r)break}return G&&ep(n,k,C,M,A,null,d,f,m),H&&(n.tag=v,n.anchor=_,n.kind="mapping",n.result=k),H}function kD(n){var r,t=!1,o=!1,l,u,d;if(d=n.input.charCodeAt(n.position),d!==33)return!1;if(n.tag!==null&&He(n,"duplication of a tag property"),d=n.input.charCodeAt(++n.position),d===60?(t=!0,d=n.input.charCodeAt(++n.position)):d===33?(o=!0,l="!!",d=n.input.charCodeAt(++n.position)):l="!",r=n.position,t){do d=n.input.charCodeAt(++n.position);while(d!==0&&d!==62);n.position<n.length?(u=n.input.slice(r,n.position),d=n.input.charCodeAt(++n.position)):He(n,"unexpected end of the stream within a verbatim tag")}else{for(;d!==0&&!Ko(d);)d===33&&(o?He(n,"tag suffix cannot contain exclamation marks"):(l=n.input.slice(r-1,n.position+1),FC.test(l)||He(n,"named tag handle cannot contain such characters"),o=!0,r=n.position+1)),d=n.input.charCodeAt(++n.position);u=n.input.slice(r,n.position),hD.test(u)&&He(n,"tag suffix cannot contain flow indicator characters")}u&&!BC.test(u)&&He(n,"tag name cannot contain such characters: "+u);try{u=decodeURIComponent(u)}catch{He(n,"tag name is malformed: "+u)}return t?n.tag=u:fu.call(n.tagMap,l)?n.tag=n.tagMap[l]+u:l==="!"?n.tag="!"+u:l==="!!"?n.tag="tag:yaml.org,2002:"+u:He(n,'undeclared tag handle "'+l+'"'),!0}function ED(n){var r,t;if(t=n.input.charCodeAt(n.position),t!==38)return!1;for(n.anchor!==null&&He(n,"duplication of an anchor property"),t=n.input.charCodeAt(++n.position),r=n.position;t!==0&&!Ko(t)&&!tp(t);)t=n.input.charCodeAt(++n.position);return n.position===r&&He(n,"name of an anchor node must contain at least one character"),n.anchor=n.input.slice(r,n.position),!0}function TD(n){var r,t,o;if(o=n.input.charCodeAt(n.position),o!==42)return!1;for(o=n.input.charCodeAt(++n.position),r=n.position;o!==0&&!Ko(o)&&!tp(o);)o=n.input.charCodeAt(++n.position);return n.position===r&&He(n,"name of an alias node must contain at least one character"),t=n.input.slice(r,n.position),fu.call(n.anchorMap,t)||He(n,'unidentified alias "'+t+'"'),n.result=n.anchorMap[t],xn(n,!0,-1),!0}function bp(n,r,t,o,l){var u,d,f,m=1,v=!1,_=!1,k,C,M,A,F,G;if(n.listener!==null&&n.listener("open",n),n.tag=null,n.anchor=null,n.kind=null,n.result=null,u=d=f=Gv===t||DC===t,o&&xn(n,!0,-1)&&(v=!0,n.lineIndent>r?m=1:n.lineIndent===r?m=0:n.lineIndent<r&&(m=-1)),m===1)for(;kD(n)||ED(n);)xn(n,!0,-1)?(v=!0,f=u,n.lineIndent>r?m=1:n.lineIndent===r?m=0:n.lineIndent<r&&(m=-1)):f=!1;if(f&&(f=v||l),(m===1||Gv===t)&&(Uv===t||NC===t?F=r:F=r+1,G=n.position-n.lineStart,m===1?f&&(rT(n,G)||_D(n,G,F))||wD(n,F)?_=!0:(d&&xD(n,F)||yD(n,F)||bD(n,F)?_=!0:TD(n)?(_=!0,(n.tag!==null||n.anchor!==null)&&He(n,"alias node should not have any properties")):vD(n,F,Uv===t)&&(_=!0,n.tag===null&&(n.tag="?")),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):m===0&&(_=f&&rT(n,G))),n.tag===null)n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);else if(n.tag==="?"){for(n.result!==null&&n.kind!=="scalar"&&He(n,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+n.kind+'"'),k=0,C=n.implicitTypes.length;k<C;k+=1)if(A=n.implicitTypes[k],A.resolve(n.result)){n.result=A.construct(n.result),n.tag=A.tag,n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);break}}else if(n.tag!=="!"){if(fu.call(n.typeMap[n.kind||"fallback"],n.tag))A=n.typeMap[n.kind||"fallback"][n.tag];else for(A=null,M=n.typeMap.multi[n.kind||"fallback"],k=0,C=M.length;k<C;k+=1)if(n.tag.slice(0,M[k].tag.length)===M[k].tag){A=M[k];break}A||He(n,"unknown tag !<"+n.tag+">"),n.result!==null&&A.kind!==n.kind&&He(n,"unacceptable node kind for !<"+n.tag+'> tag; it should be "'+A.kind+'", not "'+n.kind+'"'),A.resolve(n.result,n.tag)?(n.result=A.construct(n.result,n.tag),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):He(n,"cannot resolve a node with !<"+n.tag+"> explicit tag")}return n.listener!==null&&n.listener("close",n),n.tag!==null||n.anchor!==null||_}function SD(n){var r=n.position,t,o,l,u=!1,d;for(n.version=null,n.checkLineBreaks=n.legacy,n.tagMap=Object.create(null),n.anchorMap=Object.create(null);(d=n.input.charCodeAt(n.position))!==0&&(xn(n,!0,-1),d=n.input.charCodeAt(n.position),!(n.lineIndent>0||d!==37));){for(u=!0,d=n.input.charCodeAt(++n.position),t=n.position;d!==0&&!Ko(d);)d=n.input.charCodeAt(++n.position);for(o=n.input.slice(t,n.position),l=[],o.length<1&&He(n,"directive name must not be less than one character in length");d!==0;){for(;yh(d);)d=n.input.charCodeAt(++n.position);if(d===35){do d=n.input.charCodeAt(++n.position);while(d!==0&&!dl(d));break}if(dl(d))break;for(t=n.position;d!==0&&!Ko(d);)d=n.input.charCodeAt(++n.position);l.push(n.input.slice(t,n.position))}d!==0&&Lx(n),fu.call(tT,o)?tT[o](n,o,l):qv(n,'unknown document directive "'+o+'"')}if(xn(n,!0,-1),n.lineIndent===0&&n.input.charCodeAt(n.position)===45&&n.input.charCodeAt(n.position+1)===45&&n.input.charCodeAt(n.position+2)===45?(n.position+=3,xn(n,!0,-1)):u&&He(n,"directives end mark is expected"),bp(n,n.lineIndent-1,Gv,!1,!0),xn(n,!0,-1),n.checkLineBreaks&&uD.test(n.input.slice(r,n.position))&&qv(n,"non-ASCII line breaks are interpreted as content"),n.documents.push(n.result),n.position===n.lineStart&&My(n)){n.input.charCodeAt(n.position)===46&&(n.position+=3,xn(n,!0,-1));return}if(n.position<n.length-1)He(n,"end of the stream or a document separator is expected");else return}function GC(n,r){n=String(n),r=r||{},n.length!==0&&(n.charCodeAt(n.length-1)!==10&&n.charCodeAt(n.length-1)!==13&&(n+=`
`),n.charCodeAt(0)===65279&&(n=n.slice(1)));var t=new mD(n,r),o=n.indexOf("\0");for(o!==-1&&(t.position=o,He(t,"null byte is not allowed in input")),t.input+="\0";t.input.charCodeAt(t.position)===32;)t.lineIndent+=1,t.position+=1;for(;t.position<t.length-1;)SD(t);return t.documents}function CD(n,r,t){r!==null&&typeof r=="object"&&typeof t>"u"&&(t=r,r=null);var o=GC(n,t);if(typeof r!="function")return o;for(var l=0,u=o.length;l<u;l+=1)r(o[l])}function PD(n,r){var t=GC(n,r);if(t.length!==0){if(t.length===1)return t[0];throw new rc("expected a single document in the stream, but found more")}}var MD=CD,ID=PD,LD={loadAll:MD,load:ID},RD=LD.load;const AD=globalThis.window;let Rw=RD(AD.options);var VT;const bh=((VT=Rw==null?void 0:Rw.defaults)==null?void 0:VT.iiifServer)||"iiif.mdpress.io";console.log(`iiifServer=${bh}`);function Aw(n){return/^Q\d+$/.test(n)}function OD(n){return n.replace(/-([a-z])/g,function(r){return r[1].toUpperCase()})}function y1(){return"ontouchstart"in document.documentElement&&/mobi/i.test(navigator.userAgent)}let Pn={};async function zD(n=[],r="en"){let t=n.filter(o=>!Pn[o]).map(o=>`(<http://www.wikidata.org/entity/${o}>)`);if(t.length>0){let o=`
      SELECT ?item ?label ?description ?alias ?image ?logoImage ?coords ?pageBanner ?whosOnFirst ?wikipedia WHERE {
        VALUES (?item) { ${t.join(" ")} }
        ?item rdfs:label ?label . 
        FILTER (LANG(?label) = "${r}" || LANG(?label) = "en")
        OPTIONAL { ?item schema:description ?description . FILTER (LANG(?description) = "${r}" || LANG(?description) = "en")}
        OPTIONAL { ?item skos:altLabel ?alias . FILTER (LANG(?alias) = "${r}" || LANG(?alias) = "en")}
        OPTIONAL { ?item wdt:P625 ?coords . }
        OPTIONAL { ?item wdt:P18 ?image . }
        OPTIONAL { ?item wdt:P154 ?logoImage . }
        OPTIONAL { ?item wdt:P948 ?pageBanner . }
        OPTIONAL { ?item wdt:P6766 ?whosOnFirst . }
        OPTIONAL { ?wikipedia schema:about ?item; schema:isPartOf <https://${r}.wikipedia.org/> . }
    }`,l=await fetch("https://query.wikidata.org/sparql",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/sparql-results+json"},body:`query=${encodeURIComponent(o)}`});if(l.ok)return(await l.json()).results.bindings.forEach(d=>{let f=d.item.value.split("/").pop();Pn[f]?d.alias&&Pn[f].aliases.push(d.alias.value):(Pn[f]={id:f,label:d.label.value},d.description&&(Pn[f].description=d.description.value),d.alias&&(Pn[f].aliases=[d.alias.value]),d.coords&&(Pn[f].coords=d.coords.value.slice(6,-1).split(" ").reverse().join(",")),d.wikipedia&&(Pn[f].wikipedia=d.wikipedia.value),d.pageBanner&&(Pn[f].pageBanner=d.pageBanner.value),d.image&&(Pn[f].image=d.image.value,Pn[f].thumbnail=iT(d.image.value,300)),d.logoImage&&(Pn[f].logoImage=d.logoImage.value,Pn[f].thumbnail||(Pn[f].thumbnail=iT(d.logoImage.value,300))),d.whosOnFirst&&(Pn[f].geojson=ND(d.whosOnFirst.value)))}),Object.fromEntries(n.filter(d=>Pn[d]).map(d=>[d,Pn[d]]))}return Object.fromEntries(n.filter(o=>Pn[o]).map(o=>[o,Pn[o]]))}function iT(n,r){n=(Array.isArray(n)?n[0]:n).replace(/Special:FilePath\//,"File:").split("File:").pop(),n=decodeURIComponent(n).replace(/ /g,"_");const t=on.hashStr(n),o=n.split(".").pop();let l=`https://upload.wikimedia.org/wikipedia/commons${r?"/thumb":""}`;return l+=`/${t.slice(0,1)}/${t.slice(0,2)}/${n}`,r&&(l+=`/${r}px-${n}`,o==="svg"?l+=".png":(o==="tif"||o==="tiff")&&(l+=".jpg")),l}function ND(n){let r=[];for(let t=0;t<n.length;t+=3)r.push(n.slice(t,t+3));return`https://data.whosonfirst.org/${r.join("/")}/${n}.geojson`}async function DD(n,r,t){return new Promise(o=>{let{x:l,y:u,w:d,h:f}=r,{width:m,height:v}=t,_=new Image;_.crossOrigin="anonymous",l=l?l/100:0,u=u?u/100:0,d=d?d/100:0,f=f?f/100:0,_.onload=()=>{let k=_.width,C=_.height,M=d>0?k*d:k-k*l,A=f>0?C*f:C-C*u,F=M/A;F>1?v=m/F:m=v*F;const G=document.createElement("canvas"),H=G.getContext("2d");G.width=m,G.height=v,l=l*k,u=u*C,H==null||H.drawImage(_,l,u,M,A,0,0,m,v);let W=G.toDataURL();o(W)},_.src=n})}async function qd(n,r="en"){return(await zD([n],r))[n]}function qC(n,r,t=[]){if(t=t||[],r.items)for(let o=0;o<r.items.length;o++){let l=r.items[o];!Object.entries(n).find(([d,f])=>l[d]&&l[d]!==f)?t.push(l):qC(n,l,t)}return t}function VC(n,r,t=1){const o=qC(n,r);return o.length>=t?o[t-1]:null}function WC(n,r=1){return VC({type:"Annotation",motivation:"painting"},n,r).body}function FD(n){let r=(n==null?void 0:n.split("/"))||[],t="full",o="full",l="0",u="default",d="jpg",f=0;return{region:r.length>f&&r[f]?r[f]:t,size:r.length>f+1&&r[f+1]?r[f+1]:o,rotation:r.length>f+2&&r[f+2]?r[f+2]:l,quality:r.length>f+3&&r[f+3]?r[f+3]:u,format:r.length>f+4&&r[f+4]?r[f+4]:d}}const Z0={};async function Ax(n,r=!1){let t=n.map(l=>l.indexOf("http")===0?l:`https://${bh}/${l}/manifest.json`),o=t.filter(l=>!Z0[l]);if(console.log(`loadManifests: manifests=${t.length} cached=${t.length-o.length}`),o.length>0){let l=o.map(f=>(r&&["localhost",bh].includes(new URL(f).hostname)&&(f+="?refresh"),fetch(f))),u=await Promise.all(l),d=await Promise.all(u.map(f=>f.json()));if(l=d.filter(f=>!Array.isArray(f["@context"])&&parseFloat(f["@context"].split("/").slice(-2,-1).pop())<3).map(f=>fetch(`https://${bh}/prezi2to3/`,{method:"POST",body:JSON.stringify(f)})),l.length>0){u=await Promise.all(l);let f=await Promise.all(u.map(m=>m.json()));for(let m=0;m<d.length;m++){let v=d[m].id||d[m]["@id"],_=f.find(k=>(k.id||k["@id"])===v);_&&(d[m]=_)}}return d.forEach((f,m)=>Z0[o[m]]=f),t.map(f=>Z0[f])}else return t.map(l=>Z0[l])}async function Vv(n,r=!1){let t=n.indexOf("http")===0?n:`https://${bh}/${n}/manifest.json`;return(await Ax([t],r))[0]}const BD=["id"],jD=["src","onClick"],HD=["src"],UD=Ro({__name:"Gallery.ce",props:{data:{type:String},ghDir:{type:String},dialogWidth:{type:String,default:"100vw"}},setup(n){const r=n,t=me(null),o=Xe(()=>{var W,j;return(j=(W=t.value)==null?void 0:W.getRootNode())==null?void 0:j.host});er(o,()=>{F()});const l=Xe(()=>{var W;return(W=t==null?void 0:t.value)==null?void 0:W.parentNode}),u=me([]);er(u,async W=>{d.value=await Ax(W)});const d=me([]);er(d,W=>{console.log(ti(W)),f.value=W.map(j=>{var ct;let V=VC({type:"Annotation",motivation:"painting"},j,1).body,nt=((ct=j.metadata)==null?void 0:ct.filter(Z=>(Z.label.en||Z.label.none)[0]==="orientation").map(Z=>(Z.value.en||Z.value.none)[0])[0])||1;nt=Array.isArray(nt)?nt[0]:nt;let gt=nt===1||nt===3?V.width:V.height,pt=nt===1||nt===3?V.height:V.width;return{id:j.id,label:j.label,summary:j.summary,width:gt,height:pt,format:V.format,orientation:nt,aspect_ratio:Number((gt/pt).toFixed(4)),thumbnail:j.thumbnail[0].id}})});const f=me([]);er(f,W=>{console.log(ti(W)),G()});const m=me(null);er(m,()=>{M.value=m.value!==null});const v=me(0),_=me([]);let k,C;const M=me(!1);er(M,()=>{C.open=M.value});function A(W){let j=W.split("/"),V=j[j.length-1],nt=V.lastIndexOf("."),gt=V.slice(0,nt),pt=V.slice(nt+1);return j[j.length-1]=`${encodeURIComponent(gt)}.${pt}`,W=j.join("/"),W.indexOf("http")===0?W:`https://iiif.mdpress.io/${W}/manifest.json`}function F(){if(r.data){let W=document.getElementById(r.data);u.value=Array.from(W.querySelectorAll("li")).map(j=>j.textContent).map(j=>A(j))}else if(r.ghDir){let W=r.ghDir[0]==="/"?r.ghDir.slice(1):r.ghDir;fetch(`https://iiif.mdpress.io/gh-dir/${W}?filter=images`).then(j=>j.json()).then(j=>{u.value=j.map(V=>`https://iiif.mdpress.io/gh:${r.ghDir}/${V.name}/manifest.json`)})}else{let W=function(){u.value=Array.from(j.querySelectorAll("li")).map(V=>V.innerText).map(V=>A(V))},j=o.value.parentElement;W(),new MutationObserver(V=>{for(let nt of V)nt.type==="childList"&&W()}).observe(j,{childList:!0,subtree:!0})}}function G(){if(console.log(`doLayout: width=${v.value} images=${f.value.length}`),f.value.length===0)return;let W=f.value.length;const j=v.value<=640?2:v.value<=960?3:v.value<=1280?4:v.value<=1920?5:6;let V=[],nt=y1()?8:16,gt=[],pt=0,ct=0,Z=0;f.value.forEach((at,ft)=>{if(Z+=at.aspect_ratio,gt.push(at),Z>=j||ft+1===W){Z=Math.max(Z,j);const Qt=(v.value-nt*(gt.length-1))/Z;gt.forEach(re=>{const pe=Qt*re.aspect_ratio;V.push({width:`${Math.round(pe)}px`,height:`${Math.round(Qt)}px`,transform:`translate3d(${Math.round(pt)}px, ${Math.round(ct)}px, 0)`}),pt+=pe+nt}),gt=[],Z=0,ct+=Qt+nt,pt=0}}),t.value&&(t.value.style.height=`${ct-nt}px`),_.value=V}function H(W){let j=d.value[W];console.log(ti(j)),m.value=f.value[W]}return ta(()=>{var W;C=(W=l.value)==null?void 0:W.querySelector(".dialog"),C.addEventListener("sl-hide",j=>M.value=!1)}),er(t,()=>{var W;t.value&&(v.value=((W=t.value)==null?void 0:W.clientWidth)||0,new ResizeObserver(()=>{var V,nt,gt;(V=t.value)!=null&&V.clientWidth&&((nt=t.value)==null?void 0:nt.clientWidth)!==v.value&&(v.value=(gt=t.value)==null?void 0:gt.clientWidth,clearTimeout(k),k=setTimeout(G,10))}).observe(t.value))}),(W,j)=>(ke(),Ce(Fi,null,[Xt("div",{ref_key:"root",ref:t,id:"image-grid"},[_.value.length>0?(ke(!0),Ce(Fi,{key:0},nu(f.value,(V,nt)=>(ke(),Ce("div",{class:"pig-figure",id:f.value.id,style:au(_.value[nt])},[Xt("img",{class:"image",onload:"this.style.opacity = 1",src:f.value[nt].thumbnail,onClick:gt=>H(nt)},null,8,jD)],12,BD))),256)):ii("",!0)],512),Xt("sl-dialog",{class:"dialog","no-header":"",style:au({"--width":n.dialogWidth,"--body-spacing":0,"--footer-spacing":"0.5em"})},[m.value?(ke(),Ce("mdp-image",{key:0,"no-caption":"",src:m.value.id,fit:"cover"},null,8,HD)):ii("",!0),Xt("sl-button",{slot:"footer",variant:"primary",onClick:j[0]||(j[0]=V=>m.value=null)},"Close")],4)],64))}}),GD=`:root,:host,.sl-theme-light{color-scheme:light;--sl-color-gray-50: hsl(0 0% 97.5%);--sl-color-gray-100: hsl(240 4.8% 95.9%);--sl-color-gray-200: hsl(240 5.9% 90%);--sl-color-gray-300: hsl(240 4.9% 83.9%);--sl-color-gray-400: hsl(240 5% 64.9%);--sl-color-gray-500: hsl(240 3.8% 46.1%);--sl-color-gray-600: hsl(240 5.2% 33.9%);--sl-color-gray-700: hsl(240 5.3% 26.1%);--sl-color-gray-800: hsl(240 3.7% 15.9%);--sl-color-gray-900: hsl(240 5.9% 10%);--sl-color-gray-950: hsl(240 7.3% 8%);--sl-color-red-50: hsl(0 85.7% 97.3%);--sl-color-red-100: hsl(0 93.3% 94.1%);--sl-color-red-200: hsl(0 96.3% 89.4%);--sl-color-red-300: hsl(0 93.5% 81.8%);--sl-color-red-400: hsl(0 90.6% 70.8%);--sl-color-red-500: hsl(0 84.2% 60.2%);--sl-color-red-600: hsl(0 72.2% 50.6%);--sl-color-red-700: hsl(0 73.7% 41.8%);--sl-color-red-800: hsl(0 70% 35.3%);--sl-color-red-900: hsl(0 62.8% 30.6%);--sl-color-red-950: hsl(0 60% 19.6%);--sl-color-orange-50: hsl(33.3 100% 96.5%);--sl-color-orange-100: hsl(34.3 100% 91.8%);--sl-color-orange-200: hsl(32.1 97.7% 83.1%);--sl-color-orange-300: hsl(30.7 97.2% 72.4%);--sl-color-orange-400: hsl(27 96% 61%);--sl-color-orange-500: hsl(24.6 95% 53.1%);--sl-color-orange-600: hsl(20.5 90.2% 48.2%);--sl-color-orange-700: hsl(17.5 88.3% 40.4%);--sl-color-orange-800: hsl(15 79.1% 33.7%);--sl-color-orange-900: hsl(15.3 74.6% 27.8%);--sl-color-orange-950: hsl(15.2 69.1% 19%);--sl-color-amber-50: hsl(48 100% 96.1%);--sl-color-amber-100: hsl(48 96.5% 88.8%);--sl-color-amber-200: hsl(48 96.6% 76.7%);--sl-color-amber-300: hsl(45.9 96.7% 64.5%);--sl-color-amber-400: hsl(43.3 96.4% 56.3%);--sl-color-amber-500: hsl(37.7 92.1% 50.2%);--sl-color-amber-600: hsl(32.1 94.6% 43.7%);--sl-color-amber-700: hsl(26 90.5% 37.1%);--sl-color-amber-800: hsl(22.7 82.5% 31.4%);--sl-color-amber-900: hsl(21.7 77.8% 26.5%);--sl-color-amber-950: hsl(22.9 74.1% 16.7%);--sl-color-yellow-50: hsl(54.5 91.7% 95.3%);--sl-color-yellow-100: hsl(54.9 96.7% 88%);--sl-color-yellow-200: hsl(52.8 98.3% 76.9%);--sl-color-yellow-300: hsl(50.4 97.8% 63.5%);--sl-color-yellow-400: hsl(47.9 95.8% 53.1%);--sl-color-yellow-500: hsl(45.4 93.4% 47.5%);--sl-color-yellow-600: hsl(40.6 96.1% 40.4%);--sl-color-yellow-700: hsl(35.5 91.7% 32.9%);--sl-color-yellow-800: hsl(31.8 81% 28.8%);--sl-color-yellow-900: hsl(28.4 72.5% 25.7%);--sl-color-yellow-950: hsl(33.1 69% 13.9%);--sl-color-lime-50: hsl(78.3 92% 95.1%);--sl-color-lime-100: hsl(79.6 89.1% 89.2%);--sl-color-lime-200: hsl(80.9 88.5% 79.6%);--sl-color-lime-300: hsl(82 84.5% 67.1%);--sl-color-lime-400: hsl(82.7 78% 55.5%);--sl-color-lime-500: hsl(83.7 80.5% 44.3%);--sl-color-lime-600: hsl(84.8 85.2% 34.5%);--sl-color-lime-700: hsl(85.9 78.4% 27.3%);--sl-color-lime-800: hsl(86.3 69% 22.7%);--sl-color-lime-900: hsl(87.6 61.2% 20.2%);--sl-color-lime-950: hsl(86.5 60.6% 13.9%);--sl-color-green-50: hsl(138.5 76.5% 96.7%);--sl-color-green-100: hsl(140.6 84.2% 92.5%);--sl-color-green-200: hsl(141 78.9% 85.1%);--sl-color-green-300: hsl(141.7 76.6% 73.1%);--sl-color-green-400: hsl(141.9 69.2% 58%);--sl-color-green-500: hsl(142.1 70.6% 45.3%);--sl-color-green-600: hsl(142.1 76.2% 36.3%);--sl-color-green-700: hsl(142.4 71.8% 29.2%);--sl-color-green-800: hsl(142.8 64.2% 24.1%);--sl-color-green-900: hsl(143.8 61.2% 20.2%);--sl-color-green-950: hsl(144.3 60.7% 12%);--sl-color-emerald-50: hsl(151.8 81% 95.9%);--sl-color-emerald-100: hsl(149.3 80.4% 90%);--sl-color-emerald-200: hsl(152.4 76% 80.4%);--sl-color-emerald-300: hsl(156.2 71.6% 66.9%);--sl-color-emerald-400: hsl(158.1 64.4% 51.6%);--sl-color-emerald-500: hsl(160.1 84.1% 39.4%);--sl-color-emerald-600: hsl(161.4 93.5% 30.4%);--sl-color-emerald-700: hsl(162.9 93.5% 24.3%);--sl-color-emerald-800: hsl(163.1 88.1% 19.8%);--sl-color-emerald-900: hsl(164.2 85.7% 16.5%);--sl-color-emerald-950: hsl(164.3 87.5% 9.4%);--sl-color-teal-50: hsl(166.2 76.5% 96.7%);--sl-color-teal-100: hsl(167.2 85.5% 89.2%);--sl-color-teal-200: hsl(168.4 83.8% 78.2%);--sl-color-teal-300: hsl(170.6 76.9% 64.3%);--sl-color-teal-400: hsl(172.5 66% 50.4%);--sl-color-teal-500: hsl(173.4 80.4% 40%);--sl-color-teal-600: hsl(174.7 83.9% 31.6%);--sl-color-teal-700: hsl(175.3 77.4% 26.1%);--sl-color-teal-800: hsl(176.1 69.4% 21.8%);--sl-color-teal-900: hsl(175.9 60.8% 19%);--sl-color-teal-950: hsl(176.5 58.6% 11.4%);--sl-color-cyan-50: hsl(183.2 100% 96.3%);--sl-color-cyan-100: hsl(185.1 95.9% 90.4%);--sl-color-cyan-200: hsl(186.2 93.5% 81.8%);--sl-color-cyan-300: hsl(187 92.4% 69%);--sl-color-cyan-400: hsl(187.9 85.7% 53.3%);--sl-color-cyan-500: hsl(188.7 94.5% 42.7%);--sl-color-cyan-600: hsl(191.6 91.4% 36.5%);--sl-color-cyan-700: hsl(192.9 82.3% 31%);--sl-color-cyan-800: hsl(194.4 69.6% 27.1%);--sl-color-cyan-900: hsl(196.4 63.6% 23.7%);--sl-color-cyan-950: hsl(196.8 61% 16.1%);--sl-color-sky-50: hsl(204 100% 97.1%);--sl-color-sky-100: hsl(204 93.8% 93.7%);--sl-color-sky-200: hsl(200.6 94.4% 86.1%);--sl-color-sky-300: hsl(199.4 95.5% 73.9%);--sl-color-sky-400: hsl(198.4 93.2% 59.6%);--sl-color-sky-500: hsl(198.6 88.7% 48.4%);--sl-color-sky-600: hsl(200.4 98% 39.4%);--sl-color-sky-700: hsl(201.3 96.3% 32.2%);--sl-color-sky-800: hsl(201 90% 27.5%);--sl-color-sky-900: hsl(202 80.3% 23.9%);--sl-color-sky-950: hsl(202.3 73.8% 16.5%);--sl-color-blue-50: hsl(213.8 100% 96.9%);--sl-color-blue-100: hsl(214.3 94.6% 92.7%);--sl-color-blue-200: hsl(213.3 96.9% 87.3%);--sl-color-blue-300: hsl(211.7 96.4% 78.4%);--sl-color-blue-400: hsl(213.1 93.9% 67.8%);--sl-color-blue-500: hsl(217.2 91.2% 59.8%);--sl-color-blue-600: hsl(221.2 83.2% 53.3%);--sl-color-blue-700: hsl(224.3 76.3% 48%);--sl-color-blue-800: hsl(225.9 70.7% 40.2%);--sl-color-blue-900: hsl(224.4 64.3% 32.9%);--sl-color-blue-950: hsl(226.2 55.3% 18.4%);--sl-color-indigo-50: hsl(225.9 100% 96.7%);--sl-color-indigo-100: hsl(226.5 100% 93.9%);--sl-color-indigo-200: hsl(228 96.5% 88.8%);--sl-color-indigo-300: hsl(229.7 93.5% 81.8%);--sl-color-indigo-400: hsl(234.5 89.5% 73.9%);--sl-color-indigo-500: hsl(238.7 83.5% 66.7%);--sl-color-indigo-600: hsl(243.4 75.4% 58.6%);--sl-color-indigo-700: hsl(244.5 57.9% 50.6%);--sl-color-indigo-800: hsl(243.7 54.5% 41.4%);--sl-color-indigo-900: hsl(242.2 47.4% 34.3%);--sl-color-indigo-950: hsl(243.5 43.6% 22.9%);--sl-color-violet-50: hsl(250 100% 97.6%);--sl-color-violet-100: hsl(251.4 91.3% 95.5%);--sl-color-violet-200: hsl(250.5 95.2% 91.8%);--sl-color-violet-300: hsl(252.5 94.7% 85.1%);--sl-color-violet-400: hsl(255.1 91.7% 76.3%);--sl-color-violet-500: hsl(258.3 89.5% 66.3%);--sl-color-violet-600: hsl(262.1 83.3% 57.8%);--sl-color-violet-700: hsl(263.4 70% 50.4%);--sl-color-violet-800: hsl(263.4 69.3% 42.2%);--sl-color-violet-900: hsl(263.5 67.4% 34.9%);--sl-color-violet-950: hsl(265.1 61.5% 21.4%);--sl-color-purple-50: hsl(270 100% 98%);--sl-color-purple-100: hsl(268.7 100% 95.5%);--sl-color-purple-200: hsl(268.6 100% 91.8%);--sl-color-purple-300: hsl(269.2 97.4% 85.1%);--sl-color-purple-400: hsl(270 95.2% 75.3%);--sl-color-purple-500: hsl(270.7 91% 65.1%);--sl-color-purple-600: hsl(271.5 81.3% 55.9%);--sl-color-purple-700: hsl(272.1 71.7% 47.1%);--sl-color-purple-800: hsl(272.9 67.2% 39.4%);--sl-color-purple-900: hsl(273.6 65.6% 32%);--sl-color-purple-950: hsl(276 59.5% 16.5%);--sl-color-fuchsia-50: hsl(289.1 100% 97.8%);--sl-color-fuchsia-100: hsl(287 100% 95.5%);--sl-color-fuchsia-200: hsl(288.3 95.8% 90.6%);--sl-color-fuchsia-300: hsl(291.1 93.1% 82.9%);--sl-color-fuchsia-400: hsl(292 91.4% 72.5%);--sl-color-fuchsia-500: hsl(292.2 84.1% 60.6%);--sl-color-fuchsia-600: hsl(293.4 69.5% 48.8%);--sl-color-fuchsia-700: hsl(294.7 72.4% 39.8%);--sl-color-fuchsia-800: hsl(295.4 70.2% 32.9%);--sl-color-fuchsia-900: hsl(296.7 63.6% 28%);--sl-color-fuchsia-950: hsl(297.1 56.8% 14.5%);--sl-color-pink-50: hsl(327.3 73.3% 97.1%);--sl-color-pink-100: hsl(325.7 77.8% 94.7%);--sl-color-pink-200: hsl(325.9 84.6% 89.8%);--sl-color-pink-300: hsl(327.4 87.1% 81.8%);--sl-color-pink-400: hsl(328.6 85.5% 70.2%);--sl-color-pink-500: hsl(330.4 81.2% 60.4%);--sl-color-pink-600: hsl(333.3 71.4% 50.6%);--sl-color-pink-700: hsl(335.1 77.6% 42%);--sl-color-pink-800: hsl(335.8 74.4% 35.3%);--sl-color-pink-900: hsl(335.9 69% 30.4%);--sl-color-pink-950: hsl(336.2 65.4% 15.9%);--sl-color-rose-50: hsl(355.7 100% 97.3%);--sl-color-rose-100: hsl(355.6 100% 94.7%);--sl-color-rose-200: hsl(352.7 96.1% 90%);--sl-color-rose-300: hsl(352.6 95.7% 81.8%);--sl-color-rose-400: hsl(351.3 94.5% 71.4%);--sl-color-rose-500: hsl(349.7 89.2% 60.2%);--sl-color-rose-600: hsl(346.8 77.2% 49.8%);--sl-color-rose-700: hsl(345.3 82.7% 40.8%);--sl-color-rose-800: hsl(343.4 79.7% 34.7%);--sl-color-rose-900: hsl(341.5 75.5% 30.4%);--sl-color-rose-950: hsl(341.3 70.1% 17.1%);--sl-color-primary-50: var(--sl-color-sky-50);--sl-color-primary-100: var(--sl-color-sky-100);--sl-color-primary-200: var(--sl-color-sky-200);--sl-color-primary-300: var(--sl-color-sky-300);--sl-color-primary-400: var(--sl-color-sky-400);--sl-color-primary-500: var(--sl-color-sky-500);--sl-color-primary-600: var(--sl-color-sky-600);--sl-color-primary-700: var(--sl-color-sky-700);--sl-color-primary-800: var(--sl-color-sky-800);--sl-color-primary-900: var(--sl-color-sky-900);--sl-color-primary-950: var(--sl-color-sky-950);--sl-color-success-50: var(--sl-color-green-50);--sl-color-success-100: var(--sl-color-green-100);--sl-color-success-200: var(--sl-color-green-200);--sl-color-success-300: var(--sl-color-green-300);--sl-color-success-400: var(--sl-color-green-400);--sl-color-success-500: var(--sl-color-green-500);--sl-color-success-600: var(--sl-color-green-600);--sl-color-success-700: var(--sl-color-green-700);--sl-color-success-800: var(--sl-color-green-800);--sl-color-success-900: var(--sl-color-green-900);--sl-color-success-950: var(--sl-color-green-950);--sl-color-warning-50: var(--sl-color-amber-50);--sl-color-warning-100: var(--sl-color-amber-100);--sl-color-warning-200: var(--sl-color-amber-200);--sl-color-warning-300: var(--sl-color-amber-300);--sl-color-warning-400: var(--sl-color-amber-400);--sl-color-warning-500: var(--sl-color-amber-500);--sl-color-warning-600: var(--sl-color-amber-600);--sl-color-warning-700: var(--sl-color-amber-700);--sl-color-warning-800: var(--sl-color-amber-800);--sl-color-warning-900: var(--sl-color-amber-900);--sl-color-warning-950: var(--sl-color-amber-950);--sl-color-danger-50: var(--sl-color-red-50);--sl-color-danger-100: var(--sl-color-red-100);--sl-color-danger-200: var(--sl-color-red-200);--sl-color-danger-300: var(--sl-color-red-300);--sl-color-danger-400: var(--sl-color-red-400);--sl-color-danger-500: var(--sl-color-red-500);--sl-color-danger-600: var(--sl-color-red-600);--sl-color-danger-700: var(--sl-color-red-700);--sl-color-danger-800: var(--sl-color-red-800);--sl-color-danger-900: var(--sl-color-red-900);--sl-color-danger-950: var(--sl-color-red-950);--sl-color-neutral-50: var(--sl-color-gray-50);--sl-color-neutral-100: var(--sl-color-gray-100);--sl-color-neutral-200: var(--sl-color-gray-200);--sl-color-neutral-300: var(--sl-color-gray-300);--sl-color-neutral-400: var(--sl-color-gray-400);--sl-color-neutral-500: var(--sl-color-gray-500);--sl-color-neutral-600: var(--sl-color-gray-600);--sl-color-neutral-700: var(--sl-color-gray-700);--sl-color-neutral-800: var(--sl-color-gray-800);--sl-color-neutral-900: var(--sl-color-gray-900);--sl-color-neutral-950: var(--sl-color-gray-950);--sl-color-neutral-0: hsl(0, 0%, 100%);--sl-color-neutral-1000: hsl(0, 0%, 0%);--sl-border-radius-small: .1875rem;--sl-border-radius-medium: .25rem;--sl-border-radius-large: .5rem;--sl-border-radius-x-large: 1rem;--sl-border-radius-circle: 50%;--sl-border-radius-pill: 9999px;--sl-shadow-x-small: 0 1px 2px hsl(240 3.8% 46.1% / 6%);--sl-shadow-small: 0 1px 2px hsl(240 3.8% 46.1% / 12%);--sl-shadow-medium: 0 2px 4px hsl(240 3.8% 46.1% / 12%);--sl-shadow-large: 0 2px 8px hsl(240 3.8% 46.1% / 12%);--sl-shadow-x-large: 0 4px 16px hsl(240 3.8% 46.1% / 12%);--sl-spacing-3x-small: .125rem;--sl-spacing-2x-small: .25rem;--sl-spacing-x-small: .5rem;--sl-spacing-small: .75rem;--sl-spacing-medium: 1rem;--sl-spacing-large: 1.25rem;--sl-spacing-x-large: 1.75rem;--sl-spacing-2x-large: 2.25rem;--sl-spacing-3x-large: 3rem;--sl-spacing-4x-large: 4.5rem;--sl-transition-x-slow: 1s;--sl-transition-slow: .5s;--sl-transition-medium: .25s;--sl-transition-fast: .15s;--sl-transition-x-fast: 50ms;--sl-font-mono: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;--sl-font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--sl-font-serif: Georgia, "Times New Roman", serif;--sl-font-size-2x-small: .625rem;--sl-font-size-x-small: .75rem;--sl-font-size-small: .875rem;--sl-font-size-medium: 1rem;--sl-font-size-large: 1.25rem;--sl-font-size-x-large: 1.5rem;--sl-font-size-2x-large: 2.25rem;--sl-font-size-3x-large: 3rem;--sl-font-size-4x-large: 4.5rem;--sl-font-weight-light: 300;--sl-font-weight-normal: 400;--sl-font-weight-semibold: 500;--sl-font-weight-bold: 700;--sl-letter-spacing-denser: -.03em;--sl-letter-spacing-dense: -.015em;--sl-letter-spacing-normal: normal;--sl-letter-spacing-loose: .075em;--sl-letter-spacing-looser: .15em;--sl-line-height-denser: 1;--sl-line-height-dense: 1.4;--sl-line-height-normal: 1.8;--sl-line-height-loose: 2.2;--sl-line-height-looser: 2.6;--sl-focus-ring-color: var(--sl-color-primary-600);--sl-focus-ring-style: solid;--sl-focus-ring-width: 3px;--sl-focus-ring: var(--sl-focus-ring-style) var(--sl-focus-ring-width) var(--sl-focus-ring-color);--sl-focus-ring-offset: 1px;--sl-button-font-size-small: var(--sl-font-size-x-small);--sl-button-font-size-medium: var(--sl-font-size-small);--sl-button-font-size-large: var(--sl-font-size-medium);--sl-input-height-small: 1.875rem;--sl-input-height-medium: 2.5rem;--sl-input-height-large: 3.125rem;--sl-input-background-color: var(--sl-color-neutral-0);--sl-input-background-color-hover: var(--sl-input-background-color);--sl-input-background-color-focus: var(--sl-input-background-color);--sl-input-background-color-disabled: var(--sl-color-neutral-100);--sl-input-border-color: var(--sl-color-neutral-300);--sl-input-border-color-hover: var(--sl-color-neutral-400);--sl-input-border-color-focus: var(--sl-color-primary-500);--sl-input-border-color-disabled: var(--sl-color-neutral-300);--sl-input-border-width: 1px;--sl-input-required-content: "*";--sl-input-required-content-offset: -2px;--sl-input-required-content-color: var(--sl-input-label-color);--sl-input-border-radius-small: var(--sl-border-radius-medium);--sl-input-border-radius-medium: var(--sl-border-radius-medium);--sl-input-border-radius-large: var(--sl-border-radius-medium);--sl-input-font-family: var(--sl-font-sans);--sl-input-font-weight: var(--sl-font-weight-normal);--sl-input-font-size-small: var(--sl-font-size-small);--sl-input-font-size-medium: var(--sl-font-size-medium);--sl-input-font-size-large: var(--sl-font-size-large);--sl-input-letter-spacing: var(--sl-letter-spacing-normal);--sl-input-color: var(--sl-color-neutral-700);--sl-input-color-hover: var(--sl-color-neutral-700);--sl-input-color-focus: var(--sl-color-neutral-700);--sl-input-color-disabled: var(--sl-color-neutral-900);--sl-input-icon-color: var(--sl-color-neutral-500);--sl-input-icon-color-hover: var(--sl-color-neutral-600);--sl-input-icon-color-focus: var(--sl-color-neutral-600);--sl-input-placeholder-color: var(--sl-color-neutral-500);--sl-input-placeholder-color-disabled: var(--sl-color-neutral-600);--sl-input-spacing-small: var(--sl-spacing-small);--sl-input-spacing-medium: var(--sl-spacing-medium);--sl-input-spacing-large: var(--sl-spacing-large);--sl-input-focus-ring-color: hsl(198.6 88.7% 48.4% / 40%);--sl-input-focus-ring-offset: 0;--sl-input-filled-background-color: var(--sl-color-neutral-100);--sl-input-filled-background-color-hover: var(--sl-color-neutral-100);--sl-input-filled-background-color-focus: var(--sl-color-neutral-100);--sl-input-filled-background-color-disabled: var(--sl-color-neutral-100);--sl-input-filled-color: var(--sl-color-neutral-800);--sl-input-filled-color-hover: var(--sl-color-neutral-800);--sl-input-filled-color-focus: var(--sl-color-neutral-700);--sl-input-filled-color-disabled: var(--sl-color-neutral-800);--sl-input-label-font-size-small: var(--sl-font-size-small);--sl-input-label-font-size-medium: var(--sl-font-size-medium);--sl-input-label-font-size-large: var(--sl-font-size-large);--sl-input-label-color: inherit;--sl-input-help-text-font-size-small: var(--sl-font-size-x-small);--sl-input-help-text-font-size-medium: var(--sl-font-size-small);--sl-input-help-text-font-size-large: var(--sl-font-size-medium);--sl-input-help-text-color: var(--sl-color-neutral-500);--sl-toggle-size-small: .875rem;--sl-toggle-size-medium: 1.125rem;--sl-toggle-size-large: 1.375rem;--sl-overlay-background-color: hsl(240 3.8% 46.1% / 33%);--sl-panel-background-color: var(--sl-color-neutral-0);--sl-panel-border-color: var(--sl-color-neutral-200);--sl-panel-border-width: 1px;--sl-tooltip-border-radius: var(--sl-border-radius-medium);--sl-tooltip-background-color: var(--sl-color-neutral-800);--sl-tooltip-color: var(--sl-color-neutral-0);--sl-tooltip-font-family: var(--sl-font-sans);--sl-tooltip-font-weight: var(--sl-font-weight-normal);--sl-tooltip-font-size: var(--sl-font-size-small);--sl-tooltip-line-height: var(--sl-line-height-dense);--sl-tooltip-padding: var(--sl-spacing-2x-small) var(--sl-spacing-x-small);--sl-tooltip-arrow-size: 6px;--sl-z-index-drawer: 700;--sl-z-index-dialog: 800;--sl-z-index-dropdown: 900;--sl-z-index-toast: 950;--sl-z-index-tooltip: 1000}@supports (scrollbar-gutter: stable){.sl-scroll-lock{scrollbar-gutter:stable!important;overflow:hidden!important}}@supports not (scrollbar-gutter: stable){.sl-scroll-lock{padding-right:var(--sl-scroll-lock-size)!important;overflow:hidden!important}}.sl-toast-stack{position:fixed;top:0;inset-inline-end:0;z-index:var(--sl-z-index-toast);width:28rem;max-width:100%;max-height:100%;overflow:auto}.sl-toast-stack sl-alert{margin:var(--sl-spacing-medium)}.sl-toast-stack sl-alert::part(base){box-shadow:var(--sl-shadow-large)}*{box-sizing:border-box}#image-grid{position:relative;margin:1rem}@media only screen and (max-width: 768px){#image-grid{margin:0}}sl-dialog::part(panel){max-width:unset;max-height:unset;height:100dvh}sl-dialog::part(overlay){--sl-overlay-background-color: rgba(100, 100, 100, .8)}sl-dialog::part(footer){background-color:#64646480}.pig-figure{position:absolute;display:flex;flex-direction:column;width:100px;box-shadow:2px 2px 4px #ccc}.pig-figure:hover{box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px}.image{left:0;top:0;width:100%;opacity:0;background-color:#d5d5d5}.image:hover{cursor:pointer}.caption{height:100%;width:100%;z-index:1;padding:6px 3px 3px}.icons{display:flex;align-items:center;gap:6px}.size{width:100%;font-size:.8em;margin-top:3px}.provider-logo{height:20px}.license{cursor:pointer;display:inline-block}.image-card{font-size:.85em;display:flex;flex-direction:column}.title{display:flex;align-items:center;gap:6px;font-size:.9em}.title img{width:16px;opacity:1}.clamp{display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.text{margin:6px 0;height:50px}.text p{margin:0;padding:0}.license{display:flex;align-items:center;gap:3px;font-size:.8em;margin-left:.5rem}a.license{color:#000;text-decoration:none;font-size:.9rem}sl-icon{font-size:1.2rem}.push{margin-left:auto}
`,qD=Es(UD,[["styles",[GD]]]),VD={key:0,class:"logo"},WD=["href"],ZD=["src"],YD={class:"branding"},XD={key:0,class:"title"},KD=["href","innerHTML"],JD=["innerHTML"],QD={class:"search-and-menu"},$D=["search-domain","search-cx","search-key"],t4=["contact","pdf-download-enabled","innerHTML"],e4={key:0},r4=["manifest"],i4=Ro({__name:"Header.ce",props:{alpha:{type:Number},background:{type:String},breadcrumbs:{type:Boolean,default:!1},color:{type:String},contact:{type:String},height:{type:Number},iconFilter:{type:String},logo:{type:String},options:{type:String},pdfDownloadEnabled:{type:Boolean,default:!1},position:{type:String,default:"center"},subtitle:{type:String},searchDomain:{type:String},searchCx:{type:String},searchKey:{type:String},title:{type:String},top:{type:Number,default:0}},setup(n){const r=n,t=self.window,o=me(null),l=Xe(()=>{var Z,at;return(at=(Z=o.value)==null?void 0:Z.getRootNode())==null?void 0:at.host}),u=me(null),d=me(null),f=me(),m=me(t.config||{});er(m,Z=>{console.log("watch.config",Z)});const v=Xe(()=>{var Z;return r.title||((Z=m.value.meta)==null?void 0:Z.title)}),_=Xe(()=>{var Z,at;return r.background||((at=(Z=m.value.defaults)==null?void 0:Z.header)==null?void 0:at.backgroundImage)}),k=Xe(()=>{var at,ft;let Z=r.logo||((ft=(at=m.value.defaults)==null?void 0:at.header)==null?void 0:ft.logo);return Z&&((Z==null?void 0:Z.indexOf("http"))===0?Z:`${m.value.baseurl}/${Z[0]==="/"?Z.slice(1):Z}`)}),C=Xe(()=>{var Z,at;return r.iconFilter===void 0?(at=(Z=m.value.defaults)==null?void 0:Z.header)==null?void 0:at.iconFilter:r.iconFilter}),M=Xe(()=>r.color||(_.value?"black":"#ddd")),A=Xe(()=>{var Z,at;return r.contact||((at=(Z=m.value.defaults)==null?void 0:Z.header)==null?void 0:at.contact)}),F=Xe(()=>{var Z,at;return r.breadcrumbs||((at=(Z=m.value.defaults)==null?void 0:Z.header)==null?void 0:at.breadcrumbs)}),G=Xe(()=>{var Z,at;return r.pdfDownloadEnabled||((at=(Z=m.value.defaults)==null?void 0:Z.header)==null?void 0:at.pdfDownloadEnabled)});er(d,Z=>{Z&&(Z.style.backgroundColor=ct(M.value,r.alpha||(_.value?.3:1)))});const H=me(!1),W=me(),j=me(),V=me(),nt=me();er(l,Z=>{var at,ft;if(m.value=t.config||{},j.value=FD(r.options||""),_.value&&Vv(_.value).then(vt=>W.value=vt),u.value&&(u.value.style.height=r.height?`${r.height}px`:_.value?"400px":"100px"),(ft=(at=m.value.defaults)==null?void 0:at.header)!=null&&ft.class&&m.value.defaults.header.class.split(" ").forEach(vt=>Z.classList.add(vt)),H.value=Z.classList.contains("sticky"),H.value){let vt=parseInt(Z.style.top.replace(/px/,"")),Qt=r.top?r.top:vt||(_.value?-300:0);Z.style.top=`${Qt}px`}}),ta(()=>{Q1(()=>{var at,ft,vt,Qt;let Z=l.value.querySelector("ul");!Z&&((ft=(at=m.value.defaults)==null?void 0:at.header)!=null&&ft.nav)&&(Z=document.createElement("ul"),(Qt=(vt=m.value.defaults)==null?void 0:vt.header)==null||Qt.nav.forEach(re=>{const pe=document.createElement("li"),Gt=document.createElement("a");Gt.href=re.href,Gt.innerHTML=re.label,re.icon&&(Gt.innerHTML+=re.icon),pe.appendChild(Gt),Z.appendChild(pe)})),f.value=Z==null?void 0:Z.innerHTML})}),er(W,(Z,at)=>{Z!==at&&(V.value=WC(Z))}),er(V,async(Z,at)=>{Z!==at&&(nt.value=Z.service?gt(Z.service[0].id||Z.service[0]["@id"],j.value):await DD(V.value.id,j.value.region,{width:l.value.clientWidth,height:r.height}))}),er(nt,()=>{u.value&&(u.value.style.backgroundImage=`url("${nt.value}")`,u.value.style.backgroundPosition=r.position)});function gt(Z,at){let ft=V.value,vt=Number((ft.width/ft.height).toFixed(4)),Qt=Math.min(800,l.value.getBoundingClientRect().width),re=Number(Qt/vt).toFixed(0),pe=`${Qt},${re}`;return`${Z.replace(/\/info.json$/,"")}/${at.region}/${pe}/${at.rotation}/${at.quality}.${at.format}`}const pt={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#964B00",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8B4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function ct(Z,at=1){let ft=Z[0]==="#"?Z:pt[Z.toLowerCase()];if(ft.length===4){let vt=ft.slice(1,2),Qt=ft.slice(2,3),re=ft.slice(3,4);return vt=parseInt(vt+vt,16),Qt=parseInt(Qt+Qt,16),re=parseInt(re+re,16),`rgba(${vt}, ${Qt}, ${re}, ${at})`}else{const vt=parseInt(ft.slice(1,3),16),Qt=parseInt(ft.slice(3,5),16),re=parseInt(ft.slice(5,7),16);return`rgba(${vt}, ${Qt}, ${re}, ${at})`}}return(Z,at)=>(ke(),Ce("div",{class:"header",ref_key:"root",ref:o},[Xt("div",{class:"background",ref_key:"background",ref:u},null,512),Xt("div",{class:"navbar",ref_key:"navbar",ref:d},[k.value?(ke(),Ce("div",VD,[Xt("a",{href:`${m.value.baseurl}/`},[Xt("img",{src:k.value,class:$g(`${C.value?"icon-"+C.value:""}`),alt:"logo"},null,10,ZD)],8,WD)])):ii("",!0),Xt("div",YD,[v.value?(ke(),Ce("div",XD,[Xt("a",{href:`${m.value.baseurl}/`,innerHTML:v.value},null,8,KD)])):ii("",!0),n.subtitle?(ke(),Ce("div",{key:1,class:"subtitle clamp1",innerHTML:n.subtitle},null,8,JD)):ii("",!0)]),Xt("div",QD,[r.searchDomain?(ke(),Ce("mdp-site-search",{key:0,"search-domain":r.searchDomain,"search-cx":r.searchCx,"search-key":r.searchKey},null,8,$D)):ii("",!0),f.value!==void 0?(ke(),Ce("mdp-menu",{key:1,contact:A.value,"pdf-download-enabled":G.value?"":null,innerHTML:f.value},null,8,t4)):ii("",!0)])],512),F.value?(ke(),Ce("mdp-breadcrumbs",e4)):ii("",!0),W.value?(ke(),Ce("mdp-manifest-popup",{key:1,manifest:W.value},null,8,r4)):ii("",!0)],512))}}),n4=`:host{display:block}.header{display:grid;grid-template-rows:1fr 100px auto;grid-template-columns:1fr}.background{grid-area:1 / 1 / 3 / 2;background-repeat:no-repeat;background-size:cover;background-position:center;z-index:1;position:relative}.navbar{grid-area:2 / 1 / 3 / 2;background-color:#0006;color:#fff;z-index:2;display:flex;align-items:center;gap:1.5em;padding:0 20px}mdp-manifest-popup{visibility:hidden;position:absolute;top:1em;right:1em;z-index:10}.header:hover mdp-manifest-popup{visibility:visible;transition:all .5s ease-in}mdp-breadcrumbs{grid-area:3 / 1 / 4 / 2;background-color:inherit;color:#fff;z-index:1}.branding{display:flex;flex-direction:column;gap:6px}.title a{font-size:2em;line-height:1;font-weight:500;text-decoration:none;color:inherit}.subtitle{font-size:1.2em;line-height:1;font-weight:300}.logo{display:flex;align-items:center;justify-content:center;height:50%}.logo a{height:100%}.logo img{-o-object-fit:contain;object-fit:contain;vertical-align:middle;height:100%}.search-and-menu{margin-left:auto;display:flex;align-items:center;gap:1em}.clamp1{display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}@media only screen and (max-width: 768px){.navbar{gap:.75em;padding:0 1em}.title a{font-size:1.3em}.subtitle{font-size:1em}.logo img{max-width:40px}mdp-breadcrumbs{padding-left:.5rem}}.icon-white{filter:invert(100%) sepia(0%) saturate(7487%) hue-rotate(339deg) brightness(115%) contrast(100%)}
`,o4=Es(i4,[["styles",[n4]]]);var Ox=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ZC(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var YC={exports:{}};(function(n){//! openseadragon 4.0.0
//! Built on 2022-12-16
//! Git commit: v4.0.0-0-8e6196a
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function r(t){return new r.Viewer(t)}(function(t){t.version={versionStr:"4.0.0",major:parseInt("4",10),minor:parseInt("0",10),revision:parseInt("0",10)};var o={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},l=Object.prototype.toString,u=Object.prototype.hasOwnProperty;t.isFunction=function(d){return t.type(d)==="function"},t.isArray=Array.isArray||function(d){return t.type(d)==="array"},t.isWindow=function(d){return d&&typeof d=="object"&&"setInterval"in d},t.type=function(d){return d==null?String(d):o[l.call(d)]||"object"},t.isPlainObject=function(d){if(!d||r.type(d)!=="object"||d.nodeType||t.isWindow(d)||d.constructor&&!u.call(d,"constructor")&&!u.call(d.constructor.prototype,"isPrototypeOf"))return!1;var f;for(var m in d)f=m;return f===void 0||u.call(d,f)},t.isEmptyObject=function(d){for(var f in d)return!1;return!0},t.freezeObject=function(d){return Object.freeze?t.freezeObject=Object.freeze:t.freezeObject=function(f){return f},t.freezeObject(d)},t.supportsCanvas=function(){var d=document.createElement("canvas");return!!(t.isFunction(d.getContext)&&d.getContext("2d"))}(),t.isCanvasTainted=function(d){var f=!1;try{d.getContext("2d").getImageData(0,0,1,1)}catch{f=!0}return f},t.supportsAddEventListener=function(){return!!(document.documentElement.addEventListener&&document.addEventListener)}(),t.supportsRemoveEventListener=function(){return!!(document.documentElement.removeEventListener&&document.removeEventListener)}(),t.supportsEventListenerOptions=function(){var d=0;if(t.supportsAddEventListener)try{var f={get capture(){return d++,!1},get once(){return d++,!1},get passive(){return d++,!1}};window.addEventListener("test",null,f),window.removeEventListener("test",null,f)}catch{d=0}return d>=3}(),t.getCurrentPixelDensityRatio=function(){if(t.supportsCanvas){var d=document.createElement("canvas").getContext("2d"),f=window.devicePixelRatio||1,m=d.webkitBackingStorePixelRatio||d.mozBackingStorePixelRatio||d.msBackingStorePixelRatio||d.oBackingStorePixelRatio||d.backingStorePixelRatio||1;return Math.max(f,1)/m}else return 1},t.pixelDensityRatio=t.getCurrentPixelDensityRatio()})(r),function(t){t.extend=function(){var m,v,_,k,C,M,A=arguments[0]||{},F=arguments.length,G=!1,H=1;for(typeof A=="boolean"&&(G=A,A=arguments[1]||{},H=2),typeof A!="object"&&!r.isFunction(A)&&(A={}),F===H&&(A=this,--H);H<F;H++)if(m=arguments[H],m!==null||m!==void 0)for(v in m){var W=Object.getOwnPropertyDescriptor(m,v);if(W!==void 0){if(W.get||W.set){Object.defineProperty(A,v,W);continue}k=W.value}else{t.console.warn('Could not copy inherited property "'+v+'".');continue}A!==k&&(G&&k&&(r.isPlainObject(k)||(C=r.isArray(k)))?(_=A[v],C?(C=!1,M=_&&r.isArray(_)?_:[]):M=_&&r.isPlainObject(_)?_:{},A[v]=r.extend(G,M,k)):k!==void 0&&(A[v]=k))}return A};var o=function(){if(typeof navigator!="object")return!1;var m=navigator.userAgent;return typeof m!="string"?!1:m.indexOf("iPhone")!==-1||m.indexOf("iPad")!==-1||m.indexOf("iPod")!==-1};t.extend(t,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},splitHashDataForPost:!1,panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!1,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerDblClickDrag:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:o(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorElement:null,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,subPixelRoundingForTransparency:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"],silenceMultiImageWarnings:!1},SIGNAL:"----seadragon----",delegate:function(m,v){return function(){var _=arguments;return _===void 0&&(_=[]),v.apply(m,_)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},SUBPIXEL_ROUNDING_OCCURRENCES:{NEVER:0,ONLY_AT_REST:1,ALWAYS:2},_viewers:new Map,getViewer:function(m){return t._viewers.get(this.getElement(m))},getElement:function(m){return typeof m=="string"&&(m=document.getElementById(m)),m},getElementPosition:function(m){var v=new t.Point,_,k;for(m=t.getElement(m),_=t.getElementStyle(m).position==="fixed",k=f(m,_);k;)v.x+=m.offsetLeft,v.y+=m.offsetTop,_&&(v=v.plus(t.getPageScroll())),m=k,_=t.getElementStyle(m).position==="fixed",k=f(m,_);return v},getElementOffset:function(m){m=t.getElement(m);var v=m&&m.ownerDocument,_,k,C={top:0,left:0};return v?(_=v.documentElement,typeof m.getBoundingClientRect<"u"&&(C=m.getBoundingClientRect()),k=v===v.window?v:v.nodeType===9?v.defaultView||v.parentWindow:!1,new t.Point(C.left+(k.pageXOffset||_.scrollLeft)-(_.clientLeft||0),C.top+(k.pageYOffset||_.scrollTop)-(_.clientTop||0))):new t.Point},getElementSize:function(m){return m=t.getElement(m),new t.Point(m.clientWidth,m.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(m){return m=t.getElement(m),m.currentStyle}:function(m){return m=t.getElement(m),window.getComputedStyle(m,"")},getCssPropertyWithVendorPrefix:function(m){var v={};return t.getCssPropertyWithVendorPrefix=function(_){if(v[_]!==void 0)return v[_];var k=document.createElement("div").style,C=null;if(k[_]!==void 0)C=_;else for(var M=["Webkit","Moz","MS","O","webkit","moz","ms","o"],A=t.capitalizeFirstLetter(_),F=0;F<M.length;F++){var G=M[F]+A;if(k[G]!==void 0){C=G;break}}return v[_]=C,C},t.getCssPropertyWithVendorPrefix(m)},capitalizeFirstLetter:function(m){return m.charAt(0).toUpperCase()+m.slice(1)},positiveModulo:function(m,v){var _=m%v;return _<0&&(_+=v),_},pointInElement:function(m,v){m=t.getElement(m);var _=t.getElementOffset(m),k=t.getElementSize(m);return v.x>=_.x&&v.x<_.x+k.x&&v.y<_.y+k.y&&v.y>=_.y},getMousePosition:function(m){if(typeof m.pageX=="number")t.getMousePosition=function(v){var _=new t.Point;return _.x=v.pageX,_.y=v.pageY,_};else if(typeof m.clientX=="number")t.getMousePosition=function(v){var _=new t.Point;return _.x=v.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,_.y=v.clientY+document.body.scrollTop+document.documentElement.scrollTop,_};else throw new Error("Unknown event mouse position, no known technique.");return t.getMousePosition(m)},getPageScroll:function(){var m=document.documentElement||{},v=document.body||{};if(typeof window.pageXOffset=="number")t.getPageScroll=function(){return new t.Point(window.pageXOffset,window.pageYOffset)};else if(v.scrollLeft||v.scrollTop)t.getPageScroll=function(){return new t.Point(document.body.scrollLeft,document.body.scrollTop)};else if(m.scrollLeft||m.scrollTop)t.getPageScroll=function(){return new t.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)};else return new t.Point(0,0);return t.getPageScroll()},setPageScroll:function(m){if(typeof window.scrollTo<"u")t.setPageScroll=function(k){window.scrollTo(k.x,k.y)};else{var v=t.getPageScroll();if(v.x===m.x&&v.y===m.y)return;document.body.scrollLeft=m.x,document.body.scrollTop=m.y;var _=t.getPageScroll();if(_.x!==v.x&&_.y!==v.y){t.setPageScroll=function(k){document.body.scrollLeft=k.x,document.body.scrollTop=k.y};return}if(document.documentElement.scrollLeft=m.x,document.documentElement.scrollTop=m.y,_=t.getPageScroll(),_.x!==v.x&&_.y!==v.y){t.setPageScroll=function(k){document.documentElement.scrollLeft=k.x,document.documentElement.scrollTop=k.y};return}t.setPageScroll=function(k){}}t.setPageScroll(m)},getWindowSize:function(){var m=document.documentElement||{},v=document.body||{};if(typeof window.innerWidth=="number")t.getWindowSize=function(){return new t.Point(window.innerWidth,window.innerHeight)};else if(m.clientWidth||m.clientHeight)t.getWindowSize=function(){return new t.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else if(v.clientWidth||v.clientHeight)t.getWindowSize=function(){return new t.Point(document.body.clientWidth,document.body.clientHeight)};else throw new Error("Unknown window size, no known technique.");return t.getWindowSize()},makeCenteredNode:function(m){m=t.getElement(m);var v=[t.makeNeutralElement("div"),t.makeNeutralElement("div"),t.makeNeutralElement("div")];return t.extend(v[0].style,{display:"table",height:"100%",width:"100%"}),t.extend(v[1].style,{display:"table-row"}),t.extend(v[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),v[0].appendChild(v[1]),v[1].appendChild(v[2]),v[2].appendChild(m),v[0]},makeNeutralElement:function(m){var v=document.createElement(m),_=v.style;return _.background="transparent none",_.border="none",_.margin="0px",_.padding="0px",_.position="static",v},now:function(){return Date.now?t.now=Date.now:t.now=function(){return new Date().getTime()},t.now()},makeTransparentImage:function(m){var v=t.makeNeutralElement("img");return v.src=m,v},setElementOpacity:function(m,v,_){var k,C;m=t.getElement(m),_&&!t.Browser.alpha&&(v=Math.round(v)),t.Browser.opacity?m.style.opacity=v<1?v:"":v<1?(k=Math.round(100*v),C="alpha(opacity="+k+")",m.style.filter=C):m.style.filter=""},setElementTouchActionNone:function(m){m=t.getElement(m),typeof m.style.touchAction<"u"?m.style.touchAction="none":typeof m.style.msTouchAction<"u"&&(m.style.msTouchAction="none")},setElementPointerEvents:function(m,v){m=t.getElement(m),typeof m.style<"u"&&typeof m.style.pointerEvents<"u"&&(m.style.pointerEvents=v)},setElementPointerEventsNone:function(m){t.setElementPointerEvents(m,"none")},addClass:function(m,v){m=t.getElement(m),m.className?(" "+m.className+" ").indexOf(" "+v+" ")===-1&&(m.className+=" "+v):m.className=v},indexOf:function(m,v,_){return Array.prototype.indexOf?this.indexOf=function(k,C,M){return k.indexOf(C,M)}:this.indexOf=function(k,C,M){var A,F=M||0,G;if(!k)throw new TypeError;if(G=k.length,G===0||F>=G)return-1;for(F<0&&(F=G-Math.abs(F)),A=F;A<G;A++)if(k[A]===C)return A;return-1},this.indexOf(m,v,_)},removeClass:function(m,v){var _,k=[],C;for(m=t.getElement(m),_=m.className.split(/\s+/),C=0;C<_.length;C++)_[C]&&_[C]!==v&&k.push(_[C]);m.className=k.join(" ")},normalizeEventListenerOptions:function(m){var v;return typeof m<"u"?typeof m=="boolean"?v=t.supportsEventListenerOptions?{capture:m}:m:v=t.supportsEventListenerOptions?m:typeof m.capture<"u"?m.capture:!1:v=t.supportsEventListenerOptions?{capture:!1}:!1,v},addEvent:function(){if(t.supportsAddEventListener)return function(m,v,_,k){k=t.normalizeEventListenerOptions(k),m=t.getElement(m),m.addEventListener(v,_,k)};if(document.documentElement.attachEvent&&document.attachEvent)return function(m,v,_){m=t.getElement(m),m.attachEvent("on"+v,_)};throw new Error("No known event model.")}(),removeEvent:function(){if(t.supportsRemoveEventListener)return function(m,v,_,k){k=t.normalizeEventListenerOptions(k),m=t.getElement(m),m.removeEventListener(v,_,k)};if(document.documentElement.detachEvent&&document.detachEvent)return function(m,v,_){m=t.getElement(m),m.detachEvent("on"+v,_)};throw new Error("No known event model.")}(),cancelEvent:function(m){m.preventDefault()},eventIsCanceled:function(m){return m.defaultPrevented},stopEvent:function(m){m.stopPropagation()},createCallback:function(m,v){var _=[],k;for(k=2;k<arguments.length;k++)_.push(arguments[k]);return function(){var C=_.concat([]),M;for(M=0;M<arguments.length;M++)C.push(arguments[M]);return v.apply(m,C)}},getUrlParameter:function(m){var v=d[m];return v||null},getUrlProtocol:function(m){var v=m.match(/^([a-z]+:)\/\//i);return v===null?window.location.protocol:v[1].toLowerCase()},createAjaxRequest:function(m){var v;try{v=!!new ActiveXObject("Microsoft.XMLHTTP")}catch{v=!1}if(v)window.XMLHttpRequest?t.createAjaxRequest=function(_){return _?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:t.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else if(window.XMLHttpRequest)t.createAjaxRequest=function(){return new XMLHttpRequest};else throw new Error("Browser doesn't support XMLHttpRequest.");return t.createAjaxRequest(m)},makeAjaxRequest:function(m,v,_){var k,C,M,A;t.isPlainObject(m)&&(v=m.success,_=m.error,k=m.withCredentials,C=m.headers,M=m.responseType||null,A=m.postData||null,m=m.url);var F=t.getUrlProtocol(m),G=t.createAjaxRequest(F==="file:");if(!t.isFunction(v))throw new Error("makeAjaxRequest requires a success callback");G.onreadystatechange=function(){G.readyState===4&&(G.onreadystatechange=function(){},G.status>=200&&G.status<300||G.status===0&&F!=="http:"&&F!=="https:"?v(G):t.isFunction(_)?_(G):t.console.error("AJAX request returned %d: %s",G.status,m))};var H=A?"POST":"GET";try{if(G.open(H,m,!0),M&&(G.responseType=M),C)for(var W in C)Object.prototype.hasOwnProperty.call(C,W)&&C[W]&&G.setRequestHeader(W,C[W]);k&&(G.withCredentials=!0),G.send(A)}catch(j){t.console.error("%s while making AJAX request: %s",j.name,j.message),G.onreadystatechange=function(){},t.isFunction(_)&&_(G,j)}return G},jsonp:function(m){var v,_=m.url,k=document.head||document.getElementsByTagName("head")[0]||document.documentElement,C=m.callbackName||"openseadragon"+t.now(),M=window[C],A="$1"+C+"$2",F=m.param||"callback",G=m.callback;_=_.replace(/(=)\?(&|$)|\?\?/i,A),_+=(/\?/.test(_)?"&":"?")+F+"="+C,window[C]=function(H){if(M)window[C]=M;else try{delete window[C]}catch{}G&&t.isFunction(G)&&G(H)},v=document.createElement("script"),(m.async!==void 0||m.async!==!1)&&(v.async="async"),m.scriptCharset&&(v.charset=m.scriptCharset),v.src=_,v.onload=v.onreadystatechange=function(H,W){(W||!v.readyState||/loaded|complete/.test(v.readyState))&&(v.onload=v.onreadystatechange=null,k&&v.parentNode&&k.removeChild(v),v=void 0)},k.insertBefore(v,k.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(m){if(window.DOMParser)t.parseXml=function(v){var _=null,k;return k=new DOMParser,_=k.parseFromString(v,"text/xml"),_};else if(window.ActiveXObject)t.parseXml=function(v){var _=null;return _=new ActiveXObject("Microsoft.XMLDOM"),_.async=!1,_.loadXML(v),_};else throw new Error("Browser doesn't support XML DOM.");return t.parseXml(m)},parseJSON:function(m){return t.parseJSON=window.JSON.parse,t.parseJSON(m)},imageFormatSupported:function(m){return m=m||"",!!u[m.toLowerCase()]},setImageFormatsSupported:function(m){t.extend(u,m)}});var l=function(m){};t.console=window.console||{log:l,debug:l,info:l,warn:l,error:l,assert:l},t.Browser={vendor:t.BROWSERS.UNKNOWN,version:0,alpha:!0};var u={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},d={};(function(){var m=navigator.appVersion,v=navigator.userAgent,_;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&(t.Browser.vendor=t.BROWSERS.IE,t.Browser.version=parseFloat(v.substring(v.indexOf("MSIE")+5,v.indexOf(";",v.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(v.indexOf("Edge")>=0?(t.Browser.vendor=t.BROWSERS.EDGE,t.Browser.version=parseFloat(v.substring(v.indexOf("Edge")+5))):v.indexOf("Edg")>=0?(t.Browser.vendor=t.BROWSERS.CHROMEEDGE,t.Browser.version=parseFloat(v.substring(v.indexOf("Edg")+4))):v.indexOf("Firefox")>=0?(t.Browser.vendor=t.BROWSERS.FIREFOX,t.Browser.version=parseFloat(v.substring(v.indexOf("Firefox")+8))):v.indexOf("Safari")>=0?(t.Browser.vendor=v.indexOf("Chrome")>=0?t.BROWSERS.CHROME:t.BROWSERS.SAFARI,t.Browser.version=parseFloat(v.substring(v.substring(0,v.indexOf("Safari")).lastIndexOf("/")+1,v.indexOf("Safari")))):(_=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),_.exec(v)!==null&&(t.Browser.vendor=t.BROWSERS.IE,t.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":t.Browser.vendor=t.BROWSERS.OPERA,t.Browser.version=parseFloat(m);break}var k=window.location.search.substring(1),C=k.split("&"),M,A,F;for(F=0;F<C.length;F++)if(M=C[F],A=M.indexOf("="),A>0){var G=M.substring(0,A),H=M.substring(A+1);try{d[G]=decodeURIComponent(H)}catch{t.console.error("Ignoring malformed URL parameter: %s=%s",G,H)}}t.Browser.alpha=!(t.Browser.vendor===t.BROWSERS.CHROME&&t.Browser.version<2),t.Browser.opacity=!0,t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version<11&&t.console.error("Internet Explorer versions < 11 are not supported by OpenSeadragon")})(),function(m){var v=m.requestAnimationFrame||m.mozRequestAnimationFrame||m.webkitRequestAnimationFrame||m.msRequestAnimationFrame,_=m.cancelAnimationFrame||m.mozCancelAnimationFrame||m.webkitCancelAnimationFrame||m.msCancelAnimationFrame;if(v&&_)t.requestAnimationFrame=function(){return v.apply(m,arguments)},t.cancelAnimationFrame=function(){return _.apply(m,arguments)};else{var k=[],C=[],M=0,A;t.requestAnimationFrame=function(F){return k.push([++M,F]),A||(A=setInterval(function(){if(k.length){var G=t.now(),H=C;for(C=k,k=H;C.length;)C.shift()[1](G)}else clearInterval(A),A=void 0},1e3/50)),M},t.cancelAnimationFrame=function(F){var G,H;for(G=0,H=k.length;G<H;G+=1)if(k[G][0]===F){k.splice(G,1);return}for(G=0,H=C.length;G<H;G+=1)if(C[G][0]===F){C.splice(G,1);return}}}}(window);function f(m,v){return v&&m!==document.body?document.body:m.offsetParent}}(r),function(t,o){n.exports?n.exports=o():t.OpenSeadragon=o()}(Ox,function(){return r}),function(t){var o={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(o.supportsFullScreen=!0,o.getFullScreenElement=function(){return document.fullscreenElement},o.requestFullScreen=function(l){return l.requestFullscreen()},o.exitFullScreen=function(){document.exitFullscreen()},o.fullScreenEventName="fullscreenchange",o.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(o.supportsFullScreen=!0,o.getFullScreenElement=function(){return document.msFullscreenElement},o.requestFullScreen=function(l){return l.msRequestFullscreen()},o.exitFullScreen=function(){document.msExitFullscreen()},o.fullScreenEventName="MSFullscreenChange",o.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(o.supportsFullScreen=!0,o.getFullScreenElement=function(){return document.webkitFullscreenElement},o.requestFullScreen=function(l){return l.webkitRequestFullscreen()},o.exitFullScreen=function(){document.webkitExitFullscreen()},o.fullScreenEventName="webkitfullscreenchange",o.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(o.supportsFullScreen=!0,o.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},o.requestFullScreen=function(l){return l.webkitRequestFullScreen()},o.exitFullScreen=function(){document.webkitCancelFullScreen()},o.fullScreenEventName="webkitfullscreenchange",o.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(o.supportsFullScreen=!0,o.getFullScreenElement=function(){return document.mozFullScreenElement},o.requestFullScreen=function(l){return l.mozRequestFullScreen()},o.exitFullScreen=function(){document.mozCancelFullScreen()},o.fullScreenEventName="mozfullscreenchange",o.fullScreenErrorEventName="mozfullscreenerror"),o.isFullScreen=function(){return o.getFullScreenElement()!==null},o.cancelFullScreen=function(){t.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),o.exitFullScreen()},t.extend(t,o)}(r),function(t){t.EventSource=function(){this.events={}},t.EventSource.prototype={addOnceHandler:function(o,l,u,d){var f=this;d=d||1;var m=0,v=function(_){m++,m===d&&f.removeHandler(o,v),l(_)};this.addHandler(o,v,u)},addHandler:function(o,l,u){var d=this.events[o];d||(this.events[o]=d=[]),l&&t.isFunction(l)&&(d[d.length]={handler:l,userData:u||null})},removeHandler:function(o,l){var u=this.events[o],d=[],f;if(u&&t.isArray(u)){for(f=0;f<u.length;f++)u[f].handler!==l&&d.push(u[f]);this.events[o]=d}},numberOfHandlers:function(o){var l=this.events[o];return l?l.length:0},removeAllHandlers:function(o){if(o)this.events[o]=[];else for(var l in this.events)this.events[l]=[]},getHandler:function(o){var l=this.events[o];return!l||!l.length?null:(l=l.length===1?[l[0]]:Array.apply(null,l),function(u,d){var f,m=l.length;for(f=0;f<m;f++)l[f]&&(d.eventSource=u,d.userData=l[f].userData,l[f].handler(d))})},raiseEvent:function(o,l){var u=this.getHandler(o);u&&(l||(l={}),u(this,l))}}}(r),function(t){var o={};t.MouseTracker=function($){var J=arguments;t.isPlainObject($)||($={element:J[0],clickTimeThreshold:J[1],clickDistThreshold:J[2]}),this.hash=Math.random(),this.element=t.getElement($.element),this.clickTimeThreshold=$.clickTimeThreshold||t.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=$.clickDistThreshold||t.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=$.dblClickTimeThreshold||t.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=$.dblClickDistThreshold||t.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=$.userData||null,this.stopDelay=$.stopDelay||50,this.preProcessEventHandler=$.preProcessEventHandler||null,this.contextMenuHandler=$.contextMenuHandler||null,this.enterHandler=$.enterHandler||null,this.leaveHandler=$.leaveHandler||null,this.exitHandler=$.exitHandler||null,this.overHandler=$.overHandler||null,this.outHandler=$.outHandler||null,this.pressHandler=$.pressHandler||null,this.nonPrimaryPressHandler=$.nonPrimaryPressHandler||null,this.releaseHandler=$.releaseHandler||null,this.nonPrimaryReleaseHandler=$.nonPrimaryReleaseHandler||null,this.moveHandler=$.moveHandler||null,this.scrollHandler=$.scrollHandler||null,this.clickHandler=$.clickHandler||null,this.dblClickHandler=$.dblClickHandler||null,this.dragHandler=$.dragHandler||null,this.dragEndHandler=$.dragEndHandler||null,this.pinchHandler=$.pinchHandler||null,this.stopHandler=$.stopHandler||null,this.keyDownHandler=$.keyDownHandler||null,this.keyUpHandler=$.keyUpHandler||null,this.keyHandler=$.keyHandler||null,this.focusHandler=$.focusHandler||null,this.blurHandler=$.blurHandler||null;var lt=this;o[this.hash]={click:function(st){j(lt,st)},dblclick:function(st){V(lt,st)},keydown:function(st){nt(lt,st)},keyup:function(st){gt(lt,st)},keypress:function(st){pt(lt,st)},focus:function(st){ct(lt,st)},blur:function(st){Z(lt,st)},contextmenu:function(st){at(lt,st)},wheel:function(st){ft(lt,st)},mousewheel:function(st){vt(lt,st)},DOMMouseScroll:function(st){vt(lt,st)},MozMousePixelScroll:function(st){vt(lt,st)},losecapture:function(st){re(lt,st)},mouseenter:function(st){te(lt,st)},mouseleave:function(st){de(lt,st)},mouseover:function(st){oe(lt,st)},mouseout:function(st){se(lt,st)},mousedown:function(st){rr(lt,st)},mouseup:function(st){gr(lt,st)},mousemove:function(st){Bi(lt,st)},touchstart:function(st){pe(lt,st)},touchend:function(st){Gt(lt,st)},touchmove:function(st){ce(lt,st)},touchcancel:function(st){Jt(lt,st)},gesturestart:function(st){tr(lt,st)},gesturechange:function(st){xt(lt,st)},gotpointercapture:function(st){Nt(lt,st)},lostpointercapture:function(st){Vt(lt,st)},pointerenter:function(st){te(lt,st)},pointerleave:function(st){de(lt,st)},pointerover:function(st){oe(lt,st)},pointerout:function(st){se(lt,st)},pointerdown:function(st){rr(lt,st)},pointerup:function(st){gr(lt,st)},pointermove:function(st){Bi(lt,st)},pointercancel:function(st){zt(lt,st)},pointerupcaptured:function(st){vi(lt,st)},pointermovecaptured:function(st){yt(lt,st)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,t.MouseTracker.havePointerEvents&&t.setElementPointerEvents(this.element,"auto"),this.exitHandler&&t.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),$.startDisabled||this.setTracking(!0)},t.MouseTracker.prototype={destroy:function(){m(this),this.element=null,o[this.hash]=null,delete o[this.hash]},isTracking:function(){return o[this.hash].tracking},setTracking:function($){return $?f(this):m(this),this},getActivePointersListByType:function($){var J=o[this.hash],lt,st=J.activePointersLists.length,qt;for(lt=0;lt<st;lt++)if(J.activePointersLists[lt].type===$)return J.activePointersLists[lt];return qt=new t.MouseTracker.GesturePointList($),J.activePointersLists.push(qt),qt},getActivePointerCount:function(){var $=o[this.hash],J,lt=$.activePointersLists.length,st=0;for(J=0;J<lt;J++)st+=$.activePointersLists[J].getLength();return st},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var l=function(){try{return window.self!==window.top}catch{return!0}}();function u($){try{return $.addEventListener&&$.removeEventListener}catch{return!1}}t.MouseTracker.gesturePointVelocityTracker=function(){var $=[],J=0,lt=0,st=function(sr,Oe){return sr.hash.toString()+Oe.type+Oe.id.toString()},qt=function(){var sr,Oe=$.length,qn,ji,Ts=t.now(),ra,ku,Ji;for(ra=Ts-lt,lt=Ts,sr=0;sr<Oe;sr++)qn=$[sr],ji=qn.gPoint,ji.direction=Math.atan2(ji.currentPos.y-qn.lastPos.y,ji.currentPos.x-qn.lastPos.x),ku=qn.lastPos.distanceTo(ji.currentPos),qn.lastPos=ji.currentPos,Ji=1e3*ku/(ra+1),ji.speed=.75*Ji+.25*ji.speed},ee=function(sr,Oe){var qn=st(sr,Oe);$.push({guid:qn,gPoint:Oe,lastPos:Oe.currentPos}),$.length===1&&(lt=t.now(),J=window.setInterval(qt,50))},_e=function(sr,Oe){var qn=st(sr,Oe),ji,Ts=$.length;for(ji=0;ji<Ts;ji++)if($[ji].guid===qn){$.splice(ji,1),Ts--,Ts===0&&window.clearInterval(J);break}};return{addPoint:ee,removePoint:_e}}(),t.MouseTracker.captureElement=document,t.MouseTracker.wheelEventName=t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll",t.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",t.MouseTracker.wheelEventName],t.MouseTracker.wheelEventName==="DOMMouseScroll"&&t.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?(t.MouseTracker.havePointerEvents=!0,t.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),t.MouseTracker.havePointerCapture=function(){var $=document.createElement("div");return t.isFunction($.setPointerCapture)&&t.isFunction($.releasePointerCapture)}(),t.MouseTracker.havePointerCapture&&t.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(t.MouseTracker.havePointerEvents=!1,t.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),t.MouseTracker.mousePointerId="legacy-mouse",t.MouseTracker.havePointerCapture=function(){var $=document.createElement("div");return t.isFunction($.setCapture)&&t.isFunction($.releaseCapture)}(),t.MouseTracker.havePointerCapture&&t.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&t.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&t.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),t.MouseTracker.GesturePointList=function($){this._gPoints=[],this.type=$,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},t.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function($){return this._gPoints.push($)},removeById:function($){var J,lt=this._gPoints.length;for(J=0;J<lt;J++)if(this._gPoints[J].id===$){this._gPoints.splice(J,1);break}return this._gPoints.length},getByIndex:function($){return $<this._gPoints.length?this._gPoints[$]:null},getById:function($){var J,lt=this._gPoints.length;for(J=0;J<lt;J++)if(this._gPoints[J].id===$)return this._gPoints[J];return null},getPrimary:function($){var J,lt=this._gPoints.length;for(J=0;J<lt;J++)if(this._gPoints[J].isPrimary)return this._gPoints[J];return null},addContact:function(){++this.contacts,this.contacts>1&&(this.type==="mouse"||this.type==="pen")&&(t.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}};function d($){var J=o[$.hash],lt,st,qt,ee,_e,sr=J.activePointersLists.length;for(lt=0;lt<sr;lt++)if(qt=J.activePointersLists[lt],qt.getLength()>0){for(_e=[],ee=qt.asArray(),st=0;st<ee.length;st++)_e.push(ee[st]);for(st=0;st<_e.length;st++)U($,qt,_e[st])}for(lt=0;lt<sr;lt++)J.activePointersLists.pop();J.sentDragEvent=!1}function f($){var J=o[$.hash],lt,st;if(!J.tracking){for(st=0;st<t.MouseTracker.subscribeEvents.length;st++)lt=t.MouseTracker.subscribeEvents[st],t.addEvent($.element,lt,J[lt],lt===t.MouseTracker.wheelEventName?{passive:!1,capture:!1}:!1);d($),J.tracking=!0}}function m($){var J=o[$.hash],lt,st;if(J.tracking){for(st=0;st<t.MouseTracker.subscribeEvents.length;st++)lt=t.MouseTracker.subscribeEvents[st],t.removeEvent($.element,lt,J[lt],!1);d($),J.tracking=!1}}function v($,J){var lt=o[$.hash];if(J==="pointerevent")return{upName:"pointerup",upHandler:lt.pointerupcaptured,moveName:"pointermove",moveHandler:lt.pointermovecaptured};if(J==="mouse")return{upName:"pointerup",upHandler:lt.pointerupcaptured,moveName:"pointermove",moveHandler:lt.pointermovecaptured};if(J==="touch")return{upName:"touchend",upHandler:lt.touchendcaptured,moveName:"touchmove",moveHandler:lt.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function _($,J){var lt;if(t.MouseTracker.havePointerCapture)if(t.MouseTracker.havePointerEvents)try{$.element.setPointerCapture(J.id)}catch{t.console.warn("setPointerCapture() called on invalid pointer ID");return}else $.element.setCapture(!0);else lt=v($,t.MouseTracker.havePointerEvents?"pointerevent":J.type),l&&u(window.top)&&t.addEvent(window.top,lt.upName,lt.upHandler,!0),t.addEvent(t.MouseTracker.captureElement,lt.upName,lt.upHandler,!0),t.addEvent(t.MouseTracker.captureElement,lt.moveName,lt.moveHandler,!0);ht($,J,!0)}function k($,J){var lt,st,qt;if(t.MouseTracker.havePointerCapture)if(t.MouseTracker.havePointerEvents){if(st=$.getActivePointersListByType(J.type),qt=st.getById(J.id),!qt||!qt.captured)return;try{$.element.releasePointerCapture(J.id)}catch{}}else $.element.releaseCapture();else lt=v($,t.MouseTracker.havePointerEvents?"pointerevent":J.type),l&&u(window.top)&&t.removeEvent(window.top,lt.upName,lt.upHandler,!0),t.removeEvent(t.MouseTracker.captureElement,lt.moveName,lt.moveHandler,!0),t.removeEvent(t.MouseTracker.captureElement,lt.upName,lt.upHandler,!0);ht($,J,!1)}function C($){return t.MouseTracker.havePointerEvents?$.pointerId:t.MouseTracker.mousePointerId}function M($){return t.MouseTracker.havePointerEvents?$.pointerType||(t.Browser.vendor===t.BROWSERS.IE?"mouse":""):"mouse"}function A($){return t.MouseTracker.havePointerEvents?$.isPrimary:!0}function F($){return t.getMousePosition($)}function G($,J){return H(F($),J)}function H($,J){var lt=t.getElementOffset(J);return $.minus(lt)}function W($,J){return new t.Point(($.x+J.x)/2,($.y+J.y)/2)}function j($,J){var lt={originalEvent:J,eventType:"click",pointerType:"mouse",isEmulated:!1};dt($,lt),lt.preventDefault&&!lt.defaultPrevented&&t.cancelEvent(J),lt.stopPropagation&&t.stopEvent(J)}function V($,J){var lt={originalEvent:J,eventType:"dblclick",pointerType:"mouse",isEmulated:!1};dt($,lt),lt.preventDefault&&!lt.defaultPrevented&&t.cancelEvent(J),lt.stopPropagation&&t.stopEvent(J)}function nt($,J){var lt=null,st={originalEvent:J,eventType:"keydown",pointerType:"",isEmulated:!1};dt($,st),$.keyDownHandler&&!st.preventGesture&&!st.defaultPrevented&&(lt={eventSource:$,keyCode:J.keyCode?J.keyCode:J.charCode,ctrl:J.ctrlKey,shift:J.shiftKey,alt:J.altKey,meta:J.metaKey,originalEvent:J,preventDefault:st.preventDefault||st.defaultPrevented,userData:$.userData},$.keyDownHandler(lt)),(lt&&lt.preventDefault||st.preventDefault&&!st.defaultPrevented)&&t.cancelEvent(J),st.stopPropagation&&t.stopEvent(J)}function gt($,J){var lt=null,st={originalEvent:J,eventType:"keyup",pointerType:"",isEmulated:!1};dt($,st),$.keyUpHandler&&!st.preventGesture&&!st.defaultPrevented&&(lt={eventSource:$,keyCode:J.keyCode?J.keyCode:J.charCode,ctrl:J.ctrlKey,shift:J.shiftKey,alt:J.altKey,meta:J.metaKey,originalEvent:J,preventDefault:st.preventDefault||st.defaultPrevented,userData:$.userData},$.keyUpHandler(lt)),(lt&&lt.preventDefault||st.preventDefault&&!st.defaultPrevented)&&t.cancelEvent(J),st.stopPropagation&&t.stopEvent(J)}function pt($,J){var lt=null,st={originalEvent:J,eventType:"keypress",pointerType:"",isEmulated:!1};dt($,st),$.keyHandler&&!st.preventGesture&&!st.defaultPrevented&&(lt={eventSource:$,keyCode:J.keyCode?J.keyCode:J.charCode,ctrl:J.ctrlKey,shift:J.shiftKey,alt:J.altKey,meta:J.metaKey,originalEvent:J,preventDefault:st.preventDefault||st.defaultPrevented,userData:$.userData},$.keyHandler(lt)),(lt&&lt.preventDefault||st.preventDefault&&!st.defaultPrevented)&&t.cancelEvent(J),st.stopPropagation&&t.stopEvent(J)}function ct($,J){var lt={originalEvent:J,eventType:"focus",pointerType:"",isEmulated:!1};dt($,lt),$.focusHandler&&!lt.preventGesture&&$.focusHandler({eventSource:$,originalEvent:J,userData:$.userData})}function Z($,J){var lt={originalEvent:J,eventType:"blur",pointerType:"",isEmulated:!1};dt($,lt),$.blurHandler&&!lt.preventGesture&&$.blurHandler({eventSource:$,originalEvent:J,userData:$.userData})}function at($,J){var lt=null,st={originalEvent:J,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1};dt($,st),$.contextMenuHandler&&!st.preventGesture&&!st.defaultPrevented&&(lt={eventSource:$,position:H(F(J),$.element),originalEvent:st.originalEvent,preventDefault:st.preventDefault||st.defaultPrevented,userData:$.userData},$.contextMenuHandler(lt)),(lt&&lt.preventDefault||st.preventDefault&&!st.defaultPrevented)&&t.cancelEvent(J),st.stopPropagation&&t.stopEvent(J)}function ft($,J){Qt($,J,J)}function vt($,J){var lt={target:J.target||J.srcElement,type:"wheel",shiftKey:J.shiftKey||!1,clientX:J.clientX,clientY:J.clientY,pageX:J.pageX?J.pageX:J.clientX,pageY:J.pageY?J.pageY:J.clientY,deltaMode:J.type==="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0};t.MouseTracker.wheelEventName==="mousewheel"?lt.deltaY=-J.wheelDelta/t.DEFAULT_SETTINGS.pixelsPerWheelLine:lt.deltaY=J.detail,Qt($,lt,J)}function Qt($,J,lt){var st=0,qt,ee=null;st=J.deltaY<0?1:-1,qt={originalEvent:J,eventType:"wheel",pointerType:"mouse",isEmulated:J!==lt},dt($,qt),$.scrollHandler&&!qt.preventGesture&&!qt.defaultPrevented&&(ee={eventSource:$,pointerType:"mouse",position:G(J,$.element),scroll:st,shift:J.shiftKey,isTouchEvent:!1,originalEvent:lt,preventDefault:qt.preventDefault||qt.defaultPrevented,userData:$.userData},$.scrollHandler(ee)),qt.stopPropagation&&t.stopEvent(lt),(ee&&ee.preventDefault||qt.preventDefault&&!qt.defaultPrevented)&&t.cancelEvent(lt)}function re($,J){var lt={id:t.MouseTracker.mousePointerId,type:"mouse"},st={originalEvent:J,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1};dt($,st),J.target===$.element&&ht($,lt,!1),st.stopPropagation&&t.stopEvent(J)}function pe($,J){var lt,st,qt=J.changedTouches.length,ee,_e=$.getActivePointersListByType("touch");lt=t.now(),_e.getLength()>J.touches.length-qt&&t.console.warn("Tracked touch contact count doesn't match event.touches.length");var sr={originalEvent:J,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(dt($,sr),st=0;st<qt;st++)ee={id:J.changedTouches[st].identifier,type:"touch",isPrimary:_e.getLength()===0,currentPos:F(J.changedTouches[st]),currentTime:lt},_t($,sr,ee),Yt($,sr,ee,0),ht($,ee,!0);sr.preventDefault&&!sr.defaultPrevented&&t.cancelEvent(J),sr.stopPropagation&&t.stopEvent(J)}function Gt($,J){var lt,st,qt=J.changedTouches.length,ee;lt=t.now();var _e={originalEvent:J,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(dt($,_e),st=0;st<qt;st++)ee={id:J.changedTouches[st].identifier,type:"touch",currentPos:F(J.changedTouches[st]),currentTime:lt},Kt($,_e,ee,0),ht($,ee,!1),ut($,_e,ee);_e.preventDefault&&!_e.defaultPrevented&&t.cancelEvent(J),_e.stopPropagation&&t.stopEvent(J)}function ce($,J){var lt,st,qt=J.changedTouches.length,ee;lt=t.now();var _e={originalEvent:J,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(dt($,_e),st=0;st<qt;st++)ee={id:J.changedTouches[st].identifier,type:"touch",currentPos:F(J.changedTouches[st]),currentTime:lt},ge($,_e,ee);_e.preventDefault&&!_e.defaultPrevented&&t.cancelEvent(J),_e.stopPropagation&&t.stopEvent(J)}function Jt($,J){var lt=J.changedTouches.length,st,qt,ee={originalEvent:J,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(dt($,ee),st=0;st<lt;st++)qt={id:J.changedTouches[st].identifier,type:"touch"},be($,ee,qt);ee.stopPropagation&&t.stopEvent(J)}function tr($,J){return t.eventIsCanceled(J)||J.preventDefault(),!1}function xt($,J){return t.eventIsCanceled(J)||J.preventDefault(),!1}function Nt($,J){var lt={originalEvent:J,eventType:"gotpointercapture",pointerType:M(J),isEmulated:!1};dt($,lt),J.target===$.element&&ht($,{id:J.pointerId,type:M(J)},!0),lt.stopPropagation&&t.stopEvent(J)}function Vt($,J){var lt={originalEvent:J,eventType:"lostpointercapture",pointerType:M(J),isEmulated:!1};dt($,lt),J.target===$.element&&ht($,{id:J.pointerId,type:M(J)},!1),lt.stopPropagation&&t.stopEvent(J)}function te($,J){var lt={id:C(J),type:M(J),isPrimary:A(J),currentPos:F(J),currentTime:t.now()},st={originalEvent:J,eventType:"pointerenter",pointerType:lt.type,isEmulated:!1};dt($,st),_t($,st,lt)}function de($,J){var lt={id:C(J),type:M(J),isPrimary:A(J),currentPos:F(J),currentTime:t.now()},st={originalEvent:J,eventType:"pointerleave",pointerType:lt.type,isEmulated:!1};dt($,st),ut($,st,lt)}function oe($,J){var lt={id:C(J),type:M(J),isPrimary:A(J),currentPos:F(J),currentTime:t.now()},st={originalEvent:J,eventType:"pointerover",pointerType:lt.type,isEmulated:!1};dt($,st),It($,st,lt),st.preventDefault&&!st.defaultPrevented&&t.cancelEvent(J),st.stopPropagation&&t.stopEvent(J)}function se($,J){var lt={id:C(J),type:M(J),isPrimary:A(J),currentPos:F(J),currentTime:t.now()},st={originalEvent:J,eventType:"pointerout",pointerType:lt.type,isEmulated:!1};dt($,st),Zt($,st,lt),st.preventDefault&&!st.defaultPrevented&&t.cancelEvent(J),st.stopPropagation&&t.stopEvent(J)}function rr($,J){var lt={id:C(J),type:M(J),isPrimary:A(J),currentPos:F(J),currentTime:t.now()},st=t.MouseTracker.havePointerEvents&&lt.type==="touch"&&t.Browser.vendor!==t.BROWSERS.IE,qt={originalEvent:J,eventType:"pointerdown",pointerType:lt.type,isEmulated:!1};dt($,qt),Yt($,qt,lt,J.button),qt.preventDefault&&!qt.defaultPrevented&&t.cancelEvent(J),qt.stopPropagation&&t.stopEvent(J),qt.shouldCapture&&(st?ht($,lt,!0):_($,lt))}function gr($,J){Xi($,J)}function vi($,J){var lt=$.getActivePointersListByType(M(J));lt.getById(J.pointerId)&&Xi($,J),t.stopEvent(J)}function Xi($,J){var lt;lt={id:C(J),type:M(J),isPrimary:A(J),currentPos:F(J),currentTime:t.now()};var st={originalEvent:J,eventType:"pointerup",pointerType:lt.type,isEmulated:!1};dt($,st),Kt($,st,lt,J.button),st.preventDefault&&!st.defaultPrevented&&t.cancelEvent(J),st.stopPropagation&&t.stopEvent(J),st.shouldReleaseCapture&&(J.target===$.element?k($,lt):ht($,lt,!1))}function Bi($,J){kt($,J)}function yt($,J){var lt=$.getActivePointersListByType(M(J));lt.getById(J.pointerId)&&kt($,J),t.stopEvent(J)}function kt($,J){var lt={id:C(J),type:M(J),isPrimary:A(J),currentPos:F(J),currentTime:t.now()},st={originalEvent:J,eventType:"pointermove",pointerType:lt.type,isEmulated:!1};dt($,st),ge($,st,lt),st.preventDefault&&!st.defaultPrevented&&t.cancelEvent(J),st.stopPropagation&&t.stopEvent(J)}function zt($,J){var lt={id:J.pointerId,type:M(J)},st={originalEvent:J,eventType:"pointercancel",pointerType:lt.type,isEmulated:!1};dt($,st),be($,st,lt),st.stopPropagation&&t.stopEvent(J)}function I($,J){return J.speed=0,J.direction=0,J.contactPos=J.currentPos,J.contactTime=J.currentTime,J.lastPos=J.currentPos,J.lastTime=J.currentTime,$.add(J)}function U($,J,lt){var st,qt=J.getById(lt.id);return qt?(qt.captured&&(t.console.warn("stopTrackingPointer() called on captured pointer"),k($,qt)),J.removeContact(),st=J.removeById(lt.id)):st=J.getLength(),st}function ot($,J){switch(J.eventType){case"pointermove":J.isStoppable=!0,J.isCancelable=!0,J.preventDefault=!1,J.preventGesture=!$.hasGestureHandlers,J.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":J.isStoppable=!0,J.isCancelable=!0,J.preventDefault=!1,J.preventGesture=!1,J.stopPropagation=!1;break;case"pointerdown":J.isStoppable=!0,J.isCancelable=!0,J.preventDefault=!1,J.preventGesture=!$.hasGestureHandlers,J.stopPropagation=!1;break;case"pointerup":J.isStoppable=!0,J.isCancelable=!0,J.preventDefault=!1,J.preventGesture=!$.hasGestureHandlers,J.stopPropagation=!1;break;case"wheel":J.isStoppable=!0,J.isCancelable=!0,J.preventDefault=!1,J.preventGesture=!$.hasScrollHandler,J.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":J.isStoppable=!0,J.isCancelable=!1,J.preventDefault=!1,J.preventGesture=!1,J.stopPropagation=!1;break;case"click":J.isStoppable=!0,J.isCancelable=!0,J.preventDefault=!!$.clickHandler,J.preventGesture=!1,J.stopPropagation=!1;break;case"dblclick":J.isStoppable=!0,J.isCancelable=!0,J.preventDefault=!!$.dblClickHandler,J.preventGesture=!1,J.stopPropagation=!1;break;case"focus":case"blur":case"pointerenter":case"pointerleave":default:J.isStoppable=!1,J.isCancelable=!1,J.preventDefault=!1,J.preventGesture=!1,J.stopPropagation=!1;break}}function dt($,J){J.eventSource=$,J.eventPhase=J.originalEvent&&typeof J.originalEvent.eventPhase<"u"?J.originalEvent.eventPhase:0,J.defaultPrevented=t.eventIsCanceled(J.originalEvent),J.shouldCapture=!1,J.shouldReleaseCapture=!1,J.userData=$.userData,ot($,J),$.preProcessEventHandler&&$.preProcessEventHandler(J)}function ht($,J,lt){var st=$.getActivePointersListByType(J.type),qt=st.getById(J.id);qt?lt&&!qt.captured?(qt.captured=!0,st.captureCount++):!lt&&qt.captured&&(qt.captured=!1,st.captureCount--,st.captureCount<0&&(st.captureCount=0,t.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):t.console.warn("updatePointerCaptured() called on untracked pointer")}function _t($,J,lt){var st=$.getActivePointersListByType(lt.type),qt;qt=st.getById(lt.id),qt?(qt.insideElement=!0,qt.lastPos=qt.currentPos,qt.lastTime=qt.currentTime,qt.currentPos=lt.currentPos,qt.currentTime=lt.currentTime,lt=qt):(lt.captured=!1,lt.insideElementPressed=!1,lt.insideElement=!0,I(st,lt)),$.enterHandler&&$.enterHandler({eventSource:$,pointerType:lt.type,position:H(lt.currentPos,$.element),buttons:st.buttons,pointers:$.getActivePointerCount(),insideElementPressed:lt.insideElementPressed,buttonDownAny:st.buttons!==0,isTouchEvent:lt.type==="touch",originalEvent:J.originalEvent,userData:$.userData})}function ut($,J,lt){var st=$.getActivePointersListByType(lt.type),qt,ee;qt=st.getById(lt.id),qt?(qt.captured?(qt.insideElement=!1,qt.lastPos=qt.currentPos,qt.lastTime=qt.currentTime,qt.currentPos=lt.currentPos,qt.currentTime=lt.currentTime):U($,st,qt),lt=qt):(lt.captured=!1,lt.insideElementPressed=!1),($.leaveHandler||$.exitHandler)&&(ee={eventSource:$,pointerType:lt.type,position:lt.currentPos&&H(lt.currentPos,$.element),buttons:st.buttons,pointers:$.getActivePointerCount(),insideElementPressed:lt.insideElementPressed,buttonDownAny:st.buttons!==0,isTouchEvent:lt.type==="touch",originalEvent:J.originalEvent,userData:$.userData},$.leaveHandler&&$.leaveHandler(ee),$.exitHandler&&$.exitHandler(ee))}function It($,J,lt){var st,qt;st=$.getActivePointersListByType(lt.type),qt=st.getById(lt.id),qt?lt=qt:(lt.captured=!1,lt.insideElementPressed=!1),$.overHandler&&$.overHandler({eventSource:$,pointerType:lt.type,position:H(lt.currentPos,$.element),buttons:st.buttons,pointers:$.getActivePointerCount(),insideElementPressed:lt.insideElementPressed,buttonDownAny:st.buttons!==0,isTouchEvent:lt.type==="touch",originalEvent:J.originalEvent,userData:$.userData})}function Zt($,J,lt){var st,qt;st=$.getActivePointersListByType(lt.type),qt=st.getById(lt.id),qt?lt=qt:(lt.captured=!1,lt.insideElementPressed=!1),$.outHandler&&$.outHandler({eventSource:$,pointerType:lt.type,position:lt.currentPos&&H(lt.currentPos,$.element),buttons:st.buttons,pointers:$.getActivePointerCount(),insideElementPressed:lt.insideElementPressed,buttonDownAny:st.buttons!==0,isTouchEvent:lt.type==="touch",originalEvent:J.originalEvent,userData:$.userData})}function Yt($,J,lt,st){var qt=o[$.hash],ee=$.getActivePointersListByType(lt.type),_e;if(typeof J.originalEvent.buttons<"u"?ee.buttons=J.originalEvent.buttons:st===0?ee.buttons|=1:st===1?ee.buttons|=4:st===2?ee.buttons|=2:st===3?ee.buttons|=8:st===4?ee.buttons|=16:st===5&&(ee.buttons|=32),st!==0){J.shouldCapture=!1,J.shouldReleaseCapture=!1,$.nonPrimaryPressHandler&&!J.preventGesture&&!J.defaultPrevented&&(J.preventDefault=!0,$.nonPrimaryPressHandler({eventSource:$,pointerType:lt.type,position:H(lt.currentPos,$.element),button:st,buttons:ee.buttons,isTouchEvent:lt.type==="touch",originalEvent:J.originalEvent,userData:$.userData}));return}_e=ee.getById(lt.id),_e?(_e.insideElementPressed=!0,_e.insideElement=!0,_e.originalTarget=J.originalEvent.target,_e.contactPos=lt.currentPos,_e.contactTime=lt.currentTime,_e.lastPos=_e.currentPos,_e.lastTime=_e.currentTime,_e.currentPos=lt.currentPos,_e.currentTime=lt.currentTime,lt=_e):(lt.captured=!1,lt.insideElementPressed=!0,lt.insideElement=!0,lt.originalTarget=J.originalEvent.target,I(ee,lt)),ee.addContact(),!J.preventGesture&&!J.defaultPrevented?(J.shouldCapture=!0,J.shouldReleaseCapture=!1,J.preventDefault=!0,($.dragHandler||$.dragEndHandler||$.pinchHandler)&&t.MouseTracker.gesturePointVelocityTracker.addPoint($,lt),ee.contacts===1?$.pressHandler&&!J.preventGesture&&$.pressHandler({eventSource:$,pointerType:lt.type,position:H(lt.contactPos,$.element),buttons:ee.buttons,isTouchEvent:lt.type==="touch",originalEvent:J.originalEvent,userData:$.userData}):ee.contacts===2&&$.pinchHandler&&lt.type==="touch"&&(qt.pinchGPoints=ee.asArray(),qt.lastPinchDist=qt.currentPinchDist=qt.pinchGPoints[0].currentPos.distanceTo(qt.pinchGPoints[1].currentPos),qt.lastPinchCenter=qt.currentPinchCenter=W(qt.pinchGPoints[0].currentPos,qt.pinchGPoints[1].currentPos))):(J.shouldCapture=!1,J.shouldReleaseCapture=!1)}function Kt($,J,lt,st){var qt=o[$.hash],ee=$.getActivePointersListByType(lt.type),_e,sr,Oe,qn=!1,ji;if(typeof J.originalEvent.buttons<"u"?ee.buttons=J.originalEvent.buttons:st===0?ee.buttons^=-2:st===1?ee.buttons^=-5:st===2?ee.buttons^=-3:st===3?ee.buttons^=-9:st===4?ee.buttons^=-17:st===5&&(ee.buttons^=-33),J.shouldCapture=!1,st!==0){J.shouldReleaseCapture=!1,$.nonPrimaryReleaseHandler&&!J.preventGesture&&!J.defaultPrevented&&(J.preventDefault=!0,$.nonPrimaryReleaseHandler({eventSource:$,pointerType:lt.type,position:H(lt.currentPos,$.element),button:st,buttons:ee.buttons,isTouchEvent:lt.type==="touch",originalEvent:J.originalEvent,userData:$.userData}));return}Oe=ee.getById(lt.id),Oe?(ee.removeContact(),Oe.captured&&(qn=!0),Oe.lastPos=Oe.currentPos,Oe.lastTime=Oe.currentTime,Oe.currentPos=lt.currentPos,Oe.currentTime=lt.currentTime,Oe.insideElement||U($,ee,Oe),_e=Oe.currentPos,sr=Oe.currentTime):(lt.captured=!1,lt.insideElementPressed=!1,lt.insideElement=!0,I(ee,lt),Oe=lt),!J.preventGesture&&!J.defaultPrevented&&(qn?(J.shouldReleaseCapture=!0,J.preventDefault=!0,($.dragHandler||$.dragEndHandler||$.pinchHandler)&&t.MouseTracker.gesturePointVelocityTracker.removePoint($,Oe),ee.contacts===0?($.releaseHandler&&_e&&$.releaseHandler({eventSource:$,pointerType:Oe.type,position:H(_e,$.element),buttons:ee.buttons,insideElementPressed:Oe.insideElementPressed,insideElementReleased:Oe.insideElement,isTouchEvent:Oe.type==="touch",originalEvent:J.originalEvent,userData:$.userData}),$.dragEndHandler&&qt.sentDragEvent&&$.dragEndHandler({eventSource:$,pointerType:Oe.type,position:H(Oe.currentPos,$.element),speed:Oe.speed,direction:Oe.direction,shift:J.originalEvent.shiftKey,isTouchEvent:Oe.type==="touch",originalEvent:J.originalEvent,userData:$.userData}),qt.sentDragEvent=!1,($.clickHandler||$.dblClickHandler)&&Oe.insideElement&&(ji=sr-Oe.contactTime<=$.clickTimeThreshold&&Oe.contactPos.distanceTo(_e)<=$.clickDistThreshold,$.clickHandler&&$.clickHandler({eventSource:$,pointerType:Oe.type,position:H(Oe.currentPos,$.element),quick:ji,shift:J.originalEvent.shiftKey,isTouchEvent:Oe.type==="touch",originalEvent:J.originalEvent,originalTarget:Oe.originalTarget,userData:$.userData}),$.dblClickHandler&&ji&&(ee.clicks++,ee.clicks===1?(qt.lastClickPos=_e,qt.dblClickTimeOut=setTimeout(function(){ee.clicks=0},$.dblClickTimeThreshold)):ee.clicks===2&&(clearTimeout(qt.dblClickTimeOut),ee.clicks=0,qt.lastClickPos.distanceTo(_e)<=$.dblClickDistThreshold&&$.dblClickHandler({eventSource:$,pointerType:Oe.type,position:H(Oe.currentPos,$.element),shift:J.originalEvent.shiftKey,isTouchEvent:Oe.type==="touch",originalEvent:J.originalEvent,userData:$.userData}),qt.lastClickPos=null)))):ee.contacts===2&&$.pinchHandler&&Oe.type==="touch"&&(qt.pinchGPoints=ee.asArray(),qt.lastPinchDist=qt.currentPinchDist=qt.pinchGPoints[0].currentPos.distanceTo(qt.pinchGPoints[1].currentPos),qt.lastPinchCenter=qt.currentPinchCenter=W(qt.pinchGPoints[0].currentPos,qt.pinchGPoints[1].currentPos))):(J.shouldReleaseCapture=!1,$.releaseHandler&&_e&&($.releaseHandler({eventSource:$,pointerType:Oe.type,position:H(_e,$.element),buttons:ee.buttons,insideElementPressed:Oe.insideElementPressed,insideElementReleased:Oe.insideElement,isTouchEvent:Oe.type==="touch",originalEvent:J.originalEvent,userData:$.userData}),J.preventDefault=!0)))}function ge($,J,lt){var st=o[$.hash],qt=$.getActivePointersListByType(lt.type),ee,_e,sr;if(typeof J.originalEvent.buttons<"u"&&(qt.buttons=J.originalEvent.buttons),ee=qt.getById(lt.id),ee)ee.lastPos=ee.currentPos,ee.lastTime=ee.currentTime,ee.currentPos=lt.currentPos,ee.currentTime=lt.currentTime;else return;J.shouldCapture=!1,J.shouldReleaseCapture=!1,$.stopHandler&&lt.type==="mouse"&&(clearTimeout($.stopTimeOut),$.stopTimeOut=setTimeout(function(){De($,J.originalEvent,lt.type)},$.stopDelay)),qt.contacts===0?$.moveHandler&&$.moveHandler({eventSource:$,pointerType:lt.type,position:H(lt.currentPos,$.element),buttons:qt.buttons,isTouchEvent:lt.type==="touch",originalEvent:J.originalEvent,userData:$.userData}):qt.contacts===1?($.moveHandler&&(ee=qt.asArray()[0],$.moveHandler({eventSource:$,pointerType:ee.type,position:H(ee.currentPos,$.element),buttons:qt.buttons,isTouchEvent:ee.type==="touch",originalEvent:J.originalEvent,userData:$.userData})),$.dragHandler&&!J.preventGesture&&!J.defaultPrevented&&(ee=qt.asArray()[0],sr=ee.currentPos.minus(ee.lastPos),$.dragHandler({eventSource:$,pointerType:ee.type,position:H(ee.currentPos,$.element),buttons:qt.buttons,delta:sr,speed:ee.speed,direction:ee.direction,shift:J.originalEvent.shiftKey,isTouchEvent:ee.type==="touch",originalEvent:J.originalEvent,userData:$.userData}),J.preventDefault=!0,st.sentDragEvent=!0)):qt.contacts===2&&($.moveHandler&&(_e=qt.asArray(),$.moveHandler({eventSource:$,pointerType:_e[0].type,position:H(W(_e[0].currentPos,_e[1].currentPos),$.element),buttons:qt.buttons,isTouchEvent:_e[0].type==="touch",originalEvent:J.originalEvent,userData:$.userData})),$.pinchHandler&&lt.type==="touch"&&!J.preventGesture&&!J.defaultPrevented&&(sr=st.pinchGPoints[0].currentPos.distanceTo(st.pinchGPoints[1].currentPos),sr!==st.currentPinchDist&&(st.lastPinchDist=st.currentPinchDist,st.currentPinchDist=sr,st.lastPinchCenter=st.currentPinchCenter,st.currentPinchCenter=W(st.pinchGPoints[0].currentPos,st.pinchGPoints[1].currentPos),$.pinchHandler({eventSource:$,pointerType:"touch",gesturePoints:st.pinchGPoints,lastCenter:H(st.lastPinchCenter,$.element),center:H(st.currentPinchCenter,$.element),lastDistance:st.lastPinchDist,distance:st.currentPinchDist,shift:J.originalEvent.shiftKey,originalEvent:J.originalEvent,userData:$.userData}),J.preventDefault=!0)))}function be($,J,lt){var st=$.getActivePointersListByType(lt.type),qt;qt=st.getById(lt.id),qt&&U($,st,qt)}function De($,J,lt){$.stopHandler&&$.stopHandler({eventSource:$,pointerType:lt,position:G(J,$.element),buttons:$.getActivePointersListByType(lt).buttons,isTouchEvent:lt==="touch",originalEvent:J,userData:$.userData})}}(r),function(t){t.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},t.Control=function(o,l,u){var d=o.parentNode;typeof l=="number"&&(t.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),l={anchor:l}),l.attachToViewer=typeof l.attachToViewer>"u"?!0:l.attachToViewer,this.autoFade=typeof l.autoFade>"u"?!0:l.autoFade,this.element=o,this.anchor=l.anchor,this.container=u,this.anchor===t.ControlAnchor.ABSOLUTE?(this.wrapper=t.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top=typeof l.top=="number"?l.top+"px":l.top,this.wrapper.style.left=typeof l.left=="number"?l.left+"px":l.left,this.wrapper.style.height=typeof l.height=="number"?l.height+"px":l.height,this.wrapper.style.width=typeof l.width=="number"?l.width+"px":l.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=t.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===t.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),l.attachToViewer?this.anchor===t.ControlAnchor.TOP_RIGHT||this.anchor===t.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):d.appendChild(this.wrapper)},t.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==t.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return this.wrapper.style.display!=="none"},setVisible:function(o){this.wrapper.style.display=o?this.anchor===t.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(o){this.element[t.SIGNAL]&&t.Browser.vendor===t.BROWSERS.IE?t.setElementOpacity(this.element,o,!0):t.setElementOpacity(this.wrapper,o,!0)}}}(r),function(t){t.ControlDock=function(l){var u=["topleft","topright","bottomright","bottomleft"],d,f;for(t.extend(!0,this,{id:"controldock-"+t.now()+"-"+Math.floor(Math.random()*1e6),container:t.makeNeutralElement("div"),controls:[]},l),this.container.onsubmit=function(){return!1},this.element&&(this.element=t.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),f=0;f<u.length;f++)d=u[f],this.controls[d]=t.makeNeutralElement("div"),this.controls[d].style.position="absolute",d.match("left")&&(this.controls[d].style.left="0px"),d.match("right")&&(this.controls[d].style.right="0px"),d.match("top")&&(this.controls[d].style.top="0px"),d.match("bottom")&&(this.controls[d].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},t.ControlDock.prototype={addControl:function(l,u){l=t.getElement(l);var d=null;if(!(o(this,l)>=0)){switch(u.anchor){case t.ControlAnchor.TOP_RIGHT:d=this.controls.topright,l.style.position="relative",l.style.paddingRight="0px",l.style.paddingTop="0px";break;case t.ControlAnchor.BOTTOM_RIGHT:d=this.controls.bottomright,l.style.position="relative",l.style.paddingRight="0px",l.style.paddingBottom="0px";break;case t.ControlAnchor.BOTTOM_LEFT:d=this.controls.bottomleft,l.style.position="relative",l.style.paddingLeft="0px",l.style.paddingBottom="0px";break;case t.ControlAnchor.TOP_LEFT:d=this.controls.topleft,l.style.position="relative",l.style.paddingLeft="0px",l.style.paddingTop="0px";break;case t.ControlAnchor.ABSOLUTE:d=this.container,l.style.margin="0px",l.style.padding="0px";break;default:case t.ControlAnchor.NONE:d=this.container,l.style.margin="0px",l.style.padding="0px";break}this.controls.push(new t.Control(l,u,d)),l.style.display="inline-block"}},removeControl:function(l){l=t.getElement(l);var u=o(this,l);return u>=0&&(this.controls[u].destroy(),this.controls.splice(u,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var l;for(l=this.controls.length-1;l>=0;l--)if(this.controls[l].isVisible())return!0;return!1},setControlsEnabled:function(l){var u;for(u=this.controls.length-1;u>=0;u--)this.controls[u].setVisible(l);return this}};function o(l,u){var d=l.controls,f;for(f=d.length-1;f>=0;f--)if(d[f].element===u)return f;return-1}}(r),function(t){t.Placement=t.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(r),function(t){var o={},l=1;t.Viewer=function(I){var U=arguments,ot=this,dt;if(t.isPlainObject(I)||(I={id:U[0],xmlPath:U.length>1?U[1]:void 0,prefixUrl:U.length>2?U[2]:void 0,controls:U.length>3?U[3]:void 0,overlays:U.length>4?U[4]:void 0}),I.config&&(t.extend(!0,I,I.config),delete I.config),t.extend(!0,this,{id:I.id,hash:I.hash||l++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttonGroup:null,profiler:null},t.DEFAULT_SETTINGS,I),typeof this.hash>"u")throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(typeof o[this.hash]<"u"&&t.console.warn("Hash "+this.hash+" has already been used."),o[this.hash]={fsBoundsDelta:new t.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,needsResize:!1,forceResize:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null,lastClickTime:null,draggingToZoom:!1},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=t.now(),t.EventSource.call(this),this.addHandler("open-failed",function(ht){var _t=t.getString("Errors.OpenFailed",ht.eventSource,ht.message);ot._showMessage(_t)}),t.ControlDock.call(this,I),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=t.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(ht){ht.width="100%",ht.height="100%",ht.overflow="hidden",ht.position="absolute",ht.top="0px",ht.left="0px"}(this.canvas.style),t.setElementTouchActionNone(this.canvas),I.tabIndex!==""&&(this.canvas.tabIndex=I.tabIndex===void 0?0:I.tabIndex),this.container.className="openseadragon-container",function(ht){ht.width="100%",ht.height="100%",ht.position="relative",ht.overflow="hidden",ht.left="0px",ht.top="0px",ht.textAlign="left"}(this.container.style),t.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new t.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:t.delegate(this,G),keyDownHandler:t.delegate(this,H),keyHandler:t.delegate(this,W),clickHandler:t.delegate(this,j),dblClickHandler:t.delegate(this,V),dragHandler:t.delegate(this,nt),dragEndHandler:t.delegate(this,gt),enterHandler:t.delegate(this,pt),leaveHandler:t.delegate(this,ct),pressHandler:t.delegate(this,Z),releaseHandler:t.delegate(this,at),nonPrimaryPressHandler:t.delegate(this,ft),nonPrimaryReleaseHandler:t.delegate(this,vt),scrollHandler:t.delegate(this,re),pinchHandler:t.delegate(this,Qt)}),this.outerTracker=new t.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:t.delegate(this,pe),leaveHandler:t.delegate(this,Gt)}),this.toolbar&&(this.toolbar=new t.ControlDock({element:this.toolbar})),this.bindStandardControls(),o[this.hash].prevContainerSize=u(this.container),window.ResizeObserver?(this._autoResizePolling=!1,this._resizeObserver=new ResizeObserver(function(){o[ot.hash].needsResize=!0}),this._resizeObserver.observe(this.container,{})):this._autoResizePolling=!0,this.world=new t.World({viewer:this}),this.world.addHandler("add-item",function(ht){ot.source=ot.world.getItemAt(0).source,o[ot.hash].forceRedraw=!0,ot._updateRequestId||(ot._updateRequestId=v(ot,ce))}),this.world.addHandler("remove-item",function(ht){ot.world.getItemCount()?ot.source=ot.world.getItemAt(0).source:ot.source=null,o[ot.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(ht){ot.viewport&&ot.viewport._setContentBounds(ot.world.getHomeBounds(),ot.world.getContentFactor())}),this.world.addHandler("item-index-change",function(ht){ot.source=ot.world.getItemAt(0).source}),this.viewport=new t.Viewport({containerSize:o[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins,silenceMultiImageWarnings:this.silenceMultiImageWarnings}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new t.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:I.timeout}),this.tileCache=new t.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new t.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=t.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(dt=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(dt,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(dt=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(dt,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new t.Navigator({element:this.navigatorElement,id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy,animationTime:this.animationTime})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),dt=0;dt<this.customControls.length;dt++)this.addControl(this.customControls[dt].id,{anchor:this.customControls[dt].anchor});t.requestAnimationFrame(function(){k(ot)}),this.imageSmoothingEnabled!==void 0&&!this.imageSmoothingEnabled&&this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),t._viewers.set(this.element,this)},t.extend(t.Viewer.prototype,t.EventSource.prototype,t.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(I){return t.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(I)},openTileSource:function(I){return t.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(I)},get buttons(){return t.console.warn("Viewer.buttons is deprecated; Please use Viewer.buttonGroup"),this.buttonGroup},open:function(I,U){var ot=this;if(this.close(),!I)return this;if(this.sequenceMode&&t.isArray(I))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),typeof U<"u"&&!isNaN(U)&&(this.initialPage=U),this.tileSources=I,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(t.isArray(I)||(I=[I]),!I.length)return this;this._opening=!0;for(var dt=I.length,ht=0,_t=0,ut,It=function(){if(ht+_t===dt)if(ht){(ot._firstOpen||!ot.preserveViewport)&&(ot.viewport.goHome(!0),ot.viewport.update()),ot._firstOpen=!1;var Kt=I[0];if(Kt.tileSource&&(Kt=Kt.tileSource),ot.overlays&&!ot.preserveOverlays)for(var ge=0;ge<ot.overlays.length;ge++)ot.currentOverlays[ge]=f(ot,ot.overlays[ge]);ot._drawOverlays(),ot._opening=!1,ot.raiseEvent("open",{source:Kt})}else ot._opening=!1,ot.raiseEvent("open-failed",ut)},Zt=function(Kt){(!t.isPlainObject(Kt)||!Kt.tileSource)&&(Kt={tileSource:Kt}),Kt.index!==void 0&&(t.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete Kt.index),Kt.collectionImmediately===void 0&&(Kt.collectionImmediately=!0);var ge=Kt.success;Kt.success=function(De){if(ht++,Kt.tileSource.overlays)for(var $=0;$<Kt.tileSource.overlays.length;$++)ot.addOverlay(Kt.tileSource.overlays[$]);ge&&ge(De),It()};var be=Kt.error;Kt.error=function(De){_t++,ut||(ut=De),be&&be(De),It()},ot.addTiledImage(Kt)},Yt=0;Yt<I.length;Yt++)Zt(I[Yt]);return this},close:function(){return o[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),o[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(o[this.hash]){if(this.raiseEvent("before-destroy"),this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this._resizeObserver&&this._resizeObserver.disconnect(),this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),this._updateRequestId!==null&&(t.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),o[this.navigator.hash]=null,delete o[this.navigator.hash],this.navigator=null),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)for(;this.customButtons.length;)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),o[this.hash]=null,delete o[this.hash],this.canvas=null,this.container=null,t._viewers.delete(this.element),this.element=null,this.raiseEvent("destroy"),this.removeAllHandlers()}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(I){return this.innerTracker.setTracking(I),this.outerTracker.setTracking(I),this.raiseEvent("mouse-enabled",{enabled:I}),this},areControlsEnabled:function(){var I=this.controls.length,U;for(U=0;U<this.controls.length;U++)I=I&&this.controls[U].isVisible();return I},setControlsEnabled:function(I){return I?M(this):k(this),this.raiseEvent("controls-enabled",{enabled:I}),this},setDebugMode:function(I){for(var U=0;U<this.world.getItemCount();U++)this.world.getItemAt(U).debugMode=I;this.debugMode=I,this.forceRedraw()},isFullPage:function(){return o[this.hash].fullPage},setFullPage:function(I){var U=document.body,ot=U.style,dt=document.documentElement.style,ht=this,_t,ut;if(I===this.isFullPage())return this;var It={fullPage:I,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",It),It.preventDefaultAction)return this;if(I){for(this.elementSize=t.getElementSize(this.element),this.pageScroll=t.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=ot.margin,this.docMargin=dt.margin,ot.margin="0",dt.margin="0",this.bodyPadding=ot.padding,this.docPadding=dt.padding,ot.padding="0",dt.padding="0",this.bodyWidth=ot.width,this.docWidth=dt.width,ot.width="100%",dt.width="100%",this.bodyHeight=ot.height,this.docHeight=dt.height,ot.height="100%",dt.height="100%",this.bodyDisplay=ot.display,ot.display="block",this.previousBody=[],o[this.hash].prevElementParent=this.element.parentNode,o[this.hash].prevNextSibling=this.element.nextSibling,o[this.hash].prevElementWidth=this.element.style.width,o[this.hash].prevElementHeight=this.element.style.height,_t=U.childNodes.length,ut=0;ut<_t;ut++)this.previousBody.push(U.childNodes[0]),U.removeChild(U.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,U.appendChild(this.toolbar.element),t.addClass(this.toolbar.element,"fullpage")),t.addClass(this.element,"fullpage"),U.appendChild(this.element),this.element.style.height="100vh",this.element.style.width="100vw",this.toolbar&&this.toolbar.element&&(this.element.style.height=t.getElementSize(this.element).y-t.getElementSize(this.toolbar.element).y+"px"),o[this.hash].fullPage=!0,t.delegate(this,pe)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,ot.margin=this.bodyMargin,dt.margin=this.docMargin,ot.padding=this.bodyPadding,dt.padding=this.docPadding,ot.width=this.bodyWidth,dt.width=this.docWidth,ot.height=this.bodyHeight,dt.height=this.docHeight,ot.display=this.bodyDisplay,U.removeChild(this.element),_t=this.previousBody.length,ut=0;ut<_t;ut++)U.appendChild(this.previousBody.shift());t.removeClass(this.element,"fullpage"),o[this.hash].prevElementParent.insertBefore(this.element,o[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(U.removeChild(this.toolbar.element),t.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=o[this.hash].prevElementWidth,this.element.style.height=o[this.hash].prevElementHeight;var Zt=0,Yt=function(){t.setPageScroll(ht.pageScroll);var Kt=t.getPageScroll();Zt++,Zt<10&&(Kt.x!==ht.pageScroll.x||Kt.y!==ht.pageScroll.y)&&t.requestAnimationFrame(Yt)};t.requestAnimationFrame(Yt),o[this.hash].fullPage=!1,t.delegate(this,Gt)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:I}),this},setFullScreen:function(I){var U=this;if(!t.supportsFullScreen)return this.setFullPage(I);if(t.isFullScreen()===I)return this;var ot={fullScreen:I,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",ot),ot.preventDefaultAction)return this;if(I){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var dt=function(){var ht=t.isFullScreen();ht||(t.removeEvent(document,t.fullScreenEventName,dt),t.removeEvent(document,t.fullScreenErrorEventName,dt),U.setFullPage(!1),U.isFullPage()&&(U.element.style.width=U.fullPageStyleWidth,U.element.style.height=U.fullPageStyleHeight)),U.navigator&&U.viewport&&setTimeout(function(){U.navigator.update(U.viewport)}),U.raiseEvent("full-screen",{fullScreen:ht})};t.addEvent(document,t.fullScreenEventName,dt),t.addEvent(document,t.fullScreenErrorEventName,dt),t.requestFullScreen(document.body)}else t.exitFullScreen();return this},isVisible:function(){return this.container.style.visibility!=="hidden"},isFullScreen:function(){return t.isFullScreen()&&this.isFullPage()},setVisible:function(I){return this.container.style.visibility=I?"":"hidden",this.raiseEvent("visible",{visible:I}),this},addTiledImage:function(I){t.console.assert(I,"[Viewer.addTiledImage] options is required"),t.console.assert(I.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),t.console.assert(!I.replace||I.index>-1&&I.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var U=this;I.replace&&(I.replaceItem=U.world.getItemAt(I.index)),this._hideMessage(),I.placeholderFillStyle===void 0&&(I.placeholderFillStyle=this.placeholderFillStyle),I.opacity===void 0&&(I.opacity=this.opacity),I.preload===void 0&&(I.preload=this.preload),I.compositeOperation===void 0&&(I.compositeOperation=this.compositeOperation),I.crossOriginPolicy===void 0&&(I.crossOriginPolicy=I.tileSource.crossOriginPolicy!==void 0?I.tileSource.crossOriginPolicy:this.crossOriginPolicy),I.ajaxWithCredentials===void 0&&(I.ajaxWithCredentials=this.ajaxWithCredentials),I.loadTilesWithAjax===void 0&&(I.loadTilesWithAjax=this.loadTilesWithAjax),I.ajaxHeaders===void 0||I.ajaxHeaders===null?I.ajaxHeaders=this.ajaxHeaders:t.isPlainObject(I.ajaxHeaders)&&t.isPlainObject(this.ajaxHeaders)&&(I.ajaxHeaders=t.extend({},this.ajaxHeaders,I.ajaxHeaders));var ot={options:I};function dt(ut){for(var It=0;It<U._loadQueue.length;It++)if(U._loadQueue[It]===ot){U._loadQueue.splice(It,1);break}U._loadQueue.length===0&&ht(ot),U.raiseEvent("add-item-failed",ut),I.error&&I.error(ut)}function ht(ut){U.collectionMode&&(U.world.arrange({immediately:ut.options.collectionImmediately,rows:U.collectionRows,columns:U.collectionColumns,layout:U.collectionLayout,tileSize:U.collectionTileSize,tileMargin:U.collectionTileMargin}),U.world.setAutoRefigureSizes(!0))}if(t.isArray(I.tileSource)){setTimeout(function(){dt({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:I.tileSource,options:I})});return}this._loadQueue.push(ot);function _t(){for(var ut,It,Zt;U._loadQueue.length&&(ut=U._loadQueue[0],!!ut.tileSource);){if(U._loadQueue.splice(0,1),ut.options.replace){var Yt=U.world.getIndexOfItem(ut.options.replaceItem);Yt!==-1&&(ut.options.index=Yt),U.world.removeItem(ut.options.replaceItem)}It=new t.TiledImage({viewer:U,source:ut.tileSource,viewport:U.viewport,drawer:U.drawer,tileCache:U.tileCache,imageLoader:U.imageLoader,x:ut.options.x,y:ut.options.y,width:ut.options.width,height:ut.options.height,fitBounds:ut.options.fitBounds,fitBoundsPlacement:ut.options.fitBoundsPlacement,clip:ut.options.clip,placeholderFillStyle:ut.options.placeholderFillStyle,opacity:ut.options.opacity,preload:ut.options.preload,degrees:ut.options.degrees,flipped:ut.options.flipped,compositeOperation:ut.options.compositeOperation,springStiffness:U.springStiffness,animationTime:U.animationTime,minZoomImageRatio:U.minZoomImageRatio,wrapHorizontal:U.wrapHorizontal,wrapVertical:U.wrapVertical,immediateRender:U.immediateRender,blendTime:U.blendTime,alwaysBlend:U.alwaysBlend,minPixelRatio:U.minPixelRatio,smoothTileEdgesMinZoom:U.smoothTileEdgesMinZoom,iOSDevice:U.iOSDevice,crossOriginPolicy:ut.options.crossOriginPolicy,ajaxWithCredentials:ut.options.ajaxWithCredentials,loadTilesWithAjax:ut.options.loadTilesWithAjax,ajaxHeaders:ut.options.ajaxHeaders,debugMode:U.debugMode,subPixelRoundingForTransparency:U.subPixelRoundingForTransparency}),U.collectionMode&&U.world.setAutoRefigureSizes(!1),U.navigator&&(Zt=t.extend({},ut.options,{replace:!1,originalTiledImage:It,tileSource:ut.tileSource}),U.navigator.addTiledImage(Zt)),U.world.addItem(It,{index:ut.options.index}),U._loadQueue.length===0&&ht(ut),U.world.getItemCount()===1&&!U.preserveViewport&&U.viewport.goHome(!0),ut.options.success&&ut.options.success({item:It})}}d(this,I.tileSource,I,function(ut){ot.tileSource=ut,_t()},function(ut){ut.options=I,dt(ut),_t()})},addSimpleImage:function(I){t.console.assert(I,"[Viewer.addSimpleImage] options is required"),t.console.assert(I.url,"[Viewer.addSimpleImage] options.url is required");var U=t.extend({},I,{tileSource:{type:"image",url:I.url}});delete U.url,this.addTiledImage(U)},addLayer:function(I){var U=this;t.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var ot=t.extend({},I,{success:function(dt){U.raiseEvent("add-layer",{options:I,drawer:dt.item})},error:function(dt){U.raiseEvent("add-layer-failed",dt)}});return this.addTiledImage(ot),this},getLayerAtLevel:function(I){return t.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(I)},getLevelOfLayer:function(I){return t.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(I)},getLayersCount:function(){return t.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(I,U){return t.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(I,U)},removeLayer:function(I){return t.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(I)},forceRedraw:function(){return o[this.hash].forceRedraw=!0,this},forceResize:function(){o[this.hash].needsResize=!0,o[this.hash].forceResize=!0},bindSequenceControls:function(){var I=t.delegate(this,A),U=t.delegate(this,F),ot=t.delegate(this,this.goToNextPage),dt=t.delegate(this,this.goToPreviousPage),ht=this.navImages,_t=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(_t=!1),this.previousButton=new t.Button({element:this.previousButton?t.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.PreviousPage"),srcRest:Nt(this.prefixUrl,ht.previous.REST),srcGroup:Nt(this.prefixUrl,ht.previous.GROUP),srcHover:Nt(this.prefixUrl,ht.previous.HOVER),srcDown:Nt(this.prefixUrl,ht.previous.DOWN),onRelease:dt,onFocus:I,onBlur:U}),this.nextButton=new t.Button({element:this.nextButton?t.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.NextPage"),srcRest:Nt(this.prefixUrl,ht.next.REST),srcGroup:Nt(this.prefixUrl,ht.next.GROUP),srcHover:Nt(this.prefixUrl,ht.next.HOVER),srcDown:Nt(this.prefixUrl,ht.next.DOWN),onRelease:ot,onFocus:I,onBlur:U}),this.navPrevNextWrap||this.previousButton.disable(),(!this.tileSources||!this.tileSources.length)&&this.nextButton.disable(),_t&&(this.paging=new t.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:t.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||t.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var I=t.delegate(this,Vt),U=t.delegate(this,de),ot=t.delegate(this,rr),dt=t.delegate(this,te),ht=t.delegate(this,gr),_t=t.delegate(this,Xi),ut=t.delegate(this,Bi),It=t.delegate(this,yt),Zt=t.delegate(this,kt),Yt=t.delegate(this,zt),Kt=t.delegate(this,A),ge=t.delegate(this,F),be=this.navImages,De=[],$=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&($=!1),this.showZoomControl&&(De.push(this.zoomInButton=new t.Button({element:this.zoomInButton?t.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.ZoomIn"),srcRest:Nt(this.prefixUrl,be.zoomIn.REST),srcGroup:Nt(this.prefixUrl,be.zoomIn.GROUP),srcHover:Nt(this.prefixUrl,be.zoomIn.HOVER),srcDown:Nt(this.prefixUrl,be.zoomIn.DOWN),onPress:I,onRelease:U,onClick:ot,onEnter:I,onExit:U,onFocus:Kt,onBlur:ge})),De.push(this.zoomOutButton=new t.Button({element:this.zoomOutButton?t.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.ZoomOut"),srcRest:Nt(this.prefixUrl,be.zoomOut.REST),srcGroup:Nt(this.prefixUrl,be.zoomOut.GROUP),srcHover:Nt(this.prefixUrl,be.zoomOut.HOVER),srcDown:Nt(this.prefixUrl,be.zoomOut.DOWN),onPress:dt,onRelease:U,onClick:ht,onEnter:dt,onExit:U,onFocus:Kt,onBlur:ge}))),this.showHomeControl&&De.push(this.homeButton=new t.Button({element:this.homeButton?t.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.Home"),srcRest:Nt(this.prefixUrl,be.home.REST),srcGroup:Nt(this.prefixUrl,be.home.GROUP),srcHover:Nt(this.prefixUrl,be.home.HOVER),srcDown:Nt(this.prefixUrl,be.home.DOWN),onRelease:_t,onFocus:Kt,onBlur:ge})),this.showFullPageControl&&De.push(this.fullPageButton=new t.Button({element:this.fullPageButton?t.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.FullPage"),srcRest:Nt(this.prefixUrl,be.fullpage.REST),srcGroup:Nt(this.prefixUrl,be.fullpage.GROUP),srcHover:Nt(this.prefixUrl,be.fullpage.HOVER),srcDown:Nt(this.prefixUrl,be.fullpage.DOWN),onRelease:ut,onFocus:Kt,onBlur:ge})),this.showRotationControl&&(De.push(this.rotateLeftButton=new t.Button({element:this.rotateLeftButton?t.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.RotateLeft"),srcRest:Nt(this.prefixUrl,be.rotateleft.REST),srcGroup:Nt(this.prefixUrl,be.rotateleft.GROUP),srcHover:Nt(this.prefixUrl,be.rotateleft.HOVER),srcDown:Nt(this.prefixUrl,be.rotateleft.DOWN),onRelease:It,onFocus:Kt,onBlur:ge})),De.push(this.rotateRightButton=new t.Button({element:this.rotateRightButton?t.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.RotateRight"),srcRest:Nt(this.prefixUrl,be.rotateright.REST),srcGroup:Nt(this.prefixUrl,be.rotateright.GROUP),srcHover:Nt(this.prefixUrl,be.rotateright.HOVER),srcDown:Nt(this.prefixUrl,be.rotateright.DOWN),onRelease:Zt,onFocus:Kt,onBlur:ge}))),this.showFlipControl&&De.push(this.flipButton=new t.Button({element:this.flipButton?t.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.Flip"),srcRest:Nt(this.prefixUrl,be.flip.REST),srcGroup:Nt(this.prefixUrl,be.flip.GROUP),srcHover:Nt(this.prefixUrl,be.flip.HOVER),srcDown:Nt(this.prefixUrl,be.flip.DOWN),onRelease:Yt,onFocus:Kt,onBlur:ge})),$?(this.buttonGroup=new t.ButtonGroup({buttons:De,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",t.delegate(this,vi)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||t.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||t.ControlAnchor.TOP_LEFT})):this.customButtons=De),this},currentPage:function(){return this._sequenceIndex},goToPage:function(I){return this.tileSources&&I>=0&&I<this.tileSources.length&&(this._sequenceIndex=I,this._updateSequenceButtons(I),this.open(this.tileSources[I]),this.referenceStrip&&this.referenceStrip.setFocus(I),this.raiseEvent("page",{page:I})),this},addOverlay:function(I,U,ot,dt){var ht;if(t.isPlainObject(I)?ht=I:ht={element:I,location:U,placement:ot,onDraw:dt},I=t.getElement(ht.element),m(this.currentOverlays,I)>=0)return this;var _t=f(this,ht);return this.currentOverlays.push(_t),_t.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:I,location:ht.location,placement:ht.placement}),this},updateOverlay:function(I,U,ot){var dt;return I=t.getElement(I),dt=m(this.currentOverlays,I),dt>=0&&(this.currentOverlays[dt].update(U,ot),o[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:I,location:U,placement:ot})),this},removeOverlay:function(I){var U;return I=t.getElement(I),U=m(this.currentOverlays,I),U>=0&&(this.currentOverlays[U].destroy(),this.currentOverlays.splice(U,1),o[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:I})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return o[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(I){var U;return I=t.getElement(I),U=m(this.currentOverlays,I),U>=0?this.currentOverlays[U]:null},_updateSequenceButtons:function(I){this.nextButton&&(!this.tileSources||this.tileSources.length-1===I?this.navPrevNextWrap||this.nextButton.disable():this.nextButton.enable()),this.previousButton&&(I>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(I){this._hideMessage();var U=t.makeNeutralElement("div");U.appendChild(document.createTextNode(I)),this.messageDiv=t.makeCenteredNode(U),t.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var I=this.messageDiv;I&&(I.parentNode.removeChild(I),delete this.messageDiv)},gestureSettingsByDeviceType:function(I){switch(I){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var I,U=this.currentOverlays.length;for(I=0;I<U;I++)this.currentOverlays[I].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new t.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,useCanvas:this.useCanvas,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else t.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),t.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){t.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var I=t.pixelDensityRatio,U=t.getCurrentPixelDensityRatio();I!==U&&(t.pixelDensityRatio=U,this.world.resetItems(),this.forceRedraw())},goToPreviousPage:function(){var I=this._sequenceIndex-1;this.navPrevNextWrap&&I<0&&(I+=this.tileSources.length),this.goToPage(I)},goToNextPage:function(){var I=this._sequenceIndex+1;this.navPrevNextWrap&&I>=this.tileSources.length&&(I=0),this.goToPage(I)},isAnimating:function(){return o[this.hash].animating}});function u(I){return I=t.getElement(I),new t.Point(I.clientWidth===0?1:I.clientWidth,I.clientHeight===0?1:I.clientHeight)}function d(I,U,ot,dt,ht){var _t=I;if(t.type(U)==="string"){if(U.match(/^\s*<.*>\s*$/))U=t.parseXml(U);else if(U.match(/^\s*[{[].*[}\]]\s*$/))try{var ut=t.parseJSON(U);U=ut}catch{}}function It(Zt,Yt){Zt.ready?dt(Zt):(Zt.addHandler("ready",function(){dt(Zt)}),Zt.addHandler("open-failed",function(Kt){ht({message:Kt.message,source:Yt})}))}setTimeout(function(){if(t.type(U)==="string")U=new t.TileSource({url:U,crossOriginPolicy:ot.crossOriginPolicy!==void 0?ot.crossOriginPolicy:I.crossOriginPolicy,ajaxWithCredentials:I.ajaxWithCredentials,ajaxHeaders:ot.ajaxHeaders?ot.ajaxHeaders:I.ajaxHeaders,splitHashDataForPost:I.splitHashDataForPost,useCanvas:I.useCanvas,success:function(ge){dt(ge.tileSource)}}),U.addHandler("open-failed",function(ge){ht(ge)});else if(t.isPlainObject(U)||U.nodeType)if(U.crossOriginPolicy===void 0&&(ot.crossOriginPolicy!==void 0||I.crossOriginPolicy!==void 0)&&(U.crossOriginPolicy=ot.crossOriginPolicy!==void 0?ot.crossOriginPolicy:I.crossOriginPolicy),U.ajaxWithCredentials===void 0&&(U.ajaxWithCredentials=I.ajaxWithCredentials),U.useCanvas===void 0&&(U.useCanvas=I.useCanvas),t.isFunction(U.getTileUrl)){var Zt=new t.TileSource(U);Zt.getTileUrl=U.getTileUrl,dt(Zt)}else{var Yt=t.TileSource.determineType(_t,U);if(!Yt){ht({message:"Unable to load TileSource",source:U});return}var Kt=Yt.prototype.configure.apply(_t,[U]);It(new Yt(Kt),U)}else It(U,U)})}function f(I,U){if(U instanceof t.Overlay)return U;var ot=null;if(U.element)ot=t.getElement(U.element);else{var dt=U.id?U.id:"openseadragon-overlay-"+Math.floor(Math.random()*1e7);ot=t.getElement(U.id),ot||(ot=document.createElement("a"),ot.href="#/overlay/"+dt),ot.id=dt,t.addClass(ot,U.className?U.className:"openseadragon-overlay")}var ht=U.location,_t=U.width,ut=U.height;if(!ht){var It=U.x,Zt=U.y;if(U.px!==void 0){var Yt=I.viewport.imageToViewportRectangle(new t.Rect(U.px,U.py,_t||0,ut||0));It=Yt.x,Zt=Yt.y,_t=_t!==void 0?Yt.width:void 0,ut=ut!==void 0?Yt.height:void 0}ht=new t.Point(It,Zt)}var Kt=U.placement;return Kt&&t.type(Kt)==="string"&&(Kt=t.Placement[U.placement.toUpperCase()]),new t.Overlay({element:ot,location:ht,placement:Kt,onDraw:U.onDraw,checkResize:U.checkResize,width:_t,height:ut,rotationMode:U.rotationMode})}function m(I,U){var ot;for(ot=I.length-1;ot>=0;ot--)if(I[ot].element===U)return ot;return-1}function v(I,U){return t.requestAnimationFrame(function(){U(I)})}function _(I){t.requestAnimationFrame(function(){C(I)})}function k(I){I.autoHideControls&&(I.controlsShouldFade=!0,I.controlsFadeBeginTime=t.now()+I.controlsFadeDelay,window.setTimeout(function(){_(I)},I.controlsFadeDelay))}function C(I){var U,ot,dt,ht;if(I.controlsShouldFade){for(U=t.now(),ot=U-I.controlsFadeBeginTime,dt=1-ot/I.controlsFadeLength,dt=Math.min(1,dt),dt=Math.max(0,dt),ht=I.controls.length-1;ht>=0;ht--)I.controls[ht].autoFade&&I.controls[ht].setOpacity(dt);dt>0&&_(I)}}function M(I){var U;for(I.controlsShouldFade=!1,U=I.controls.length-1;U>=0;U--)I.controls[U].setOpacity(1)}function A(){M(this)}function F(){k(this)}function G(I){var U={tracker:I.eventSource,position:I.position,originalEvent:I.originalEvent,preventDefault:I.preventDefault};this.raiseEvent("canvas-contextmenu",U),I.preventDefault=U.preventDefault}function H(I){var U={originalEvent:I.originalEvent,preventDefaultAction:!1,preventVerticalPan:I.preventVerticalPan||!this.panVertical,preventHorizontalPan:I.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",U),!U.preventDefaultAction&&!I.ctrl&&!I.alt&&!I.meta)switch(I.keyCode){case 38:U.preventVerticalPan||(I.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 40:U.preventVerticalPan||(I.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 37:U.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 39:U.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),I.preventDefault=!0;break;default:I.preventDefault=!1;break}else I.preventDefault=!1}function W(I){var U={originalEvent:I.originalEvent,preventDefaultAction:!1,preventVerticalPan:I.preventVerticalPan||!this.panVertical,preventHorizontalPan:I.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",U),!U.preventDefaultAction&&!I.ctrl&&!I.alt&&!I.meta)switch(I.keyCode){case 43:case 61:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),I.preventDefault=!0;break;case 45:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),I.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),I.preventDefault=!0;break;case 119:case 87:U.preventVerticalPan||(I.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,-40))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 115:case 83:U.preventVerticalPan||(I.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,40))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 97:U.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(-40,0))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 100:U.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(40,0))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 114:this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement),this.viewport.applyConstraints(),I.preventDefault=!0;break;case 82:this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement),this.viewport.applyConstraints(),I.preventDefault=!0;break;case 102:this.viewport.toggleFlip(),I.preventDefault=!0;break;case 106:this.goToPreviousPage();break;case 107:this.goToNextPage();break;default:I.preventDefault=!1;break}else I.preventDefault=!1}function j(I){var U,ot=document.activeElement===this.canvas;ot||this.canvas.focus(),this.viewport.flipped&&(I.position.x=this.viewport.getContainerSize().x-I.position.x);var dt={tracker:I.eventSource,position:I.position,quick:I.quick,shift:I.shift,originalEvent:I.originalEvent,originalTarget:I.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",dt),!dt.preventDefaultAction&&this.viewport&&I.quick&&(U=this.gestureSettingsByDeviceType(I.pointerType),U.clickToZoom===!0&&(this.viewport.zoomBy(I.shift?1/this.zoomPerClick:this.zoomPerClick,U.zoomToRefPoint?this.viewport.pointFromPixel(I.position,!0):null),this.viewport.applyConstraints()),U.dblClickDragToZoom&&(o[this.hash].draggingToZoom===!0?(o[this.hash].lastClickTime=null,o[this.hash].draggingToZoom=!1):o[this.hash].lastClickTime=t.now()))}function V(I){var U,ot={tracker:I.eventSource,position:I.position,shift:I.shift,originalEvent:I.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",ot),!ot.preventDefaultAction&&this.viewport&&(U=this.gestureSettingsByDeviceType(I.pointerType),U.dblClickToZoom&&(this.viewport.zoomBy(I.shift?1/this.zoomPerClick:this.zoomPerClick,U.zoomToRefPoint?this.viewport.pointFromPixel(I.position,!0):null),this.viewport.applyConstraints()))}function nt(I){var U,ot={tracker:I.eventSource,pointerType:I.pointerType,position:I.position,delta:I.delta,speed:I.speed,direction:I.direction,shift:I.shift,originalEvent:I.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",ot),U=this.gestureSettingsByDeviceType(I.pointerType),!ot.preventDefaultAction&&this.viewport){if(U.dblClickDragToZoom&&o[this.hash].draggingToZoom){var dt=Math.pow(this.zoomPerDblClickDrag,I.delta.y/50);this.viewport.zoomBy(dt)}else if(U.dragToPan&&!o[this.hash].draggingToZoom){if(this.panHorizontal||(I.delta.x=0),this.panVertical||(I.delta.y=0),this.viewport.flipped&&(I.delta.x=-I.delta.x),this.constrainDuringPan){var ht=this.viewport.deltaPointsFromPixels(I.delta.negate());this.viewport.centerSpringX.target.value+=ht.x,this.viewport.centerSpringY.target.value+=ht.y;var _t=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=ht.x,this.viewport.centerSpringY.target.value-=ht.y,_t.xConstrained&&(I.delta.x=0),_t.yConstrained&&(I.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(I.delta.negate()),U.flickEnabled&&!this.constrainDuringPan)}}}function gt(I){var U,ot={tracker:I.eventSource,pointerType:I.pointerType,position:I.position,speed:I.speed,direction:I.direction,shift:I.shift,originalEvent:I.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",ot),U=this.gestureSettingsByDeviceType(I.pointerType),!ot.preventDefaultAction&&this.viewport){if(!o[this.hash].draggingToZoom&&U.flickEnabled&&I.speed>=U.flickMinSpeed){var dt=0;this.panHorizontal&&(dt=U.flickMomentum*I.speed*Math.cos(I.direction));var ht=0;this.panVertical&&(ht=U.flickMomentum*I.speed*Math.sin(I.direction));var _t=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),ut=this.viewport.pointFromPixel(new t.Point(_t.x-dt,_t.y-ht));this.viewport.panTo(ut,!1)}this.viewport.applyConstraints()}U.dblClickDragToZoom&&o[this.hash].draggingToZoom===!0&&(o[this.hash].draggingToZoom=!1)}function pt(I){this.raiseEvent("canvas-enter",{tracker:I.eventSource,pointerType:I.pointerType,position:I.position,buttons:I.buttons,pointers:I.pointers,insideElementPressed:I.insideElementPressed,buttonDownAny:I.buttonDownAny,originalEvent:I.originalEvent})}function ct(I){this.raiseEvent("canvas-exit",{tracker:I.eventSource,pointerType:I.pointerType,position:I.position,buttons:I.buttons,pointers:I.pointers,insideElementPressed:I.insideElementPressed,buttonDownAny:I.buttonDownAny,originalEvent:I.originalEvent})}function Z(I){var U;if(this.raiseEvent("canvas-press",{tracker:I.eventSource,pointerType:I.pointerType,position:I.position,insideElementPressed:I.insideElementPressed,insideElementReleased:I.insideElementReleased,originalEvent:I.originalEvent}),U=this.gestureSettingsByDeviceType(I.pointerType),U.dblClickDragToZoom){var ot=o[this.hash].lastClickTime,dt=t.now();if(ot===null)return;dt-ot<this.dblClickTimeThreshold&&(o[this.hash].draggingToZoom=!0),o[this.hash].lastClickTime=null}}function at(I){this.raiseEvent("canvas-release",{tracker:I.eventSource,pointerType:I.pointerType,position:I.position,insideElementPressed:I.insideElementPressed,insideElementReleased:I.insideElementReleased,originalEvent:I.originalEvent})}function ft(I){this.raiseEvent("canvas-nonprimary-press",{tracker:I.eventSource,position:I.position,pointerType:I.pointerType,button:I.button,buttons:I.buttons,originalEvent:I.originalEvent})}function vt(I){this.raiseEvent("canvas-nonprimary-release",{tracker:I.eventSource,position:I.position,pointerType:I.pointerType,button:I.button,buttons:I.buttons,originalEvent:I.originalEvent})}function Qt(I){var U,ot,dt,ht,_t={tracker:I.eventSource,pointerType:I.pointerType,gesturePoints:I.gesturePoints,lastCenter:I.lastCenter,center:I.center,lastDistance:I.lastDistance,distance:I.distance,shift:I.shift,originalEvent:I.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",_t),this.viewport&&(U=this.gestureSettingsByDeviceType(I.pointerType),U.pinchToZoom&&(!_t.preventDefaultPanAction||!_t.preventDefaultZoomAction)&&(ot=this.viewport.pointFromPixel(I.center,!0),U.zoomToRefPoint&&!_t.preventDefaultPanAction&&(dt=this.viewport.pointFromPixel(I.lastCenter,!0),ht=dt.minus(ot),this.panHorizontal||(ht.x=0),this.panVertical||(ht.y=0),this.viewport.panBy(ht,!0)),_t.preventDefaultZoomAction||this.viewport.zoomBy(I.distance/I.lastDistance,ot,!0),this.viewport.applyConstraints()),U.pinchRotate&&!_t.preventDefaultRotateAction)){var ut=Math.atan2(I.gesturePoints[0].currentPos.y-I.gesturePoints[1].currentPos.y,I.gesturePoints[0].currentPos.x-I.gesturePoints[1].currentPos.x),It=Math.atan2(I.gesturePoints[0].lastPos.y-I.gesturePoints[1].lastPos.y,I.gesturePoints[0].lastPos.x-I.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(ut-It)*(180/Math.PI))}}function re(I){var U,ot,dt,ht,_t;ht=t.now(),_t=ht-this._lastScrollTime,_t>this.minScrollDeltaTime?(this._lastScrollTime=ht,U={tracker:I.eventSource,position:I.position,scroll:I.scroll,shift:I.shift,originalEvent:I.originalEvent,preventDefaultAction:!1,preventDefault:!0},this.raiseEvent("canvas-scroll",U),!U.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(I.position.x=this.viewport.getContainerSize().x-I.position.x),ot=this.gestureSettingsByDeviceType(I.pointerType),ot.scrollToZoom&&(dt=Math.pow(this.zoomPerScroll,I.scroll),this.viewport.zoomBy(dt,ot.zoomToRefPoint?this.viewport.pointFromPixel(I.position,!0):null),this.viewport.applyConstraints())),I.preventDefault=U.preventDefault):I.preventDefault=!0}function pe(I){o[this.hash].mouseInside=!0,M(this),this.raiseEvent("container-enter",{tracker:I.eventSource,pointerType:I.pointerType,position:I.position,buttons:I.buttons,pointers:I.pointers,insideElementPressed:I.insideElementPressed,buttonDownAny:I.buttonDownAny,originalEvent:I.originalEvent})}function Gt(I){I.pointers<1&&(o[this.hash].mouseInside=!1,o[this.hash].animating||k(this)),this.raiseEvent("container-exit",{tracker:I.eventSource,pointerType:I.pointerType,position:I.position,buttons:I.buttons,pointers:I.pointers,insideElementPressed:I.insideElementPressed,buttonDownAny:I.buttonDownAny,originalEvent:I.originalEvent})}function ce(I){tr(I),I.isOpen()?I._updateRequestId=v(I,ce):I._updateRequestId=!1}function Jt(I,U){var ot=I.viewport,dt=ot.getZoom(),ht=ot.getCenter();ot.resize(U,I.preserveImageSizeOnResize),ot.panTo(ht,!0);var _t;if(I.preserveImageSizeOnResize)_t=o[I.hash].prevContainerSize.x/U.x;else{var ut=new t.Point(0,0),It=new t.Point(o[I.hash].prevContainerSize.x,o[I.hash].prevContainerSize.y).distanceTo(ut),Zt=new t.Point(U.x,U.y).distanceTo(ut);_t=Zt/It*o[I.hash].prevContainerSize.x/U.x}ot.zoomTo(dt*_t,null,!0),o[I.hash].prevContainerSize=U,o[I.hash].forceRedraw=!0,o[I.hash].needsResize=!1,o[I.hash].forceResize=!1}function tr(I){if(!(I._opening||!o[I.hash])){if(I.autoResize||o[I.hash].forceResize){var U;if(I._autoResizePolling){U=u(I.container);var ot=o[I.hash].prevContainerSize;U.equals(ot)||(o[I.hash].needsResize=!0)}o[I.hash].needsResize&&Jt(I,U||u(I.container))}var dt=I.viewport.update(),ht=I.world.update()||dt;dt&&I.raiseEvent("viewport-change"),I.referenceStrip&&(ht=I.referenceStrip.update(I.viewport)||ht);var _t=o[I.hash].animating;!_t&&ht&&(I.raiseEvent("animation-start"),M(I));var ut=_t&&!ht;ut&&(o[I.hash].animating=!1),(ht||ut||o[I.hash].forceRedraw||I.world.needsDraw())&&(xt(I),I._drawOverlays(),I.navigator&&I.navigator.update(I.viewport),o[I.hash].forceRedraw=!1,ht&&I.raiseEvent("animation")),ut&&(I.raiseEvent("animation-finish"),o[I.hash].mouseInside||k(I)),o[I.hash].animating=ht}}function xt(I){I.imageLoader.clear(),I.drawer.clear(),I.world.draw(),I.raiseEvent("update-viewport",{})}function Nt(I,U){return I?I+U:U}function Vt(){o[this.hash].lastZoomTime=t.now(),o[this.hash].zoomFactor=this.zoomPerSecond,o[this.hash].zooming=!0,oe(this)}function te(){o[this.hash].lastZoomTime=t.now(),o[this.hash].zoomFactor=1/this.zoomPerSecond,o[this.hash].zooming=!0,oe(this)}function de(){o[this.hash].zooming=!1}function oe(I){t.requestAnimationFrame(t.delegate(I,se))}function se(){var I,U,ot;o[this.hash].zooming&&this.viewport&&(I=t.now(),U=I-o[this.hash].lastZoomTime,ot=Math.pow(o[this.hash].zoomFactor,U/1e3),this.viewport.zoomBy(ot),this.viewport.applyConstraints(),o[this.hash].lastZoomTime=I,oe(this))}function rr(){this.viewport&&(o[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function gr(){this.viewport&&(o[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function vi(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function Xi(){this.viewport&&this.viewport.goHome()}function Bi(){this.isFullPage()&&!t.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function yt(){if(this.viewport){var I=this.viewport.getRotation();this.viewport.flipped?I+=this.rotationIncrement:I-=this.rotationIncrement,this.viewport.setRotation(I)}}function kt(){if(this.viewport){var I=this.viewport.getRotation();this.viewport.flipped?I-=this.rotationIncrement:I+=this.rotationIncrement,this.viewport.setRotation(I)}}function zt(){this.viewport.toggleFlip()}}(r),function(t){t.Navigator=function(v){var _=v.viewer,k=this,C,M;v.element||v.id?(v.element?(v.id&&t.console.warn("Given option.id for Navigator was ignored since option.element was provided and is being used instead."),v.element.id?v.id=v.element.id:v.id="navigator-"+t.now(),this.element=v.element):this.element=document.getElementById(v.id),v.controlOptions={anchor:t.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(v.id="navigator-"+t.now(),this.element=t.makeNeutralElement("div"),v.controlOptions={anchor:t.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:v.autoFade},v.position&&(v.position==="BOTTOM_RIGHT"?v.controlOptions.anchor=t.ControlAnchor.BOTTOM_RIGHT:v.position==="BOTTOM_LEFT"?v.controlOptions.anchor=t.ControlAnchor.BOTTOM_LEFT:v.position==="TOP_RIGHT"?v.controlOptions.anchor=t.ControlAnchor.TOP_RIGHT:v.position==="TOP_LEFT"?v.controlOptions.anchor=t.ControlAnchor.TOP_LEFT:v.position==="ABSOLUTE"&&(v.controlOptions.anchor=t.ControlAnchor.ABSOLUTE,v.controlOptions.top=v.top,v.controlOptions.left=v.left,v.controlOptions.height=v.height,v.controlOptions.width=v.width))),this.element.id=v.id,this.element.className+=" navigator",v=t.extend(!0,{sizeRatio:t.DEFAULT_SETTINGS.navigatorSizeRatio},v,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:v.animationTime,autoResize:!1,minZoomImageRatio:1,background:v.background,opacity:v.opacity,borderColor:v.borderColor,displayRegionColor:v.displayRegionColor}),v.minPixelRatio=this.minPixelRatio=_.minPixelRatio,t.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new t.Point(1,1),this.totalBorderWidths=new t.Point(this.borderWidth*2,this.borderWidth*2).minus(this.fudge),v.controlOptions.anchor!==t.ControlAnchor.NONE&&function(G,H){G.margin="0px",G.border=H+"px solid "+v.borderColor,G.padding="0px",G.background=v.background,G.opacity=v.opacity,G.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=t.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(G,H){G.position="relative",G.top="0px",G.left="0px",G.fontSize="0px",G.overflow="hidden",G.border=H+"px solid "+v.displayRegionColor,G.margin="0px",G.padding="0px",G.background="transparent",G.float="left",G.cssFloat="left",G.styleFloat="left",G.zIndex=999999999,G.cursor="default"}(this.displayRegion.style,this.borderWidth),t.setElementPointerEventsNone(this.displayRegion),t.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=t.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",t.setElementPointerEventsNone(this.displayRegionContainer),t.setElementTouchActionNone(this.displayRegionContainer),_.addControl(this.element,v.controlOptions),this._resizeWithViewer=v.controlOptions.anchor!==t.ControlAnchor.ABSOLUTE&&v.controlOptions.anchor!==t.ControlAnchor.NONE,v.width&&v.height?(this.setWidth(v.width),this.setHeight(v.height)):this._resizeWithViewer&&(C=t.getElementSize(_.element),this.element.style.height=Math.round(C.y*v.sizeRatio)+"px",this.element.style.width=Math.round(C.x*v.sizeRatio)+"px",this.oldViewerSize=C,M=t.getElementSize(this.element),this.elementArea=M.x*M.y),this.oldContainerSize=new t.Point(0,0),t.Viewer.apply(this,[v]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer);function A(G){f(k.displayRegionContainer,G),f(k.displayRegion,-G),k.viewport.setRotation(G)}if(v.navigatorRotate){var F=v.viewer.viewport?v.viewer.viewport.getRotation():v.viewer.degrees||0;A(F),v.viewer.addHandler("rotate",function(G){A(G.degrees)})}this.innerTracker.destroy(),this.innerTracker=new t.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:t.delegate(this,l),clickHandler:t.delegate(this,o),releaseHandler:t.delegate(this,u),scrollHandler:t.delegate(this,d),preProcessEventHandler:function(G){G.eventType==="wheel"&&(G.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",t.setElementPointerEventsNone(this.canvas),t.setElementPointerEventsNone(this.container),this.addHandler("reset-size",function(){k.viewport&&k.viewport.goHome(!0)}),_.world.addHandler("item-index-change",function(G){window.setTimeout(function(){var H=k.world.getItemAt(G.previousIndex);k.world.setItemIndex(H,G.newIndex)},1)}),_.world.addHandler("remove-item",function(G){var H=G.item,W=k._getMatchingItem(H);W&&k.world.removeItem(W)}),this.update(_.viewport)},t.extend(t.Navigator.prototype,t.EventSource.prototype,t.Viewer.prototype,{updateSize:function(){if(this.viewport){var v=new t.Point(this.container.clientWidth===0?1:this.container.clientWidth,this.container.clientHeight===0?1:this.container.clientHeight);v.equals(this.oldContainerSize)||(this.viewport.resize(v,!0),this.viewport.goHome(!0),this.oldContainerSize=v,this.drawer.clear(),this.world.draw())}},setWidth:function(v){this.width=v,this.element.style.width=typeof v=="number"?v+"px":v,this._resizeWithViewer=!1},setHeight:function(v){this.height=v,this.element.style.height=typeof v=="number"?v+"px":v,this._resizeWithViewer=!1},setFlip:function(v){return this.viewport.setFlip(v),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(v){m(this.displayRegion,v),m(this.canvas,v),m(this.element,v)},update:function(v){var _,k,C,M,A,F;if(_=t.getElementSize(this.viewer.element),this._resizeWithViewer&&_.x&&_.y&&!_.equals(this.oldViewerSize)&&(this.oldViewerSize=_,this.maintainSizeRatio||!this.elementArea?(k=_.x*this.sizeRatio,C=_.y*this.sizeRatio):(k=Math.sqrt(this.elementArea*(_.x/_.y)),C=this.elementArea/k),this.element.style.width=Math.round(k)+"px",this.element.style.height=Math.round(C)+"px",this.elementArea||(this.elementArea=k*C),this.updateSize()),v&&this.viewport){M=v.getBoundsNoRotate(!0),A=this.viewport.pixelFromPointNoRotate(M.getTopLeft(),!1),F=this.viewport.pixelFromPointNoRotate(M.getBottomRight(),!1).minus(this.totalBorderWidths);var G=this.displayRegion.style;G.display=this.world.getItemCount()?"block":"none",G.top=Math.round(A.y)+"px",G.left=Math.round(A.x)+"px";var H=Math.abs(A.x-F.x),W=Math.abs(A.y-F.y);G.width=Math.round(Math.max(H,0))+"px",G.height=Math.round(Math.max(W,0))+"px"}},addTiledImage:function(v){var _=this,k=v.originalTiledImage;delete v.original;var C=t.extend({},v,{success:function(M){var A=M.item;A._originalForNavigator=k,_._matchBounds(A,k,!0),_._matchOpacity(A,k),_._matchCompositeOperation(A,k);function F(){_._matchBounds(A,k)}function G(){_._matchOpacity(A,k)}function H(){_._matchCompositeOperation(A,k)}k.addHandler("bounds-change",F),k.addHandler("clip-change",F),k.addHandler("opacity-change",G),k.addHandler("composite-operation-change",H)}});return t.Viewer.prototype.addTiledImage.apply(this,[C])},destroy:function(){return t.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(v){for(var _=this.world.getItemCount(),k,C=0;C<_;C++)if(k=this.world.getItemAt(C),k._originalForNavigator===v)return k;return null},_matchBounds:function(v,_,k){var C=_.getBoundsNoRotate();v.setPosition(C.getTopLeft(),k),v.setWidth(C.width,k),v.setRotation(_.getRotation(),k),v.setClip(_.getClip()),v.setFlip(_.getFlip())},_matchOpacity:function(v,_){v.setOpacity(_.opacity)},_matchCompositeOperation:function(v,_){v.setCompositeOperation(_.compositeOperation)}});function o(v){var _={tracker:v.eventSource,position:v.position,quick:v.quick,shift:v.shift,originalEvent:v.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",_),!_.preventDefaultAction&&v.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(v.position.x=this.viewport.getContainerSize().x-v.position.x);var k=this.viewport.pointFromPixel(v.position);this.panVertical?this.panHorizontal||(k.x=this.viewer.viewport.getCenter(!0).x):k.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(k),this.viewer.viewport.applyConstraints()}}function l(v){var _={tracker:v.eventSource,position:v.position,delta:v.delta,speed:v.speed,direction:v.direction,shift:v.shift,originalEvent:v.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",_),!_.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(v.delta.x=0),this.panVertical||(v.delta.y=0),this.viewer.viewport.flipped&&(v.delta.x=-v.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(v.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function u(v){v.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function d(v){var _={tracker:v.eventSource,position:v.position,scroll:v.scroll,shift:v.shift,originalEvent:v.originalEvent,preventDefault:v.preventDefault};this.viewer.raiseEvent("navigator-scroll",_),v.preventDefault=_.preventDefault}function f(v,_){m(v,"rotate("+_+"deg)")}function m(v,_){v.style.webkitTransform=_,v.style.mozTransform=_,v.style.msTransform=_,v.style.oTransform=_,v.style.transform=_}}(r),function(t){var o={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};t.extend(t,{getString:function(l){var u=l.split("."),d=null,f=arguments,m=o,v;for(v=0;v<u.length-1;v++)m=m[u[v]]||{};return d=m[u[v]],typeof d!="string"&&(t.console.error("Untranslated source string:",l),d=""),d.replace(/\{\d+\}/g,function(_){var k=parseInt(_.match(/\d+/),10)+1;return k<f.length?f[k]:""})},setString:function(l,u){var d=l.split("."),f=o,m;for(m=0;m<d.length-1;m++)f[d[m]]||(f[d[m]]={}),f=f[d[m]];f[d[m]]=u}})}(r),function(t){t.Point=function(o,l){this.x=typeof o=="number"?o:0,this.y=typeof l=="number"?l:0},t.Point.prototype={clone:function(){return new t.Point(this.x,this.y)},plus:function(o){return new t.Point(this.x+o.x,this.y+o.y)},minus:function(o){return new t.Point(this.x-o.x,this.y-o.y)},times:function(o){return new t.Point(this.x*o,this.y*o)},divide:function(o){return new t.Point(this.x/o,this.y/o)},negate:function(){return new t.Point(-this.x,-this.y)},distanceTo:function(o){return Math.sqrt(Math.pow(this.x-o.x,2)+Math.pow(this.y-o.y,2))},squaredDistanceTo:function(o){return Math.pow(this.x-o.x,2)+Math.pow(this.y-o.y,2)},apply:function(o){return new t.Point(o(this.x),o(this.y))},equals:function(o){return o instanceof t.Point&&this.x===o.x&&this.y===o.y},rotate:function(o,l){l=l||new t.Point(0,0);var u,d;if(o%90===0){var f=t.positiveModulo(o,360);switch(f){case 0:u=1,d=0;break;case 90:u=0,d=1;break;case 180:u=-1,d=0;break;case 270:u=0,d=-1;break}}else{var m=o*Math.PI/180;u=Math.cos(m),d=Math.sin(m)}var v=u*(this.x-l.x)-d*(this.y-l.y)+l.x,_=d*(this.x-l.x)+u*(this.y-l.y)+l.y;return new t.Point(v,_)},toString:function(){return"("+Math.round(this.x*100)/100+","+Math.round(this.y*100)/100+")"}}}(r),function(t){t.TileSource=function(l,u,d,f,m,v){var _=this,k=arguments,C,M;if(t.isPlainObject(l)?C=l:C={width:k[0],height:k[1],tileSize:k[2],tileOverlap:k[3],minLevel:k[4],maxLevel:k[5]},t.EventSource.call(this),t.extend(!0,this,C),!this.success){for(M=0;M<arguments.length;M++)if(t.isFunction(arguments[M])){this.success=arguments[M];break}}this.success&&this.addHandler("ready",function(A){_.success(A)}),t.type(arguments[0])==="string"&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new t.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=C.width&&C.height?C.width/C.height:1,this.dimensions=new t.Point(C.width,C.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=C.tileOverlap?C.tileOverlap:0,this.minLevel=C.minLevel?C.minLevel:0,this.maxLevel=C.maxLevel!==void 0&&C.maxLevel!==null?C.maxLevel:C.width&&C.height?Math.ceil(Math.log(Math.max(C.width,C.height))/Math.log(2)):0,this.success&&t.isFunction(this.success)&&this.success(this))},t.TileSource.prototype={getTileSize:function(l){return t.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(l){return this._tileWidth?this._tileWidth:this.getTileSize(l)},getTileHeight:function(l){return this._tileHeight?this._tileHeight:this.getTileSize(l)},setMaxLevel:function(l){this.maxLevel=l,this._memoizeLevelScale()},getLevelScale:function(l){return this._memoizeLevelScale(),this.getLevelScale(l)},_memoizeLevelScale:function(){var l={},u;for(u=0;u<=this.maxLevel;u++)l[u]=1/Math.pow(2,this.maxLevel-u);this.getLevelScale=function(d){return l[d]}},getNumTiles:function(l){var u=this.getLevelScale(l),d=Math.ceil(u*this.dimensions.x/this.getTileWidth(l)),f=Math.ceil(u*this.dimensions.y/this.getTileHeight(l));return new t.Point(d,f)},getPixelRatio:function(l){var u=this.dimensions.times(this.getLevelScale(l)),d=1/u.x*t.pixelDensityRatio,f=1/u.y*t.pixelDensityRatio;return new t.Point(d,f)},getClosestLevel:function(){var l,u;for(l=this.minLevel+1;l<=this.maxLevel&&(u=this.getNumTiles(l),!(u.x>1||u.y>1));l++);return l-1},getTileAtPoint:function(l,u){var d=u.x>=0&&u.x<=1&&u.y>=0&&u.y<=1/this.aspectRatio;t.console.assert(d,"[TileSource.getTileAtPoint] must be called with a valid point.");var f=this.dimensions.x*this.getLevelScale(l),m=u.x*f,v=u.y*f,_=Math.floor(m/this.getTileWidth(l)),k=Math.floor(v/this.getTileHeight(l));u.x>=1&&(_=this.getNumTiles(l).x-1);var C=1e-15;return u.y>=1/this.aspectRatio-C&&(k=this.getNumTiles(l).y-1),new t.Point(_,k)},getTileBounds:function(l,u,d,f){var m=this.dimensions.times(this.getLevelScale(l)),v=this.getTileWidth(l),_=this.getTileHeight(l),k=u===0?0:v*u-this.tileOverlap,C=d===0?0:_*d-this.tileOverlap,M=v+(u===0?1:2)*this.tileOverlap,A=_+(d===0?1:2)*this.tileOverlap,F=1/m.x;return M=Math.min(M,m.x-k),A=Math.min(A,m.y-C),f?new t.Rect(0,0,M,A):new t.Rect(k*F,C*F,M*F,A*F)},getImageInfo:function(l){var u=this,d,f,m,v,_,k,C;l&&(_=l.split("/"),k=_[_.length-1],C=k.lastIndexOf("."),C>-1&&(_[_.length-1]=k.slice(0,C)));var M=null;if(this.splitHashDataForPost){var A=l.indexOf("#");A!==-1&&(M=l.substring(A+1),l=l.substr(0,A))}f=function(F){typeof F=="string"&&(F=t.parseXml(F));var G=t.TileSource.determineType(u,F,l);if(!G){u.raiseEvent("open-failed",{message:"Unable to load TileSource",source:l});return}v=G.prototype.configure.apply(u,[F,l,M]),v.ajaxWithCredentials===void 0&&(v.ajaxWithCredentials=u.ajaxWithCredentials),m=new G(v),u.ready=!0,u.raiseEvent("ready",{tileSource:m})},l.match(/\.js$/)?(d=l.split("/").pop().replace(".js",""),t.jsonp({url:l,async:!1,callbackName:d,callback:f})):t.makeAjaxRequest({url:l,postData:M,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(F){var G=o(F);f(G)},error:function(F,G){var H;try{H="HTTP "+F.status+" attempting to load TileSource: "+l}catch{var W;typeof G>"u"||!G.toString?W="Unknown error":W=G.toString(),H=W+" attempting to load TileSource: "+l}t.console.error(H),u.raiseEvent("open-failed",{message:H,source:l,postData:M})}})},supports:function(l,u){return!1},configure:function(l,u,d){throw new Error("Method not implemented.")},getTileUrl:function(l,u,d){throw new Error("Method not implemented.")},getTilePostData:function(l,u,d){return null},getTileAjaxHeaders:function(l,u,d){return{}},getTileHashKey:function(l,u,d,f,m,v){function _(k){return m?k+"+"+JSON.stringify(m):k}return _(typeof f!="string"?l+"/"+u+"_"+d:f)},tileExists:function(l,u,d){var f=this.getNumTiles(l);return l>=this.minLevel&&l<=this.maxLevel&&u>=0&&d>=0&&u<f.x&&d<f.y},hasTransparency:function(l,u,d,f){return!!l||u.match(".png")},downloadTileStart:function(l){var u=l.userData,d=new Image;u.image=d,u.request=null;var f=function(m){if(!d){l.finish(null,u.request,"Image load failed: undefined Image instance.");return}d.onload=d.onerror=d.onabort=null,l.finish(m?null:d,u.request,m)};d.onload=function(){f()},d.onabort=d.onerror=function(){f("Image load aborted.")},l.loadWithAjax?u.request=t.makeAjaxRequest({url:l.src,withCredentials:l.ajaxWithCredentials,headers:l.ajaxHeaders,responseType:"arraybuffer",postData:l.postData,success:function(m){var v;try{v=new window.Blob([m.response])}catch(C){var _=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(C.name==="TypeError"&&_){var k=new _;k.append(m.response),v=k.getBlob()}}v.size===0?f("Empty image response."):d.src=(window.URL||window.webkitURL).createObjectURL(v)},error:function(m){f("Image load aborted - XHR error")}}):(l.crossOriginPolicy!==!1&&(d.crossOrigin=l.crossOriginPolicy),d.src=l.src)},downloadTileAbort:function(l){l.userData.request&&l.userData.request.abort();var u=l.userData.image;l.userData.image&&(u.onload=u.onerror=u.onabort=null)},createTileCache:function(l,u,d){l._data=u},destroyTileCache:function(l){l._data=null,l._renderedContext=null},getTileCacheData:function(l){return l._data},getTileCacheDataAsImage:function(l){return l._data},getTileCacheDataAsContext2D:function(l){if(!l._renderedContext){var u=document.createElement("canvas");u.width=l._data.width,u.height=l._data.height,l._renderedContext=u.getContext("2d"),l._renderedContext.drawImage(l._data,0,0),l._data=null}return l._renderedContext}},t.extend(!0,t.TileSource.prototype,t.EventSource.prototype);function o(l){var u=l.responseText,d=l.status,f,m;if(l){if(l.status!==200&&l.status!==0)throw d=l.status,f=d===404?"Not Found":l.statusText,new Error(t.getString("Errors.Status",d,f))}else throw new Error(t.getString("Errors.Security"));if(u.match(/\s*<.*/))try{m=l.responseXML&&l.responseXML.documentElement?l.responseXML:t.parseXml(u)}catch{m=l.responseText}else if(u.match(/\s*[{[].*/))try{m=t.parseJSON(u)}catch{m=u}else m=u;return m}t.TileSource.determineType=function(l,u,d){var f;for(f in r)if(f.match(/.+TileSource$/)&&t.isFunction(r[f])&&t.isFunction(r[f].prototype.supports)&&r[f].prototype.supports.call(l,u,d))return r[f];return t.console.error("No TileSource was able to open %s %s",d,u),null}}(r),function(t){t.DziTileSource=function(u,d,f,m,v,_,k,C,M){var A,F,G,H;if(t.isPlainObject(u)?H=u:H={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=H.tilesUrl,this.fileFormat=H.fileFormat,this.displayRects=H.displayRects,this.displayRects)for(A=this.displayRects.length-1;A>=0;A--)for(F=this.displayRects[A],G=F.minLevel;G<=F.maxLevel;G++)this._levelRects[G]||(this._levelRects[G]=[]),this._levelRects[G].push(F);t.TileSource.apply(this,[H])},t.extend(t.DziTileSource.prototype,t.TileSource.prototype,{supports:function(u,d){var f;return u.Image?f=u.Image.xmlns:u.documentElement&&(u.documentElement.localName==="Image"||u.documentElement.tagName==="Image")&&(f=u.documentElement.namespaceURI),f=(f||"").toLowerCase(),f.indexOf("schemas.microsoft.com/deepzoom/2008")!==-1||f.indexOf("schemas.microsoft.com/deepzoom/2009")!==-1},configure:function(u,d,f){var m;return t.isPlainObject(u)?m=l(this,u):m=o(this,u),d&&!m.tilesUrl&&(m.tilesUrl=d.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),d.search(/\.(dzi|xml|js)\?/)!==-1?m.queryParams=d.match(/\?.*/):m.queryParams=""),m},getTileUrl:function(u,d,f){return[this.tilesUrl,u,"/",d,"_",f,".",this.fileFormat,this.queryParams].join("")},tileExists:function(u,d,f){var m=this._levelRects[u],v,_,k,C,M,A,F;if(this.minLevel&&u<this.minLevel||this.maxLevel&&u>this.maxLevel)return!1;if(!m||!m.length)return!0;for(F=m.length-1;F>=0;F--)if(v=m[F],!(u<v.minLevel||u>v.maxLevel)&&(_=this.getLevelScale(u),k=v.x*_,C=v.y*_,M=k+v.width*_,A=C+v.height*_,k=Math.floor(k/this._tileWidth),C=Math.floor(C/this._tileWidth),M=Math.ceil(M/this._tileWidth),A=Math.ceil(A/this._tileWidth),k<=d&&d<M&&C<=f&&f<A))return!0;return!1}});function o(u,d){if(!d||!d.documentElement)throw new Error(t.getString("Errors.Xml"));var f=d.documentElement,m=f.localName||f.tagName,v=d.documentElement.namespaceURI,_=null,k=[],C,M,A,F,G;if(m==="Image")try{if(F=f.getElementsByTagName("Size")[0],F===void 0&&(F=f.getElementsByTagNameNS(v,"Size")[0]),_={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:f.getAttribute("Url"),Format:f.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(f.getAttribute("Overlap"),10),TileSize:parseInt(f.getAttribute("TileSize"),10),Size:{Height:parseInt(F.getAttribute("Height"),10),Width:parseInt(F.getAttribute("Width"),10)}}},!t.imageFormatSupported(_.Image.Format))throw new Error(t.getString("Errors.ImageFormat",_.Image.Format.toUpperCase()));for(C=f.getElementsByTagName("DisplayRect"),C===void 0&&(C=f.getElementsByTagNameNS(v,"DisplayRect")[0]),G=0;G<C.length;G++)M=C[G],A=M.getElementsByTagName("Rect")[0],A===void 0&&(A=M.getElementsByTagNameNS(v,"Rect")[0]),k.push({Rect:{X:parseInt(A.getAttribute("X"),10),Y:parseInt(A.getAttribute("Y"),10),Width:parseInt(A.getAttribute("Width"),10),Height:parseInt(A.getAttribute("Height"),10),MinLevel:parseInt(M.getAttribute("MinLevel"),10),MaxLevel:parseInt(M.getAttribute("MaxLevel"),10)}});return k.length&&(_.Image.DisplayRect=k),l(u,_)}catch(j){throw j instanceof Error?j:new Error(t.getString("Errors.Dzi"))}else{if(m==="Collection")throw new Error(t.getString("Errors.Dzc"));if(m==="Error"){var H=f.getElementsByTagName("Message")[0],W=H.firstChild.nodeValue;throw new Error(W)}}throw new Error(t.getString("Errors.Dzi"))}function l(u,d){var f=d.Image,m=f.Url,v=f.Format,_=f.Size,k=f.DisplayRect||[],C=parseInt(_.Width,10),M=parseInt(_.Height,10),A=parseInt(f.TileSize,10),F=parseInt(f.Overlap,10),G=[],H,W;for(W=0;W<k.length;W++)H=k[W].Rect,G.push(new t.DisplayRect(parseInt(H.X,10),parseInt(H.Y,10),parseInt(H.Width,10),parseInt(H.Height,10),parseInt(H.MinLevel,10),parseInt(H.MaxLevel,10)));return t.extend(!0,{width:C,height:M,tileSize:A,tileOverlap:F,minLevel:null,maxLevel:null,tilesUrl:m,fileFormat:v,displayRects:G},d)}}(r),function(t){t.IIIFTileSource=function(f){if(t.extend(!0,this,f),this._id=this["@id"]||this.id||this.identifier||null,!(this.height&&this.width&&this._id))throw new Error("IIIF required parameters (width, height, or id) not provided.");if(f.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=f.version,this.tile_width&&this.tile_height)f.tileWidth=this.tile_width,f.tileHeight=this.tile_height;else if(this.tile_width)f.tileSize=this.tile_width;else if(this.tile_height)f.tileSize=this.tile_height;else if(this.tiles)if(this.tiles.length===1)f.tileWidth=this.tiles[0].width,f.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var m=0;m<this.tiles.length;m++)for(var v=0;v<this.tiles[m].scaleFactors.length;v++){var _=this.tiles[m].scaleFactors[v];this.scale_factors.push(_),f.tileSizePerScaleFactor[_]={width:this.tiles[m].width,height:this.tiles[m].height||this.tiles[m].width}}}else if(o(f)){for(var k=Math.min(this.height,this.width),C=[256,512,1024],M=[],A=0;A<C.length;A++)C[A]<=k&&M.push(C[A]);M.length>0?f.tileSize=Math.max.apply(null,M):f.tileSize=k}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,f.levels=l(this),t.extend(!0,f,{width:f.levels[f.levels.length-1].width,height:f.levels[f.levels.length-1].height,tileSize:Math.max(f.height,f.width),tileOverlap:0,minLevel:0,maxLevel:f.levels.length-1}),this.levels=f.levels):t.console.error("Nothing in the info.json to construct image pyramids from");if(!f.maxLevel&&!this.emulateLegacyImagePyramid)if(!this.scale_factors)f.maxLevel=Number(Math.round(Math.log(Math.max(this.width,this.height),2)));else{var F=Math.max.apply(null,this.scale_factors);f.maxLevel=Math.round(Math.log(F)*Math.LOG2E)}t.TileSource.apply(this,[f])},t.extend(t.IIIFTileSource.prototype,t.TileSource.prototype,{supports:function(f,m){return f.protocol&&f.protocol==="http://iiif.io/api/image"||f["@context"]&&(f["@context"]==="http://library.stanford.edu/iiif/image-api/1.1/context.json"||f["@context"]==="http://iiif.io/api/image/1/context.json")||f.profile&&f.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")===0||f.identifier&&f.width&&f.height?!0:!!(f.documentElement&&f.documentElement.tagName==="info"&&f.documentElement.namespaceURI==="http://library.stanford.edu/iiif/image-api/ns/")},configure:function(f,m,v){if(t.isPlainObject(f)){if(!f["@context"])f["@context"]="http://iiif.io/api/image/1.0/context.json",f["@id"]=m.replace("/info.json",""),f.version=1;else{var k=f["@context"];if(Array.isArray(k)){for(var C=0;C<k.length;C++)if(typeof k[C]=="string"&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(k[C])||k[C]==="http://library.stanford.edu/iiif/image-api/1.1/context.json")){k=k[C];break}}switch(k){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":f.version=1;break;case"http://iiif.io/api/image/2/context.json":f.version=2;break;case"http://iiif.io/api/image/3/context.json":f.version=3;break;default:t.console.error("Data has a @context property which contains no known IIIF context URI.")}}if(f.preferredFormats){for(var M=0;M<f.preferredFormats.length;M++)if(r.imageFormatSupported(f.preferredFormats[M])){f.tileFormat=f.preferredFormats[M];break}}return f}else{var _=u(f);return _["@context"]="http://iiif.io/api/image/1.0/context.json",_["@id"]=m.replace("/info.xml",""),_.version=1,_}},getTileWidth:function(f){if(this.emulateLegacyImagePyramid)return t.TileSource.prototype.getTileWidth.call(this,f);var m=Math.pow(2,this.maxLevel-f);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[m]?this.tileSizePerScaleFactor[m].width:this._tileWidth},getTileHeight:function(f){if(this.emulateLegacyImagePyramid)return t.TileSource.prototype.getTileHeight.call(this,f);var m=Math.pow(2,this.maxLevel-f);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[m]?this.tileSizePerScaleFactor[m].height:this._tileHeight},getLevelScale:function(f){if(this.emulateLegacyImagePyramid){var m=NaN;return this.levels.length>0&&f>=this.minLevel&&f<=this.maxLevel&&(m=this.levels[f].width/this.levels[this.maxLevel].width),m}return t.TileSource.prototype.getLevelScale.call(this,f)},getNumTiles:function(f){if(this.emulateLegacyImagePyramid){var m=this.getLevelScale(f);return m?new t.Point(1,1):new t.Point(0,0)}return t.TileSource.prototype.getNumTiles.call(this,f)},getTileAtPoint:function(f,m){return this.emulateLegacyImagePyramid?new t.Point(0,0):t.TileSource.prototype.getTileAtPoint.call(this,f,m)},getTileUrl:function(f,m,v){if(this.emulateLegacyImagePyramid){var _=null;return this.levels.length>0&&f>=this.minLevel&&f<=this.maxLevel&&(_=this.levels[f].url),_}var k="0",C=Math.pow(.5,this.maxLevel-f),M=Math.round(this.width*C),A=Math.round(this.height*C),F,G,H,W,j,V,nt,gt,pt,ct,Z,at,ft,vt;return F=this.getTileWidth(f),G=this.getTileHeight(f),H=Math.round(F/C),W=Math.round(G/C),this.version===1?ft="native."+this.tileFormat:ft="default."+this.tileFormat,M<F&&A<G?(this.version===2&&M===this.width?ct="full":this.version===3&&M===this.width&&A===this.height?ct="max":this.version===3?ct=M+","+A:ct=M+",",j="full"):(V=m*H,nt=v*W,gt=Math.min(H,this.width-V),pt=Math.min(W,this.height-nt),m===0&&v===0&&gt===this.width&&pt===this.height?j="full":j=[V,nt,gt,pt].join(","),Z=Math.round(gt*C),at=Math.round(pt*C),this.version===2&&Z===this.width?ct="full":this.version===3&&Z===this.width&&at===this.height?ct="max":this.version===3?ct=Z+","+at:ct=Z+","),vt=[this._id,j,ct,k,ft].join("/"),vt},__testonly__:{canBeTiled:o,constructLevels:l}});function o(f){var m=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],v=Array.isArray(f.profile)?f.profile[0]:f.profile,_=m.indexOf(v)!==-1,k=!1;return f.version===2&&f.profile.length>1&&f.profile[1].supports&&(k=f.profile[1].supports.indexOf("sizeByW")!==-1),f.version===3&&f.extraFeatures&&(k=f.extraFeatures.indexOf("sizeByWh")!==-1),!_||k}function l(f){for(var m=[],v=0;v<f.sizes.length;v++)m.push({url:f._id+"/full/"+f.sizes[v].width+","+(f.version===3?f.sizes[v].height:"")+"/0/default."+f.tileFormat,width:f.sizes[v].width,height:f.sizes[v].height});return m.sort(function(_,k){return _.width-k.width})}function u(f){if(!f||!f.documentElement)throw new Error(t.getString("Errors.Xml"));var m=f.documentElement,v=m.tagName,_=null;if(v==="info")try{return _={},d(m,_),_}catch(k){throw k instanceof Error?k:new Error(t.getString("Errors.IIIF"))}throw new Error(t.getString("Errors.IIIF"))}function d(f,m,v){var _,k;if(f.nodeType===3&&v)k=f.nodeValue.trim(),k.match(/^\d*$/)&&(k=Number(k)),m[v]?(t.isArray(m[v])||(m[v]=[m[v]]),m[v].push(k)):m[v]=k;else if(f.nodeType===1)for(_=0;_<f.childNodes.length;_++)d(f.childNodes[_],m,f.nodeName)}}(r),function(t){t.OsmTileSource=function(o,l,u,d,f){var m;t.isPlainObject(o)?m=o:m={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},(!m.width||!m.height)&&(m.width=65572864,m.height=65572864),m.tileSize||(m.tileSize=256,m.tileOverlap=0),m.tilesUrl||(m.tilesUrl="http://tile.openstreetmap.org/"),m.minLevel=8,t.TileSource.apply(this,[m])},t.extend(t.OsmTileSource.prototype,t.TileSource.prototype,{supports:function(o,l){return o.type&&o.type==="openstreetmaps"},configure:function(o,l,u){return o},getTileUrl:function(o,l,u){return this.tilesUrl+(o-8)+"/"+l+"/"+u+".png"}})}(r),function(t){t.TmsTileSource=function(o,l,u,d,f){var m;t.isPlainObject(o)?m=o:m={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var v=Math.ceil(m.width/256)*256,_=Math.ceil(m.height/256)*256,k;v>_?k=v/256:k=_/256,m.maxLevel=Math.ceil(Math.log(k)/Math.log(2))-1,m.tileSize=256,m.width=v,m.height=_,t.TileSource.apply(this,[m])},t.extend(t.TmsTileSource.prototype,t.TileSource.prototype,{supports:function(o,l){return o.type&&o.type==="tiledmapservice"},configure:function(o,l,u){return o},getTileUrl:function(o,l,u){var d=this.getNumTiles(o).y-1;return this.tilesUrl+o+"/"+l+"/"+(d-u)+".png"}})}(r),function(t){t.ZoomifyTileSource=function(o){typeof o.tileSize>"u"&&(o.tileSize=256),typeof o.fileFormat>"u"&&(o.fileFormat="jpg",this.fileFormat=o.fileFormat);var l={x:o.width,y:o.height};for(o.imageSizes=[{x:o.width,y:o.height}],o.gridSize=[this._getGridSize(o.width,o.height,o.tileSize)];parseInt(l.x,10)>o.tileSize||parseInt(l.y,10)>o.tileSize;)l.x=Math.floor(l.x/2),l.y=Math.floor(l.y/2),o.imageSizes.push({x:l.x,y:l.y}),o.gridSize.push(this._getGridSize(l.x,l.y,o.tileSize));o.imageSizes.reverse(),o.gridSize.reverse(),o.minLevel=0,o.maxLevel=o.gridSize.length-1,r.TileSource.apply(this,[o])},t.extend(t.ZoomifyTileSource.prototype,t.TileSource.prototype,{_getGridSize:function(o,l,u){return{x:Math.ceil(o/u),y:Math.ceil(l/u)}},_calculateAbsoluteTileNumber:function(o,l,u){for(var d=0,f={},m=0;m<o;m++)f=this.gridSize[m],d+=f.x*f.y;return f=this.gridSize[o],d+=f.x*u+l,d},supports:function(o,l){return o.type&&o.type==="zoomifytileservice"},configure:function(o,l,u){return o},getTileUrl:function(o,l,u){var d=0,f=this._calculateAbsoluteTileNumber(o,l,u);return d=Math.floor(f/256),this.tilesUrl+"TileGroup"+d+"/"+o+"-"+l+"-"+u+"."+this.fileFormat}})}(r),function(t){t.LegacyTileSource=function(d){var f,m,v;t.isArray(d)&&(f={type:"legacy-image-pyramid",levels:d}),f.levels=o(f.levels),f.levels.length>0?(m=f.levels[f.levels.length-1].width,v=f.levels[f.levels.length-1].height):(m=0,v=0,t.console.error("No supported image formats found")),t.extend(!0,f,{width:m,height:v,tileSize:Math.max(v,m),tileOverlap:0,minLevel:0,maxLevel:f.levels.length>0?f.levels.length-1:0}),t.TileSource.apply(this,[f]),this.levels=f.levels},t.extend(t.LegacyTileSource.prototype,t.TileSource.prototype,{supports:function(d,f){return d.type&&d.type==="legacy-image-pyramid"||d.documentElement&&d.documentElement.getAttribute("type")==="legacy-image-pyramid"},configure:function(d,f,m){var v;return t.isPlainObject(d)?v=u(this,d):v=l(this,d),v},getLevelScale:function(d){var f=NaN;return this.levels.length>0&&d>=this.minLevel&&d<=this.maxLevel&&(f=this.levels[d].width/this.levels[this.maxLevel].width),f},getNumTiles:function(d){var f=this.getLevelScale(d);return f?new t.Point(1,1):new t.Point(0,0)},getTileUrl:function(d,f,m){var v=null;return this.levels.length>0&&d>=this.minLevel&&d<=this.maxLevel&&(v=this.levels[d].url),v}});function o(d){var f=[],m,v;for(v=0;v<d.length;v++)m=d[v],m.height&&m.width&&m.url?f.push({url:m.url,width:Number(m.width),height:Number(m.height)}):t.console.error("Unsupported image format: %s",m.url?m.url:"<no URL>");return f.sort(function(_,k){return _.height-k.height})}function l(d,f){if(!f||!f.documentElement)throw new Error(t.getString("Errors.Xml"));var m=f.documentElement,v=m.tagName,_=null,k=[],C,M;if(v==="image")try{for(_={type:m.getAttribute("type"),levels:[]},k=m.getElementsByTagName("level"),M=0;M<k.length;M++)C=k[M],_.levels.push({url:C.getAttribute("url"),width:parseInt(C.getAttribute("width"),10),height:parseInt(C.getAttribute("height"),10)});return u(d,_)}catch(A){throw A instanceof Error?A:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if(v==="collection")throw new Error("Legacy Image Pyramid Collections not yet supported.");if(v==="error")throw new Error("Error: "+f)}throw new Error("Unknown element "+v)}function u(d,f){return f.levels}}(r),function(t){t.ImageTileSource=function(o){o=t.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},o),t.TileSource.apply(this,[o])},t.extend(t.ImageTileSource.prototype,t.TileSource.prototype,{supports:function(o,l){return o.type&&o.type==="image"},configure:function(o,l,u){return o},getImageInfo:function(o){var l=this._image=new Image,u=this;this.crossOriginPolicy&&(l.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(l.useCredentials=this.ajaxWithCredentials),t.addEvent(l,"load",function(){u.width=l.naturalWidth,u.height=l.naturalHeight,u.aspectRatio=u.width/u.height,u.dimensions=new t.Point(u.width,u.height),u._tileWidth=u.width,u._tileHeight=u.height,u.tileOverlap=0,u.minLevel=0,u.levels=u._buildLevels(),u.maxLevel=u.levels.length-1,u.ready=!0,u.raiseEvent("ready",{tileSource:u})}),t.addEvent(l,"error",function(){u.raiseEvent("open-failed",{message:"Error loading image at "+o,source:o})}),l.src=o},getLevelScale:function(o){var l=NaN;return o>=this.minLevel&&o<=this.maxLevel&&(l=this.levels[o].width/this.levels[this.maxLevel].width),l},getNumTiles:function(o){var l=this.getLevelScale(o);return l?new t.Point(1,1):new t.Point(0,0)},getTileUrl:function(o,l,u){var d=null;return o>=this.minLevel&&o<=this.maxLevel&&(d=this.levels[o].url),d},getContext2D:function(o,l,u){var d=null;return o>=this.minLevel&&o<=this.maxLevel&&(d=this.levels[o].context2D),d},destroy:function(){this._freeupCanvasMemory()},_buildLevels:function(){var o=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!t.supportsCanvas||!this.useCanvas)return delete this._image,o;var l=this._image.naturalWidth,u=this._image.naturalHeight,d=document.createElement("canvas"),f=d.getContext("2d");if(d.width=l,d.height=u,f.drawImage(this._image,0,0,l,u),o[0].context2D=f,delete this._image,t.isCanvasTainted(d))return o;for(;l>=2&&u>=2;){l=Math.floor(l/2),u=Math.floor(u/2);var m=document.createElement("canvas"),v=m.getContext("2d");m.width=l,m.height=u,v.drawImage(d,0,0,l,u),o.splice(0,0,{context2D:v,width:l,height:u}),d=m,f=v}return o},_freeupCanvasMemory:function(){for(var o=0;o<this.levels.length;o++)this.levels[o].context2D&&(this.levels[o].context2D.canvas.height=0,this.levels[o].context2D.canvas.width=0)}})}(r),function(t){t.TileSourceCollection=function(o,l,u,d){t.console.error("TileSourceCollection is deprecated; use World instead")}}(r),function(t){t.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},t.Button=function(v){var _=this;t.EventSource.call(this),t.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:t.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},v),this.element=v.element||t.makeNeutralElement("div"),v.element||(this.imgRest=t.makeTransparentImage(this.srcRest),this.imgGroup=t.makeTransparentImage(this.srcGroup),this.imgHover=t.makeTransparentImage(this.srcHover),this.imgDown=t.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,t.setElementPointerEventsNone(this.imgRest),t.setElementPointerEventsNone(this.imgGroup),t.setElementPointerEventsNone(this.imgHover),t.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",t.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",t.Browser.vendor===t.BROWSERS.FIREFOX&&t.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=t.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new t.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(k){k.insideElementPressed?(f(_,t.ButtonState.DOWN),_.raiseEvent("enter",{originalEvent:k.originalEvent})):k.buttonDownAny||f(_,t.ButtonState.HOVER)},focusHandler:function(k){_.tracker.enterHandler(k),_.raiseEvent("focus",{originalEvent:k.originalEvent})},leaveHandler:function(k){m(_,t.ButtonState.GROUP),k.insideElementPressed&&_.raiseEvent("exit",{originalEvent:k.originalEvent})},blurHandler:function(k){_.tracker.leaveHandler(k),_.raiseEvent("blur",{originalEvent:k.originalEvent})},pressHandler:function(k){f(_,t.ButtonState.DOWN),_.raiseEvent("press",{originalEvent:k.originalEvent})},releaseHandler:function(k){k.insideElementPressed&&k.insideElementReleased?(m(_,t.ButtonState.HOVER),_.raiseEvent("release",{originalEvent:k.originalEvent})):k.insideElementPressed?m(_,t.ButtonState.GROUP):f(_,t.ButtonState.HOVER)},clickHandler:function(k){k.quick&&_.raiseEvent("click",{originalEvent:k.originalEvent})},keyHandler:function(k){k.keyCode===13?(_.raiseEvent("click",{originalEvent:k.originalEvent}),_.raiseEvent("release",{originalEvent:k.originalEvent}),k.preventDefault=!0):k.preventDefault=!1}}),m(this,t.ButtonState.REST)},t.extend(t.Button.prototype,t.EventSource.prototype,{notifyGroupEnter:function(){f(this,t.ButtonState.GROUP)},notifyGroupExit:function(){m(this,t.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,this.tracker.setTracking(!1),t.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,this.tracker.setTracking(!0),t.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}});function o(v){t.requestAnimationFrame(function(){l(v)})}function l(v){var _,k,C;v.shouldFade&&(_=t.now(),k=_-v.fadeBeginTime,C=1-k/v.fadeLength,C=Math.min(1,C),C=Math.max(0,C),v.imgGroup&&t.setElementOpacity(v.imgGroup,C,!0),C>0&&o(v))}function u(v){v.shouldFade=!0,v.fadeBeginTime=t.now()+v.fadeDelay,window.setTimeout(function(){o(v)},v.fadeDelay)}function d(v){v.shouldFade=!1,v.imgGroup&&t.setElementOpacity(v.imgGroup,1,!0)}function f(v,_){v.element.disabled||(_>=t.ButtonState.GROUP&&v.currentState===t.ButtonState.REST&&(d(v),v.currentState=t.ButtonState.GROUP),_>=t.ButtonState.HOVER&&v.currentState===t.ButtonState.GROUP&&(v.imgHover&&(v.imgHover.style.visibility=""),v.currentState=t.ButtonState.HOVER),_>=t.ButtonState.DOWN&&v.currentState===t.ButtonState.HOVER&&(v.imgDown&&(v.imgDown.style.visibility=""),v.currentState=t.ButtonState.DOWN))}function m(v,_){v.element.disabled||(_<=t.ButtonState.HOVER&&v.currentState===t.ButtonState.DOWN&&(v.imgDown&&(v.imgDown.style.visibility="hidden"),v.currentState=t.ButtonState.HOVER),_<=t.ButtonState.GROUP&&v.currentState===t.ButtonState.HOVER&&(v.imgHover&&(v.imgHover.style.visibility="hidden"),v.currentState=t.ButtonState.GROUP),_<=t.ButtonState.REST&&v.currentState===t.ButtonState.GROUP&&(u(v),v.currentState=t.ButtonState.REST))}}(r),function(t){t.ButtonGroup=function(o){t.extend(!0,this,{buttons:[],clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:t.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},o);var l=this.buttons.concat([]),u=this,d;if(this.element=o.element||t.makeNeutralElement("div"),!o.group)for(this.element.style.display="inline-block",d=0;d<l.length;d++)this.element.appendChild(l[d].element);t.setElementTouchActionNone(this.element),this.tracker=new t.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(f){var m;for(m=0;m<u.buttons.length;m++)u.buttons[m].notifyGroupEnter()},leaveHandler:function(f){var m;if(!f.insideElementPressed)for(m=0;m<u.buttons.length;m++)u.buttons[m].notifyGroupExit()}})},t.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){for(;this.buttons.length;){var o=this.buttons.pop();this.element.removeChild(o.element),o.destroy()}this.tracker.destroy(),this.element=null}}}(r),function(t){t.Rect=function(o,l,u,d,f){this.x=typeof o=="number"?o:0,this.y=typeof l=="number"?l:0,this.width=typeof u=="number"?u:0,this.height=typeof d=="number"?d:0,this.degrees=typeof f=="number"?f:0,this.degrees=t.positiveModulo(this.degrees,360);var m,v;this.degrees>=270?(m=this.getTopRight(),this.x=m.x,this.y=m.y,v=this.height,this.height=this.width,this.width=v,this.degrees-=270):this.degrees>=180?(m=this.getBottomRight(),this.x=m.x,this.y=m.y,this.degrees-=180):this.degrees>=90&&(m=this.getBottomLeft(),this.x=m.x,this.y=m.y,v=this.height,this.height=this.width,this.width=v,this.degrees-=90)},t.Rect.fromSummits=function(o,l,u){var d=o.distanceTo(l),f=o.distanceTo(u),m=l.minus(o),v=Math.atan(m.y/m.x);return m.x<0?v+=Math.PI:m.y<0&&(v+=2*Math.PI),new t.Rect(o.x,o.y,d,f,v/Math.PI*180)},t.Rect.prototype={clone:function(){return new t.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new t.Point(this.x,this.y)},getBottomRight:function(){return new t.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new t.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new t.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new t.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new t.Point(this.width,this.height)},equals:function(o){return o instanceof t.Rect&&this.x===o.x&&this.y===o.y&&this.width===o.width&&this.height===o.height&&this.degrees===o.degrees},times:function(o){return new t.Rect(this.x*o,this.y*o,this.width*o,this.height*o,this.degrees)},translate:function(o){return new t.Rect(this.x+o.x,this.y+o.y,this.width,this.height,this.degrees)},union:function(o){var l=this.getBoundingBox(),u=o.getBoundingBox(),d=Math.min(l.x,u.x),f=Math.min(l.y,u.y),m=Math.max(l.x+l.width,u.x+u.width),v=Math.max(l.y+l.height,u.y+u.height);return new t.Rect(d,f,m-d,v-f)},intersection:function(o){var l=1e-10,u=[],d=this.getTopLeft();o.containsPoint(d,l)&&u.push(d);var f=this.getTopRight();o.containsPoint(f,l)&&u.push(f);var m=this.getBottomLeft();o.containsPoint(m,l)&&u.push(m);var v=this.getBottomRight();o.containsPoint(v,l)&&u.push(v);var _=o.getTopLeft();this.containsPoint(_,l)&&u.push(_);var k=o.getTopRight();this.containsPoint(k,l)&&u.push(k);var C=o.getBottomLeft();this.containsPoint(C,l)&&u.push(C);var M=o.getBottomRight();this.containsPoint(M,l)&&u.push(M);for(var A=this._getSegments(),F=o._getSegments(),G=0;G<A.length;G++)for(var H=A[G],W=0;W<F.length;W++){var j=F[W],V=nt(H[0],H[1],j[0],j[1]);V&&u.push(V)}function nt(vt,Qt,re,pe){var Gt=Qt.minus(vt),ce=pe.minus(re),Jt=-ce.x*Gt.y+Gt.x*ce.y;if(Jt===0)return null;var tr=(Gt.x*(vt.y-re.y)-Gt.y*(vt.x-re.x))/Jt,xt=(ce.x*(vt.y-re.y)-ce.y*(vt.x-re.x))/Jt;return-l<=tr&&tr<=1-l&&-l<=xt&&xt<=1-l?new t.Point(vt.x+xt*Gt.x,vt.y+xt*Gt.y):null}if(u.length===0)return null;for(var gt=u[0].x,pt=u[0].x,ct=u[0].y,Z=u[0].y,at=1;at<u.length;at++){var ft=u[at];ft.x<gt&&(gt=ft.x),ft.x>pt&&(pt=ft.x),ft.y<ct&&(ct=ft.y),ft.y>Z&&(Z=ft.y)}return new t.Rect(gt,ct,pt-gt,Z-ct)},_getSegments:function(){var o=this.getTopLeft(),l=this.getTopRight(),u=this.getBottomLeft(),d=this.getBottomRight();return[[o,l],[l,d],[d,u],[u,o]]},rotate:function(o,l){if(o=t.positiveModulo(o,360),o===0)return this.clone();l=l||this.getCenter();var u=this.getTopLeft().rotate(o,l),d=this.getTopRight().rotate(o,l),f=d.minus(u);f=f.apply(function(v){var _=1e-15;return Math.abs(v)<_?0:v});var m=Math.atan(f.y/f.x);return f.x<0?m+=Math.PI:f.y<0&&(m+=2*Math.PI),new t.Rect(u.x,u.y,this.width,this.height,m/Math.PI*180)},getBoundingBox:function(){if(this.degrees===0)return this.clone();var o=this.getTopLeft(),l=this.getTopRight(),u=this.getBottomLeft(),d=this.getBottomRight(),f=Math.min(o.x,l.x,u.x,d.x),m=Math.max(o.x,l.x,u.x,d.x),v=Math.min(o.y,l.y,u.y,d.y),_=Math.max(o.y,l.y,u.y,d.y);return new t.Rect(f,v,m-f,_-v)},getIntegerBoundingBox:function(){var o=this.getBoundingBox(),l=Math.floor(o.x),u=Math.floor(o.y),d=Math.ceil(o.width+o.x-l),f=Math.ceil(o.height+o.y-u);return new t.Rect(l,u,d,f)},containsPoint:function(o,l){l=l||0;var u=this.getTopLeft(),d=this.getTopRight(),f=this.getBottomLeft(),m=d.minus(u),v=f.minus(u);return(o.x-u.x)*m.x+(o.y-u.y)*m.y>=-l&&(o.x-d.x)*m.x+(o.y-d.y)*m.y<=l&&(o.x-u.x)*v.x+(o.y-u.y)*v.y>=-l&&(o.x-f.x)*v.x+(o.y-f.y)*v.y<=l},toString:function(){return"["+Math.round(this.x*100)/100+", "+Math.round(this.y*100)/100+", "+Math.round(this.width*100)/100+"x"+Math.round(this.height*100)/100+", "+Math.round(this.degrees*100)/100+"deg]"}}}(r),function(t){var o={};t.ReferenceStrip=function(C){var M=this,A=C.viewer,F=t.getElementSize(A.element),G,H,W;for(C.id||(C.id="referencestrip-"+t.now(),this.element=t.makeNeutralElement("div"),this.element.id=C.id,this.element.className="referencestrip"),C=t.extend(!0,{sizeRatio:t.DEFAULT_SETTINGS.referenceStripSizeRatio,position:t.DEFAULT_SETTINGS.referenceStripPosition,scroll:t.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold},C,{element:this.element}),t.extend(this,C),o[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,H=this.element.style,H.marginTop="0px",H.marginRight="0px",H.marginBottom="0px",H.marginLeft="0px",H.left="0px",H.bottom="0px",H.border="0px",H.background="#000",H.position="relative",t.setElementTouchActionNone(this.element),t.setElementOpacity(this.element,.8),this.viewer=A,this.tracker=new t.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:t.delegate(this,l),dragHandler:t.delegate(this,u),scrollHandler:t.delegate(this,d),enterHandler:t.delegate(this,m),leaveHandler:t.delegate(this,v),keyDownHandler:t.delegate(this,_),keyHandler:t.delegate(this,k),preProcessEventHandler:function(j){j.eventType==="wheel"&&(j.preventDefault=!0)}}),C.width&&C.height?(this.element.style.width=C.width+"px",this.element.style.height=C.height+"px",A.addControl(this.element,{anchor:t.ControlAnchor.BOTTOM_LEFT})):C.scroll==="horizontal"?(this.element.style.width=F.x*C.sizeRatio*A.tileSources.length+12*A.tileSources.length+"px",this.element.style.height=F.y*C.sizeRatio+"px",A.addControl(this.element,{anchor:t.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=F.y*C.sizeRatio*A.tileSources.length+12*A.tileSources.length+"px",this.element.style.width=F.x*C.sizeRatio+"px",A.addControl(this.element,{anchor:t.ControlAnchor.TOP_LEFT})),this.panelWidth=F.x*this.sizeRatio+8,this.panelHeight=F.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},W=0;W<A.tileSources.length;W++)G=t.makeNeutralElement("div"),G.id=this.element.id+"-"+W,G.style.width=M.panelWidth+"px",G.style.height=M.panelHeight+"px",G.style.display="inline",G.style.float="left",G.style.cssFloat="left",G.style.styleFloat="left",G.style.padding="2px",t.setElementTouchActionNone(G),t.setElementPointerEventsNone(G),this.element.appendChild(G),G.activePanel=!1,this.panels.push(G);f(this,this.scroll==="vertical"?F.y:F.x,0),this.setFocus(0)},t.ReferenceStrip.prototype={setFocus:function(C){var M=this.element.querySelector("#"+this.element.id+"-"+C),A=t.getElementSize(this.viewer.canvas),F=Number(this.element.style.width.replace("px","")),G=Number(this.element.style.height.replace("px","")),H=-Number(this.element.style.marginLeft.replace("px","")),W=-Number(this.element.style.marginTop.replace("px","")),j;this.currentSelected!==M&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=M,this.currentSelected.style.background="#999",this.scroll==="horizontal"?(j=Number(C)*(this.panelWidth+3),j>H+A.x-this.panelWidth?(j=Math.min(j,F-A.x),this.element.style.marginLeft=-j+"px",f(this,A.x,-j)):j<H&&(j=Math.max(0,j-A.x/2),this.element.style.marginLeft=-j+"px",f(this,A.x,-j))):(j=Number(C)*(this.panelHeight+3),j>W+A.y-this.panelHeight?(j=Math.min(j,G-A.y),this.element.style.marginTop=-j+"px",f(this,A.y,-j)):j<W&&(j=Math.max(0,j-A.y/2),this.element.style.marginTop=-j+"px",f(this,A.y,-j))),this.currentPage=C,m.call(this,{eventSource:this.tracker}))},update:function(){return!!o[this.id].animating},destroy:function(){if(this.miniViewers)for(var C in this.miniViewers)this.miniViewers[C].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}};function l(C){if(C.quick){var M;this.scroll==="horizontal"?M=Math.floor(C.position.x/this.panelWidth):M=Math.floor(C.position.y/this.panelHeight),this.viewer.goToPage(M)}this.element.focus()}function u(C){if(this.dragging=!0,this.element){var M=Number(this.element.style.marginLeft.replace("px","")),A=Number(this.element.style.marginTop.replace("px","")),F=Number(this.element.style.width.replace("px","")),G=Number(this.element.style.height.replace("px","")),H=t.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?-C.delta.x>0?M>-(F-H.x)&&(this.element.style.marginLeft=M+C.delta.x*2+"px",f(this,H.x,M+C.delta.x*2)):-C.delta.x<0&&M<0&&(this.element.style.marginLeft=M+C.delta.x*2+"px",f(this,H.x,M+C.delta.x*2)):-C.delta.y>0?A>-(G-H.y)&&(this.element.style.marginTop=A+C.delta.y*2+"px",f(this,H.y,A+C.delta.y*2)):-C.delta.y<0&&A<0&&(this.element.style.marginTop=A+C.delta.y*2+"px",f(this,H.y,A+C.delta.y*2))}}function d(C){if(this.element){var M=Number(this.element.style.marginLeft.replace("px","")),A=Number(this.element.style.marginTop.replace("px","")),F=Number(this.element.style.width.replace("px","")),G=Number(this.element.style.height.replace("px","")),H=t.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?C.scroll>0?M>-(F-H.x)&&(this.element.style.marginLeft=M-C.scroll*60+"px",f(this,H.x,M-C.scroll*60)):C.scroll<0&&M<0&&(this.element.style.marginLeft=M-C.scroll*60+"px",f(this,H.x,M-C.scroll*60)):C.scroll<0?A>H.y-G&&(this.element.style.marginTop=A+C.scroll*60+"px",f(this,H.y,A+C.scroll*60)):C.scroll>0&&A<0&&(this.element.style.marginTop=A+C.scroll*60+"px",f(this,H.y,A+C.scroll*60)),C.preventDefault=!0}}function f(C,M,A){var F,G,H,W,j,V;for(C.scroll==="horizontal"?F=C.panelWidth:F=C.panelHeight,G=Math.ceil(M/F)+5,H=Math.ceil((Math.abs(A)+M)/F)+1,G=H-G,G=G<0?0:G,j=G;j<H&&j<C.panels.length;j++)if(V=C.panels[j],!V.activePanel){var nt,gt=C.viewer.tileSources[j];gt.referenceStripThumbnailUrl?nt={type:"image",url:gt.referenceStripThumbnailUrl}:nt=gt,W=new t.Viewer({id:V.id,tileSources:[nt],element:V,navigatorSizeRatio:C.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:C.viewer.loadTilesWithAjax,ajaxHeaders:C.viewer.ajaxHeaders,useCanvas:C.useCanvas}),t.setElementPointerEventsNone(W.canvas),t.setElementPointerEventsNone(W.container),W.innerTracker.setTracking(!1),W.outerTracker.setTracking(!1),C.miniViewers[V.id]=W,V.activePanel=!0}}function m(C){var M=C.eventSource.element;this.scroll==="horizontal"?M.style.marginBottom="0px":M.style.marginLeft="0px"}function v(C){var M=C.eventSource.element;this.scroll==="horizontal"?M.style.marginBottom="-"+t.getElementSize(M).y/2+"px":M.style.marginLeft="-"+t.getElementSize(M).x/2+"px"}function _(C){if(!C.ctrl&&!C.alt&&!C.meta)switch(C.keyCode){case 38:d.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;case 40:d.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 37:d.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 39:d.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;default:C.preventDefault=!1;break}else C.preventDefault=!1}function k(C){if(!C.ctrl&&!C.alt&&!C.meta)switch(C.keyCode){case 61:d.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;case 45:d.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 48:case 119:case 87:d.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;case 115:case 83:d.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 97:d.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 100:d.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;default:C.preventDefault=!1;break}else C.preventDefault=!1}}(r),function(t){t.DisplayRect=function(o,l,u,d,f,m){t.Rect.apply(this,[o,l,u,d]),this.minLevel=f,this.maxLevel=m},t.extend(t.DisplayRect.prototype,t.Rect.prototype)}(r),function(t){t.Spring=function(l){var u=arguments;typeof l!="object"&&(l={initial:u.length&&typeof u[0]=="number"?u[0]:void 0,springStiffness:u.length>1?u[1].springStiffness:5,animationTime:u.length>1?u[1].animationTime:1.5}),t.console.assert(typeof l.springStiffness=="number"&&l.springStiffness!==0,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),t.console.assert(typeof l.animationTime=="number"&&l.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),l.exponential&&(this._exponential=!0,delete l.exponential),t.extend(!0,this,l),this.current={value:typeof this.initial=="number"?this.initial:this._exponential?0:1,time:t.now()},t.console.assert(!this._exponential||this.current.value!==0,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},t.Spring.prototype={resetTo:function(l){t.console.assert(!this._exponential||l!==0,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=l,this.start.time=this.target.time=this.current.time=t.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(l){t.console.assert(!this._exponential||l!==0,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=l,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(l){this.start.value+=l,this.target.value+=l,this._exponential&&(t.console.assert(this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(l){this._exponential=l,this._exponential&&(t.console.assert(this.current.value!==0&&this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){this.current.time=t.now();var l,u;this._exponential?(l=this.start._logValue,u=this.target._logValue):(l=this.start.value,u=this.target.value);var d=this.current.time>=this.target.time?u:l+(u-l)*o(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),f=this.current.value;return this._exponential?this.current.value=Math.exp(d):this.current.value=d,f!==this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}};function o(l,u){return(1-Math.exp(l*-u))/(1-Math.exp(-l))}}(r),function(t){t.ImageJob=function(l){t.extend(!0,this,{timeout:t.DEFAULT_SETTINGS.timeout,jobId:null},l),this.data=null,this.userData={},this.errorMsg=null},t.ImageJob.prototype={start:function(){var l=this,u=this.abort;this.jobId=window.setTimeout(function(){l.finish(null,null,"Image load exceeded timeout ("+l.timeout+" ms)")},this.timeout),this.abort=function(){l.source.downloadTileAbort(l),typeof u=="function"&&u()},this.source.downloadTileStart(this)},finish:function(l,u,d){this.data=l,this.request=u,this.errorMsg=d,this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},t.ImageLoader=function(l){t.extend(!0,this,{jobLimit:t.DEFAULT_SETTINGS.imageLoaderLimit,timeout:t.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},l)},t.ImageLoader.prototype={addJob:function(l){if(!l.source){t.console.error("ImageLoader.prototype.addJob() requires [options.source]. TileSource since new API defines how images are fetched. Creating a dummy TileSource.");var u=t.TileSource.prototype;l.source={downloadTileStart:u.downloadTileStart,downloadTileAbort:u.downloadTileAbort}}var d=this,f=function(_){o(d,_,l.callback)},m={src:l.src,tile:l.tile||{},source:l.source,loadWithAjax:l.loadWithAjax,ajaxHeaders:l.loadWithAjax?l.ajaxHeaders:null,crossOriginPolicy:l.crossOriginPolicy,ajaxWithCredentials:l.ajaxWithCredentials,postData:l.postData,callback:f,abort:l.abort,timeout:this.timeout},v=new t.ImageJob(m);!this.jobLimit||this.jobsInProgress<this.jobLimit?(v.start(),this.jobsInProgress++):this.jobQueue.push(v)},clear:function(){for(var l=0;l<this.jobQueue.length;l++){var u=this.jobQueue[l];typeof u.abort=="function"&&u.abort()}this.jobQueue=[]}};function o(l,u,d){var f;l.jobsInProgress--,(!l.jobLimit||l.jobsInProgress<l.jobLimit)&&l.jobQueue.length>0&&(f=l.jobQueue.shift(),f.start(),l.jobsInProgress++),d(u.data,u.errorMsg,u.request)}}(r),function(t){t.Tile=function(o,l,u,d,f,m,v,_,k,C,M,A){this.level=o,this.x=l,this.y=u,this.bounds=d,this.sourceBounds=C,this.exists=f,this._url=m,this.postData=M,this.context2D=v,this.loadWithAjax=_,this.ajaxHeaders=k,A===void 0&&(t.console.warn("Tile constructor needs 'cacheKey' variable: creation tile cache in Tile class is deprecated. TileSource.prototype.getTileHashKey will be used."),A=t.TileSource.prototype.getTileHashKey(o,l,u,m,k,M)),this.cacheKey=A,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.hasTransparency=!1,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},t.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return console.warn("Tile.prototype._hasTransparencyChannel() has been deprecated and will be removed in the future. Use TileSource.prototype.hasTransparency() instead."),!!this.context2D||this.getUrl().match(".png")},drawHTML:function(o){if(!this.cacheImageRecord){t.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString());return}if(!this.loaded){t.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}if(!this.element){var l=this.getImage();if(!l)return;this.element=t.makeNeutralElement("div"),this.imgElement=l.cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"}this.element.parentNode!==o&&o.appendChild(this.element),this.imgElement.parentNode!==this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",this.flipped&&(this.style.transform="scaleX(-1)"),t.setElementOpacity(this.element,this.opacity)},get image(){return t.console.error("[Tile.image] property has been deprecated. Use [Tile.prototype.getImage] instead."),this.getImage()},get url(){return t.console.error("[Tile.url] property has been deprecated. Use [Tile.prototype.getUrl] instead."),this.getUrl()},getImage:function(){return this.cacheImageRecord.getImage()},getUrl:function(){return typeof this._url=="function"?this._url():this._url},getCanvasContext:function(){return this.context2D||this.cacheImageRecord.getRenderedContext()},drawCanvas:function(o,l,u,d,f,m){var v=this.position.times(t.pixelDensityRatio),_=this.size.times(t.pixelDensityRatio),k;if(!this.context2D&&!this.cacheImageRecord){t.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString());return}if(k=this.getCanvasContext(),!this.loaded||!k){t.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}o.save(),o.globalAlpha=this.opacity,typeof u=="number"&&u!==1&&(v=v.times(u),_=_.times(u)),d instanceof t.Point&&(v=v.plus(d)),o.globalAlpha===1&&this.hasTransparency&&(f&&(v.x=Math.round(v.x),v.y=Math.round(v.y),_.x=Math.round(_.x),_.y=Math.round(_.y)),o.clearRect(v.x,v.y,_.x,_.y)),l({context:o,tile:this,rendered:k});var C,M;this.sourceBounds?(C=Math.min(this.sourceBounds.width,k.canvas.width),M=Math.min(this.sourceBounds.height,k.canvas.height)):(C=k.canvas.width,M=k.canvas.height),o.translate(v.x+_.x/2,0),this.flipped&&o.scale(-1,1),o.drawImage(k.canvas,0,0,C,M,-_.x/2,v.y,_.x,_.y),o.restore()},getScaleForEdgeSmoothing:function(){var o;if(this.cacheImageRecord)o=this.cacheImageRecord.getRenderedContext();else if(this.context2D)o=this.context2D;else return t.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;return o.canvas.width/(this.size.x*t.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(o,l,u){var d=Math.max(1,Math.ceil((u.x-l.x)/2)),f=Math.max(1,Math.ceil((u.y-l.y)/2));return new t.Point(d,f).minus(this.position.times(t.pixelDensityRatio).times(o||1).apply(function(m){return m%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(r),function(t){t.OverlayPlacement=t.Placement,t.OverlayRotationMode=t.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),t.Overlay=function(o,l,u){var d;t.isPlainObject(o)?d=o:d={element:o,location:l,placement:u},this.element=d.element,this.style=d.element.style,this._init(d)},t.Overlay.prototype={_init:function(o){this.location=o.location,this.placement=o.placement===void 0?t.Placement.TOP_LEFT:o.placement,this.onDraw=o.onDraw,this.checkResize=o.checkResize===void 0?!0:o.checkResize,this.width=o.width===void 0?null:o.width,this.height=o.height===void 0?null:o.height,this.rotationMode=o.rotationMode||t.OverlayRotationMode.EXACT,this.location instanceof t.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=t.Placement.TOP_LEFT),this.scales=this.width!==null&&this.height!==null,this.bounds=new t.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(o,l){var u=t.Placement.properties[this.placement];u&&(u.isHorizontallyCentered?o.x-=l.x/2:u.isRight&&(o.x-=l.x),u.isVerticallyCentered?o.y-=l.y/2:u.isBottom&&(o.y-=l.y))},destroy:function(){var o=this.element,l=this.style;o.parentNode&&(o.parentNode.removeChild(o),o.prevElementParent&&(l.display="none",document.body.appendChild(o))),this.onDraw=null,l.top="",l.left="",l.position="",this.width!==null&&(l.width=""),this.height!==null&&(l.height="");var u=t.getCssPropertyWithVendorPrefix("transformOrigin"),d=t.getCssPropertyWithVendorPrefix("transform");u&&d&&(l[u]="",l[d]="")},drawHTML:function(o,l){var u=this.element;u.parentNode!==o&&(u.prevElementParent=u.parentNode,u.prevNextSibling=u.nextSibling,o.appendChild(u),this.style.position="absolute",this.size=t.getElementSize(u));var d=this._getOverlayPositionAndSize(l),f=d.position,m=this.size=d.size,v=d.rotate;if(this.onDraw)this.onDraw(f,m,this.element);else{var _=this.style;_.left=f.x+"px",_.top=f.y+"px",this.width!==null&&(_.width=m.x+"px"),this.height!==null&&(_.height=m.y+"px");var k=t.getCssPropertyWithVendorPrefix("transformOrigin"),C=t.getCssPropertyWithVendorPrefix("transform");k&&C&&(v?(_[k]=this._getTransformOrigin(),_[C]="rotate("+v+"deg)"):(_[k]="",_[C]="")),_.display="block"}},_getOverlayPositionAndSize:function(o){var l=o.pixelFromPoint(this.location,!0),u=this._getSizeInPixels(o);this.adjust(l,u);var d=0;if(o.getRotation(!0)&&this.rotationMode!==t.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===t.OverlayRotationMode.BOUNDING_BOX&&this.width!==null&&this.height!==null){var f=new t.Rect(l.x,l.y,u.x,u.y),m=this._getBoundingBox(f,o.getRotation(!0));l=m.getTopLeft(),u=m.getSize()}else d=o.getRotation(!0);return{position:l,size:u,rotate:d}},_getSizeInPixels:function(o){var l=this.size.x,u=this.size.y;if(this.width!==null||this.height!==null){var d=o.deltaPixelsFromPointsNoRotate(new t.Point(this.width||0,this.height||0),!0);this.width!==null&&(l=d.x),this.height!==null&&(u=d.y)}if(this.checkResize&&(this.width===null||this.height===null)){var f=this.size=t.getElementSize(this.element);this.width===null&&(l=f.x),this.height===null&&(u=f.y)}return new t.Point(l,u)},_getBoundingBox:function(o,l){var u=this._getPlacementPoint(o);return o.rotate(l,u).getBoundingBox()},_getPlacementPoint:function(o){var l=new t.Point(o.x,o.y),u=t.Placement.properties[this.placement];return u&&(u.isHorizontallyCentered?l.x+=o.width/2:u.isRight&&(l.x+=o.width),u.isVerticallyCentered?l.y+=o.height/2:u.isBottom&&(l.y+=o.height)),l},_getTransformOrigin:function(){var o="",l=t.Placement.properties[this.placement];return l&&(l.isLeft?o="left":l.isRight&&(o="right"),l.isTop?o+=" top":l.isBottom&&(o+=" bottom")),o},update:function(o,l){var u=t.isPlainObject(o)?o:{location:o,placement:l};this._init({location:u.location||this.location,placement:u.placement!==void 0?u.placement:this.placement,onDraw:u.onDraw||this.onDraw,checkResize:u.checkResize||this.checkResize,width:u.width!==void 0?u.width:this.width,height:u.height!==void 0?u.height:this.height,rotationMode:u.rotationMode||this.rotationMode})},getBounds:function(o){t.console.assert(o,"A viewport must now be passed to Overlay.getBounds.");var l=this.width,u=this.height;if(l===null||u===null){var d=o.deltaPointsFromPixelsNoRotate(this.size,!0);l===null&&(l=d.x),u===null&&(u=d.y)}var f=this.location.clone();return this.adjust(f,new t.Point(l,u)),this._adjustBoundsForRotation(o,new t.Rect(f.x,f.y,l,u))},_adjustBoundsForRotation:function(o,l){if(!o||o.getRotation(!0)===0||this.rotationMode===t.OverlayRotationMode.EXACT)return l;if(this.rotationMode===t.OverlayRotationMode.BOUNDING_BOX){if(this.width===null||this.height===null)return l;var u=this._getOverlayPositionAndSize(o);return o.viewerElementToViewportRectangle(new t.Rect(u.position.x,u.position.y,u.size.x,u.size.y))}return l.rotate(-o.getRotation(!0),this._getPlacementPoint(l))}}}(r),function(t){t.Drawer=function(o){t.console.assert(o.viewer,"[Drawer] options.viewer is required");var l=arguments;if(t.isPlainObject(o)||(o={source:l[0],viewport:l[1],element:l[2]}),t.console.assert(o.viewport,"[Drawer] options.viewport is required"),t.console.assert(o.element,"[Drawer] options.element is required"),o.source&&t.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=o.viewer,this.viewport=o.viewport,this.debugGridColor=typeof o.debugGridColor=="string"?[o.debugGridColor]:o.debugGridColor||t.DEFAULT_SETTINGS.debugGridColor,o.opacity&&t.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=t.supportsCanvas&&(this.viewer?this.viewer.useCanvas:!0),this.container=t.getElement(o.element),this.canvas=t.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var u=this._calculateCanvasSize();this.canvas.width=u.x,this.canvas.height=u.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",t.setElementOpacity(this.canvas,this.opacity,!0),t.setElementPointerEventsNone(this.canvas),t.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},t.Drawer.prototype={addOverlay:function(o,l,u,d){return t.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(o,l,u,d),this},updateOverlay:function(o,l,u){return t.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(o,l,u),this},removeOverlay:function(o){return t.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(o),this},clearOverlays:function(){return t.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},viewportCoordToDrawerCoord:function(o){var l=this.viewport.pixelFromPointNoRotate(o,!0);return new t.Point(l.x*t.pixelDensityRatio,l.y*t.pixelDensityRatio)},clipWithPolygons:function(o,l){if(this.useCanvas){var u=this._getContext(l);u.beginPath(),o.forEach(function(d){d.forEach(function(f,m){u[m===0?"moveTo":"lineTo"](f.x,f.y)})}),u.clip()}},setOpacity:function(o){t.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var l=this.viewer.world,u=0;u<l.getItemCount();u++)l.getItemAt(u).setOpacity(o);return this},getOpacity:function(){t.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var o=this.viewer.world,l=0,u=0;u<o.getItemCount();u++){var d=o.getItemAt(u).getOpacity();d>l&&(l=d)}return l},needsUpdate:function(){return t.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return t.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return t.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return t.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var o=this._calculateCanvasSize();if((this.canvas.width!==o.x||this.canvas.height!==o.y)&&(this.canvas.width=o.x,this.canvas.height=o.y,this._updateImageSmoothingEnabled(this.context),this.sketchCanvas!==null)){var l=this._calculateSketchCanvasSize();this.sketchCanvas.width=l.x,this.sketchCanvas.height=l.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(o,l){if(this.useCanvas){var u=this._getContext(o);if(l)u.clearRect(l.x,l.y,l.width,l.height);else{var d=u.canvas;u.clearRect(0,0,d.width,d.height)}}},viewportToDrawerRectangle:function(o){var l=this.viewport.pixelFromPointNoRotate(o.getTopLeft(),!0),u=this.viewport.deltaPixelsFromPointsNoRotate(o.getSize(),!0);return new t.Rect(l.x*t.pixelDensityRatio,l.y*t.pixelDensityRatio,u.x*t.pixelDensityRatio,u.y*t.pixelDensityRatio)},drawTile:function(o,l,u,d,f,m,v){if(t.console.assert(o,"[Drawer.drawTile] tile is required"),t.console.assert(l,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var _=this._getContext(u);d=d||1,o.drawCanvas(_,l,d,f,m,v)}else o.drawHTML(this.canvas)},_getContext:function(o){var l=this.context;if(o){if(this.sketchCanvas===null){this.sketchCanvas=document.createElement("canvas");var u=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=u.x,this.sketchCanvas.height=u.y,this.sketchContext=this.sketchCanvas.getContext("2d"),this.viewport.getRotation()===0){var d=this;this.viewer.addHandler("rotate",function f(){if(d.viewport.getRotation()!==0){d.viewer.removeHandler("rotate",f);var m=d._calculateSketchCanvasSize();d.sketchCanvas.width=m.x,d.sketchCanvas.height=m.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}l=this.sketchContext}return l},saveContext:function(o){this.useCanvas&&this._getContext(o).save()},restoreContext:function(o){this.useCanvas&&this._getContext(o).restore()},setClip:function(o,l){if(this.useCanvas){var u=this._getContext(l);u.beginPath(),u.rect(o.x,o.y,o.width,o.height),u.clip()}},drawRectangle:function(o,l,u){if(this.useCanvas){var d=this._getContext(u);d.save(),d.fillStyle=l,d.fillRect(o.x,o.y,o.width,o.height),d.restore()}},blendSketch:function(o,l,u,d){var f=o;if(t.isPlainObject(f)||(f={opacity:o,scale:l,translate:u,compositeOperation:d}),!(!this.useCanvas||!this.sketchCanvas)){o=f.opacity,d=f.compositeOperation;var m=f.bounds;if(this.context.save(),this.context.globalAlpha=o,d&&(this.context.globalCompositeOperation=d),m)m.x<0&&(m.width+=m.x,m.x=0),m.x+m.width>this.canvas.width&&(m.width=this.canvas.width-m.x),m.y<0&&(m.height+=m.y,m.y=0),m.y+m.height>this.canvas.height&&(m.height=this.canvas.height-m.y),this.context.drawImage(this.sketchCanvas,m.x,m.y,m.width,m.height,m.x,m.y,m.width,m.height);else{l=f.scale||1,u=f.translate;var v=u instanceof t.Point?u:new t.Point(0,0),_=0,k=0;if(u){var C=this.sketchCanvas.width-this.canvas.width,M=this.sketchCanvas.height-this.canvas.height;_=Math.round(C/2),k=Math.round(M/2)}this.context.drawImage(this.sketchCanvas,v.x-_*l,v.y-k*l,(this.canvas.width+2*_)*l,(this.canvas.height+2*k)*l,-_,-k,this.canvas.width+2*_,this.canvas.height+2*k)}this.context.restore()}},drawDebugInfo:function(o,l,u,d){if(this.useCanvas){var f=this.viewer.world.getIndexOfItem(d)%this.debugGridColor.length,m=this.context;m.save(),m.lineWidth=2*t.pixelDensityRatio,m.font="small-caps bold "+13*t.pixelDensityRatio+"px arial",m.strokeStyle=this.debugGridColor[f],m.fillStyle=this.debugGridColor[f],this.viewport.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:this.viewport.getRotation(!0)}),d.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:d.getRotation(!0),point:d.viewport.pixelFromPointNoRotate(d._getRotationPoint(!0),!0)}),d.viewport.getRotation(!0)%360===0&&d.getRotation(!0)%360===0&&d._drawer.viewer.viewport.getFlip()&&d._drawer._flip(),m.strokeRect(o.position.x*t.pixelDensityRatio,o.position.y*t.pixelDensityRatio,o.size.x*t.pixelDensityRatio,o.size.y*t.pixelDensityRatio);var v=(o.position.x+o.size.x/2)*t.pixelDensityRatio,_=(o.position.y+o.size.y/2)*t.pixelDensityRatio;m.translate(v,_),m.rotate(Math.PI/180*-this.viewport.getRotation(!0)),m.translate(-v,-_),o.x===0&&o.y===0&&(m.fillText("Zoom: "+this.viewport.getZoom(),o.position.x*t.pixelDensityRatio,(o.position.y-30)*t.pixelDensityRatio),m.fillText("Pan: "+this.viewport.getBounds().toString(),o.position.x*t.pixelDensityRatio,(o.position.y-20)*t.pixelDensityRatio)),m.fillText("Level: "+o.level,(o.position.x+10)*t.pixelDensityRatio,(o.position.y+20)*t.pixelDensityRatio),m.fillText("Column: "+o.x,(o.position.x+10)*t.pixelDensityRatio,(o.position.y+30)*t.pixelDensityRatio),m.fillText("Row: "+o.y,(o.position.x+10)*t.pixelDensityRatio,(o.position.y+40)*t.pixelDensityRatio),m.fillText("Order: "+u+" of "+l,(o.position.x+10)*t.pixelDensityRatio,(o.position.y+50)*t.pixelDensityRatio),m.fillText("Size: "+o.size.toString(),(o.position.x+10)*t.pixelDensityRatio,(o.position.y+60)*t.pixelDensityRatio),m.fillText("Position: "+o.position.toString(),(o.position.x+10)*t.pixelDensityRatio,(o.position.y+70)*t.pixelDensityRatio),this.viewport.getRotation(!0)%360!==0&&this._restoreRotationChanges(),d.getRotation(!0)%360!==0&&this._restoreRotationChanges(),d.viewport.getRotation(!0)%360===0&&d.getRotation(!0)%360===0&&d._drawer.viewer.viewport.getFlip()&&d._drawer._flip(),m.restore()}},debugRect:function(o){if(this.useCanvas){var l=this.context;l.save(),l.lineWidth=2*t.pixelDensityRatio,l.strokeStyle=this.debugGridColor[0],l.fillStyle=this.debugGridColor[0],l.strokeRect(o.x*t.pixelDensityRatio,o.y*t.pixelDensityRatio,o.width*t.pixelDensityRatio,o.height*t.pixelDensityRatio),l.restore()}},setImageSmoothingEnabled:function(o){this.useCanvas&&(this._imageSmoothingEnabled=o,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(o){o.msImageSmoothingEnabled=this._imageSmoothingEnabled,o.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(o){var l=this._getContext(o).canvas;return new t.Point(l.width,l.height)},getCanvasCenter:function(){return new t.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(o){var l=o.point?o.point.times(t.pixelDensityRatio):this.getCanvasCenter(),u=this._getContext(o.useSketch);u.save(),u.translate(l.x,l.y),this.viewer.viewport.flipped?(u.rotate(Math.PI/180*-o.degrees),u.scale(-1,1)):u.rotate(Math.PI/180*o.degrees),u.translate(-l.x,-l.y)},_flip:function(o){o=o||{};var l=o.point?o.point.times(t.pixelDensityRatio):this.getCanvasCenter(),u=this._getContext(o.useSketch);u.translate(l.x,0),u.scale(-1,1),u.translate(-l.x,0)},_restoreRotationChanges:function(o){var l=this._getContext(o);l.restore()},_calculateCanvasSize:function(){var o=t.pixelDensityRatio,l=this.viewport.getContainerSize();return{x:Math.round(l.x*o),y:Math.round(l.y*o)}},_calculateSketchCanvasSize:function(){var o=this._calculateCanvasSize();if(this.viewport.getRotation()===0)return o;var l=Math.ceil(Math.sqrt(o.x*o.x+o.y*o.y));return{x:l,y:l}}}}(r),function(t){t.Viewport=function(o){var l=arguments;l.length&&l[0]instanceof t.Point&&(o={containerSize:l[0],contentSize:l[1],config:l[2]}),o.config&&(t.extend(!0,o,o.config),delete o.config),this._margins=t.extend({left:0,top:0,right:0,bottom:0},o.margins||{}),delete o.margins,o.initialDegrees=o.degrees,delete o.degrees,t.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,rotationPivot:null,viewer:null,springStiffness:t.DEFAULT_SETTINGS.springStiffness,animationTime:t.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:t.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:t.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:t.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:t.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:t.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:t.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:t.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:t.DEFAULT_SETTINGS.maxZoomLevel,initialDegrees:t.DEFAULT_SETTINGS.degrees,flipped:t.DEFAULT_SETTINGS.flipped,homeFillsViewer:t.DEFAULT_SETTINGS.homeFillsViewer,silenceMultiImageWarnings:t.DEFAULT_SETTINGS.silenceMultiImageWarnings},o),this._updateContainerInnerSize(),this.centerSpringX=new t.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new t.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new t.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.degreesSpring=new t.Spring({initial:o.initialDegrees,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,this._setContentBounds(new t.Rect(0,0,1,1),1),this.goHome(!0),this.update()},t.Viewport.prototype={get degrees(){return t.console.warn("Accessing [Viewport.degrees] is deprecated. Use viewport.getRotation instead."),this.getRotation()},set degrees(o){t.console.warn("Setting [Viewport.degrees] is deprecated. Use viewport.rotateTo, viewport.rotateBy, or viewport.setRotation instead."),this.rotateTo(o)},resetContentSize:function(o){return t.console.assert(o,"[Viewport.resetContentSize] contentSize is required"),t.console.assert(o instanceof t.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),t.console.assert(o.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),t.console.assert(o.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new t.Rect(0,0,1,o.y/o.x),o.x),this},setHomeBounds:function(o,l){t.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(o,l)},_setContentBounds:function(o,l){t.console.assert(o,"[Viewport._setContentBounds] bounds is required"),t.console.assert(o instanceof t.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),t.console.assert(o.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),t.console.assert(o.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=o.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(l),this._contentBounds=o.rotate(this.getRotation()).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(l),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:l,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var o=this._contentAspectRatio/this.getAspectRatio(),l;return this.homeFillsViewer?l=o>=1?o:1:l=o>=1?1:o,l/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var o=this._contentBounds.getCenter(),l=1/this.getHomeZoom(),u=l/this.getAspectRatio();return new t.Rect(o.x-l/2,o.y-u/2,l,u)},goHome:function(o){return this.viewer&&this.viewer.raiseEvent("home",{immediately:o}),this.fitBounds(this.getHomeBounds(),o)},getMinZoom:function(){var o=this.getHomeZoom(),l=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*o;return l},getMaxZoom:function(){var o=this.maxZoomLevel;return o||(o=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,o/=this._contentBounds.width),Math.max(o,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new t.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return t.extend({},this._margins)},setMargins:function(o){t.console.assert(t.type(o)==="object","[Viewport.setMargins] margins must be an object"),this._margins=t.extend({left:0,top:0,right:0,bottom:0},o),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(o){return this.getBoundsNoRotate(o).rotate(-this.getRotation(o))},getBoundsNoRotate:function(o){var l=this.getCenter(o),u=1/this.getZoom(o),d=u/this.getAspectRatio();return new t.Rect(l.x-u/2,l.y-d/2,u,d)},getBoundsWithMargins:function(o){return this.getBoundsNoRotateWithMargins(o).rotate(-this.getRotation(o),this.getCenter(o))},getBoundsNoRotateWithMargins:function(o){var l=this.getBoundsNoRotate(o),u=this._containerInnerSize.x*this.getZoom(o);return l.x-=this._margins.left/u,l.y-=this._margins.top/u,l.width+=(this._margins.left+this._margins.right)/u,l.height+=(this._margins.top+this._margins.bottom)/u,l},getCenter:function(o){var l=new t.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),u=new t.Point(this.centerSpringX.target.value,this.centerSpringY.target.value),d,f,m,v,_,k,C,M;return o?l:this.zoomPoint?(d=this.pixelFromPoint(this.zoomPoint,!0),f=this.getZoom(),m=1/f,v=m/this.getAspectRatio(),_=new t.Rect(l.x-m/2,l.y-v/2,m,v),k=this._pixelFromPoint(this.zoomPoint,_),C=k.minus(d).rotate(-this.getRotation(!0)),M=C.divide(this._containerInnerSize.x*f),u.plus(M)):u},getZoom:function(o){return o?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(o){return Math.max(Math.min(o,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(o){var l=this.viewportToViewerElementRectangle(o).getBoundingBox(),u=this.viewportToViewerElementRectangle(this._contentBoundsNoRotate).getBoundingBox(),d=!1,f=!1;if(!this.wrapHorizontal){var m=l.x+l.width,v=u.x+u.width,_,k,C;l.width>u.width?_=this.visibilityRatio*u.width:_=this.visibilityRatio*l.width,k=u.x-m+_,C=v-l.x-_,_>u.width?(l.x+=(k+C)/2,d=!0):C<0?(l.x+=C,d=!0):k>0&&(l.x+=k,d=!0)}if(!this.wrapVertical){var M=l.y+l.height,A=u.y+u.height,F,G,H;l.height>u.height?F=this.visibilityRatio*u.height:F=this.visibilityRatio*l.height,G=u.y-M+F,H=A-l.y-F,F>u.height?(l.y+=(G+H)/2,f=!0):H<0?(l.y+=H,f=!0):G>0&&(l.y+=G,f=!0)}var W=d||f,j=W?this.viewerElementToViewportRectangle(l):o.clone();return j.xConstrained=d,j.yConstrained=f,j.constraintApplied=W,j},_raiseConstraintsEvent:function(o){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:o})},applyConstraints:function(o){var l=this.getZoom(),u=this._applyZoomConstraints(l);l!==u&&this.zoomTo(u,this.zoomPoint,o);var d=this.getConstrainedBounds(!1);return d.constraintApplied&&(this.fitBounds(d,o),this._raiseConstraintsEvent(o)),this},ensureVisible:function(o){return this.applyConstraints(o)},_fitBounds:function(o,l){l=l||{};var u=l.immediately||!1,d=l.constraints||!1,f=this.getAspectRatio(),m=o.getCenter(),v=new t.Rect(o.x,o.y,o.width,o.height,o.degrees+this.getRotation()).getBoundingBox();v.getAspectRatio()>=f?v.height=v.width/f:v.width=v.height*f,v.x=m.x-v.width/2,v.y=m.y-v.height/2;var _=1/v.width;if(u)return this.panTo(m,!0),this.zoomTo(_,null,!0),d&&this.applyConstraints(!0),this;var k=this.getCenter(!0),C=this.getZoom(!0);this.panTo(k,!0),this.zoomTo(C,null,!0);var M=this.getBounds(),A=this.getZoom();if(A===0||Math.abs(_/A-1)<1e-8)return this.zoomTo(_,null,!0),this.panTo(m,u),d&&this.applyConstraints(!1),this;if(d){this.panTo(m,!1),this.zoomTo(_,null,!1);var F=this.getConstrainedBounds();this.panTo(k,!0),this.zoomTo(C,null,!0),this.fitBounds(F)}else{var G=v.rotate(-this.getRotation()),H=G.getTopLeft().times(_).minus(M.getTopLeft().times(A)).divide(_-A);this.zoomTo(_,H,u)}return this},fitBounds:function(o,l){return this._fitBounds(o,{immediately:l,constraints:!1})},fitBoundsWithConstraints:function(o,l){return this._fitBounds(o,{immediately:l,constraints:!0})},fitVertically:function(o){var l=new t.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(l,o)},fitHorizontally:function(o){var l=new t.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(l,o)},getConstrainedBounds:function(o){var l,u;return l=this.getBounds(o),u=this._applyBoundaryConstraints(l),u},panBy:function(o,l){var u=new t.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(u.plus(o),l)},panTo:function(o,l){return l?(this.centerSpringX.resetTo(o.x),this.centerSpringY.resetTo(o.y)):(this.centerSpringX.springTo(o.x),this.centerSpringY.springTo(o.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:o,immediately:l}),this},zoomBy:function(o,l,u){return this.zoomTo(this.zoomSpring.target.value*o,l,u)},zoomTo:function(o,l,u){var d=this;return this.zoomPoint=l instanceof t.Point&&!isNaN(l.x)&&!isNaN(l.y)?l:null,u?this._adjustCenterSpringsForZoomPoint(function(){d.zoomSpring.resetTo(o)}):this.zoomSpring.springTo(o),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:o,refPoint:l,immediately:u}),this},setRotation:function(o,l){return this.rotateTo(o,null,l)},getRotation:function(o){return o?this.degreesSpring.current.value:this.degreesSpring.target.value},setRotationWithPivot:function(o,l,u){return this.rotateTo(o,l,u)},rotateTo:function(o,l,u){if(!this.viewer||!this.viewer.drawer.canRotate())return this;if(this.degreesSpring.target.value===o&&this.degreesSpring.isAtTargetValue())return this;if(this.rotationPivot=l instanceof t.Point&&!isNaN(l.x)&&!isNaN(l.y)?l:null,u)if(this.rotationPivot){var d=o-this._oldDegrees;if(!d)return this.rotationPivot=null,this;this._rotateAboutPivot(o)}else this.degreesSpring.resetTo(o);else{var f=t.positiveModulo(this.degreesSpring.current.value,360),m=t.positiveModulo(o,360),v=m-f;v>180?m-=360:v<-180&&(m+=360);var _=f-m;this.degreesSpring.resetTo(o+_),this.degreesSpring.springTo(o)}return this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:o,immediately:!!u,pivot:this.rotationPivot||this.getCenter()}),this},rotateBy:function(o,l,u){return this.rotateTo(this.degreesSpring.target.value+o,l,u)},resize:function(o,l){var u=this.getBoundsNoRotate(),d=u,f;return this.containerSize.x=o.x,this.containerSize.y=o.y,this._updateContainerInnerSize(),l&&(f=o.x/this.containerSize.x,d.width=u.width*f,d.height=d.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:o,maintain:l}),this.fitBounds(d,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new t.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var o=this;this._adjustCenterSpringsForZoomPoint(function(){o.zoomSpring.update()}),this.degreesSpring.isAtTargetValue()&&(this.rotationPivot=null),this.centerSpringX.update(),this.centerSpringY.update(),this.rotationPivot?this._rotateAboutPivot(!0):this.degreesSpring.update();var l=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom||this.degreesSpring.current.value!==this._oldDegrees;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,l},_rotateAboutPivot:function(o){var l=o===!0,u=this.rotationPivot.minus(this.getCenter());this.centerSpringX.shiftBy(u.x),this.centerSpringY.shiftBy(u.y),l?this.degreesSpring.update():this.degreesSpring.resetTo(o);var d=this.degreesSpring.current.value-this._oldDegrees,f=u.rotate(d*-1).times(-1);this.centerSpringX.shiftBy(f.x),this.centerSpringY.shiftBy(f.y)},_adjustCenterSpringsForZoomPoint:function(o){if(this.zoomPoint){var l=this.pixelFromPoint(this.zoomPoint,!0);o();var u=this.pixelFromPoint(this.zoomPoint,!0),d=u.minus(l),f=this.deltaPointsFromPixels(d,!0);this.centerSpringX.shiftBy(f.x),this.centerSpringY.shiftBy(f.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else o()},deltaPixelsFromPointsNoRotate:function(o,l){return o.times(this._containerInnerSize.x*this.getZoom(l))},deltaPixelsFromPoints:function(o,l){return this.deltaPixelsFromPointsNoRotate(o.rotate(this.getRotation(l)),l)},deltaPointsFromPixelsNoRotate:function(o,l){return o.divide(this._containerInnerSize.x*this.getZoom(l))},deltaPointsFromPixels:function(o,l){return this.deltaPointsFromPixelsNoRotate(o,l).rotate(-this.getRotation(l))},pixelFromPointNoRotate:function(o,l){return this._pixelFromPointNoRotate(o,this.getBoundsNoRotate(l))},pixelFromPoint:function(o,l){return this._pixelFromPoint(o,this.getBoundsNoRotate(l))},_pixelFromPointNoRotate:function(o,l){return o.minus(l.getTopLeft()).times(this._containerInnerSize.x/l.width).plus(new t.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(o,l){return this._pixelFromPointNoRotate(o.rotate(this.getRotation(!0),this.getCenter(!0)),l)},pointFromPixelNoRotate:function(o,l){var u=this.getBoundsNoRotate(l);return o.minus(new t.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/u.width).plus(u.getTopLeft())},pointFromPixel:function(o,l){return this.pointFromPixelNoRotate(o,l).rotate(-this.getRotation(l),this.getCenter(l))},_viewportToImageDelta:function(o,l){var u=this._contentBoundsNoRotate.width;return new t.Point(o*this._contentSizeNoRotate.x/u,l*this._contentSizeNoRotate.x/u)},viewportToImageCoordinates:function(o,l){if(o instanceof t.Point)return this.viewportToImageCoordinates(o.x,o.y);if(this.viewer){var u=this.viewer.world.getItemCount();if(u>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(u===1){var d=this.viewer.world.getItemAt(0);return d.viewportToImageCoordinates(o,l,!0)}}return this._viewportToImageDelta(o-this._contentBoundsNoRotate.x,l-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(o,l){var u=this._contentBoundsNoRotate.width;return new t.Point(o/this._contentSizeNoRotate.x*u,l/this._contentSizeNoRotate.x*u)},imageToViewportCoordinates:function(o,l){if(o instanceof t.Point)return this.imageToViewportCoordinates(o.x,o.y);if(this.viewer){var u=this.viewer.world.getItemCount();if(u>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(u===1){var d=this.viewer.world.getItemAt(0);return d.imageToViewportCoordinates(o,l,!0)}}var f=this._imageToViewportDelta(o,l);return f.x+=this._contentBoundsNoRotate.x,f.y+=this._contentBoundsNoRotate.y,f},imageToViewportRectangle:function(o,l,u,d){var f=o;if(f instanceof t.Rect||(f=new t.Rect(o,l,u,d)),this.viewer){var m=this.viewer.world.getItemCount();if(m>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(m===1){var v=this.viewer.world.getItemAt(0);return v.imageToViewportRectangle(o,l,u,d,!0)}}var _=this.imageToViewportCoordinates(f.x,f.y),k=this._imageToViewportDelta(f.width,f.height);return new t.Rect(_.x,_.y,k.x,k.y,f.degrees)},viewportToImageRectangle:function(o,l,u,d){var f=o;if(f instanceof t.Rect||(f=new t.Rect(o,l,u,d)),this.viewer){var m=this.viewer.world.getItemCount();if(m>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(m===1){var v=this.viewer.world.getItemAt(0);return v.viewportToImageRectangle(o,l,u,d,!0)}}var _=this.viewportToImageCoordinates(f.x,f.y),k=this._viewportToImageDelta(f.width,f.height);return new t.Rect(_.x,_.y,k.x,k.y,f.degrees)},viewerElementToImageCoordinates:function(o){var l=this.pointFromPixel(o,!0);return this.viewportToImageCoordinates(l)},imageToViewerElementCoordinates:function(o){var l=this.imageToViewportCoordinates(o);return this.pixelFromPoint(l,!0)},windowToImageCoordinates:function(o){t.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var l=o.minus(t.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(l)},imageToWindowCoordinates:function(o){t.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var l=this.imageToViewerElementCoordinates(o);return l.plus(t.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(o){return this.pointFromPixel(o,!0)},viewportToViewerElementCoordinates:function(o){return this.pixelFromPoint(o,!0)},viewerElementToViewportRectangle:function(o){return t.Rect.fromSummits(this.pointFromPixel(o.getTopLeft(),!0),this.pointFromPixel(o.getTopRight(),!0),this.pointFromPixel(o.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(o){return t.Rect.fromSummits(this.pixelFromPoint(o.getTopLeft(),!0),this.pixelFromPoint(o.getTopRight(),!0),this.pixelFromPoint(o.getBottomLeft(),!0))},windowToViewportCoordinates:function(o){t.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var l=o.minus(t.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(l)},viewportToWindowCoordinates:function(o){t.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var l=this.viewportToViewerElementCoordinates(o);return l.plus(t.getElementPosition(this.viewer.element))},viewportToImageZoom:function(o){if(this.viewer){var l=this.viewer.world.getItemCount();if(l>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(l===1){var u=this.viewer.world.getItemAt(0);return u.viewportToImageZoom(o)}}var d=this._contentSizeNoRotate.x,f=this._containerInnerSize.x,m=this._contentBoundsNoRotate.width,v=f/d*m;return o*v},imageToViewportZoom:function(o){if(this.viewer){var l=this.viewer.world.getItemCount();if(l>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(l===1){var u=this.viewer.world.getItemAt(0);return u.imageToViewportZoom(o)}}var d=this._contentSizeNoRotate.x,f=this._containerInnerSize.x,m=this._contentBoundsNoRotate.width,v=d/f/m;return o*v},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(o){return this.flipped===o?this:(this.flipped=o,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:o}),this)}}}(r),function(t){t.TiledImage=function(f){var m=this;t.console.assert(f.tileCache,"[TiledImage] options.tileCache is required"),t.console.assert(f.drawer,"[TiledImage] options.drawer is required"),t.console.assert(f.viewer,"[TiledImage] options.viewer is required"),t.console.assert(f.imageLoader,"[TiledImage] options.imageLoader is required"),t.console.assert(f.source,"[TiledImage] options.source is required"),t.console.assert(!f.clip||f.clip instanceof t.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),t.EventSource.call(this),this._tileCache=f.tileCache,delete f.tileCache,this._drawer=f.drawer,delete f.drawer,this._imageLoader=f.imageLoader,delete f.imageLoader,f.clip instanceof t.Rect&&(this._clip=f.clip.clone()),delete f.clip;var v=f.x||0;delete f.x;var _=f.y||0;delete f.y,this.normHeight=f.source.dimensions.y/f.source.dimensions.x,this.contentAspectX=f.source.dimensions.x/f.source.dimensions.y;var k=1;f.width?(k=f.width,delete f.width,f.height&&(t.console.error("specifying both width and height to a tiledImage is not supported"),delete f.height)):f.height&&(k=f.height/this.normHeight,delete f.height);var C=f.fitBounds;delete f.fitBounds;var M=f.fitBoundsPlacement||r.Placement.CENTER;delete f.fitBoundsPlacement;var A=f.degrees||0;delete f.degrees,t.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:t.DEFAULT_SETTINGS.springStiffness,animationTime:t.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:t.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:t.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:t.DEFAULT_SETTINGS.wrapVertical,immediateRender:t.DEFAULT_SETTINGS.immediateRender,blendTime:t.DEFAULT_SETTINGS.blendTime,alwaysBlend:t.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:t.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:t.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:t.DEFAULT_SETTINGS.iOSDevice,debugMode:t.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:t.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:t.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:t.DEFAULT_SETTINGS.placeholderFillStyle,opacity:t.DEFAULT_SETTINGS.opacity,preload:t.DEFAULT_SETTINGS.preload,compositeOperation:t.DEFAULT_SETTINGS.compositeOperation,subPixelRoundingForTransparency:t.DEFAULT_SETTINGS.subPixelRoundingForTransparency},f),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new t.Spring({initial:v,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new t.Spring({initial:_,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new t.Spring({initial:k,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new t.Spring({initial:A,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),C&&this.fitBounds(C,M,!0),this._drawingHandler=function(F){m.viewer.raiseEvent("tile-drawing",t.extend({tiledImage:m},F))}},t.extend(t.TiledImage.prototype,t.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(f){f!==this._fullyLoaded&&(this._fullyLoaded=f,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=t.now(),this._needsDraw=!0},update:function(){var f=this._xSpring.update(),m=this._ySpring.update(),v=this._scaleSpring.update(),_=this._degreesSpring.update();return f||m||v||_?(this._updateForScale(),this._needsDraw=!0,!0):!1},draw:function(){this.opacity!==0||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy()},getBounds:function(f){return this.getBoundsNoRotate(f).rotate(this.getRotation(f),this._getRotationPoint(f))},getBoundsNoRotate:function(f){return f?new t.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new t.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return t.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(f){var m=this.getBoundsNoRotate(f);if(this._clip){var v=f?this._worldWidthCurrent:this._worldWidthTarget,_=v/this.source.dimensions.x,k=this._clip.times(_);m=new t.Rect(m.x+k.x,m.y+k.y,k.width,k.height)}return m.rotate(this.getRotation(f),this._getRotationPoint(f))},getTileBounds:function(f,m,v){var _=this.source.getNumTiles(f),k=(_.x+m%_.x)%_.x,C=(_.y+v%_.y)%_.y,M=this.source.getTileBounds(f,k,C);return this.getFlip()&&(M.x=1-M.x-M.width),M.x+=(m-k)/_.x,M.y+=this._worldHeightCurrent/this._worldWidthCurrent*((v-C)/_.y),M},getContentSize:function(){return new t.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var f=this.imageToWindowCoordinates(new t.Point(0,0)),m=this.imageToWindowCoordinates(this.getContentSize());return new t.Point(m.x-f.x,m.y-f.y)},_viewportToImageDelta:function(f,m,v){var _=v?this._scaleSpring.current.value:this._scaleSpring.target.value;return new t.Point(f*(this.source.dimensions.x/_),m*(this.source.dimensions.y*this.contentAspectX/_))},viewportToImageCoordinates:function(f,m,v){var _;return f instanceof t.Point?(v=m,_=f):_=new t.Point(f,m),_=_.rotate(-this.getRotation(v),this._getRotationPoint(v)),v?this._viewportToImageDelta(_.x-this._xSpring.current.value,_.y-this._ySpring.current.value):this._viewportToImageDelta(_.x-this._xSpring.target.value,_.y-this._ySpring.target.value)},_imageToViewportDelta:function(f,m,v){var _=v?this._scaleSpring.current.value:this._scaleSpring.target.value;return new t.Point(f/this.source.dimensions.x*_,m/this.source.dimensions.y/this.contentAspectX*_)},imageToViewportCoordinates:function(f,m,v){f instanceof t.Point&&(v=m,m=f.y,f=f.x);var _=this._imageToViewportDelta(f,m);return v?(_.x+=this._xSpring.current.value,_.y+=this._ySpring.current.value):(_.x+=this._xSpring.target.value,_.y+=this._ySpring.target.value),_.rotate(this.getRotation(v),this._getRotationPoint(v))},imageToViewportRectangle:function(f,m,v,_,k){var C=f;C instanceof t.Rect?k=m:C=new t.Rect(f,m,v,_);var M=this.imageToViewportCoordinates(C.getTopLeft(),k),A=this._imageToViewportDelta(C.width,C.height,k);return new t.Rect(M.x,M.y,A.x,A.y,C.degrees+this.getRotation(k))},viewportToImageRectangle:function(f,m,v,_,k){var C=f;f instanceof t.Rect?k=m:C=new t.Rect(f,m,v,_);var M=this.viewportToImageCoordinates(C.getTopLeft(),k),A=this._viewportToImageDelta(C.width,C.height,k);return new t.Rect(M.x,M.y,A.x,A.y,C.degrees-this.getRotation(k))},viewerElementToImageCoordinates:function(f){var m=this.viewport.pointFromPixel(f,!0);return this.viewportToImageCoordinates(m)},imageToViewerElementCoordinates:function(f){var m=this.imageToViewportCoordinates(f);return this.viewport.pixelFromPoint(m,!0)},windowToImageCoordinates:function(f){var m=f.minus(r.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(m)},imageToWindowCoordinates:function(f){var m=this.imageToViewerElementCoordinates(f);return m.plus(r.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(f){var m=this._scaleSpring.current.value;return f=f.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new t.Rect((f.x-this._xSpring.current.value)/m,(f.y-this._ySpring.current.value)/m,f.width/m,f.height/m,f.degrees)},viewportToImageZoom:function(f){var m=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return m*f},imageToViewportZoom:function(f){var m=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return f/m},setPosition:function(f,m){var v=this._xSpring.target.value===f.x&&this._ySpring.target.value===f.y;if(m){if(v&&this._xSpring.current.value===f.x&&this._ySpring.current.value===f.y)return;this._xSpring.resetTo(f.x),this._ySpring.resetTo(f.y),this._needsDraw=!0}else{if(v)return;this._xSpring.springTo(f.x),this._ySpring.springTo(f.y),this._needsDraw=!0}v||this._raiseBoundsChange()},setWidth:function(f,m){this._setScale(f,m)},setHeight:function(f,m){this._setScale(f/this.normHeight,m)},setCroppingPolygons:function(f){var m=function(_){return _ instanceof t.Point||typeof _.x=="number"&&typeof _.y=="number"},v=function(_){return _.map(function(k){try{if(m(k))return{x:k.x,y:k.y};throw new Error}catch{throw new Error("A Provided cropping polygon point is not supported")}})};try{if(!t.isArray(f))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=f.map(function(_){return v(_)})}catch(_){t.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),t.console.error(_),this._croppingPolygons=null}},resetCroppingPolygons:function(){this._croppingPolygons=null},fitBounds:function(f,m,v){m=m||t.Placement.CENTER;var _=t.Placement.properties[m],k=this.contentAspectX,C=0,M=0,A=1,F=1;if(this._clip&&(k=this._clip.getAspectRatio(),A=this._clip.width/this.source.dimensions.x,F=this._clip.height/this.source.dimensions.y,f.getAspectRatio()>k?(C=this._clip.x/this._clip.height*f.height,M=this._clip.y/this._clip.height*f.height):(C=this._clip.x/this._clip.width*f.width,M=this._clip.y/this._clip.width*f.width)),f.getAspectRatio()>k){var G=f.height/F,H=0;_.isHorizontallyCentered?H=(f.width-f.height*k)/2:_.isRight&&(H=f.width-f.height*k),this.setPosition(new t.Point(f.x-C+H,f.y-M),v),this.setHeight(G,v)}else{var W=f.width/A,j=0;_.isVerticallyCentered?j=(f.height-f.width/k)/2:_.isBottom&&(j=f.height-f.width/k),this.setPosition(new t.Point(f.x-C,f.y-M+j),v),this.setWidth(W,v)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(f){t.console.assert(!f||f instanceof t.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),f instanceof t.Rect?this._clip=f.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return!!this.flipped},setFlip:function(f){this.flipped=!!f,this._needsDraw=!0,this._raiseBoundsChange()},getOpacity:function(){return this.opacity},setOpacity:function(f){f!==this.opacity&&(this.opacity=f,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(f){this._preload=!!f,this._needsDraw=!0},getRotation:function(f){return f?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(f,m){this._degreesSpring.target.value===f&&this._degreesSpring.isAtTargetValue()||(m?this._degreesSpring.resetTo(f):this._degreesSpring.springTo(f),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(f){return this.getBoundsNoRotate(f).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(f){f!==this.compositeOperation&&(this.compositeOperation=f,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(f,m){var v=this._scaleSpring.target.value===f;if(m){if(v&&this._scaleSpring.current.value===f)return;this._scaleSpring.resetTo(f),this._updateForScale(),this._needsDraw=!0}else{if(v)return;this._scaleSpring.springTo(f),this._updateForScale(),this._needsDraw=!0}v||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var f=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),m=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,v=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(m/this.minPixelRatio)/Math.log(2))));return v=Math.max(v,this.source.minLevel||0),f=Math.min(f,v),{lowestLevel:f,highestLevel:v}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){var f=this.lastDrawn.pop();f.beingDrawn=!1}var m=this.viewport,v=this._viewportToTiledImageRectangle(m.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var _=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(v=v.intersection(_),v===null)return}for(var k=this._getLevelsInterval(),C=k.lowestLevel,M=k.highestLevel,A=null,F=!1,G=t.now(),H=M;H>=C;H--){var W=!1,j=m.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(H),!0).x*this._scaleSpring.current.value;if(H===C||!F&&j>=this.minPixelRatio)W=!0,F=!0;else if(!F)continue;var V=m.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(H),!1).x*this._scaleSpring.current.value,nt=m.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,gt=this.immediateRender?1:nt,pt=Math.min(1,(j-.5)/.5),ct=gt/Math.abs(gt-V);if(A=this._updateLevel(F,W,H,pt,ct,v,G,A),this._providesCoverage(this.coverage,H))break}this._drawTiles(this.lastDrawn),A&&!A.context2D?(this._loadTile(A,G),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(this._tilesLoading===0)},_getCornerTiles:function(f,m,v){var _,k;this.wrapHorizontal?(_=t.positiveModulo(m.x,1),k=t.positiveModulo(v.x,1)):(_=Math.max(0,m.x),k=Math.min(1,v.x));var C,M,A=1/this.source.aspectRatio;this.wrapVertical?(C=t.positiveModulo(m.y,A),M=t.positiveModulo(v.y,A)):(C=Math.max(0,m.y),M=Math.min(A,v.y));var F=this.source.getTileAtPoint(f,new t.Point(_,C)),G=this.source.getTileAtPoint(f,new t.Point(k,M)),H=this.source.getNumTiles(f);return this.wrapHorizontal&&(F.x+=H.x*Math.floor(m.x),G.x+=H.x*Math.floor(v.x)),this.wrapVertical&&(F.y+=H.y*Math.floor(m.y/A),G.y+=H.y*Math.floor(v.y/A)),{topLeft:F,bottomRight:G}},_updateLevel:function(f,m,v,_,k,C,M,A){var F=C.getBoundingBox().getTopLeft(),G=C.getBoundingBox().getBottomRight();this.viewer&&this.viewer.raiseEvent("update-level",{tiledImage:this,havedrawn:f,level:v,opacity:_,visibility:k,drawArea:C,topleft:F,bottomright:G,currenttime:M,best:A}),this._resetCoverage(this.coverage,v),this._resetCoverage(this.loadingCoverage,v);var H=this._getCornerTiles(v,F,G),W=H.topLeft,j=H.bottomRight,V=this.source.getNumTiles(v),nt=this.viewport.pixelFromPoint(this.viewport.getCenter());this.getFlip()&&(j.x+=1,this.wrapHorizontal||(j.x=Math.min(j.x,V.x-1)));for(var gt=W.x;gt<=j.x;gt++)for(var pt=W.y;pt<=j.y;pt++){var ct;if(this.getFlip()){var Z=(V.x+gt%V.x)%V.x;ct=gt+V.x-Z-Z-1}else ct=gt;C.intersection(this.getTileBounds(v,ct,pt))!==null&&(A=this._updateTile(m,f,ct,pt,v,_,k,nt,V,M,A))}return A},_updateTile:function(f,m,v,_,k,C,M,A,F,G,H){var W=this._getTile(v,_,k,G,F,this._worldWidthCurrent,this._worldHeightCurrent),j=m;this.viewer&&this.viewer.raiseEvent("update-tile",{tiledImage:this,tile:W}),this._setCoverage(this.coverage,k,v,_,!1);var V=W.loaded||W.loading||this._isCovered(this.loadingCoverage,k,v,_);if(this._setCoverage(this.loadingCoverage,k,v,_,V),!W.exists||(f&&!j&&(this._isCovered(this.coverage,k,v,_)?this._setCoverage(this.coverage,k,v,_,!0):j=!0),!j))return H;if(this._positionTile(W,this.source.tileOverlap,this.viewport,A,M),!W.loaded)if(W.context2D)this._setTileLoaded(W);else{var nt=this._tileCache.getImageRecord(W.cacheKey);nt&&this._setTileLoaded(W,nt.getData())}if(W.loaded){var gt=this._blendTile(W,v,_,k,C,G);gt&&(this._needsDraw=!0)}else W.loading?this._tilesLoading++:V||(H=this._compareTiles(H,W));return H},_getTile:function(f,m,v,_,k,C,M){var A,F,G,H,W,j,V,nt,gt,pt,ct=this.tilesMatrix,Z=this.source;return ct[v]||(ct[v]={}),ct[v][f]||(ct[v][f]={}),(!ct[v][f][m]||!ct[v][f][m].flipped!=!this.flipped)&&(A=(k.x+f%k.x)%k.x,F=(k.y+m%k.y)%k.y,G=this.getTileBounds(v,f,m),H=Z.getTileBounds(v,A,F,!0),W=Z.tileExists(v,A,F),j=Z.getTileUrl(v,A,F),V=Z.getTilePostData(v,A,F),this.loadTilesWithAjax?(nt=Z.getTileAjaxHeaders(v,A,F),t.isPlainObject(this.ajaxHeaders)&&(nt=t.extend({},this.ajaxHeaders,nt))):nt=null,gt=Z.getContext2D?Z.getContext2D(v,A,F):void 0,pt=new t.Tile(v,f,m,G,W,j,gt,this.loadTilesWithAjax,nt,H,V,Z.getTileHashKey(v,A,F,j,nt,V)),this.getFlip()?A===0&&(pt.isRightMost=!0):A===k.x-1&&(pt.isRightMost=!0),F===k.y-1&&(pt.isBottomMost=!0),pt.flipped=this.flipped,ct[v][f][m]=pt),pt=ct[v][f][m],pt.lastTouchTime=_,pt},_loadTile:function(f,m){var v=this;f.loading=!0,this._imageLoader.addJob({src:f.getUrl(),tile:f,source:this.source,postData:f.postData,loadWithAjax:f.loadWithAjax,ajaxHeaders:f.ajaxHeaders,crossOriginPolicy:this.crossOriginPolicy,ajaxWithCredentials:this.ajaxWithCredentials,callback:function(_,k,C){v._onTileLoad(f,m,_,k,C)},abort:function(){f.loading=!1}})},_onTileLoad:function(f,m,v,_,k){if(!v){t.console.error("Tile %s failed to load: %s - error: %s",f,f.getUrl(),_),this.viewer.raiseEvent("tile-load-failed",{tile:f,tiledImage:this,time:m,message:_,tileRequest:k}),f.loading=!1,f.exists=!1;return}if(m<this.lastResetTime){t.console.warn("Ignoring tile %s loaded before reset: %s",f,f.getUrl()),f.loading=!1;return}var C=this,M=function(){var A=C.source,F=A.getClosestLevel();C._setTileLoaded(f,v,F,k)};this._midDraw?window.setTimeout(M,1):M()},_setTileLoaded:function(f,m,v,_){var k=0,C=this;function M(){return k++,A}function A(){k--,k===0&&(f.loading=!1,f.loaded=!0,f.hasTransparency=C.source.hasTransparency(f.context2D,f.getUrl(),f.ajaxHeaders,f.postData),f.context2D||C._tileCache.cacheTile({data:m,tile:f,cutoff:v,tiledImage:C}),C._needsDraw=!0)}this.viewer.raiseEvent("tile-loaded",{tile:f,tiledImage:this,tileRequest:_,get image(){return t.console.error("[tile-loaded] event 'image' has been deprecated. Use 'data' property instead."),m},data:m,getCompletionCallback:M}),M()()},_positionTile:function(f,m,v,_,k){var C=f.bounds.getTopLeft();C.x*=this._scaleSpring.current.value,C.y*=this._scaleSpring.current.value,C.x+=this._xSpring.current.value,C.y+=this._ySpring.current.value;var M=f.bounds.getSize();M.x*=this._scaleSpring.current.value,M.y*=this._scaleSpring.current.value;var A=v.pixelFromPointNoRotate(C,!0),F=v.pixelFromPointNoRotate(C,!1),G=v.deltaPixelsFromPointsNoRotate(M,!0),H=v.deltaPixelsFromPointsNoRotate(M,!1),W=F.plus(H.divide(2)),j=_.squaredDistanceTo(W);m||(G=G.plus(new t.Point(1,1))),f.isRightMost&&this.wrapHorizontal&&(G.x+=.75),f.isBottomMost&&this.wrapVertical&&(G.y+=.75),f.position=A,f.size=G,f.squaredDistance=j,f.visibility=k},_blendTile:function(f,m,v,_,k,C){var M=1e3*this.blendTime,A,F;if(f.blendStart||(f.blendStart=C),A=C-f.blendStart,F=M?Math.min(1,A/M):1,this.alwaysBlend&&(F*=k),f.opacity=F,this.lastDrawn.push(f),F===1)this._setCoverage(this.coverage,_,m,v,!0),this._hasOpaqueTile=!0;else if(A<M)return!0;return!1},_compareTiles:function(f,m){return!f||m.visibility>f.visibility||m.visibility===f.visibility&&m.squaredDistance<f.squaredDistance?m:f},_drawTiles:function(f){if(!(this.opacity===0||f.length===0&&!this.placeholderFillStyle)){var m=f[0],v;m&&(v=this.opacity<1||this.compositeOperation&&this.compositeOperation!=="source-over"||!this._isBottomItem()&&this.source.hasTransparency(m.context2D,m.getUrl(),m.ajaxHeaders,m.postData));var _,k,C=this.viewport.getZoom(!0),M=this.viewportToImageZoom(C);f.length>1&&M>this.smoothTileEdgesMinZoom&&!this.iOSDevice&&this.getRotation(!0)%360===0&&t.supportsCanvas&&this.viewer.useCanvas&&(v=!0,_=m.getScaleForEdgeSmoothing(),k=m.getTranslationForEdgeSmoothing(_,this._drawer.getCanvasSize(!1),this._drawer.getCanvasSize(!0)));var A;v&&(_||(A=this.viewport.viewportToViewerElementRectangle(this.getClippedBounds(!0)).getIntegerBoundingBox(),this._drawer.viewer.viewport.getFlip()&&(this.viewport.getRotation(!0)%360!==0||this.getRotation(!0)%360!==0)&&(A.x=this._drawer.viewer.container.clientWidth-(A.x+A.width)),A=A.times(t.pixelDensityRatio)),this._drawer._clear(!0,A)),_||(this.viewport.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:v}),this.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(this._getRotationPoint(!0),!0),useSketch:v}),this.viewport.getRotation(!0)%360===0&&this.getRotation(!0)%360===0&&this._drawer.viewer.viewport.getFlip()&&this._drawer._flip());var F=!1;if(this._clip){this._drawer.saveContext(v);var G=this.imageToViewportRectangle(this._clip,!0);G=G.rotate(-this.getRotation(!0),this._getRotationPoint(!0));var H=this._drawer.viewportToDrawerRectangle(G);_&&(H=H.times(_)),k&&(H=H.translate(k)),this._drawer.setClip(H,v),F=!0}if(this._croppingPolygons){var W=this;this._drawer.saveContext(v);try{var j=this._croppingPolygons.map(function(at){return at.map(function(ft){var vt=W.imageToViewportCoordinates(ft.x,ft.y,!0).rotate(-W.getRotation(!0),W._getRotationPoint(!0)),Qt=W._drawer.viewportCoordToDrawerCoord(vt);return _&&(Qt=Qt.times(_)),Qt})});this._drawer.clipWithPolygons(j,v)}catch(at){t.console.error(at)}F=!0}if(this.placeholderFillStyle&&this._hasOpaqueTile===!1){var V=this._drawer.viewportToDrawerRectangle(this.getBounds(!0));_&&(V=V.times(_)),k&&(V=V.translate(k));var nt=null;typeof this.placeholderFillStyle=="function"?nt=this.placeholderFillStyle(this,this._drawer.context):nt=this.placeholderFillStyle,this._drawer.drawRectangle(V,nt,v)}var gt=d(this.subPixelRoundingForTransparency),pt=!1;if(gt===t.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS)pt=!0;else if(gt===t.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST){var ct=this.viewer&&this.viewer.isAnimating();pt=!ct}for(var Z=f.length-1;Z>=0;Z--)m=f[Z],this._drawer.drawTile(m,this._drawingHandler,v,_,k,pt,this.source),m.beingDrawn=!0,this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:this,tile:m});F&&this._drawer.restoreContext(v),_||(this.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(v),this.viewport.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(v)),v&&(_&&(this.viewport.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:!1}),this.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(this._getRotationPoint(!0),!0),useSketch:!1})),this._drawer.blendSketch({opacity:this.opacity,scale:_,translate:k,compositeOperation:this.compositeOperation,bounds:A}),_&&(this.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(!1),this.viewport.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(!1))),_||this.viewport.getRotation(!0)%360===0&&this.getRotation(!0)%360===0&&this._drawer.viewer.viewport.getFlip()&&this._drawer._flip(),this._drawDebugInfo(f)}},_drawDebugInfo:function(f){if(this.debugMode)for(var m=f.length-1;m>=0;m--){var v=f[m];try{this._drawer.drawDebugInfo(v,f.length,m,this)}catch(_){t.console.error(_)}}},_providesCoverage:function(f,m,v,_){var k,C,M,A;if(!f[m])return!1;if(v===void 0||_===void 0){k=f[m];for(M in k)if(Object.prototype.hasOwnProperty.call(k,M)){C=k[M];for(A in C)if(Object.prototype.hasOwnProperty.call(C,A)&&!C[A])return!1}return!0}return f[m][v]===void 0||f[m][v][_]===void 0||f[m][v][_]===!0},_isCovered:function(f,m,v,_){return v===void 0||_===void 0?this._providesCoverage(f,m+1):this._providesCoverage(f,m+1,2*v,2*_)&&this._providesCoverage(f,m+1,2*v,2*_+1)&&this._providesCoverage(f,m+1,2*v+1,2*_)&&this._providesCoverage(f,m+1,2*v+1,2*_+1)},_setCoverage:function(f,m,v,_,k){if(!f[m]){t.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",m);return}f[m][v]||(f[m][v]={}),f[m][v][_]=k},_resetCoverage:function(f,m){f[m]={}}});var o=t.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER;function l(f){return f!==t.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS&&f!==t.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST&&f!==t.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER}function u(f){return l(f)?o:f}function d(f){if(typeof f=="number")return u(f);if(!f||!t.Browser)return o;var m=f[t.Browser.vendor];return l(m)&&(m=f["*"]),u(m)}}(r),function(t){var o=function(u){t.console.assert(u,"[TileCache.cacheTile] options is required"),t.console.assert(u.tile,"[TileCache.cacheTile] options.tile is required"),t.console.assert(u.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=u.tile,this.tiledImage=u.tiledImage},l=function(u){t.console.assert(u,"[ImageRecord] options is required"),t.console.assert(u.data,"[ImageRecord] options.data is required"),this._tiles=[],u.create.apply(null,[this,u.data,u.ownerTile]),this._destroyImplementation=u.destroy.bind(null,this),this.getImage=u.getImage.bind(null,this),this.getData=u.getData.bind(null,this),this.getRenderedContext=u.getRenderedContext.bind(null,this)};l.prototype={destroy:function(){this._destroyImplementation(),this._tiles=null},addTile:function(u){t.console.assert(u,"[ImageRecord.addTile] tile is required"),this._tiles.push(u)},removeTile:function(u){for(var d=0;d<this._tiles.length;d++)if(this._tiles[d]===u){this._tiles.splice(d,1);return}t.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",u)},getTileCount:function(){return this._tiles.length}},t.TileCache=function(u){u=u||{},this._maxImageCacheCount=u.maxImageCacheCount||t.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},t.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(u){t.console.assert(u,"[TileCache.cacheTile] options is required"),t.console.assert(u.tile,"[TileCache.cacheTile] options.tile is required"),t.console.assert(u.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),t.console.assert(u.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var d=u.cutoff||0,f=this._tilesLoaded.length,m=this._imagesLoaded[u.tile.cacheKey];if(m||(u.data||(t.console.error("[TileCache.cacheTile] options.image was renamed to options.data. '.image' attribute has been deprecated and will be removed in the future."),u.data=u.image),t.console.assert(u.data,"[TileCache.cacheTile] options.data is required to create an ImageRecord"),m=this._imagesLoaded[u.tile.cacheKey]=new l({data:u.data,ownerTile:u.tile,create:u.tiledImage.source.createTileCache,destroy:u.tiledImage.source.destroyTileCache,getImage:u.tiledImage.source.getTileCacheDataAsImage,getData:u.tiledImage.source.getTileCacheData,getRenderedContext:u.tiledImage.source.getTileCacheDataAsContext2D}),this._imagesLoadedCount++),m.addTile(u.tile),u.tile.cacheImageRecord=m,this._imagesLoadedCount>this._maxImageCacheCount){for(var v=null,_=-1,k=null,C,M,A,F,G,H,W=this._tilesLoaded.length-1;W>=0;W--)if(H=this._tilesLoaded[W],C=H.tile,!(C.level<=d||C.beingDrawn)){if(!v){v=C,_=W,k=H;continue}F=C.lastTouchTime,M=v.lastTouchTime,G=C.level,A=v.level,(F<M||F===M&&G>A)&&(v=C,_=W,k=H)}v&&_>=0&&(this._unloadTile(k),f=_)}this._tilesLoaded[f]=new o({tile:u.tile,tiledImage:u.tiledImage})},clearTilesFor:function(u){t.console.assert(u,"[TileCache.clearTilesFor] tiledImage is required");for(var d,f=0;f<this._tilesLoaded.length;++f)d=this._tilesLoaded[f],d.tiledImage===u&&(this._unloadTile(d),this._tilesLoaded.splice(f,1),f--)},getImageRecord:function(u){return t.console.assert(u,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[u]},_unloadTile:function(u){t.console.assert(u,"[TileCache._unloadTile] tileRecord is required");var d=u.tile,f=u.tiledImage;d.unload(),d.cacheImageRecord=null;var m=this._imagesLoaded[d.cacheKey];m.removeTile(d),m.getTileCount()||(m.destroy(),delete this._imagesLoaded[d.cacheKey],this._imagesLoadedCount--),f.viewer.raiseEvent("tile-unloaded",{tile:d,tiledImage:f})}}}(r),function(t){t.World=function(o){var l=this;t.console.assert(o.viewer,"[World] options.viewer is required"),t.EventSource.call(this),this.viewer=o.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(u){l._autoRefigureSizes?l._figureSizes():l._needsSizesFigured=!0},this._figureSizes()},t.extend(t.World.prototype,t.EventSource.prototype,{addItem:function(o,l){if(t.console.assert(o,"[World.addItem] item is required"),t.console.assert(o instanceof t.TiledImage,"[World.addItem] only TiledImages supported at this time"),l=l||{},l.index!==void 0){var u=Math.max(0,Math.min(this._items.length,l.index));this._items.splice(u,0,o)}else this._items.push(o);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,o.addHandler("bounds-change",this._delegatedFigureSizes),o.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:o})},getItemAt:function(o){return t.console.assert(o!==void 0,"[World.getItemAt] index is required"),this._items[o]},getIndexOfItem:function(o){return t.console.assert(o,"[World.getIndexOfItem] item is required"),t.indexOf(this._items,o)},getItemCount:function(){return this._items.length},setItemIndex:function(o,l){t.console.assert(o,"[World.setItemIndex] item is required"),t.console.assert(l!==void 0,"[World.setItemIndex] index is required");var u=this.getIndexOfItem(o);if(l>=this._items.length)throw new Error("Index bigger than number of layers.");l===u||u===-1||(this._items.splice(u,1),this._items.splice(l,0,o),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:o,previousIndex:u,newIndex:l}))},removeItem:function(o){t.console.assert(o,"[World.removeItem] item is required");var l=t.indexOf(this._items,o);l!==-1&&(o.removeHandler("bounds-change",this._delegatedFigureSizes),o.removeHandler("clip-change",this._delegatedFigureSizes),o.destroy(),this._items.splice(l,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(o))},removeAll:function(){this.viewer._cancelPendingImages();var o,l;for(l=0;l<this._items.length;l++)o=this._items[l],o.removeHandler("bounds-change",this._delegatedFigureSizes),o.removeHandler("clip-change",this._delegatedFigureSizes),o.destroy();var u=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,l=0;l<u.length;l++)o=u[l],this._raiseRemoveItem(o)},resetItems:function(){for(var o=0;o<this._items.length;o++)this._items[o].reset()},update:function(){for(var o=!1,l=0;l<this._items.length;l++)o=this._items[l].update()||o;return o},draw:function(){for(var o=0;o<this._items.length;o++)this._items[o].draw();this._needsDraw=!1},needsDraw:function(){for(var o=0;o<this._items.length;o++)if(this._items[o].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(o){this._autoRefigureSizes=o,o&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(o){o=o||{};var l=o.immediately||!1,u=o.layout||t.DEFAULT_SETTINGS.collectionLayout,d=o.rows||t.DEFAULT_SETTINGS.collectionRows,f=o.columns||t.DEFAULT_SETTINGS.collectionColumns,m=o.tileSize||t.DEFAULT_SETTINGS.collectionTileSize,v=o.tileMargin||t.DEFAULT_SETTINGS.collectionTileMargin,_=m+v,k;!o.rows&&f?k=f:k=Math.ceil(this._items.length/d);var C=0,M=0,A,F,G,H,W;this.setAutoRefigureSizes(!1);for(var j=0;j<this._items.length;j++)j&&j%k===0&&(u==="horizontal"?(M+=_,C=0):(C+=_,M=0)),A=this._items[j],F=A.getBounds(),F.width>F.height?G=m:G=m*(F.width/F.height),H=G*(F.height/F.width),W=new t.Point(C+(m-G)/2,M+(m-H)/2),A.setPosition(W,l),A.setWidth(G,l),u==="horizontal"?C+=_:M+=_;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var o=this._homeBounds?this._homeBounds.clone():null,l=this._contentSize?this._contentSize.clone():null,u=this._contentFactor||0;if(!this._items.length)this._homeBounds=new t.Rect(0,0,1,1),this._contentSize=new t.Point(1,1),this._contentFactor=1;else{var d=this._items[0],f=d.getBounds();this._contentFactor=d.getContentSize().x/f.width;for(var m=d.getClippedBounds().getBoundingBox(),v=m.x,_=m.y,k=m.x+m.width,C=m.y+m.height,M=1;M<this._items.length;M++)d=this._items[M],f=d.getBounds(),this._contentFactor=Math.max(this._contentFactor,d.getContentSize().x/f.width),m=d.getClippedBounds().getBoundingBox(),v=Math.min(v,m.x),_=Math.min(_,m.y),k=Math.max(k,m.x+m.width),C=Math.max(C,m.y+m.height);this._homeBounds=new t.Rect(v,_,k-v,C-_),this._contentSize=new t.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}(this._contentFactor!==u||!this._homeBounds.equals(o)||!this._contentSize.equals(l))&&this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(o){this.raiseEvent("remove-item",{item:o})}})}(r)})(YC);var s4=YC.exports;const a4=ZC(s4),l4=["aria-label","alt"],c4={key:1,class:"group relative h-10 p-2"},u4=["innerHTML"],h4=["innerHTML"],d4=["manifest"],p4=Ro({__name:"Image.ce",props:{caption:{type:String},cover:{type:Boolean,default:!1},data:{type:String},fit:{type:String,default:"contain"},height:{type:Number},noCaption:{type:Boolean,default:!1},src:{type:String,required:!0},width:{type:Number}},setup(n){const r=n,t=me(null),o=me(null),l=Xe(()=>{var xt,Nt;return(Nt=(xt=t.value)==null?void 0:xt.getRootNode())==null?void 0:Nt.host}),u=Xe(()=>{var xt;return(xt=t==null?void 0:t.value)==null?void 0:xt.parentNode});er(u,xt=>{xt.children[1].classList.remove("sticky")});const d=me();er(d,()=>{Z()});const f=me(),m=Xe(()=>{var xt,Nt;return Number(((((xt=f.value)==null?void 0:xt.width)||1)/(((Nt=f.value)==null?void 0:Nt.height)||1)).toFixed(4))});er(m,()=>{Z(),o.value&&at()}),er(o,()=>{var xt;o.value&&(r.width?((xt=t.value)==null||xt.setAttribute("style",`width: ${r.width}px;margin: auto`),d.value=r.width):new ResizeObserver(()=>{var Nt;d.value=(Nt=o.value)==null?void 0:Nt.clientWidth}).observe(o.value),f.value&&at())}),er(r,()=>{G()});const v=me(),_=me();er(_,()=>{var xt;(xt=v.value)==null||xt.open(_.value)});const k=me();er(k,()=>{j(k.value)});function C(xt){if(v.value&&(_.value=null),/upload\.wikimedia\.org/.test(xt)){let Nt=xt.split("/"),Vt=Nt[5]==="thumb"?Nt[8]:Nt[7];k.value=`https://${bh}/wc:${Vt.replace(/ /g,"_")}/manifest.json`}else k.value=/^http/.test(xt)?xt:/^\w+:/.test(xt)?`https://${bh}/${xt.replace(/ /g,"_")}/manifest.json`:xt}const M=me(),A=Xe(()=>{var xt,Nt,Vt;return r.caption||M.value&&((Vt=(Nt=(xt=M.value)==null?void 0:xt.label)==null?void 0:Nt.en)==null?void 0:Vt[0])}),F=me();function G(){C(r.src)}ta(()=>{G(),ft()});async function H(xt){var Vt;return xt.indexOf("manifest.json")>0?!0:((Vt=(await fetch(xt,{method:"HEAD"})).headers.get("Content-Type"))==null?void 0:Vt.indexOf("image"))===-1}async function W(xt){let Nt=await fetch("https://${iiifServer}/prezi2to3/",{method:"POST",body:JSON.stringify(xt)});if(Nt.ok)return(await Nt).json()}async function j(xt){if(await H(xt)){let Nt=await gt(xt),Vt=V({type:"Annotation",motivation:"painting"},Nt).body;f.value={width:Vt.width,height:Vt.height},_.value=Vt.service?`${Vt.service[0].id||Vt.service[0]["@id"]}/info.json`:{url:Vt.id,type:"image",buildPyramid:!0}}else pt(xt).then(Nt=>{f.value=Nt}),_.value={url:xt,type:"image",buildPyramid:!0}}function V(xt,Nt,Vt=1){const te=nt(xt,Nt);return te.length>=Vt?te[Vt-1]:null}function nt(xt,Nt,Vt=[]){if(Vt=Vt||[],Nt.items)for(let te=0;te<Nt.items.length;te++){let de=Nt.items[te];!Object.entries(xt).find(([se,rr])=>de[se]&&de[se]!==rr)?Vt.push(de):nt(xt,de,Vt)}return Vt}async function gt(xt){let Nt=await fetch(xt);if(Nt.ok){let Vt=await Nt.json(),te=Array.isArray(Vt["@context"])?Vt["@context"].find(oe=>oe.indexOf("/presentation/")>0):Vt["@context"],de=parseFloat(te.split("/").slice(-2,-1).pop());return M.value=de<3?await W(M):Vt,M.value}}async function pt(xt){return new Promise((Nt,Vt)=>{let te=new Image;te.onload=()=>Nt({width:te.width,height:te.height}),te.onerror=()=>Vt(),te.src=xt})}function ct(){var xt,Nt;(xt=o.value)!=null&&xt.clientWidth&&(r.height||Number(((Nt=o.value)==null?void 0:Nt.clientWidth)/m.value).toFixed(0))}function Z(){ct(),setTimeout(()=>{var xt,Nt;return(Nt=(xt=v.value)==null?void 0:xt.viewport)==null?void 0:Nt.goHome(!0)},100)}function at(){if(!o.value)return;let xt=u.value.querySelector("#osd");ct();const Nt={element:xt,prefixUrl:"https://openseadragon.github.io/openseadragon/images/",tileSources:_.value,homeFillsViewer:r.cover||r.fit==="cover",maxZoomPixelRatio:10};v.value=a4(Nt),v.value.addHandler("viewport-change",()=>Jt()),setTimeout(()=>Gt(),500)}function ft(){let xt=l.value.parentElement;for(;xt!=null&&xt.parentElement&&xt.tagName!=="MAIN";)Array.from(xt.querySelectorAll("a")).forEach(Nt=>{let te=new URL(Nt.href).pathname.split("/").filter(oe=>oe),de=te.indexOf("zoom");if(de>=0&&te.length>de+1&&vt(Nt)){let se=te[de+1];Nt.classList.add("zoom"),Nt.href="javascript:;",Nt.setAttribute("data-region",se),Nt.addEventListener("click",rr=>{let gr=rr.target.getAttribute("data-region");gr&&re(gr)})}}),xt=xt.parentElement}function vt(xt){function Nt(Vt){let te=Vt.previousSibling;for(;te;){if(te.nodeName==="MDP-IMAGE")return te===l.value?te:null;te=te.previousSibling}}for(Nt(xt);xt.parentElement&&xt.tagName!=="BODY";){xt=xt.parentElement;let Vt=xt.querySelector(":scope mdp-image");if(Vt)return Vt===l.value?Vt:null}}let Qt="";function re(xt){var Vt,te,de;xt=xt.replace(/^zoom\|/i,"");const Nt=xt==null?void 0:xt.match(/^(?<region>(pct:|pixel:|px:)?[\d.]+,[\d.]+,[\d.]+,[\d.]+)?$/);if(Nt){let oe=(Vt=Nt==null?void 0:Nt.groups)==null?void 0:Vt.region;oe&&(Qt===oe?((te=v.value)==null||te.viewport.goHome(),Qt=""):(Qt=oe,(de=v.value)==null||de.viewport.fitBounds(pe(oe,v.value),!1)))}}function pe(xt,Nt){let Vt;const te=xt.split(":");let[de,oe,se,rr]=te[te.length-1].split(",").map(vi=>parseInt(vi));const gr=Nt.world.getItemAt(0).getContentSize();return te.length===2&&(te[0]==="pct"||te[0]==="percent")&&(de=Math.round(gr.x*de/100),oe=Math.round(gr.y*oe/100),se=Math.round(gr.x*se/100),rr=Math.round(gr.y*rr/100)),Vt=Nt.viewport.imageToViewportRectangle(de,oe,se,rr),Vt}function Gt(){var Nt,Vt;const xt=(Nt=v.value)==null?void 0:Nt.world.getItemAt(0);if(xt){let te=(Vt=v.value)==null?void 0:Vt.viewport.getBounds();const de=te?xt.viewportToImageRectangle(te):null;F.value=de?`${Math.ceil(de.x)},${Math.ceil(de.y)},${Math.ceil(de.width)},${Math.ceil(de.height)}`:""}}let ce=null;function Jt(){ce!==null&&(clearTimeout(ce),ce=null),ce=window.setTimeout(()=>Gt(),100)}function tr(xt){navigator.clipboard&&navigator.clipboard.writeText(xt)}return(xt,Nt)=>(ke(),Ce("div",{ref_key:"root",ref:t,class:"h-[100%] image flex flex-col relative rounded overflow-hidden shadow-lg"},[_.value?(ke(),Ce("div",{key:0,ref_key:"osdEl",ref:o,id:"osd",class:"w-full h-[100%]",role:"img","aria-label":A.value,alt:A.value},null,8,l4)):ii("",!0),_.value&&A.value&&!n.noCaption?(ke(),Ce("div",c4,[Xt("div",{class:"font-bold text-xl mb-2",innerHTML:A.value},null,8,u4),F.value?(ke(),Ce("div",{key:0,class:"invisible group-hover:visible absolute pr-4 pl-4 pt-2 pb-2 mt-24 bottom-0 right-0 cursor-copy ml-4 bg-slate-100 text-black",innerHTML:F.value,onClick:Nt[0]||(Nt[0]=Vt=>tr(F.value||""))},null,8,h4)):ii("",!0)])):ii("",!0),M.value?(ke(),Ce("mdp-manifest-popup",{key:2,manifest:M.value,class:"z-20"},null,8,d4)):ii("",!0)],512))}}),f4=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-\\[100\\%\\]{height:100%}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}mdp-manifest-popup{visibility:hidden;position:absolute;top:1em;right:1em;z-index:10}.image:hover mdp-manifest-popup{visibility:visible;transition:all .5s ease-in}
`,g4=Es(p4,[["styles",[f4]]]);class m4{constructor(){this.events={}}on(r,t){this.events[r]=this.events[r]||[],this.events[r].push(t)}off(r,t){if(this.events[r]){for(let o=0;o<this.events[r].length;o++)if(this.events[r][o]===t){this.events[r].splice(o,1);break}}}emit(r,t){this.events[r]&&this.events[r].forEach(function(o){o(t)})}}const XC=new m4,v4=["innerHTML"],y4=["innerHTML"],b4=Ro({__name:"InfoCard.ce",props:{data:{type:String},description:{type:String},dialogWidth:{type:String,default:"100vw"},image:{type:String},href:{type:String},label:{type:String}},setup(n){const r=n;function t(){XC.emit("imageSelected",{src:d.value})}const o=me(null),l=Xe(()=>{var F,G;return(G=(F=o.value)==null?void 0:F.getRootNode())==null?void 0:G.host});Xe(()=>{var F;return(F=o==null?void 0:o.value)==null?void 0:F.parentNode});const u=Xe(()=>r.data?JSON.parse(r.data):{}),d=Xe(()=>u.value.id),f=Xe(()=>u.value.label||r.label),m=Xe(()=>u.value.description||r.description),v=Xe(()=>u.value.image||r.image);Xe(()=>u.value.href||r.href);const _=Xe(()=>v.value&&`url('${A(v.value)}')`),k=Xe(()=>{var F;return`${((F=l.value)==null?void 0:F.clientWidth)*.33}px`});let C;const M=me(!1);er(M,()=>{C.open=M.value});function A(F){let G=F.split("/");return`${G.slice(0,-1).join("/")}/${encodeURIComponent(G[G.length-1])}`}return ta(()=>{}),(F,G)=>(ke(),Ce("div",{ref_key:"root",ref:o,id:"card",class:"card"},[Xt("div",{class:"label",innerHTML:f.value},null,8,v4),Xt("div",{class:"description",innerHTML:m.value},null,8,y4),v.value?(ke(),Ce("div",{key:0,class:"image",style:au({backgroundImage:_.value,width:k.value}),onClick:t},null,4)):ii("",!0)],512))}}),w4=`*{box-sizing:border-box}:host{display:inline-block;width:100%}.card{display:grid;grid-template-columns:1fr auto;grid-template-rows:auto auto auto 1fr auto;border-radius:6px;min-height:80px;max-height:100px;overflow-y:hidden;background-color:#fff;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px}.label,.description,.summary,.links{margin:6px;font-size:1rem}.label{grid-area:1 / 1 / 2 / 2;font-size:130%;font-weight:700}.description{grid-area:2 / 1 / 3 / 2;font-size:110%;font-weight:400;height:100%}.summary{grid-area:3 / 1 / 4 / 2;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:6;overflow:hidden;line-height:1.2rem;font-weight:300}.spacer{grid-area:4 / 1 / 5 / 2;height:100%}.links{grid-area:5 / 1 / 6 / 2}.image{grid-area:1 / 2 / 6 / 3;height:100%;max-height:100px;-o-object-fit:cover;object-fit:cover;background-repeat:no-repeat;background-size:cover;background-position:center}.logo img{height:24px;margin-right:12px;cursor:pointer}sl-dialog::part(panel){max-width:unset;max-height:unset;height:100dvh}sl-dialog::part(overlay){--sl-overlay-background-color: rgba(100, 100, 100, .8)}sl-dialog::part(footer){background-color:#64646480}
`,x4=Es(b4,[["styles",[w4]]]),Fa=n=>(p5("data-v-4827c438"),n=n(),f5(),n),_4={class:"main"},k4=["src"],E4=["innerHTML"],T4=["innerHTML"],S4=["href","innerHTML"],C4={class:"links"},P4={class:"detail"},M4={key:0,class:"provider"},I4=Fa(()=>Xt("span",{class:"label"},"provider",-1)),L4={key:0,style:{display:"flex","align-items":"center"}},R4=["src"],A4=["href","innerHTML"],O4={key:1},z4=["src"],N4=["href","innerHTML"],D4={key:1,class:"requiredStatement"},F4=["innerHTML"],B4={key:2,class:"rights"},j4=Fa(()=>Xt("span",{class:"label"},"Reuse rights",-1)),H4=["href","innerHTML"],U4={key:3,class:"metadata"},G4=Fa(()=>Xt("span",{class:"label"},"metadata",-1)),q4=["innerHTML"],V4=["innerHTML"],W4={key:1},Z4=["innerHTML"],Y4={key:4,class:"navDate"},X4=Fa(()=>Xt("span",{class:"label"},"navDate",-1)),K4=["innerHTML"],J4={key:5,class:"homepage"},Q4=Fa(()=>Xt("span",{class:"label"},"homepage",-1)),$4=["href","innerHTML"],t6={key:6,class:"seeAlso"},e6=Fa(()=>Xt("span",{class:"label"},"seeAlso",-1)),r6=["href","innerHTML"],i6={key:7,class:"logo"},n6=Fa(()=>Xt("span",{class:"label"},"logo",-1)),o6=["href","innerHTML"],s6={key:8,class:"imageData"},a6=Fa(()=>Xt("span",{class:"label"},"source",-1)),l6=["href","innerHTML"],c6=Fa(()=>Xt("span",{class:"label"},"format",-1)),u6=["innerHTML"],h6=Fa(()=>Xt("span",{class:"label"},"width",-1)),d6=["innerHTML"],p6=Fa(()=>Xt("span",{class:"label"},"height",-1)),f6=["innerHTML"],g6=Ro({__name:"Manifest.ce",props:{manifest:{type:Object,required:!0}},setup(n){const r=n;er(r,()=>o.value=r.manifest);const t=me(null),o=me(null),l=me(null);er(o,()=>l.value=m(o.value));const u=Xe(()=>l.value&&_(l.value));ta(()=>d());function d(){typeof r.manifest=="object"?o.value=r.manifest:Vv(r.manifest).then(k=>o.value=k)}function f(k,C="en"){return typeof k=="object"&&!Array.isArray(k)?k[C]||k.none||k[Object.keys(k).sort()[0]]:k}function m(k){let C={};if(C.id=f(k.id),C.label=f(k.label),k.summary&&(C.summary=f(k.summary)),k.rights&&(C.rights=k.rights),k.thumbnail&&(C.thumbnail=k.thumbnail[0].id||k.thumbnail),k.metadata){C.metadata=k.metadata.map(F=>({label:f(F.label)[0],value:f(F.value)}));let M=C.metadata.find(F=>F.label=="source_url");C.sourceUrl=M?M.value[0]:null;let A=C.metadata.find(F=>F.label==="depicts");A&&(C.depicts=A.value)}if(k.provider&&(C.provider=k.provider.map(M=>{let A={label:f(M.label),href:M.id};return M.logo&&(A.logo={src:M.logo[0].id}),A})),k.logo&&(C.logo=k.logo.map(M=>{let A={src:typeof M=="object"?M.id||M["@id"]:M};return typeof M=="object"&&(M.width&&(A.width=M.width),M.height&&(A.height=M.height)),A})),C.imageData=WC(k),C.service=C.imageData.service&&`${(C.imageData.service[0].id||C.imageData.service[0]["@id"]).replace(/\/info\.json$/,"")}/info.json`,k.requiredStatement){let M=k.requiredStatement;C.requiredStatement={label:f(M.label),value:f(M.value)}}return k.homepage&&(C.homepage={label:k.homepage.label?f(k.homepage.label):k.homepage.id,href:k.homepage.id}),k.seeAlso&&(C.seeAlso=k.seeAlso.map(M=>({label:M.label?f(M.label):M.id,href:M.id}))),C}function v(k){navigator.clipboard&&navigator.clipboard.writeText(k)}function _(k){let C={cc:{badgeWidth:88,badgeHeight:31,badgeTemplate:'https://licensebuttons.net/l/${this.rightsCode}${this.rightsCode === "publicdomain" ? "" : "/"+this.version}/${this.badgeWidth}x${this.badgeHeight}.png'},rs:{badgeTemplate:"https://rightsstatements.org/files/buttons/${this.rightsCode}.white.svg",backgroundColor:"318ac7"}};const M=function(V,nt){return new Function("return `"+V+"`;").call(nt)};let A=k.rights||"",F="",[G,H,W,j]=A.split("/").slice(2);return G==="creativecommons.org"?(W=W==="zero"?"publicdomain":W,F=`<img src="${M(C.cc.badgeTemplate,{...C.cc,rightsCode:W,version:j})}"/>`):G==="rightsstatements.org"&&(F=`<div style="display:inline-block;height:25px;padding:3px;background-color:#${C.rs.backgroundColor};"><img style="height:100%;" src="${M(C.rs.badgeTemplate,{...C.rs,rightsCode:W})}"/></div>`),F}return(k,C)=>{var M,A,F,G,H,W,j,V,nt,gt,pt,ct,Z,at,ft;return ke(),Ce("div",{ref_key:"root",ref:t,class:"manifest"},[Xt("div",_4,[Xt("img",{class:"thumbnail",src:(M=l.value)==null?void 0:M.thumbnail},null,8,k4),Xt("div",{class:"label",innerHTML:(A=l.value)==null?void 0:A.label},null,8,E4),(F=l.value)!=null&&F.summary?(ke(),Ce("div",{key:0,class:"summary",innerHTML:(G=l.value)==null?void 0:G.summary},null,8,T4)):ii("",!0),(H=l.value)!=null&&H.rights?(ke(),Ce("a",{key:1,href:(W=l.value)==null?void 0:W.rights,innerHTML:u.value},null,8,S4)):ii("",!0),Xt("div",C4,[Xt("img",{src:"https://mdpress.io/images/iiif.png",class:"iiif",alt:"IIIF manifest icon",onClick:C[0]||(C[0]=vt=>v(o.value.id))})])]),Xt("div",P4,[(j=l.value)!=null&&j.provider?(ke(),Ce("div",M4,[I4,l.value.provider.length===1?(ke(),Ce("div",L4,[l.value.provider[0].logo?(ke(),Ce("img",{key:0,class:"logo",src:l.value.provider[0].logo.src},null,8,R4)):ii("",!0),Xt("a",{class:"value",href:l.value.provider[0].href,innerHTML:l.value.provider[0].label},null,8,A4)])):(ke(),Ce("ul",O4,[(ke(!0),Ce(Fi,null,nu(l.value.provider,(vt,Qt)=>(ke(),Ce("li",{key:`provider-${Qt}`},[vt.logo?(ke(),Ce("img",{key:0,class:"logo",src:vt.logo.src},null,8,z4)):ii("",!0),Xt("a",{class:"value",href:vt.href,innerHTML:vt.label},null,8,N4)]))),128))]))])):ii("",!0),(V=l.value)!=null&&V.requiredStatement?(ke(),Ce("div",D4,[Xt("span",{class:"value",innerHTML:l.value.requiredStatement.value},null,8,F4)])):ii("",!0),(nt=l.value)!=null&&nt.rights?(ke(),Ce("div",B4,[j4,Xt("a",{class:"value",href:l.value.rights,innerHTML:l.value.rights},null,8,H4)])):ii("",!0),(gt=l.value)!=null&&gt.metadata?(ke(),Ce("div",U4,[G4,Xt("ul",null,[(ke(!0),Ce(Fi,null,nu(l.value.metadata,(vt,Qt)=>(ke(),Ce("li",{key:`md-${Qt}`},[Xt("span",{class:"label",innerHTML:vt.label},null,8,q4),vt.value.length===1?(ke(),Ce("span",{key:0,class:"value",innerHTML:vt.value[0]},null,8,V4)):(ke(),Ce("ul",W4,[(ke(!0),Ce(Fi,null,nu(vt.value,re=>(ke(),Ce("li",{class:"value",innerHTML:re},null,8,Z4))),256))]))]))),128))])])):ii("",!0),(pt=l.value)!=null&&pt.navDate?(ke(),Ce("div",Y4,[X4,Xt("span",{class:"value",innerHTML:l.value.navDate},null,8,K4)])):ii("",!0),(ct=l.value)!=null&&ct.homepage?(ke(),Ce("div",J4,[Q4,Xt("a",{class:"value",href:l.value.homepage.href,innerHTML:l.value.homepage.label},null,8,$4)])):ii("",!0),(Z=l.value)!=null&&Z.seeAlso?(ke(),Ce("div",t6,[e6,Xt("a",{class:"value",href:l.value.seeAlso[0].href,innerHTML:l.value.seeAlso[0].label},null,8,r6)])):ii("",!0),(at=l.value)!=null&&at.logo?(ke(),Ce("div",i6,[n6,Xt("a",{class:"value",href:l.value.logo[0].src,innerHTML:l.value.logo[0].src},null,8,o6)])):ii("",!0),(ft=l.value)!=null&&ft.imageData?(ke(),Ce("div",s6,[Xt("div",null,[a6,Xt("a",{class:"value",href:l.value.imageData.id,innerHTML:l.value.imageData.id.split("/").pop()},null,8,l6)]),Xt("div",null,[c6,Xt("span",{class:"value",innerHTML:l.value.imageData.format},null,8,u6)]),Xt("div",null,[h6,Xt("span",{class:"value",innerHTML:l.value.imageData.width},null,8,d6)]),Xt("div",null,[p6,Xt("span",{class:"value",innerHTML:l.value.imageData.height},null,8,f6)])])):ii("",!0)])],512)}}}),m6=`*[data-v-4827c438]{box-sizing:border-box}.manifest[data-v-4827c438]{width:100%;height:100%;overflow-y:scroll;background-color:#fff;font-size:.8em}.main[data-v-4827c438],.detail[data-v-4827c438]{display:flow-root;margin:6px}.main>*[data-v-4827c438]{margin-bottom:6px}.detail>div[data-v-4827c438]{margin-top:12px}.main .label[data-v-4827c438]{font-size:1.2em;font-weight:700}.thumbnail[data-v-4827c438]{float:left;max-width:45%;max-height:200px;margin:0 6px 6px 0}.links[data-v-4827c438]{margin-top:6px}img.iiif[data-v-4827c438]{height:24px;cursor:copy}ul[data-v-4827c438]{list-style:none;padding-left:12px;margin-top:0}.detail .label[data-v-4827c438]{font-size:1.1em;font-weight:700;min-width:80px;margin-right:6px}.detail .label[data-v-4827c438]:after{content:":"}.detail .value[data-v-4827c438],.main .label[data-v-4827c438]{white-space:pre-wrap;overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}.logo[data-v-4827c438]{padding-right:6px}img.logo[data-v-4827c438]{height:40px}.manifest-id[data-v-4827c438],.manifest-label[data-v-4827c438],.summary[data-v-4827c438],.provider[data-v-4827c438],.rights[data-v-4827c438],.service[data-v-4827c438],.imageData div[data-v-4827c438],.thumbnail[data-v-4827c438]{display:flex;align-items:flex-start}.metadata>ul[data-v-4827c438],.requiredStatement ul[data-v-4827c438]{padding-left:24px}.metadata ul li[data-v-4827c438],.requiredStatement ul li[data-v-4827c438]{display:flex}.metadata ul ul[data-v-4827c438]{padding-left:0}a[data-v-4827c438]:link,a[data-v-4827c438]:visited{color:#00e}
`,v6=Es(g6,[["styles",[m6]],["__scopeId","data-v-4827c438"]]),y6={class:"hs-tooltip-toggle block text-center",href:"javascript:;",title:"Click for more information"},b6=Xt("div",{class:"icon-wrapper"},[Xt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[Xt("path",{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"})])],-1),w6={class:"hs-tooltip-content z-30 hs-tooltip-shown:opacity-100 hs-tooltip-shown:visible hidden opacity-0 transition-opacity absolute invisible max-w-xs bg-white border border-gray-100 text-left rounded-lg shadow-md dark:bg-gray-800 dark:border-gray-700",role:"tooltip"},x6={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},_6={class:"p-4 md:p-5"},k6=["manifest"],E6=Ro({__name:"ManifestPopup.ce",props:{manifest:{type:Object,required:!0}},setup(n){const r=n,t=me(null),o=Xe(()=>{var u;return(u=t==null?void 0:t.value)==null?void 0:u.parentNode});er(o,()=>{new SC(o.value).init()});const l=me(null);return er(r,()=>l.value=r.manifest),ta(()=>l.value=r.manifest),(u,d)=>(ke(),Ce("div",{ref_key:"root",ref:t,class:"hs-tooltip inline-block [--trigger:click] [--placement:bottom]"},[Xt("a",y6,[b6,Xt("div",w6,[Xt("div",x6,[Xt("div",_6,[l.value?(ke(),Ce("mdp-manifest",{key:0,manifest:l.value},null,8,k6)):ii("",!0)])])])])],512))}}),T6=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-\\[100\\%\\]{height:100%}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}svg{filter:invert(100%) sepia(0%) saturate(7487%) hue-rotate(339deg) brightness(115%) contrast(100%)}.icon-wrapper{background:rgba(0,0,0,.4);width:28px;height:28px;border-radius:50%;text-align:center;vertical-align:middle;padding:5px}
`,S6=Es(E6,[["styles",[T6]]]);var Y0={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var nT;function KC(){return nT||(nT=1,function(n,r){(function(t,o){o(r)})(Ox,function(t){var o="1.9.4";function l(p){var b,S,O,q;for(S=1,O=arguments.length;S<O;S++){q=arguments[S];for(b in q)p[b]=q[b]}return p}var u=Object.create||function(){function p(){}return function(b){return p.prototype=b,new p}}();function d(p,b){var S=Array.prototype.slice;if(p.bind)return p.bind.apply(p,S.call(arguments,1));var O=S.call(arguments,2);return function(){return p.apply(b,O.length?O.concat(S.call(arguments)):arguments)}}var f=0;function m(p){return"_leaflet_id"in p||(p._leaflet_id=++f),p._leaflet_id}function v(p,b,S){var O,q,rt,bt;return bt=function(){O=!1,q&&(rt.apply(S,q),q=!1)},rt=function(){O?q=arguments:(p.apply(S,arguments),setTimeout(bt,b),O=!0)},rt}function _(p,b,S){var O=b[1],q=b[0],rt=O-q;return p===O&&S?p:((p-q)%rt+rt)%rt+q}function k(){return!1}function C(p,b){if(b===!1)return p;var S=Math.pow(10,b===void 0?6:b);return Math.round(p*S)/S}function M(p){return p.trim?p.trim():p.replace(/^\s+|\s+$/g,"")}function A(p){return M(p).split(/\s+/)}function F(p,b){Object.prototype.hasOwnProperty.call(p,"options")||(p.options=p.options?u(p.options):{});for(var S in b)p.options[S]=b[S];return p.options}function G(p,b,S){var O=[];for(var q in p)O.push(encodeURIComponent(S?q.toUpperCase():q)+"="+encodeURIComponent(p[q]));return(!b||b.indexOf("?")===-1?"?":"&")+O.join("&")}var H=/\{ *([\w_ -]+) *\}/g;function W(p,b){return p.replace(H,function(S,O){var q=b[O];if(q===void 0)throw new Error("No value provided for variable "+S);return typeof q=="function"&&(q=q(b)),q})}var j=Array.isArray||function(p){return Object.prototype.toString.call(p)==="[object Array]"};function V(p,b){for(var S=0;S<p.length;S++)if(p[S]===b)return S;return-1}var nt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function gt(p){return window["webkit"+p]||window["moz"+p]||window["ms"+p]}var pt=0;function ct(p){var b=+new Date,S=Math.max(0,16-(b-pt));return pt=b+S,window.setTimeout(p,S)}var Z=window.requestAnimationFrame||gt("RequestAnimationFrame")||ct,at=window.cancelAnimationFrame||gt("CancelAnimationFrame")||gt("CancelRequestAnimationFrame")||function(p){window.clearTimeout(p)};function ft(p,b,S){if(S&&Z===ct)p.call(b);else return Z.call(window,d(p,b))}function vt(p){p&&at.call(window,p)}var Qt={__proto__:null,extend:l,create:u,bind:d,get lastId(){return f},stamp:m,throttle:v,wrapNum:_,falseFn:k,formatNum:C,trim:M,splitWords:A,setOptions:F,getParamString:G,template:W,isArray:j,indexOf:V,emptyImageUrl:nt,requestFn:Z,cancelFn:at,requestAnimFrame:ft,cancelAnimFrame:vt};function re(){}re.extend=function(p){var b=function(){F(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},S=b.__super__=this.prototype,O=u(S);O.constructor=b,b.prototype=O;for(var q in this)Object.prototype.hasOwnProperty.call(this,q)&&q!=="prototype"&&q!=="__super__"&&(b[q]=this[q]);return p.statics&&l(b,p.statics),p.includes&&(pe(p.includes),l.apply(null,[O].concat(p.includes))),l(O,p),delete O.statics,delete O.includes,O.options&&(O.options=S.options?u(S.options):{},l(O.options,p.options)),O._initHooks=[],O.callInitHooks=function(){if(!this._initHooksCalled){S.callInitHooks&&S.callInitHooks.call(this),this._initHooksCalled=!0;for(var rt=0,bt=O._initHooks.length;rt<bt;rt++)O._initHooks[rt].call(this)}},b},re.include=function(p){var b=this.prototype.options;return l(this.prototype,p),p.options&&(this.prototype.options=b,this.mergeOptions(p.options)),this},re.mergeOptions=function(p){return l(this.prototype.options,p),this},re.addInitHook=function(p){var b=Array.prototype.slice.call(arguments,1),S=typeof p=="function"?p:function(){this[p].apply(this,b)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(S),this};function pe(p){if(!(typeof L>"u"||!L||!L.Mixin)){p=j(p)?p:[p];for(var b=0;b<p.length;b++)p[b]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Gt={on:function(p,b,S){if(typeof p=="object")for(var O in p)this._on(O,p[O],b);else{p=A(p);for(var q=0,rt=p.length;q<rt;q++)this._on(p[q],b,S)}return this},off:function(p,b,S){if(!arguments.length)delete this._events;else if(typeof p=="object")for(var O in p)this._off(O,p[O],b);else{p=A(p);for(var q=arguments.length===1,rt=0,bt=p.length;rt<bt;rt++)q?this._off(p[rt]):this._off(p[rt],b,S)}return this},_on:function(p,b,S,O){if(typeof b!="function"){console.warn("wrong listener type: "+typeof b);return}if(this._listens(p,b,S)===!1){S===this&&(S=void 0);var q={fn:b,ctx:S};O&&(q.once=!0),this._events=this._events||{},this._events[p]=this._events[p]||[],this._events[p].push(q)}},_off:function(p,b,S){var O,q,rt;if(this._events&&(O=this._events[p],!!O)){if(arguments.length===1){if(this._firingCount)for(q=0,rt=O.length;q<rt;q++)O[q].fn=k;delete this._events[p];return}if(typeof b!="function"){console.warn("wrong listener type: "+typeof b);return}var bt=this._listens(p,b,S);if(bt!==!1){var Rt=O[bt];this._firingCount&&(Rt.fn=k,this._events[p]=O=O.slice()),O.splice(bt,1)}}},fire:function(p,b,S){if(!this.listens(p,S))return this;var O=l({},b,{type:p,target:this,sourceTarget:b&&b.sourceTarget||this});if(this._events){var q=this._events[p];if(q){this._firingCount=this._firingCount+1||1;for(var rt=0,bt=q.length;rt<bt;rt++){var Rt=q[rt],Ht=Rt.fn;Rt.once&&this.off(p,Ht,Rt.ctx),Ht.call(Rt.ctx||this,O)}this._firingCount--}}return S&&this._propagateEvent(O),this},listens:function(p,b,S,O){typeof p!="string"&&console.warn('"string" type argument expected');var q=b;typeof b!="function"&&(O=!!b,q=void 0,S=void 0);var rt=this._events&&this._events[p];if(rt&&rt.length&&this._listens(p,q,S)!==!1)return!0;if(O){for(var bt in this._eventParents)if(this._eventParents[bt].listens(p,b,S,O))return!0}return!1},_listens:function(p,b,S){if(!this._events)return!1;var O=this._events[p]||[];if(!b)return!!O.length;S===this&&(S=void 0);for(var q=0,rt=O.length;q<rt;q++)if(O[q].fn===b&&O[q].ctx===S)return q;return!1},once:function(p,b,S){if(typeof p=="object")for(var O in p)this._on(O,p[O],b,!0);else{p=A(p);for(var q=0,rt=p.length;q<rt;q++)this._on(p[q],b,S,!0)}return this},addEventParent:function(p){return this._eventParents=this._eventParents||{},this._eventParents[m(p)]=p,this},removeEventParent:function(p){return this._eventParents&&delete this._eventParents[m(p)],this},_propagateEvent:function(p){for(var b in this._eventParents)this._eventParents[b].fire(p.type,l({layer:p.target,propagatedFrom:p.target},p),!0)}};Gt.addEventListener=Gt.on,Gt.removeEventListener=Gt.clearAllEventListeners=Gt.off,Gt.addOneTimeEventListener=Gt.once,Gt.fireEvent=Gt.fire,Gt.hasEventListeners=Gt.listens;var ce=re.extend(Gt);function Jt(p,b,S){this.x=S?Math.round(p):p,this.y=S?Math.round(b):b}var tr=Math.trunc||function(p){return p>0?Math.floor(p):Math.ceil(p)};Jt.prototype={clone:function(){return new Jt(this.x,this.y)},add:function(p){return this.clone()._add(xt(p))},_add:function(p){return this.x+=p.x,this.y+=p.y,this},subtract:function(p){return this.clone()._subtract(xt(p))},_subtract:function(p){return this.x-=p.x,this.y-=p.y,this},divideBy:function(p){return this.clone()._divideBy(p)},_divideBy:function(p){return this.x/=p,this.y/=p,this},multiplyBy:function(p){return this.clone()._multiplyBy(p)},_multiplyBy:function(p){return this.x*=p,this.y*=p,this},scaleBy:function(p){return new Jt(this.x*p.x,this.y*p.y)},unscaleBy:function(p){return new Jt(this.x/p.x,this.y/p.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=tr(this.x),this.y=tr(this.y),this},distanceTo:function(p){p=xt(p);var b=p.x-this.x,S=p.y-this.y;return Math.sqrt(b*b+S*S)},equals:function(p){return p=xt(p),p.x===this.x&&p.y===this.y},contains:function(p){return p=xt(p),Math.abs(p.x)<=Math.abs(this.x)&&Math.abs(p.y)<=Math.abs(this.y)},toString:function(){return"Point("+C(this.x)+", "+C(this.y)+")"}};function xt(p,b,S){return p instanceof Jt?p:j(p)?new Jt(p[0],p[1]):p==null?p:typeof p=="object"&&"x"in p&&"y"in p?new Jt(p.x,p.y):new Jt(p,b,S)}function Nt(p,b){if(p)for(var S=b?[p,b]:p,O=0,q=S.length;O<q;O++)this.extend(S[O])}Nt.prototype={extend:function(p){var b,S;if(!p)return this;if(p instanceof Jt||typeof p[0]=="number"||"x"in p)b=S=xt(p);else if(p=Vt(p),b=p.min,S=p.max,!b||!S)return this;return!this.min&&!this.max?(this.min=b.clone(),this.max=S.clone()):(this.min.x=Math.min(b.x,this.min.x),this.max.x=Math.max(S.x,this.max.x),this.min.y=Math.min(b.y,this.min.y),this.max.y=Math.max(S.y,this.max.y)),this},getCenter:function(p){return xt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,p)},getBottomLeft:function(){return xt(this.min.x,this.max.y)},getTopRight:function(){return xt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(p){var b,S;return typeof p[0]=="number"||p instanceof Jt?p=xt(p):p=Vt(p),p instanceof Nt?(b=p.min,S=p.max):b=S=p,b.x>=this.min.x&&S.x<=this.max.x&&b.y>=this.min.y&&S.y<=this.max.y},intersects:function(p){p=Vt(p);var b=this.min,S=this.max,O=p.min,q=p.max,rt=q.x>=b.x&&O.x<=S.x,bt=q.y>=b.y&&O.y<=S.y;return rt&&bt},overlaps:function(p){p=Vt(p);var b=this.min,S=this.max,O=p.min,q=p.max,rt=q.x>b.x&&O.x<S.x,bt=q.y>b.y&&O.y<S.y;return rt&&bt},isValid:function(){return!!(this.min&&this.max)},pad:function(p){var b=this.min,S=this.max,O=Math.abs(b.x-S.x)*p,q=Math.abs(b.y-S.y)*p;return Vt(xt(b.x-O,b.y-q),xt(S.x+O,S.y+q))},equals:function(p){return p?(p=Vt(p),this.min.equals(p.getTopLeft())&&this.max.equals(p.getBottomRight())):!1}};function Vt(p,b){return!p||p instanceof Nt?p:new Nt(p,b)}function te(p,b){if(p)for(var S=b?[p,b]:p,O=0,q=S.length;O<q;O++)this.extend(S[O])}te.prototype={extend:function(p){var b=this._southWest,S=this._northEast,O,q;if(p instanceof oe)O=p,q=p;else if(p instanceof te){if(O=p._southWest,q=p._northEast,!O||!q)return this}else return p?this.extend(se(p)||de(p)):this;return!b&&!S?(this._southWest=new oe(O.lat,O.lng),this._northEast=new oe(q.lat,q.lng)):(b.lat=Math.min(O.lat,b.lat),b.lng=Math.min(O.lng,b.lng),S.lat=Math.max(q.lat,S.lat),S.lng=Math.max(q.lng,S.lng)),this},pad:function(p){var b=this._southWest,S=this._northEast,O=Math.abs(b.lat-S.lat)*p,q=Math.abs(b.lng-S.lng)*p;return new te(new oe(b.lat-O,b.lng-q),new oe(S.lat+O,S.lng+q))},getCenter:function(){return new oe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new oe(this.getNorth(),this.getWest())},getSouthEast:function(){return new oe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(p){typeof p[0]=="number"||p instanceof oe||"lat"in p?p=se(p):p=de(p);var b=this._southWest,S=this._northEast,O,q;return p instanceof te?(O=p.getSouthWest(),q=p.getNorthEast()):O=q=p,O.lat>=b.lat&&q.lat<=S.lat&&O.lng>=b.lng&&q.lng<=S.lng},intersects:function(p){p=de(p);var b=this._southWest,S=this._northEast,O=p.getSouthWest(),q=p.getNorthEast(),rt=q.lat>=b.lat&&O.lat<=S.lat,bt=q.lng>=b.lng&&O.lng<=S.lng;return rt&&bt},overlaps:function(p){p=de(p);var b=this._southWest,S=this._northEast,O=p.getSouthWest(),q=p.getNorthEast(),rt=q.lat>b.lat&&O.lat<S.lat,bt=q.lng>b.lng&&O.lng<S.lng;return rt&&bt},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(p,b){return p?(p=de(p),this._southWest.equals(p.getSouthWest(),b)&&this._northEast.equals(p.getNorthEast(),b)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function de(p,b){return p instanceof te?p:new te(p,b)}function oe(p,b,S){if(isNaN(p)||isNaN(b))throw new Error("Invalid LatLng object: ("+p+", "+b+")");this.lat=+p,this.lng=+b,S!==void 0&&(this.alt=+S)}oe.prototype={equals:function(p,b){if(!p)return!1;p=se(p);var S=Math.max(Math.abs(this.lat-p.lat),Math.abs(this.lng-p.lng));return S<=(b===void 0?1e-9:b)},toString:function(p){return"LatLng("+C(this.lat,p)+", "+C(this.lng,p)+")"},distanceTo:function(p){return gr.distance(this,se(p))},wrap:function(){return gr.wrapLatLng(this)},toBounds:function(p){var b=180*p/40075017,S=b/Math.cos(Math.PI/180*this.lat);return de([this.lat-b,this.lng-S],[this.lat+b,this.lng+S])},clone:function(){return new oe(this.lat,this.lng,this.alt)}};function se(p,b,S){return p instanceof oe?p:j(p)&&typeof p[0]!="object"?p.length===3?new oe(p[0],p[1],p[2]):p.length===2?new oe(p[0],p[1]):null:p==null?p:typeof p=="object"&&"lat"in p?new oe(p.lat,"lng"in p?p.lng:p.lon,p.alt):b===void 0?null:new oe(p,b,S)}var rr={latLngToPoint:function(p,b){var S=this.projection.project(p),O=this.scale(b);return this.transformation._transform(S,O)},pointToLatLng:function(p,b){var S=this.scale(b),O=this.transformation.untransform(p,S);return this.projection.unproject(O)},project:function(p){return this.projection.project(p)},unproject:function(p){return this.projection.unproject(p)},scale:function(p){return 256*Math.pow(2,p)},zoom:function(p){return Math.log(p/256)/Math.LN2},getProjectedBounds:function(p){if(this.infinite)return null;var b=this.projection.bounds,S=this.scale(p),O=this.transformation.transform(b.min,S),q=this.transformation.transform(b.max,S);return new Nt(O,q)},infinite:!1,wrapLatLng:function(p){var b=this.wrapLng?_(p.lng,this.wrapLng,!0):p.lng,S=this.wrapLat?_(p.lat,this.wrapLat,!0):p.lat,O=p.alt;return new oe(S,b,O)},wrapLatLngBounds:function(p){var b=p.getCenter(),S=this.wrapLatLng(b),O=b.lat-S.lat,q=b.lng-S.lng;if(O===0&&q===0)return p;var rt=p.getSouthWest(),bt=p.getNorthEast(),Rt=new oe(rt.lat-O,rt.lng-q),Ht=new oe(bt.lat-O,bt.lng-q);return new te(Rt,Ht)}},gr=l({},rr,{wrapLng:[-180,180],R:6371e3,distance:function(p,b){var S=Math.PI/180,O=p.lat*S,q=b.lat*S,rt=Math.sin((b.lat-p.lat)*S/2),bt=Math.sin((b.lng-p.lng)*S/2),Rt=rt*rt+Math.cos(O)*Math.cos(q)*bt*bt,Ht=2*Math.atan2(Math.sqrt(Rt),Math.sqrt(1-Rt));return this.R*Ht}}),vi=6378137,Xi={R:vi,MAX_LATITUDE:85.0511287798,project:function(p){var b=Math.PI/180,S=this.MAX_LATITUDE,O=Math.max(Math.min(S,p.lat),-S),q=Math.sin(O*b);return new Jt(this.R*p.lng*b,this.R*Math.log((1+q)/(1-q))/2)},unproject:function(p){var b=180/Math.PI;return new oe((2*Math.atan(Math.exp(p.y/this.R))-Math.PI/2)*b,p.x*b/this.R)},bounds:function(){var p=vi*Math.PI;return new Nt([-p,-p],[p,p])}()};function Bi(p,b,S,O){if(j(p)){this._a=p[0],this._b=p[1],this._c=p[2],this._d=p[3];return}this._a=p,this._b=b,this._c=S,this._d=O}Bi.prototype={transform:function(p,b){return this._transform(p.clone(),b)},_transform:function(p,b){return b=b||1,p.x=b*(this._a*p.x+this._b),p.y=b*(this._c*p.y+this._d),p},untransform:function(p,b){return b=b||1,new Jt((p.x/b-this._b)/this._a,(p.y/b-this._d)/this._c)}};function yt(p,b,S,O){return new Bi(p,b,S,O)}var kt=l({},gr,{code:"EPSG:3857",projection:Xi,transformation:function(){var p=.5/(Math.PI*Xi.R);return yt(p,.5,-p,.5)}()}),zt=l({},kt,{code:"EPSG:900913"});function I(p){return document.createElementNS("http://www.w3.org/2000/svg",p)}function U(p,b){var S="",O,q,rt,bt,Rt,Ht;for(O=0,rt=p.length;O<rt;O++){for(Rt=p[O],q=0,bt=Rt.length;q<bt;q++)Ht=Rt[q],S+=(q?"L":"M")+Ht.x+" "+Ht.y;S+=b?ze.svg?"z":"x":""}return S||"M0 0"}var ot=document.documentElement.style,dt="ActiveXObject"in window,ht=dt&&!document.addEventListener,_t="msLaunchUri"in navigator&&!("documentMode"in document),ut=zo("webkit"),It=zo("android"),Zt=zo("android 2")||zo("android 3"),Yt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Kt=It&&zo("Google")&&Yt<537&&!("AudioNode"in window),ge=!!window.opera,be=!_t&&zo("chrome"),De=zo("gecko")&&!ut&&!ge&&!dt,$=!be&&zo("safari"),J=zo("phantom"),lt="OTransition"in ot,st=navigator.platform.indexOf("Win")===0,qt=dt&&"transition"in ot,ee="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Zt,_e="MozPerspective"in ot,sr=!window.L_DISABLE_3D&&(qt||ee||_e)&&!lt&&!J,Oe=typeof orientation<"u"||zo("mobile"),qn=Oe&&ut,ji=Oe&&ee,Ts=!window.PointerEvent&&window.MSPointerEvent,ra=!!(window.PointerEvent||Ts),ku="ontouchstart"in window||!!window.TouchEvent,Ji=!window.L_NO_TOUCH&&(ku||ra),Gy=Oe&&ge,Eu=Oe&&De,qy=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,fc=function(){var p=!1;try{var b=Object.defineProperty({},"passive",{get:function(){p=!0}});window.addEventListener("testPassiveEventSupport",k,b),window.removeEventListener("testPassiveEventSupport",k,b)}catch{}return p}(),Tu=function(){return!!document.createElement("canvas").getContext}(),wl=!!(document.createElementNS&&I("svg").createSVGRect),hm=!!wl&&function(){var p=document.createElement("div");return p.innerHTML="<svg/>",(p.firstChild&&p.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),dm=!wl&&function(){try{var p=document.createElement("div");p.innerHTML='<v:shape adj="1"/>';var b=p.firstChild;return b.style.behavior="url(#default#VML)",b&&typeof b.adj=="object"}catch{return!1}}(),Lp=navigator.platform.indexOf("Mac")===0,Rh=navigator.platform.indexOf("Linux")===0;function zo(p){return navigator.userAgent.toLowerCase().indexOf(p)>=0}var ze={ie:dt,ielt9:ht,edge:_t,webkit:ut,android:It,android23:Zt,androidStock:Kt,opera:ge,chrome:be,gecko:De,safari:$,phantom:J,opera12:lt,win:st,ie3d:qt,webkit3d:ee,gecko3d:_e,any3d:sr,mobile:Oe,mobileWebkit:qn,mobileWebkit3d:ji,msPointer:Ts,pointer:ra,touch:Ji,touchNative:ku,mobileOpera:Gy,mobileGecko:Eu,retina:qy,passiveEvents:fc,canvas:Tu,svg:wl,vml:dm,inlineSvg:hm,mac:Lp,linux:Rh},xl=ze.msPointer?"MSPointerDown":"pointerdown",Rp=ze.msPointer?"MSPointerMove":"pointermove",es=ze.msPointer?"MSPointerUp":"pointerup",Su=ze.msPointer?"MSPointerCancel":"pointercancel",Ah={touchstart:xl,touchmove:Rp,touchend:es,touchcancel:Su},pm={touchstart:Yy,touchmove:Ba,touchend:Ba,touchcancel:Ba},gc={},fm=!1;function Vy(p,b,S){return b==="touchstart"&&Zy(),pm[b]?(S=pm[b].bind(this,S),p.addEventListener(Ah[b],S,!1),S):(console.warn("wrong event specified:",b),k)}function gm(p,b,S){if(!Ah[b]){console.warn("wrong event specified:",b);return}p.removeEventListener(Ah[b],S,!1)}function Wy(p){gc[p.pointerId]=p}function mm(p){gc[p.pointerId]&&(gc[p.pointerId]=p)}function Ap(p){delete gc[p.pointerId]}function Zy(){fm||(document.addEventListener(xl,Wy,!0),document.addEventListener(Rp,mm,!0),document.addEventListener(es,Ap,!0),document.addEventListener(Su,Ap,!0),fm=!0)}function Ba(p,b){if(b.pointerType!==(b.MSPOINTER_TYPE_MOUSE||"mouse")){b.touches=[];for(var S in gc)b.touches.push(gc[S]);b.changedTouches=[b],p(b)}}function Yy(p,b){b.MSPOINTER_TYPE_TOUCH&&b.pointerType===b.MSPOINTER_TYPE_TOUCH&&Qi(b),Ba(p,b)}function Xy(p){var b={},S,O;for(O in p)S=p[O],b[O]=S&&S.bind?S.bind(p):S;return p=b,b.type="dblclick",b.detail=2,b.isTrusted=!1,b._simulated=!0,b}var Oh=200;function vm(p,b){p.addEventListener("dblclick",b);var S=0,O;function q(rt){if(rt.detail!==1){O=rt.detail;return}if(!(rt.pointerType==="mouse"||rt.sourceCapabilities&&!rt.sourceCapabilities.firesTouchEvents)){var bt=xm(rt);if(!(bt.some(function(Ht){return Ht instanceof HTMLLabelElement&&Ht.attributes.for})&&!bt.some(function(Ht){return Ht instanceof HTMLInputElement||Ht instanceof HTMLSelectElement}))){var Rt=Date.now();Rt-S<=Oh?(O++,O===2&&b(Xy(rt))):O=1,S=Rt}}}return p.addEventListener("click",q),{dblclick:b,simDblclick:q}}function Ky(p,b){p.removeEventListener("dblclick",b.dblclick),p.removeEventListener("click",b.simDblclick)}var zh=Mu(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Cu=Mu(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ym=Cu==="webkitTransition"||Cu==="OTransition"?Cu+"End":"transitionend";function bm(p){return typeof p=="string"?document.getElementById(p):p}function mc(p,b){var S=p.style[b]||p.currentStyle&&p.currentStyle[b];if((!S||S==="auto")&&document.defaultView){var O=document.defaultView.getComputedStyle(p,null);S=O?O[b]:null}return S==="auto"?null:S}function ei(p,b,S){var O=document.createElement(p);return O.className=b||"",S&&S.appendChild(O),O}function ki(p){var b=p.parentNode;b&&b.removeChild(p)}function Pu(p){for(;p.firstChild;)p.removeChild(p.firstChild)}function ja(p){var b=p.parentNode;b&&b.lastChild!==p&&b.appendChild(p)}function Ha(p){var b=p.parentNode;b&&b.firstChild!==p&&b.insertBefore(p,b.firstChild)}function vc(p,b){if(p.classList!==void 0)return p.classList.contains(b);var S=yc(p);return S.length>0&&new RegExp("(^|\\s)"+b+"(\\s|$)").test(S)}function cr(p,b){if(p.classList!==void 0)for(var S=A(b),O=0,q=S.length;O<q;O++)p.classList.add(S[O]);else if(!vc(p,b)){var rt=yc(p);Nh(p,(rt?rt+" ":"")+b)}}function Ye(p,b){p.classList!==void 0?p.classList.remove(b):Nh(p,M((" "+yc(p)+" ").replace(" "+b+" "," ")))}function Nh(p,b){p.className.baseVal===void 0?p.className=b:p.className.baseVal=b}function yc(p){return p.correspondingElement&&(p=p.correspondingElement),p.className.baseVal===void 0?p.className:p.className.baseVal}function ir(p,b){"opacity"in p.style?p.style.opacity=b:"filter"in p.style&&wm(p,b)}function wm(p,b){var S=!1,O="DXImageTransform.Microsoft.Alpha";try{S=p.filters.item(O)}catch{if(b===1)return}b=Math.round(b*100),S?(S.Enabled=b!==100,S.Opacity=b):p.style.filter+=" progid:"+O+"(opacity="+b+")"}function Mu(p){for(var b=document.documentElement.style,S=0;S<p.length;S++)if(p[S]in b)return p[S];return!1}function _l(p,b,S){var O=b||new Jt(0,0);p.style[zh]=(ze.ie3d?"translate("+O.x+"px,"+O.y+"px)":"translate3d("+O.x+"px,"+O.y+"px,0)")+(S?" scale("+S+")":"")}function Ki(p,b){p._leaflet_pos=b,ze.any3d?_l(p,b):(p.style.left=b.x+"px",p.style.top=b.y+"px")}function Si(p){return p._leaflet_pos||new Jt(0,0)}var bc,wc,Iu;if("onselectstart"in document)bc=function(){or(window,"selectstart",Qi)},wc=function(){ui(window,"selectstart",Qi)};else{var xc=Mu(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);bc=function(){if(xc){var p=document.documentElement.style;Iu=p[xc],p[xc]="none"}},wc=function(){xc&&(document.documentElement.style[xc]=Iu,Iu=void 0)}}function Op(){or(window,"dragstart",Qi)}function _c(){ui(window,"dragstart",Qi)}var Dh,Fh;function zp(p){for(;p.tabIndex===-1;)p=p.parentNode;p.style&&(Bh(),Dh=p,Fh=p.style.outlineStyle,p.style.outlineStyle="none",or(window,"keydown",Bh))}function Bh(){Dh&&(Dh.style.outlineStyle=Fh,Dh=void 0,Fh=void 0,ui(window,"keydown",Bh))}function Lu(p){do p=p.parentNode;while((!p.offsetWidth||!p.offsetHeight)&&p!==document.body);return p}function Ru(p){var b=p.getBoundingClientRect();return{x:b.width/p.offsetWidth||1,y:b.height/p.offsetHeight||1,boundingClientRect:b}}var kl={__proto__:null,TRANSFORM:zh,TRANSITION:Cu,TRANSITION_END:ym,get:bm,getStyle:mc,create:ei,remove:ki,empty:Pu,toFront:ja,toBack:Ha,hasClass:vc,addClass:cr,removeClass:Ye,setClass:Nh,getClass:yc,setOpacity:ir,testProp:Mu,setTransform:_l,setPosition:Ki,getPosition:Si,get disableTextSelection(){return bc},get enableTextSelection(){return wc},disableImageDrag:Op,enableImageDrag:_c,preventOutline:zp,restoreOutline:Bh,getSizedParentNode:Lu,getScale:Ru};function or(p,b,S,O){if(b&&typeof b=="object")for(var q in b)Dp(p,q,b[q],S);else{b=A(b);for(var rt=0,bt=b.length;rt<bt;rt++)Dp(p,b[rt],S,O)}return this}var rs="_leaflet_events";function ui(p,b,S,O){if(arguments.length===1)jh(p),delete p[rs];else if(b&&typeof b=="object")for(var q in b)Au(p,q,b[q],S);else if(b=A(b),arguments.length===2)jh(p,function(Rt){return V(b,Rt)!==-1});else for(var rt=0,bt=b.length;rt<bt;rt++)Au(p,b[rt],S,O);return this}function jh(p,b){for(var S in p[rs]){var O=S.split(/\d/)[0];(!b||b(O))&&Au(p,O,null,null,S)}}var Np={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Dp(p,b,S,O){var q=b+m(S)+(O?"_"+m(O):"");if(p[rs]&&p[rs][q])return this;var rt=function(Rt){return S.call(O||p,Rt||window.event)},bt=rt;!ze.touchNative&&ze.pointer&&b.indexOf("touch")===0?rt=Vy(p,b,rt):ze.touch&&b==="dblclick"?rt=vm(p,rt):"addEventListener"in p?b==="touchstart"||b==="touchmove"||b==="wheel"||b==="mousewheel"?p.addEventListener(Np[b]||b,rt,ze.passiveEvents?{passive:!1}:!1):b==="mouseenter"||b==="mouseleave"?(rt=function(Rt){Rt=Rt||window.event,ia(p,Rt)&&bt(Rt)},p.addEventListener(Np[b],rt,!1)):p.addEventListener(b,bt,!1):p.attachEvent("on"+b,rt),p[rs]=p[rs]||{},p[rs][q]=rt}function Au(p,b,S,O,q){q=q||b+m(S)+(O?"_"+m(O):"");var rt=p[rs]&&p[rs][q];if(!rt)return this;!ze.touchNative&&ze.pointer&&b.indexOf("touch")===0?gm(p,b,rt):ze.touch&&b==="dblclick"?Ky(p,rt):"removeEventListener"in p?p.removeEventListener(Np[b]||b,rt,!1):p.detachEvent("on"+b,rt),p[rs][q]=null}function El(p){return p.stopPropagation?p.stopPropagation():p.originalEvent?p.originalEvent._stopped=!0:p.cancelBubble=!0,this}function Fp(p){return Dp(p,"wheel",El),this}function kc(p){return or(p,"mousedown touchstart dblclick contextmenu",El),p._leaflet_disable_click=!0,this}function Qi(p){return p.preventDefault?p.preventDefault():p.returnValue=!1,this}function Tl(p){return Qi(p),El(p),this}function xm(p){if(p.composedPath)return p.composedPath();for(var b=[],S=p.target;S;)b.push(S),S=S.parentNode;return b}function _m(p,b){if(!b)return new Jt(p.clientX,p.clientY);var S=Ru(b),O=S.boundingClientRect;return new Jt((p.clientX-O.left)/S.x-b.clientLeft,(p.clientY-O.top)/S.y-b.clientTop)}var Jy=ze.linux&&ze.chrome?window.devicePixelRatio:ze.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function km(p){return ze.edge?p.wheelDeltaY/2:p.deltaY&&p.deltaMode===0?-p.deltaY/Jy:p.deltaY&&p.deltaMode===1?-p.deltaY*20:p.deltaY&&p.deltaMode===2?-p.deltaY*60:p.deltaX||p.deltaZ?0:p.wheelDelta?(p.wheelDeltaY||p.wheelDelta)/2:p.detail&&Math.abs(p.detail)<32765?-p.detail*20:p.detail?p.detail/-32765*60:0}function ia(p,b){var S=b.relatedTarget;if(!S)return!0;try{for(;S&&S!==p;)S=S.parentNode}catch{return!1}return S!==p}var Bp={__proto__:null,on:or,off:ui,stopPropagation:El,disableScrollPropagation:Fp,disableClickPropagation:kc,preventDefault:Qi,stop:Tl,getPropagationPath:xm,getMousePosition:_m,getWheelDelta:km,isExternalTarget:ia,addListener:or,removeListener:ui},jp=ce.extend({run:function(p,b,S,O){this.stop(),this._el=p,this._inProgress=!0,this._duration=S||.25,this._easeOutPower=1/Math.max(O||.5,.2),this._startPos=Si(p),this._offset=b.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ft(this._animate,this),this._step()},_step:function(p){var b=+new Date-this._startTime,S=this._duration*1e3;b<S?this._runFrame(this._easeOut(b/S),p):(this._runFrame(1),this._complete())},_runFrame:function(p,b){var S=this._startPos.add(this._offset.multiplyBy(p));b&&S._round(),Ki(this._el,S),this.fire("step")},_complete:function(){vt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(p){return 1-Math.pow(1-p,this._easeOutPower)}}),Zr=ce.extend({options:{crs:kt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(p,b){b=F(this,b),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(p),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),b.maxBounds&&this.setMaxBounds(b.maxBounds),b.zoom!==void 0&&(this._zoom=this._limitZoom(b.zoom)),b.center&&b.zoom!==void 0&&this.setView(se(b.center),b.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Cu&&ze.any3d&&!ze.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),or(this._proxy,ym,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(p,b,S){if(b=b===void 0?this._zoom:this._limitZoom(b),p=this._limitCenter(se(p),b,this.options.maxBounds),S=S||{},this._stop(),this._loaded&&!S.reset&&S!==!0){S.animate!==void 0&&(S.zoom=l({animate:S.animate},S.zoom),S.pan=l({animate:S.animate,duration:S.duration},S.pan));var O=this._zoom!==b?this._tryAnimatedZoom&&this._tryAnimatedZoom(p,b,S.zoom):this._tryAnimatedPan(p,S.pan);if(O)return clearTimeout(this._sizeTimer),this}return this._resetView(p,b,S.pan&&S.pan.noMoveStart),this},setZoom:function(p,b){return this._loaded?this.setView(this.getCenter(),p,{zoom:b}):(this._zoom=p,this)},zoomIn:function(p,b){return p=p||(ze.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+p,b)},zoomOut:function(p,b){return p=p||(ze.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-p,b)},setZoomAround:function(p,b,S){var O=this.getZoomScale(b),q=this.getSize().divideBy(2),rt=p instanceof Jt?p:this.latLngToContainerPoint(p),bt=rt.subtract(q).multiplyBy(1-1/O),Rt=this.containerPointToLatLng(q.add(bt));return this.setView(Rt,b,{zoom:S})},_getBoundsCenterZoom:function(p,b){b=b||{},p=p.getBounds?p.getBounds():de(p);var S=xt(b.paddingTopLeft||b.padding||[0,0]),O=xt(b.paddingBottomRight||b.padding||[0,0]),q=this.getBoundsZoom(p,!1,S.add(O));if(q=typeof b.maxZoom=="number"?Math.min(b.maxZoom,q):q,q===1/0)return{center:p.getCenter(),zoom:q};var rt=O.subtract(S).divideBy(2),bt=this.project(p.getSouthWest(),q),Rt=this.project(p.getNorthEast(),q),Ht=this.unproject(bt.add(Rt).divideBy(2).add(rt),q);return{center:Ht,zoom:q}},fitBounds:function(p,b){if(p=de(p),!p.isValid())throw new Error("Bounds are not valid.");var S=this._getBoundsCenterZoom(p,b);return this.setView(S.center,S.zoom,b)},fitWorld:function(p){return this.fitBounds([[-90,-180],[90,180]],p)},panTo:function(p,b){return this.setView(p,this._zoom,{pan:b})},panBy:function(p,b){if(p=xt(p).round(),b=b||{},!p.x&&!p.y)return this.fire("moveend");if(b.animate!==!0&&!this.getSize().contains(p))return this._resetView(this.unproject(this.project(this.getCenter()).add(p)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new jp,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),b.noMoveStart||this.fire("movestart"),b.animate!==!1){cr(this._mapPane,"leaflet-pan-anim");var S=this._getMapPanePos().subtract(p).round();this._panAnim.run(this._mapPane,S,b.duration||.25,b.easeLinearity)}else this._rawPanBy(p),this.fire("move").fire("moveend");return this},flyTo:function(p,b,S){if(S=S||{},S.animate===!1||!ze.any3d)return this.setView(p,b,S);this._stop();var O=this.project(this.getCenter()),q=this.project(p),rt=this.getSize(),bt=this._zoom;p=se(p),b=b===void 0?bt:b;var Rt=Math.max(rt.x,rt.y),Ht=Rt*this.getZoomScale(bt,b),$t=q.distanceTo(O)||1,we=1.42,We=we*we;function hr(Hi){var Gu=Hi?-1:1,Vm=Hi?Ht:Rt,Rc=Ht*Ht-Rt*Rt+Gu*We*We*$t*$t,Wm=2*Vm*We*$t,ad=Rc/Wm,lf=Math.sqrt(ad*ad+1)-ad,zl=lf<1e-9?-18:Math.log(lf);return zl}function Rn(Hi){return(Math.exp(Hi)-Math.exp(-Hi))/2}function tn(Hi){return(Math.exp(Hi)+Math.exp(-Hi))/2}function An(Hi){return Rn(Hi)/tn(Hi)}var Wn=hr(0);function Al(Hi){return Rt*(tn(Wn)/tn(Wn+we*Hi))}function Hm(Hi){return Rt*(tn(Wn)*An(Wn+we*Hi)-Rn(Wn))/We}function Um(Hi){return 1-Math.pow(1-Hi,1.5)}var Gm=Date.now(),qm=(hr(1)-Wn)/we,af=S.duration?1e3*S.duration:1e3*qm*.8;function Ol(){var Hi=(Date.now()-Gm)/af,Gu=Um(Hi)*qm;Hi<=1?(this._flyToFrame=ft(Ol,this),this._move(this.unproject(O.add(q.subtract(O).multiplyBy(Hm(Gu)/$t)),bt),this.getScaleZoom(Rt/Al(Gu),bt),{flyTo:!0})):this._move(p,b)._moveEnd(!0)}return this._moveStart(!0,S.noMoveStart),Ol.call(this),this},flyToBounds:function(p,b){var S=this._getBoundsCenterZoom(p,b);return this.flyTo(S.center,S.zoom,b)},setMaxBounds:function(p){return p=de(p),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),p.isValid()?(this.options.maxBounds=p,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(p){var b=this.options.minZoom;return this.options.minZoom=p,this._loaded&&b!==p&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(p):this},setMaxZoom:function(p){var b=this.options.maxZoom;return this.options.maxZoom=p,this._loaded&&b!==p&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(p):this},panInsideBounds:function(p,b){this._enforcingBounds=!0;var S=this.getCenter(),O=this._limitCenter(S,this._zoom,de(p));return S.equals(O)||this.panTo(O,b),this._enforcingBounds=!1,this},panInside:function(p,b){b=b||{};var S=xt(b.paddingTopLeft||b.padding||[0,0]),O=xt(b.paddingBottomRight||b.padding||[0,0]),q=this.project(this.getCenter()),rt=this.project(p),bt=this.getPixelBounds(),Rt=Vt([bt.min.add(S),bt.max.subtract(O)]),Ht=Rt.getSize();if(!Rt.contains(rt)){this._enforcingBounds=!0;var $t=rt.subtract(Rt.getCenter()),we=Rt.extend(rt).getSize().subtract(Ht);q.x+=$t.x<0?-we.x:we.x,q.y+=$t.y<0?-we.y:we.y,this.panTo(this.unproject(q),b),this._enforcingBounds=!1}return this},invalidateSize:function(p){if(!this._loaded)return this;p=l({animate:!1,pan:!0},p===!0?{animate:!0}:p);var b=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var S=this.getSize(),O=b.divideBy(2).round(),q=S.divideBy(2).round(),rt=O.subtract(q);return!rt.x&&!rt.y?this:(p.animate&&p.pan?this.panBy(rt):(p.pan&&this._rawPanBy(rt),this.fire("move"),p.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:b,newSize:S}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(p){if(p=this._locateOptions=l({timeout:1e4,watch:!1},p),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var b=d(this._handleGeolocationResponse,this),S=d(this._handleGeolocationError,this);return p.watch?this._locationWatchId=navigator.geolocation.watchPosition(b,S,p):navigator.geolocation.getCurrentPosition(b,S,p),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(p){if(this._container._leaflet_id){var b=p.code,S=p.message||(b===1?"permission denied":b===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:b,message:"Geolocation error: "+S+"."})}},_handleGeolocationResponse:function(p){if(this._container._leaflet_id){var b=p.coords.latitude,S=p.coords.longitude,O=new oe(b,S),q=O.toBounds(p.coords.accuracy*2),rt=this._locateOptions;if(rt.setView){var bt=this.getBoundsZoom(q);this.setView(O,rt.maxZoom?Math.min(bt,rt.maxZoom):bt)}var Rt={latlng:O,bounds:q,timestamp:p.timestamp};for(var Ht in p.coords)typeof p.coords[Ht]=="number"&&(Rt[Ht]=p.coords[Ht]);this.fire("locationfound",Rt)}},addHandler:function(p,b){if(!b)return this;var S=this[p]=new b(this);return this._handlers.push(S),this.options[p]&&S.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ki(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(vt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var p;for(p in this._layers)this._layers[p].remove();for(p in this._panes)ki(this._panes[p]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(p,b){var S="leaflet-pane"+(p?" leaflet-"+p.replace("Pane","")+"-pane":""),O=ei("div",S,b||this._mapPane);return p&&(this._panes[p]=O),O},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var p=this.getPixelBounds(),b=this.unproject(p.getBottomLeft()),S=this.unproject(p.getTopRight());return new te(b,S)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(p,b,S){p=de(p),S=xt(S||[0,0]);var O=this.getZoom()||0,q=this.getMinZoom(),rt=this.getMaxZoom(),bt=p.getNorthWest(),Rt=p.getSouthEast(),Ht=this.getSize().subtract(S),$t=Vt(this.project(Rt,O),this.project(bt,O)).getSize(),we=ze.any3d?this.options.zoomSnap:1,We=Ht.x/$t.x,hr=Ht.y/$t.y,Rn=b?Math.max(We,hr):Math.min(We,hr);return O=this.getScaleZoom(Rn,O),we&&(O=Math.round(O/(we/100))*(we/100),O=b?Math.ceil(O/we)*we:Math.floor(O/we)*we),Math.max(q,Math.min(rt,O))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Jt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(p,b){var S=this._getTopLeftPoint(p,b);return new Nt(S,S.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(p){return this.options.crs.getProjectedBounds(p===void 0?this.getZoom():p)},getPane:function(p){return typeof p=="string"?this._panes[p]:p},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(p,b){var S=this.options.crs;return b=b===void 0?this._zoom:b,S.scale(p)/S.scale(b)},getScaleZoom:function(p,b){var S=this.options.crs;b=b===void 0?this._zoom:b;var O=S.zoom(p*S.scale(b));return isNaN(O)?1/0:O},project:function(p,b){return b=b===void 0?this._zoom:b,this.options.crs.latLngToPoint(se(p),b)},unproject:function(p,b){return b=b===void 0?this._zoom:b,this.options.crs.pointToLatLng(xt(p),b)},layerPointToLatLng:function(p){var b=xt(p).add(this.getPixelOrigin());return this.unproject(b)},latLngToLayerPoint:function(p){var b=this.project(se(p))._round();return b._subtract(this.getPixelOrigin())},wrapLatLng:function(p){return this.options.crs.wrapLatLng(se(p))},wrapLatLngBounds:function(p){return this.options.crs.wrapLatLngBounds(de(p))},distance:function(p,b){return this.options.crs.distance(se(p),se(b))},containerPointToLayerPoint:function(p){return xt(p).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(p){return xt(p).add(this._getMapPanePos())},containerPointToLatLng:function(p){var b=this.containerPointToLayerPoint(xt(p));return this.layerPointToLatLng(b)},latLngToContainerPoint:function(p){return this.layerPointToContainerPoint(this.latLngToLayerPoint(se(p)))},mouseEventToContainerPoint:function(p){return _m(p,this._container)},mouseEventToLayerPoint:function(p){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(p))},mouseEventToLatLng:function(p){return this.layerPointToLatLng(this.mouseEventToLayerPoint(p))},_initContainer:function(p){var b=this._container=bm(p);if(b){if(b._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");or(b,"scroll",this._onScroll,this),this._containerId=m(b)},_initLayout:function(){var p=this._container;this._fadeAnimated=this.options.fadeAnimation&&ze.any3d,cr(p,"leaflet-container"+(ze.touch?" leaflet-touch":"")+(ze.retina?" leaflet-retina":"")+(ze.ielt9?" leaflet-oldie":"")+(ze.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var b=mc(p,"position");b!=="absolute"&&b!=="relative"&&b!=="fixed"&&b!=="sticky"&&(p.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var p=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ki(this._mapPane,new Jt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(cr(p.markerPane,"leaflet-zoom-hide"),cr(p.shadowPane,"leaflet-zoom-hide"))},_resetView:function(p,b,S){Ki(this._mapPane,new Jt(0,0));var O=!this._loaded;this._loaded=!0,b=this._limitZoom(b),this.fire("viewprereset");var q=this._zoom!==b;this._moveStart(q,S)._move(p,b)._moveEnd(q),this.fire("viewreset"),O&&this.fire("load")},_moveStart:function(p,b){return p&&this.fire("zoomstart"),b||this.fire("movestart"),this},_move:function(p,b,S,O){b===void 0&&(b=this._zoom);var q=this._zoom!==b;return this._zoom=b,this._lastCenter=p,this._pixelOrigin=this._getNewPixelOrigin(p),O?S&&S.pinch&&this.fire("zoom",S):((q||S&&S.pinch)&&this.fire("zoom",S),this.fire("move",S)),this},_moveEnd:function(p){return p&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return vt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(p){Ki(this._mapPane,this._getMapPanePos().subtract(p))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(p){this._targets={},this._targets[m(this._container)]=this;var b=p?ui:or;b(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&b(window,"resize",this._onResize,this),ze.any3d&&this.options.transform3DLimit&&(p?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){vt(this._resizeRequest),this._resizeRequest=ft(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var p=this._getMapPanePos();Math.max(Math.abs(p.x),Math.abs(p.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(p,b){for(var S=[],O,q=b==="mouseout"||b==="mouseover",rt=p.target||p.srcElement,bt=!1;rt;){if(O=this._targets[m(rt)],O&&(b==="click"||b==="preclick")&&this._draggableMoved(O)){bt=!0;break}if(O&&O.listens(b,!0)&&(q&&!ia(rt,p)||(S.push(O),q))||rt===this._container)break;rt=rt.parentNode}return!S.length&&!bt&&!q&&this.listens(b,!0)&&(S=[this]),S},_isClickDisabled:function(p){for(;p&&p!==this._container;){if(p._leaflet_disable_click)return!0;p=p.parentNode}},_handleDOMEvent:function(p){var b=p.target||p.srcElement;if(!(!this._loaded||b._leaflet_disable_events||p.type==="click"&&this._isClickDisabled(b))){var S=p.type;S==="mousedown"&&zp(b),this._fireDOMEvent(p,S)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(p,b,S){if(p.type==="click"){var O=l({},p);O.type="preclick",this._fireDOMEvent(O,O.type,S)}var q=this._findEventTargets(p,b);if(S){for(var rt=[],bt=0;bt<S.length;bt++)S[bt].listens(b,!0)&&rt.push(S[bt]);q=rt.concat(q)}if(q.length){b==="contextmenu"&&Qi(p);var Rt=q[0],Ht={originalEvent:p};if(p.type!=="keypress"&&p.type!=="keydown"&&p.type!=="keyup"){var $t=Rt.getLatLng&&(!Rt._radius||Rt._radius<=10);Ht.containerPoint=$t?this.latLngToContainerPoint(Rt.getLatLng()):this.mouseEventToContainerPoint(p),Ht.layerPoint=this.containerPointToLayerPoint(Ht.containerPoint),Ht.latlng=$t?Rt.getLatLng():this.layerPointToLatLng(Ht.layerPoint)}for(bt=0;bt<q.length;bt++)if(q[bt].fire(b,Ht,!0),Ht.originalEvent._stopped||q[bt].options.bubblingMouseEvents===!1&&V(this._mouseEvents,b)!==-1)return}},_draggableMoved:function(p){return p=p.dragging&&p.dragging.enabled()?p:this,p.dragging&&p.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var p=0,b=this._handlers.length;p<b;p++)this._handlers[p].disable()},whenReady:function(p,b){return this._loaded?p.call(b||this,{target:this}):this.on("load",p,b),this},_getMapPanePos:function(){return Si(this._mapPane)||new Jt(0,0)},_moved:function(){var p=this._getMapPanePos();return p&&!p.equals([0,0])},_getTopLeftPoint:function(p,b){var S=p&&b!==void 0?this._getNewPixelOrigin(p,b):this.getPixelOrigin();return S.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(p,b){var S=this.getSize()._divideBy(2);return this.project(p,b)._subtract(S)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(p,b,S){var O=this._getNewPixelOrigin(S,b);return this.project(p,b)._subtract(O)},_latLngBoundsToNewLayerBounds:function(p,b,S){var O=this._getNewPixelOrigin(S,b);return Vt([this.project(p.getSouthWest(),b)._subtract(O),this.project(p.getNorthWest(),b)._subtract(O),this.project(p.getSouthEast(),b)._subtract(O),this.project(p.getNorthEast(),b)._subtract(O)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(p){return this.latLngToLayerPoint(p).subtract(this._getCenterLayerPoint())},_limitCenter:function(p,b,S){if(!S)return p;var O=this.project(p,b),q=this.getSize().divideBy(2),rt=new Nt(O.subtract(q),O.add(q)),bt=this._getBoundsOffset(rt,S,b);return Math.abs(bt.x)<=1&&Math.abs(bt.y)<=1?p:this.unproject(O.add(bt),b)},_limitOffset:function(p,b){if(!b)return p;var S=this.getPixelBounds(),O=new Nt(S.min.add(p),S.max.add(p));return p.add(this._getBoundsOffset(O,b))},_getBoundsOffset:function(p,b,S){var O=Vt(this.project(b.getNorthEast(),S),this.project(b.getSouthWest(),S)),q=O.min.subtract(p.min),rt=O.max.subtract(p.max),bt=this._rebound(q.x,-rt.x),Rt=this._rebound(q.y,-rt.y);return new Jt(bt,Rt)},_rebound:function(p,b){return p+b>0?Math.round(p-b)/2:Math.max(0,Math.ceil(p))-Math.max(0,Math.floor(b))},_limitZoom:function(p){var b=this.getMinZoom(),S=this.getMaxZoom(),O=ze.any3d?this.options.zoomSnap:1;return O&&(p=Math.round(p/O)*O),Math.max(b,Math.min(S,p))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ye(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(p,b){var S=this._getCenterOffset(p)._trunc();return(b&&b.animate)!==!0&&!this.getSize().contains(S)?!1:(this.panBy(S,b),!0)},_createAnimProxy:function(){var p=this._proxy=ei("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(p),this.on("zoomanim",function(b){var S=zh,O=this._proxy.style[S];_l(this._proxy,this.project(b.center,b.zoom),this.getZoomScale(b.zoom,1)),O===this._proxy.style[S]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ki(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var p=this.getCenter(),b=this.getZoom();_l(this._proxy,this.project(p,b),this.getZoomScale(b,1))},_catchTransitionEnd:function(p){this._animatingZoom&&p.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(p,b,S){if(this._animatingZoom)return!0;if(S=S||{},!this._zoomAnimated||S.animate===!1||this._nothingToAnimate()||Math.abs(b-this._zoom)>this.options.zoomAnimationThreshold)return!1;var O=this.getZoomScale(b),q=this._getCenterOffset(p)._divideBy(1-1/O);return S.animate!==!0&&!this.getSize().contains(q)?!1:(ft(function(){this._moveStart(!0,S.noMoveStart||!1)._animateZoom(p,b,!0)},this),!0)},_animateZoom:function(p,b,S,O){this._mapPane&&(S&&(this._animatingZoom=!0,this._animateToCenter=p,this._animateToZoom=b,cr(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:p,zoom:b,noUpdate:O}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ye(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Qy(p,b){return new Zr(p,b)}var yo=re.extend({options:{position:"topright"},initialize:function(p){F(this,p)},getPosition:function(){return this.options.position},setPosition:function(p){var b=this._map;return b&&b.removeControl(this),this.options.position=p,b&&b.addControl(this),this},getContainer:function(){return this._container},addTo:function(p){this.remove(),this._map=p;var b=this._container=this.onAdd(p),S=this.getPosition(),O=p._controlCorners[S];return cr(b,"leaflet-control"),S.indexOf("bottom")!==-1?O.insertBefore(b,O.firstChild):O.appendChild(b),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ki(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(p){this._map&&p&&p.screenX>0&&p.screenY>0&&this._map.getContainer().focus()}}),Ou=function(p){return new yo(p)};Zr.include({addControl:function(p){return p.addTo(this),this},removeControl:function(p){return p.remove(),this},_initControlPos:function(){var p=this._controlCorners={},b="leaflet-",S=this._controlContainer=ei("div",b+"control-container",this._container);function O(q,rt){var bt=b+q+" "+b+rt;p[q+rt]=ei("div",bt,S)}O("top","left"),O("top","right"),O("bottom","left"),O("bottom","right")},_clearControlPos:function(){for(var p in this._controlCorners)ki(this._controlCorners[p]);ki(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Hh=yo.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(p,b,S,O){return S<O?-1:O<S?1:0}},initialize:function(p,b,S){F(this,S),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var O in p)this._addLayer(p[O],O);for(O in b)this._addLayer(b[O],O,!0)},onAdd:function(p){this._initLayout(),this._update(),this._map=p,p.on("zoomend",this._checkDisabledLayers,this);for(var b=0;b<this._layers.length;b++)this._layers[b].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(p){return yo.prototype.addTo.call(this,p),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var p=0;p<this._layers.length;p++)this._layers[p].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(p,b){return this._addLayer(p,b),this._map?this._update():this},addOverlay:function(p,b){return this._addLayer(p,b,!0),this._map?this._update():this},removeLayer:function(p){p.off("add remove",this._onLayerChange,this);var b=this._getLayer(m(p));return b&&this._layers.splice(this._layers.indexOf(b),1),this._map?this._update():this},expand:function(){cr(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var p=this._map.getSize().y-(this._container.offsetTop+50);return p<this._section.clientHeight?(cr(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=p+"px"):Ye(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ye(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var p="leaflet-control-layers",b=this._container=ei("div",p),S=this.options.collapsed;b.setAttribute("aria-haspopup",!0),kc(b),Fp(b);var O=this._section=ei("section",p+"-list");S&&(this._map.on("click",this.collapse,this),or(b,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var q=this._layersLink=ei("a",p+"-toggle",b);q.href="#",q.title="Layers",q.setAttribute("role","button"),or(q,{keydown:function(rt){rt.keyCode===13&&this._expandSafely()},click:function(rt){Qi(rt),this._expandSafely()}},this),S||this.expand(),this._baseLayersList=ei("div",p+"-base",O),this._separator=ei("div",p+"-separator",O),this._overlaysList=ei("div",p+"-overlays",O),b.appendChild(O)},_getLayer:function(p){for(var b=0;b<this._layers.length;b++)if(this._layers[b]&&m(this._layers[b].layer)===p)return this._layers[b]},_addLayer:function(p,b,S){this._map&&p.on("add remove",this._onLayerChange,this),this._layers.push({layer:p,name:b,overlay:S}),this.options.sortLayers&&this._layers.sort(d(function(O,q){return this.options.sortFunction(O.layer,q.layer,O.name,q.name)},this)),this.options.autoZIndex&&p.setZIndex&&(this._lastZIndex++,p.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Pu(this._baseLayersList),Pu(this._overlaysList),this._layerControlInputs=[];var p,b,S,O,q=0;for(S=0;S<this._layers.length;S++)O=this._layers[S],this._addItem(O),b=b||O.overlay,p=p||!O.overlay,q+=O.overlay?0:1;return this.options.hideSingleBase&&(p=p&&q>1,this._baseLayersList.style.display=p?"":"none"),this._separator.style.display=b&&p?"":"none",this},_onLayerChange:function(p){this._handlingClick||this._update();var b=this._getLayer(m(p.target)),S=b.overlay?p.type==="add"?"overlayadd":"overlayremove":p.type==="add"?"baselayerchange":null;S&&this._map.fire(S,b)},_createRadioElement:function(p,b){var S='<input type="radio" class="leaflet-control-layers-selector" name="'+p+'"'+(b?' checked="checked"':"")+"/>",O=document.createElement("div");return O.innerHTML=S,O.firstChild},_addItem:function(p){var b=document.createElement("label"),S=this._map.hasLayer(p.layer),O;p.overlay?(O=document.createElement("input"),O.type="checkbox",O.className="leaflet-control-layers-selector",O.defaultChecked=S):O=this._createRadioElement("leaflet-base-layers_"+m(this),S),this._layerControlInputs.push(O),O.layerId=m(p.layer),or(O,"click",this._onInputClick,this);var q=document.createElement("span");q.innerHTML=" "+p.name;var rt=document.createElement("span");b.appendChild(rt),rt.appendChild(O),rt.appendChild(q);var bt=p.overlay?this._overlaysList:this._baseLayersList;return bt.appendChild(b),this._checkDisabledLayers(),b},_onInputClick:function(){if(!this._preventClick){var p=this._layerControlInputs,b,S,O=[],q=[];this._handlingClick=!0;for(var rt=p.length-1;rt>=0;rt--)b=p[rt],S=this._getLayer(b.layerId).layer,b.checked?O.push(S):b.checked||q.push(S);for(rt=0;rt<q.length;rt++)this._map.hasLayer(q[rt])&&this._map.removeLayer(q[rt]);for(rt=0;rt<O.length;rt++)this._map.hasLayer(O[rt])||this._map.addLayer(O[rt]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var p=this._layerControlInputs,b,S,O=this._map.getZoom(),q=p.length-1;q>=0;q--)b=p[q],S=this._getLayer(b.layerId).layer,b.disabled=S.options.minZoom!==void 0&&O<S.options.minZoom||S.options.maxZoom!==void 0&&O>S.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var p=this._section;this._preventClick=!0,or(p,"click",Qi),this.expand();var b=this;setTimeout(function(){ui(p,"click",Qi),b._preventClick=!1})}}),Em=function(p,b,S){return new Hh(p,b,S)},Uh=yo.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(p){var b="leaflet-control-zoom",S=ei("div",b+" leaflet-bar"),O=this.options;return this._zoomInButton=this._createButton(O.zoomInText,O.zoomInTitle,b+"-in",S,this._zoomIn),this._zoomOutButton=this._createButton(O.zoomOutText,O.zoomOutTitle,b+"-out",S,this._zoomOut),this._updateDisabled(),p.on("zoomend zoomlevelschange",this._updateDisabled,this),S},onRemove:function(p){p.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(p){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(p.shiftKey?3:1))},_zoomOut:function(p){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(p.shiftKey?3:1))},_createButton:function(p,b,S,O,q){var rt=ei("a",S,O);return rt.innerHTML=p,rt.href="#",rt.title=b,rt.setAttribute("role","button"),rt.setAttribute("aria-label",b),kc(rt),or(rt,"click",Tl),or(rt,"click",q,this),or(rt,"click",this._refocusOnMap,this),rt},_updateDisabled:function(){var p=this._map,b="leaflet-disabled";Ye(this._zoomInButton,b),Ye(this._zoomOutButton,b),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||p._zoom===p.getMinZoom())&&(cr(this._zoomOutButton,b),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||p._zoom===p.getMaxZoom())&&(cr(this._zoomInButton,b),this._zoomInButton.setAttribute("aria-disabled","true"))}});Zr.mergeOptions({zoomControl:!0}),Zr.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Uh,this.addControl(this.zoomControl))});var $y=function(p){return new Uh(p)},Tm=yo.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(p){var b="leaflet-control-scale",S=ei("div",b),O=this.options;return this._addScales(O,b+"-line",S),p.on(O.updateWhenIdle?"moveend":"move",this._update,this),p.whenReady(this._update,this),S},onRemove:function(p){p.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(p,b,S){p.metric&&(this._mScale=ei("div",b,S)),p.imperial&&(this._iScale=ei("div",b,S))},_update:function(){var p=this._map,b=p.getSize().y/2,S=p.distance(p.containerPointToLatLng([0,b]),p.containerPointToLatLng([this.options.maxWidth,b]));this._updateScales(S)},_updateScales:function(p){this.options.metric&&p&&this._updateMetric(p),this.options.imperial&&p&&this._updateImperial(p)},_updateMetric:function(p){var b=this._getRoundNum(p),S=b<1e3?b+" m":b/1e3+" km";this._updateScale(this._mScale,S,b/p)},_updateImperial:function(p){var b=p*3.2808399,S,O,q;b>5280?(S=b/5280,O=this._getRoundNum(S),this._updateScale(this._iScale,O+" mi",O/S)):(q=this._getRoundNum(b),this._updateScale(this._iScale,q+" ft",q/b))},_updateScale:function(p,b,S){p.style.width=Math.round(this.options.maxWidth*S)+"px",p.innerHTML=b},_getRoundNum:function(p){var b=Math.pow(10,(Math.floor(p)+"").length-1),S=p/b;return S=S>=10?10:S>=5?5:S>=3?3:S>=2?2:1,b*S}}),Sm=function(p){return new Tm(p)},Hp='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Gh=yo.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ze.inlineSvg?Hp+" ":"")+"Leaflet</a>"},initialize:function(p){F(this,p),this._attributions={}},onAdd:function(p){p.attributionControl=this,this._container=ei("div","leaflet-control-attribution"),kc(this._container);for(var b in p._layers)p._layers[b].getAttribution&&this.addAttribution(p._layers[b].getAttribution());return this._update(),p.on("layeradd",this._addAttribution,this),this._container},onRemove:function(p){p.off("layeradd",this._addAttribution,this)},_addAttribution:function(p){p.layer.getAttribution&&(this.addAttribution(p.layer.getAttribution()),p.layer.once("remove",function(){this.removeAttribution(p.layer.getAttribution())},this))},setPrefix:function(p){return this.options.prefix=p,this._update(),this},addAttribution:function(p){return p?(this._attributions[p]||(this._attributions[p]=0),this._attributions[p]++,this._update(),this):this},removeAttribution:function(p){return p?(this._attributions[p]&&(this._attributions[p]--,this._update()),this):this},_update:function(){if(this._map){var p=[];for(var b in this._attributions)this._attributions[b]&&p.push(b);var S=[];this.options.prefix&&S.push(this.options.prefix),p.length&&S.push(p.join(", ")),this._container.innerHTML=S.join(' <span aria-hidden="true">|</span> ')}}});Zr.mergeOptions({attributionControl:!0}),Zr.addInitHook(function(){this.options.attributionControl&&new Gh().addTo(this)});var Cm=function(p){return new Gh(p)};yo.Layers=Hh,yo.Zoom=Uh,yo.Scale=Tm,yo.Attribution=Gh,Ou.layers=Em,Ou.zoom=$y,Ou.scale=Sm,Ou.attribution=Cm;var $i=re.extend({initialize:function(p){this._map=p},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});$i.addTo=function(p,b){return p.addHandler(b,this),this};var Up={Events:Gt},Ss=ze.touch?"touchstart mousedown":"mousedown",is=ce.extend({options:{clickTolerance:3},initialize:function(p,b,S,O){F(this,O),this._element=p,this._dragStartTarget=b||p,this._preventOutline=S},enable:function(){this._enabled||(or(this._dragStartTarget,Ss,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(is._dragging===this&&this.finishDrag(!0),ui(this._dragStartTarget,Ss,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(p){if(this._enabled&&(this._moved=!1,!vc(this._element,"leaflet-zoom-anim"))){if(p.touches&&p.touches.length!==1){is._dragging===this&&this.finishDrag();return}if(!(is._dragging||p.shiftKey||p.which!==1&&p.button!==1&&!p.touches)&&(is._dragging=this,this._preventOutline&&zp(this._element),Op(),bc(),!this._moving)){this.fire("down");var b=p.touches?p.touches[0]:p,S=Lu(this._element);this._startPoint=new Jt(b.clientX,b.clientY),this._startPos=Si(this._element),this._parentScale=Ru(S);var O=p.type==="mousedown";or(document,O?"mousemove":"touchmove",this._onMove,this),or(document,O?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(p){if(this._enabled){if(p.touches&&p.touches.length>1){this._moved=!0;return}var b=p.touches&&p.touches.length===1?p.touches[0]:p,S=new Jt(b.clientX,b.clientY)._subtract(this._startPoint);!S.x&&!S.y||Math.abs(S.x)+Math.abs(S.y)<this.options.clickTolerance||(S.x/=this._parentScale.x,S.y/=this._parentScale.y,Qi(p),this._moved||(this.fire("dragstart"),this._moved=!0,cr(document.body,"leaflet-dragging"),this._lastTarget=p.target||p.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),cr(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(S),this._moving=!0,this._lastEvent=p,this._updatePosition())}},_updatePosition:function(){var p={originalEvent:this._lastEvent};this.fire("predrag",p),Ki(this._element,this._newPos),this.fire("drag",p)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(p){Ye(document.body,"leaflet-dragging"),this._lastTarget&&(Ye(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ui(document,"mousemove touchmove",this._onMove,this),ui(document,"mouseup touchend touchcancel",this._onUp,this),_c(),wc();var b=this._moved&&this._moving;this._moving=!1,is._dragging=!1,b&&this.fire("dragend",{noInertia:p,distance:this._newPos.distanceTo(this._startPos)})}});function na(p,b,S){var O,q=[1,4,2,8],rt,bt,Rt,Ht,$t,we,We,hr;for(rt=0,we=p.length;rt<we;rt++)p[rt]._code=Sl(p[rt],b);for(Rt=0;Rt<4;Rt++){for(We=q[Rt],O=[],rt=0,we=p.length,bt=we-1;rt<we;bt=rt++)Ht=p[rt],$t=p[bt],Ht._code&We?$t._code&We||(hr=Vh($t,Ht,We,b,S),hr._code=Sl(hr,b),O.push(hr)):($t._code&We&&(hr=Vh($t,Ht,We,b,S),hr._code=Sl(hr,b),O.push(hr)),O.push(Ht));p=O}return p}function zu(p,b){var S,O,q,rt,bt,Rt,Ht,$t,we;if(!p||p.length===0)throw new Error("latlngs not passed");kn(p)||(console.warn("latlngs are not flat! Only the first ring will be used"),p=p[0]);var We=se([0,0]),hr=de(p),Rn=hr.getNorthWest().distanceTo(hr.getSouthWest())*hr.getNorthEast().distanceTo(hr.getNorthWest());Rn<1700&&(We=qh(p));var tn=p.length,An=[];for(S=0;S<tn;S++){var Wn=se(p[S]);An.push(b.project(se([Wn.lat-We.lat,Wn.lng-We.lng])))}for(Rt=Ht=$t=0,S=0,O=tn-1;S<tn;O=S++)q=An[S],rt=An[O],bt=q.y*rt.x-rt.y*q.x,Ht+=(q.x+rt.x)*bt,$t+=(q.y+rt.y)*bt,Rt+=bt*3;Rt===0?we=An[0]:we=[Ht/Rt,$t/Rt];var Al=b.unproject(xt(we));return se([Al.lat+We.lat,Al.lng+We.lng])}function qh(p){for(var b=0,S=0,O=0,q=0;q<p.length;q++){var rt=se(p[q]);b+=rt.lat,S+=rt.lng,O++}return se([b/O,S/O])}var tb={__proto__:null,clipPolygon:na,polygonCenter:zu,centroid:qh};function Nu(p,b){if(!b||!p.length)return p.slice();var S=b*b;return p=eb(p,S),p=Fu(p,S),p}function Gp(p,b,S){return Math.sqrt(Bu(p,b,S,!0))}function Du(p,b,S){return Bu(p,b,S)}function Fu(p,b){var S=p.length,O=typeof Uint8Array!=void 0+""?Uint8Array:Array,q=new O(S);q[0]=q[S-1]=1,qp(p,q,b,0,S-1);var rt,bt=[];for(rt=0;rt<S;rt++)q[rt]&&bt.push(p[rt]);return bt}function qp(p,b,S,O,q){var rt=0,bt,Rt,Ht;for(Rt=O+1;Rt<=q-1;Rt++)Ht=Bu(p[Rt],p[O],p[q],!0),Ht>rt&&(bt=Rt,rt=Ht);rt>S&&(b[bt]=1,qp(p,b,S,O,bt),qp(p,b,S,bt,q))}function eb(p,b){for(var S=[p[0]],O=1,q=0,rt=p.length;O<rt;O++)Vp(p[O],p[q])>b&&(S.push(p[O]),q=O);return q<rt-1&&S.push(p[rt-1]),S}var Pm;function Mm(p,b,S,O,q){var rt=O?Pm:Sl(p,S),bt=Sl(b,S),Rt,Ht,$t;for(Pm=bt;;){if(!(rt|bt))return[p,b];if(rt&bt)return!1;Rt=rt||bt,Ht=Vh(p,b,Rt,S,q),$t=Sl(Ht,S),Rt===rt?(p=Ht,rt=$t):(b=Ht,bt=$t)}}function Vh(p,b,S,O,q){var rt=b.x-p.x,bt=b.y-p.y,Rt=O.min,Ht=O.max,$t,we;return S&8?($t=p.x+rt*(Ht.y-p.y)/bt,we=Ht.y):S&4?($t=p.x+rt*(Rt.y-p.y)/bt,we=Rt.y):S&2?($t=Ht.x,we=p.y+bt*(Ht.x-p.x)/rt):S&1&&($t=Rt.x,we=p.y+bt*(Rt.x-p.x)/rt),new Jt($t,we,q)}function Sl(p,b){var S=0;return p.x<b.min.x?S|=1:p.x>b.max.x&&(S|=2),p.y<b.min.y?S|=4:p.y>b.max.y&&(S|=8),S}function Vp(p,b){var S=b.x-p.x,O=b.y-p.y;return S*S+O*O}function Bu(p,b,S,O){var q=b.x,rt=b.y,bt=S.x-q,Rt=S.y-rt,Ht=bt*bt+Rt*Rt,$t;return Ht>0&&($t=((p.x-q)*bt+(p.y-rt)*Rt)/Ht,$t>1?(q=S.x,rt=S.y):$t>0&&(q+=bt*$t,rt+=Rt*$t)),bt=p.x-q,Rt=p.y-rt,O?bt*bt+Rt*Rt:new Jt(q,rt)}function kn(p){return!j(p[0])||typeof p[0][0]!="object"&&typeof p[0][0]<"u"}function Im(p){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),kn(p)}function un(p,b){var S,O,q,rt,bt,Rt,Ht,$t;if(!p||p.length===0)throw new Error("latlngs not passed");kn(p)||(console.warn("latlngs are not flat! Only the first ring will be used"),p=p[0]);var we=se([0,0]),We=de(p),hr=We.getNorthWest().distanceTo(We.getSouthWest())*We.getNorthEast().distanceTo(We.getNorthWest());hr<1700&&(we=qh(p));var Rn=p.length,tn=[];for(S=0;S<Rn;S++){var An=se(p[S]);tn.push(b.project(se([An.lat-we.lat,An.lng-we.lng])))}for(S=0,O=0;S<Rn-1;S++)O+=tn[S].distanceTo(tn[S+1])/2;if(O===0)$t=tn[0];else for(S=0,rt=0;S<Rn-1;S++)if(bt=tn[S],Rt=tn[S+1],q=bt.distanceTo(Rt),rt+=q,rt>O){Ht=(rt-O)/q,$t=[Rt.x-Ht*(Rt.x-bt.x),Rt.y-Ht*(Rt.y-bt.y)];break}var Wn=b.unproject(xt($t));return se([Wn.lat+we.lat,Wn.lng+we.lng])}var Cl={__proto__:null,simplify:Nu,pointToSegmentDistance:Gp,closestPointOnSegment:Du,clipSegment:Mm,_getEdgeIntersection:Vh,_getBitCode:Sl,_sqClosestPointOnSegment:Bu,isFlat:kn,_flat:Im,polylineCenter:un},Wh={project:function(p){return new Jt(p.lng,p.lat)},unproject:function(p){return new oe(p.y,p.x)},bounds:new Nt([-180,-90],[180,90])},Pl={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Nt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(p){var b=Math.PI/180,S=this.R,O=p.lat*b,q=this.R_MINOR/S,rt=Math.sqrt(1-q*q),bt=rt*Math.sin(O),Rt=Math.tan(Math.PI/4-O/2)/Math.pow((1-bt)/(1+bt),rt/2);return O=-S*Math.log(Math.max(Rt,1e-10)),new Jt(p.lng*b*S,O)},unproject:function(p){for(var b=180/Math.PI,S=this.R,O=this.R_MINOR/S,q=Math.sqrt(1-O*O),rt=Math.exp(-p.y/S),bt=Math.PI/2-2*Math.atan(rt),Rt=0,Ht=.1,$t;Rt<15&&Math.abs(Ht)>1e-7;Rt++)$t=q*Math.sin(bt),$t=Math.pow((1-$t)/(1+$t),q/2),Ht=Math.PI/2-2*Math.atan(rt*$t)-bt,bt+=Ht;return new oe(bt*b,p.x*b/S)}},Lm={__proto__:null,LonLat:Wh,Mercator:Pl,SphericalMercator:Xi},Rm=l({},gr,{code:"EPSG:3395",projection:Pl,transformation:function(){var p=.5/(Math.PI*Pl.R);return yt(p,.5,-p,.5)}()}),Ec=l({},gr,{code:"EPSG:4326",projection:Wh,transformation:yt(1/180,1,-1/180,.5)}),Wp=l({},rr,{projection:Wh,transformation:yt(1,0,-1,0),scale:function(p){return Math.pow(2,p)},zoom:function(p){return Math.log(p)/Math.LN2},distance:function(p,b){var S=b.lng-p.lng,O=b.lat-p.lat;return Math.sqrt(S*S+O*O)},infinite:!0});rr.Earth=gr,rr.EPSG3395=Rm,rr.EPSG3857=kt,rr.EPSG900913=zt,rr.EPSG4326=Ec,rr.Simple=Wp;var bo=ce.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(p){return p.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(p){return p&&p.removeLayer(this),this},getPane:function(p){return this._map.getPane(p?this.options[p]||p:this.options.pane)},addInteractiveTarget:function(p){return this._map._targets[m(p)]=this,this},removeInteractiveTarget:function(p){return delete this._map._targets[m(p)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(p){var b=p.target;if(b.hasLayer(this)){if(this._map=b,this._zoomAnimated=b._zoomAnimated,this.getEvents){var S=this.getEvents();b.on(S,this),this.once("remove",function(){b.off(S,this)},this)}this.onAdd(b),this.fire("add"),b.fire("layeradd",{layer:this})}}});Zr.include({addLayer:function(p){if(!p._layerAdd)throw new Error("The provided object is not a Layer.");var b=m(p);return this._layers[b]?this:(this._layers[b]=p,p._mapToAdd=this,p.beforeAdd&&p.beforeAdd(this),this.whenReady(p._layerAdd,p),this)},removeLayer:function(p){var b=m(p);return this._layers[b]?(this._loaded&&p.onRemove(this),delete this._layers[b],this._loaded&&(this.fire("layerremove",{layer:p}),p.fire("remove")),p._map=p._mapToAdd=null,this):this},hasLayer:function(p){return m(p)in this._layers},eachLayer:function(p,b){for(var S in this._layers)p.call(b,this._layers[S]);return this},_addLayers:function(p){p=p?j(p)?p:[p]:[];for(var b=0,S=p.length;b<S;b++)this.addLayer(p[b])},_addZoomLimit:function(p){(!isNaN(p.options.maxZoom)||!isNaN(p.options.minZoom))&&(this._zoomBoundLayers[m(p)]=p,this._updateZoomLevels())},_removeZoomLimit:function(p){var b=m(p);this._zoomBoundLayers[b]&&(delete this._zoomBoundLayers[b],this._updateZoomLevels())},_updateZoomLevels:function(){var p=1/0,b=-1/0,S=this._getZoomSpan();for(var O in this._zoomBoundLayers){var q=this._zoomBoundLayers[O].options;p=q.minZoom===void 0?p:Math.min(p,q.minZoom),b=q.maxZoom===void 0?b:Math.max(b,q.maxZoom)}this._layersMaxZoom=b===-1/0?void 0:b,this._layersMinZoom=p===1/0?void 0:p,S!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ml=bo.extend({initialize:function(p,b){F(this,b),this._layers={};var S,O;if(p)for(S=0,O=p.length;S<O;S++)this.addLayer(p[S])},addLayer:function(p){var b=this.getLayerId(p);return this._layers[b]=p,this._map&&this._map.addLayer(p),this},removeLayer:function(p){var b=p in this._layers?p:this.getLayerId(p);return this._map&&this._layers[b]&&this._map.removeLayer(this._layers[b]),delete this._layers[b],this},hasLayer:function(p){var b=typeof p=="number"?p:this.getLayerId(p);return b in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(p){var b=Array.prototype.slice.call(arguments,1),S,O;for(S in this._layers)O=this._layers[S],O[p]&&O[p].apply(O,b);return this},onAdd:function(p){this.eachLayer(p.addLayer,p)},onRemove:function(p){this.eachLayer(p.removeLayer,p)},eachLayer:function(p,b){for(var S in this._layers)p.call(b,this._layers[S]);return this},getLayer:function(p){return this._layers[p]},getLayers:function(){var p=[];return this.eachLayer(p.push,p),p},setZIndex:function(p){return this.invoke("setZIndex",p)},getLayerId:function(p){return m(p)}}),Zh=function(p,b){return new Ml(p,b)},Vn=Ml.extend({addLayer:function(p){return this.hasLayer(p)?this:(p.addEventParent(this),Ml.prototype.addLayer.call(this,p),this.fire("layeradd",{layer:p}))},removeLayer:function(p){return this.hasLayer(p)?(p in this._layers&&(p=this._layers[p]),p.removeEventParent(this),Ml.prototype.removeLayer.call(this,p),this.fire("layerremove",{layer:p})):this},setStyle:function(p){return this.invoke("setStyle",p)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var p=new te;for(var b in this._layers){var S=this._layers[b];p.extend(S.getBounds?S.getBounds():S.getLatLng())}return p}}),hn=function(p,b){return new Vn(p,b)},Cs=re.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(p){F(this,p)},createIcon:function(p){return this._createIcon("icon",p)},createShadow:function(p){return this._createIcon("shadow",p)},_createIcon:function(p,b){var S=this._getIconUrl(p);if(!S){if(p==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var O=this._createImg(S,b&&b.tagName==="IMG"?b:null);return this._setIconStyles(O,p),(this.options.crossOrigin||this.options.crossOrigin==="")&&(O.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),O},_setIconStyles:function(p,b){var S=this.options,O=S[b+"Size"];typeof O=="number"&&(O=[O,O]);var q=xt(O),rt=xt(b==="shadow"&&S.shadowAnchor||S.iconAnchor||q&&q.divideBy(2,!0));p.className="leaflet-marker-"+b+" "+(S.className||""),rt&&(p.style.marginLeft=-rt.x+"px",p.style.marginTop=-rt.y+"px"),q&&(p.style.width=q.x+"px",p.style.height=q.y+"px")},_createImg:function(p,b){return b=b||document.createElement("img"),b.src=p,b},_getIconUrl:function(p){return ze.retina&&this.options[p+"RetinaUrl"]||this.options[p+"Url"]}});function Am(p){return new Cs(p)}var Tc=Cs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(p){return typeof Tc.imagePath!="string"&&(Tc.imagePath=this._detectIconPath()),(this.options.imagePath||Tc.imagePath)+Cs.prototype._getIconUrl.call(this,p)},_stripUrl:function(p){var b=function(S,O,q){var rt=O.exec(S);return rt&&rt[q]};return p=b(p,/^url\((['"])?(.+)\1\)$/,2),p&&b(p,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var p=ei("div","leaflet-default-icon-path",document.body),b=mc(p,"background-image")||mc(p,"backgroundImage");if(document.body.removeChild(p),b=this._stripUrl(b),b)return b;var S=document.querySelector('link[href$="leaflet.css"]');return S?S.href.substring(0,S.href.length-11-1):""}}),Yh=$i.extend({initialize:function(p){this._marker=p},addHooks:function(){var p=this._marker._icon;this._draggable||(this._draggable=new is(p,p,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),cr(p,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ye(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(p){var b=this._marker,S=b._map,O=this._marker.options.autoPanSpeed,q=this._marker.options.autoPanPadding,rt=Si(b._icon),bt=S.getPixelBounds(),Rt=S.getPixelOrigin(),Ht=Vt(bt.min._subtract(Rt).add(q),bt.max._subtract(Rt).subtract(q));if(!Ht.contains(rt)){var $t=xt((Math.max(Ht.max.x,rt.x)-Ht.max.x)/(bt.max.x-Ht.max.x)-(Math.min(Ht.min.x,rt.x)-Ht.min.x)/(bt.min.x-Ht.min.x),(Math.max(Ht.max.y,rt.y)-Ht.max.y)/(bt.max.y-Ht.max.y)-(Math.min(Ht.min.y,rt.y)-Ht.min.y)/(bt.min.y-Ht.min.y)).multiplyBy(O);S.panBy($t,{animate:!1}),this._draggable._newPos._add($t),this._draggable._startPos._add($t),Ki(b._icon,this._draggable._newPos),this._onDrag(p),this._panRequest=ft(this._adjustPan.bind(this,p))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(p){this._marker.options.autoPan&&(vt(this._panRequest),this._panRequest=ft(this._adjustPan.bind(this,p)))},_onDrag:function(p){var b=this._marker,S=b._shadow,O=Si(b._icon),q=b._map.layerPointToLatLng(O);S&&Ki(S,O),b._latlng=q,p.latlng=q,p.oldLatLng=this._oldLatLng,b.fire("move",p).fire("drag",p)},_onDragEnd:function(p){vt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",p)}}),Il=bo.extend({options:{icon:new Tc,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(p,b){F(this,b),this._latlng=se(p)},onAdd:function(p){this._zoomAnimated=this._zoomAnimated&&p.options.markerZoomAnimation,this._zoomAnimated&&p.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(p){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&p.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(p){var b=this._latlng;return this._latlng=se(p),this.update(),this.fire("move",{oldLatLng:b,latlng:this._latlng})},setZIndexOffset:function(p){return this.options.zIndexOffset=p,this.update()},getIcon:function(){return this.options.icon},setIcon:function(p){return this.options.icon=p,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var p=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(p)}return this},_initIcon:function(){var p=this.options,b="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),S=p.icon.createIcon(this._icon),O=!1;S!==this._icon&&(this._icon&&this._removeIcon(),O=!0,p.title&&(S.title=p.title),S.tagName==="IMG"&&(S.alt=p.alt||"")),cr(S,b),p.keyboard&&(S.tabIndex="0",S.setAttribute("role","button")),this._icon=S,p.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&or(S,"focus",this._panOnFocus,this);var q=p.icon.createShadow(this._shadow),rt=!1;q!==this._shadow&&(this._removeShadow(),rt=!0),q&&(cr(q,b),q.alt=""),this._shadow=q,p.opacity<1&&this._updateOpacity(),O&&this.getPane().appendChild(this._icon),this._initInteraction(),q&&rt&&this.getPane(p.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ui(this._icon,"focus",this._panOnFocus,this),ki(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ki(this._shadow),this._shadow=null},_setPos:function(p){this._icon&&Ki(this._icon,p),this._shadow&&Ki(this._shadow,p),this._zIndex=p.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(p){this._icon&&(this._icon.style.zIndex=this._zIndex+p)},_animateZoom:function(p){var b=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center).round();this._setPos(b)},_initInteraction:function(){if(this.options.interactive&&(cr(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Yh)){var p=this.options.draggable;this.dragging&&(p=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Yh(this),p&&this.dragging.enable()}},setOpacity:function(p){return this.options.opacity=p,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var p=this.options.opacity;this._icon&&ir(this._icon,p),this._shadow&&ir(this._shadow,p)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var p=this._map;if(p){var b=this.options.icon.options,S=b.iconSize?xt(b.iconSize):xt(0,0),O=b.iconAnchor?xt(b.iconAnchor):xt(0,0);p.panInside(this._latlng,{paddingTopLeft:O,paddingBottomRight:S.subtract(O)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Om(p,b){return new Il(p,b)}var oa=bo.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(p){this._renderer=p.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(p){return F(this,p),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&p&&Object.prototype.hasOwnProperty.call(p,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Xh=oa.extend({options:{fill:!0,radius:10},initialize:function(p,b){F(this,b),this._latlng=se(p),this._radius=this.options.radius},setLatLng:function(p){var b=this._latlng;return this._latlng=se(p),this.redraw(),this.fire("move",{oldLatLng:b,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(p){return this.options.radius=this._radius=p,this.redraw()},getRadius:function(){return this._radius},setStyle:function(p){var b=p&&p.radius||this._radius;return oa.prototype.setStyle.call(this,p),this.setRadius(b),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var p=this._radius,b=this._radiusY||p,S=this._clickTolerance(),O=[p+S,b+S];this._pxBounds=new Nt(this._point.subtract(O),this._point.add(O))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(p){return p.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function rb(p,b){return new Xh(p,b)}var Zp=Xh.extend({initialize:function(p,b,S){if(typeof b=="number"&&(b=l({},S,{radius:b})),F(this,b),this._latlng=se(p),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(p){return this._mRadius=p,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var p=[this._radius,this._radiusY||this._radius];return new te(this._map.layerPointToLatLng(this._point.subtract(p)),this._map.layerPointToLatLng(this._point.add(p)))},setStyle:oa.prototype.setStyle,_project:function(){var p=this._latlng.lng,b=this._latlng.lat,S=this._map,O=S.options.crs;if(O.distance===gr.distance){var q=Math.PI/180,rt=this._mRadius/gr.R/q,bt=S.project([b+rt,p]),Rt=S.project([b-rt,p]),Ht=bt.add(Rt).divideBy(2),$t=S.unproject(Ht).lat,we=Math.acos((Math.cos(rt*q)-Math.sin(b*q)*Math.sin($t*q))/(Math.cos(b*q)*Math.cos($t*q)))/q;(isNaN(we)||we===0)&&(we=rt/Math.cos(Math.PI/180*b)),this._point=Ht.subtract(S.getPixelOrigin()),this._radius=isNaN(we)?0:Ht.x-S.project([$t,p-we]).x,this._radiusY=Ht.y-bt.y}else{var We=O.unproject(O.project(this._latlng).subtract([this._mRadius,0]));this._point=S.latLngToLayerPoint(this._latlng),this._radius=this._point.x-S.latLngToLayerPoint(We).x}this._updateBounds()}});function ib(p,b,S){return new Zp(p,b,S)}var sa=oa.extend({options:{smoothFactor:1,noClip:!1},initialize:function(p,b){F(this,b),this._setLatLngs(p)},getLatLngs:function(){return this._latlngs},setLatLngs:function(p){return this._setLatLngs(p),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(p){for(var b=1/0,S=null,O=Bu,q,rt,bt=0,Rt=this._parts.length;bt<Rt;bt++)for(var Ht=this._parts[bt],$t=1,we=Ht.length;$t<we;$t++){q=Ht[$t-1],rt=Ht[$t];var We=O(p,q,rt,!0);We<b&&(b=We,S=O(p,q,rt))}return S&&(S.distance=Math.sqrt(b)),S},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return un(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(p,b){return b=b||this._defaultShape(),p=se(p),b.push(p),this._bounds.extend(p),this.redraw()},_setLatLngs:function(p){this._bounds=new te,this._latlngs=this._convertLatLngs(p)},_defaultShape:function(){return kn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(p){for(var b=[],S=kn(p),O=0,q=p.length;O<q;O++)S?(b[O]=se(p[O]),this._bounds.extend(b[O])):b[O]=this._convertLatLngs(p[O]);return b},_project:function(){var p=new Nt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,p),this._bounds.isValid()&&p.isValid()&&(this._rawPxBounds=p,this._updateBounds())},_updateBounds:function(){var p=this._clickTolerance(),b=new Jt(p,p);this._rawPxBounds&&(this._pxBounds=new Nt([this._rawPxBounds.min.subtract(b),this._rawPxBounds.max.add(b)]))},_projectLatlngs:function(p,b,S){var O=p[0]instanceof oe,q=p.length,rt,bt;if(O){for(bt=[],rt=0;rt<q;rt++)bt[rt]=this._map.latLngToLayerPoint(p[rt]),S.extend(bt[rt]);b.push(bt)}else for(rt=0;rt<q;rt++)this._projectLatlngs(p[rt],b,S)},_clipPoints:function(){var p=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(p))){if(this.options.noClip){this._parts=this._rings;return}var b=this._parts,S,O,q,rt,bt,Rt,Ht;for(S=0,q=0,rt=this._rings.length;S<rt;S++)for(Ht=this._rings[S],O=0,bt=Ht.length;O<bt-1;O++)Rt=Mm(Ht[O],Ht[O+1],p,O,!0),Rt&&(b[q]=b[q]||[],b[q].push(Rt[0]),(Rt[1]!==Ht[O+1]||O===bt-2)&&(b[q].push(Rt[1]),q++))}},_simplifyPoints:function(){for(var p=this._parts,b=this.options.smoothFactor,S=0,O=p.length;S<O;S++)p[S]=Nu(p[S],b)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(p,b){var S,O,q,rt,bt,Rt,Ht=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(p))return!1;for(S=0,rt=this._parts.length;S<rt;S++)for(Rt=this._parts[S],O=0,bt=Rt.length,q=bt-1;O<bt;q=O++)if(!(!b&&O===0)&&Gp(p,Rt[q],Rt[O])<=Ht)return!0;return!1}});function nb(p,b){return new sa(p,b)}sa._flat=Im;var Sc=sa.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return zu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(p){var b=sa.prototype._convertLatLngs.call(this,p),S=b.length;return S>=2&&b[0]instanceof oe&&b[0].equals(b[S-1])&&b.pop(),b},_setLatLngs:function(p){sa.prototype._setLatLngs.call(this,p),kn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return kn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var p=this._renderer._bounds,b=this.options.weight,S=new Jt(b,b);if(p=new Nt(p.min.subtract(S),p.max.add(S)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(p))){if(this.options.noClip){this._parts=this._rings;return}for(var O=0,q=this._rings.length,rt;O<q;O++)rt=na(this._rings[O],p,!0),rt.length&&this._parts.push(rt)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(p){var b=!1,S,O,q,rt,bt,Rt,Ht,$t;if(!this._pxBounds||!this._pxBounds.contains(p))return!1;for(rt=0,Ht=this._parts.length;rt<Ht;rt++)for(S=this._parts[rt],bt=0,$t=S.length,Rt=$t-1;bt<$t;Rt=bt++)O=S[bt],q=S[Rt],O.y>p.y!=q.y>p.y&&p.x<(q.x-O.x)*(p.y-O.y)/(q.y-O.y)+O.x&&(b=!b);return b||sa.prototype._containsPoint.call(this,p,!0)}});function ob(p,b){return new Sc(p,b)}var aa=Vn.extend({initialize:function(p,b){F(this,b),this._layers={},p&&this.addData(p)},addData:function(p){var b=j(p)?p:p.features,S,O,q;if(b){for(S=0,O=b.length;S<O;S++)q=b[S],(q.geometries||q.geometry||q.features||q.coordinates)&&this.addData(q);return this}var rt=this.options;if(rt.filter&&!rt.filter(p))return this;var bt=Kh(p,rt);return bt?(bt.feature=$h(p),bt.defaultOptions=bt.options,this.resetStyle(bt),rt.onEachFeature&&rt.onEachFeature(p,bt),this.addLayer(bt)):this},resetStyle:function(p){return p===void 0?this.eachLayer(this.resetStyle,this):(p.options=l({},p.defaultOptions),this._setLayerStyle(p,this.options.style),this)},setStyle:function(p){return this.eachLayer(function(b){this._setLayerStyle(b,p)},this)},_setLayerStyle:function(p,b){p.setStyle&&(typeof b=="function"&&(b=b(p.feature)),p.setStyle(b))}});function Kh(p,b){var S=p.type==="Feature"?p.geometry:p,O=S?S.coordinates:null,q=[],rt=b&&b.pointToLayer,bt=b&&b.coordsToLatLng||Yp,Rt,Ht,$t,we;if(!O&&!S)return null;switch(S.type){case"Point":return Rt=bt(O),zm(rt,p,Rt,b);case"MultiPoint":for($t=0,we=O.length;$t<we;$t++)Rt=bt(O[$t]),q.push(zm(rt,p,Rt,b));return new Vn(q);case"LineString":case"MultiLineString":return Ht=Jh(O,S.type==="LineString"?0:1,bt),new sa(Ht,b);case"Polygon":case"MultiPolygon":return Ht=Jh(O,S.type==="Polygon"?1:2,bt),new Sc(Ht,b);case"GeometryCollection":for($t=0,we=S.geometries.length;$t<we;$t++){var We=Kh({geometry:S.geometries[$t],type:"Feature",properties:p.properties},b);We&&q.push(We)}return new Vn(q);case"FeatureCollection":for($t=0,we=S.features.length;$t<we;$t++){var hr=Kh(S.features[$t],b);hr&&q.push(hr)}return new Vn(q);default:throw new Error("Invalid GeoJSON object.")}}function zm(p,b,S,O){return p?p(b,S):new Il(S,O&&O.markersInheritOptions&&O)}function Yp(p){return new oe(p[1],p[0],p[2])}function Jh(p,b,S){for(var O=[],q=0,rt=p.length,bt;q<rt;q++)bt=b?Jh(p[q],b-1,S):(S||Yp)(p[q]),O.push(bt);return O}function Xp(p,b){return p=se(p),p.alt!==void 0?[C(p.lng,b),C(p.lat,b),C(p.alt,b)]:[C(p.lng,b),C(p.lat,b)]}function Qh(p,b,S,O){for(var q=[],rt=0,bt=p.length;rt<bt;rt++)q.push(b?Qh(p[rt],kn(p[rt])?0:b-1,S,O):Xp(p[rt],O));return!b&&S&&q.length>0&&q.push(q[0].slice()),q}function Cc(p,b){return p.feature?l({},p.feature,{geometry:b}):$h(b)}function $h(p){return p.type==="Feature"||p.type==="FeatureCollection"?p:{type:"Feature",properties:{},geometry:p}}var ju={toGeoJSON:function(p){return Cc(this,{type:"Point",coordinates:Xp(this.getLatLng(),p)})}};Il.include(ju),Zp.include(ju),Xh.include(ju),sa.include({toGeoJSON:function(p){var b=!kn(this._latlngs),S=Qh(this._latlngs,b?1:0,!1,p);return Cc(this,{type:(b?"Multi":"")+"LineString",coordinates:S})}}),Sc.include({toGeoJSON:function(p){var b=!kn(this._latlngs),S=b&&!kn(this._latlngs[0]),O=Qh(this._latlngs,S?2:b?1:0,!0,p);return b||(O=[O]),Cc(this,{type:(S?"Multi":"")+"Polygon",coordinates:O})}}),Ml.include({toMultiPoint:function(p){var b=[];return this.eachLayer(function(S){b.push(S.toGeoJSON(p).geometry.coordinates)}),Cc(this,{type:"MultiPoint",coordinates:b})},toGeoJSON:function(p){var b=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(b==="MultiPoint")return this.toMultiPoint(p);var S=b==="GeometryCollection",O=[];return this.eachLayer(function(q){if(q.toGeoJSON){var rt=q.toGeoJSON(p);if(S)O.push(rt.geometry);else{var bt=$h(rt);bt.type==="FeatureCollection"?O.push.apply(O,bt.features):O.push(bt)}}}),S?Cc(this,{geometries:O,type:"GeometryCollection"}):{type:"FeatureCollection",features:O}}});function td(p,b){return new aa(p,b)}var sb=td,la=bo.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(p,b,S){this._url=p,this._bounds=de(b),F(this,S)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(cr(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ki(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(p){return this.options.opacity=p,this._image&&this._updateOpacity(),this},setStyle:function(p){return p.opacity&&this.setOpacity(p.opacity),this},bringToFront:function(){return this._map&&ja(this._image),this},bringToBack:function(){return this._map&&Ha(this._image),this},setUrl:function(p){return this._url=p,this._image&&(this._image.src=p),this},setBounds:function(p){return this._bounds=de(p),this._map&&this._reset(),this},getEvents:function(){var p={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},setZIndex:function(p){return this.options.zIndex=p,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var p=this._url.tagName==="IMG",b=this._image=p?this._url:ei("img");if(cr(b,"leaflet-image-layer"),this._zoomAnimated&&cr(b,"leaflet-zoom-animated"),this.options.className&&cr(b,this.options.className),b.onselectstart=k,b.onmousemove=k,b.onload=d(this.fire,this,"load"),b.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),p){this._url=b.src;return}b.src=this._url,b.alt=this.options.alt},_animateZoom:function(p){var b=this._map.getZoomScale(p.zoom),S=this._map._latLngBoundsToNewLayerBounds(this._bounds,p.zoom,p.center).min;_l(this._image,S,b)},_reset:function(){var p=this._image,b=new Nt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),S=b.getSize();Ki(p,b.min),p.style.width=S.x+"px",p.style.height=S.y+"px"},_updateOpacity:function(){ir(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var p=this.options.errorOverlayUrl;p&&this._url!==p&&(this._url=p,this._image.src=p)},getCenter:function(){return this._bounds.getCenter()}}),ab=function(p,b,S){return new la(p,b,S)},Kp=la.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var p=this._url.tagName==="VIDEO",b=this._image=p?this._url:ei("video");if(cr(b,"leaflet-image-layer"),this._zoomAnimated&&cr(b,"leaflet-zoom-animated"),this.options.className&&cr(b,this.options.className),b.onselectstart=k,b.onmousemove=k,b.onloadeddata=d(this.fire,this,"load"),p){for(var S=b.getElementsByTagName("source"),O=[],q=0;q<S.length;q++)O.push(S[q].src);this._url=S.length>0?O:[b.src];return}j(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(b.style,"objectFit")&&(b.style.objectFit="fill"),b.autoplay=!!this.options.autoplay,b.loop=!!this.options.loop,b.muted=!!this.options.muted,b.playsInline=!!this.options.playsInline;for(var rt=0;rt<this._url.length;rt++){var bt=ei("source");bt.src=this._url[rt],b.appendChild(bt)}}});function Nm(p,b,S){return new Kp(p,b,S)}var Pc=la.extend({_initImage:function(){var p=this._image=this._url;cr(p,"leaflet-image-layer"),this._zoomAnimated&&cr(p,"leaflet-zoom-animated"),this.options.className&&cr(p,this.options.className),p.onselectstart=k,p.onmousemove=k}});function lb(p,b,S){return new Pc(p,b,S)}var dn=bo.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(p,b){p&&(p instanceof oe||j(p))?(this._latlng=se(p),F(this,b)):(F(this,p),this._source=b),this.options.content&&(this._content=this.options.content)},openOn:function(p){return p=arguments.length?p:this._source._map,p.hasLayer(this)||p.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(p){return this._map?this.close():(arguments.length?this._source=p:p=this._source,this._prepareOpen(),this.openOn(p._map)),this},onAdd:function(p){this._zoomAnimated=p._zoomAnimated,this._container||this._initLayout(),p._fadeAnimated&&ir(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),p._fadeAnimated&&ir(this._container,1),this.bringToFront(),this.options.interactive&&(cr(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(p){p._fadeAnimated?(ir(this._container,0),this._removeTimeout=setTimeout(d(ki,void 0,this._container),200)):ki(this._container),this.options.interactive&&(Ye(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(p){return this._latlng=se(p),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(p){return this._content=p,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var p={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ja(this._container),this},bringToBack:function(){return this._map&&Ha(this._container),this},_prepareOpen:function(p){var b=this._source;if(!b._map)return!1;if(b instanceof Vn){b=null;var S=this._source._layers;for(var O in S)if(S[O]._map){b=S[O];break}if(!b)return!1;this._source=b}if(!p)if(b.getCenter)p=b.getCenter();else if(b.getLatLng)p=b.getLatLng();else if(b.getBounds)p=b.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(p),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var p=this._contentNode,b=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof b=="string")p.innerHTML=b;else{for(;p.hasChildNodes();)p.removeChild(p.firstChild);p.appendChild(b)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var p=this._map.latLngToLayerPoint(this._latlng),b=xt(this.options.offset),S=this._getAnchor();this._zoomAnimated?Ki(this._container,p.add(S)):b=b.add(p).add(S);var O=this._containerBottom=-b.y,q=this._containerLeft=-Math.round(this._containerWidth/2)+b.x;this._container.style.bottom=O+"px",this._container.style.left=q+"px"}},_getAnchor:function(){return[0,0]}});Zr.include({_initOverlay:function(p,b,S,O){var q=b;return q instanceof p||(q=new p(O).setContent(b)),S&&q.setLatLng(S),q}}),bo.include({_initOverlay:function(p,b,S,O){var q=S;return q instanceof p?(F(q,O),q._source=this):(q=b&&!O?b:new p(O,this),q.setContent(S)),q}});var Hu=dn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(p){return p=arguments.length?p:this._source._map,!p.hasLayer(this)&&p._popup&&p._popup.options.autoClose&&p.removeLayer(p._popup),p._popup=this,dn.prototype.openOn.call(this,p)},onAdd:function(p){dn.prototype.onAdd.call(this,p),p.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof oa||this._source.on("preclick",El))},onRemove:function(p){dn.prototype.onRemove.call(this,p),p.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof oa||this._source.off("preclick",El))},getEvents:function(){var p=dn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(p.preclick=this.close),this.options.keepInView&&(p.moveend=this._adjustPan),p},_initLayout:function(){var p="leaflet-popup",b=this._container=ei("div",p+" "+(this.options.className||"")+" leaflet-zoom-animated"),S=this._wrapper=ei("div",p+"-content-wrapper",b);if(this._contentNode=ei("div",p+"-content",S),kc(b),Fp(this._contentNode),or(b,"contextmenu",El),this._tipContainer=ei("div",p+"-tip-container",b),this._tip=ei("div",p+"-tip",this._tipContainer),this.options.closeButton){var O=this._closeButton=ei("a",p+"-close-button",b);O.setAttribute("role","button"),O.setAttribute("aria-label","Close popup"),O.href="#close",O.innerHTML='<span aria-hidden="true">&#215;</span>',or(O,"click",function(q){Qi(q),this.close()},this)}},_updateLayout:function(){var p=this._contentNode,b=p.style;b.width="",b.whiteSpace="nowrap";var S=p.offsetWidth;S=Math.min(S,this.options.maxWidth),S=Math.max(S,this.options.minWidth),b.width=S+1+"px",b.whiteSpace="",b.height="";var O=p.offsetHeight,q=this.options.maxHeight,rt="leaflet-popup-scrolled";q&&O>q?(b.height=q+"px",cr(p,rt)):Ye(p,rt),this._containerWidth=this._container.offsetWidth},_animateZoom:function(p){var b=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center),S=this._getAnchor();Ki(this._container,b.add(S))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var p=this._map,b=parseInt(mc(this._container,"marginBottom"),10)||0,S=this._container.offsetHeight+b,O=this._containerWidth,q=new Jt(this._containerLeft,-S-this._containerBottom);q._add(Si(this._container));var rt=p.layerPointToContainerPoint(q),bt=xt(this.options.autoPanPadding),Rt=xt(this.options.autoPanPaddingTopLeft||bt),Ht=xt(this.options.autoPanPaddingBottomRight||bt),$t=p.getSize(),we=0,We=0;rt.x+O+Ht.x>$t.x&&(we=rt.x+O-$t.x+Ht.x),rt.x-we-Rt.x<0&&(we=rt.x-Rt.x),rt.y+S+Ht.y>$t.y&&(We=rt.y+S-$t.y+Ht.y),rt.y-We-Rt.y<0&&(We=rt.y-Rt.y),(we||We)&&(this.options.keepInView&&(this._autopanning=!0),p.fire("autopanstart").panBy([we,We]))}},_getAnchor:function(){return xt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ca=function(p,b){return new Hu(p,b)};Zr.mergeOptions({closePopupOnClick:!0}),Zr.include({openPopup:function(p,b,S){return this._initOverlay(Hu,p,b,S).openOn(this),this},closePopup:function(p){return p=arguments.length?p:this._popup,p&&p.close(),this}}),bo.include({bindPopup:function(p,b){return this._popup=this._initOverlay(Hu,this._popup,p,b),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(p){return this._popup&&(this instanceof Vn||(this._popup._source=this),this._popup._prepareOpen(p||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(p){return this._popup&&this._popup.setContent(p),this},getPopup:function(){return this._popup},_openPopup:function(p){if(!(!this._popup||!this._map)){Tl(p);var b=p.layer||p.target;if(this._popup._source===b&&!(b instanceof oa)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(p.latlng);return}this._popup._source=b,this.openPopup(p.latlng)}},_movePopup:function(p){this._popup.setLatLng(p.latlng)},_onKeyPress:function(p){p.originalEvent.keyCode===13&&this._openPopup(p)}});var Ll=dn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(p){dn.prototype.onAdd.call(this,p),this.setOpacity(this.options.opacity),p.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(p){dn.prototype.onRemove.call(this,p),p.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var p=dn.prototype.getEvents.call(this);return this.options.permanent||(p.preclick=this.close),p},_initLayout:function(){var p="leaflet-tooltip",b=p+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ei("div",b),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(p){var b,S,O=this._map,q=this._container,rt=O.latLngToContainerPoint(O.getCenter()),bt=O.layerPointToContainerPoint(p),Rt=this.options.direction,Ht=q.offsetWidth,$t=q.offsetHeight,we=xt(this.options.offset),We=this._getAnchor();Rt==="top"?(b=Ht/2,S=$t):Rt==="bottom"?(b=Ht/2,S=0):Rt==="center"?(b=Ht/2,S=$t/2):Rt==="right"?(b=0,S=$t/2):Rt==="left"?(b=Ht,S=$t/2):bt.x<rt.x?(Rt="right",b=0,S=$t/2):(Rt="left",b=Ht+(we.x+We.x)*2,S=$t/2),p=p.subtract(xt(b,S,!0)).add(we).add(We),Ye(q,"leaflet-tooltip-right"),Ye(q,"leaflet-tooltip-left"),Ye(q,"leaflet-tooltip-top"),Ye(q,"leaflet-tooltip-bottom"),cr(q,"leaflet-tooltip-"+Rt),Ki(q,p)},_updatePosition:function(){var p=this._map.latLngToLayerPoint(this._latlng);this._setPosition(p)},setOpacity:function(p){this.options.opacity=p,this._container&&ir(this._container,p)},_animateZoom:function(p){var b=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center);this._setPosition(b)},_getAnchor:function(){return xt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Dm=function(p,b){return new Ll(p,b)};Zr.include({openTooltip:function(p,b,S){return this._initOverlay(Ll,p,b,S).openOn(this),this},closeTooltip:function(p){return p.close(),this}}),bo.include({bindTooltip:function(p,b){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ll,this._tooltip,p,b),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(p){if(!(!p&&this._tooltipHandlersAdded)){var b=p?"off":"on",S={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?S.add=this._openTooltip:(S.mouseover=this._openTooltip,S.mouseout=this.closeTooltip,S.click=this._openTooltip,this._map?this._addFocusListeners():S.add=this._addFocusListeners),this._tooltip.options.sticky&&(S.mousemove=this._moveTooltip),this[b](S),this._tooltipHandlersAdded=!p}},openTooltip:function(p){return this._tooltip&&(this instanceof Vn||(this._tooltip._source=this),this._tooltip._prepareOpen(p)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(p){return this._tooltip&&this._tooltip.setContent(p),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(p){var b=typeof p.getElement=="function"&&p.getElement();b&&(or(b,"focus",function(){this._tooltip._source=p,this.openTooltip()},this),or(b,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(p){var b=typeof p.getElement=="function"&&p.getElement();b&&b.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(p){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var b=this;this._map.once("moveend",function(){b._openOnceFlag=!1,b._openTooltip(p)});return}this._tooltip._source=p.layer||p.target,this.openTooltip(this._tooltip.options.sticky?p.latlng:void 0)}},_moveTooltip:function(p){var b=p.latlng,S,O;this._tooltip.options.sticky&&p.originalEvent&&(S=this._map.mouseEventToContainerPoint(p.originalEvent),O=this._map.containerPointToLayerPoint(S),b=this._map.layerPointToLatLng(O)),this._tooltip.setLatLng(b)}});var Jp=Cs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(p){var b=p&&p.tagName==="DIV"?p:document.createElement("div"),S=this.options;if(S.html instanceof Element?(Pu(b),b.appendChild(S.html)):b.innerHTML=S.html!==!1?S.html:"",S.bgPos){var O=xt(S.bgPos);b.style.backgroundPosition=-O.x+"px "+-O.y+"px"}return this._setIconStyles(b,"icon"),b},createShadow:function(){return null}});function Qp(p){return new Jp(p)}Cs.Default=Tc;var Uu=bo.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ze.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(p){F(this,p)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(p){p._addZoomLimit(this)},onRemove:function(p){this._removeAllTiles(),ki(this._container),p._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ja(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ha(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(p){return this.options.opacity=p,this._updateOpacity(),this},setZIndex:function(p){return this.options.zIndex=p,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var p=this._clampZoom(this._map.getZoom());p!==this._tileZoom&&(this._tileZoom=p,this._updateLevels()),this._update()}return this},getEvents:function(){var p={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),p.move=this._onMove),this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},createTile:function(){return document.createElement("div")},getTileSize:function(){var p=this.options.tileSize;return p instanceof Jt?p:new Jt(p,p)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(p){for(var b=this.getPane().children,S=-p(-1/0,1/0),O=0,q=b.length,rt;O<q;O++)rt=b[O].style.zIndex,b[O]!==this._container&&rt&&(S=p(S,+rt));isFinite(S)&&(this.options.zIndex=S+p(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ze.ielt9){ir(this._container,this.options.opacity);var p=+new Date,b=!1,S=!1;for(var O in this._tiles){var q=this._tiles[O];if(!(!q.current||!q.loaded)){var rt=Math.min(1,(p-q.loaded)/200);ir(q.el,rt),rt<1?b=!0:(q.active?S=!0:this._onOpaqueTile(q),q.active=!0)}}S&&!this._noPrune&&this._pruneTiles(),b&&(vt(this._fadeFrame),this._fadeFrame=ft(this._updateOpacity,this))}},_onOpaqueTile:k,_initContainer:function(){this._container||(this._container=ei("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var p=this._tileZoom,b=this.options.maxZoom;if(p!==void 0){for(var S in this._levels)S=Number(S),this._levels[S].el.children.length||S===p?(this._levels[S].el.style.zIndex=b-Math.abs(p-S),this._onUpdateLevel(S)):(ki(this._levels[S].el),this._removeTilesAtZoom(S),this._onRemoveLevel(S),delete this._levels[S]);var O=this._levels[p],q=this._map;return O||(O=this._levels[p]={},O.el=ei("div","leaflet-tile-container leaflet-zoom-animated",this._container),O.el.style.zIndex=b,O.origin=q.project(q.unproject(q.getPixelOrigin()),p).round(),O.zoom=p,this._setZoomTransform(O,q.getCenter(),q.getZoom()),k(O.el.offsetWidth),this._onCreateLevel(O)),this._level=O,O}},_onUpdateLevel:k,_onRemoveLevel:k,_onCreateLevel:k,_pruneTiles:function(){if(this._map){var p,b,S=this._map.getZoom();if(S>this.options.maxZoom||S<this.options.minZoom){this._removeAllTiles();return}for(p in this._tiles)b=this._tiles[p],b.retain=b.current;for(p in this._tiles)if(b=this._tiles[p],b.current&&!b.active){var O=b.coords;this._retainParent(O.x,O.y,O.z,O.z-5)||this._retainChildren(O.x,O.y,O.z,O.z+2)}for(p in this._tiles)this._tiles[p].retain||this._removeTile(p)}},_removeTilesAtZoom:function(p){for(var b in this._tiles)this._tiles[b].coords.z===p&&this._removeTile(b)},_removeAllTiles:function(){for(var p in this._tiles)this._removeTile(p)},_invalidateAll:function(){for(var p in this._levels)ki(this._levels[p].el),this._onRemoveLevel(Number(p)),delete this._levels[p];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(p,b,S,O){var q=Math.floor(p/2),rt=Math.floor(b/2),bt=S-1,Rt=new Jt(+q,+rt);Rt.z=+bt;var Ht=this._tileCoordsToKey(Rt),$t=this._tiles[Ht];return $t&&$t.active?($t.retain=!0,!0):($t&&$t.loaded&&($t.retain=!0),bt>O?this._retainParent(q,rt,bt,O):!1)},_retainChildren:function(p,b,S,O){for(var q=2*p;q<2*p+2;q++)for(var rt=2*b;rt<2*b+2;rt++){var bt=new Jt(q,rt);bt.z=S+1;var Rt=this._tileCoordsToKey(bt),Ht=this._tiles[Rt];if(Ht&&Ht.active){Ht.retain=!0;continue}else Ht&&Ht.loaded&&(Ht.retain=!0);S+1<O&&this._retainChildren(q,rt,S+1,O)}},_resetView:function(p){var b=p&&(p.pinch||p.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),b,b)},_animateZoom:function(p){this._setView(p.center,p.zoom,!0,p.noUpdate)},_clampZoom:function(p){var b=this.options;return b.minNativeZoom!==void 0&&p<b.minNativeZoom?b.minNativeZoom:b.maxNativeZoom!==void 0&&b.maxNativeZoom<p?b.maxNativeZoom:p},_setView:function(p,b,S,O){var q=Math.round(b);this.options.maxZoom!==void 0&&q>this.options.maxZoom||this.options.minZoom!==void 0&&q<this.options.minZoom?q=void 0:q=this._clampZoom(q);var rt=this.options.updateWhenZooming&&q!==this._tileZoom;(!O||rt)&&(this._tileZoom=q,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),q!==void 0&&this._update(p),S||this._pruneTiles(),this._noPrune=!!S),this._setZoomTransforms(p,b)},_setZoomTransforms:function(p,b){for(var S in this._levels)this._setZoomTransform(this._levels[S],p,b)},_setZoomTransform:function(p,b,S){var O=this._map.getZoomScale(S,p.zoom),q=p.origin.multiplyBy(O).subtract(this._map._getNewPixelOrigin(b,S)).round();ze.any3d?_l(p.el,q,O):Ki(p.el,q)},_resetGrid:function(){var p=this._map,b=p.options.crs,S=this._tileSize=this.getTileSize(),O=this._tileZoom,q=this._map.getPixelWorldBounds(this._tileZoom);q&&(this._globalTileRange=this._pxBoundsToTileRange(q)),this._wrapX=b.wrapLng&&!this.options.noWrap&&[Math.floor(p.project([0,b.wrapLng[0]],O).x/S.x),Math.ceil(p.project([0,b.wrapLng[1]],O).x/S.y)],this._wrapY=b.wrapLat&&!this.options.noWrap&&[Math.floor(p.project([b.wrapLat[0],0],O).y/S.x),Math.ceil(p.project([b.wrapLat[1],0],O).y/S.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(p){var b=this._map,S=b._animatingZoom?Math.max(b._animateToZoom,b.getZoom()):b.getZoom(),O=b.getZoomScale(S,this._tileZoom),q=b.project(p,this._tileZoom).floor(),rt=b.getSize().divideBy(O*2);return new Nt(q.subtract(rt),q.add(rt))},_update:function(p){var b=this._map;if(b){var S=this._clampZoom(b.getZoom());if(p===void 0&&(p=b.getCenter()),this._tileZoom!==void 0){var O=this._getTiledPixelBounds(p),q=this._pxBoundsToTileRange(O),rt=q.getCenter(),bt=[],Rt=this.options.keepBuffer,Ht=new Nt(q.getBottomLeft().subtract([Rt,-Rt]),q.getTopRight().add([Rt,-Rt]));if(!(isFinite(q.min.x)&&isFinite(q.min.y)&&isFinite(q.max.x)&&isFinite(q.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var $t in this._tiles){var we=this._tiles[$t].coords;(we.z!==this._tileZoom||!Ht.contains(new Jt(we.x,we.y)))&&(this._tiles[$t].current=!1)}if(Math.abs(S-this._tileZoom)>1){this._setView(p,S);return}for(var We=q.min.y;We<=q.max.y;We++)for(var hr=q.min.x;hr<=q.max.x;hr++){var Rn=new Jt(hr,We);if(Rn.z=this._tileZoom,!!this._isValidTile(Rn)){var tn=this._tiles[this._tileCoordsToKey(Rn)];tn?tn.current=!0:bt.push(Rn)}}if(bt.sort(function(Wn,Al){return Wn.distanceTo(rt)-Al.distanceTo(rt)}),bt.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var An=document.createDocumentFragment();for(hr=0;hr<bt.length;hr++)this._addTile(bt[hr],An);this._level.el.appendChild(An)}}}},_isValidTile:function(p){var b=this._map.options.crs;if(!b.infinite){var S=this._globalTileRange;if(!b.wrapLng&&(p.x<S.min.x||p.x>S.max.x)||!b.wrapLat&&(p.y<S.min.y||p.y>S.max.y))return!1}if(!this.options.bounds)return!0;var O=this._tileCoordsToBounds(p);return de(this.options.bounds).overlaps(O)},_keyToBounds:function(p){return this._tileCoordsToBounds(this._keyToTileCoords(p))},_tileCoordsToNwSe:function(p){var b=this._map,S=this.getTileSize(),O=p.scaleBy(S),q=O.add(S),rt=b.unproject(O,p.z),bt=b.unproject(q,p.z);return[rt,bt]},_tileCoordsToBounds:function(p){var b=this._tileCoordsToNwSe(p),S=new te(b[0],b[1]);return this.options.noWrap||(S=this._map.wrapLatLngBounds(S)),S},_tileCoordsToKey:function(p){return p.x+":"+p.y+":"+p.z},_keyToTileCoords:function(p){var b=p.split(":"),S=new Jt(+b[0],+b[1]);return S.z=+b[2],S},_removeTile:function(p){var b=this._tiles[p];b&&(ki(b.el),delete this._tiles[p],this.fire("tileunload",{tile:b.el,coords:this._keyToTileCoords(p)}))},_initTile:function(p){cr(p,"leaflet-tile");var b=this.getTileSize();p.style.width=b.x+"px",p.style.height=b.y+"px",p.onselectstart=k,p.onmousemove=k,ze.ielt9&&this.options.opacity<1&&ir(p,this.options.opacity)},_addTile:function(p,b){var S=this._getTilePos(p),O=this._tileCoordsToKey(p),q=this.createTile(this._wrapCoords(p),d(this._tileReady,this,p));this._initTile(q),this.createTile.length<2&&ft(d(this._tileReady,this,p,null,q)),Ki(q,S),this._tiles[O]={el:q,coords:p,current:!0},b.appendChild(q),this.fire("tileloadstart",{tile:q,coords:p})},_tileReady:function(p,b,S){b&&this.fire("tileerror",{error:b,tile:S,coords:p});var O=this._tileCoordsToKey(p);S=this._tiles[O],S&&(S.loaded=+new Date,this._map._fadeAnimated?(ir(S.el,0),vt(this._fadeFrame),this._fadeFrame=ft(this._updateOpacity,this)):(S.active=!0,this._pruneTiles()),b||(cr(S.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:S.el,coords:p})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ze.ielt9||!this._map._fadeAnimated?ft(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(p){return p.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(p){var b=new Jt(this._wrapX?_(p.x,this._wrapX):p.x,this._wrapY?_(p.y,this._wrapY):p.y);return b.z=p.z,b},_pxBoundsToTileRange:function(p){var b=this.getTileSize();return new Nt(p.min.unscaleBy(b).floor(),p.max.unscaleBy(b).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var p in this._tiles)if(!this._tiles[p].loaded)return!1;return!0}});function Fm(p){return new Uu(p)}var Rl=Uu.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(p,b){this._url=p,b=F(this,b),b.detectRetina&&ze.retina&&b.maxZoom>0?(b.tileSize=Math.floor(b.tileSize/2),b.zoomReverse?(b.zoomOffset--,b.minZoom=Math.min(b.maxZoom,b.minZoom+1)):(b.zoomOffset++,b.maxZoom=Math.max(b.minZoom,b.maxZoom-1)),b.minZoom=Math.max(0,b.minZoom)):b.zoomReverse?b.minZoom=Math.min(b.maxZoom,b.minZoom):b.maxZoom=Math.max(b.minZoom,b.maxZoom),typeof b.subdomains=="string"&&(b.subdomains=b.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(p,b){return this._url===p&&b===void 0&&(b=!0),this._url=p,b||this.redraw(),this},createTile:function(p,b){var S=document.createElement("img");return or(S,"load",d(this._tileOnLoad,this,b,S)),or(S,"error",d(this._tileOnError,this,b,S)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(S.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(S.referrerPolicy=this.options.referrerPolicy),S.alt="",S.src=this.getTileUrl(p),S},getTileUrl:function(p){var b={r:ze.retina?"@2x":"",s:this._getSubdomain(p),x:p.x,y:p.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var S=this._globalTileRange.max.y-p.y;this.options.tms&&(b.y=S),b["-y"]=S}return W(this._url,l(b,this.options))},_tileOnLoad:function(p,b){ze.ielt9?setTimeout(d(p,this,null,b),0):p(null,b)},_tileOnError:function(p,b,S){var O=this.options.errorTileUrl;O&&b.getAttribute("src")!==O&&(b.src=O),p(S,b)},_onTileRemove:function(p){p.tile.onload=null},_getZoomForUrl:function(){var p=this._tileZoom,b=this.options.maxZoom,S=this.options.zoomReverse,O=this.options.zoomOffset;return S&&(p=b-p),p+O},_getSubdomain:function(p){var b=Math.abs(p.x+p.y)%this.options.subdomains.length;return this.options.subdomains[b]},_abortLoading:function(){var p,b;for(p in this._tiles)if(this._tiles[p].coords.z!==this._tileZoom&&(b=this._tiles[p].el,b.onload=k,b.onerror=k,!b.complete)){b.src=nt;var S=this._tiles[p].coords;ki(b),delete this._tiles[p],this.fire("tileabort",{tile:b,coords:S})}},_removeTile:function(p){var b=this._tiles[p];if(b)return b.el.setAttribute("src",nt),Uu.prototype._removeTile.call(this,p)},_tileReady:function(p,b,S){if(!(!this._map||S&&S.getAttribute("src")===nt))return Uu.prototype._tileReady.call(this,p,b,S)}});function $p(p,b){return new Rl(p,b)}var ed=Rl.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(p,b){this._url=p;var S=l({},this.defaultWmsParams);for(var O in b)O in this.options||(S[O]=b[O]);b=F(this,b);var q=b.detectRetina&&ze.retina?2:1,rt=this.getTileSize();S.width=rt.x*q,S.height=rt.y*q,this.wmsParams=S},onAdd:function(p){this._crs=this.options.crs||p.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var b=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[b]=this._crs.code,Rl.prototype.onAdd.call(this,p)},getTileUrl:function(p){var b=this._tileCoordsToNwSe(p),S=this._crs,O=Vt(S.project(b[0]),S.project(b[1])),q=O.min,rt=O.max,bt=(this._wmsVersion>=1.3&&this._crs===Ec?[q.y,q.x,rt.y,rt.x]:[q.x,q.y,rt.x,rt.y]).join(","),Rt=Rl.prototype.getTileUrl.call(this,p);return Rt+G(this.wmsParams,Rt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+bt},setParams:function(p,b){return l(this.wmsParams,p),b||this.redraw(),this}});function Bm(p,b){return new ed(p,b)}Rl.WMS=ed,$p.wms=Bm;var Ps=bo.extend({options:{padding:.1},initialize:function(p){F(this,p),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),cr(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var p={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(p.zoomanim=this._onAnimZoom),p},_onAnimZoom:function(p){this._updateTransform(p.center,p.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(p,b){var S=this._map.getZoomScale(b,this._zoom),O=this._map.getSize().multiplyBy(.5+this.options.padding),q=this._map.project(this._center,b),rt=O.multiplyBy(-S).add(q).subtract(this._map._getNewPixelOrigin(p,b));ze.any3d?_l(this._container,rt,S):Ki(this._container,rt)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var p in this._layers)this._layers[p]._reset()},_onZoomEnd:function(){for(var p in this._layers)this._layers[p]._project()},_updatePaths:function(){for(var p in this._layers)this._layers[p]._update()},_update:function(){var p=this.options.padding,b=this._map.getSize(),S=this._map.containerPointToLayerPoint(b.multiplyBy(-p)).round();this._bounds=new Nt(S,S.add(b.multiplyBy(1+p*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),rd=Ps.extend({options:{tolerance:0},getEvents:function(){var p=Ps.prototype.getEvents.call(this);return p.viewprereset=this._onViewPreReset,p},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ps.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var p=this._container=document.createElement("canvas");or(p,"mousemove",this._onMouseMove,this),or(p,"click dblclick mousedown mouseup contextmenu",this._onClick,this),or(p,"mouseout",this._handleMouseOut,this),p._leaflet_disable_events=!0,this._ctx=p.getContext("2d")},_destroyContainer:function(){vt(this._redrawRequest),delete this._ctx,ki(this._container),ui(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var p;this._redrawBounds=null;for(var b in this._layers)p=this._layers[b],p._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ps.prototype._update.call(this);var p=this._bounds,b=this._container,S=p.getSize(),O=ze.retina?2:1;Ki(b,p.min),b.width=O*S.x,b.height=O*S.y,b.style.width=S.x+"px",b.style.height=S.y+"px",ze.retina&&this._ctx.scale(2,2),this._ctx.translate(-p.min.x,-p.min.y),this.fire("update")}},_reset:function(){Ps.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(p){this._updateDashArray(p),this._layers[m(p)]=p;var b=p._order={layer:p,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=b),this._drawLast=b,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(p){this._requestRedraw(p)},_removePath:function(p){var b=p._order,S=b.next,O=b.prev;S?S.prev=O:this._drawLast=O,O?O.next=S:this._drawFirst=S,delete p._order,delete this._layers[m(p)],this._requestRedraw(p)},_updatePath:function(p){this._extendRedrawBounds(p),p._project(),p._update(),this._requestRedraw(p)},_updateStyle:function(p){this._updateDashArray(p),this._requestRedraw(p)},_updateDashArray:function(p){if(typeof p.options.dashArray=="string"){var b=p.options.dashArray.split(/[, ]+/),S=[],O,q;for(q=0;q<b.length;q++){if(O=Number(b[q]),isNaN(O))return;S.push(O)}p.options._dashArray=S}else p.options._dashArray=p.options.dashArray},_requestRedraw:function(p){this._map&&(this._extendRedrawBounds(p),this._redrawRequest=this._redrawRequest||ft(this._redraw,this))},_extendRedrawBounds:function(p){if(p._pxBounds){var b=(p.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Nt,this._redrawBounds.extend(p._pxBounds.min.subtract([b,b])),this._redrawBounds.extend(p._pxBounds.max.add([b,b]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var p=this._redrawBounds;if(p){var b=p.getSize();this._ctx.clearRect(p.min.x,p.min.y,b.x,b.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var p,b=this._redrawBounds;if(this._ctx.save(),b){var S=b.getSize();this._ctx.beginPath(),this._ctx.rect(b.min.x,b.min.y,S.x,S.y),this._ctx.clip()}this._drawing=!0;for(var O=this._drawFirst;O;O=O.next)p=O.layer,(!b||p._pxBounds&&p._pxBounds.intersects(b))&&p._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(p,b){if(this._drawing){var S,O,q,rt,bt=p._parts,Rt=bt.length,Ht=this._ctx;if(Rt){for(Ht.beginPath(),S=0;S<Rt;S++){for(O=0,q=bt[S].length;O<q;O++)rt=bt[S][O],Ht[O?"lineTo":"moveTo"](rt.x,rt.y);b&&Ht.closePath()}this._fillStroke(Ht,p)}}},_updateCircle:function(p){if(!(!this._drawing||p._empty())){var b=p._point,S=this._ctx,O=Math.max(Math.round(p._radius),1),q=(Math.max(Math.round(p._radiusY),1)||O)/O;q!==1&&(S.save(),S.scale(1,q)),S.beginPath(),S.arc(b.x,b.y/q,O,0,Math.PI*2,!1),q!==1&&S.restore(),this._fillStroke(S,p)}},_fillStroke:function(p,b){var S=b.options;S.fill&&(p.globalAlpha=S.fillOpacity,p.fillStyle=S.fillColor||S.color,p.fill(S.fillRule||"evenodd")),S.stroke&&S.weight!==0&&(p.setLineDash&&p.setLineDash(b.options&&b.options._dashArray||[]),p.globalAlpha=S.opacity,p.lineWidth=S.weight,p.strokeStyle=S.color,p.lineCap=S.lineCap,p.lineJoin=S.lineJoin,p.stroke())},_onClick:function(p){for(var b=this._map.mouseEventToLayerPoint(p),S,O,q=this._drawFirst;q;q=q.next)S=q.layer,S.options.interactive&&S._containsPoint(b)&&(!(p.type==="click"||p.type==="preclick")||!this._map._draggableMoved(S))&&(O=S);this._fireEvent(O?[O]:!1,p)},_onMouseMove:function(p){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var b=this._map.mouseEventToLayerPoint(p);this._handleMouseHover(p,b)}},_handleMouseOut:function(p){var b=this._hoveredLayer;b&&(Ye(this._container,"leaflet-interactive"),this._fireEvent([b],p,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(p,b){if(!this._mouseHoverThrottled){for(var S,O,q=this._drawFirst;q;q=q.next)S=q.layer,S.options.interactive&&S._containsPoint(b)&&(O=S);O!==this._hoveredLayer&&(this._handleMouseOut(p),O&&(cr(this._container,"leaflet-interactive"),this._fireEvent([O],p,"mouseover"),this._hoveredLayer=O)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,p),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(p,b,S){this._map._fireDOMEvent(b,S||b.type,p)},_bringToFront:function(p){var b=p._order;if(b){var S=b.next,O=b.prev;if(S)S.prev=O;else return;O?O.next=S:S&&(this._drawFirst=S),b.prev=this._drawLast,this._drawLast.next=b,b.next=null,this._drawLast=b,this._requestRedraw(p)}},_bringToBack:function(p){var b=p._order;if(b){var S=b.next,O=b.prev;if(O)O.next=S;else return;S?S.prev=O:O&&(this._drawLast=O),b.prev=null,b.next=this._drawFirst,this._drawFirst.prev=b,this._drawFirst=b,this._requestRedraw(p)}}});function id(p){return ze.canvas?new rd(p):null}var Mc=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(p){return document.createElement("<lvml:"+p+' class="lvml">')}}catch{}return function(p){return document.createElement("<"+p+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),eo={_initContainer:function(){this._container=ei("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ps.prototype._update.call(this),this.fire("update"))},_initPath:function(p){var b=p._container=Mc("shape");cr(b,"leaflet-vml-shape "+(this.options.className||"")),b.coordsize="1 1",p._path=Mc("path"),b.appendChild(p._path),this._updateStyle(p),this._layers[m(p)]=p},_addPath:function(p){var b=p._container;this._container.appendChild(b),p.options.interactive&&p.addInteractiveTarget(b)},_removePath:function(p){var b=p._container;ki(b),p.removeInteractiveTarget(b),delete this._layers[m(p)]},_updateStyle:function(p){var b=p._stroke,S=p._fill,O=p.options,q=p._container;q.stroked=!!O.stroke,q.filled=!!O.fill,O.stroke?(b||(b=p._stroke=Mc("stroke")),q.appendChild(b),b.weight=O.weight+"px",b.color=O.color,b.opacity=O.opacity,O.dashArray?b.dashStyle=j(O.dashArray)?O.dashArray.join(" "):O.dashArray.replace(/( *, *)/g," "):b.dashStyle="",b.endcap=O.lineCap.replace("butt","flat"),b.joinstyle=O.lineJoin):b&&(q.removeChild(b),p._stroke=null),O.fill?(S||(S=p._fill=Mc("fill")),q.appendChild(S),S.color=O.fillColor||O.color,S.opacity=O.fillOpacity):S&&(q.removeChild(S),p._fill=null)},_updateCircle:function(p){var b=p._point.round(),S=Math.round(p._radius),O=Math.round(p._radiusY||S);this._setPath(p,p._empty()?"M0 0":"AL "+b.x+","+b.y+" "+S+","+O+" 0,"+65535*360)},_setPath:function(p,b){p._path.v=b},_bringToFront:function(p){ja(p._container)},_bringToBack:function(p){Ha(p._container)}},nd=ze.vml?Mc:I,Ic=Ps.extend({_initContainer:function(){this._container=nd("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=nd("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ki(this._container),ui(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ps.prototype._update.call(this);var p=this._bounds,b=p.getSize(),S=this._container;(!this._svgSize||!this._svgSize.equals(b))&&(this._svgSize=b,S.setAttribute("width",b.x),S.setAttribute("height",b.y)),Ki(S,p.min),S.setAttribute("viewBox",[p.min.x,p.min.y,b.x,b.y].join(" ")),this.fire("update")}},_initPath:function(p){var b=p._path=nd("path");p.options.className&&cr(b,p.options.className),p.options.interactive&&cr(b,"leaflet-interactive"),this._updateStyle(p),this._layers[m(p)]=p},_addPath:function(p){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(p._path),p.addInteractiveTarget(p._path)},_removePath:function(p){ki(p._path),p.removeInteractiveTarget(p._path),delete this._layers[m(p)]},_updatePath:function(p){p._project(),p._update()},_updateStyle:function(p){var b=p._path,S=p.options;b&&(S.stroke?(b.setAttribute("stroke",S.color),b.setAttribute("stroke-opacity",S.opacity),b.setAttribute("stroke-width",S.weight),b.setAttribute("stroke-linecap",S.lineCap),b.setAttribute("stroke-linejoin",S.lineJoin),S.dashArray?b.setAttribute("stroke-dasharray",S.dashArray):b.removeAttribute("stroke-dasharray"),S.dashOffset?b.setAttribute("stroke-dashoffset",S.dashOffset):b.removeAttribute("stroke-dashoffset")):b.setAttribute("stroke","none"),S.fill?(b.setAttribute("fill",S.fillColor||S.color),b.setAttribute("fill-opacity",S.fillOpacity),b.setAttribute("fill-rule",S.fillRule||"evenodd")):b.setAttribute("fill","none"))},_updatePoly:function(p,b){this._setPath(p,U(p._parts,b))},_updateCircle:function(p){var b=p._point,S=Math.max(Math.round(p._radius),1),O=Math.max(Math.round(p._radiusY),1)||S,q="a"+S+","+O+" 0 1,0 ",rt=p._empty()?"M0 0":"M"+(b.x-S)+","+b.y+q+S*2+",0 "+q+-S*2+",0 ";this._setPath(p,rt)},_setPath:function(p,b){p._path.setAttribute("d",b)},_bringToFront:function(p){ja(p._path)},_bringToBack:function(p){Ha(p._path)}});ze.vml&&Ic.include(eo);function tf(p){return ze.svg||ze.vml?new Ic(p):null}Zr.include({getRenderer:function(p){var b=p.options.renderer||this._getPaneRenderer(p.options.pane)||this.options.renderer||this._renderer;return b||(b=this._renderer=this._createRenderer()),this.hasLayer(b)||this.addLayer(b),b},_getPaneRenderer:function(p){if(p==="overlayPane"||p===void 0)return!1;var b=this._paneRenderers[p];return b===void 0&&(b=this._createRenderer({pane:p}),this._paneRenderers[p]=b),b},_createRenderer:function(p){return this.options.preferCanvas&&id(p)||tf(p)}});var ef=Sc.extend({initialize:function(p,b){Sc.prototype.initialize.call(this,this._boundsToLatLngs(p),b)},setBounds:function(p){return this.setLatLngs(this._boundsToLatLngs(p))},_boundsToLatLngs:function(p){return p=de(p),[p.getSouthWest(),p.getNorthWest(),p.getNorthEast(),p.getSouthEast()]}});function cb(p,b){return new ef(p,b)}Ic.create=nd,Ic.pointsToPath=U,aa.geometryToLayer=Kh,aa.coordsToLatLng=Yp,aa.coordsToLatLngs=Jh,aa.latLngToCoords=Xp,aa.latLngsToCoords=Qh,aa.getFeature=Cc,aa.asFeature=$h,Zr.mergeOptions({boxZoom:!0});var rf=$i.extend({initialize:function(p){this._map=p,this._container=p._container,this._pane=p._panes.overlayPane,this._resetStateTimeout=0,p.on("unload",this._destroy,this)},addHooks:function(){or(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ui(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ki(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(p){if(!p.shiftKey||p.which!==1&&p.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),bc(),Op(),this._startPoint=this._map.mouseEventToContainerPoint(p),or(document,{contextmenu:Tl,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(p){this._moved||(this._moved=!0,this._box=ei("div","leaflet-zoom-box",this._container),cr(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(p);var b=new Nt(this._point,this._startPoint),S=b.getSize();Ki(this._box,b.min),this._box.style.width=S.x+"px",this._box.style.height=S.y+"px"},_finish:function(){this._moved&&(ki(this._box),Ye(this._container,"leaflet-crosshair")),wc(),_c(),ui(document,{contextmenu:Tl,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(p){if(!(p.which!==1&&p.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var b=new te(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(b).fire("boxzoomend",{boxZoomBounds:b})}},_onKeyDown:function(p){p.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Zr.addInitHook("addHandler","boxZoom",rf),Zr.mergeOptions({doubleClickZoom:!0});var nf=$i.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(p){var b=this._map,S=b.getZoom(),O=b.options.zoomDelta,q=p.originalEvent.shiftKey?S-O:S+O;b.options.doubleClickZoom==="center"?b.setZoom(q):b.setZoomAround(p.containerPoint,q)}});Zr.addInitHook("addHandler","doubleClickZoom",nf),Zr.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var od=$i.extend({addHooks:function(){if(!this._draggable){var p=this._map;this._draggable=new is(p._mapPane,p._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),p.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),p.on("zoomend",this._onZoomEnd,this),p.whenReady(this._onZoomEnd,this))}cr(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ye(this._map._container,"leaflet-grab"),Ye(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var p=this._map;if(p._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var b=de(this._map.options.maxBounds);this._offsetLimit=Vt(this._map.latLngToContainerPoint(b.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(b.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;p.fire("movestart").fire("dragstart"),p.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(p){if(this._map.options.inertia){var b=this._lastTime=+new Date,S=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(S),this._times.push(b),this._prunePositions(b)}this._map.fire("move",p).fire("drag",p)},_prunePositions:function(p){for(;this._positions.length>1&&p-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var p=this._map.getSize().divideBy(2),b=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=b.subtract(p).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(p,b){return p-(p-b)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var p=this._draggable._newPos.subtract(this._draggable._startPos),b=this._offsetLimit;p.x<b.min.x&&(p.x=this._viscousLimit(p.x,b.min.x)),p.y<b.min.y&&(p.y=this._viscousLimit(p.y,b.min.y)),p.x>b.max.x&&(p.x=this._viscousLimit(p.x,b.max.x)),p.y>b.max.y&&(p.y=this._viscousLimit(p.y,b.max.y)),this._draggable._newPos=this._draggable._startPos.add(p)}},_onPreDragWrap:function(){var p=this._worldWidth,b=Math.round(p/2),S=this._initialWorldOffset,O=this._draggable._newPos.x,q=(O-b+S)%p+b-S,rt=(O+b+S)%p-b-S,bt=Math.abs(q+S)<Math.abs(rt+S)?q:rt;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=bt},_onDragEnd:function(p){var b=this._map,S=b.options,O=!S.inertia||p.noInertia||this._times.length<2;if(b.fire("dragend",p),O)b.fire("moveend");else{this._prunePositions(+new Date);var q=this._lastPos.subtract(this._positions[0]),rt=(this._lastTime-this._times[0])/1e3,bt=S.easeLinearity,Rt=q.multiplyBy(bt/rt),Ht=Rt.distanceTo([0,0]),$t=Math.min(S.inertiaMaxSpeed,Ht),we=Rt.multiplyBy($t/Ht),We=$t/(S.inertiaDeceleration*bt),hr=we.multiplyBy(-We/2).round();!hr.x&&!hr.y?b.fire("moveend"):(hr=b._limitOffset(hr,b.options.maxBounds),ft(function(){b.panBy(hr,{duration:We,easeLinearity:bt,noMoveStart:!0,animate:!0})}))}}});Zr.addInitHook("addHandler","dragging",od),Zr.mergeOptions({keyboard:!0,keyboardPanDelta:80});var jm=$i.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(p){this._map=p,this._setPanDelta(p.options.keyboardPanDelta),this._setZoomDelta(p.options.zoomDelta)},addHooks:function(){var p=this._map._container;p.tabIndex<=0&&(p.tabIndex="0"),or(p,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ui(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var p=document.body,b=document.documentElement,S=p.scrollTop||b.scrollTop,O=p.scrollLeft||b.scrollLeft;this._map._container.focus(),window.scrollTo(O,S)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(p){var b=this._panKeys={},S=this.keyCodes,O,q;for(O=0,q=S.left.length;O<q;O++)b[S.left[O]]=[-1*p,0];for(O=0,q=S.right.length;O<q;O++)b[S.right[O]]=[p,0];for(O=0,q=S.down.length;O<q;O++)b[S.down[O]]=[0,p];for(O=0,q=S.up.length;O<q;O++)b[S.up[O]]=[0,-1*p]},_setZoomDelta:function(p){var b=this._zoomKeys={},S=this.keyCodes,O,q;for(O=0,q=S.zoomIn.length;O<q;O++)b[S.zoomIn[O]]=p;for(O=0,q=S.zoomOut.length;O<q;O++)b[S.zoomOut[O]]=-p},_addHooks:function(){or(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ui(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(p){if(!(p.altKey||p.ctrlKey||p.metaKey)){var b=p.keyCode,S=this._map,O;if(b in this._panKeys){if(!S._panAnim||!S._panAnim._inProgress)if(O=this._panKeys[b],p.shiftKey&&(O=xt(O).multiplyBy(3)),S.options.maxBounds&&(O=S._limitOffset(xt(O),S.options.maxBounds)),S.options.worldCopyJump){var q=S.wrapLatLng(S.unproject(S.project(S.getCenter()).add(O)));S.panTo(q)}else S.panBy(O)}else if(b in this._zoomKeys)S.setZoom(S.getZoom()+(p.shiftKey?3:1)*this._zoomKeys[b]);else if(b===27&&S._popup&&S._popup.options.closeOnEscapeKey)S.closePopup();else return;Tl(p)}}});Zr.addInitHook("addHandler","keyboard",jm),Zr.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Lc=$i.extend({addHooks:function(){or(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ui(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(p){var b=km(p),S=this._map.options.wheelDebounceTime;this._delta+=b,this._lastMousePos=this._map.mouseEventToContainerPoint(p),this._startTime||(this._startTime=+new Date);var O=Math.max(S-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),O),Tl(p)},_performZoom:function(){var p=this._map,b=p.getZoom(),S=this._map.options.zoomSnap||0;p._stop();var O=this._delta/(this._map.options.wheelPxPerZoomLevel*4),q=4*Math.log(2/(1+Math.exp(-Math.abs(O))))/Math.LN2,rt=S?Math.ceil(q/S)*S:q,bt=p._limitZoom(b+(this._delta>0?rt:-rt))-b;this._delta=0,this._startTime=null,bt&&(p.options.scrollWheelZoom==="center"?p.setZoom(b+bt):p.setZoomAround(this._lastMousePos,b+bt))}});Zr.addInitHook("addHandler","scrollWheelZoom",Lc);var ub=600;Zr.mergeOptions({tapHold:ze.touchNative&&ze.safari&&ze.mobile,tapTolerance:15});var of=$i.extend({addHooks:function(){or(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ui(this._map._container,"touchstart",this._onDown,this)},_onDown:function(p){if(clearTimeout(this._holdTimeout),p.touches.length===1){var b=p.touches[0];this._startPos=this._newPos=new Jt(b.clientX,b.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(or(document,"touchend",Qi),or(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",b))},this),ub),or(document,"touchend touchcancel contextmenu",this._cancel,this),or(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function p(){ui(document,"touchend",Qi),ui(document,"touchend touchcancel",p)},_cancel:function(){clearTimeout(this._holdTimeout),ui(document,"touchend touchcancel contextmenu",this._cancel,this),ui(document,"touchmove",this._onMove,this)},_onMove:function(p){var b=p.touches[0];this._newPos=new Jt(b.clientX,b.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(p,b){var S=new MouseEvent(p,{bubbles:!0,cancelable:!0,view:window,screenX:b.screenX,screenY:b.screenY,clientX:b.clientX,clientY:b.clientY});S._simulated=!0,b.target.dispatchEvent(S)}});Zr.addInitHook("addHandler","tapHold",of),Zr.mergeOptions({touchZoom:ze.touch,bounceAtZoomLimits:!0});var sf=$i.extend({addHooks:function(){cr(this._map._container,"leaflet-touch-zoom"),or(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ye(this._map._container,"leaflet-touch-zoom"),ui(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(p){var b=this._map;if(!(!p.touches||p.touches.length!==2||b._animatingZoom||this._zooming)){var S=b.mouseEventToContainerPoint(p.touches[0]),O=b.mouseEventToContainerPoint(p.touches[1]);this._centerPoint=b.getSize()._divideBy(2),this._startLatLng=b.containerPointToLatLng(this._centerPoint),b.options.touchZoom!=="center"&&(this._pinchStartLatLng=b.containerPointToLatLng(S.add(O)._divideBy(2))),this._startDist=S.distanceTo(O),this._startZoom=b.getZoom(),this._moved=!1,this._zooming=!0,b._stop(),or(document,"touchmove",this._onTouchMove,this),or(document,"touchend touchcancel",this._onTouchEnd,this),Qi(p)}},_onTouchMove:function(p){if(!(!p.touches||p.touches.length!==2||!this._zooming)){var b=this._map,S=b.mouseEventToContainerPoint(p.touches[0]),O=b.mouseEventToContainerPoint(p.touches[1]),q=S.distanceTo(O)/this._startDist;if(this._zoom=b.getScaleZoom(q,this._startZoom),!b.options.bounceAtZoomLimits&&(this._zoom<b.getMinZoom()&&q<1||this._zoom>b.getMaxZoom()&&q>1)&&(this._zoom=b._limitZoom(this._zoom)),b.options.touchZoom==="center"){if(this._center=this._startLatLng,q===1)return}else{var rt=S._add(O)._divideBy(2)._subtract(this._centerPoint);if(q===1&&rt.x===0&&rt.y===0)return;this._center=b.unproject(b.project(this._pinchStartLatLng,this._zoom).subtract(rt),this._zoom)}this._moved||(b._moveStart(!0,!1),this._moved=!0),vt(this._animRequest);var bt=d(b._move,b,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ft(bt,this,!0),Qi(p)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,vt(this._animRequest),ui(document,"touchmove",this._onTouchMove,this),ui(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Zr.addInitHook("addHandler","touchZoom",sf),Zr.BoxZoom=rf,Zr.DoubleClickZoom=nf,Zr.Drag=od,Zr.Keyboard=jm,Zr.ScrollWheelZoom=Lc,Zr.TapHold=of,Zr.TouchZoom=sf,t.Bounds=Nt,t.Browser=ze,t.CRS=rr,t.Canvas=rd,t.Circle=Zp,t.CircleMarker=Xh,t.Class=re,t.Control=yo,t.DivIcon=Jp,t.DivOverlay=dn,t.DomEvent=Bp,t.DomUtil=kl,t.Draggable=is,t.Evented=ce,t.FeatureGroup=Vn,t.GeoJSON=aa,t.GridLayer=Uu,t.Handler=$i,t.Icon=Cs,t.ImageOverlay=la,t.LatLng=oe,t.LatLngBounds=te,t.Layer=bo,t.LayerGroup=Ml,t.LineUtil=Cl,t.Map=Zr,t.Marker=Il,t.Mixin=Up,t.Path=oa,t.Point=Jt,t.PolyUtil=tb,t.Polygon=Sc,t.Polyline=sa,t.Popup=Hu,t.PosAnimation=jp,t.Projection=Lm,t.Rectangle=ef,t.Renderer=Ps,t.SVG=Ic,t.SVGOverlay=Pc,t.TileLayer=Rl,t.Tooltip=Ll,t.Transformation=Bi,t.Util=Qt,t.VideoOverlay=Kp,t.bind=d,t.bounds=Vt,t.canvas=id,t.circle=ib,t.circleMarker=rb,t.control=Ou,t.divIcon=Qp,t.extend=l,t.featureGroup=hn,t.geoJSON=td,t.geoJson=sb,t.gridLayer=Fm,t.icon=Am,t.imageOverlay=ab,t.latLng=se,t.latLngBounds=de,t.layerGroup=Zh,t.map=Qy,t.marker=Om,t.point=xt,t.polygon=ob,t.polyline=nb,t.popup=ca,t.rectangle=cb,t.setOptions=F,t.stamp=m,t.svg=tf,t.svgOverlay=lb,t.tileLayer=$p,t.tooltip=Dm,t.transformation=yt,t.version=o,t.videoOverlay=Nm;var sd=window.L;t.noConflict=function(){return window.L=sd,this},window.L=t})}(Y0,Y0.exports)),Y0.exports}var lo=KC();const ms=ZC(lo);var b1={exports:{}};(function(n,r){(function(t,o){o(r)})(Ox,function(t){var o={ar:{touch:"   ",scroll:" ctrl + scroll / ",scrollMac:"   +  / "},bg:{touch:"  ,    ",scroll:"  Ctrl ,  ,      ",scrollMac:"   ,  ,      "},bn:{touch:"     ",scroll:"   ctrl + scroll  ",scrollMac:"       "},ca:{touch:"Fes servir dos dits per moure el mapa",scroll:"Prem la tecla Control mentre et desplaces per apropar i allunyar el mapa",scrollMac:"Prem la tecla  mentre et desplaces per apropar i allunyar el mapa"},cs:{touch:"Kposunut mapy pouijte dva prsty",scroll:"Velikost zobrazen mapy zmte podrenm klvesy Ctrl aposouvnm koleka myi",scrollMac:"Velikost zobrazen mapy zmnte podrenm klvesy  aposunutm koleka myi / touchpadu"},da:{touch:"Brug to fingre til at flytte kortet",scroll:"Brug ctrl + rullefunktionen til at zoome ind og ud p kortet",scrollMac:"Brug  + rullefunktionen til at zoome ind og ud p kortet"},de:{touch:"Verschieben der Karte mit zwei Fingern",scroll:"Verwende Strg+Scrollen zum Zoomen der Karte",scrollMac:""},el:{touch:"      ",scroll:"   Ctrl  ,     ",scrollMac:"    +     "},en:{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use  + scroll to zoom the map"},"en-AU":{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use  + scroll to zoom the map"},"en-GB":{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use  + scroll to zoom the map"},es:{touch:"Para mover el mapa, utiliza dos dedos",scroll:"Mantn pulsada la tecla Ctrl mientras te desplazas para acercar o alejar el mapa",scrollMac:"Mantn pulsada la tecla  mientras te desplazas para acercar o alejar el mapa"},eu:{touch:"Erabili bi hatz mapa mugitzeko",scroll:"Mapan zooma aplikatzeko, sakatu Ktrl eta egin gora edo behera",scrollMac:"Eduki sakatuta  eta egin gora eta behera mapa handitu eta txikitzeko"},fa:{touch:"        .",scroll:"    ctrl + scroll  ",scrollMac:"     +   ."},fi:{touch:"Siirr karttaa kahdella sormella.",scroll:"Zoomaa karttaa painamalla Ctrl-painiketta ja vierittmll.",scrollMac:"Zoomaa karttaa pitmll painike  painettuna ja vierittmll."},fil:{touch:"Gumamit ng dalawang daliri upang iusog ang mapa",scroll:"Gamitin ang ctrl + scroll upang i-zoom ang mapa",scrollMac:"Gamitin ang  + scroll upang i-zoom ang mapa"},fr:{touch:"Utilisez deuxdoigts pour dplacer la carte",scroll:"Vous pouvez zoomer sur la carte  l'aide de CTRL+Molette de dfilement",scrollMac:"Vous pouvez zoomer sur la carte  l'aide de +Molette de dfilement"},gl:{touch:"Utiliza dous dedos para mover o mapa",scroll:"Preme Ctrl mentres te desprazas para ampliar o mapa",scrollMac:"Preme  e desprzate para ampliar o mapa"},gu:{touch:"     ",scroll:"    ctrl +   ",scrollMac:"    +   "},hi:{touch:"              ",scroll:"      ctrl +    ",scrollMac:"       +    "},hr:{touch:"Pomiite kartu pomou dva prsta",scroll:"Upotrijebite Ctrl i kliza mia da biste zumirali kartu",scrollMac:"Upotrijebite gumb  dok se pomiete za zumiranje karte"},hu:{touch:"Kt ujjal mozgassa a trkpet",scroll:"A trkp a ctrl + grgets hasznlatval nagythat",scrollMac:"A trkp a  + grgets hasznlatval nagythat"},id:{touch:"Gunakan dua jari untuk menggerakkan peta",scroll:"Gunakan ctrl + scroll untuk memperbesar atau memperkecil peta",scrollMac:"Gunakan  + scroll untuk memperbesar atau memperkecil peta"},it:{touch:"Utilizza due dita per spostare la mappa",scroll:"Utilizza CTRL + scorrimento per eseguire lo zoom della mappa",scrollMac:"Utilizza  + scorrimento per eseguire lo zoom della mappa"},iw:{touch:"     ",scroll:"        ctrl ",scrollMac:"         "},ja:{touch:" 2 ",scroll:"Ctrl ",scrollMac:" "},kn:{touch:"Use two fingers to move the map",scroll:"Use Ctrl + scroll to zoom the map",scrollMac:"Use  + scroll to zoom the map"},ko:{touch:"    .",scroll:" / Ctrl   .",scrollMac:"   +  "},lt:{touch:"Perkelkite emlap dviem pirtais",scroll:"Slinkite nuspaud klavi Ctrl, kad pakeistumte emlapio mastel",scrollMac:"Paspauskite klavi  ir slinkite, kad priartintumte emlap"},lv:{touch:"Lai prvietotu karti, bdiet to ar diviem pirkstiem",scroll:"Kartes tlummaiai izmantojiet ctrl + ritinanu",scrollMac:"Lai veiktu kartes tlummaiu, izmantojiet  + ritinanu"},ml:{touch:"    ",scroll:" +     ",scrollMac:" +     "},mr:{touch:"    ",scroll:"   ctrl + scroll ",scrollMac:"    +  "},nl:{touch:"Gebruik twee vingers om de kaart te verplaatsen",scroll:"Gebruik Ctrl + scrollen om in- en uit te zoomen op de kaart",scrollMac:"Gebruik  + scrollen om in en uit te zoomen op de kaart"},no:{touch:"Bruk to fingre for  flytte kartet",scroll:"Hold ctrl-tasten inne og rull for  zoome p kartet",scrollMac:"Hold inne -tasten og rull for  zoome p kartet"},pl:{touch:"Przesu map dwoma palcami",scroll:"Nacinij CTRL i przewi, by przybliy map",scrollMac:"Nacinij i przewi, by przybliy map"},pt:{touch:"Use dois dedos para mover o mapa",scroll:"Pressione Ctrl e role a tela simultaneamente para aplicar zoom no mapa",scrollMac:"Use  e role a tela simultaneamente para aplicar zoom no mapa"},"pt-BR":{touch:"Use dois dedos para mover o mapa",scroll:"Pressione Ctrl e role a tela simultaneamente para aplicar zoom no mapa",scrollMac:"Use  e role a tela simultaneamente para aplicar zoom no mapa"},"pt-PT":{touch:"Utilize dois dedos para mover o mapa",scroll:"Utilizar ctrl + deslocar para aumentar/diminuir zoom do mapa",scrollMac:"Utilize  + deslocar para aumentar/diminuir o zoom do mapa"},ro:{touch:"Folosii dou degete pentru a deplasa harta",scroll:"Apsai tasta ctrl i derulai simultan pentru a mri harta",scrollMac:"Folosii  i derulai pentru a mri/micora harta"},ru:{touch:"  ,     ",scroll:"  ,  ,   Ctrl.",scrollMac:"  ,  + "},sk:{touch:"Mapu mete posun dvoma prstami",scroll:"Ak chcete pribli mapu, stlate klves ctrl aposvajte",scrollMac:"Ak chcete pribli mapu, stlate klves  aposvajte kolieskom myi"},sl:{touch:"Premaknite zemljevid z dvema prstoma",scroll:"Zemljevid poveate tako, da drite tipko Ctrl in vrtite kolesce na miki",scrollMac:"Uporabite  + funkcijo pomika, da poveate ali pomanjate zemljevid"},sr:{touch:"    ",scroll:" ctrl       ",scrollMac:"        "},sv:{touch:"Anvnd tv fingrar fr att flytta kartan",scroll:"Anvnd ctrl + rulla fr att zooma kartan",scrollMac:"Anvnd  + rulla fr att zooma p kartan"},ta:{touch:"    ",scroll:" / , ctrl  , /  ",scrollMac:" / ,   , /  "},te:{touch:"     ",scroll:"   ctrl   ,  ",scrollMac:"    +  "},th:{touch:" 2 ",scroll:" Ctrl  ",scrollMac:"  "},tl:{touch:"Gumamit ng dalawang daliri upang iusog ang mapa",scroll:"Gamitin ang ctrl + scroll upang i-zoom ang mapa",scrollMac:"Gamitin ang  + scroll upang i-zoom ang mapa"},tr:{touch:"Haritada gezinmek iin iki parmanz kullann",scroll:"Haritay yaknlatrmak iin ctrl + kaydrma kombinasyonunu kullann",scrollMac:"Haritay yaknlatrmak iin  tuuna basp ekran kaydrn"},uk:{touch:"   ",scroll:"   ,   ,   Ctrl",scrollMac:"   ,   + "},vi:{touch:"S dng hai ngn tay  di chuyn bn ",scroll:"S dng ctrl + cun  thu phng bn ",scrollMac:"S dng  + cun  thu phng bn "},"zh-CN":{touch:"",scroll:" Ctrl ",scrollMac:"  "},"zh-TW":{touch:"",scroll:" ctrl ",scrollMac:"  "}};L.Map.mergeOptions({gestureHandlingOptions:{text:{},duration:1e3}});var l=!1,u=L.Handler.extend({addHooks:function(){this._handleTouch=this._handleTouch.bind(this),this._setupPluginOptions(),this._setLanguageContent(),this._disableInteractions(),this._map._container.addEventListener("touchstart",this._handleTouch),this._map._container.addEventListener("touchmove",this._handleTouch),this._map._container.addEventListener("touchend",this._handleTouch),this._map._container.addEventListener("touchcancel",this._handleTouch),this._map._container.addEventListener("click",this._handleTouch),L.DomEvent.on(this._map._container,"wheel",this._handleScroll,this),L.DomEvent.on(this._map,"mouseover",this._handleMouseOver,this),L.DomEvent.on(this._map,"mouseout",this._handleMouseOut,this),L.DomEvent.on(this._map,"movestart",this._handleDragging,this),L.DomEvent.on(this._map,"move",this._handleDragging,this),L.DomEvent.on(this._map,"moveend",this._handleDragging,this)},removeHooks:function(){this._enableInteractions(),this._map._container.removeEventListener("touchstart",this._handleTouch),this._map._container.removeEventListener("touchmove",this._handleTouch),this._map._container.removeEventListener("touchend",this._handleTouch),this._map._container.removeEventListener("touchcancel",this._handleTouch),this._map._container.removeEventListener("click",this._handleTouch),L.DomEvent.off(this._map._container,"wheel",this._handleScroll,this),L.DomEvent.off(this._map,"mouseover",this._handleMouseOver,this),L.DomEvent.off(this._map,"mouseout",this._handleMouseOut,this),L.DomEvent.off(this._map,"movestart",this._handleDragging,this),L.DomEvent.off(this._map,"move",this._handleDragging,this),L.DomEvent.off(this._map,"moveend",this._handleDragging,this)},_handleDragging:function(d){d.type=="movestart"||d.type=="move"?l=!0:d.type=="moveend"&&(l=!1)},_disableInteractions:function(){this._map.dragging.disable(),this._map.scrollWheelZoom.disable(),this._map.tap&&this._map.tap.disable()},_enableInteractions:function(){this._map.dragging.enable(),this._map.scrollWheelZoom.enable(),this._map.tap&&this._map.tap.enable()},_setupPluginOptions:function(){this._map.options.gestureHandlingText&&(this._map.options.gestureHandlingOptions.text=this._map.options.gestureHandlingText)},_setLanguageContent:function(){var d;if(this._map.options.gestureHandlingOptions&&this._map.options.gestureHandlingOptions.text&&this._map.options.gestureHandlingOptions.text.touch&&this._map.options.gestureHandlingOptions.text.scroll&&this._map.options.gestureHandlingOptions.text.scrollMac)d=this._map.options.gestureHandlingOptions.text;else{var f=this._getUserLanguage();f||(f="en"),o[f]&&(d=o[f]),d||f.indexOf("-")===-1||(f=f.split("-")[0],d=o[f]),d||(d=o[f="en"])}var m=!1;0<=navigator.platform.toUpperCase().indexOf("MAC")&&(m=!0);var v=d.scroll;m&&(v=d.scrollMac),this._map._container.setAttribute("data-gesture-handling-touch-content",d.touch),this._map._container.setAttribute("data-gesture-handling-scroll-content",v)},_getUserLanguage:function(){return navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage},_handleTouch:function(d){for(var f=["leaflet-control-minimap","leaflet-interactive","leaflet-popup-content","leaflet-popup-content-wrapper","leaflet-popup-close-button","leaflet-control-zoom-in","leaflet-control-zoom-out"],m=!1,v=0;v<f.length;v++)L.DomUtil.hasClass(d.target,f[v])&&(m=!0);m?L.DomUtil.hasClass(d.target,"leaflet-interactive")&&d.type==="touchmove"&&d.touches.length===1?(L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-touch-warning"),this._disableInteractions()):L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-touch-warning"):d.type==="touchmove"||d.type==="touchstart"?d.touches.length===1?(L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-touch-warning"),this._disableInteractions()):(d.preventDefault(),this._enableInteractions(),L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-touch-warning")):L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-touch-warning")},_isScrolling:!1,_handleScroll:function(d){d.metaKey||d.ctrlKey?(d.preventDefault(),L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-scroll-warning"),this._map.scrollWheelZoom.enable()):(L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-scroll-warning"),this._map.scrollWheelZoom.disable(),clearTimeout(this._isScrolling),this._isScrolling=setTimeout(function(){for(var f=document.getElementsByClassName("leaflet-gesture-handling-scroll-warning"),m=0;m<f.length;m++)L.DomUtil.removeClass(f[m],"leaflet-gesture-handling-scroll-warning")},this._map.options.gestureHandlingOptions.duration))},_handleMouseOver:function(d){this._enableInteractions()},_handleMouseOut:function(d){l||this._disableInteractions()}});L.Map.addInitHook("addHandler","gestureHandling",u),t.GestureHandling=u,t.default=u,Object.defineProperty(t,"__esModule",{value:!0})})})(b1,b1.exports);var C6=b1.exports;L.Control.Opacity=L.Control.extend({options:{collapsed:!1,position:"topright",label:null},initialize:function(n,r){for(const t in L.Util.setOptions(this,r),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,n)this._addLayer(n[t],t,!0)},onAdd:function(n){return this._initLayout(),this._update(),this._container},expand:function(){L.DomUtil.addClass(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._form.clientHeight?(L.DomUtil.addClass(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=n+"px"):L.DomUtil.removeClass(this._form,"leaflet-control-layers-scrollbar"),this},collapse:function(){return L.DomUtil.removeClass(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){const n="leaflet-control-layers",r=this._container=L.DomUtil.create("div",n),t=this.options.collapsed;if(r.setAttribute("aria-haspopup",!0),L.DomEvent.disableClickPropagation(r),L.DomEvent.disableScrollPropagation(r),this.options.label){const u=L.DomUtil.create("p",n+"-label");u.innerHTML=this.options.label,r.appendChild(u)}var o=this._form=L.DomUtil.create("form",n+"-list");t&&(this._map.on("click zoom move",this.collapse,this),L.Browser.android||L.DomEvent.on(r,{mouseenter:this.expand,mouseleave:this.collapse},this));const l=this._layersLink=L.DomUtil.create("a",n+"-toggle",r);l.href="#",l.title="Layers",L.Browser.touch?(L.DomEvent.on(l,"click",L.DomEvent.stop),L.DomEvent.on(l,"click",this.expand,this)):L.DomEvent.on(l,"focus",this.expand,this),t||this.expand(),this._baseLayersList=L.DomUtil.create("div",n+"-base",o),this._separator=L.DomUtil.create("div",n+"-separator",o),this._overlaysList=L.DomUtil.create("div",n+"-overlays",o),r.appendChild(o)},_getLayer:function(n){for(let r=0;r<this._layers.length;r++)if(this._layers[r]&&L.Util.stamp(this._layers[r].layer)===n)return this._layers[r]},_addLayer:function(n,r,t){this._layers.push({layer:n,name:r,overlay:t})},_update:function(){if(!this._container)return this;L.DomUtil.empty(this._baseLayersList),L.DomUtil.empty(this._overlaysList),this._layerControlInputs=[];let n,r,t,o,l=0;for(t=0;t<this._layers.length;t++)o=this._layers[t],this._addItem(o),r=r||o.overlay,n=n||!o.overlay,l+=o.overlay?0:1;this.options.hideSingleBase&&(n=n&&1<l,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=r&&n?"":"none"},_addItem:function(n){let r=document.createElement("label"),t=document.createElement("input");n.overlay?(t.type="range",t.className="leaflet-control-layers-range",t.min=0,t.max=100,t.value=100*n.layer.options.opacity):t=this._createRadioElement("leaflet-base-layers",checked),this._layerControlInputs.push(t),t.layerId=L.Util.stamp(n.layer),t.addEventListener("input",f=>{f=f.target.value;const m=this._getLayer(t.layerId).layer;m._url===void 0||m.setOpacity(Number(f/100))});const o=document.createElement("span");o.innerHTML=" "+n.name;const l=document.createElement("div"),u=document.createElement("div");r.appendChild(l),l.appendChild(o),r.appendChild(u),u.appendChild(t),(n.overlay?this._overlaysList:this._baseLayersList).appendChild(r)}}),L.control.opacity=function(n,r){return new L.Control.Opacity(n,r)};(function(n,r){typeof exports=="object"&&typeof module<"u"?r(exports):typeof define=="function"&&define.amd?define(["exports"],r):r((n=typeof globalThis<"u"?globalThis:n||self).turf={})})(globalThis,function(n){var r=63710088e-1,t={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260511392e-6,inches:39.37*r,kilometers:6371.0088,kilometres:6371.0088,meters:r,metres:r,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:r/1852,radians:1,yards:6967335223679999e-9},o={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/r,yards:1.0936133},l={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function u(e,i,s){s===void 0&&(s={});var a={type:"Feature"};return(s.id===0||s.id)&&(a.id=s.id),s.bbox&&(a.bbox=s.bbox),a.properties=i||{},a.geometry=e,a}function d(e,i,s){switch(e){case"Point":return f(i).geometry;case"LineString":return k(i).geometry;case"Polygon":return v(i).geometry;case"MultiPoint":return F(i).geometry;case"MultiLineString":return A(i).geometry;case"MultiPolygon":return G(i).geometry;default:throw new Error(e+" is invalid")}}function f(e,i,s){if(s===void 0&&(s={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ft(e[0])||!ft(e[1]))throw new Error("coordinates must contain numbers");return u({type:"Point",coordinates:e},i,s)}function m(e,i,s){return s===void 0&&(s={}),M(e.map(function(a){return f(a,i)}),s)}function v(e,i,s){s===void 0&&(s={});for(var a=0,c=e;a<c.length;a++){var h=c[a];if(h.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var g=0;g<h[h.length-1].length;g++)if(h[h.length-1][g]!==h[0][g])throw new Error("First and last Position are not equivalent.")}return u({type:"Polygon",coordinates:e},i,s)}function _(e,i,s){return s===void 0&&(s={}),M(e.map(function(a){return v(a,i)}),s)}function k(e,i,s){if(s===void 0&&(s={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return u({type:"LineString",coordinates:e},i,s)}function C(e,i,s){return s===void 0&&(s={}),M(e.map(function(a){return k(a,i)}),s)}function M(e,i){i===void 0&&(i={});var s={type:"FeatureCollection"};return i.id&&(s.id=i.id),i.bbox&&(s.bbox=i.bbox),s.features=e,s}function A(e,i,s){return s===void 0&&(s={}),u({type:"MultiLineString",coordinates:e},i,s)}function F(e,i,s){return s===void 0&&(s={}),u({type:"MultiPoint",coordinates:e},i,s)}function G(e,i,s){return s===void 0&&(s={}),u({type:"MultiPolygon",coordinates:e},i,s)}function H(e,i,s){return s===void 0&&(s={}),u({type:"GeometryCollection",geometries:e},i,s)}function W(e,i){if(i===void 0&&(i=0),i&&!(i>=0))throw new Error("precision must be a positive number");var s=Math.pow(10,i||0);return Math.round(e*s)/s}function j(e,i){i===void 0&&(i="kilometers");var s=t[i];if(!s)throw new Error(i+" units is invalid");return e*s}function V(e,i){i===void 0&&(i="kilometers");var s=t[i];if(!s)throw new Error(i+" units is invalid");return e/s}function nt(e,i){return pt(V(e,i))}function gt(e){var i=e%360;return i<0&&(i+=360),i}function pt(e){return 180*(e%(2*Math.PI))/Math.PI}function ct(e){return e%360*Math.PI/180}function Z(e,i,s){if(i===void 0&&(i="kilometers"),s===void 0&&(s="kilometers"),!(e>=0))throw new Error("length must be a positive number");return j(V(e,i),s)}function at(e,i,s){if(i===void 0&&(i="meters"),s===void 0&&(s="kilometers"),!(e>=0))throw new Error("area must be a positive number");var a=l[i];if(!a)throw new Error("invalid original units");var c=l[s];if(!c)throw new Error("invalid final units");return e/a*c}function ft(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function vt(e){return!!e&&e.constructor===Object}function Qt(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(e.length!==4&&e.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach(function(i){if(!ft(i))throw new Error("bbox must only contain numbers")})}function re(e){if(!e)throw new Error("id is required");if(["string","number"].indexOf(typeof e)===-1)throw new Error("id must be a number or a string")}var pe=Object.freeze({__proto__:null,earthRadius:r,factors:t,unitsFactors:o,areaFactors:l,feature:u,geometry:d,point:f,points:m,polygon:v,polygons:_,lineString:k,lineStrings:C,featureCollection:M,multiLineString:A,multiPoint:F,multiPolygon:G,geometryCollection:H,round:W,radiansToLength:j,lengthToRadians:V,lengthToDegrees:nt,bearingToAzimuth:gt,radiansToDegrees:pt,degreesToRadians:ct,convertLength:Z,convertArea:at,isNumber:ft,isObject:vt,validateBBox:Qt,validateId:re});function Gt(e,i,s){if(e!==null)for(var a,c,h,g,y,w,x,T,E=0,P=0,z=e.type,N=z==="FeatureCollection",B=z==="Feature",R=N?e.features.length:1,X=0;X<R;X++){y=(T=!!(x=N?e.features[X].geometry:B?e.geometry:e)&&x.type==="GeometryCollection")?x.geometries.length:1;for(var it=0;it<y;it++){var D=0,Y=0;if((g=T?x.geometries[it]:x)!==null){w=g.coordinates;var K=g.type;switch(E=!s||K!=="Polygon"&&K!=="MultiPolygon"?0:1,K){case null:break;case"Point":if(i(w,P,X,D,Y)===!1)return!1;P++,D++;break;case"LineString":case"MultiPoint":for(a=0;a<w.length;a++){if(i(w[a],P,X,D,Y)===!1)return!1;P++,K==="MultiPoint"&&D++}K==="LineString"&&D++;break;case"Polygon":case"MultiLineString":for(a=0;a<w.length;a++){for(c=0;c<w[a].length-E;c++){if(i(w[a][c],P,X,D,Y)===!1)return!1;P++}K==="MultiLineString"&&D++,K==="Polygon"&&Y++}K==="Polygon"&&D++;break;case"MultiPolygon":for(a=0;a<w.length;a++){for(Y=0,c=0;c<w[a].length;c++){for(h=0;h<w[a][c].length-E;h++){if(i(w[a][c][h],P,X,D,Y)===!1)return!1;P++}Y++}D++}break;case"GeometryCollection":for(a=0;a<g.geometries.length;a++)if(Gt(g.geometries[a],i,s)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function ce(e,i,s,a){var c=s;return Gt(e,function(h,g,y,w,x){c=g===0&&s===void 0?h:i(c,h,g,y,w,x)},a),c}function Jt(e,i){var s;switch(e.type){case"FeatureCollection":for(s=0;s<e.features.length&&i(e.features[s].properties,s)!==!1;s++);break;case"Feature":i(e.properties,0)}}function tr(e,i,s){var a=s;return Jt(e,function(c,h){a=h===0&&s===void 0?c:i(a,c,h)}),a}function xt(e,i){if(e.type==="Feature")i(e,0);else if(e.type==="FeatureCollection")for(var s=0;s<e.features.length&&i(e.features[s],s)!==!1;s++);}function Nt(e,i,s){var a=s;return xt(e,function(c,h){a=h===0&&s===void 0?c:i(a,c,h)}),a}function Vt(e){var i=[];return Gt(e,function(s){i.push(s)}),i}function te(e,i){var s,a,c,h,g,y,w,x,T,E,P=0,z=e.type==="FeatureCollection",N=e.type==="Feature",B=z?e.features.length:1;for(s=0;s<B;s++){for(y=z?e.features[s].geometry:N?e.geometry:e,x=z?e.features[s].properties:N?e.properties:{},T=z?e.features[s].bbox:N?e.bbox:void 0,E=z?e.features[s].id:N?e.id:void 0,g=(w=!!y&&y.type==="GeometryCollection")?y.geometries.length:1,c=0;c<g;c++)if((h=w?y.geometries[c]:y)!==null)switch(h.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(i(h,P,x,T,E)===!1)return!1;break;case"GeometryCollection":for(a=0;a<h.geometries.length;a++)if(i(h.geometries[a],P,x,T,E)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(i(null,P,x,T,E)===!1)return!1;P++}}function de(e,i,s){var a=s;return te(e,function(c,h,g,y,w){a=h===0&&s===void 0?c:i(a,c,h,g,y,w)}),a}function oe(e,i){te(e,function(s,a,c,h,g){var y,w=s===null?null:s.type;switch(w){case null:case"Point":case"LineString":case"Polygon":return i(u(s,c,{bbox:h,id:g}),a,0)!==!1&&void 0}switch(w){case"MultiPoint":y="Point";break;case"MultiLineString":y="LineString";break;case"MultiPolygon":y="Polygon"}for(var x=0;x<s.coordinates.length;x++){var T=s.coordinates[x];if(i(u({type:y,coordinates:T},c),a,x)===!1)return!1}})}function se(e,i,s){var a=s;return oe(e,function(c,h,g){a=h===0&&g===0&&s===void 0?c:i(a,c,h,g)}),a}function rr(e,i){oe(e,function(s,a,c){var h=0;if(s.geometry){var g=s.geometry.type;if(g!=="Point"&&g!=="MultiPoint"){var y,w=0,x=0,T=0;return Gt(s,function(E,P,z,N,B){if(y===void 0||a>w||N>x||B>T)return y=E,w=a,x=N,T=B,void(h=0);var R=k([y,E],s.properties);if(i(R,a,c,B,h)===!1)return!1;h++,y=E})!==!1&&void 0}}})}function gr(e,i,s){var a=s,c=!1;return rr(e,function(h,g,y,w,x){a=c===!1&&s===void 0?h:i(a,h,g,y,w,x),c=!0}),a}function vi(e,i){if(!e)throw new Error("geojson is required");oe(e,function(s,a,c){if(s.geometry!==null){var h=s.geometry.type,g=s.geometry.coordinates;switch(h){case"LineString":if(i(s,a,c,0,0)===!1)return!1;break;case"Polygon":for(var y=0;y<g.length;y++)if(i(k(g[y],s.properties),a,c,y)===!1)return!1}}})}function Xi(e,i,s){var a=s;return vi(e,function(c,h,g,y){a=h===0&&s===void 0?c:i(a,c,h,g,y)}),a}function Bi(e,i){if(!vt(i=i||{}))throw new Error("options is invalid");var s,a=i.featureIndex||0,c=i.multiFeatureIndex||0,h=i.geometryIndex||0,g=i.segmentIndex||0,y=i.properties;switch(e.type){case"FeatureCollection":a<0&&(a=e.features.length+a),y=y||e.features[a].properties,s=e.features[a].geometry;break;case"Feature":y=y||e.properties,s=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=e;break;default:throw new Error("geojson is invalid")}if(s===null)return null;var w=s.coordinates;switch(s.type){case"Point":case"MultiPoint":return null;case"LineString":return g<0&&(g=w.length+g-1),k([w[g],w[g+1]],y,i);case"Polygon":return h<0&&(h=w.length+h),g<0&&(g=w[h].length+g-1),k([w[h][g],w[h][g+1]],y,i);case"MultiLineString":return c<0&&(c=w.length+c),g<0&&(g=w[c].length+g-1),k([w[c][g],w[c][g+1]],y,i);case"MultiPolygon":return c<0&&(c=w.length+c),h<0&&(h=w[c].length+h),g<0&&(g=w[c][h].length-g-1),k([w[c][h][g],w[c][h][g+1]],y,i)}throw new Error("geojson is invalid")}function yt(e,i){if(!vt(i=i||{}))throw new Error("options is invalid");var s,a=i.featureIndex||0,c=i.multiFeatureIndex||0,h=i.geometryIndex||0,g=i.coordIndex||0,y=i.properties;switch(e.type){case"FeatureCollection":a<0&&(a=e.features.length+a),y=y||e.features[a].properties,s=e.features[a].geometry;break;case"Feature":y=y||e.properties,s=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=e;break;default:throw new Error("geojson is invalid")}if(s===null)return null;var w=s.coordinates;switch(s.type){case"Point":return f(w,y,i);case"MultiPoint":return c<0&&(c=w.length+c),f(w[c],y,i);case"LineString":return g<0&&(g=w.length+g),f(w[g],y,i);case"Polygon":return h<0&&(h=w.length+h),g<0&&(g=w[h].length+g),f(w[h][g],y,i);case"MultiLineString":return c<0&&(c=w.length+c),g<0&&(g=w[c].length+g),f(w[c][g],y,i);case"MultiPolygon":return c<0&&(c=w.length+c),h<0&&(h=w[c].length+h),g<0&&(g=w[c][h].length-g),f(w[c][h][g],y,i)}throw new Error("geojson is invalid")}var kt=Object.freeze({__proto__:null,coordAll:Vt,coordEach:Gt,coordReduce:ce,featureEach:xt,featureReduce:Nt,findPoint:yt,findSegment:Bi,flattenEach:oe,flattenReduce:se,geomEach:te,geomReduce:de,lineEach:vi,lineReduce:Xi,propEach:Jt,propReduce:tr,segmentEach:rr,segmentReduce:gr});function zt(e){var i=[1/0,1/0,-1/0,-1/0];return Gt(e,function(s){i[0]>s[0]&&(i[0]=s[0]),i[1]>s[1]&&(i[1]=s[1]),i[2]<s[0]&&(i[2]=s[0]),i[3]<s[1]&&(i[3]=s[1])}),i}function I(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return e.geometry.coordinates;if(e.type==="Point")return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function U(e){if(Array.isArray(e))return e;if(e.type==="Feature"){if(e.geometry!==null)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function ot(e){if(e.length>1&&ft(e[0])&&ft(e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return ot(e[0]);throw new Error("coordinates must only contain numbers")}function dt(e,i,s){if(!i||!s)throw new Error("type and name required");if(!e||e.type!==i)throw new Error("Invalid input to "+s+": must be a "+i+", given "+e.type)}function ht(e,i,s){if(!e)throw new Error("No feature passed");if(!s)throw new Error(".featureOf() requires a name");if(!e||e.type!=="Feature"||!e.geometry)throw new Error("Invalid input to "+s+", Feature with geometry required");if(!e.geometry||e.geometry.type!==i)throw new Error("Invalid input to "+s+": must be a "+i+", given "+e.geometry.type)}function _t(e,i,s){if(!e)throw new Error("No featureCollection passed");if(!s)throw new Error(".collectionOf() requires a name");if(!e||e.type!=="FeatureCollection")throw new Error("Invalid input to "+s+", FeatureCollection required");for(var a=0,c=e.features;a<c.length;a++){var h=c[a];if(!h||h.type!=="Feature"||!h.geometry)throw new Error("Invalid input to "+s+", Feature with geometry required");if(!h.geometry||h.geometry.type!==i)throw new Error("Invalid input to "+s+": must be a "+i+", given "+h.geometry.type)}}function ut(e){return e.type==="Feature"?e.geometry:e}function It(e,i){return e.type==="FeatureCollection"?"FeatureCollection":e.type==="GeometryCollection"?"GeometryCollection":e.type==="Feature"&&e.geometry!==null?e.geometry.type:e.type}zt.default=zt;var Zt=Object.freeze({__proto__:null,getCoord:I,getCoords:U,containsNumber:ot,geojsonType:dt,featureOf:ht,collectionOf:_t,getGeom:ut,getType:It}),Yt=Object.getOwnPropertySymbols,Kt=Object.prototype.hasOwnProperty,ge=Object.prototype.propertyIsEnumerable;/*
    object-assign
    (c) Sindre Sorhus
    @license MIT
    */function be(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var De=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var i={},s=0;s<10;s++)i["_"+String.fromCharCode(s)]=s;if(Object.getOwnPropertyNames(i).map(function(c){return i[c]}).join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(c){a[c]=c}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(e,i){for(var s,a,c=be(e),h=1;h<arguments.length;h++){for(var g in s=Object(arguments[h]))Kt.call(s,g)&&(c[g]=s[g]);if(Yt){a=Yt(s);for(var y=0;y<a.length;y++)ge.call(s,a[y])&&(c[a[y]]=s[a[y]])}}return c},$={successCallback:null,verbose:!1},J={};/**
     * @license GNU Affero General Public License.
     * Copyright (c) 2015, 2015 Ronny Lorenz <ronny@tbi.univie.ac.at>
     * v. 1.2.0
     * https://github.com/RaumZeit/MarchingSquares.js
     *
     * MarchingSquaresJS is free software: you can redistribute it and/or modify
     * it under the terms of the GNU Affero General Public License as published by
     * the Free Software Foundation, either version 3 of the License, or
     * (at your option) any later version.
     *
     * MarchingSquaresJS is distributed in the hope that it will be useful,
     * but WITHOUT ANY WARRANTY; without even the implied warranty of
     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
     * GNU Affero General Public License for more details.
     *
     * As additional permission under GNU Affero General Public License version 3
     * section 7, third-party projects (personal or commercial) may distribute,
     * include, or link against UNMODIFIED VERSIONS of MarchingSquaresJS without the
     * requirement that said third-party project for that reason alone becomes
     * subject to any requirement of the GNU Affero General Public License version 3.
     * Any modifications to MarchingSquaresJS, however, must be shared with the public
     * and made available.
     *
     * In summary this:
     * - allows you to use MarchingSquaresJS at no cost
     * - allows you to use MarchingSquaresJS for both personal and commercial purposes
     * - allows you to distribute UNMODIFIED VERSIONS of MarchingSquaresJS under any
     *   license as long as this license notice is included
     * - enables you to keep the source code of your program that uses MarchingSquaresJS
     *   undisclosed
     * - forces you to share any modifications you have made to MarchingSquaresJS,
     *   e.g. bug-fixes
     *
     * You should have received a copy of the GNU Affero General Public License
     * along with MarchingSquaresJS.  If not, see <http://www.gnu.org/licenses/>.
     */function lt(e,i,s){s=s||{};for(var a=Object.keys($),c=0;c<a.length;c++){var h=a[c],g=s[h];g=g??$[h],J[h]=g}J.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+i);var y=function(w){var x=[],T=0,E=1e-7;return w.cells.forEach(function(P,z){P.forEach(function(N,B){if(N!==void 0&&(tt=N).cval!==5&&tt.cval!==10&&!qt(N)){var R=function(Q,At,Et){var Dt,Tt,jt=Q.length,Mt=[],Pt=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],St=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],Ft=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"],Lt=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],Ut=Q[At][Et],mt=Ut.cval,Me=Ft[mt],ne=_e(Ut,Me);Mt.push([Et+ne[0],At+ne[1]]),Me=Lt[mt],ne=_e(Ut,Me),Mt.push([Et+ne[0],At+ne[1]]),ee(Ut);for(var Qe=Et+Pt[mt],ye=At+St[mt],Be=mt;Qe>=0&&ye>=0&&ye<jt&&(Qe!=Et||ye!=At)&&(Ut=Q[ye][Qe])!==void 0;){if((mt=Ut.cval)===0||mt===15)return{path:Mt,info:"mergeable"};Me=Lt[mt],Dt=Pt[mt],Tt=St[mt],mt!==5&&mt!==10||(mt===5?Ut.flipped?St[Be]===-1?(Me="left",Dt=-1,Tt=0):(Me="right",Dt=1,Tt=0):Pt[Be]===-1&&(Me="bottom",Dt=0,Tt=-1):mt===10&&(Ut.flipped?Pt[Be]===-1?(Me="top",Dt=0,Tt=1):(Me="bottom",Dt=0,Tt=-1):St[Be]===1&&(Me="left",Dt=-1,Tt=0))),ne=_e(Ut,Me),Mt.push([Qe+ne[0],ye+ne[1]]),ee(Ut),Qe+=Dt,ye+=Tt,Be=mt}return{path:Mt,info:"closed"}}(w.cells,z,B),X=!1;if(R.info==="mergeable"){for(var it=R.path[R.path.length-1][0],D=R.path[R.path.length-1][1],Y=T-1;Y>=0;Y--)if(Math.abs(x[Y][0][0]-it)<=E&&Math.abs(x[Y][0][1]-D)<=E){for(var K=R.path.length-2;K>=0;--K)x[Y].unshift(R.path[K]);X=!0;break}}X||(x[T++]=R.path)}var tt})}),x}(function(w,x){for(var T=w.length-1,E=w[0].length-1,P={rows:T,cols:E,cells:[]},z=0;z<T;++z){P.cells[z]=[];for(var N=0;N<E;++N){var B=0,R=w[z+1][N],X=w[z+1][N+1],it=w[z][N+1],D=w[z][N];if(!(isNaN(R)||isNaN(X)||isNaN(it)||isNaN(D))){B|=R>=x?8:0,B|=X>=x?4:0,B|=it>=x?2:0;var Y,K,tt,Q,At=!1;if((B|=D>=x?1:0)===5||B===10){var Et=(R+X+it+D)/4;B===5&&Et<x?(B=10,At=!0):B===10&&Et<x&&(B=5,At=!0)}B!==0&&B!==15&&(Y=K=tt=Q=.5,B===1?(tt=1-st(x,R,D),K=1-st(x,it,D)):B===2?(K=st(x,D,it),Q=1-st(x,X,it)):B===3?(tt=1-st(x,R,D),Q=1-st(x,X,it)):B===4?(Y=st(x,R,X),Q=st(x,it,X)):B===5?(Y=st(x,R,X),Q=st(x,it,X),K=1-st(x,it,D),tt=1-st(x,R,D)):B===6?(K=st(x,D,it),Y=st(x,R,X)):B===7?(tt=1-st(x,R,D),Y=st(x,R,X)):B===8?(tt=st(x,D,R),Y=1-st(x,X,R)):B===9?(K=1-st(x,it,D),Y=1-st(x,X,R)):B===10?(Y=1-st(x,X,R),Q=1-st(x,X,it),K=st(x,D,it),tt=st(x,D,R)):B===11?(Y=1-st(x,X,R),Q=1-st(x,X,it)):B===12?(tt=st(x,D,R),Q=st(x,it,X)):B===13?(K=1-st(x,it,D),Q=st(x,it,X)):B===14?(tt=st(x,D,R),K=st(x,D,it)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+B),P.cells[z][N]={cval:B,flipped:At,top:Y,right:Q,bottom:K,left:tt})}}}return P}(e,i));return typeof J.successCallback=="function"&&J.successCallback(y),y}function st(e,i,s){return(e-i)/(s-i)}function qt(e){return e.cval===0||e.cval===15}function ee(e){qt(e)||e.cval===5||e.cval===10||(e.cval=15)}function _e(e,i){return i==="top"?[e.top,1]:i==="bottom"?[e.bottom,0]:i==="right"?[1,e.right]:i==="left"?[0,e.left]:void 0}function sr(e,i){if(!vt(i=i||{}))throw new Error("options is invalid");var s=i.zProperty||"elevation",a=i.flip,c=i.flags;_t(e,"Point","input must contain Points");for(var h=function(P,z){var N={};return xt(P,function(B){var R=U(B)[1];N[R]||(N[R]=[]),N[R].push(B)}),Object.keys(N).map(function(B){return N[B].sort(function(R,X){return U(R)[0]-U(X)[0]})}).sort(function(B,R){return z?U(B[0])[1]-U(R[0])[1]:U(R[0])[1]-U(B[0])[1]})}(e,a),g=[],y=0;y<h.length;y++){for(var w=h[y],x=[],T=0;T<w.length;T++){var E=w[T];E.properties[s]?x.push(E.properties[s]):x.push(0),c===!0&&(E.properties.matrixPosition=[y,T])}g.push(x)}return g}var Oe=ji,qn=ji;function ji(e,i,s,a,c){Ts(e,i,s||0,a||e.length-1,c||ku)}function Ts(e,i,s,a,c){for(;a>s;){if(a-s>600){var h=a-s+1,g=i-s+1,y=Math.log(h),w=.5*Math.exp(2*y/3),x=.5*Math.sqrt(y*w*(h-w)/h)*(g-h/2<0?-1:1);Ts(e,i,Math.max(s,Math.floor(i-g*w/h+x)),Math.min(a,Math.floor(i+(h-g)*w/h+x)),c)}var T=e[i],E=s,P=a;for(ra(e,s,i),c(e[a],T)>0&&ra(e,s,a);E<P;){for(ra(e,E,P),E++,P--;c(e[E],T)<0;)E++;for(;c(e[P],T)>0;)P--}c(e[s],T)===0?ra(e,s,P):ra(e,++P,a),P<=i&&(s=P+1),i<=P&&(a=P-1)}}function ra(e,i,s){var a=e[i];e[i]=e[s],e[s]=a}function ku(e,i){return e<i?-1:e>i?1:0}Oe.default=qn;var Ji=Eu,Gy=Eu;function Eu(e,i){if(!(this instanceof Eu))return new Eu(e,i);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),i&&this._initFormat(i),this.clear()}function qy(e,i,s){if(!s)return i.indexOf(e);for(var a=0;a<i.length;a++)if(s(e,i[a]))return a;return-1}function fc(e,i){Tu(e,0,e.children.length,i,e)}function Tu(e,i,s,a,c){c||(c=xl(null)),c.minX=1/0,c.minY=1/0,c.maxX=-1/0,c.maxY=-1/0;for(var h,g=i;g<s;g++)h=e.children[g],wl(c,e.leaf?a(h):h);return c}function wl(e,i){return e.minX=Math.min(e.minX,i.minX),e.minY=Math.min(e.minY,i.minY),e.maxX=Math.max(e.maxX,i.maxX),e.maxY=Math.max(e.maxY,i.maxY),e}function hm(e,i){return e.minX-i.minX}function dm(e,i){return e.minY-i.minY}function Lp(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function Rh(e){return e.maxX-e.minX+(e.maxY-e.minY)}function zo(e,i){return e.minX<=i.minX&&e.minY<=i.minY&&i.maxX<=e.maxX&&i.maxY<=e.maxY}function ze(e,i){return i.minX<=e.maxX&&i.minY<=e.maxY&&i.maxX>=e.minX&&i.maxY>=e.minY}function xl(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Rp(e,i,s,a,c){for(var h,g=[i,s];g.length;)(s=g.pop())-(i=g.pop())<=a||(h=i+Math.ceil((s-i)/a/2)*a,Oe(e,h,i,s,c),g.push(i,h,h,s))}function es(e){var i={exports:{}};return e(i,i.exports),i.exports}Eu.prototype={all:function(){return this._all(this.data,[])},search:function(e){var i=this.data,s=[],a=this.toBBox;if(!ze(e,i))return s;for(var c,h,g,y,w=[];i;){for(c=0,h=i.children.length;c<h;c++)g=i.children[c],ze(e,y=i.leaf?a(g):g)&&(i.leaf?s.push(g):zo(e,y)?this._all(g,s):w.push(g));i=w.pop()}return s},collides:function(e){var i=this.data,s=this.toBBox;if(!ze(e,i))return!1;for(var a,c,h,g,y=[];i;){for(a=0,c=i.children.length;a<c;a++)if(h=i.children[a],ze(e,g=i.leaf?s(h):h)){if(i.leaf||zo(e,g))return!0;y.push(h)}i=y.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var i=0,s=e.length;i<s;i++)this.insert(e[i]);return this}var a=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===a.height)this._splitRoot(this.data,a);else{if(this.data.height<a.height){var c=this.data;this.data=a,a=c}this._insert(a,this.data.height-a.height-1,!0)}else this.data=a;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=xl([]),this},remove:function(e,i){if(!e)return this;for(var s,a,c,h,g=this.data,y=this.toBBox(e),w=[],x=[];g||w.length;){if(g||(g=w.pop(),a=w[w.length-1],s=x.pop(),h=!0),g.leaf&&(c=qy(e,g.children,i))!==-1)return g.children.splice(c,1),w.push(g),this._condense(w),this;h||g.leaf||!zo(g,y)?a?(s++,g=a.children[s],h=!1):g=null:(w.push(g),x.push(s),s=0,a=g,g=g.children[0])}return this},toBBox:function(e){return e},compareMinX:hm,compareMinY:dm,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,i){for(var s=[];e;)e.leaf?i.push.apply(i,e.children):s.push.apply(s,e.children),e=s.pop();return i},_build:function(e,i,s,a){var c,h=s-i+1,g=this._maxEntries;if(h<=g)return fc(c=xl(e.slice(i,s+1)),this.toBBox),c;a||(a=Math.ceil(Math.log(h)/Math.log(g)),g=Math.ceil(h/Math.pow(g,a-1))),(c=xl([])).leaf=!1,c.height=a;var y,w,x,T,E=Math.ceil(h/g),P=E*Math.ceil(Math.sqrt(g));for(Rp(e,i,s,P,this.compareMinX),y=i;y<=s;y+=P)for(Rp(e,y,x=Math.min(y+P-1,s),E,this.compareMinY),w=y;w<=x;w+=E)T=Math.min(w+E-1,x),c.children.push(this._build(e,w,T,a-1));return fc(c,this.toBBox),c},_chooseSubtree:function(e,i,s,a){for(var c,h,g,y,w,x,T,E,P,z;a.push(i),!i.leaf&&a.length-1!==s;){for(T=E=1/0,c=0,h=i.children.length;c<h;c++)w=Lp(g=i.children[c]),P=e,z=g,(x=(Math.max(z.maxX,P.maxX)-Math.min(z.minX,P.minX))*(Math.max(z.maxY,P.maxY)-Math.min(z.minY,P.minY))-w)<E?(E=x,T=w<T?w:T,y=g):x===E&&w<T&&(T=w,y=g);i=y||i.children[0]}return i},_insert:function(e,i,s){var a=this.toBBox,c=s?e:a(e),h=[],g=this._chooseSubtree(c,this.data,i,h);for(g.children.push(e),wl(g,c);i>=0&&h[i].children.length>this._maxEntries;)this._split(h,i),i--;this._adjustParentBBoxes(c,h,i)},_split:function(e,i){var s=e[i],a=s.children.length,c=this._minEntries;this._chooseSplitAxis(s,c,a);var h=this._chooseSplitIndex(s,c,a),g=xl(s.children.splice(h,s.children.length-h));g.height=s.height,g.leaf=s.leaf,fc(s,this.toBBox),fc(g,this.toBBox),i?e[i-1].children.push(g):this._splitRoot(s,g)},_splitRoot:function(e,i){this.data=xl([e,i]),this.data.height=e.height+1,this.data.leaf=!1,fc(this.data,this.toBBox)},_chooseSplitIndex:function(e,i,s){var a,c,h,g,y,w,x,T,E,P,z,N,B,R;for(w=x=1/0,a=i;a<=s-i;a++)c=Tu(e,0,a,this.toBBox),h=Tu(e,a,s,this.toBBox),E=c,P=h,z=void 0,N=void 0,B=void 0,R=void 0,z=Math.max(E.minX,P.minX),N=Math.max(E.minY,P.minY),B=Math.min(E.maxX,P.maxX),R=Math.min(E.maxY,P.maxY),g=Math.max(0,B-z)*Math.max(0,R-N),y=Lp(c)+Lp(h),g<w?(w=g,T=a,x=y<x?y:x):g===w&&y<x&&(x=y,T=a);return T},_chooseSplitAxis:function(e,i,s){var a=e.leaf?this.compareMinX:hm,c=e.leaf?this.compareMinY:dm;this._allDistMargin(e,i,s,a)<this._allDistMargin(e,i,s,c)&&e.children.sort(a)},_allDistMargin:function(e,i,s,a){e.children.sort(a);var c,h,g=this.toBBox,y=Tu(e,0,i,g),w=Tu(e,s-i,s,g),x=Rh(y)+Rh(w);for(c=i;c<s-i;c++)h=e.children[c],wl(y,e.leaf?g(h):h),x+=Rh(y);for(c=s-i-1;c>=i;c--)h=e.children[c],wl(w,e.leaf?g(h):h),x+=Rh(w);return x},_adjustParentBBoxes:function(e,i,s){for(var a=s;a>=0;a--)wl(i[a],e)},_condense:function(e){for(var i,s=e.length-1;s>=0;s--)e[s].children.length===0?s>0?(i=e[s-1].children).splice(i.indexOf(e[s]),1):this.clear():fc(e[s],this.toBBox)},_initFormat:function(e){var i=["return a"," - b",";"];this.compareMinX=new Function("a","b",i.join(e[0])),this.compareMinY=new Function("a","b",i.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}},Ji.default=Gy;var Su=function(e,i,s){var a=e*i,c=Ah*e,h=c-(c-e),g=e-h,y=Ah*i,w=y-(y-i),x=i-w,T=g*x-(a-h*w-g*w-h*x);return s?(s[0]=T,s[1]=a,s):[T,a]},Ah=+(Math.pow(2,27)+1),pm=function(e,i){var s=0|e.length,a=0|i.length;if(s===1&&a===1)return function(tt,Q){var At=tt+Q,Et=At-tt,Dt=tt-(At-Et)+(Q-Et);return Dt?[Dt,At]:[At]}(e[0],i[0]);var c,h,g=new Array(s+a),y=0,w=0,x=0,T=Math.abs,E=e[w],P=T(E),z=i[x],N=T(z);P<N?(h=E,(w+=1)<s&&(E=e[w],P=T(E))):(h=z,(x+=1)<a&&(z=i[x],N=T(z))),w<s&&P<N||x>=a?(c=E,(w+=1)<s&&(E=e[w],P=T(E))):(c=z,(x+=1)<a&&(z=i[x],N=T(z)));for(var B,R,X=c+h,it=X-c,D=h-it,Y=D,K=X;w<s&&x<a;)P<N?(c=E,(w+=1)<s&&(E=e[w],P=T(E))):(c=z,(x+=1)<a&&(z=i[x],N=T(z))),(D=(h=Y)-(it=(X=c+h)-c))&&(g[y++]=D),Y=K-((B=K+X)-(R=B-K))+(X-R),K=B;for(;w<s;)(D=(h=Y)-(it=(X=(c=E)+h)-c))&&(g[y++]=D),Y=K-((B=K+X)-(R=B-K))+(X-R),K=B,(w+=1)<s&&(E=e[w]);for(;x<a;)(D=(h=Y)-(it=(X=(c=z)+h)-c))&&(g[y++]=D),Y=K-((B=K+X)-(R=B-K))+(X-R),K=B,(x+=1)<a&&(z=i[x]);return Y&&(g[y++]=Y),K&&(g[y++]=K),y||(g[y++]=0),g.length=y,g},gc=function(e,i,s){var a=e+i,c=a-e,h=i-c,g=e-(a-c);return s?(s[0]=g+h,s[1]=a,s):[g+h,a]},fm=function(e,i){var s=e.length;if(s===1){var a=Su(e[0],i);return a[0]?a:[a[1]]}var c=new Array(2*s),h=[.1,.1],g=[.1,.1],y=0;Su(e[0],i,h),h[0]&&(c[y++]=h[0]);for(var w=1;w<s;++w){Su(e[w],i,g);var x=h[1];gc(x,g[0],h),h[0]&&(c[y++]=h[0]);var T=g[1],E=h[1],P=T+E,z=E-(P-T);h[1]=P,z&&(c[y++]=z)}return h[1]&&(c[y++]=h[1]),y===0&&(c[y++]=0),c.length=y,c},Vy=function(e,i){var s=0|e.length,a=0|i.length;if(s===1&&a===1)return function(tt,Q){var At=tt+Q,Et=At-tt,Dt=tt-(At-Et)+(Q-Et);return Dt?[Dt,At]:[At]}(e[0],-i[0]);var c,h,g=new Array(s+a),y=0,w=0,x=0,T=Math.abs,E=e[w],P=T(E),z=-i[x],N=T(z);P<N?(h=E,(w+=1)<s&&(E=e[w],P=T(E))):(h=z,(x+=1)<a&&(z=-i[x],N=T(z))),w<s&&P<N||x>=a?(c=E,(w+=1)<s&&(E=e[w],P=T(E))):(c=z,(x+=1)<a&&(z=-i[x],N=T(z)));for(var B,R,X=c+h,it=X-c,D=h-it,Y=D,K=X;w<s&&x<a;)P<N?(c=E,(w+=1)<s&&(E=e[w],P=T(E))):(c=z,(x+=1)<a&&(z=-i[x],N=T(z))),(D=(h=Y)-(it=(X=c+h)-c))&&(g[y++]=D),Y=K-((B=K+X)-(R=B-K))+(X-R),K=B;for(;w<s;)(D=(h=Y)-(it=(X=(c=E)+h)-c))&&(g[y++]=D),Y=K-((B=K+X)-(R=B-K))+(X-R),K=B,(w+=1)<s&&(E=e[w]);for(;x<a;)(D=(h=Y)-(it=(X=(c=z)+h)-c))&&(g[y++]=D),Y=K-((B=K+X)-(R=B-K))+(X-R),K=B,(x+=1)<a&&(z=-i[x]);return Y&&(g[y++]=Y),K&&(g[y++]=K),y||(g[y++]=0),g.length=y,g},gm=es(function(e){function i(x,T){for(var E=new Array(x.length-1),P=1;P<x.length;++P)for(var z=E[P-1]=new Array(x.length-1),N=0,B=0;N<x.length;++N)N!==T&&(z[B++]=x[P][N]);return E}function s(x){if(x.length===1)return x[0];if(x.length===2)return["sum(",x[0],",",x[1],")"].join("");var T=x.length>>1;return["sum(",s(x.slice(0,T)),",",s(x.slice(T)),")"].join("")}function a(x){if(x.length===2)return[["sum(prod(",x[0][0],",",x[1][1],"),prod(-",x[0][1],",",x[1][0],"))"].join("")];for(var T=[],E=0;E<x.length;++E)T.push(["scale(",s(a(i(x,E))),",",(P=E,1&P?"-":""),x[0][E],")"].join(""));return T;var P}function c(x){for(var T=[],E=[],P=function(D){for(var Y=new Array(D),K=0;K<D;++K){Y[K]=new Array(D);for(var tt=0;tt<D;++tt)Y[K][tt]=["m",tt,"[",D-K-1,"]"].join("")}return Y}(x),z=[],N=0;N<x;++N)1&N?E.push.apply(E,a(i(P,N))):T.push.apply(T,a(i(P,N))),z.push("m"+N);var B=s(T),R=s(E),X="orientation"+x+"Exact",it=["function ",X,"(",z.join(),"){var p=",B,",n=",R,",d=sub(p,n);return d[d.length-1];};return ",X].join("");return new Function("sum","prod","scale","sub",it)(pm,Su,fm,Vy)}var h=c(3),g=c(4),y=[function(){return 0},function(){return 0},function(x,T){return T[0]-x[0]},function(x,T,E){var P,z=(x[1]-E[1])*(T[0]-E[0]),N=(x[0]-E[0])*(T[1]-E[1]),B=z-N;if(z>0){if(N<=0)return B;P=z+N}else{if(!(z<0)||N>=0)return B;P=-(z+N)}var R=33306690738754716e-32*P;return B>=R||B<=-R?B:h(x,T,E)},function(x,T,E,P){var z=x[0]-P[0],N=T[0]-P[0],B=E[0]-P[0],R=x[1]-P[1],X=T[1]-P[1],it=E[1]-P[1],D=x[2]-P[2],Y=T[2]-P[2],K=E[2]-P[2],tt=N*it,Q=B*X,At=B*R,Et=z*it,Dt=z*X,Tt=N*R,jt=D*(tt-Q)+Y*(At-Et)+K*(Dt-Tt),Mt=7771561172376103e-31*((Math.abs(tt)+Math.abs(Q))*Math.abs(D)+(Math.abs(At)+Math.abs(Et))*Math.abs(Y)+(Math.abs(Dt)+Math.abs(Tt))*Math.abs(K));return jt>Mt||-jt>Mt?jt:g(x,T,E,P)}];function w(x){var T=y[x.length];return T||(T=y[x.length]=c(x.length)),T.apply(void 0,x)}(function(){for(;y.length<=5;)y.push(c(y.length));for(var x=[],T=["slow"],E=0;E<=5;++E)x.push("a"+E),T.push("o"+E);var P=["function getOrientation(",x.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(E=2;E<=5;++E)P.push("case ",E,":return o",E,"(",x.slice(0,E).join(),");");P.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),T.push(P.join(""));var z=Function.apply(void 0,T);for(e.exports=z.apply(void 0,[w].concat(y)),E=0;E<=5;++E)e.exports[E]=y[E]})()}),Wy=function(e){var i=e.length;if(i<3){for(var s=new Array(i),a=0;a<i;++a)s[a]=a;return i===2&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]?[0]:s}var c=new Array(i);for(a=0;a<i;++a)c[a]=a;c.sort(function(z,N){var B=e[z][0]-e[N][0];return B||e[z][1]-e[N][1]});var h=[c[0],c[1]],g=[c[0],c[1]];for(a=2;a<i;++a){for(var y=c[a],w=e[y],x=h.length;x>1&&mm(e[h[x-2]],e[h[x-1]],w)<=0;)x-=1,h.pop();for(h.push(y),x=g.length;x>1&&mm(e[g[x-2]],e[g[x-1]],w)>=0;)x-=1,g.pop();g.push(y)}s=new Array(g.length+h.length-2);for(var T=0,E=(a=0,h.length);a<E;++a)s[T++]=h[a];for(var P=g.length-2;P>0;--P)s[T++]=g[P];return s},mm=gm[3],Ap=Ba,Zy=Ba;function Ba(e,i){if(!(this instanceof Ba))return new Ba(e,i);if(this.data=e||[],this.length=this.data.length,this.compare=i||Yy,this.length>0)for(var s=(this.length>>1)-1;s>=0;s--)this._down(s)}function Yy(e,i){return e<i?-1:e>i?1:0}Ba.prototype={push:function(e){this.data.push(e),this.length++,this._up(this.length-1)},pop:function(){if(this.length!==0){var e=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),e}},peek:function(){return this.data[0]},_up:function(e){for(var i=this.data,s=this.compare,a=i[e];e>0;){var c=e-1>>1,h=i[c];if(s(a,h)>=0)break;i[e]=h,e=c}i[e]=a},_down:function(e){for(var i=this.data,s=this.compare,a=this.length>>1,c=i[e];e<a;){var h=1+(e<<1),g=h+1,y=i[h];if(g<this.length&&s(i[g],y)<0&&(h=g,y=i[g]),s(y,c)>=0)break;i[e]=y,e=h}i[e]=c}},Ap.default=Zy;var Xy=function(e,i){for(var s=e[0],a=e[1],c=!1,h=0,g=i.length-1;h<i.length;g=h++){var y=i[h][0],w=i[h][1],x=i[g][0],T=i[g][1];w>a!=T>a&&s<(x-y)*(a-w)/(T-w)+y&&(c=!c)}return c},Oh=gm[3],vm=zh,Ky=zh;function zh(e,i,s){i=Math.max(0,i===void 0?2:i),s=s||0;for(var a,c=function(it){for(var D=it[0],Y=it[0],K=it[0],tt=it[0],Q=0;Q<it.length;Q++){var At=it[Q];At[0]<D[0]&&(D=At),At[0]>K[0]&&(K=At),At[1]<Y[1]&&(Y=At),At[1]>tt[1]&&(tt=At)}var Et=[D,Y,K,tt],Dt=Et.slice();for(Q=0;Q<it.length;Q++)Xy(it[Q],Et)||Dt.push(it[Q]);var Tt=Wy(Dt),jt=[];for(Q=0;Q<Tt.length;Q++)jt.push(Dt[Tt[Q]]);return jt}(e),h=Ji(16,["[0]","[1]","[0]","[1]"]).load(e),g=[],y=0;y<c.length;y++){var w=c[y];h.remove(w),a=Pu(w,a),g.push(a)}var x=Ji(16);for(y=0;y<g.length;y++)x.insert(ki(g[y]));for(var T=i*i,E=s*s;g.length;){var P=g.shift(),z=P.p,N=P.next.p,B=ja(z,N);if(!(B<E)){var R=B/T;(w=Cu(h,P.prev.p,z,N,P.next.next.p,R,x))&&Math.min(ja(w,z),ja(w,N))<=R&&(g.push(P),g.push(Pu(w,P)),h.remove(w),x.remove(P),x.insert(ki(P)),x.insert(ki(P.next)))}}P=a;var X=[];do X.push(P.p),P=P.next;while(P!==a);return X.push(P.p),X}function Cu(e,i,s,a,c,h,g){for(var y=new Ap(null,ym),w=e.data;w;){for(var x=0;x<w.children.length;x++){var T=w.children[x],E=w.leaf?Ha(T,s,a):bm(s,a,T);E>h||y.push({node:T,dist:E})}for(;y.length&&!y.peek().node.children;){var P=y.pop(),z=P.node,N=Ha(z,i,s),B=Ha(z,a,c);if(P.dist<N&&P.dist<B&&ei(s,z,g)&&ei(a,z,g))return z}(w=y.pop())&&(w=w.node)}return null}function ym(e,i){return e.dist-i.dist}function bm(e,i,s){if(mc(e,s)||mc(i,s))return 0;var a=vc(e[0],e[1],i[0],i[1],s.minX,s.minY,s.maxX,s.minY);if(a===0)return 0;var c=vc(e[0],e[1],i[0],i[1],s.minX,s.minY,s.minX,s.maxY);if(c===0)return 0;var h=vc(e[0],e[1],i[0],i[1],s.maxX,s.minY,s.maxX,s.maxY);if(h===0)return 0;var g=vc(e[0],e[1],i[0],i[1],s.minX,s.maxY,s.maxX,s.maxY);return g===0?0:Math.min(a,c,h,g)}function mc(e,i){return e[0]>=i.minX&&e[0]<=i.maxX&&e[1]>=i.minY&&e[1]<=i.maxY}function ei(e,i,s){for(var a,c,h,g,y=Math.min(e[0],i[0]),w=Math.min(e[1],i[1]),x=Math.max(e[0],i[0]),T=Math.max(e[1],i[1]),E=s.search({minX:y,minY:w,maxX:x,maxY:T}),P=0;P<E.length;P++)if(a=E[P].p,c=E[P].next.p,h=e,a!==(g=i)&&c!==h&&Oh(a,c,h)>0!=Oh(a,c,g)>0&&Oh(h,g,a)>0!=Oh(h,g,c)>0)return!1;return!0}function ki(e){var i=e.p,s=e.next.p;return e.minX=Math.min(i[0],s[0]),e.minY=Math.min(i[1],s[1]),e.maxX=Math.max(i[0],s[0]),e.maxY=Math.max(i[1],s[1]),e}function Pu(e,i){var s={p:e,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return i?(s.next=i.next,s.prev=i,i.next.prev=s,i.next=s):(s.prev=s,s.next=s),s}function ja(e,i){var s=e[0]-i[0],a=e[1]-i[1];return s*s+a*a}function Ha(e,i,s){var a=i[0],c=i[1],h=s[0]-a,g=s[1]-c;if(h!==0||g!==0){var y=((e[0]-a)*h+(e[1]-c)*g)/(h*h+g*g);y>1?(a=s[0],c=s[1]):y>0&&(a+=h*y,c+=g*y)}return(h=e[0]-a)*h+(g=e[1]-c)*g}function vc(e,i,s,a,c,h,g,y){var w,x,T,E,P=s-e,z=a-i,N=g-c,B=y-h,R=e-c,X=i-h,it=P*P+z*z,D=P*N+z*B,Y=N*N+B*B,K=P*R+z*X,tt=N*R+B*X,Q=it*Y-D*D,At=Q,Et=Q;Q===0?(x=0,At=1,E=tt,Et=Y):(E=it*tt-D*K,(x=D*tt-Y*K)<0?(x=0,E=tt,Et=Y):x>At&&(x=At,E=tt+D,Et=Y)),E<0?(E=0,-K<0?x=0:-K>it?x=At:(x=-K,At=it)):E>Et&&(E=Et,-K+D<0?x=0:-K+D>it?x=At:(x=-K+D,At=it));var Dt=(1-(T=E===0?0:E/Et))*c+T*g-((1-(w=x===0?0:x/At))*e+w*s),Tt=(1-T)*h+T*y-((1-w)*i+w*a);return Dt*Dt+Tt*Tt}function cr(e,i){i===void 0&&(i={}),i.concavity=i.concavity||1/0;var s=[];if(Gt(e,function(c){s.push([c[0],c[1]])}),!s.length)return null;var a=vm(s,i.concavity);return a.length>3?v([a]):null}function Ye(e,i,s){if(s===void 0&&(s={}),!e)throw new Error("point is required");if(!i)throw new Error("polygon is required");var a=I(e),c=ut(i),h=c.type,g=i.bbox,y=c.coordinates;if(g&&function(P,z){return z[0]<=P[0]&&z[1]<=P[1]&&z[2]>=P[0]&&z[3]>=P[1]}(a,g)===!1)return!1;h==="Polygon"&&(y=[y]);for(var w=!1,x=0;x<y.length&&!w;x++)if(Nh(a,y[x][0],s.ignoreBoundary)){for(var T=!1,E=1;E<y[x].length&&!T;)Nh(a,y[x][E],!s.ignoreBoundary)&&(T=!0),E++;T||(w=!0)}return w}function Nh(e,i,s){var a=!1;i[0][0]===i[i.length-1][0]&&i[0][1]===i[i.length-1][1]&&(i=i.slice(0,i.length-1));for(var c=0,h=i.length-1;c<i.length;h=c++){var g=i[c][0],y=i[c][1],w=i[h][0],x=i[h][1];if(e[1]*(g-w)+y*(w-e[0])+x*(e[0]-g)==0&&(g-e[0])*(w-e[0])<=0&&(y-e[1])*(x-e[1])<=0)return!s;y>e[1]!=x>e[1]&&e[0]<(w-g)*(e[1]-y)/(x-y)+g&&(a=!a)}return a}function yc(e,i){var s=[];return xt(e,function(a){var c=!1;if(a.geometry.type==="Point")te(i,function(g){Ye(a,g)&&(c=!0)}),c&&s.push(a);else{if(a.geometry.type!=="MultiPoint")throw new Error("Input geometry must be a Point or MultiPoint");var h=[];te(i,function(g){Gt(a,function(y){Ye(y,g)&&(c=!0,h.push(y))})}),c&&s.push(F(h))}}),M(s)}function ir(e,i,s){s===void 0&&(s={});var a=I(e),c=I(i),h=ct(c[1]-a[1]),g=ct(c[0]-a[0]),y=ct(a[1]),w=ct(c[1]),x=Math.pow(Math.sin(h/2),2)+Math.pow(Math.sin(g/2),2)*Math.cos(y)*Math.cos(w);return j(2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x)),s.units)}function wm(e,i){var s=!1;return M(function(a){if(a.length<3)return[];a.sort(_l);for(var c,h,g,y,w,x,T=a.length-1,E=a[T].x,P=a[0].x,z=a[T].y,N=z,B=1e-12;T--;)a[T].y<z&&(z=a[T].y),a[T].y>N&&(N=a[T].y);var R,X=P-E,it=N-z,D=X>it?X:it,Y=.5*(P+E),K=.5*(N+z),tt=[new Mu({__sentinel:!0,x:Y-20*D,y:K-D},{__sentinel:!0,x:Y,y:K+20*D},{__sentinel:!0,x:Y+20*D,y:K-D})],Q=[],At=[];for(T=a.length;T--;){for(At.length=0,R=tt.length;R--;)(X=a[T].x-tt[R].x)>0&&X*X>tt[R].r?(Q.push(tt[R]),tt.splice(R,1)):X*X+(it=a[T].y-tt[R].y)*it>tt[R].r||(At.push(tt[R].a,tt[R].b,tt[R].b,tt[R].c,tt[R].c,tt[R].a),tt.splice(R,1));for(Ki(At),R=At.length;R;)h=At[--R],c=At[--R],g=a[T],y=h.x-c.x,w=h.y-c.y,x=2*(y*(g.y-h.y)-w*(g.x-h.x)),Math.abs(x)>B&&tt.push(new Mu(c,h,g))}for(Array.prototype.push.apply(Q,tt),T=Q.length;T--;)(Q[T].a.__sentinel||Q[T].b.__sentinel||Q[T].c.__sentinel)&&Q.splice(T,1);return Q}(e.features.map(function(a){var c={x:a.geometry.coordinates[0],y:a.geometry.coordinates[1]};return i?c.z=a.properties[i]:a.geometry.coordinates.length===3&&(s=!0,c.z=a.geometry.coordinates[2]),c})).map(function(a){var c=[a.a.x,a.a.y],h=[a.b.x,a.b.y],g=[a.c.x,a.c.y],y={};return s?(c.push(a.a.z),h.push(a.b.z),g.push(a.c.z)):y={a:a.a.z,b:a.b.z,c:a.c.z},v([[c,h,g,c]],y)}))}vm.default=Ky;var Mu=function(e,i,s){this.a=e,this.b=i,this.c=s;var a,c,h=i.x-e.x,g=i.y-e.y,y=s.x-e.x,w=s.y-e.y,x=h*(e.x+i.x)+g*(e.y+i.y),T=y*(e.x+s.x)+w*(e.y+s.y),E=2*(h*(s.y-i.y)-g*(s.x-i.x));this.x=(w*x-g*T)/E,this.y=(h*T-y*x)/E,a=this.x-e.x,c=this.y-e.y,this.r=a*a+c*c};function _l(e,i){return i.x-e.x}function Ki(e){var i,s,a,c,h,g=e.length;t:for(;g;)for(s=e[--g],i=e[--g],a=g;a;)if(h=e[--a],i===(c=e[--a])&&s===h||i===h&&s===c){e.splice(g,2),e.splice(a,2),g-=2;continue t}}function Si(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return bc(e);case"FeatureCollection":return function(i){var s={type:"FeatureCollection"};return Object.keys(i).forEach(function(a){switch(a){case"type":case"features":return;default:s[a]=i[a]}}),s.features=i.features.map(function(a){return bc(a)}),s}(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Iu(e);default:throw new Error("unknown GeoJSON type")}}function bc(e){var i={type:"Feature"};return Object.keys(e).forEach(function(s){switch(s){case"type":case"properties":case"geometry":return;default:i[s]=e[s]}}),i.properties=wc(e.properties),i.geometry=Iu(e.geometry),i}function wc(e){var i={};return e&&Object.keys(e).forEach(function(s){var a=e[s];typeof a=="object"?a===null?i[s]=null:Array.isArray(a)?i[s]=a.map(function(c){return c}):i[s]=wc(a):i[s]=a}),i}function Iu(e){var i={type:e.type};return e.bbox&&(i.bbox=e.bbox),e.type==="GeometryCollection"?(i.geometries=e.geometries.map(function(s){return Iu(s)}),i):(i.coordinates=xc(e.coordinates),i)}function xc(e){var i=e;return typeof i[0]!="object"?i.slice():i.map(function(s){return xc(s)})}function Op(e,i){if(i===void 0&&(i={}),!vt(i=i||{}))throw new Error("options is invalid");var s=i.mutate;if(It(e)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");s!==!1&&s!==void 0||(e=Si(e));var a=[],c=Xi(e,function(h,g){var y=function(w,x){var T,E=w.geometry.coordinates,P=x.geometry.coordinates,z=_c(E[0]),N=_c(E[E.length-1]),B=_c(P[0]),R=_c(P[P.length-1]);if(z===R)T=P.concat(E.slice(1));else if(B===N)T=E.concat(P.slice(1));else if(z===B)T=E.slice(1).reverse().concat(P);else{if(N!==R)return null;T=E.concat(P.reverse().slice(1))}return k(T)}(h,g);return y||(a.push(h),g)});return c&&a.push(c),a.length?a.length===1?a[0]:A(a.map(function(h){return h.coordinates})):null}function _c(e){return e[0].toString()+","+e[1].toString()}function Dh(e){return e}function Fh(e,i){var s=function(x){if(x==null)return Dh;var T,E,P=x.scale[0],z=x.scale[1],N=x.translate[0],B=x.translate[1];return function(R,X){X||(T=E=0);var it=2,D=R.length,Y=new Array(D);for(Y[0]=(T+=R[0])*P+N,Y[1]=(E+=R[1])*z+B;it<D;)Y[it]=R[it],++it;return Y}}(e.transform),a=e.arcs;function c(x,T){T.length&&T.pop();for(var E=a[x<0?~x:x],P=0,z=E.length;P<z;++P)T.push(s(E[P],P));x<0&&function(N,B){for(var R,X=N.length,it=X-B;it<--X;)R=N[it],N[it++]=N[X],N[X]=R}(T,z)}function h(x){return s(x)}function g(x){for(var T=[],E=0,P=x.length;E<P;++E)c(x[E],T);return T.length<2&&T.push(T[0]),T}function y(x){for(var T=g(x);T.length<4;)T.push(T[0]);return T}function w(x){return x.map(y)}return function x(T){var E,P=T.type;switch(P){case"GeometryCollection":return{type:P,geometries:T.geometries.map(x)};case"Point":E=h(T.coordinates);break;case"MultiPoint":E=T.coordinates.map(h);break;case"LineString":E=g(T.arcs);break;case"MultiLineString":E=T.arcs.map(g);break;case"Polygon":E=w(T.arcs);break;case"MultiPolygon":E=T.arcs.map(w);break;default:return null}return{type:P,coordinates:E}}(i)}function zp(e,i){var s={},a={},c={},h=[],g=-1;function y(w,x){for(var T in w){var E=w[T];delete x[E.start],delete E.start,delete E.end,E.forEach(function(P){s[P<0?~P:P]=1}),h.push(E)}}return i.forEach(function(w,x){var T,E=e.arcs[w<0?~w:w];E.length<3&&!E[1][0]&&!E[1][1]&&(T=i[++g],i[g]=w,i[x]=T)}),i.forEach(function(w){var x,T,E=function(R){var X,it=e.arcs[R<0?~R:R],D=it[0];return e.transform?(X=[0,0],it.forEach(function(Y){X[0]+=Y[0],X[1]+=Y[1]})):X=it[it.length-1],R<0?[X,D]:[D,X]}(w),P=E[0],z=E[1];if(x=c[P])if(delete c[x.end],x.push(w),x.end=z,T=a[z]){delete a[T.start];var N=T===x?x:x.concat(T);a[N.start=x.start]=c[N.end=T.end]=N}else a[x.start]=c[x.end]=x;else if(x=a[z])if(delete a[x.start],x.unshift(w),x.start=P,T=c[P]){delete c[T.end];var B=T===x?x:T.concat(x);a[B.start=T.start]=c[B.end=x.end]=B}else a[x.start]=c[x.end]=x;else a[(x=[w]).start=P]=c[x.end=z]=x}),y(c,a),y(a,c),i.forEach(function(w){s[w<0?~w:w]||h.push([w])}),h}function Bh(e,i){var s={},a=[],c=[];function h(y){y.forEach(function(w){w.forEach(function(x){(s[x=x<0?~x:x]||(s[x]=[])).push(y)})}),a.push(y)}function g(y){return function(w){for(var x,T=-1,E=w.length,P=w[E-1],z=0;++T<E;)x=P,P=w[T],z+=x[0]*P[1]-x[1]*P[0];return Math.abs(z)}(Fh(e,{type:"Polygon",arcs:[y]}).coordinates[0])}return i.forEach(function y(w){switch(w.type){case"GeometryCollection":w.geometries.forEach(y);break;case"Polygon":h(w.arcs);break;case"MultiPolygon":w.arcs.forEach(h)}}),a.forEach(function(y){if(!y._){var w=[],x=[y];for(y._=1,c.push(w);y=x.pop();)w.push(y),y.forEach(function(T){T.forEach(function(E){s[E<0?~E:E].forEach(function(P){P._||(P._=1,x.push(P))})})})}}),a.forEach(function(y){delete y._}),{type:"MultiPolygon",arcs:c.map(function(y){var w,x=[];if(y.forEach(function(N){N.forEach(function(B){B.forEach(function(R){s[R<0?~R:R].length<2&&x.push(R)})})}),(w=(x=zp(e,x)).length)>1)for(var T,E,P=1,z=g(x[0]);P<w;++P)(T=g(x[P]))>z&&(E=x[0],x[0]=x[P],x[P]=E,z=T);return x}).filter(function(y){return y.length>0})}}var Lu=Object.prototype.hasOwnProperty;function Ru(e,i,s,a,c,h){arguments.length===3&&(a=h=Array,c=null);for(var g=new a(e=1<<Math.max(4,Math.ceil(Math.log(e)/Math.LN2))),y=new h(e),w=e-1,x=0;x<e;++x)g[x]=c;function T(N,B){for(var R=i(N)&w,X=g[R],it=0;X!=c;){if(s(X,N))return y[R]=B;if(++it>=e)throw new Error("full hashmap");X=g[R=R+1&w]}return g[R]=N,y[R]=B,B}function E(N,B){for(var R=i(N)&w,X=g[R],it=0;X!=c;){if(s(X,N))return y[R];if(++it>=e)throw new Error("full hashmap");X=g[R=R+1&w]}return g[R]=N,y[R]=B,B}function P(N,B){for(var R=i(N)&w,X=g[R],it=0;X!=c;){if(s(X,N))return y[R];if(++it>=e)break;X=g[R=R+1&w]}return B}function z(){for(var N=[],B=0,R=g.length;B<R;++B){var X=g[B];X!=c&&N.push(X)}return N}return{set:T,maybeSet:E,get:P,keys:z}}function kl(e,i){return e[0]===i[0]&&e[1]===i[1]}var or=new ArrayBuffer(16),rs=new Float64Array(or),ui=new Uint32Array(or);function jh(e){rs[0]=e[0],rs[1]=e[1];var i=ui[0]^ui[1];return 2147483647&(i=i<<5^i>>7^ui[2]^ui[3])}function Np(e){var i,s,a,c,h=e.coordinates,g=e.lines,y=e.rings,w=function(){for(var Et=Ru(1.4*h.length,K,tt,Int32Array,-1,Int32Array),Dt=new Int32Array(h.length),Tt=0,jt=h.length;Tt<jt;++Tt)Dt[Tt]=Et.maybeSet(Tt,Tt);return Dt}(),x=new Int32Array(h.length),T=new Int32Array(h.length),E=new Int32Array(h.length),P=new Int8Array(h.length),z=0;for(i=0,s=h.length;i<s;++i)x[i]=T[i]=E[i]=-1;for(i=0,s=g.length;i<s;++i){var N=g[i],B=N[0],R=N[1];for(a=w[B],c=w[++B],++z,P[a]=1;++B<=R;)Y(i,a,a=c,c=w[B]);++z,P[c]=1}for(i=0,s=h.length;i<s;++i)x[i]=-1;for(i=0,s=y.length;i<s;++i){var X=y[i],it=X[0]+1,D=X[1];for(Y(i,w[D-1],a=w[it-1],c=w[it]);++it<=D;)Y(i,a,a=c,c=w[it])}function Y(Et,Dt,Tt,jt){if(x[Tt]!==Et){x[Tt]=Et;var Mt=T[Tt];if(Mt>=0){var Pt=E[Tt];Mt===Dt&&Pt===jt||Mt===jt&&Pt===Dt||(++z,P[Tt]=1)}else T[Tt]=Dt,E[Tt]=jt}}function K(Et){return jh(h[Et])}function tt(Et,Dt){return kl(h[Et],h[Dt])}x=T=E=null;var Q,At=function(Et,Dt,Tt,jt,Mt){arguments.length===3&&(jt=Array,Mt=null);for(var Pt=new jt(Et=1<<Math.max(4,Math.ceil(Math.log(Et)/Math.LN2))),St=Et-1,Ft=0;Ft<Et;++Ft)Pt[Ft]=Mt;function Lt(Me){for(var ne=Dt(Me)&St,Qe=Pt[ne],ye=0;Qe!=Mt;){if(Tt(Qe,Me))return!0;if(++ye>=Et)throw new Error("full hashset");Qe=Pt[ne=ne+1&St]}return Pt[ne]=Me,!0}function Ut(Me){for(var ne=Dt(Me)&St,Qe=Pt[ne],ye=0;Qe!=Mt;){if(Tt(Qe,Me))return!0;if(++ye>=Et)break;Qe=Pt[ne=ne+1&St]}return!1}function mt(){for(var Me=[],ne=0,Qe=Pt.length;ne<Qe;++ne){var ye=Pt[ne];ye!=Mt&&Me.push(ye)}return Me}return{add:Lt,has:Ut,values:mt}}(1.4*z,jh,kl);for(i=0,s=h.length;i<s;++i)P[Q=w[i]]&&At.add(h[Q]);return At}function Dp(e,i,s,a){Au(e,i,s),Au(e,i,i+a),Au(e,i+a,s)}function Au(e,i,s){for(var a,c=i+(s---i>>1);i<c;++i,--s)a=e[i],e[i]=e[s],e[s]=a}function El(e){var i,s,a={};for(i in e)a[i]=(s=e[i])==null?{type:null}:(s.type==="FeatureCollection"?Fp:s.type==="Feature"?kc:Qi)(s);return a}function Fp(e){var i={type:"GeometryCollection",geometries:e.features.map(kc)};return e.bbox!=null&&(i.bbox=e.bbox),i}function kc(e){var i,s=Qi(e.geometry);for(i in e.id!=null&&(s.id=e.id),e.bbox!=null&&(s.bbox=e.bbox),e.properties){s.properties=e.properties;break}return s}function Qi(e){if(e==null)return{type:null};var i=e.type==="GeometryCollection"?{type:"GeometryCollection",geometries:e.geometries.map(Qi)}:e.type==="Point"||e.type==="MultiPoint"?{type:e.type,coordinates:e.coordinates}:{type:e.type,arcs:e.coordinates};return e.bbox!=null&&(i.bbox=e.bbox),i}function Tl(e,i){var s=function(P){var z=1/0,N=1/0,B=-1/0,R=-1/0;function X(Q){Q!=null&&Lu.call(it,Q.type)&&it[Q.type](Q)}var it={GeometryCollection:function(Q){Q.geometries.forEach(X)},Point:function(Q){D(Q.coordinates)},MultiPoint:function(Q){Q.coordinates.forEach(D)},LineString:function(Q){Y(Q.arcs)},MultiLineString:function(Q){Q.arcs.forEach(Y)},Polygon:function(Q){Q.arcs.forEach(Y)},MultiPolygon:function(Q){Q.arcs.forEach(K)}};function D(Q){var At=Q[0],Et=Q[1];At<z&&(z=At),At>B&&(B=At),Et<N&&(N=Et),Et>R&&(R=Et)}function Y(Q){Q.forEach(D)}function K(Q){Q.forEach(Y)}for(var tt in P)X(P[tt]);return B>=z&&R>=N?[z,N,B,R]:void 0}(e=El(e)),a=i>0&&s&&function(P,z,N){var B=z[0],R=z[1],X=z[2],it=z[3],D=X-B?(N-1)/(X-B):1,Y=it-R?(N-1)/(it-R):1;function K(Mt){return[Math.round((Mt[0]-B)*D),Math.round((Mt[1]-R)*Y)]}function tt(Mt,Pt){for(var St,Ft,Lt,Ut,mt,Me=-1,ne=0,Qe=Mt.length,ye=new Array(Qe);++Me<Qe;)St=Mt[Me],Ut=Math.round((St[0]-B)*D),mt=Math.round((St[1]-R)*Y),Ut===Ft&&mt===Lt||(ye[ne++]=[Ft=Ut,Lt=mt]);for(ye.length=ne;ne<Pt;)ne=ye.push([ye[0][0],ye[0][1]]);return ye}function Q(Mt){return tt(Mt,2)}function At(Mt){return tt(Mt,4)}function Et(Mt){return Mt.map(At)}function Dt(Mt){Mt!=null&&Lu.call(Tt,Mt.type)&&Tt[Mt.type](Mt)}var Tt={GeometryCollection:function(Mt){Mt.geometries.forEach(Dt)},Point:function(Mt){Mt.coordinates=K(Mt.coordinates)},MultiPoint:function(Mt){Mt.coordinates=Mt.coordinates.map(K)},LineString:function(Mt){Mt.arcs=Q(Mt.arcs)},MultiLineString:function(Mt){Mt.arcs=Mt.arcs.map(Q)},Polygon:function(Mt){Mt.arcs=Et(Mt.arcs)},MultiPolygon:function(Mt){Mt.arcs=Mt.arcs.map(Et)}};for(var jt in P)Dt(P[jt]);return{scale:[1/D,1/Y],translate:[B,R]}}(e,s,i),c=function(P){var z,N,B,R,X=P.coordinates,it=P.lines,D=P.rings,Y=it.length+D.length;for(delete P.lines,delete P.rings,B=0,R=it.length;B<R;++B)for(z=it[B];z=z.next;)++Y;for(B=0,R=D.length;B<R;++B)for(N=D[B];N=N.next;)++Y;var K=Ru(2*Y*1.4,jh,kl),tt=P.arcs=[];for(B=0,R=it.length;B<R;++B){z=it[B];do Q(z);while(z=z.next)}for(B=0,R=D.length;B<R;++B)if((N=D[B]).next)do Q(N);while(N=N.next);else At(N);function Q(Pt){var St,Ft,Lt,Ut,mt,Me,ne,Qe;if(Lt=K.get(St=X[Pt[0]])){for(ne=0,Qe=Lt.length;ne<Qe;++ne)if(Et(Ut=Lt[ne],Pt))return Pt[0]=Ut[0],void(Pt[1]=Ut[1])}if(mt=K.get(Ft=X[Pt[1]])){for(ne=0,Qe=mt.length;ne<Qe;++ne)if(Dt(Me=mt[ne],Pt))return Pt[1]=Me[0],void(Pt[0]=Me[1])}Lt?Lt.push(Pt):K.set(St,[Pt]),mt?mt.push(Pt):K.set(Ft,[Pt]),tt.push(Pt)}function At(Pt){var St,Ft,Lt,Ut,mt;if(Ft=K.get(X[Pt[0]]))for(Ut=0,mt=Ft.length;Ut<mt;++Ut){if(Tt(Lt=Ft[Ut],Pt))return Pt[0]=Lt[0],void(Pt[1]=Lt[1]);if(jt(Lt,Pt))return Pt[0]=Lt[1],void(Pt[1]=Lt[0])}if(Ft=K.get(St=X[Pt[0]+Mt(Pt)]))for(Ut=0,mt=Ft.length;Ut<mt;++Ut){if(Tt(Lt=Ft[Ut],Pt))return Pt[0]=Lt[0],void(Pt[1]=Lt[1]);if(jt(Lt,Pt))return Pt[0]=Lt[1],void(Pt[1]=Lt[0])}Ft?Ft.push(Pt):K.set(St,[Pt]),tt.push(Pt)}function Et(Pt,St){var Ft=Pt[0],Lt=St[0],Ut=Pt[1];if(Ft-Ut!=Lt-St[1])return!1;for(;Ft<=Ut;++Ft,++Lt)if(!kl(X[Ft],X[Lt]))return!1;return!0}function Dt(Pt,St){var Ft=Pt[0],Lt=St[0],Ut=Pt[1],mt=St[1];if(Ft-Ut!=Lt-mt)return!1;for(;Ft<=Ut;++Ft,--mt)if(!kl(X[Ft],X[mt]))return!1;return!0}function Tt(Pt,St){var Ft=Pt[0],Lt=St[0],Ut=Pt[1]-Ft;if(Ut!==St[1]-Lt)return!1;for(var mt=Mt(Pt),Me=Mt(St),ne=0;ne<Ut;++ne)if(!kl(X[Ft+(ne+mt)%Ut],X[Lt+(ne+Me)%Ut]))return!1;return!0}function jt(Pt,St){var Ft=Pt[0],Lt=St[0],Ut=Pt[1],mt=St[1],Me=Ut-Ft;if(Me!==mt-Lt)return!1;for(var ne=Mt(Pt),Qe=Me-Mt(St),ye=0;ye<Me;++ye)if(!kl(X[Ft+(ye+ne)%Me],X[mt-(ye+Qe)%Me]))return!1;return!0}function Mt(Pt){for(var St=Pt[0],Ft=Pt[1],Lt=St,Ut=Lt,mt=X[Lt];++Lt<Ft;){var Me=X[Lt];(Me[0]<mt[0]||Me[0]===mt[0]&&Me[1]<mt[1])&&(Ut=Lt,mt=Me)}return Ut-St}return P}(function(P){var z,N,B,R=Np(P),X=P.coordinates,it=P.lines,D=P.rings;for(N=0,B=it.length;N<B;++N)for(var Y=it[N],K=Y[0],tt=Y[1];++K<tt;)R.has(X[K])&&(z={0:K,1:Y[1]},Y[1]=K,Y=Y.next=z);for(N=0,B=D.length;N<B;++N)for(var Q=D[N],At=Q[0],Et=At,Dt=Q[1],Tt=R.has(X[At]);++Et<Dt;)R.has(X[Et])&&(Tt?(z={0:Et,1:Q[1]},Q[1]=Et,Q=Q.next=z):(Dp(X,At,Dt,Dt-Et),X[Dt]=X[At],Tt=!0,Et=At));return P}(function(P){var z=-1,N=[],B=[],R=[];function X(Q){Q&&Lu.call(it,Q.type)&&it[Q.type](Q)}var it={GeometryCollection:function(Q){Q.geometries.forEach(X)},LineString:function(Q){Q.arcs=D(Q.arcs)},MultiLineString:function(Q){Q.arcs=Q.arcs.map(D)},Polygon:function(Q){Q.arcs=Q.arcs.map(Y)},MultiPolygon:function(Q){Q.arcs=Q.arcs.map(K)}};function D(Q){for(var At=0,Et=Q.length;At<Et;++At)R[++z]=Q[At];var Dt={0:z-Et+1,1:z};return N.push(Dt),Dt}function Y(Q){for(var At=0,Et=Q.length;At<Et;++At)R[++z]=Q[At];var Dt={0:z-Et+1,1:z};return B.push(Dt),Dt}function K(Q){return Q.map(Y)}for(var tt in P)X(P[tt]);return{type:"Topology",coordinates:R,lines:N,rings:B,objects:P}}(e))),h=c.coordinates,g=Ru(1.4*c.arcs.length,xm,_m);function y(P){P&&Lu.call(w,P.type)&&w[P.type](P)}e=c.objects,c.bbox=s,c.arcs=c.arcs.map(function(P,z){return g.set(P,z),h.slice(P[0],P[1]+1)}),delete c.coordinates,h=null;var w={GeometryCollection:function(P){P.geometries.forEach(y)},LineString:function(P){P.arcs=x(P.arcs)},MultiLineString:function(P){P.arcs=P.arcs.map(x)},Polygon:function(P){P.arcs=P.arcs.map(x)},MultiPolygon:function(P){P.arcs=P.arcs.map(T)}};function x(P){var z=[];do{var N=g.get(P);z.push(P[0]<P[1]?N:~N)}while(P=P.next);return z}function T(P){return P.map(x)}for(var E in e)y(e[E]);return a&&(c.transform=a,c.arcs=function(P){for(var z=-1,N=P.length;++z<N;){for(var B,R,X=P[z],it=0,D=1,Y=X.length,K=X[0],tt=K[0],Q=K[1];++it<Y;)B=(K=X[it])[0],R=K[1],B===tt&&R===Q||(X[D++]=[B-tt,R-Q],tt=B,Q=R);D===1&&(X[D++]=[0,0]),X.length=D}return P}(c.arcs)),c}function xm(e){var i,s=e[0],a=e[1];return a<s&&(i=s,s=a,a=i),s+31*a}function _m(e,i){var s,a=e[0],c=e[1],h=i[0],g=i[1];return c<a&&(s=a,a=c,c=s),g<h&&(s=h,h=g,g=s),a===h&&c===g}function Jy(e,i){if(i===void 0&&(i={}),It(e)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");i.mutate!==!1&&i.mutate!==void 0||(e=Si(e));var s=[];oe(e,function(c){s.push(c.geometry)});var a=Tl({geoms:H(s).geometry});return function(c){return Fh(c,Bh.apply(this,arguments))}(a,a.objects.geoms.geometries)}function km(e,i){if(i===void 0&&(i={}),!vt(i=i||{}))throw new Error("options is invalid");var s=i.mutate;if(It(e)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");s!==!1&&s!==void 0||(e=Si(e));var a=function(h){var g={};oe(h,function(w){g[w.geometry.type]=!0});var y=Object.keys(g);return y.length===1?y[0]:null}(e);if(!a)throw new Error("geojson must be homogenous");var c=e;switch(a){case"LineString":return Op(c,i);case"Polygon":return Jy(c,i);default:throw new Error(a+" is not supported")}}function ia(e,i){i===void 0&&(i={});var s=typeof i=="object"?i.mutate:i;if(!e)throw new Error("geojson is required");var a=It(e),c=[];switch(a){case"LineString":c=Bp(e);break;case"MultiLineString":case"Polygon":U(e).forEach(function(g){c.push(Bp(g))});break;case"MultiPolygon":U(e).forEach(function(g){var y=[];g.forEach(function(w){y.push(Bp(w))}),c.push(y)});break;case"Point":return e;case"MultiPoint":var h={};U(e).forEach(function(g){var y=g.join("-");Object.prototype.hasOwnProperty.call(h,y)||(c.push(g),h[y]=!0)});break;default:throw new Error(a+" geometry not supported")}return e.coordinates?s===!0?(e.coordinates=c,e):{type:a,coordinates:c}:s===!0?(e.geometry.coordinates=c,e):u({type:a,coordinates:c},e.properties,{bbox:e.bbox,id:e.id})}function Bp(e){var i=U(e);if(i.length===2&&!jp(i[0],i[1]))return i;var s=[],a=i.length-1,c=s.length;s.push(i[0]);for(var h=1;h<a;h++){var g=s[s.length-1];i[h][0]===g[0]&&i[h][1]===g[1]||(s.push(i[h]),(c=s.length)>2&&Zr(s[c-3],s[c-1],s[c-2])&&s.splice(s.length-2,1))}if(s.push(i[i.length-1]),c=s.length,jp(i[0],i[i.length-1])&&c<4)throw new Error("invalid polygon");return Zr(s[c-3],s[c-1],s[c-2])&&s.splice(s.length-2,1),s}function jp(e,i){return e[0]===i[0]&&e[1]===i[1]}function Zr(e,i,s){var a=s[0],c=s[1],h=e[0],g=e[1],y=i[0],w=i[1],x=y-h,T=w-g;return(a-h)*T-(c-g)*x===0&&(Math.abs(x)>=Math.abs(T)?x>0?h<=a&&a<=y:y<=a&&a<=h:T>0?g<=c&&c<=w:w<=c&&c<=g)}function Qy(e,i,s){var a=i.x,c=i.y,h=s.x-a,g=s.y-c;if(h!==0||g!==0){var y=((e.x-a)*h+(e.y-c)*g)/(h*h+g*g);y>1?(a=s.x,c=s.y):y>0&&(a+=h*y,c+=g*y)}return(h=e.x-a)*h+(g=e.y-c)*g}function yo(e,i,s,a,c){for(var h,g=a,y=i+1;y<s;y++){var w=Qy(e[y],e[i],e[s]);w>g&&(h=y,g=w)}g>a&&(h-i>1&&yo(e,i,h,a,c),c.push(e[h]),s-h>1&&yo(e,h,s,a,c))}function Ou(e,i){var s=e.length-1,a=[e[0]];return yo(e,0,s,i,a),a.push(e[s]),a}function Hh(e,i,s){if(e.length<=2)return e;var a=i!==void 0?i*i:1;return e=Ou(e=s?e:function(c,h){for(var g,y,w,x,T,E=c[0],P=[E],z=1,N=c.length;z<N;z++)g=c[z],w=E,x=void 0,T=void 0,x=(y=g).x-w.x,T=y.y-w.y,x*x+T*T>h&&(P.push(g),E=g);return E!==g&&P.push(g),P}(e,a),a)}function Em(e,i,s){return Hh(e.map(function(a){return{x:a[0],y:a[1],z:a[2]}}),i,s).map(function(a){return a.z?[a.x,a.y,a.z]:[a.x,a.y]})}function Uh(e,i,s){return e.map(function(a){var c=a.map(function(g){return{x:g[0],y:g[1]}});if(c.length<4)throw new Error("invalid polygon");for(var h=Hh(c,i,s).map(function(g){return[g.x,g.y]});!$y(h);)h=Hh(c,i-=.01*i,s).map(function(g){return[g.x,g.y]});return h[h.length-1][0]===h[0][0]&&h[h.length-1][1]===h[0][1]||h.push(h[0]),h})}function $y(e){return!(e.length<3)&&!(e.length===3&&e[2][0]===e[0][0]&&e[2][1]===e[0][1])}var Tm=function(){function e(i){this.points=i.points||[],this.duration=i.duration||1e4,this.sharpness=i.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=i.stepLength||60,this.length=this.points.length,this.delay=0;for(var s=0;s<this.length;s++)this.points[s].z=this.points[s].z||0;for(s=0;s<this.length-1;s++){var a=this.points[s],c=this.points[s+1];this.centers.push({x:(a.x+c.x)/2,y:(a.y+c.y)/2,z:(a.z+c.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),s=0;s<this.centers.length-1;s++){var h=this.points[s+1].x-(this.centers[s].x+this.centers[s+1].x)/2,g=this.points[s+1].y-(this.centers[s].y+this.centers[s+1].y)/2,y=this.points[s+1].z-(this.centers[s].y+this.centers[s+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[s+1].x+this.sharpness*(this.centers[s].x+h),y:(1-this.sharpness)*this.points[s+1].y+this.sharpness*(this.centers[s].y+g),z:(1-this.sharpness)*this.points[s+1].z+this.sharpness*(this.centers[s].z+y)},{x:(1-this.sharpness)*this.points[s+1].x+this.sharpness*(this.centers[s+1].x+h),y:(1-this.sharpness)*this.points[s+1].y+this.sharpness*(this.centers[s+1].y+g),z:(1-this.sharpness)*this.points[s+1].z+this.sharpness*(this.centers[s+1].z+y)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}return e.prototype.cacheSteps=function(i){var s=[],a=this.pos(0);s.push(0);for(var c=0;c<this.duration;c+=10){var h=this.pos(c);Math.sqrt((h.x-a.x)*(h.x-a.x)+(h.y-a.y)*(h.y-a.y)+(h.z-a.z)*(h.z-a.z))>i&&(s.push(c),a=h)}return s},e.prototype.vector=function(i){var s=this.pos(i+10),a=this.pos(i-10);return{angle:180*Math.atan2(s.y-a.y,s.x-a.x)/3.14,speed:Math.sqrt((a.x-s.x)*(a.x-s.x)+(a.y-s.y)*(a.y-s.y)+(a.z-s.z)*(a.z-s.z))}},e.prototype.pos=function(i){var s=i-this.delay;s<0&&(s=0),s>this.duration&&(s=this.duration-1);var a=s/this.duration;if(a>=1)return this.points[this.length-1];var c=Math.floor((this.points.length-1)*a);return function(h,g,y,w,x){var T=function(E){var P=E*E;return[P*E,3*P*(1-E),3*E*(1-E)*(1-E),(1-E)*(1-E)*(1-E)]}(h);return{x:x.x*T[0]+w.x*T[1]+y.x*T[2]+g.x*T[3],y:x.y*T[0]+w.y*T[1]+y.y*T[2]+g.y*T[3],z:x.z*T[0]+w.z*T[1]+y.z*T[2]+g.z*T[3]}}((this.length-1)*a-c,this.points[c],this.controls[c][1],this.controls[c+1][0],this.points[c+1])},e}();function Sm(e,i){i===void 0&&(i={});for(var s=i.resolution||1e4,a=i.sharpness||.85,c=[],h=ut(e).coordinates.map(function(x){return{x:x[0],y:x[1]}}),g=new Tm({duration:s,points:h,sharpness:a}),y=function(x){var T=g.pos(x);Math.floor(x/100)%2==0&&c.push([T.x,T.y])},w=0;w<g.duration;w+=10)y(w);return y(g.duration),k(c,i.properties)}function Hp(e,i){i===void 0&&(i={});var s=Number(e[0]),a=Number(e[1]),c=Number(e[2]),h=Number(e[3]);if(e.length===6)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var g=[s,a];return v([[g,[c,a],[c,h],[s,h],g]],i.properties,{bbox:e,id:i.id})}function Gh(e){return Hp(zt(e))}function Cm(e){var i=e[0],s=e[1],a=e[2],c=e[3];if(ir(e.slice(0,2),[a,s])>=ir(e.slice(0,2),[i,c])){var h=(s+c)/2;return[i,h-(a-i)/2,a,h+(a-i)/2]}var g=(i+a)/2;return[g-(c-s)/2,s,g+(c-s)/2,c]}function $i(e,i,s,a){a===void 0&&(a={});var c=I(e),h=ct(c[0]),g=ct(c[1]),y=ct(s),w=V(i,a.units),x=Math.asin(Math.sin(g)*Math.cos(w)+Math.cos(g)*Math.sin(w)*Math.cos(y));return f([pt(h+Math.atan2(Math.sin(y)*Math.sin(w)*Math.cos(g),Math.cos(w)-Math.sin(g)*Math.sin(x))),pt(x)],a.properties)}function Up(e,i,s){s===void 0&&(s={});for(var a=s.steps||64,c=s.properties?s.properties:!Array.isArray(e)&&e.type==="Feature"&&e.properties?e.properties:{},h=[],g=0;g<a;g++)h.push($i(e,i,-360*g/a,s).geometry.coordinates);return h.push(h[0]),v([h],c)}function Ss(e,i,s){if(s===void 0&&(s={}),s.final===!0)return function(E,P){var z=Ss(P,E);return z=(z+180)%360}(e,i);var a=I(e),c=I(i),h=ct(a[0]),g=ct(c[0]),y=ct(a[1]),w=ct(c[1]),x=Math.sin(g-h)*Math.cos(w),T=Math.cos(y)*Math.sin(w)-Math.sin(y)*Math.cos(w)*Math.cos(g-h);return pt(Math.atan2(x,T))}function is(e,i){i===void 0&&(i={});var s=zt(e);return f([(s[0]+s[2])/2,(s[1]+s[3])/2],i.properties,i)}function na(e,i){i===void 0&&(i={});var s=0,a=0,c=0;return Gt(e,function(h){s+=h[0],a+=h[1],c++},!0),f([s/c,a/c],i.properties)}function zu(e){var i=[];return e.type==="FeatureCollection"?xt(e,function(s){Gt(s,function(a){i.push(f(a,s.properties))})}):Gt(e,function(s){i.push(f(s,e.properties))}),M(i)}var qh=Nu,tb=Nu;function Nu(e,i,s){s=s||2;var a,c,h,g,y,w,x,T=i&&i.length,E=T?i[0]*s:e.length,P=Gp(e,0,E,s,!0),z=[];if(!P)return z;if(T&&(P=function(B,R,X,it){var D,Y,K,tt=[];for(D=0,Y=R.length;D<Y;D++)(K=Gp(B,R[D]*it,D<Y-1?R[D+1]*it:B.length,it,!1))===K.next&&(K.steiner=!0),tt.push(Bu(K));for(tt.sort(Vh),D=0;D<tt.length;D++)Sl(tt[D],X),X=Du(X,X.next);return X}(e,i,P,s)),e.length>80*s){a=h=e[0],c=g=e[1];for(var N=s;N<E;N+=s)(y=e[N])<a&&(a=y),(w=e[N+1])<c&&(c=w),y>h&&(h=y),w>g&&(g=w);x=(x=Math.max(h-a,g-c))!==0?1/x:0}return Fu(P,z,s,a,c,x),z}function Gp(e,i,s,a,c){var h,g;if(c===bo(e,i,s,a)>0)for(h=i;h<s;h+=a)g=Rm(h,e[h],e[h+1],g);else for(h=s-a;h>=i;h-=a)g=Rm(h,e[h],e[h+1],g);return g&&Cl(g,g.next)&&(Ec(g),g=g.next),g}function Du(e,i){if(!e)return e;i||(i=e);var s,a=e;do if(s=!1,a.steiner||!Cl(a,a.next)&&un(a.prev,a,a.next)!==0)a=a.next;else{if(Ec(a),(a=i=a.prev)===a.next)break;s=!0}while(s||a!==i);return i}function Fu(e,i,s,a,c,h,g){if(e){!g&&h&&function(T,E,P,z){var N=T;do N.z===null&&(N.z=Vp(N.x,N.y,E,P,z)),N.prevZ=N.prev,N.nextZ=N.next,N=N.next;while(N!==T);N.prevZ.nextZ=null,N.prevZ=null,function(B){var R,X,it,D,Y,K,tt,Q,At=1;do{for(X=B,B=null,Y=null,K=0;X;){for(K++,it=X,tt=0,R=0;R<At&&(tt++,it=it.nextZ);R++);for(Q=At;tt>0||Q>0&&it;)tt!==0&&(Q===0||!it||X.z<=it.z)?(D=X,X=X.nextZ,tt--):(D=it,it=it.nextZ,Q--),Y?Y.nextZ=D:B=D,D.prevZ=Y,Y=D;X=it}Y.nextZ=null,At*=2}while(K>1)}(N)}(e,a,c,h);for(var y,w,x=e;e.prev!==e.next;)if(y=e.prev,w=e.next,h?eb(e,a,c,h):qp(e))i.push(y.i/s),i.push(e.i/s),i.push(w.i/s),Ec(e),e=w.next,x=w.next;else if((e=w)===x){g?g===1?Fu(e=Pm(e,i,s),i,s,a,c,h,2):g===2&&Mm(e,i,s,a,c,h):Fu(Du(e),i,s,a,c,h,1);break}}}function qp(e){var i=e.prev,s=e,a=e.next;if(un(i,s,a)>=0)return!1;for(var c=e.next.next;c!==e.prev;){if(kn(i.x,i.y,s.x,s.y,a.x,a.y,c.x,c.y)&&un(c.prev,c,c.next)>=0)return!1;c=c.next}return!0}function eb(e,i,s,a){var c=e.prev,h=e,g=e.next;if(un(c,h,g)>=0)return!1;for(var y=c.x<h.x?c.x<g.x?c.x:g.x:h.x<g.x?h.x:g.x,w=c.y<h.y?c.y<g.y?c.y:g.y:h.y<g.y?h.y:g.y,x=c.x>h.x?c.x>g.x?c.x:g.x:h.x>g.x?h.x:g.x,T=c.y>h.y?c.y>g.y?c.y:g.y:h.y>g.y?h.y:g.y,E=Vp(y,w,i,s,a),P=Vp(x,T,i,s,a),z=e.prevZ,N=e.nextZ;z&&z.z>=E&&N&&N.z<=P;){if(z!==e.prev&&z!==e.next&&kn(c.x,c.y,h.x,h.y,g.x,g.y,z.x,z.y)&&un(z.prev,z,z.next)>=0||(z=z.prevZ,N!==e.prev&&N!==e.next&&kn(c.x,c.y,h.x,h.y,g.x,g.y,N.x,N.y)&&un(N.prev,N,N.next)>=0))return!1;N=N.nextZ}for(;z&&z.z>=E;){if(z!==e.prev&&z!==e.next&&kn(c.x,c.y,h.x,h.y,g.x,g.y,z.x,z.y)&&un(z.prev,z,z.next)>=0)return!1;z=z.prevZ}for(;N&&N.z<=P;){if(N!==e.prev&&N!==e.next&&kn(c.x,c.y,h.x,h.y,g.x,g.y,N.x,N.y)&&un(N.prev,N,N.next)>=0)return!1;N=N.nextZ}return!0}function Pm(e,i,s){var a=e;do{var c=a.prev,h=a.next.next;!Cl(c,h)&&Wh(c,a,a.next,h)&&Pl(c,h)&&Pl(h,c)&&(i.push(c.i/s),i.push(a.i/s),i.push(h.i/s),Ec(a),Ec(a.next),a=e=h),a=a.next}while(a!==e);return a}function Mm(e,i,s,a,c,h){var g=e;do{for(var y=g.next.next;y!==g.prev;){if(g.i!==y.i&&Im(g,y)){var w=Lm(g,y);return g=Du(g,g.next),w=Du(w,w.next),Fu(g,i,s,a,c,h),void Fu(w,i,s,a,c,h)}y=y.next}g=g.next}while(g!==e)}function Vh(e,i){return e.x-i.x}function Sl(e,i){if(i=function(a,c){var h,g=c,y=a.x,w=a.y,x=-1/0;do{if(w<=g.y&&w>=g.next.y&&g.next.y!==g.y){var T=g.x+(w-g.y)*(g.next.x-g.x)/(g.next.y-g.y);if(T<=y&&T>x){if(x=T,T===y){if(w===g.y)return g;if(w===g.next.y)return g.next}h=g.x<g.next.x?g:g.next}}g=g.next}while(g!==c);if(!h)return null;if(y===x)return h.prev;var E,P=h,z=h.x,N=h.y,B=1/0;for(g=h.next;g!==P;)y>=g.x&&g.x>=z&&y!==g.x&&kn(w<N?y:x,w,z,N,w<N?x:y,w,g.x,g.y)&&((E=Math.abs(w-g.y)/(y-g.x))<B||E===B&&g.x>h.x)&&Pl(g,a)&&(h=g,B=E),g=g.next;return h}(e,i)){var s=Lm(i,e);Du(s,s.next)}}function Vp(e,i,s,a,c){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-s)*c)|e<<8))|e<<4))|e<<2))|e<<1))|(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=32767*(i-a)*c)|i<<8))|i<<4))|i<<2))|i<<1))<<1}function Bu(e){var i=e,s=e;do i.x<s.x&&(s=i),i=i.next;while(i!==e);return s}function kn(e,i,s,a,c,h,g,y){return(c-g)*(i-y)-(e-g)*(h-y)>=0&&(e-g)*(a-y)-(s-g)*(i-y)>=0&&(s-g)*(h-y)-(c-g)*(a-y)>=0}function Im(e,i){return e.next.i!==i.i&&e.prev.i!==i.i&&!function(s,a){var c=s;do{if(c.i!==s.i&&c.next.i!==s.i&&c.i!==a.i&&c.next.i!==a.i&&Wh(c,c.next,s,a))return!0;c=c.next}while(c!==s);return!1}(e,i)&&Pl(e,i)&&Pl(i,e)&&function(s,a){var c=s,h=!1,g=(s.x+a.x)/2,y=(s.y+a.y)/2;do c.y>y!=c.next.y>y&&c.next.y!==c.y&&g<(c.next.x-c.x)*(y-c.y)/(c.next.y-c.y)+c.x&&(h=!h),c=c.next;while(c!==s);return h}(e,i)}function un(e,i,s){return(i.y-e.y)*(s.x-i.x)-(i.x-e.x)*(s.y-i.y)}function Cl(e,i){return e.x===i.x&&e.y===i.y}function Wh(e,i,s,a){return!!(Cl(e,i)&&Cl(s,a)||Cl(e,a)&&Cl(s,i))||un(e,i,s)>0!=un(e,i,a)>0&&un(s,a,e)>0!=un(s,a,i)>0}function Pl(e,i){return un(e.prev,e,e.next)<0?un(e,i,e.next)>=0&&un(e,e.prev,i)>=0:un(e,i,e.prev)<0||un(e,e.next,i)<0}function Lm(e,i){var s=new Wp(e.i,e.x,e.y),a=new Wp(i.i,i.x,i.y),c=e.next,h=i.prev;return e.next=i,i.prev=e,s.next=c,c.prev=s,a.next=s,s.prev=a,h.next=a,a.prev=h,a}function Rm(e,i,s,a){var c=new Wp(e,i,s);return a?(c.next=a.next,c.prev=a,a.next.prev=c,a.next=c):(c.prev=c,c.next=c),c}function Ec(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Wp(e,i,s){this.i=e,this.x=i,this.y=s,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function bo(e,i,s,a){for(var c=0,h=i,g=s-a;h<s;h+=a)c+=(e[g]-e[h])*(e[h+1]+e[g+1]),g=h;return c}function Ml(e){var i=function(y){for(var w=y[0][0].length,x={vertices:[],holes:[],dimensions:w},T=0,E=0;E<y.length;E++){for(var P=0;P<y[E].length;P++)for(var z=0;z<w;z++)x.vertices.push(y[E][P][z]);E>0&&(T+=y[E-1].length,x.holes.push(T))}return x}(e),s=qh(i.vertices,i.holes,2),a=[],c=[];s.forEach(function(y,w){var x=s[w];c.push([i.vertices[2*x],i.vertices[2*x+1]])});for(var h=0;h<c.length;h+=3){var g=c.slice(h,h+3);g.push(c[h]),a.push(v([g]))}return a}function Zh(e,i){if(!e)throw new Error("targetPoint is required");if(!i)throw new Error("points is required");var s,a=1/0,c=0;return xt(i,function(h,g){var y=ir(e,h);y<a&&(c=g,a=y)}),(s=Si(i.features[c])).properties.featureIndex=c,s.properties.distanceToPoint=a,s}function Vn(e){if(!e)throw new Error("geojson is required");var i=[];return oe(e,function(s){(function(a,c){var h=[],g=a.geometry;if(g!==null){switch(g.type){case"Polygon":h=U(g);break;case"LineString":h=[U(g)]}h.forEach(function(y){(function(w,x){var T=[];return w.reduce(function(E,P){var z=k([E,P],x);return z.bbox=function(N,B){var R=N[0],X=N[1],it=B[0],D=B[1];return[R<it?R:it,X<D?X:D,R>it?R:it,X>D?X:D]}(E,P),T.push(z),P}),T})(y,a.properties).forEach(function(w){w.id=c.length,c.push(w)})})}})(s,i)}),M(i)}Nu.deviation=function(e,i,s,a){var c=i&&i.length,h=c?i[0]*s:e.length,g=Math.abs(bo(e,0,h,s));if(c)for(var y=0,w=i.length;y<w;y++){var x=i[y]*s,T=y<w-1?i[y+1]*s:e.length;g-=Math.abs(bo(e,x,T,s))}var E=0;for(y=0;y<a.length;y+=3){var P=a[y]*s,z=a[y+1]*s,N=a[y+2]*s;E+=Math.abs((e[P]-e[N])*(e[z+1]-e[P+1])-(e[P]-e[z])*(e[N+1]-e[P+1]))}return g===0&&E===0?0:Math.abs((E-g)/g)},Nu.flatten=function(e){for(var i=e[0][0].length,s={vertices:[],holes:[],dimensions:i},a=0,c=0;c<e.length;c++){for(var h=0;h<e[c].length;h++)for(var g=0;g<i;g++)s.vertices.push(e[c][h][g]);c>0&&(a+=e[c-1].length,s.holes.push(a))}return s},qh.default=tb;var hn=es(function(e,i){function s(N,B,R){R===void 0&&(R={});var X={type:"Feature"};return(R.id===0||R.id)&&(X.id=R.id),R.bbox&&(X.bbox=R.bbox),X.properties=B||{},X.geometry=N,X}function a(N,B,R){if(R===void 0&&(R={}),!N)throw new Error("coordinates is required");if(!Array.isArray(N))throw new Error("coordinates must be an Array");if(N.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!z(N[0])||!z(N[1]))throw new Error("coordinates must contain numbers");return s({type:"Point",coordinates:N},B,R)}function c(N,B,R){R===void 0&&(R={});for(var X=0,it=N;X<it.length;X++){var D=it[X];if(D.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var Y=0;Y<D[D.length-1].length;Y++)if(D[D.length-1][Y]!==D[0][Y])throw new Error("First and last Position are not equivalent.")}return s({type:"Polygon",coordinates:N},B,R)}function h(N,B,R){if(R===void 0&&(R={}),N.length<2)throw new Error("coordinates must be an array of two or more positions");return s({type:"LineString",coordinates:N},B,R)}function g(N,B){B===void 0&&(B={});var R={type:"FeatureCollection"};return B.id&&(R.id=B.id),B.bbox&&(R.bbox=B.bbox),R.features=N,R}function y(N,B,R){return R===void 0&&(R={}),s({type:"MultiLineString",coordinates:N},B,R)}function w(N,B,R){return R===void 0&&(R={}),s({type:"MultiPoint",coordinates:N},B,R)}function x(N,B,R){return R===void 0&&(R={}),s({type:"MultiPolygon",coordinates:N},B,R)}function T(N,B){B===void 0&&(B="kilometers");var R=i.factors[B];if(!R)throw new Error(B+" units is invalid");return N*R}function E(N,B){B===void 0&&(B="kilometers");var R=i.factors[B];if(!R)throw new Error(B+" units is invalid");return N/R}function P(N){return 180*(N%(2*Math.PI))/Math.PI}function z(N){return!isNaN(N)&&N!==null&&!Array.isArray(N)}Object.defineProperty(i,"__esModule",{value:!0}),i.earthRadius=63710088e-1,i.factors={centimeters:100*i.earthRadius,centimetres:100*i.earthRadius,degrees:i.earthRadius/111325,feet:3.28084*i.earthRadius,inches:39.37*i.earthRadius,kilometers:i.earthRadius/1e3,kilometres:i.earthRadius/1e3,meters:i.earthRadius,metres:i.earthRadius,miles:i.earthRadius/1609.344,millimeters:1e3*i.earthRadius,millimetres:1e3*i.earthRadius,nauticalmiles:i.earthRadius/1852,radians:1,yards:1.0936*i.earthRadius},i.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/i.earthRadius,yards:1.0936133},i.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},i.feature=s,i.geometry=function(N,B,R){switch(N){case"Point":return a(B).geometry;case"LineString":return h(B).geometry;case"Polygon":return c(B).geometry;case"MultiPoint":return w(B).geometry;case"MultiLineString":return y(B).geometry;case"MultiPolygon":return x(B).geometry;default:throw new Error(N+" is invalid")}},i.point=a,i.points=function(N,B,R){return R===void 0&&(R={}),g(N.map(function(X){return a(X,B)}),R)},i.polygon=c,i.polygons=function(N,B,R){return R===void 0&&(R={}),g(N.map(function(X){return c(X,B)}),R)},i.lineString=h,i.lineStrings=function(N,B,R){return R===void 0&&(R={}),g(N.map(function(X){return h(X,B)}),R)},i.featureCollection=g,i.multiLineString=y,i.multiPoint=w,i.multiPolygon=x,i.geometryCollection=function(N,B,R){return R===void 0&&(R={}),s({type:"GeometryCollection",geometries:N},B,R)},i.round=function(N,B){if(B===void 0&&(B=0),B&&!(B>=0))throw new Error("precision must be a positive number");var R=Math.pow(10,B||0);return Math.round(N*R)/R},i.radiansToLength=T,i.lengthToRadians=E,i.lengthToDegrees=function(N,B){return P(E(N,B))},i.bearingToAzimuth=function(N){var B=N%360;return B<0&&(B+=360),B},i.radiansToDegrees=P,i.degreesToRadians=function(N){return N%360*Math.PI/180},i.convertLength=function(N,B,R){if(B===void 0&&(B="kilometers"),R===void 0&&(R="kilometers"),!(N>=0))throw new Error("length must be a positive number");return T(E(N,B),R)},i.convertArea=function(N,B,R){if(B===void 0&&(B="meters"),R===void 0&&(R="kilometers"),!(N>=0))throw new Error("area must be a positive number");var X=i.areaFactors[B];if(!X)throw new Error("invalid original units");var it=i.areaFactors[R];if(!it)throw new Error("invalid final units");return N/X*it},i.isNumber=z,i.isObject=function(N){return!!N&&N.constructor===Object},i.validateBBox=function(N){if(!N)throw new Error("bbox is required");if(!Array.isArray(N))throw new Error("bbox must be an Array");if(N.length!==4&&N.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");N.forEach(function(B){if(!z(B))throw new Error("bbox must only contain numbers")})},i.validateId=function(N){if(!N)throw new Error("id is required");if(["string","number"].indexOf(typeof N)===-1)throw new Error("id must be a number or a string")}});function Cs(e,i,s){if(e!==null)for(var a,c,h,g,y,w,x,T,E=0,P=0,z=e.type,N=z==="FeatureCollection",B=z==="Feature",R=N?e.features.length:1,X=0;X<R;X++){y=(T=!!(x=N?e.features[X].geometry:B?e.geometry:e)&&x.type==="GeometryCollection")?x.geometries.length:1;for(var it=0;it<y;it++){var D=0,Y=0;if((g=T?x.geometries[it]:x)!==null){w=g.coordinates;var K=g.type;switch(E=!s||K!=="Polygon"&&K!=="MultiPolygon"?0:1,K){case null:break;case"Point":if(i(w,P,X,D,Y)===!1)return!1;P++,D++;break;case"LineString":case"MultiPoint":for(a=0;a<w.length;a++){if(i(w[a],P,X,D,Y)===!1)return!1;P++,K==="MultiPoint"&&D++}K==="LineString"&&D++;break;case"Polygon":case"MultiLineString":for(a=0;a<w.length;a++){for(c=0;c<w[a].length-E;c++){if(i(w[a][c],P,X,D,Y)===!1)return!1;P++}K==="MultiLineString"&&D++,K==="Polygon"&&Y++}K==="Polygon"&&D++;break;case"MultiPolygon":for(a=0;a<w.length;a++){for(Y=0,c=0;c<w[a].length;c++){for(h=0;h<w[a][c].length-E;h++){if(i(w[a][c][h],P,X,D,Y)===!1)return!1;P++}Y++}D++}break;case"GeometryCollection":for(a=0;a<g.geometries.length;a++)if(Cs(g.geometries[a],i,s)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Am(e,i){var s;switch(e.type){case"FeatureCollection":for(s=0;s<e.features.length&&i(e.features[s].properties,s)!==!1;s++);break;case"Feature":i(e.properties,0)}}function Tc(e,i){if(e.type==="Feature")i(e,0);else if(e.type==="FeatureCollection")for(var s=0;s<e.features.length&&i(e.features[s],s)!==!1;s++);}function Yh(e,i){var s,a,c,h,g,y,w,x,T,E,P=0,z=e.type==="FeatureCollection",N=e.type==="Feature",B=z?e.features.length:1;for(s=0;s<B;s++){for(y=z?e.features[s].geometry:N?e.geometry:e,x=z?e.features[s].properties:N?e.properties:{},T=z?e.features[s].bbox:N?e.bbox:void 0,E=z?e.features[s].id:N?e.id:void 0,g=(w=!!y&&y.type==="GeometryCollection")?y.geometries.length:1,c=0;c<g;c++)if((h=w?y.geometries[c]:y)!==null)switch(h.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(i(h,P,x,T,E)===!1)return!1;break;case"GeometryCollection":for(a=0;a<h.geometries.length;a++)if(i(h.geometries[a],P,x,T,E)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(i(null,P,x,T,E)===!1)return!1;P++}}function Il(e,i){Yh(e,function(s,a,c,h,g){var y,w=s===null?null:s.type;switch(w){case null:case"Point":case"LineString":case"Polygon":return i(hn.feature(s,c,{bbox:h,id:g}),a,0)!==!1&&void 0}switch(w){case"MultiPoint":y="Point";break;case"MultiLineString":y="LineString";break;case"MultiPolygon":y="Polygon"}for(var x=0;x<s.coordinates.length;x++){var T={type:y,coordinates:s.coordinates[x]};if(i(hn.feature(T,c),a,x)===!1)return!1}})}function Om(e,i){Il(e,function(s,a,c){var h=0;if(s.geometry){var g=s.geometry.type;if(g!=="Point"&&g!=="MultiPoint"){var y,w=0,x=0,T=0;return Cs(s,function(E,P,z,N,B){if(y===void 0||a>w||N>x||B>T)return y=E,w=a,x=N,T=B,void(h=0);var R=hn.lineString([y,E],s.properties);if(i(R,a,c,B,h)===!1)return!1;h++,y=E})!==!1&&void 0}}})}function oa(e,i){if(!e)throw new Error("geojson is required");Il(e,function(s,a,c){if(s.geometry!==null){var h=s.geometry.type,g=s.geometry.coordinates;switch(h){case"LineString":if(i(s,a,c,0,0)===!1)return!1;break;case"Polygon":for(var y=0;y<g.length;y++)if(i(hn.lineString(g[y],s.properties),a,c,y)===!1)return!1}}})}var Xh=function(e){var i=[];return Cs(e,function(s){i.push(s)}),i},rb=Cs,Zp=function(e,i,s,a){var c=s;return Cs(e,function(h,g,y,w,x){c=g===0&&s===void 0?h:i(c,h,g,y,w,x)},a),c},ib=Tc,sa=function(e,i,s){var a=s;return Tc(e,function(c,h){a=h===0&&s===void 0?c:i(a,c,h)}),a},nb=function(e,i){if(i=i||{},!hn.isObject(i))throw new Error("options is invalid");var s,a=i.featureIndex||0,c=i.multiFeatureIndex||0,h=i.geometryIndex||0,g=i.coordIndex||0,y=i.properties;switch(e.type){case"FeatureCollection":a<0&&(a=e.features.length+a),y=y||e.features[a].properties,s=e.features[a].geometry;break;case"Feature":y=y||e.properties,s=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=e;break;default:throw new Error("geojson is invalid")}if(s===null)return null;var w=s.coordinates;switch(s.type){case"Point":return hn.point(w,y,i);case"MultiPoint":return c<0&&(c=w.length+c),hn.point(w[c],y,i);case"LineString":return g<0&&(g=w.length+g),hn.point(w[g],y,i);case"Polygon":return h<0&&(h=w.length+h),g<0&&(g=w[h].length+g),hn.point(w[h][g],y,i);case"MultiLineString":return c<0&&(c=w.length+c),g<0&&(g=w[c].length+g),hn.point(w[c][g],y,i);case"MultiPolygon":return c<0&&(c=w.length+c),h<0&&(h=w[c].length+h),g<0&&(g=w[c][h].length-g),hn.point(w[c][h][g],y,i)}throw new Error("geojson is invalid")},Sc=function(e,i){if(i=i||{},!hn.isObject(i))throw new Error("options is invalid");var s,a=i.featureIndex||0,c=i.multiFeatureIndex||0,h=i.geometryIndex||0,g=i.segmentIndex||0,y=i.properties;switch(e.type){case"FeatureCollection":a<0&&(a=e.features.length+a),y=y||e.features[a].properties,s=e.features[a].geometry;break;case"Feature":y=y||e.properties,s=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=e;break;default:throw new Error("geojson is invalid")}if(s===null)return null;var w=s.coordinates;switch(s.type){case"Point":case"MultiPoint":return null;case"LineString":return g<0&&(g=w.length+g-1),hn.lineString([w[g],w[g+1]],y,i);case"Polygon":return h<0&&(h=w.length+h),g<0&&(g=w[h].length+g-1),hn.lineString([w[h][g],w[h][g+1]],y,i);case"MultiLineString":return c<0&&(c=w.length+c),g<0&&(g=w[c].length+g-1),hn.lineString([w[c][g],w[c][g+1]],y,i);case"MultiPolygon":return c<0&&(c=w.length+c),h<0&&(h=w[c].length+h),g<0&&(g=w[c][h].length-g-1),hn.lineString([w[c][h][g],w[c][h][g+1]],y,i)}throw new Error("geojson is invalid")},ob=Il,aa=function(e,i,s){var a=s;return Il(e,function(c,h,g){a=h===0&&g===0&&s===void 0?c:i(a,c,h,g)}),a},Kh=Yh,zm=function(e,i,s){var a=s;return Yh(e,function(c,h,g,y,w){a=h===0&&s===void 0?c:i(a,c,h,g,y,w)}),a},Yp=oa,Jh=function(e,i,s){var a=s;return oa(e,function(c,h,g,y){a=h===0&&s===void 0?c:i(a,c,h,g,y)}),a},Xp=Am,Qh=function(e,i,s){var a=s;return Am(e,function(c,h){a=h===0&&s===void 0?c:i(a,c,h)}),a},Cc=Om,$h=function(e,i,s){var a=s,c=!1;return Om(e,function(h,g,y,w,x){a=c===!1&&s===void 0?h:i(a,h,g,y,w,x),c=!0}),a},ju=Object.defineProperty({coordAll:Xh,coordEach:rb,coordReduce:Zp,featureEach:ib,featureReduce:sa,findPoint:nb,findSegment:Sc,flattenEach:ob,flattenReduce:aa,geomEach:Kh,geomReduce:zm,lineEach:Yp,lineReduce:Jh,propEach:Xp,propReduce:Qh,segmentEach:Cc,segmentReduce:$h},"__esModule",{value:!0});function td(e){var i=[1/0,1/0,-1/0,-1/0];return ju.coordEach(e,function(s){i[0]>s[0]&&(i[0]=s[0]),i[1]>s[1]&&(i[1]=s[1]),i[2]<s[0]&&(i[2]=s[0]),i[3]<s[1]&&(i[3]=s[1])}),i}td.default=td;var sb=td,la=Object.defineProperty({default:sb},"__esModule",{value:!0}).default,ab=ju.featureEach,Kp=(ju.coordEach,hn.polygon,hn.featureCollection);function Nm(e){var i=Ji(e);return i.insert=function(s){if(s.type!=="Feature")throw new Error("invalid feature");return s.bbox=s.bbox?s.bbox:la(s),Ji.prototype.insert.call(this,s)},i.load=function(s){var a=[];return Array.isArray(s)?s.forEach(function(c){if(c.type!=="Feature")throw new Error("invalid features");c.bbox=c.bbox?c.bbox:la(c),a.push(c)}):ab(s,function(c){if(c.type!=="Feature")throw new Error("invalid features");c.bbox=c.bbox?c.bbox:la(c),a.push(c)}),Ji.prototype.load.call(this,a)},i.remove=function(s,a){if(s.type!=="Feature")throw new Error("invalid feature");return s.bbox=s.bbox?s.bbox:la(s),Ji.prototype.remove.call(this,s,a)},i.clear=function(){return Ji.prototype.clear.call(this)},i.search=function(s){var a=Ji.prototype.search.call(this,this.toBBox(s));return Kp(a)},i.collides=function(s){return Ji.prototype.collides.call(this,this.toBBox(s))},i.all=function(){var s=Ji.prototype.all.call(this);return Kp(s)},i.toJSON=function(){return Ji.prototype.toJSON.call(this)},i.fromJSON=function(s){return Ji.prototype.fromJSON.call(this,s)},i.toBBox=function(s){var a;if(s.bbox)a=s.bbox;else if(Array.isArray(s)&&s.length===4)a=s;else if(Array.isArray(s)&&s.length===6)a=[s[0],s[1],s[3],s[4]];else if(s.type==="Feature")a=la(s);else{if(s.type!=="FeatureCollection")throw new Error("invalid geojson");a=la(s)}return{minX:a[0],minY:a[1],maxX:a[2],maxY:a[3]}},i}var Pc=Nm,lb=Nm;function dn(e,i){var s={},a=[];if(e.type==="LineString"&&(e=u(e)),i.type==="LineString"&&(i=u(i)),e.type==="Feature"&&i.type==="Feature"&&e.geometry!==null&&i.geometry!==null&&e.geometry.type==="LineString"&&i.geometry.type==="LineString"&&e.geometry.coordinates.length===2&&i.geometry.coordinates.length===2){var c=Hu(e,i);return c&&a.push(c),M(a)}var h=Pc();return h.load(Vn(i)),xt(Vn(e),function(g){xt(h.search(g),function(y){var w=Hu(g,y);if(w){var x=U(w).join(",");s[x]||(s[x]=!0,a.push(w))}})}),M(a)}function Hu(e,i){var s=U(e),a=U(i);if(s.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(a.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var c=s[0][0],h=s[0][1],g=s[1][0],y=s[1][1],w=a[0][0],x=a[0][1],T=a[1][0],E=a[1][1],P=(E-x)*(g-c)-(T-w)*(y-h),z=(T-w)*(h-x)-(E-x)*(c-w),N=(g-c)*(h-x)-(y-h)*(c-w);if(P===0)return null;var B=z/P,R=N/P;return B>=0&&B<=1&&R>=0&&R<=1?f([c+B*(g-c),h+B*(y-h)]):null}function ca(e,i,s){s===void 0&&(s={});var a=f([1/0,1/0],{dist:1/0}),c=0;return oe(e,function(h){for(var g=U(h),y=0;y<g.length-1;y++){var w=f(g[y]);w.properties.dist=ir(i,w,s);var x=f(g[y+1]);x.properties.dist=ir(i,x,s);var T=ir(w,x,s),E=Math.max(w.properties.dist,x.properties.dist),P=Ss(w,x),z=$i(i,E,P+90,s),N=$i(i,E,P-90,s),B=dn(k([z.geometry.coordinates,N.geometry.coordinates]),k([w.geometry.coordinates,x.geometry.coordinates])),R=null;B.features.length>0&&((R=B.features[0]).properties.dist=ir(i,R,s),R.properties.location=c+ir(w,R,s)),w.properties.dist<a.properties.dist&&((a=w).properties.index=y,a.properties.location=c),x.properties.dist<a.properties.dist&&((a=x).properties.index=y+1,a.properties.location=c+T),R&&R.properties.dist<a.properties.dist&&((a=R).properties.index=y),c+=T}}),a}function Ll(e,i,s){s===void 0&&(s={});var a=I(e),c=I(i);return c[0]+=c[0]-a[0]>180?-360:a[0]-c[0]>180?360:0,Z(function(h,g,y){var w=y=y===void 0?r:Number(y),x=h[1]*Math.PI/180,T=g[1]*Math.PI/180,E=T-x,P=Math.abs(g[0]-h[0])*Math.PI/180;P>Math.PI&&(P-=2*Math.PI);var z=Math.log(Math.tan(T/2+Math.PI/4)/Math.tan(x/2+Math.PI/4)),N=Math.abs(z)>1e-11?E/z:Math.cos(x);return Math.sqrt(E*E+N*N*P*P)*w}(a,c),"meters",s.units)}function Dm(e,i,s){if(s===void 0&&(s={}),s.method||(s.method="geodesic"),s.units||(s.units="kilometers"),!e)throw new Error("pt is required");if(Array.isArray(e)?e=f(e):e.type==="Point"?e=u(e):ht(e,"Point","point"),!i)throw new Error("line is required");Array.isArray(i)?i=k(i):i.type==="LineString"?i=u(i):ht(i,"LineString","line");var a=1/0,c=e.geometry.coordinates;return rr(i,function(h){var g=h.geometry.coordinates[0],y=h.geometry.coordinates[1],w=function(x,T,E,P){var z=[E[0]-T[0],E[1]-T[1]],N=Jp([x[0]-T[0],x[1]-T[1]],z);if(N<=0)return Qp(x,T,{method:P.method,units:"degrees"});var B=Jp(z,z);if(B<=N)return Qp(x,E,{method:P.method,units:"degrees"});var R=N/B,X=[T[0]+R*z[0],T[1]+R*z[1]];return Qp(x,X,{method:P.method,units:"degrees"})}(c,g,y,s);w<a&&(a=w)}),Z(a,"degrees",s.units)}function Jp(e,i){return e[0]*i[0]+e[1]*i[1]}function Qp(e,i,s){return s.method==="planar"?Ll(e,i,s):ir(e,i,s)}function Uu(e,i,s,a,c,h,g,y){var w,x,T,E,P={x:null,y:null,onLine1:!1,onLine2:!1};return(w=(y-h)*(s-e)-(g-c)*(a-i))===0?P.x!==null&&P.y!==null&&P:(E=(s-e)*(x=i-h)-(a-i)*(T=e-c),x=((g-c)*x-(y-h)*T)/w,T=E/w,P.x=e+x*(s-e),P.y=i+x*(a-i),x>=0&&x<=1&&(P.onLine1=!0),T>=0&&T<=1&&(P.onLine2=!0),!(!P.onLine1||!P.onLine2)&&[P.x,P.y])}function Fm(e){for(var i=function(P){return P.type!=="FeatureCollection"?P.type!=="Feature"?M([u(P)]):M([P]):P}(e),s=is(i),a=!1,c=0;!a&&c<i.features.length;){var h,g=i.features[c].geometry,y=!1;if(g.type==="Point")s.geometry.coordinates[0]===g.coordinates[0]&&s.geometry.coordinates[1]===g.coordinates[1]&&(a=!0);else if(g.type==="MultiPoint"){var w=!1;for(h=0;!w&&h<g.coordinates.length;)s.geometry.coordinates[0]===g.coordinates[h][0]&&s.geometry.coordinates[1]===g.coordinates[h][1]&&(a=!0,w=!0),h++}else if(g.type==="LineString")for(h=0;!y&&h<g.coordinates.length-1;)Rl(s.geometry.coordinates[0],s.geometry.coordinates[1],g.coordinates[h][0],g.coordinates[h][1],g.coordinates[h+1][0],g.coordinates[h+1][1])&&(y=!0,a=!0),h++;else if(g.type==="MultiLineString")for(var x=0;x<g.coordinates.length;){y=!1,h=0;for(var T=g.coordinates[x];!y&&h<T.length-1;)Rl(s.geometry.coordinates[0],s.geometry.coordinates[1],T[h][0],T[h][1],T[h+1][0],T[h+1][1])&&(y=!0,a=!0),h++;x++}else g.type!=="Polygon"&&g.type!=="MultiPolygon"||Ye(s,g)&&(a=!0);c++}if(a)return s;var E=M([]);for(c=0;c<i.features.length;c++)E.features=E.features.concat(zu(i.features[c]).features);return f(Zh(s,E).geometry.coordinates)}function Rl(e,i,s,a,c,h){return Math.sqrt((c-s)*(c-s)+(h-a)*(h-a))===Math.sqrt((e-s)*(e-s)+(i-a)*(i-a))+Math.sqrt((c-e)*(c-e)+(h-i)*(h-i))}Pc.default=lb;var $p=6378137;function ed(e){return de(e,function(i,s){return i+function(a){var c,h=0;switch(a.type){case"Polygon":return Bm(a.coordinates);case"MultiPolygon":for(c=0;c<a.coordinates.length;c++)h+=Bm(a.coordinates[c]);return h;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(s)},0)}function Bm(e){var i=0;if(e&&e.length>0){i+=Math.abs(Ps(e[0]));for(var s=1;s<e.length;s++)i-=Math.abs(Ps(e[s]))}return i}function Ps(e){var i,s,a,c,h,g,y=0,w=e.length;if(w>2){for(g=0;g<w;g++)g===w-2?(a=w-2,c=w-1,h=0):g===w-1?(a=w-1,c=0,h=1):(a=g,c=g+1,h=g+2),i=e[a],s=e[c],y+=(rd(e[h][0])-rd(i[0]))*Math.sin(rd(s[1]));y=y*$p*$p/2}return y}function rd(e){return e*Math.PI/180}function id(e,i){return i===void 0&&(i={}),gr(e,function(s,a){var c=a.geometry.coordinates;return s+ir(c[0],c[1],i)},0)}function Mc(e,i,s,a){if(!vt(a=a||{}))throw new Error("options is invalid");var c,h=[];if(e.type==="Feature")c=e.geometry.coordinates;else{if(e.type!=="LineString")throw new Error("input must be a LineString Feature or Geometry");c=e.coordinates}for(var g,y,w,x=c.length,T=0,E=0;E<c.length&&!(i>=T&&E===c.length-1);E++){if(T>i&&h.length===0){if(!(g=i-T))return h.push(c[E]),k(h);y=Ss(c[E],c[E-1])-180,w=$i(c[E],g,y,a),h.push(w.geometry.coordinates)}if(T>=s)return(g=s-T)?(y=Ss(c[E],c[E-1])-180,w=$i(c[E],g,y,a),h.push(w.geometry.coordinates),k(h)):(h.push(c[E]),k(h));if(T>=i&&h.push(c[E]),E===c.length-1)return k(h);T+=ir(c[E],c[E+1],a)}if(T<i&&c.length===x)throw new Error("Start position is beyond line");var P=c[c.length-1];return k([P,P])}function eo(e,i,s){s===void 0&&(s={});for(var a=I(e),c=U(i),h=0;h<c.length-1;h++){var g=!1;if(s.ignoreEndVertices&&(h===0&&(g="start"),h===c.length-2&&(g="end"),h===0&&h+1===c.length-1&&(g="both")),nd(c[h],c[h+1],a,g,s.epsilon===void 0?null:s.epsilon))return!0}return!1}function nd(e,i,s,a,c){var h=s[0],g=s[1],y=e[0],w=e[1],x=i[0],T=i[1],E=x-y,P=T-w,z=(s[0]-y)*P-(s[1]-w)*E;if(c!==null){if(Math.abs(z)>c)return!1}else if(z!==0)return!1;return a?a==="start"?Math.abs(E)>=Math.abs(P)?E>0?y<h&&h<=x:x<=h&&h<y:P>0?w<g&&g<=T:T<=g&&g<w:a==="end"?Math.abs(E)>=Math.abs(P)?E>0?y<=h&&h<x:x<h&&h<=y:P>0?w<=g&&g<T:T<g&&g<=w:a==="both"&&(Math.abs(E)>=Math.abs(P)?E>0?y<h&&h<x:x<h&&h<y:P>0?w<g&&g<T:T<g&&g<w):Math.abs(E)>=Math.abs(P)?E>0?y<=h&&h<=x:x<=h&&h<=y:P>0?w<=g&&g<=T:T<=g&&g<=w}function Ic(e,i){var s=ut(e),a=ut(i),c=s.type,h=a.type;switch(c){case"Point":switch(h){case"MultiPoint":return function(g,y){var w,x=!1;for(w=0;w<y.coordinates.length;w++)if(ef(y.coordinates[w],g.coordinates)){x=!0;break}return x}(s,a);case"LineString":return eo(s,a,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return Ye(s,a,{ignoreBoundary:!0});default:throw new Error("feature2 "+h+" geometry not supported")}case"MultiPoint":switch(h){case"MultiPoint":return function(g,y){for(var w=0;w<g.coordinates.length;w++){for(var x=!1,T=0;T<y.coordinates.length;T++)ef(g.coordinates[w],y.coordinates[T])&&(x=!0);if(!x)return!1}return!0}(s,a);case"LineString":return function(g,y){for(var w=!1,x=0;x<g.coordinates.length;x++){if(!eo(g.coordinates[x],y))return!1;w||(w=eo(g.coordinates[x],y,{ignoreEndVertices:!0}))}return w}(s,a);case"Polygon":case"MultiPolygon":return function(g,y){for(var w=!0,x=!1,T=0;T<g.coordinates.length;T++){if(!(x=Ye(g.coordinates[1],y))){w=!1;break}x=Ye(g.coordinates[1],y,{ignoreBoundary:!0})}return w&&x}(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}case"LineString":switch(h){case"LineString":return function(g,y){for(var w=0;w<g.coordinates.length;w++)if(!eo(g.coordinates[w],y))return!1;return!0}(s,a);case"Polygon":case"MultiPolygon":return function(g,y){var w=zt(y),x=zt(g);if(!tf(w,x))return!1;for(var T=!1,E=0;E<g.coordinates.length-1;E++){if(!Ye(g.coordinates[E],y))return!1;T||(T=Ye(g.coordinates[E],y,{ignoreBoundary:!0})),!T&&(T=Ye(cb(g.coordinates[E],g.coordinates[E+1]),y,{ignoreBoundary:!0}))}return T}(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}case"Polygon":switch(h){case"Polygon":case"MultiPolygon":return function(g,y){var w=zt(g);if(!tf(zt(y),w))return!1;for(var x=0;x<g.coordinates[0].length;x++)if(!Ye(g.coordinates[0][x],y))return!1;return!0}(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}default:throw new Error("feature1 "+c+" geometry not supported")}}function tf(e,i){return!(e[0]>i[0])&&!(e[2]<i[2])&&!(e[1]>i[1])&&!(e[3]<i[3])}function ef(e,i){return e[0]===i[0]&&e[1]===i[1]}function cb(e,i){return[(e[0]+i[0])/2,(e[1]+i[1])/2]}function rf(e,i,s){s===void 0&&(s={}),s.mask&&!s.units&&(s.units="kilometers");for(var a=[],c=e[0],h=e[1],g=e[2],y=e[3],w=i/ir([c,h],[g,h],s)*(g-c),x=i/ir([c,h],[c,y],s)*(y-h),T=g-c,E=y-h,P=Math.floor(T/w),z=(E-Math.floor(E/x)*x)/2,N=c+(T-P*w)/2;N<=g;){for(var B=h+z;B<=y;){var R=f([N,B],s.properties);s.mask?Ic(R,s.mask)&&a.push(R):a.push(R),B+=x}N+=w}return M(a)}function nf(e,i){i===void 0&&(i={});var s=i.precision,a=i.coordinates,c=i.mutate;if(s=s==null||isNaN(s)?6:s,a=a==null||isNaN(a)?3:a,!e)throw new Error("<geojson> is required");if(typeof s!="number")throw new Error("<precision> must be a number");if(typeof a!="number")throw new Error("<coordinates> must be a number");c!==!1&&c!==void 0||(e=JSON.parse(JSON.stringify(e)));var h=Math.pow(10,s);return Gt(e,function(g){(function(y,w,x){y.length>x&&y.splice(x,y.length);for(var T=0;T<y.length;T++)y[T]=Math.round(y[T]*w)/w})(g,h,a)}),e}function od(e){if(!e)throw new Error("geojson is required");var i=[];return oe(e,function(s){i.push(s)}),M(i)}function jm(e,i,s){if(e.geometry.type!=="Polygon")throw new Error("The input feature must be a Polygon");s===void 0&&(s=1);var a=e.geometry.coordinates,c=[],h={};if(s){for(var g=[],y=0;y<a.length;y++)for(var w=0;w<a[y].length-1;w++)g.push(B(y,w));var x=Ji();x.load(g)}for(var T=0;T<a.length;T++)for(var E=0;E<a[T].length-1;E++)if(s)x.search(B(T,E)).forEach(function(R){var X=R.ring,it=R.edge;N(T,E,X,it)});else for(var P=0;P<a.length;P++)for(var z=0;z<a[P].length-1;z++)N(T,E,P,z);return i||(c={type:"Feature",geometry:{type:"MultiPoint",coordinates:c}}),c;function N(R,X,it,D){var Y,K,tt=a[R][X],Q=a[R][X+1],At=a[it][D],Et=a[it][D+1],Dt=function(Mt,Pt,St,Ft){if(Lc(Mt,St)||Lc(Mt,Ft)||Lc(Pt,St)||Lc(Ft,St))return null;var Lt=Mt[0],Ut=Mt[1],mt=Pt[0],Me=Pt[1],ne=St[0],Qe=St[1],ye=Ft[0],Be=Ft[1],dr=(Lt-mt)*(Qe-Be)-(Ut-Me)*(ne-ye);return dr===0?null:[((Lt*Me-Ut*mt)*(ne-ye)-(Lt-mt)*(ne*Be-Qe*ye))/dr,((Lt*Me-Ut*mt)*(Qe-Be)-(Ut-Me)*(ne*Be-Qe*ye))/dr]}(tt,Q,At,Et);if(Dt!==null&&(Y=Q[0]!==tt[0]?(Dt[0]-tt[0])/(Q[0]-tt[0]):(Dt[1]-tt[1])/(Q[1]-tt[1]),K=Et[0]!==At[0]?(Dt[0]-At[0])/(Et[0]-At[0]):(Dt[1]-At[1])/(Et[1]-At[1]),!(Y>=1||Y<=0||K>=1||K<=0))){var Tt=Dt,jt=!h[Tt];jt&&(h[Tt]=!0),i?c.push(i(Dt,R,X,tt,Q,Y,it,D,At,Et,K,jt)):c.push(Dt)}}function B(R,X){var it,D,Y,K,tt=a[R][X],Q=a[R][X+1];return tt[0]<Q[0]?(it=tt[0],D=Q[0]):(it=Q[0],D=tt[0]),tt[1]<Q[1]?(Y=tt[1],K=Q[1]):(Y=Q[1],K=tt[1]),{minX:it,minY:Y,maxX:D,maxY:K,ring:R,edge:X}}}function Lc(e,i){if(!e||!i||e.length!==i.length)return!1;for(var s=0,a=e.length;s<a;s++)if(e[s]instanceof Array&&i[s]instanceof Array){if(!Lc(e[s],i[s]))return!1}else if(e[s]!==i[s])return!1;return!0}function ub(e){if(e.type!="Feature")throw new Error("The input must a geojson object of type Feature");if(e.geometry===void 0||e.geometry==null)throw new Error("The input must a geojson object with a non-empty geometry");if(e.geometry.type!="Polygon")throw new Error("The input must be a geojson Polygon");for(var i=e.geometry.coordinates.length,s=[],a=0;a<i;a++){var c=e.geometry.coordinates[a];b(c[0],c[c.length-1])||c.push(c[0]),s.push.apply(s,c.slice(0,c.length-1))}if(!function(ye){for(var Be={},dr=1,oi=0,wn=ye.length;oi<wn;++oi){if(Object.prototype.hasOwnProperty.call(Be,ye[oi])){dr=0;break}Be[ye[oi]]=1}return dr}(s))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var h=s.length,g=jm(e,function(ye,Be,dr,oi,wn,A0,Kc,Vf,Wf,jd,O0,Hd){return[ye,Be,dr,oi,wn,A0,Kc,Vf,Wf,jd,O0,Hd]}),y=g.length;if(y==0){var w=[];for(a=0;a<i;a++)w.push(v([e.geometry.coordinates[a]],{parent:-1,winding:p(e.geometry.coordinates[a])}));var x=M(w);return Me(),ne(),x}var T=[],E=[];for(a=0;a<i;a++){T.push([]);for(var P=0;P<e.geometry.coordinates[a].length-1;P++)T[a].push([new of(e.geometry.coordinates[a][S(P+1,e.geometry.coordinates[a].length-1)],1,[a,P],[a,S(P+1,e.geometry.coordinates[a].length-1)],void 0)]),E.push(new sf(e.geometry.coordinates[a][P],[a,S(P-1,e.geometry.coordinates[a].length-1)],[a,P],void 0,void 0,!1,!0))}for(a=0;a<y;a++)T[g[a][1]][g[a][2]].push(new of(g[a][0],g[a][5],[g[a][1],g[a][2]],[g[a][6],g[a][7]],void 0)),g[a][11]&&E.push(new sf(g[a][0],[g[a][1],g[a][2]],[g[a][6],g[a][7]],void 0,void 0,!0,!0));var z=E.length;for(a=0;a<T.length;a++)for(P=0;P<T[a].length;P++)T[a][P].sort(function(ye,Be){return ye.param<Be.param?-1:1});var N=[];for(a=0;a<z;a++)N.push({minX:E[a].coord[0],minY:E[a].coord[1],maxX:E[a].coord[0],maxY:E[a].coord[1],index:a});var B=Ji();for(B.load(N),a=0;a<T.length;a++)for(P=0;P<T[a].length;P++)for(var R=0;R<T[a][P].length;R++){it=R==T[a][P].length-1?T[a][S(P+1,e.geometry.coordinates[a].length-1)][0].coord:T[a][P][R+1].coord;var X=B.search({minX:it[0],minY:it[1],maxX:it[0],maxY:it[1]})[0];T[a][P][R].nxtIsectAlongEdgeIn=X.index}for(a=0;a<T.length;a++)for(P=0;P<T[a].length;P++)for(R=0;R<T[a][P].length;R++){var it=T[a][P][R].coord,D=(X=B.search({minX:it[0],minY:it[1],maxX:it[0],maxY:it[1]})[0]).index;D<h?E[D].nxtIsectAlongRingAndEdge2=T[a][P][R].nxtIsectAlongEdgeIn:b(E[D].ringAndEdge1,T[a][P][R].ringAndEdgeIn)?E[D].nxtIsectAlongRingAndEdge1=T[a][P][R].nxtIsectAlongEdgeIn:E[D].nxtIsectAlongRingAndEdge2=T[a][P][R].nxtIsectAlongEdgeIn}var Y=[];for(a=0,P=0;P<i;P++){var K=a;for(R=0;R<e.geometry.coordinates[P].length-1;R++)E[a].coord[0]<E[K].coord[0]&&(K=a),a++;var tt=E[K].nxtIsectAlongRingAndEdge2;for(R=0;R<E.length;R++)if(E[R].nxtIsectAlongRingAndEdge1==K||E[R].nxtIsectAlongRingAndEdge2==K){var Q=R;break}var At=sd([E[Q].coord,E[K].coord,E[tt].coord],!0)?1:-1;Y.push({isect:K,parent:-1,winding:At})}for(Y.sort(function(ye,Be){return E[ye.isect].coord>E[Be.isect].coord?-1:1}),w=[];Y.length>0;){var Et=Y.pop(),Dt=Et.isect,Tt=Et.parent,jt=Et.winding,Mt=w.length,Pt=[E[Dt].coord],St=Dt;if(E[Dt].ringAndEdge1Walkable)var Ft=E[Dt].ringAndEdge1,Lt=E[Dt].nxtIsectAlongRingAndEdge1;else Ft=E[Dt].ringAndEdge2,Lt=E[Dt].nxtIsectAlongRingAndEdge2;for(;!b(E[Dt].coord,E[Lt].coord);){Pt.push(E[Lt].coord);var Ut=void 0;for(a=0;a<Y.length;a++)if(Y[a].isect==Lt){Ut=a;break}if(Ut!=null&&Y.splice(Ut,1),b(Ft,E[Lt].ringAndEdge1)){if(Ft=E[Lt].ringAndEdge2,E[Lt].ringAndEdge2Walkable=!1,E[Lt].ringAndEdge1Walkable){var mt={isect:Lt};sd([E[St].coord,E[Lt].coord,E[E[Lt].nxtIsectAlongRingAndEdge2].coord],jt==1)?(mt.parent=Tt,mt.winding=-jt):(mt.parent=Mt,mt.winding=jt),Y.push(mt)}St=Lt,Lt=E[Lt].nxtIsectAlongRingAndEdge2}else Ft=E[Lt].ringAndEdge1,E[Lt].ringAndEdge1Walkable=!1,E[Lt].ringAndEdge2Walkable&&(mt={isect:Lt},sd([E[St].coord,E[Lt].coord,E[E[Lt].nxtIsectAlongRingAndEdge1].coord],jt==1)?(mt.parent=Tt,mt.winding=-jt):(mt.parent=Mt,mt.winding=jt),Y.push(mt)),St=Lt,Lt=E[Lt].nxtIsectAlongRingAndEdge1}Pt.push(E[Lt].coord),w.push(v([Pt],{index:Mt,parent:Tt,winding:jt,netWinding:void 0}))}x=M(w);function Me(){for(var ye=[],Be=0;Be<x.features.length;Be++)x.features[Be].properties.parent==-1&&ye.push(Be);if(ye.length>1)for(Be=0;Be<ye.length;Be++){for(var dr=-1,oi=0;oi<x.features.length;oi++)ye[Be]!=oi&&Ye(x.features[ye[Be]].geometry.coordinates[0][0],x.features[oi],{ignoreBoundary:!0})&&ed(x.features[oi])<1/0&&(dr=oi);x.features[ye[Be]].properties.parent=dr}}function ne(){for(var ye=0;ye<x.features.length;ye++)if(x.features[ye].properties.parent==-1){var Be=x.features[ye].properties.winding;x.features[ye].properties.netWinding=Be,Qe(ye,Be)}}function Qe(ye,Be){for(var dr=0;dr<x.features.length;dr++)if(x.features[dr].properties.parent==ye){var oi=Be+x.features[dr].properties.winding;x.features[dr].properties.netWinding=oi,Qe(dr,oi)}}return Me(),ne(),x}var of=function(e,i,s,a,c){this.coord=e,this.param=i,this.ringAndEdgeIn=s,this.ringAndEdgeOut=a,this.nxtIsectAlongEdgeIn=c},sf=function(e,i,s,a,c,h,g){this.coord=e,this.ringAndEdge1=i,this.ringAndEdge2=s,this.nxtIsectAlongRingAndEdge1=a,this.nxtIsectAlongRingAndEdge2=c,this.ringAndEdge1Walkable=h,this.ringAndEdge2Walkable=g};function sd(e,i){if(i===void 0&&(i=!0),e.length!=3)throw new Error("This function requires an array of three points [x,y]");return(e[1][0]-e[0][0])*(e[2][1]-e[0][1])-(e[1][1]-e[0][1])*(e[2][0]-e[0][0])>=0==i}function p(e){for(var i=0,s=0;s<e.length-1;s++)e[s][0]<e[i][0]&&(i=s);if(sd([e[S(i-1,e.length-1)],e[i],e[S(i+1,e.length-1)]],!0))var a=1;else a=-1;return a}function b(e,i){if(!e||!i||e.length!=i.length)return!1;for(var s=0,a=e.length;s<a;s++)if(e[s]instanceof Array&&i[s]instanceof Array){if(!b(e[s],i[s]))return!1}else if(e[s]!=i[s])return!1;return!0}function S(e,i){return(e%i+i)%i}var O=Math.PI/180,q=180/Math.PI,rt=function(e,i){this.lon=e,this.lat=i,this.x=O*e,this.y=O*i};rt.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},rt.prototype.antipode=function(){var e=-1*this.lat,i=this.lon<0?180+this.lon:-1*(180-this.lon);return new rt(i,e)};var bt=function(){this.coords=[],this.length=0};bt.prototype.move_to=function(e){this.length++,this.coords.push(e)};var Rt=function(e){this.properties=e||{},this.geometries=[]};Rt.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(this.geometries.length===1)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var e=[],i=0;i<this.geometries.length;i++)e.push(this.geometries[i].coords);return{geometry:{type:"MultiLineString",coordinates:e},type:"Feature",properties:this.properties}},Rt.prototype.wkt=function(){for(var e="",i="LINESTRING(",s=function(c){i+=c[0]+" "+c[1]+","},a=0;a<this.geometries.length;a++){if(this.geometries[a].coords.length===0)return"LINESTRING(empty)";this.geometries[a].coords.forEach(s),e+=i.substring(0,i.length-1)+")"}return e};var Ht=function(e,i,s){if(!e||e.x===void 0||e.y===void 0)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!i||i.x===void 0||i.y===void 0)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new rt(e.x,e.y),this.end=new rt(i.x,i.y),this.properties=s||{};var a=this.start.x-this.end.x,c=this.start.y-this.end.y,h=Math.pow(Math.sin(c/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(a/2),2);if(this.g=2*Math.asin(Math.sqrt(h)),this.g===Math.PI)throw new Error("it appears "+e.view()+" and "+i.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+e+" and "+i)};function $t(e,i){var s=[],a=Pc();return oe(i,function(c){if(s.forEach(function(y,w){y.id=w}),s.length){var h=a.search(c);if(h.features.length){var g=We(c,h);s=s.filter(function(y){return y.id!==g.id}),a.remove(g),xt(we(g,c),function(y){s.push(y),a.insert(y)})}}else(s=we(e,c).features).forEach(function(y){y.bbox||(y.bbox=Cm(zt(y)))}),a.load(M(s))}),M(s)}function we(e,i){var s=[],a=U(e)[0],c=U(e)[e.geometry.coordinates.length-1];if(hr(a,I(i))||hr(c,I(i)))return M([e]);var h=Pc(),g=Vn(e);h.load(g);var y=h.search(i);if(!y.features.length)return M([e]);var w=We(i,y),x=Nt(g,function(T,E,P){var z=U(E)[1],N=I(i);return P===w.id?(T.push(N),s.push(k(T)),hr(N,z)?[N]:[N,z]):(T.push(z),T)},[a]);return x.length>1&&s.push(k(x)),M(s)}function We(e,i){if(!i.features.length)throw new Error("lines must contain features");if(i.features.length===1)return i.features[0];var s,a=1/0;return xt(i,function(c){var h=ca(c,e).properties.dist;h<a&&(s=c,a=h)}),s}function hr(e,i){return e[0]===i[0]&&e[1]===i[1]}function Rn(e,i,s,a,c){c===void 0&&(c={});var h=c.steps||64,g=tn(s),y=tn(a),w=Array.isArray(e)||e.type!=="Feature"?{}:e.properties;if(g===y)return k(Up(e,i,c).geometry.coordinates[0],w);for(var x=g,T=g<y?y:y+360,E=x,P=[],z=0;E<T;)P.push($i(e,i,E,c).geometry.coordinates),E=x+360*++z/h;return E>T&&P.push($i(e,i,T,c).geometry.coordinates),k(P,w)}function tn(e){var i=e%360;return i<0&&(i+=360),i}function An(e,i){i===void 0&&(i={});var s=ut(e);switch(i.properties||e.type!=="Feature"||(i.properties=e.properties),s.type){case"Polygon":return Wn(s,i);case"MultiPolygon":return function(a,c){c===void 0&&(c={});var h=ut(a).coordinates,g=c.properties?c.properties:a.type==="Feature"?a.properties:{},y=[];return h.forEach(function(w){y.push(Al(w,g))}),M(y)}(s,i);default:throw new Error("invalid poly")}}function Wn(e,i){return i===void 0&&(i={}),Al(ut(e).coordinates,i.properties?i.properties:e.type==="Feature"?e.properties:{})}function Al(e,i){return e.length>1?A(e,i):k(e[0],i)}function Hm(e,i){var s,a,c;i===void 0&&(i={});var h=i.properties,g=(s=i.autoComplete)===null||s===void 0||s,y=(a=i.orderCoords)===null||a===void 0||a;switch((c=i.mutate)!==null&&c!==void 0&&c||(e=Si(e)),e.type){case"FeatureCollection":var w=[];return e.features.forEach(function(x){w.push(U(Um(x,{},g,y)))}),G(w,h);default:return Um(e,h,g,y)}}function Um(e,i,s,a){i=i||(e.type==="Feature"?e.properties:{});var c=ut(e),h=c.coordinates,g=c.type;if(!h.length)throw new Error("line must contain coordinates");switch(g){case"LineString":return s&&(h=Gm(h)),v([h],i);case"MultiLineString":var y=[],w=0;return h.forEach(function(x){if(s&&(x=Gm(x)),a){var T=function(E){var P=E[0],z=E[1],N=E[2],B=E[3];return Math.abs(P-N)*Math.abs(z-B)}(zt(k(x)));T>w?(y.unshift(x),w=T):y.push(x)}else y.push(x)}),v(y,i);default:throw new Error("geometry type "+g+" is not supported")}}function Gm(e){var i=e[0],s=i[0],a=i[1],c=e[e.length-1],h=c[0],g=c[1];return s===h&&a===g||e.push(i),e}function qm(e,i){var s,a,c,h,g,y,w;for(a=1;a<=8;a*=2){for(s=[],h=!(Ol(c=e[e.length-1],i)&a),g=0;g<e.length;g++)(w=!(Ol(y=e[g],i)&a))!==h&&s.push(af(c,y,a,i)),w&&s.push(y),c=y,h=w;if(!(e=s).length)break}return s}function af(e,i,s,a){return 8&s?[e[0]+(i[0]-e[0])*(a[3]-e[1])/(i[1]-e[1]),a[3]]:4&s?[e[0]+(i[0]-e[0])*(a[1]-e[1])/(i[1]-e[1]),a[1]]:2&s?[a[2],e[1]+(i[1]-e[1])*(a[2]-e[0])/(i[0]-e[0])]:1&s?[a[0],e[1]+(i[1]-e[1])*(a[0]-e[0])/(i[0]-e[0])]:null}function Ol(e,i){var s=0;return e[0]<i[0]?s|=1:e[0]>i[2]&&(s|=2),e[1]<i[1]?s|=4:e[1]>i[3]&&(s|=8),s}function Hi(e,i){for(var s=[],a=0,c=e;a<c.length;a++){var h=qm(c[a],i);h.length>0&&(h[0][0]===h[h.length-1][0]&&h[0][1]===h[h.length-1][1]||h.push(h[0]),h.length>=4&&s.push(h))}return s}Ht.prototype.interpolate=function(e){var i=Math.sin((1-e)*this.g)/Math.sin(this.g),s=Math.sin(e*this.g)/Math.sin(this.g),a=i*Math.cos(this.start.y)*Math.cos(this.start.x)+s*Math.cos(this.end.y)*Math.cos(this.end.x),c=i*Math.cos(this.start.y)*Math.sin(this.start.x)+s*Math.cos(this.end.y)*Math.sin(this.end.x),h=i*Math.sin(this.start.y)+s*Math.sin(this.end.y),g=q*Math.atan2(h,Math.sqrt(Math.pow(a,2)+Math.pow(c,2)));return[q*Math.atan2(c,a),g]},Ht.prototype.Arc=function(e,i){var s=[];if(!e||e<=2)s.push([this.start.lon,this.start.lat]),s.push([this.end.lon,this.end.lat]);else for(var a=1/(e-1),c=0;c<e;++c){var h=a*c,g=this.interpolate(h);s.push(g)}for(var y=!1,w=0,x=i&&i.offset?i.offset:10,T=180-x,E=-180+x,P=360-x,z=1;z<s.length;++z){var N=s[z-1][0],B=s[z][0],R=Math.abs(B-N);R>P&&(B>T&&N<E||N>T&&B<E)?y=!0:R>w&&(w=R)}var X=[];if(y&&w<x){var it=[];X.push(it);for(var D=0;D<s.length;++D){var Y=parseFloat(s[D][0]);if(D>0&&Math.abs(Y-s[D-1][0])>P){var K=parseFloat(s[D-1][0]),tt=parseFloat(s[D-1][1]),Q=parseFloat(s[D][0]),At=parseFloat(s[D][1]);if(K>-180&&K<E&&Q===180&&D+1<s.length&&s[D-1][0]>-180&&s[D-1][0]<E){it.push([-180,s[D][1]]),D++,it.push([s[D][0],s[D][1]]);continue}if(K>T&&K<180&&Q===-180&&D+1<s.length&&s[D-1][0]>T&&s[D-1][0]<180){it.push([180,s[D][1]]),D++,it.push([s[D][0],s[D][1]]);continue}if(K<E&&Q>T){var Et=K;K=Q,Q=Et;var Dt=tt;tt=At,At=Dt}if(K>T&&Q<E&&(Q+=360),K<=180&&Q>=180&&K<Q){var Tt=(180-K)/(Q-K),jt=Tt*At+(1-Tt)*tt;it.push([s[D-1][0]>T?180:-180,jt]),(it=[]).push([s[D-1][0]>T?-180:180,jt]),X.push(it)}else it=[],X.push(it);it.push([Y,s[D][1]])}else it.push([s[D][0],s[D][1]])}}else{var Mt=[];X.push(Mt);for(var Pt=0;Pt<s.length;++Pt)Mt.push([s[Pt][0],s[Pt][1]])}for(var St=new Rt(this.properties),Ft=0;Ft<X.length;++Ft){var Lt=new bt;St.geometries.push(Lt);for(var Ut=X[Ft],mt=0;mt<Ut.length;++mt)Lt.move_to(Ut[mt])}return St};var Gu=es(function(e,i){function s(a){var c=[];for(var h in a)c.push(h);return c}(e.exports=typeof Object.keys=="function"?Object.keys:s).shim=s}),Vm=es(function(e,i){var s=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";function a(h){return Object.prototype.toString.call(h)=="[object Arguments]"}function c(h){return h&&typeof h=="object"&&typeof h.length=="number"&&Object.prototype.hasOwnProperty.call(h,"callee")&&!Object.prototype.propertyIsEnumerable.call(h,"callee")||!1}(i=e.exports=s?a:c).supported=a,i.unsupported=c}),Rc=es(function(e){var i=Array.prototype.slice,s=e.exports=function(h,g,y){return y||(y={}),h===g||(h instanceof Date&&g instanceof Date?h.getTime()===g.getTime():!h||!g||typeof h!="object"&&typeof g!="object"?y.strict?h===g:h==g:function(w,x,T){var E,P;if(a(w)||a(x)||w.prototype!==x.prototype)return!1;if(Vm(w))return!!Vm(x)&&(w=i.call(w),x=i.call(x),s(w,x,T));if(c(w)){if(!c(x)||w.length!==x.length)return!1;for(E=0;E<w.length;E++)if(w[E]!==x[E])return!1;return!0}try{var z=Gu(w),N=Gu(x)}catch{return!1}if(z.length!=N.length)return!1;for(z.sort(),N.sort(),E=z.length-1;E>=0;E--)if(z[E]!=N[E])return!1;for(E=z.length-1;E>=0;E--)if(P=z[E],!s(w[P],x[P],T))return!1;return typeof w==typeof x}(h,g,y))};function a(h){return h==null}function c(h){return!(!h||typeof h!="object"||typeof h.length!="number")&&typeof h.copy=="function"&&typeof h.slice=="function"&&!(h.length>0&&typeof h[0]!="number")}});function Wm(e,i,s){if(s===void 0&&(s={}),!vt(s=s||{}))throw new Error("options is invalid");var a,c=s.tolerance||0,h=[],g=Pc(),y=Vn(e);return g.load(y),rr(i,function(w){var x=!1;w&&(xt(g.search(w),function(T){if(x===!1){var E=U(w).sort(),P=U(T).sort();Rc(E,P)||(c===0?eo(E[0],T)&&eo(E[1],T):ca(T,E[0]).properties.dist<=c&&ca(T,E[1]).properties.dist<=c)?(x=!0,a=a?ad(a,w):w):(c===0?eo(P[0],w)&&eo(P[1],w):ca(w,P[0]).properties.dist<=c&&ca(w,P[1]).properties.dist<=c)&&(a=a?ad(a,T):T)}}),x===!1&&a&&(h.push(a),a=void 0))}),a&&h.push(a),M(h)}function ad(e,i){var s=U(i),a=U(e),c=a[0],h=a[a.length-1],g=e.geometry.coordinates;return Rc(s[0],c)?g.unshift(s[1]):Rc(s[0],h)?g.push(s[1]):Rc(s[1],c)?g.unshift(s[0]):Rc(s[1],h)&&g.push(s[0]),e}function lf(e){var i=e%360;return i<0&&(i+=360),i}function zl(e,i,s){var a;return s===void 0&&(s={}),(a=s.final?s_(I(i),I(e)):s_(I(e),I(i)))>180?-(360-a):a}function s_(e,i){var s=ct(e[1]),a=ct(i[1]),c=ct(i[0]-e[0]);c>Math.PI&&(c-=2*Math.PI),c<-Math.PI&&(c+=2*Math.PI);var h=Math.log(Math.tan(a/2+Math.PI/4)/Math.tan(s/2+Math.PI/4));return(pt(Math.atan2(c,h))+360)%360}function ld(e,i,s,a){a===void 0&&(a={});var c=i<0,h=Z(Math.abs(i),a.units,"meters");c&&(h=-Math.abs(h));var g=I(e),y=function(w,x,T,E){E=E===void 0?r:Number(E);var P=x/E,z=w[0]*Math.PI/180,N=ct(w[1]),B=ct(T),R=P*Math.cos(B),X=N+R;Math.abs(X)>Math.PI/2&&(X=X>0?Math.PI-X:-Math.PI-X);var it=Math.log(Math.tan(X/2+Math.PI/4)/Math.tan(N/2+Math.PI/4)),D=Math.abs(it)>1e-11?R/it:Math.cos(N),Y=P*Math.sin(B)/D;return[(180*(z+Y)/Math.PI+540)%360-180,180*X/Math.PI]}(g,h,s);return y[0]+=y[0]-g[0]>180?-360:g[0]-y[0]>180?360:0,f(y,a.properties)}function a_(e,i,s,a,c,h){for(var g=0;g<e.length;g++){var y=e[g],w=e[g+1];g===e.length-1&&(w=e[0]),a=cf(y,w,i),s<=0&&a>0?cf(i,y,c)<0||(c=y):s>0&&a<=0&&(SM(i,y,h)||(h=y)),s=a}return[c,h]}function SM(e,i,s){return cf(e,i,s)>0}function cf(e,i,s){return(i[0]-e[0])*(s[1]-e[1])-(s[0]-e[0])*(i[1]-e[1])}function Zm(e){for(var i,s,a=U(e),c=0,h=1;h<a.length;)i=s||a[0],c+=((s=a[h])[0]-i[0])*(s[1]+i[1]),h++;return c>0}function Ym(e,i){switch(e.type==="Feature"?e.geometry.type:e.type){case"GeometryCollection":return te(e,function(s){Ym(s,i)}),e;case"LineString":return l_(U(e),i),e;case"Polygon":return c_(U(e),i),e;case"MultiLineString":return U(e).forEach(function(s){l_(s,i)}),e;case"MultiPolygon":return U(e).forEach(function(s){c_(s,i)}),e;case"Point":case"MultiPoint":return e}}function l_(e,i){Zm(e)===i&&e.reverse()}function c_(e,i){Zm(e[0])!==i&&e[0].reverse();for(var s=1;s<e.length;s++)Zm(e[s])===i&&e[s].reverse()}function CM(e,i){if(!vt(i=i||{}))throw new Error("options is invalid");var s=i.zProperty||"elevation",a=i.flip,c=i.flags;_t(e,"Point","input must contain Points");for(var h=function(P,z){var N={};return xt(P,function(B){var R=U(B)[1];N[R]||(N[R]=[]),N[R].push(B)}),Object.keys(N).map(function(B){return N[B].sort(function(R,X){return U(R)[0]-U(X)[0]})}).sort(function(B,R){return z?U(B[0])[1]-U(R[0])[1]:U(R[0])[1]-U(B[0])[1]})}(e,a),g=[],y=0;y<h.length;y++){for(var w=h[y],x=[],T=0;T<w.length;T++){var E=w[T];E.properties[s]?x.push(E.properties[s]):x.push(0),c===!0&&(E.properties.matrixPosition=[y,T])}g.push(x)}return g}var u_={successCallback:null,verbose:!1,polygons:!1},qu={};function PM(e,i,s,a){a=a||{};for(var c=Object.keys(u_),h=0;h<c.length;h++){var g=c[h],y=a[g];y=y??u_[g],qu[g]=y}qu.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+i+":"+(i+s)+"]");var w,x=function(T,E,P){for(var z=T.length-1,N=T[0].length-1,B={rows:z,cols:N,cells:[]},R=E+Math.abs(P),X=0;X<z;++X){B.cells[X]=[];for(var it=0;it<N;++it){var D=0,Y=T[X+1][it],K=T[X+1][it+1],tt=T[X][it+1],Q=T[X][it];if(!(isNaN(Y)||isNaN(K)||isNaN(tt)||isNaN(Q))){D|=Y<E?0:Y>R?128:64,D|=K<E?0:K>R?32:16,D|=tt<E?0:tt>R?8:4;var At=+(D|=Q<E?0:Q>R?2:1),Et=0;if(D===17||D===18||D===33||D===34||D===38||D===68||D===72||D===98||D===102||D===132||D===136||D===137||D===152||D===153){var Dt=(Y+K+tt+Q)/4;Et=Dt>R?2:Dt<E?0:1,D===34?Et===1?D=35:Et===0&&(D=136):D===136?Et===1?(D=35,Et=4):Et===0&&(D=34):D===17?Et===1?(D=155,Et=4):Et===0&&(D=153):D===68?Et===1?(D=103,Et=4):Et===0&&(D=102):D===153?Et===1&&(D=155):D===102?Et===1&&(D=103):D===152?Et<2&&(D=156,Et=1):D===137?Et<2&&(D=139,Et=1):D===98?Et<2&&(D=99,Et=1):D===38?Et<2&&(D=39,Et=1):D===18?Et>0?(D=156,Et=4):D=152:D===33?Et>0?(D=139,Et=4):D=137:D===72?Et>0?(D=99,Et=4):D=98:D===132&&(Et>0?(D=39,Et=4):D=38)}if(D!=0&&D!=170){var Tt,jt,Mt,Pt,St,Ft,Lt,Ut;Tt=jt=Mt=Pt=St=Ft=Lt=Ut=.5;var mt=[];D===1?(Mt=1-et(E,tt,Q),Ut=1-et(E,Y,Q),mt.push(Ae[D])):D===169?(Mt=et(R,Q,tt),Ut=et(R,Q,Y),mt.push(Ae[D])):D===4?(Ft=1-et(E,K,tt),Pt=et(E,Q,tt),mt.push(xe[D])):D===166?(Ft=et(R,tt,K),Pt=1-et(R,tt,Q),mt.push(xe[D])):D===16?(St=et(E,tt,K),jt=et(E,Y,K),mt.push(Te[D])):D===154?(St=1-et(R,K,tt),jt=1-et(R,K,Y),mt.push(Te[D])):D===64?(Lt=et(E,Q,Y),Tt=1-et(E,K,Y),mt.push(Ge[D])):D===106?(Lt=1-et(R,Y,Q),Tt=et(R,Y,K),mt.push(Ge[D])):D===168?(Pt=et(R,Q,tt),Mt=et(E,Q,tt),Ut=et(E,Q,Y),Lt=et(R,Q,Y),mt.push(Ne[D]),mt.push(Ae[D])):D===2?(Pt=1-et(E,tt,Q),Mt=1-et(R,tt,Q),Ut=1-et(R,Y,Q),Lt=1-et(E,Y,Q),mt.push(Ne[D]),mt.push(Ae[D])):D===162?(St=et(R,tt,K),Ft=et(E,tt,K),Pt=1-et(E,tt,Q),Mt=1-et(R,tt,Q),mt.push(Ne[D]),mt.push(Ae[D])):D===8?(St=1-et(E,K,tt),Ft=1-et(R,K,tt),Pt=et(R,Q,tt),Mt=et(E,Q,tt),mt.push(Te[D]),mt.push(xe[D])):D===138?(St=1-et(E,K,tt),Ft=1-et(R,K,tt),Tt=1-et(R,K,Y),jt=1-et(E,K,Y),mt.push(Te[D]),mt.push(xe[D])):D===32?(St=et(R,tt,K),Ft=et(E,tt,K),Tt=et(E,Y,K),jt=et(R,Y,K),mt.push(Te[D]),mt.push(xe[D])):D===42?(Ut=1-et(R,Y,Q),Lt=1-et(E,Y,Q),Tt=et(E,Y,K),jt=et(R,Y,K),mt.push(qe[D]),mt.push(Ge[D])):D===128&&(Ut=et(E,Q,Y),Lt=et(R,Q,Y),Tt=1-et(R,K,Y),jt=1-et(E,K,Y),mt.push(qe[D]),mt.push(Ge[D])),D===5?(Ft=1-et(E,K,tt),Ut=1-et(E,Y,Q),mt.push(xe[D])):D===165?(Ft=et(R,tt,K),Ut=et(R,Q,Y),mt.push(xe[D])):D===20?(Pt=et(E,Q,tt),jt=et(E,Y,K),mt.push(Ne[D])):D===150?(Pt=1-et(R,tt,Q),jt=1-et(R,K,Y),mt.push(Ne[D])):D===80?(St=et(E,tt,K),Lt=et(E,Q,Y),mt.push(Te[D])):D===90?(St=1-et(R,K,tt),Lt=1-et(R,Y,Q),mt.push(Te[D])):D===65?(Mt=1-et(E,tt,Q),Tt=1-et(E,K,Y),mt.push(Ae[D])):D===105?(Mt=et(R,Q,tt),Tt=et(R,Y,K),mt.push(Ae[D])):D===160?(St=et(R,tt,K),Ft=et(E,tt,K),Ut=et(E,Q,Y),Lt=et(R,Q,Y),mt.push(Te[D]),mt.push(xe[D])):D===10?(St=1-et(E,K,tt),Ft=1-et(R,K,tt),Ut=1-et(R,Y,Q),Lt=1-et(E,Y,Q),mt.push(Te[D]),mt.push(xe[D])):D===130?(Pt=1-et(E,tt,Q),Mt=1-et(R,tt,Q),Tt=1-et(R,K,Y),jt=1-et(E,K,Y),mt.push(Ne[D]),mt.push(Ae[D])):D===40?(Pt=et(R,Q,tt),Mt=et(E,Q,tt),Tt=et(E,Y,K),jt=et(R,Y,K),mt.push(Ne[D]),mt.push(Ae[D])):D===101?(Ft=et(R,tt,K),Tt=et(R,Y,K),mt.push(xe[D])):D===69?(Ft=1-et(E,K,tt),Tt=1-et(E,K,Y),mt.push(xe[D])):D===149?(Ut=et(R,Q,Y),jt=1-et(R,K,Y),mt.push(qe[D])):D===21?(Ut=1-et(E,Y,Q),jt=et(E,Y,K),mt.push(qe[D])):D===86?(Pt=1-et(R,tt,Q),Lt=1-et(R,Y,Q),mt.push(Ne[D])):D===84?(Pt=et(E,Q,tt),Lt=et(E,Q,Y),mt.push(Ne[D])):D===89?(St=1-et(R,K,tt),Mt=et(R,Q,tt),mt.push(Ae[D])):D===81?(St=et(E,tt,K),Mt=1-et(E,tt,Q),mt.push(Ae[D])):D===96?(St=et(R,tt,K),Ft=et(E,tt,K),Lt=et(E,Q,Y),Tt=et(R,Y,K),mt.push(Te[D]),mt.push(xe[D])):D===74?(St=1-et(E,K,tt),Ft=1-et(R,K,tt),Lt=1-et(R,Y,Q),Tt=1-et(E,K,Y),mt.push(Te[D]),mt.push(xe[D])):D===24?(St=1-et(R,K,tt),Pt=et(R,Q,tt),Mt=et(E,Q,tt),jt=et(E,Y,K),mt.push(Te[D]),mt.push(Ae[D])):D===146?(St=et(E,tt,K),Pt=1-et(E,tt,Q),Mt=1-et(R,tt,Q),jt=1-et(R,K,Y),mt.push(Te[D]),mt.push(Ae[D])):D===6?(Ft=1-et(E,K,tt),Pt=1-et(R,tt,Q),Ut=1-et(R,Y,Q),Lt=1-et(E,Y,Q),mt.push(xe[D]),mt.push(Ne[D])):D===164?(Ft=et(R,tt,K),Pt=et(E,Q,tt),Ut=et(E,Q,Y),Lt=et(R,Q,Y),mt.push(xe[D]),mt.push(Ne[D])):D===129?(Mt=1-et(E,tt,Q),Ut=et(R,Q,Y),Tt=1-et(R,K,Y),jt=1-et(E,K,Y),mt.push(Ae[D]),mt.push(qe[D])):D===41?(Mt=et(R,Q,tt),Ut=1-et(E,Y,Q),Tt=et(E,Y,K),jt=et(R,Y,K),mt.push(Ae[D]),mt.push(qe[D])):D===66?(Pt=1-et(E,tt,Q),Mt=1-et(R,tt,Q),Lt=1-et(R,Y,Q),Tt=1-et(E,K,Y),mt.push(Ne[D]),mt.push(Ae[D])):D===104?(Pt=et(R,Q,tt),Mt=et(E,Q,tt),Lt=et(E,Q,Y),Tt=et(R,Y,K),mt.push(Ae[D]),mt.push(Gr[D])):D===144?(St=et(E,tt,K),Ut=et(E,Q,Y),Lt=et(R,Q,Y),jt=1-et(R,K,Y),mt.push(Te[D]),mt.push(Ge[D])):D===26?(St=1-et(R,K,tt),Ut=1-et(R,Y,Q),Lt=1-et(E,Y,Q),jt=et(E,Y,K),mt.push(Te[D]),mt.push(Ge[D])):D===36?(Ft=et(R,tt,K),Pt=et(E,Q,tt),Tt=et(E,Y,K),jt=et(R,Y,K),mt.push(xe[D]),mt.push(Ne[D])):D===134?(Ft=1-et(E,K,tt),Pt=1-et(R,tt,Q),Tt=1-et(R,K,Y),jt=1-et(E,K,Y),mt.push(xe[D]),mt.push(Ne[D])):D===9?(St=1-et(E,K,tt),Ft=1-et(R,K,tt),Mt=et(R,Q,tt),Ut=1-et(E,Y,Q),mt.push(Te[D]),mt.push(xe[D])):D===161?(St=et(R,tt,K),Ft=et(E,tt,K),Mt=1-et(E,tt,Q),Ut=et(R,Q,Y),mt.push(Te[D]),mt.push(xe[D])):D===37?(Ft=et(R,tt,K),Ut=1-et(E,Y,Q),Tt=et(E,Y,K),jt=et(R,Y,K),mt.push(xe[D]),mt.push(qe[D])):D===133?(Ft=1-et(E,K,tt),Ut=et(R,Q,Y),Tt=1-et(R,K,Y),jt=1-et(E,K,Y),mt.push(xe[D]),mt.push(qe[D])):D===148?(Pt=et(E,Q,tt),Ut=et(E,Q,Y),Lt=et(R,Q,Y),jt=1-et(R,K,Y),mt.push(Ne[D]),mt.push(Ge[D])):D===22?(Pt=1-et(R,tt,Q),Ut=1-et(R,Y,Q),Lt=1-et(E,Y,Q),jt=et(E,Y,K),mt.push(Ne[D]),mt.push(Ge[D])):D===82?(St=et(E,tt,K),Pt=1-et(E,tt,Q),Mt=1-et(R,tt,Q),Lt=1-et(R,Y,Q),mt.push(Te[D]),mt.push(Ae[D])):D===88?(St=1-et(R,K,tt),Pt=et(R,Q,tt),Mt=et(E,Q,tt),Lt=et(E,Q,Y),mt.push(Te[D]),mt.push(Ae[D])):D===73?(St=1-et(E,K,tt),Ft=1-et(R,K,tt),Mt=et(R,Q,tt),Tt=1-et(E,K,Y),mt.push(Te[D]),mt.push(xe[D])):D===97?(St=et(R,tt,K),Ft=et(E,tt,K),Mt=1-et(E,tt,Q),Tt=et(R,Y,K),mt.push(Te[D]),mt.push(xe[D])):D===145?(St=et(E,tt,K),Mt=1-et(E,tt,Q),Ut=et(R,Q,Y),jt=1-et(R,K,Y),mt.push(Te[D]),mt.push(qe[D])):D===25?(St=1-et(R,K,tt),Mt=et(R,Q,tt),Ut=1-et(E,Y,Q),jt=et(E,Y,K),mt.push(Te[D]),mt.push(qe[D])):D===70?(Ft=1-et(E,K,tt),Pt=1-et(R,tt,Q),Lt=1-et(R,Y,Q),Tt=1-et(E,K,Y),mt.push(xe[D]),mt.push(Ne[D])):D===100?(Ft=et(R,tt,K),Pt=et(E,Q,tt),Lt=et(E,Q,Y),Tt=et(R,Y,K),mt.push(xe[D]),mt.push(Ne[D])):D===34?(Et===0?(St=1-et(E,K,tt),Ft=1-et(R,K,tt),Pt=et(R,Q,tt),Mt=et(E,Q,tt),Ut=et(E,Q,Y),Lt=et(R,Q,Y),Tt=1-et(R,K,Y),jt=1-et(E,K,Y)):(St=et(R,tt,K),Ft=et(E,tt,K),Pt=1-et(E,tt,Q),Mt=1-et(R,tt,Q),Ut=1-et(R,Y,Q),Lt=1-et(E,Y,Q),Tt=et(E,Y,K),jt=et(R,Y,K)),mt.push(Te[D]),mt.push(xe[D]),mt.push(qe[D]),mt.push(Ge[D])):D===35?(Et===4?(St=1-et(E,K,tt),Ft=1-et(R,K,tt),Pt=et(R,Q,tt),Mt=et(E,Q,tt),Ut=et(E,Q,Y),Lt=et(R,Q,Y),Tt=1-et(R,K,Y),jt=1-et(E,K,Y)):(St=et(R,tt,K),Ft=et(E,tt,K),Pt=1-et(E,tt,Q),Mt=1-et(R,tt,Q),Ut=1-et(R,Y,Q),Lt=1-et(E,Y,Q),Tt=et(E,Y,K),jt=et(R,Y,K)),mt.push(Te[D]),mt.push(xe[D]),mt.push(Ae[D]),mt.push(Ge[D])):D===136?(Et===0?(St=et(R,tt,K),Ft=et(E,tt,K),Pt=1-et(E,tt,Q),Mt=1-et(R,tt,Q),Ut=1-et(R,Y,Q),Lt=1-et(E,Y,Q),Tt=et(E,Y,K),jt=et(R,Y,K)):(St=1-et(E,K,tt),Ft=1-et(R,K,tt),Pt=et(R,Q,tt),Mt=et(E,Q,tt),Ut=et(E,Q,Y),Lt=et(R,Q,Y),Tt=1-et(R,K,Y),jt=1-et(E,K,Y)),mt.push(Te[D]),mt.push(xe[D]),mt.push(qe[D]),mt.push(Ge[D])):D===153?(Et===0?(St=et(E,tt,K),Mt=1-et(E,tt,Q),Ut=1-et(E,Y,Q),jt=et(E,Y,K)):(St=1-et(R,K,tt),Mt=et(R,Q,tt),Ut=et(R,Q,Y),jt=1-et(R,K,Y)),mt.push(Te[D]),mt.push(Ae[D])):D===102?(Et===0?(Ft=1-et(E,K,tt),Pt=et(E,Q,tt),Lt=et(E,Q,Y),Tt=1-et(E,K,Y)):(Ft=et(R,tt,K),Pt=1-et(R,tt,Q),Lt=1-et(R,Y,Q),Tt=et(R,Y,K)),mt.push(xe[D]),mt.push(Ge[D])):D===155?(Et===4?(St=et(E,tt,K),Mt=1-et(E,tt,Q),Ut=1-et(E,Y,Q),jt=et(E,Y,K)):(St=1-et(R,K,tt),Mt=et(R,Q,tt),Ut=et(R,Q,Y),jt=1-et(R,K,Y)),mt.push(Te[D]),mt.push(qe[D])):D===103?(Et===4?(Ft=1-et(E,K,tt),Pt=et(E,Q,tt),Lt=et(E,Q,Y),Tt=1-et(E,K,Y)):(Ft=et(R,tt,K),Pt=1-et(R,tt,Q),Lt=1-et(R,Y,Q),Tt=et(R,Y,K)),mt.push(xe[D]),mt.push(Ne[D])):D===152?(Et===0?(St=et(E,tt,K),Pt=1-et(E,tt,Q),Mt=1-et(R,tt,Q),Ut=1-et(R,Y,Q),Lt=1-et(E,Y,Q),jt=et(E,Y,K)):(St=1-et(R,K,tt),Pt=et(R,Q,tt),Mt=et(E,Q,tt),Ut=et(E,Q,Y),Lt=et(R,Q,Y),jt=1-et(R,K,Y)),mt.push(Te[D]),mt.push(Ne[D]),mt.push(Ae[D])):D===156?(Et===4?(St=et(E,tt,K),Pt=1-et(E,tt,Q),Mt=1-et(R,tt,Q),Ut=1-et(R,Y,Q),Lt=1-et(E,Y,Q),jt=et(E,Y,K)):(St=1-et(R,K,tt),Pt=et(R,Q,tt),Mt=et(E,Q,tt),Ut=et(E,Q,Y),Lt=et(R,Q,Y),jt=1-et(R,K,Y)),mt.push(Te[D]),mt.push(Ae[D]),mt.push(Ge[D])):D===137?(Et===0?(St=et(R,tt,K),Ft=et(E,tt,K),Mt=1-et(E,tt,Q),Ut=1-et(E,Y,Q),Tt=et(E,Y,K),jt=et(R,Y,K)):(St=1-et(E,K,tt),Ft=1-et(R,K,tt),Mt=et(R,Q,tt),Ut=et(R,Q,Y),Tt=1-et(R,K,Y),jt=1-et(E,K,Y)),mt.push(Te[D]),mt.push(xe[D]),mt.push(Ae[D])):D===139?(Et===4?(St=et(R,tt,K),Ft=et(E,tt,K),Mt=1-et(E,tt,Q),Ut=1-et(E,Y,Q),Tt=et(E,Y,K),jt=et(R,Y,K)):(St=1-et(E,K,tt),Ft=1-et(R,K,tt),Mt=et(R,Q,tt),Ut=et(R,Q,Y),Tt=1-et(R,K,Y),jt=1-et(E,K,Y)),mt.push(Te[D]),mt.push(xe[D]),mt.push(qe[D])):D===98?(Et===0?(St=1-et(E,K,tt),Ft=1-et(R,K,tt),Pt=et(R,Q,tt),Mt=et(E,Q,tt),Lt=et(E,Q,Y),Tt=1-et(E,K,Y)):(St=et(R,tt,K),Ft=et(E,tt,K),Pt=1-et(E,tt,Q),Mt=1-et(R,tt,Q),Lt=1-et(R,Y,Q),Tt=et(R,Y,K)),mt.push(Te[D]),mt.push(xe[D]),mt.push(Ge[D])):D===99?(Et===4?(St=1-et(E,K,tt),Ft=1-et(R,K,tt),Pt=et(R,Q,tt),Mt=et(E,Q,tt),Lt=et(E,Q,Y),Tt=1-et(E,K,Y)):(St=et(R,tt,K),Ft=et(E,tt,K),Pt=1-et(E,tt,Q),Mt=1-et(R,tt,Q),Lt=1-et(R,Y,Q),Tt=et(R,Y,K)),mt.push(Te[D]),mt.push(xe[D]),mt.push(Ae[D])):D===38?(Et===0?(Ft=1-et(E,K,tt),Pt=et(E,Q,tt),Ut=et(E,Q,Y),Lt=et(R,Q,Y),Tt=1-et(R,K,Y),jt=1-et(E,K,Y)):(Ft=et(R,tt,K),Pt=1-et(R,tt,Q),Ut=1-et(R,Y,Q),Lt=1-et(E,Y,Q),Tt=et(E,Y,K),jt=et(R,Y,K)),mt.push(xe[D]),mt.push(qe[D]),mt.push(Ge[D])):D===39?(Et===4?(Ft=1-et(E,K,tt),Pt=et(E,Q,tt),Ut=et(E,Q,Y),Lt=et(R,Q,Y),Tt=1-et(R,K,Y),jt=1-et(E,K,Y)):(Ft=et(R,tt,K),Pt=1-et(R,tt,Q),Ut=1-et(R,Y,Q),Lt=1-et(E,Y,Q),Tt=et(E,Y,K),jt=et(R,Y,K)),mt.push(xe[D]),mt.push(Ne[D]),mt.push(Ge[D])):D===85&&(St=1,Ft=0,Pt=1,Mt=0,Ut=0,Lt=1,Tt=0,jt=1),(Tt<0||Tt>1||jt<0||jt>1||St<0||St>1||Pt<0||Pt>1||Ut<0||Ut>1||Lt<0||Lt>1)&&console.log("MarchingSquaresJS-isoBands: "+D+" "+At+" "+Y+","+K+","+tt+","+Q+" "+Et+" "+Tt+" "+jt+" "+St+" "+Ft+" "+Pt+" "+Mt+" "+Ut+" "+Lt),B.cells[X][it]={cval:D,cval_real:At,flipped:Et,topleft:Tt,topright:jt,righttop:St,rightbottom:Ft,bottomright:Pt,bottomleft:Mt,leftbottom:Ut,lefttop:Lt,edges:mt}}}}}return B}(e,i,s);return qu.polygons?(qu.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),w=function(T){var E=[],P=0;return T.cells.forEach(function(z,N){z.forEach(function(B,R){if(B!==void 0){var X=fe[B.cval](B);typeof X=="object"&&bb(X)?typeof X[0]=="object"&&bb(X[0])?typeof X[0][0]=="object"&&bb(X[0][0])?X.forEach(function(it){it.forEach(function(D){D[0]+=R,D[1]+=N}),E[P++]=it}):(X.forEach(function(it){it[0]+=R,it[1]+=N}),E[P++]=X):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}})}),E}(x)):(qu.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),w=function(T){for(var E=[],P=T.rows,z=T.cols,N=[],B=0;B<P;B++)for(var R=0;R<z;R++)if(T.cells[B][R]!==void 0&&T.cells[B][R].edges.length>0){var X=IM(T.cells[B][R]),it=null,D=R,Y=B;X!==null&&N.push([X.p[0]+D,X.p[1]+Y]);do{if((it=LM(T.cells[Y][D],X.x,X.y,X.o))===null)break;if(N.push([it.p[0]+D,it.p[1]+Y]),D+=it.x,X=it,(Y+=it.y)<0||Y>=P||D<0||D>=z||T.cells[Y][D]===void 0){var K=MM(T,D-=it.x,Y-=it.y,it.x,it.y,it.o);if(K===null)break;K.path.forEach(function(tt){N.push(tt)}),D=K.i,Y=K.j,X=K}}while(T.cells[Y][D]!==void 0&&T.cells[Y][D].edges.length>0);E.push(N),N=[],T.cells[B][R].edges.length>0&&R--}return E}(x)),typeof qu.successCallback=="function"&&qu.successCallback(w),w}var Zn=64,ua=16,br=[],wr=[],xr=[],_r=[],kr=[],Er=[],Tr=[],Sr=[],Cr=[],Pr=[],Mr=[],Ir=[],Lr=[],Rr=[],Ar=[],Or=[],zr=[],Nr=[],Dr=[],Fr=[],Br=[],jr=[],Hr=[],Ur=[];Tr[85]=Pr[85]=-1,Sr[85]=Mr[85]=0,Cr[85]=Ir[85]=1,Dr[85]=jr[85]=1,Fr[85]=Hr[85]=0,Br[85]=Ur[85]=1,br[85]=_r[85]=0,wr[85]=kr[85]=-1,xr[85]=Ar[85]=0,Or[85]=Lr[85]=0,zr[85]=Rr[85]=1,Er[85]=Nr[85]=1,jr[1]=jr[169]=0,Hr[1]=Hr[169]=-1,Ur[1]=Ur[169]=0,Lr[1]=Lr[169]=-1,Rr[1]=Rr[169]=0,Ar[1]=Ar[169]=0,Pr[4]=Pr[166]=0,Mr[4]=Mr[166]=-1,Ir[4]=Ir[166]=1,Or[4]=Or[166]=1,zr[4]=zr[166]=0,Nr[4]=Nr[166]=0,Tr[16]=Tr[154]=0,Sr[16]=Sr[154]=1,Cr[16]=Cr[154]=1,_r[16]=_r[154]=1,kr[16]=kr[154]=0,Er[16]=Er[154]=1,Dr[64]=Dr[106]=0,Fr[64]=Fr[106]=1,Br[64]=Br[106]=0,br[64]=br[106]=-1,wr[64]=wr[106]=0,xr[64]=xr[106]=1,Dr[2]=Dr[168]=0,Fr[2]=Fr[168]=-1,Br[2]=Br[168]=1,jr[2]=jr[168]=0,Hr[2]=Hr[168]=-1,Ur[2]=Ur[168]=0,Lr[2]=Lr[168]=-1,Rr[2]=Rr[168]=0,Ar[2]=Ar[168]=0,Or[2]=Or[168]=-1,zr[2]=zr[168]=0,Nr[2]=Nr[168]=1,Tr[8]=Tr[162]=0,Sr[8]=Sr[162]=-1,Cr[8]=Cr[162]=0,Pr[8]=Pr[162]=0,Mr[8]=Mr[162]=-1,Ir[8]=Ir[162]=1,Lr[8]=Lr[162]=1,Rr[8]=Rr[162]=0,Ar[8]=Ar[162]=1,Or[8]=Or[162]=1,zr[8]=zr[162]=0,Nr[8]=Nr[162]=0,Tr[32]=Tr[138]=0,Sr[32]=Sr[138]=1,Cr[32]=Cr[138]=1,Pr[32]=Pr[138]=0,Mr[32]=Mr[138]=1,Ir[32]=Ir[138]=0,br[32]=br[138]=1,wr[32]=wr[138]=0,xr[32]=xr[138]=0,_r[32]=_r[138]=1,kr[32]=kr[138]=0,Er[32]=Er[138]=1,jr[128]=jr[42]=0,Hr[128]=Hr[42]=1,Ur[128]=Ur[42]=1,Dr[128]=Dr[42]=0,Fr[128]=Fr[42]=1,Br[128]=Br[42]=0,br[128]=br[42]=-1,wr[128]=wr[42]=0,xr[128]=xr[42]=1,_r[128]=_r[42]=-1,kr[128]=kr[42]=0,Er[128]=Er[42]=0,Pr[5]=Pr[165]=-1,Mr[5]=Mr[165]=0,Ir[5]=Ir[165]=0,jr[5]=jr[165]=1,Hr[5]=Hr[165]=0,Ur[5]=Ur[165]=0,Or[20]=Or[150]=0,zr[20]=zr[150]=1,Nr[20]=Nr[150]=1,_r[20]=_r[150]=0,kr[20]=kr[150]=-1,Er[20]=Er[150]=1,Tr[80]=Tr[90]=-1,Sr[80]=Sr[90]=0,Cr[80]=Cr[90]=1,Dr[80]=Dr[90]=1,Fr[80]=Fr[90]=0,Br[80]=Br[90]=1,Lr[65]=Lr[105]=0,Rr[65]=Rr[105]=1,Ar[65]=Ar[105]=0,br[65]=br[105]=0,wr[65]=wr[105]=-1,xr[65]=xr[105]=0,Tr[160]=Tr[10]=-1,Sr[160]=Sr[10]=0,Cr[160]=Cr[10]=1,Pr[160]=Pr[10]=-1,Mr[160]=Mr[10]=0,Ir[160]=Ir[10]=0,jr[160]=jr[10]=1,Hr[160]=Hr[10]=0,Ur[160]=Ur[10]=0,Dr[160]=Dr[10]=1,Fr[160]=Fr[10]=0,Br[160]=Br[10]=1,Or[130]=Or[40]=0,zr[130]=zr[40]=1,Nr[130]=Nr[40]=1,Lr[130]=Lr[40]=0,Rr[130]=Rr[40]=1,Ar[130]=Ar[40]=0,br[130]=br[40]=0,wr[130]=wr[40]=-1,xr[130]=xr[40]=0,_r[130]=_r[40]=0,kr[130]=kr[40]=-1,Er[130]=Er[40]=1,Pr[37]=Pr[133]=0,Mr[37]=Mr[133]=1,Ir[37]=Ir[133]=1,jr[37]=jr[133]=0,Hr[37]=Hr[133]=1,Ur[37]=Ur[133]=0,br[37]=br[133]=-1,wr[37]=wr[133]=0,xr[37]=xr[133]=0,_r[37]=_r[133]=1,kr[37]=kr[133]=0,Er[37]=Er[133]=0,Or[148]=Or[22]=-1,zr[148]=zr[22]=0,Nr[148]=Nr[22]=0,jr[148]=jr[22]=0,Hr[148]=Hr[22]=-1,Ur[148]=Ur[22]=1,Dr[148]=Dr[22]=0,Fr[148]=Fr[22]=1,Br[148]=Br[22]=1,_r[148]=_r[22]=-1,kr[148]=kr[22]=0,Er[148]=Er[22]=1,Tr[82]=Tr[88]=0,Sr[82]=Sr[88]=-1,Cr[82]=Cr[88]=1,Or[82]=Or[88]=1,zr[82]=zr[88]=0,Nr[82]=Nr[88]=1,Lr[82]=Lr[88]=-1,Rr[82]=Rr[88]=0,Ar[82]=Ar[88]=1,Dr[82]=Dr[88]=0,Fr[82]=Fr[88]=-1,Br[82]=Br[88]=0,Tr[73]=Tr[97]=0,Sr[73]=Sr[97]=1,Cr[73]=Cr[97]=0,Pr[73]=Pr[97]=0,Mr[73]=Mr[97]=-1,Ir[73]=Ir[97]=0,Lr[73]=Lr[97]=1,Rr[73]=Rr[97]=0,Ar[73]=Ar[97]=0,br[73]=br[97]=1,wr[73]=wr[97]=0,xr[73]=xr[97]=1,Tr[145]=Tr[25]=0,Sr[145]=Sr[25]=-1,Cr[145]=Cr[25]=0,Lr[145]=Lr[25]=1,Rr[145]=Rr[25]=0,Ar[145]=Ar[25]=1,jr[145]=jr[25]=0,Hr[145]=Hr[25]=1,Ur[145]=Ur[25]=1,_r[145]=_r[25]=-1,kr[145]=kr[25]=0,Er[145]=Er[25]=0,Pr[70]=Pr[100]=0,Mr[70]=Mr[100]=1,Ir[70]=Ir[100]=0,Or[70]=Or[100]=-1,zr[70]=zr[100]=0,Nr[70]=Nr[100]=1,Dr[70]=Dr[100]=0,Fr[70]=Fr[100]=-1,Br[70]=Br[100]=1,br[70]=br[100]=1,wr[70]=wr[100]=0,xr[70]=xr[100]=0,Pr[101]=Pr[69]=0,Mr[101]=Mr[69]=1,Ir[101]=Ir[69]=0,br[101]=br[69]=1,wr[101]=wr[69]=0,xr[101]=xr[69]=0,jr[149]=jr[21]=0,Hr[149]=Hr[21]=1,Ur[149]=Ur[21]=1,_r[149]=_r[21]=-1,kr[149]=kr[21]=0,Er[149]=Er[21]=0,Or[86]=Or[84]=-1,zr[86]=zr[84]=0,Nr[86]=Nr[84]=1,Dr[86]=Dr[84]=0,Fr[86]=Fr[84]=-1,Br[86]=Br[84]=1,Tr[89]=Tr[81]=0,Sr[89]=Sr[81]=-1,Cr[89]=Cr[81]=0,Lr[89]=Lr[81]=1,Rr[89]=Rr[81]=0,Ar[89]=Ar[81]=1,Tr[96]=Tr[74]=0,Sr[96]=Sr[74]=1,Cr[96]=Cr[74]=0,Pr[96]=Pr[74]=-1,Mr[96]=Mr[74]=0,Ir[96]=Ir[74]=1,Dr[96]=Dr[74]=1,Fr[96]=Fr[74]=0,Br[96]=Br[74]=0,br[96]=br[74]=1,wr[96]=wr[74]=0,xr[96]=xr[74]=1,Tr[24]=Tr[146]=0,Sr[24]=Sr[146]=-1,Cr[24]=Cr[146]=1,Or[24]=Or[146]=1,zr[24]=zr[146]=0,Nr[24]=Nr[146]=1,Lr[24]=Lr[146]=0,Rr[24]=Rr[146]=1,Ar[24]=Ar[146]=1,_r[24]=_r[146]=0,kr[24]=kr[146]=-1,Er[24]=Er[146]=0,Pr[6]=Pr[164]=-1,Mr[6]=Mr[164]=0,Ir[6]=Ir[164]=1,Or[6]=Or[164]=-1,zr[6]=zr[164]=0,Nr[6]=Nr[164]=0,jr[6]=jr[164]=0,Hr[6]=Hr[164]=-1,Ur[6]=Ur[164]=1,Dr[6]=Dr[164]=1,Fr[6]=Fr[164]=0,Br[6]=Br[164]=0,Lr[129]=Lr[41]=0,Rr[129]=Rr[41]=1,Ar[129]=Ar[41]=1,jr[129]=jr[41]=0,Hr[129]=Hr[41]=1,Ur[129]=Ur[41]=0,br[129]=br[41]=-1,wr[129]=wr[41]=0,xr[129]=xr[41]=0,_r[129]=_r[41]=0,kr[129]=kr[41]=-1,Er[129]=Er[41]=0,Or[66]=Or[104]=0,zr[66]=zr[104]=1,Nr[66]=Nr[104]=0,Lr[66]=Lr[104]=-1,Rr[66]=Rr[104]=0,Ar[66]=Ar[104]=1,Dr[66]=Dr[104]=0,Fr[66]=Fr[104]=-1,Br[66]=Br[104]=0,br[66]=br[104]=0,wr[66]=wr[104]=-1,xr[66]=xr[104]=1,Tr[144]=Tr[26]=-1,Sr[144]=Sr[26]=0,Cr[144]=Cr[26]=0,jr[144]=jr[26]=1,Hr[144]=Hr[26]=0,Ur[144]=Ur[26]=1,Dr[144]=Dr[26]=0,Fr[144]=Fr[26]=1,Br[144]=Br[26]=1,_r[144]=_r[26]=-1,kr[144]=kr[26]=0,Er[144]=Er[26]=1,Pr[36]=Pr[134]=0,Mr[36]=Mr[134]=1,Ir[36]=Ir[134]=1,Or[36]=Or[134]=0,zr[36]=zr[134]=1,Nr[36]=Nr[134]=0,br[36]=br[134]=0,wr[36]=wr[134]=-1,xr[36]=xr[134]=1,_r[36]=_r[134]=1,kr[36]=kr[134]=0,Er[36]=Er[134]=0,Tr[9]=Tr[161]=-1,Sr[9]=Sr[161]=0,Cr[9]=Cr[161]=0,Pr[9]=Pr[161]=0,Mr[9]=Mr[161]=-1,Ir[9]=Ir[161]=0,Lr[9]=Lr[161]=1,Rr[9]=Rr[161]=0,Ar[9]=Ar[161]=0,jr[9]=jr[161]=1,Hr[9]=Hr[161]=0,Ur[9]=Ur[161]=1,Tr[136]=0,Sr[136]=1,Cr[136]=1,Pr[136]=0,Mr[136]=1,Ir[136]=0,Or[136]=-1,zr[136]=0,Nr[136]=1,Lr[136]=-1,Rr[136]=0,Ar[136]=0,jr[136]=0,Hr[136]=-1,Ur[136]=0,Dr[136]=0,Fr[136]=-1,Br[136]=1,br[136]=1,wr[136]=0,xr[136]=0,_r[136]=1,kr[136]=0,Er[136]=1,Tr[34]=0,Sr[34]=-1,Cr[34]=0,Pr[34]=0,Mr[34]=-1,Ir[34]=1,Or[34]=1,zr[34]=0,Nr[34]=0,Lr[34]=1,Rr[34]=0,Ar[34]=1,jr[34]=0,Hr[34]=1,Ur[34]=1,Dr[34]=0,Fr[34]=1,Br[34]=0,br[34]=-1,wr[34]=0,xr[34]=1,_r[34]=-1,kr[34]=0,Er[34]=0,Tr[35]=0,Sr[35]=1,Cr[35]=1,Pr[35]=0,Mr[35]=-1,Ir[35]=1,Or[35]=1,zr[35]=0,Nr[35]=0,Lr[35]=-1,Rr[35]=0,Ar[35]=0,jr[35]=0,Hr[35]=-1,Ur[35]=0,Dr[35]=0,Fr[35]=1,Br[35]=0,br[35]=-1,wr[35]=0,xr[35]=1,_r[35]=1,kr[35]=0,Er[35]=1,Tr[153]=0,Sr[153]=1,Cr[153]=1,Lr[153]=-1,Rr[153]=0,Ar[153]=0,jr[153]=0,Hr[153]=-1,Ur[153]=0,_r[153]=1,kr[153]=0,Er[153]=1,Pr[102]=0,Mr[102]=-1,Ir[102]=1,Or[102]=1,zr[102]=0,Nr[102]=0,Dr[102]=0,Fr[102]=1,Br[102]=0,br[102]=-1,wr[102]=0,xr[102]=1,Tr[155]=0,Sr[155]=-1,Cr[155]=0,Lr[155]=1,Rr[155]=0,Ar[155]=1,jr[155]=0,Hr[155]=1,Ur[155]=1,_r[155]=-1,kr[155]=0,Er[155]=0,Pr[103]=0,Mr[103]=1,Ir[103]=0,Or[103]=-1,zr[103]=0,Nr[103]=1,Dr[103]=0,Fr[103]=-1,Br[103]=1,br[103]=1,wr[103]=0,xr[103]=0,Tr[152]=0,Sr[152]=1,Cr[152]=1,Or[152]=-1,zr[152]=0,Nr[152]=1,Lr[152]=-1,Rr[152]=0,Ar[152]=0,jr[152]=0,Hr[152]=-1,Ur[152]=0,Dr[152]=0,Fr[152]=-1,Br[152]=1,_r[152]=1,kr[152]=0,Er[152]=1,Tr[156]=0,Sr[156]=-1,Cr[156]=1,Or[156]=1,zr[156]=0,Nr[156]=1,Lr[156]=-1,Rr[156]=0,Ar[156]=0,jr[156]=0,Hr[156]=-1,Ur[156]=0,Dr[156]=0,Fr[156]=1,Br[156]=1,_r[156]=-1,kr[156]=0,Er[156]=1,Tr[137]=0,Sr[137]=1,Cr[137]=1,Pr[137]=0,Mr[137]=1,Ir[137]=0,Lr[137]=-1,Rr[137]=0,Ar[137]=0,jr[137]=0,Hr[137]=-1,Ur[137]=0,br[137]=1,wr[137]=0,xr[137]=0,_r[137]=1,kr[137]=0,Er[137]=1,Tr[139]=0,Sr[139]=1,Cr[139]=1,Pr[139]=0,Mr[139]=-1,Ir[139]=0,Lr[139]=1,Rr[139]=0,Ar[139]=0,jr[139]=0,Hr[139]=1,Ur[139]=0,br[139]=-1,wr[139]=0,xr[139]=0,_r[139]=1,kr[139]=0,Er[139]=1,Tr[98]=0,Sr[98]=-1,Cr[98]=0,Pr[98]=0,Mr[98]=-1,Ir[98]=1,Or[98]=1,zr[98]=0,Nr[98]=0,Lr[98]=1,Rr[98]=0,Ar[98]=1,Dr[98]=0,Fr[98]=1,Br[98]=0,br[98]=-1,wr[98]=0,xr[98]=1,Tr[99]=0,Sr[99]=1,Cr[99]=0,Pr[99]=0,Mr[99]=-1,Ir[99]=1,Or[99]=1,zr[99]=0,Nr[99]=0,Lr[99]=-1,Rr[99]=0,Ar[99]=1,Dr[99]=0,Fr[99]=-1,Br[99]=0,br[99]=1,wr[99]=0,xr[99]=1,Pr[38]=0,Mr[38]=-1,Ir[38]=1,Or[38]=1,zr[38]=0,Nr[38]=0,jr[38]=0,Hr[38]=1,Ur[38]=1,Dr[38]=0,Fr[38]=1,Br[38]=0,br[38]=-1,wr[38]=0,xr[38]=1,_r[38]=-1,kr[38]=0,Er[38]=0,Pr[39]=0,Mr[39]=1,Ir[39]=1,Or[39]=-1,zr[39]=0,Nr[39]=0,jr[39]=0,Hr[39]=-1,Ur[39]=1,Dr[39]=0,Fr[39]=1,Br[39]=0,br[39]=-1,wr[39]=0,xr[39]=1,_r[39]=1,kr[39]=0,Er[39]=0;var hb=function(e){return[[e.bottomleft,0],[0,0],[0,e.leftbottom]]},db=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0]]},pb=function(e){return[[e.topright,1],[1,1],[1,e.righttop]]},fb=function(e){return[[0,e.lefttop],[0,1],[e.topleft,1]]},gb=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop]]},mb=function(e){return[[e.bottomright,0],[e.bottomleft,0],[1,e.righttop],[1,e.rightbottom]]},vb=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.topleft,1],[e.topright,1]]},yb=function(e){return[[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},Te=[],xe=[],Ne=[],Ae=[],qe=[],Ge=[],Gr=[],qr=[];Ae[1]=qe[1]=18,Ae[169]=qe[169]=18,Ne[4]=xe[4]=12,Ne[166]=xe[166]=12,Te[16]=qr[16]=4,Te[154]=qr[154]=4,Ge[64]=Gr[64]=22,Ge[106]=Gr[106]=22,Ne[2]=Ge[2]=17,Ae[2]=qe[2]=18,Ne[168]=Ge[168]=17,Ae[168]=qe[168]=18,Te[8]=Ae[8]=9,xe[8]=Ne[8]=12,Te[162]=Ae[162]=9,xe[162]=Ne[162]=12,Te[32]=qr[32]=4,xe[32]=Gr[32]=1,Te[138]=qr[138]=4,xe[138]=Gr[138]=1,qe[128]=qr[128]=21,Ge[128]=Gr[128]=22,qe[42]=qr[42]=21,Ge[42]=Gr[42]=22,xe[5]=qe[5]=14,xe[165]=qe[165]=14,Ne[20]=qr[20]=6,Ne[150]=qr[150]=6,Te[80]=Ge[80]=11,Te[90]=Ge[90]=11,Ae[65]=Gr[65]=3,Ae[105]=Gr[105]=3,Te[160]=Ge[160]=11,xe[160]=qe[160]=14,Te[10]=Ge[10]=11,xe[10]=qe[10]=14,Ne[130]=qr[130]=6,Ae[130]=Gr[130]=3,Ne[40]=qr[40]=6,Ae[40]=Gr[40]=3,xe[101]=Gr[101]=1,xe[69]=Gr[69]=1,qe[149]=qr[149]=21,qe[21]=qr[21]=21,Ne[86]=Ge[86]=17,Ne[84]=Ge[84]=17,Te[89]=Ae[89]=9,Te[81]=Ae[81]=9,Te[96]=Gr[96]=0,xe[96]=Ge[96]=15,Te[74]=Gr[74]=0,xe[74]=Ge[74]=15,Te[24]=Ne[24]=8,Ae[24]=qr[24]=7,Te[146]=Ne[146]=8,Ae[146]=qr[146]=7,xe[6]=Ge[6]=15,Ne[6]=qe[6]=16,xe[164]=Ge[164]=15,Ne[164]=qe[164]=16,Ae[129]=qr[129]=7,qe[129]=Gr[129]=20,Ae[41]=qr[41]=7,qe[41]=Gr[41]=20,Ne[66]=Gr[66]=2,Ae[66]=Ge[66]=19,Ne[104]=Gr[104]=2,Ae[104]=Ge[104]=19,Te[144]=qe[144]=10,Ge[144]=qr[144]=23,Te[26]=qe[26]=10,Ge[26]=qr[26]=23,xe[36]=qr[36]=5,Ne[36]=Gr[36]=2,xe[134]=qr[134]=5,Ne[134]=Gr[134]=2,Te[9]=qe[9]=10,xe[9]=Ae[9]=13,Te[161]=qe[161]=10,xe[161]=Ae[161]=13,xe[37]=qr[37]=5,qe[37]=Gr[37]=20,xe[133]=qr[133]=5,qe[133]=Gr[133]=20,Ne[148]=qe[148]=16,Ge[148]=qr[148]=23,Ne[22]=qe[22]=16,Ge[22]=qr[22]=23,Te[82]=Ne[82]=8,Ae[82]=Ge[82]=19,Te[88]=Ne[88]=8,Ae[88]=Ge[88]=19,Te[73]=Gr[73]=0,xe[73]=Ae[73]=13,Te[97]=Gr[97]=0,xe[97]=Ae[97]=13,Te[145]=Ae[145]=9,qe[145]=qr[145]=21,Te[25]=Ae[25]=9,qe[25]=qr[25]=21,xe[70]=Gr[70]=1,Ne[70]=Ge[70]=17,xe[100]=Gr[100]=1,Ne[100]=Ge[100]=17,Te[34]=Ae[34]=9,xe[34]=Ne[34]=12,qe[34]=qr[34]=21,Ge[34]=Gr[34]=22,Te[136]=qr[136]=4,xe[136]=Gr[136]=1,Ne[136]=Ge[136]=17,Ae[136]=qe[136]=18,Te[35]=qr[35]=4,xe[35]=Ne[35]=12,Ae[35]=qe[35]=18,Ge[35]=Gr[35]=22,Te[153]=qr[153]=4,Ae[153]=qe[153]=18,xe[102]=Ne[102]=12,Ge[102]=Gr[102]=22,Te[155]=Ae[155]=9,qe[155]=qr[155]=23,xe[103]=Gr[103]=1,Ne[103]=Ge[103]=17,Te[152]=qr[152]=4,Ne[152]=Ge[152]=17,Ae[152]=qe[152]=18,Te[156]=Ne[156]=8,Ae[156]=qe[156]=18,Ge[156]=qr[156]=23,Te[137]=qr[137]=4,xe[137]=Gr[137]=1,Ae[137]=qe[137]=18,Te[139]=qr[139]=4,xe[139]=Ae[139]=13,qe[139]=Gr[139]=20,Te[98]=Ae[98]=9,xe[98]=Ne[98]=12,Ge[98]=Gr[98]=22,Te[99]=Gr[99]=0,xe[99]=Ne[99]=12,Ae[99]=Ge[99]=19,xe[38]=Ne[38]=12,qe[38]=qr[38]=21,Ge[38]=Gr[38]=22,xe[39]=qr[39]=5,Ne[39]=qe[39]=16,Ge[39]=Gr[39]=22;var fe=[];function et(e,i,s){return(e-i)/(s-i)}function bb(e){return e.constructor.toString().indexOf("Array")>-1}function MM(e,i,s,a,c,h){for(var g=e.cells[s][i],y=g.cval_real,w=i+a,x=s+c,T=[],E=!1;!E;){if(e.cells[x]===void 0||e.cells[x][w]===void 0)if(x-=c,w-=a,y=(g=e.cells[x][w]).cval_real,c===-1)if(h===0)if(1&y)T.push([w,x]),a=-1,c=0,h=0;else{if(!(4&y)){T.push([w+g.bottomright,x]),a=0,c=1,h=1,E=!0;break}T.push([w+1,x]),a=1,c=0,h=0}else{if(!(1&y)){if(4&y){T.push([w+g.bottomright,x]),a=0,c=1,h=1,E=!0;break}T.push([w+g.bottomleft,x]),a=0,c=1,h=0,E=!0;break}T.push([w,x]),a=-1,c=0,h=0}else if(c===1)if(h===0){if(!(y&ua)){if(y&Zn){T.push([w+g.topleft,x+1]),a=0,c=-1,h=0,E=!0;break}T.push([w+g.topright,x+1]),a=0,c=-1,h=1,E=!0;break}T.push([w+1,x+1]),a=1,c=0,h=1}else T.push([w+1,x+1]),a=1,c=0,h=1;else if(a===-1)if(h===0){if(!(y&Zn)){if(1&y){T.push([w,x+g.leftbottom]),a=1,c=0,h=0,E=!0;break}T.push([w,x+g.lefttop]),a=1,c=0,h=1,E=!0;break}T.push([w,x+1]),a=0,c=1,h=0}else{if(!(y&Zn)){console.log("MarchingSquaresJS-isoBands: wtf");break}T.push([w,x+1]),a=0,c=1,h=0}else{if(a!==1){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(h===0){if(!(4&y)){T.push([w+1,x+g.rightbottom]),a=-1,c=0,h=0,E=!0;break}T.push([w+1,x]),a=0,c=-1,h=1}else{if(!(4&y)){if(y&ua){T.push([w+1,x+g.righttop]),a=-1,c=0,h=1;break}T.push([w+1,x+g.rightbottom]),a=-1,c=0,h=0,E=!0;break}T.push([w+1,x]),a=0,c=-1,h=1}}else if(y=(g=e.cells[x][w]).cval_real,a===-1)if(h===0)if(e.cells[x-1]!==void 0&&e.cells[x-1][w]!==void 0)a=0,c=-1,h=1;else{if(!(1&y)){T.push([w+g.bottomright,x]),a=0,c=1,h=1,E=!0;break}T.push([w,x])}else{if(!(y&Zn)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+w+","+x);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(a===1){if(h===0){console.log("MarchingSquaresJS-isoBands: wtf");break}if(e.cells[x+1]!==void 0&&e.cells[x+1][w]!==void 0)a=0,c=1,h=0;else{if(!(y&ua)){T.push([w+g.topleft,x+1]),a=0,c=-1,h=0,E=!0;break}T.push([w+1,x+1]),a=1,c=0,h=1}}else if(c===-1){if(h!==1){console.log("MarchingSquaresJS-isoBands: wtf");break}if(e.cells[x][w+1]!==void 0)a=1,c=0,h=1;else{if(!(4&y)){T.push([w+1,x+g.righttop]),a=-1,c=0,h=1,E=!0;break}T.push([w+1,x]),a=0,c=-1,h=1}}else{if(c!==1){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(h!==0){console.log("MarchingSquaresJS-isoBands: wtf");break}if(e.cells[x][w-1]!==void 0)a=-1,c=0,h=0;else{if(!(y&Zn)){T.push([w,x+g.leftbottom]),a=1,c=0,h=0,E=!0;break}T.push([w,x+1]),a=0,c=1,h=0}}if(x+=c,(w+=a)===i&&x===s)break}return{path:T,i:w,j:x,x:a,y:c,o:h}}function IM(e){if(e.edges.length>0){var i=e.edges[e.edges.length-1],s=e.cval_real;switch(i){case 0:return s&ua?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.topleft,1],x:0,y:-1,o:0};case 1:return 4&s?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 2:return 4&s?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[e.topleft,1],x:0,y:-1,o:0};case 3:return 1&s?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 4:return s&ua?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};case 5:return 4&s?{p:[e.topright,1],x:0,y:-1,o:1}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 6:return 4&s?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};case 7:return 1&s?{p:[e.topright,1],x:0,y:-1,o:1}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 8:return 4&s?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[1,e.righttop],x:-1,y:0,o:1};case 9:return 1&s?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 10:return 1&s?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[1,e.righttop],x:-1,y:0,o:1};case 11:return s&Zn?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[0,e.lefttop],x:1,y:0,o:1};case 12:return 4&s?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 13:return 1&s?{p:[1,e.rightbottom],x:-1,y:0,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 14:return 1&s?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 15:return s&Zn?{p:[1,e.rightbottom],x:-1,y:0,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 16:return 4&s?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[0,e.leftbottom],x:1,y:0,o:0};case 17:return s&Zn?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[0,e.lefttop],x:1,y:0,o:1};case 18:return 1&s?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 19:return s&Zn?{p:[e.bottomleft,0],x:0,y:1,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 20:return s&Zn?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[0,e.leftbottom],x:1,y:0,o:0};case 21:return s&ua?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[e.topright,1],x:0,y:-1,o:1};case 22:return s&Zn?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 23:return s&ua?{p:[0,e.lefttop],x:1,y:0,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(e)}}return null}function LM(e,i,s,a){var c,h,g,y,w,x=e.cval;switch(i){case-1:switch(a){case 0:c=xe[x],g=Pr[x],y=Mr[x],w=Ir[x];break;default:c=Te[x],g=Tr[x],y=Sr[x],w=Cr[x]}break;case 1:switch(a){case 0:c=qe[x],g=jr[x],y=Hr[x],w=Ur[x];break;default:c=Ge[x],g=Dr[x],y=Fr[x],w=Br[x]}break;default:switch(s){case-1:switch(a){case 0:c=Gr[x],g=br[x],y=wr[x],w=xr[x];break;default:c=qr[x],g=_r[x],y=kr[x],w=Er[x]}break;case 1:switch(a){case 0:c=Ae[x],g=Lr[x],y=Rr[x],w=Ar[x];break;default:c=Ne[x],g=Or[x],y=zr[x],w=Nr[x]}}}if(h=e.edges.indexOf(c),e.edges[h]===void 0)return null;switch(function(T,E){delete T.edges[E];for(var P=E+1;P<T.edges.length;P++)T.edges[P-1]=T.edges[P];T.edges.pop()}(e,h),x=e.cval_real,c){case 0:x&ua?(i=e.topleft,s=1):(i=1,s=e.righttop);break;case 1:4&x?(i=1,s=e.rightbottom):(i=e.topleft,s=1);break;case 2:4&x?(i=e.topleft,s=1):(i=e.bottomright,s=0);break;case 3:1&x?(i=e.bottomleft,s=0):(i=e.topleft,s=1);break;case 4:x&ua?(i=e.topright,s=1):(i=1,s=e.righttop);break;case 5:4&x?(i=1,s=e.rightbottom):(i=e.topright,s=1);break;case 6:4&x?(i=e.topright,s=1):(i=e.bottomright,s=0);break;case 7:1&x?(i=e.bottomleft,s=0):(i=e.topright,s=1);break;case 8:4&x?(i=1,s=e.righttop):(i=e.bottomright,s=0);break;case 9:1&x?(i=e.bottomleft,s=0):(i=1,s=e.righttop);break;case 10:1&x?(i=1,s=e.righttop):(i=0,s=e.leftbottom);break;case 11:x&Zn?(i=0,s=e.lefttop):(i=1,s=e.righttop);break;case 12:4&x?(i=1,s=e.rightbottom):(i=e.bottomright,s=0);break;case 13:1&x?(i=e.bottomleft,s=0):(i=1,s=e.rightbottom);break;case 14:1&x?(i=1,s=e.rightbottom):(i=0,s=e.leftbottom);break;case 15:x&Zn?(i=0,s=e.lefttop):(i=1,s=e.rightbottom);break;case 16:4&x?(i=0,s=e.leftbottom):(i=e.bottomright,s=0);break;case 17:x&Zn?(i=0,s=e.lefttop):(i=e.bottomright,s=0);break;case 18:1&x?(i=e.bottomleft,s=0):(i=0,s=e.leftbottom);break;case 19:x&Zn?(i=0,s=e.lefttop):(i=e.bottomleft,s=0);break;case 20:x&Zn?(i=0,s=e.leftbottom):(i=e.topleft,s=1);break;case 21:x&ua?(i=e.topright,s=1):(i=0,s=e.leftbottom);break;case 22:x&Zn?(i=0,s=e.lefttop):(i=e.topleft,s=1);break;case 23:x&ua?(i=e.topright,s=1):(i=0,s=e.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(e),null}return i!==void 0&&s!==void 0&&g!==void 0&&y!==void 0&&w!==void 0||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(e),console.log(i+" "+s+" "+g+" "+y+" "+w)),{p:[i,s],x:g,y,o:w}}function RM(e){var i=[],s=[];e.forEach(function(c){var h=ed(v([c]));s.push(h),i.push({ring:c,area:h})}),s.sort(function(c,h){return h-c});var a=[];return s.forEach(function(c){for(var h=0;h<i.length;h++)if(i[h].area===c){a.push(i[h].ring),i.splice(h,1);break}}),a}function AM(e){for(var i=e.map(function(y){return{lrCoordinates:y,grouped:!1}}),s=[];!zM(i);)for(var a=0;a<i.length;a++)if(!i[a].grouped){var c=[];c.push(i[a].lrCoordinates),i[a].grouped=!0;for(var h=v([i[a].lrCoordinates]),g=a+1;g<i.length;g++)i[g].grouped||OM(v([i[g].lrCoordinates]),h)&&(c.push(i[g].lrCoordinates),i[g].grouped=!0);s.push(c)}return s}function OM(e,i){for(var s=zu(e),a=0;a<s.features.length;a++)if(!Ye(s.features[a],i))return!1;return!0}function zM(e){for(var i=0;i<e.length;i++)if(e[i].grouped===!1)return!1;return!0}function h_(e,i,s){if(!vt(s=s||{}))throw new Error("options is invalid");var a=s.pivot,c=s.mutate;if(!e)throw new Error("geojson is required");if(i==null||isNaN(i))throw new Error("angle is required");return i===0||(a||(a=na(e)),c!==!1&&c!==void 0||(e=Si(e)),Gt(e,function(h){var g=zl(a,h)+i,y=Ll(a,h),w=U(ld(a,y,g));h[0]=w[0],h[1]=w[1]})),e}function d_(e,i,s){if(!vt(s=s||{}))throw new Error("options is invalid");var a=s.origin,c=s.mutate;if(!e)throw new Error("geojson required");if(typeof i!="number"||i===0)throw new Error("invalid factor");var h=Array.isArray(a)||typeof a=="object";return c!==!0&&(e=Si(e)),e.type!=="FeatureCollection"||h?p_(e,i,a):(xt(e,function(g,y){e.features[y]=p_(g,i,a)}),e)}function p_(e,i,s){var a=It(e)==="Point";return s=function(c,h){if(h==null&&(h="centroid"),Array.isArray(h)||typeof h=="object")return I(h);var g=c.bbox?c.bbox:zt(c),y=g[0],w=g[1],x=g[2],T=g[3];switch(h){case"sw":case"southwest":case"westsouth":case"bottomleft":return f([y,w]);case"se":case"southeast":case"eastsouth":case"bottomright":return f([x,w]);case"nw":case"northwest":case"westnorth":case"topleft":return f([y,T]);case"ne":case"northeast":case"eastnorth":case"topright":return f([x,T]);case"center":return is(c);case void 0:case null:case"centroid":return na(c);default:throw new Error("invalid origin")}}(e,s),i===1||a||Gt(e,function(c){var h=Ll(s,c),g=zl(s,c),y=U(ld(s,h*i,g));c[0]=y[0],c[1]=y[1],c.length===3&&(c[2]*=i)}),e}function Xm(e){var i=e[0],s=e[1];return[s[0]-i[0],s[1]-i[1]]}function wb(e,i){return e[0]*i[1]-i[0]*e[1]}function NM(e,i){return!function(s,a){return wb(Xm(s),Xm(a))===0}(e,i)&&function(s,a){var c,h,g=s[0],y=Xm(s),w=a[0],x=Xm(a),T=wb(y,x);return function(E,P){return[E[0]+P[0],E[1]+P[1]]}(g,function(E,P){return[E*P[0],E*P[1]]}(wb((h=g,[(c=w)[0]-h[0],c[1]-h[1]]),x)/T,y))}(e,i)}function f_(e,i,s){var a=[],c=nt(i,s),h=U(e),g=[];return h.forEach(function(y,w){if(w!==h.length-1){var x=(P=y,z=h[w+1],N=c,B=Math.sqrt((P[0]-z[0])*(P[0]-z[0])+(P[1]-z[1])*(P[1]-z[1])),R=P[0]+N*(z[1]-P[1])/B,X=z[0]+N*(z[1]-P[1])/B,it=P[1]+N*(P[0]-z[0])/B,D=z[1]+N*(P[0]-z[0])/B,[[R,it],[X,D]]);if(a.push(x),w>0){var T=a[w-1],E=NM(x,T);E!==!1&&(T[1]=E,x[0]=E),g.push(T[0]),w===h.length-2&&(g.push(x[0]),g.push(x[1]))}h.length===2&&(g.push(x[0]),g.push(x[1]))}var P,z,N,B,R,X,it,D}),k(g,e.properties)}function xb(e,i,s){var a=i[0]-e[0],c=i[1]-e[1],h=s[0]-i[0];return function(g){return(g>0)-(g<0)||+g}(a*(s[1]-i[1])-h*c)}function g_(e,i){return i.geometry.coordinates[0].every(function(s){return Ye(f(s),e)})}fe[1]=fe[169]=hb,fe[4]=fe[166]=db,fe[16]=fe[154]=pb,fe[64]=fe[106]=fb,fe[168]=fe[2]=gb,fe[162]=fe[8]=mb,fe[138]=fe[32]=vb,fe[42]=fe[128]=yb,fe[5]=fe[165]=function(e){return[[0,0],[0,e.leftbottom],[1,e.rightbottom],[1,0]]},fe[20]=fe[150]=function(e){return[[1,0],[e.bottomright,0],[e.topright,1],[1,1]]},fe[80]=fe[90]=function(e){return[[1,1],[1,e.righttop],[0,e.lefttop],[0,1]]},fe[65]=fe[105]=function(e){return[[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},fe[160]=fe[10]=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.leftbottom],[0,e.lefttop]]},fe[130]=fe[40]=function(e){return[[e.topleft,1],[e.topright,1],[e.bottomright,0],[e.bottomleft,0]]},fe[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},fe[101]=fe[69]=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,1],[e.topleft,1]]},fe[149]=fe[21]=function(e){return[[e.topright,1],[1,1],[1,0],[0,0],[0,e.leftbottom]]},fe[86]=fe[84]=function(e){return[[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[1,1]]},fe[89]=fe[81]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,1]]},fe[96]=fe[74]=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.lefttop],[0,1],[e.topleft,1]]},fe[24]=fe[146]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[e.topright,1]]},fe[6]=fe[164]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop]]},fe[129]=fe[41]=function(e){return[[e.topright,1],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1]]},fe[66]=fe[104]=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},fe[144]=fe[26]=function(e){return[[1,1],[1,e.righttop],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},fe[36]=fe[134]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[e.topleft,1],[e.topright,1]]},fe[9]=fe[161]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom]]},fe[37]=fe[133]=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},fe[148]=fe[22]=function(e){return[[1,1],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},fe[82]=fe[88]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1]]},fe[73]=fe[97]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},fe[145]=fe[25]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},fe[70]=fe[100]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},fe[34]=function(e){return[yb(e),mb(e)]},fe[35]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},fe[136]=function(e){return[vb(e),gb(e)]},fe[153]=function(e){return[pb(e),hb(e)]},fe[102]=function(e){return[db(e),fb(e)]},fe[155]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},fe[103]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},fe[152]=function(e){return[pb(e),gb(e)]},fe[156]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},fe[137]=function(e){return[vb(e),hb(e)]},fe[139]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},fe[98]=function(e){return[mb(e),fb(e)]},fe[99]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},fe[38]=function(e){return[db(e),yb(e)]},fe[39]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]};var m_=function(){function e(i){this.id=e.buildId(i),this.coordinates=i,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return e.buildId=function(i){return i.join(",")},e.prototype.removeInnerEdge=function(i){this.innerEdges=this.innerEdges.filter(function(s){return s.from.id!==i.from.id})},e.prototype.removeOuterEdge=function(i){this.outerEdges=this.outerEdges.filter(function(s){return s.to.id!==i.to.id})},e.prototype.addOuterEdge=function(i){this.outerEdges.push(i),this.outerEdgesSorted=!1},e.prototype.sortOuterEdges=function(){var i=this;this.outerEdgesSorted||(this.outerEdges.sort(function(s,a){var c=s.to,h=a.to;if(c.coordinates[0]-i.coordinates[0]>=0&&h.coordinates[0]-i.coordinates[0]<0)return 1;if(c.coordinates[0]-i.coordinates[0]<0&&h.coordinates[0]-i.coordinates[0]>=0)return-1;if(c.coordinates[0]-i.coordinates[0]==0&&h.coordinates[0]-i.coordinates[0]==0)return c.coordinates[1]-i.coordinates[1]>=0||h.coordinates[1]-i.coordinates[1]>=0?c.coordinates[1]-h.coordinates[1]:h.coordinates[1]-c.coordinates[1];var g=xb(i.coordinates,c.coordinates,h.coordinates);return g<0?1:g>0?-1:Math.pow(c.coordinates[0]-i.coordinates[0],2)+Math.pow(c.coordinates[1]-i.coordinates[1],2)-(Math.pow(h.coordinates[0]-i.coordinates[0],2)+Math.pow(h.coordinates[1]-i.coordinates[1],2))}),this.outerEdgesSorted=!0)},e.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},e.prototype.getOuterEdge=function(i){return this.sortOuterEdges(),this.outerEdges[i]},e.prototype.addInnerEdge=function(i){this.innerEdges.push(i)},e}(),DM=function(){function e(i,s){this.from=i,this.to=s,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return e.prototype.getSymetric=function(){return this.symetric||(this.symetric=new e(this.to,this.from),this.symetric.symetric=this),this.symetric},e.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},e.prototype.isEqual=function(i){return this.from.id===i.from.id&&this.to.id===i.to.id},e.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},e.prototype.toLineString=function(){return k([this.from.coordinates,this.to.coordinates])},e.prototype.compareTo=function(i){return xb(i.from.coordinates,i.to.coordinates,this.to.coordinates)},e}(),v_=function(){function e(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return e.prototype.push=function(i){this.edges.push(i),this.polygon=this.envelope=void 0},e.prototype.get=function(i){return this.edges[i]},Object.defineProperty(e.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),e.prototype.forEach=function(i){this.edges.forEach(i)},e.prototype.map=function(i){return this.edges.map(i)},e.prototype.some=function(i){return this.edges.some(i)},e.prototype.isValid=function(){return!0},e.prototype.isHole=function(){var i=this,s=this.edges.reduce(function(g,y,w){return y.from.coordinates[1]>i.edges[g].from.coordinates[1]&&(g=w),g},0),a=(s===0?this.length:s)-1,c=(s+1)%this.length,h=xb(this.edges[a].from.coordinates,this.edges[s].from.coordinates,this.edges[c].from.coordinates);return h===0?this.edges[a].from.coordinates[0]>this.edges[c].from.coordinates[0]:h>0},e.prototype.toMultiPoint=function(){return F(this.edges.map(function(i){return i.from.coordinates}))},e.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var i=this.edges.map(function(s){return s.from.coordinates});return i.push(this.edges[0].from.coordinates),this.polygon=v([i])},e.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=Gh(this.toPolygon())},e.findEdgeRingContaining=function(i,s){var a,c,h=i.getEnvelope();return s.forEach(function(g){var y,w,x,T,E,P,z=g.getEnvelope();if(c&&(a=c.getEnvelope()),w=h,x=(y=z).geometry.coordinates[0].map(function(D){return D[0]}),T=y.geometry.coordinates[0].map(function(D){return D[1]}),E=w.geometry.coordinates[0].map(function(D){return D[0]}),P=w.geometry.coordinates[0].map(function(D){return D[1]}),(Math.max.apply(null,x)!==Math.max.apply(null,E)||Math.max.apply(null,T)!==Math.max.apply(null,P)||Math.min.apply(null,x)!==Math.min.apply(null,E)||Math.min.apply(null,T)!==Math.min.apply(null,P))&&g_(z,h)){for(var N=i.map(function(D){return D.from.coordinates}),B=void 0,R=function(D){g.some(function(Y){return K=D,tt=Y.from.coordinates,K[0]===tt[0]&&K[1]===tt[1];var K,tt})||(B=D)},X=0,it=N;X<it.length;X++)R(it[X]);B&&g.inside(f(B))&&(c&&!g_(a,z)||(c=g))}}),c},e.prototype.inside=function(i){return Ye(i,this.toPolygon())},e}(),FM=function(){function e(){this.edges=[],this.nodes={}}return e.fromGeoJson=function(i){(function(a){if(!a)throw new Error("No geojson passed");if(a.type!=="FeatureCollection"&&a.type!=="GeometryCollection"&&a.type!=="MultiLineString"&&a.type!=="LineString"&&a.type!=="Feature")throw new Error("Invalid input type '"+a.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")})(i);var s=new e;return oe(i,function(a){ht(a,"LineString","Graph::fromGeoJson"),ce(a,function(c,h){if(c){var g=s.getNode(c),y=s.getNode(h);s.addEdge(g,y)}return h})}),s},e.prototype.getNode=function(i){var s=m_.buildId(i),a=this.nodes[s];return a||(a=this.nodes[s]=new m_(i)),a},e.prototype.addEdge=function(i,s){var a=new DM(i,s),c=a.getSymetric();this.edges.push(a),this.edges.push(c)},e.prototype.deleteDangles=function(){var i=this;Object.keys(this.nodes).map(function(s){return i.nodes[s]}).forEach(function(s){return i._removeIfDangle(s)})},e.prototype._removeIfDangle=function(i){var s=this;if(i.innerEdges.length<=1){var a=i.getOuterEdges().map(function(c){return c.to});this.removeNode(i),a.forEach(function(c){return s._removeIfDangle(c)})}},e.prototype.deleteCutEdges=function(){var i=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(s){s.label===s.symetric.label&&(i.removeEdge(s.symetric),i.removeEdge(s))})},e.prototype._computeNextCWEdges=function(i){var s=this;i===void 0?Object.keys(this.nodes).forEach(function(a){return s._computeNextCWEdges(s.nodes[a])}):i.getOuterEdges().forEach(function(a,c){i.getOuterEdge((c===0?i.getOuterEdges().length:c)-1).symetric.next=a})},e.prototype._computeNextCCWEdges=function(i,s){for(var a,c,h=i.getOuterEdges(),g=h.length-1;g>=0;--g){var y=h[g],w=y.symetric,x=void 0,T=void 0;y.label===s&&(x=y),w.label===s&&(T=w),x&&T&&(T&&(c=T),x&&(c&&(c.next=x,c=void 0),a||(a=x)))}c&&(c.next=a)},e.prototype._findLabeledEdgeRings=function(){var i=[],s=0;return this.edges.forEach(function(a){if(!(a.label>=0)){i.push(a);var c=a;do c.label=s,c=c.next;while(!a.isEqual(c));s++}}),i},e.prototype.getEdgeRings=function(){var i=this;this._computeNextCWEdges(),this.edges.forEach(function(a){a.label=void 0}),this._findLabeledEdgeRings().forEach(function(a){i._findIntersectionNodes(a).forEach(function(c){i._computeNextCCWEdges(c,a.label)})});var s=[];return this.edges.forEach(function(a){a.ring||s.push(i._findEdgeRing(a))}),s},e.prototype._findIntersectionNodes=function(i){var s=[],a=i,c=function(){var h=0;a.from.getOuterEdges().forEach(function(g){g.label===i.label&&++h}),h>1&&s.push(a.from),a=a.next};do c();while(!i.isEqual(a));return s},e.prototype._findEdgeRing=function(i){var s=i,a=new v_;do a.push(s),s.ring=a,s=s.next;while(!i.isEqual(s));return a},e.prototype.removeNode=function(i){var s=this;i.getOuterEdges().forEach(function(a){return s.removeEdge(a)}),i.innerEdges.forEach(function(a){return s.removeEdge(a)}),delete this.nodes[i.id]},e.prototype.removeEdge=function(i){this.edges=this.edges.filter(function(s){return!s.isEqual(i)}),i.deleteEdge()},e}();function y_(e,i){var s=!0;return oe(e,function(a){oe(i,function(c){if(s===!1)return!1;s=function(h,g){switch(h.type){case"Point":switch(g.type){case"Point":return y=h.coordinates,w=g.coordinates,!(y[0]===w[0]&&y[1]===w[1]);case"LineString":return!b_(g,h);case"Polygon":return!Ye(h,g)}break;case"LineString":switch(g.type){case"Point":return!b_(h,g);case"LineString":return!function(x,T){return dn(x,T).features.length>0}(h,g);case"Polygon":return!w_(g,h)}break;case"Polygon":switch(g.type){case"Point":return!Ye(g,h);case"LineString":return!w_(h,g);case"Polygon":return!function(x,T){for(var E=0,P=x.coordinates[0];E<P.length;E++)if(Ye(P[E],T))return!0;for(var z=0,N=T.coordinates[0];z<N.length;z++)if(Ye(N[z],x))return!0;return dn(An(x),An(T)).features.length>0}(g,h)}}var y,w;return!1}(a.geometry,c.geometry)})}),s}function b_(e,i){for(var s=0;s<e.coordinates.length-1;s++)if(BM(e.coordinates[s],e.coordinates[s+1],i.coordinates))return!0;return!1}function w_(e,i){for(var s=0,a=i.coordinates;s<a.length;s++)if(Ye(a[s],e))return!0;return dn(i,An(e)).features.length>0}function BM(e,i,s){var a=s[0]-e[0],c=s[1]-e[1],h=i[0]-e[0],g=i[1]-e[1];return a*g-c*h==0&&(Math.abs(h)>=Math.abs(g)?h>0?e[0]<=s[0]&&s[0]<=i[0]:i[0]<=s[0]&&s[0]<=e[0]:g>0?e[1]<=s[1]&&s[1]<=i[1]:i[1]<=s[1]&&s[1]<=e[1])}function x_(e,i){return!(e[0]>i[0])&&!(e[2]<i[2])&&!(e[1]>i[1])&&!(e[3]<i[3])}function _b(e,i){return e[0]===i[0]&&e[1]===i[1]}function jM(e,i){return[(e[0]+i[0])/2,(e[1]+i[1])/2]}function __(e,i){for(var s=!1,a=!1,c=e.coordinates.length,h=0;h<c&&!s&&!a;){for(var g=0;g<i.coordinates.length-1;g++){var y=!0;g!==0&&g!==i.coordinates.length-2||(y=!1),T_(i.coordinates[g],i.coordinates[g+1],e.coordinates[h],y)?s=!0:a=!0}h++}return s&&a}function k_(e,i){return dn(e,Wn(i)).features.length>0}function E_(e,i){for(var s=!1,a=!1,c=e.coordinates.length,h=0;h<c&&(!s||!a);h++)Ye(f(e.coordinates[h]),i)?s=!0:a=!0;return a&&s}function T_(e,i,s,a){var c=s[0]-e[0],h=s[1]-e[1],g=i[0]-e[0],y=i[1]-e[1];return c*y-h*g==0&&(a?Math.abs(g)>=Math.abs(y)?g>0?e[0]<=s[0]&&s[0]<=i[0]:i[0]<=s[0]&&s[0]<=e[0]:y>0?e[1]<=s[1]&&s[1]<=i[1]:i[1]<=s[1]&&s[1]<=e[1]:Math.abs(g)>=Math.abs(y)?g>0?e[0]<s[0]&&s[0]<i[0]:i[0]<s[0]&&s[0]<e[0]:y>0?e[1]<s[1]&&s[1]<i[1]:i[1]<s[1]&&s[1]<e[1])}var Ua=function(e){this.precision=e&&e.precision?e.precision:17,this.direction=!(!e||!e.direction)&&e.direction,this.pseudoNode=!(!e||!e.pseudoNode)&&e.pseudoNode,this.objectComparator=e&&e.objectComparator?e.objectComparator:HM};function S_(e){return e.coordinates.map(function(i){return{type:e.type.replace("Multi",""),coordinates:i}})}function C_(e,i){return e.hasOwnProperty("coordinates")?e.coordinates.length===i.coordinates.length:e.length===i.length}function HM(e,i){return Rc(e,i,{strict:!0})}Ua.prototype.compare=function(e,i){if(e.type!==i.type||!C_(e,i))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,i.coordinates);case"LineString":return this.compareLine(e.coordinates,i.coordinates,0,!1);case"Polygon":return this.comparePolygon(e,i);case"Feature":return this.compareFeature(e,i);default:if(e.type.indexOf("Multi")===0){var s=this,a=S_(e),c=S_(i);return a.every(function(h){return this.some(function(g){return s.compare(h,g)})},c)}}return!1},Ua.prototype.compareCoord=function(e,i){if(e.length!==i.length)return!1;for(var s=0;s<e.length;s++)if(e[s].toFixed(this.precision)!==i[s].toFixed(this.precision))return!1;return!0},Ua.prototype.compareLine=function(e,i,s,a){if(!C_(e,i))return!1;var c=this.pseudoNode?e:this.removePseudo(e),h=this.pseudoNode?i:this.removePseudo(i);if(!a||this.compareCoord(c[0],h[0])||(h=this.fixStartIndex(h,c))){var g=this.compareCoord(c[s],h[s]);return this.direction||g?this.comparePath(c,h):!!this.compareCoord(c[s],h[h.length-(1+s)])&&this.comparePath(c.slice().reverse(),h)}},Ua.prototype.fixStartIndex=function(e,i){for(var s,a=-1,c=0;c<e.length;c++)if(this.compareCoord(e[c],i[0])){a=c;break}return a>=0&&(s=[].concat(e.slice(a,e.length),e.slice(1,a+1))),s},Ua.prototype.comparePath=function(e,i){var s=this;return e.every(function(a,c){return s.compareCoord(a,this[c])},i)},Ua.prototype.comparePolygon=function(e,i){if(this.compareLine(e.coordinates[0],i.coordinates[0],1,!0)){var s=e.coordinates.slice(1,e.coordinates.length),a=i.coordinates.slice(1,i.coordinates.length),c=this;return s.every(function(h){return this.some(function(g){return c.compareLine(h,g,1,!0)})},a)}return!1},Ua.prototype.compareFeature=function(e,i){return!(e.id!==i.id||!this.objectComparator(e.properties,i.properties)||!this.compareBBox(e,i))&&this.compare(e.geometry,i.geometry)},Ua.prototype.compareBBox=function(e,i){return!!(!e.bbox&&!i.bbox||e.bbox&&i.bbox&&this.compareCoord(e.bbox,i.bbox))},Ua.prototype.removePseudo=function(e){return e};var P_=Ua;function M_(e,i){var s=!1;return oe(e,function(a){oe(i,function(c){if(s===!0)return!0;s=!y_(a.geometry,c.geometry)})}),s}var UM=es(function(e){function i(s,a,c,h){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(s,a,c,h)}i.prototype.run=function(s,a,c,h){this._init(s,a,c,h);for(var g=0;g<this._datasetLength;g++)if(this._visited[g]!==1){this._visited[g]=1;var y=this._regionQuery(g);if(y.length<this.minPts)this.noise.push(g);else{var w=this.clusters.length;this.clusters.push([]),this._addToCluster(g,w),this._expandCluster(w,y)}}return this.clusters},i.prototype._init=function(s,a,c,h){if(s){if(!(s instanceof Array))throw Error("Dataset must be of type array, "+typeof s+" given");this.dataset=s,this.clusters=[],this.noise=[],this._datasetLength=s.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}a&&(this.epsilon=a),c&&(this.minPts=c),h&&(this.distance=h)},i.prototype._expandCluster=function(s,a){for(var c=0;c<a.length;c++){var h=a[c];if(this._visited[h]!==1){this._visited[h]=1;var g=this._regionQuery(h);g.length>=this.minPts&&(a=this._mergeArrays(a,g))}this._assigned[h]!==1&&this._addToCluster(h,s)}},i.prototype._addToCluster=function(s,a){this.clusters[a].push(s),this._assigned[s]=1},i.prototype._regionQuery=function(s){for(var a=[],c=0;c<this._datasetLength;c++)this.distance(this.dataset[s],this.dataset[c])<this.epsilon&&a.push(c);return a},i.prototype._mergeArrays=function(s,a){for(var c=a.length,h=0;h<c;h++){var g=a[h];s.indexOf(g)<0&&s.push(g)}return s},i.prototype._euclideanDistance=function(s,a){for(var c=0,h=Math.min(s.length,a.length);h--;)c+=(s[h]-a[h])*(s[h]-a[h]);return Math.sqrt(c)},e.exports&&(e.exports=i)}),GM=es(function(e){function i(s,a,c){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(s,a,c)}i.prototype.init=function(s,a,c){this.assignments=[],this.centroids=[],s!==void 0&&(this.dataset=s),a!==void 0&&(this.k=a),c!==void 0&&(this.distance=c)},i.prototype.run=function(s,a){this.init(s,a);for(var c=this.dataset.length,h=0;h<this.k;h++)this.centroids[h]=this.randomCentroid();for(var g=!0;g;){g=this.assign();for(var y=0;y<this.k;y++){for(var w=new Array(P),x=0,T=0;T<P;T++)w[T]=0;for(var E=0;E<c;E++){var P=this.dataset[E].length;if(y===this.assignments[E]){for(T=0;T<P;T++)w[T]+=this.dataset[E][T];x++}}if(x>0){for(T=0;T<P;T++)w[T]/=x;this.centroids[y]=w}else this.centroids[y]=this.randomCentroid(),g=!0}}return this.getClusters()},i.prototype.randomCentroid=function(){var s,a,c=this.dataset.length-1;do a=Math.round(Math.random()*c),s=this.dataset[a];while(this.centroids.indexOf(s)>=0);return s},i.prototype.assign=function(){for(var s,a=!1,c=this.dataset.length,h=0;h<c;h++)(s=this.argmin(this.dataset[h],this.centroids,this.distance))!=this.assignments[h]&&(this.assignments[h]=s,a=!0);return a},i.prototype.getClusters=function(){for(var s,a=new Array(this.k),c=0;c<this.assignments.length;c++)a[s=this.assignments[c]]===void 0&&(a[s]=[]),a[s].push(c);return a},i.prototype.argmin=function(s,a,c){for(var h,g=Number.MAX_VALUE,y=0,w=a.length,x=0;x<w;x++)(h=c(s,a[x]))<g&&(g=h,y=x);return y},i.prototype.distance=function(s,a){for(var c=0,h=Math.min(s.length,a.length);h--;){var g=s[h]-a[h];c+=g*g}return Math.sqrt(c)},e.exports&&(e.exports=i)}),I_=es(function(e){function i(s,a,c){this._queue=[],this._priorities=[],this._sorting="desc",this._init(s,a,c)}i.prototype.insert=function(s,a){for(var c=this._queue.length,h=c;h--;){var g=this._priorities[h];this._sorting==="desc"?a>g&&(c=h):a<g&&(c=h)}this._insertAt(s,a,c)},i.prototype.remove=function(s){for(var a=this._queue.length;a--;)if(s===this._queue[a]){this._queue.splice(a,1),this._priorities.splice(a,1);break}},i.prototype.forEach=function(s){this._queue.forEach(s)},i.prototype.getElements=function(){return this._queue},i.prototype.getElementPriority=function(s){return this._priorities[s]},i.prototype.getPriorities=function(){return this._priorities},i.prototype.getElementsWithPriorities=function(){for(var s=[],a=0,c=this._queue.length;a<c;a++)s.push([this._queue[a],this._priorities[a]]);return s},i.prototype._init=function(s,a,c){if(s&&a){if(this._queue=[],this._priorities=[],s.length!==a.length)throw new Error("Arrays must have the same length");for(var h=0;h<s.length;h++)this.insert(s[h],a[h])}c&&(this._sorting=c)},i.prototype._insertAt=function(s,a,c){this._queue.length===c?(this._queue.push(s),this._priorities.push(a)):(this._queue.splice(c,0,s),this._priorities.splice(c,0,a))},e.exports&&(e.exports=i)}),qM=es(function(e){if(e.exports)var i=I_;function s(a,c,h,g){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(a,c,h,g)}s.prototype.run=function(a,c,h,g){this._init(a,c,h,g);for(var y=0,w=this.dataset.length;y<w;y++)if(this._processed[y]!==1){this._processed[y]=1,this.clusters.push([y]);var x=this.clusters.length-1;this._orderedList.push(y);var T=new i(null,null,"asc"),E=this._regionQuery(y);this._distanceToCore(y)!==void 0&&(this._updateQueue(y,E,T),this._expandCluster(x,T))}return this.clusters},s.prototype.getReachabilityPlot=function(){for(var a=[],c=0,h=this._orderedList.length;c<h;c++){var g=this._orderedList[c],y=this._reachability[g];a.push([g,y])}return a},s.prototype._init=function(a,c,h,g){if(a){if(!(a instanceof Array))throw Error("Dataset must be of type array, "+typeof a+" given");this.dataset=a,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}c&&(this.epsilon=c),h&&(this.minPts=h),g&&(this.distance=g)},s.prototype._updateQueue=function(a,c,h){var g=this;this._coreDistance=this._distanceToCore(a),c.forEach(function(y){if(g._processed[y]===void 0){var w=g.distance(g.dataset[a],g.dataset[y]),x=Math.max(g._coreDistance,w);g._reachability[y]===void 0?(g._reachability[y]=x,h.insert(y,x)):x<g._reachability[y]&&(g._reachability[y]=x,h.remove(y),h.insert(y,x))}})},s.prototype._expandCluster=function(a,c){for(var h=c.getElements(),g=0,y=h.length;g<y;g++){var w=h[g];if(this._processed[w]===void 0){var x=this._regionQuery(w);this._processed[w]=1,this.clusters[a].push(w),this._orderedList.push(w),this._distanceToCore(w)!==void 0&&(this._updateQueue(w,x,c),this._expandCluster(a,c))}}},s.prototype._distanceToCore=function(a){for(var c=this.epsilon,h=0;h<c;h++)if(this._regionQuery(a,h).length>=this.minPts)return h},s.prototype._regionQuery=function(a,c){c=c||this.epsilon;for(var h=[],g=0,y=this.dataset.length;g<y;g++)this.distance(this.dataset[a],this.dataset[g])<c&&h.push(g);return h},s.prototype._euclideanDistance=function(a,c){for(var h=0,g=Math.min(a.length,c.length);g--;)h+=(a[g]-c[g])*(a[g]-c[g]);return Math.sqrt(h)},e.exports&&(e.exports=s)}),VM=es(function(e){e.exports&&(e.exports={DBSCAN:UM,KMEANS:GM,OPTICS:qM,PriorityQueue:I_})}),L_=function(e,i,s){for(var a=e.length,c=0,h=0;h<a;h++){var g=(e[h]||0)-(i[h]||0);c+=g*g}return s?Math.sqrt(c):c},WM=L_,ZM=function(e,i,s){var a=Math.abs(e-i);return s?a:a*a},YM=L_,XM=function(e,i){for(var s={},a=[],c=i<<2,h=e.length,g=e[0].length>0;a.length<i&&c-- >0;){var y=e[Math.floor(Math.random()*h)],w=g?y.join("_"):""+y;s[w]||(s[w]=!0,a.push(y))}if(a.length<i)throw new Error("Error initializating clusters");return a},KM=function(e,i){var s=e[0].length?WM:ZM,a=[],c=e.length,h=e[0].length>0,g=e[Math.floor(Math.random()*c)];for(h&&g.join("_"),a.push(g);a.length<i;){for(var y=[],w=a.length,x=0,T=[],E=0;E<c;E++){for(var P=1/0,z=0;z<w;z++){var N=s(e[E],a[z]);N<=P&&(P=N)}y[E]=P}for(var B=0;B<c;B++)x+=y[B];for(var R=0;R<c;R++)T[R]={i:R,v:e[R],pr:y[R]/x,cs:0};T.sort(function(Y,K){return Y.pr-K.pr}),T[0].cs=T[0].pr;for(var X=1;X<c;X++)T[X].cs=T[X-1].cs+T[X].pr;for(var it=Math.random(),D=0;D<c-1&&T[D++].cs<it;);a.push(T[D-1].v)}return a};function R_(e,i,s){s=s||[];for(var a=0;a<e;a++)s[a]=i;return s}var JM=function(e,i,s,a){var c=[],h=[],g=[],y=[],w=!1,x=a||1e4,T=e.length,E=e[0].length,P=E>0,z=[];if(s)c=s=="kmrand"?XM(e,i):s=="kmpp"?KM(e,i):s;else for(var N={};c.length<i;){var B=Math.floor(Math.random()*T);N[B]||(N[B]=!0,c.push(e[B]))}do{R_(i,0,z);for(var R=0;R<T;R++){for(var X=1/0,it=0,D=0;D<i;D++)(y=P?YM(e[R],c[D]):Math.abs(e[R]-c[D]))<=X&&(X=y,it=D);g[R]=it,z[it]++}for(var Y=[],K=(h=[],0);K<i;K++)Y[K]=P?R_(E,0,Y[K]):0,h[K]=c[K];if(P){for(var tt=0;tt<i;tt++)c[tt]=[];for(var Q=0;Q<T;Q++)for(var At=Y[g[Q]],Et=e[Q],Dt=0;Dt<E;Dt++)At[Dt]+=Et[Dt];w=!0;for(var Tt=0;Tt<i;Tt++){for(var jt=c[Tt],Mt=Y[Tt],Pt=h[Tt],St=z[Tt],Ft=0;Ft<E;Ft++)jt[Ft]=Mt[Ft]/St||0;if(w){for(var Lt=0;Lt<E;Lt++)if(Pt[Lt]!=jt[Lt]){w=!1;break}}}}else{for(var Ut=0;Ut<T;Ut++)Y[g[Ut]]+=e[Ut];for(var mt=0;mt<i;mt++)c[mt]=Y[mt]/z[mt]||0;w=!0;for(var Me=0;Me<i;Me++)if(h[Me]!=c[Me]){w=!1;break}}w=w||--x<=0}while(!w);return{it:1e4-x,k:i,idxs:g,centroids:c}};function QM(e,i){return gt(zl(e[0],e[1]))===gt(zl(i[0],i[1]))}function A_(e,i){if(e.geometry&&e.geometry.type)return e.geometry.type;if(e.type)return e.type;throw new Error("Invalid GeoJSON object for "+i)}function O_(e){for(var i=e,s=[];i.parent;)s.unshift(i),i=i.parent;return s}var Km={search:function(e,i,s,a){e.cleanDirty();var c=(a=a||{}).heuristic||Km.heuristics.manhattan,h=a.closest||!1,g=new z_(function(B){return B.f}),y=i;for(i.h=c(i,s),g.push(i);g.size()>0;){var w=g.pop();if(w===s)return O_(w);w.closed=!0;for(var x=e.neighbors(w),T=0,E=x.length;T<E;++T){var P=x[T];if(!P.closed&&!P.isWall()){var z=w.g+P.getCost(w),N=P.visited;(!N||z<P.g)&&(P.visited=!0,P.parent=w,P.h=P.h||c(P,s),P.g=z,P.f=P.g+P.h,e.markDirty(P),h&&(P.h<y.h||P.h===y.h&&P.g<y.g)&&(y=P),N?g.rescoreElement(P):g.push(P))}}}return h?O_(y):[]},heuristics:{manhattan:function(e,i){return Math.abs(i.x-e.x)+Math.abs(i.y-e.y)},diagonal:function(e,i){var s=Math.sqrt(2),a=Math.abs(i.x-e.x),c=Math.abs(i.y-e.y);return 1*(a+c)+(s-2)*Math.min(a,c)}},cleanNode:function(e){e.f=0,e.g=0,e.h=0,e.visited=!1,e.closed=!1,e.parent=null}};function cd(e,i){i=i||{},this.nodes=[],this.diagonal=!!i.diagonal,this.grid=[];for(var s=0;s<e.length;s++){this.grid[s]=[];for(var a=0,c=e[s];a<c.length;a++){var h=new Jm(s,a,c[a]);this.grid[s][a]=h,this.nodes.push(h)}}this.init()}function Jm(e,i,s){this.x=e,this.y=i,this.weight=s}function z_(e){this.content=[],this.scoreFunction=e}function $M(e,i){for(var s=0;s<i.features.length;s++)if(Ye(e,i.features[s]))return!0;return!1}function N_(e){return function(){return e}}function tI(e){return e[0]}function eI(e){return e[1]}function Qm(){this._=null}function $m(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function uf(e,i){var s=i,a=i.R,c=s.U;c?c.L===s?c.L=a:c.R=a:e._=a,a.U=c,s.U=a,s.R=a.L,s.R&&(s.R.U=s),a.L=s}function hf(e,i){var s=i,a=i.L,c=s.U;c?c.L===s?c.L=a:c.R=a:e._=a,a.U=c,s.U=a,s.L=a.R,s.L&&(s.L.U=s),a.R=s}function D_(e){for(;e.L;)e=e.L;return e}function df(e,i,s,a){var c=[null,null],h=ro.push(c)-1;return c.left=e,c.right=i,s&&t0(c,e,i,s),a&&t0(c,i,e,a),ns[e.index].halfedges.push(h),ns[i.index].halfedges.push(h),c}function pf(e,i,s){var a=[i,s];return a.left=e,a}function t0(e,i,s,a){e[0]||e[1]?e.left===s?e[1]=a:e[0]=a:(e[0]=a,e.left=i,e.right=s)}function rI(e,i,s,a,c){var h,g=e[0],y=e[1],w=g[0],x=g[1],T=0,E=1,P=y[0]-w,z=y[1]-x;if(h=i-w,P||!(h>0)){if(h/=P,P<0){if(h<T)return;h<E&&(E=h)}else if(P>0){if(h>E)return;h>T&&(T=h)}if(h=a-w,P||!(h<0)){if(h/=P,P<0){if(h>E)return;h>T&&(T=h)}else if(P>0){if(h<T)return;h<E&&(E=h)}if(h=s-x,z||!(h>0)){if(h/=z,z<0){if(h<T)return;h<E&&(E=h)}else if(z>0){if(h>E)return;h>T&&(T=h)}if(h=c-x,z||!(h<0)){if(h/=z,z<0){if(h>E)return;h>T&&(T=h)}else if(z>0){if(h<T)return;h<E&&(E=h)}return!(T>0||E<1)||(T>0&&(e[0]=[w+T*P,x+T*z]),E<1&&(e[1]=[w+E*P,x+E*z]),!0)}}}}}function iI(e,i,s,a,c){var h=e[1];if(h)return!0;var g,y,w=e[0],x=e.left,T=e.right,E=x[0],P=x[1],z=T[0],N=T[1],B=(E+z)/2,R=(P+N)/2;if(N===P){if(B<i||B>=a)return;if(E>z){if(w){if(w[1]>=c)return}else w=[B,s];h=[B,c]}else{if(w){if(w[1]<s)return}else w=[B,c];h=[B,s]}}else if(y=R-(g=(E-z)/(N-P))*B,g<-1||g>1)if(E>z){if(w){if(w[1]>=c)return}else w=[(s-y)/g,s];h=[(c-y)/g,c]}else{if(w){if(w[1]<s)return}else w=[(c-y)/g,c];h=[(s-y)/g,s]}else if(P<N){if(w){if(w[0]>=a)return}else w=[i,g*i+y];h=[a,g*a+y]}else{if(w){if(w[0]<i)return}else w=[a,g*a+y];h=[i,g*i+y]}return e[0]=w,e[1]=h,!0}function nI(e,i){var s=e.site,a=i.left,c=i.right;return s===c&&(c=a,a=s),c?Math.atan2(c[1]-a[1],c[0]-a[0]):(s===a?(a=i[1],c=i[0]):(a=i[0],c=i[1]),Math.atan2(a[0]-c[0],c[1]-a[1]))}function F_(e,i){return i[+(i.left!==e.site)]}function oI(e,i){return i[+(i.left===e.site)]}cd.prototype.init=function(){this.dirtyNodes=[];for(var e=0;e<this.nodes.length;e++)Km.cleanNode(this.nodes[e])},cd.prototype.cleanDirty=function(){for(var e=0;e<this.dirtyNodes.length;e++)Km.cleanNode(this.dirtyNodes[e]);this.dirtyNodes=[]},cd.prototype.markDirty=function(e){this.dirtyNodes.push(e)},cd.prototype.neighbors=function(e){var i=[],s=e.x,a=e.y,c=this.grid;return c[s-1]&&c[s-1][a]&&i.push(c[s-1][a]),c[s+1]&&c[s+1][a]&&i.push(c[s+1][a]),c[s]&&c[s][a-1]&&i.push(c[s][a-1]),c[s]&&c[s][a+1]&&i.push(c[s][a+1]),this.diagonal&&(c[s-1]&&c[s-1][a-1]&&i.push(c[s-1][a-1]),c[s+1]&&c[s+1][a-1]&&i.push(c[s+1][a-1]),c[s-1]&&c[s-1][a+1]&&i.push(c[s-1][a+1]),c[s+1]&&c[s+1][a+1]&&i.push(c[s+1][a+1])),i},cd.prototype.toString=function(){for(var e,i,s,a,c=[],h=this.grid,g=0,y=h.length;g<y;g++){for(e=[],s=0,a=(i=h[g]).length;s<a;s++)e.push(i[s].weight);c.push(e.join(" "))}return c.join(`
`)},Jm.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},Jm.prototype.getCost=function(e){return e&&e.x!==this.x&&e.y!==this.y?1.41421*this.weight:this.weight},Jm.prototype.isWall=function(){return this.weight===0},z_.prototype={push:function(e){this.content.push(e),this.sinkDown(this.content.length-1)},pop:function(){var e=this.content[0],i=this.content.pop();return this.content.length>0&&(this.content[0]=i,this.bubbleUp(0)),e},remove:function(e){var i=this.content.indexOf(e),s=this.content.pop();i!==this.content.length-1&&(this.content[i]=s,this.scoreFunction(s)<this.scoreFunction(e)?this.sinkDown(i):this.bubbleUp(i))},size:function(){return this.content.length},rescoreElement:function(e){this.sinkDown(this.content.indexOf(e))},sinkDown:function(e){for(var i=this.content[e];e>0;){var s=(e+1>>1)-1,a=this.content[s];if(!(this.scoreFunction(i)<this.scoreFunction(a)))break;this.content[s]=i,this.content[e]=a,e=s}},bubbleUp:function(e){for(var i=this.content.length,s=this.content[e],a=this.scoreFunction(s);;){var c,h=e+1<<1,g=h-1,y=null;if(g<i){var w=this.content[g];(c=this.scoreFunction(w))<a&&(y=g)}if(h<i){var x=this.content[h];this.scoreFunction(x)<(y===null?a:c)&&(y=h)}if(y===null)break;this.content[e]=this.content[y],this.content[y]=s,e=y}}},Qm.prototype={constructor:Qm,insert:function(e,i){var s,a,c;if(e){if(i.P=e,i.N=e.N,e.N&&(e.N.P=i),e.N=i,e.R){for(e=e.R;e.L;)e=e.L;e.L=i}else e.R=i;s=e}else this._?(e=D_(this._),i.P=null,i.N=e,e.P=e.L=i,s=e):(i.P=i.N=null,this._=i,s=null);for(i.L=i.R=null,i.U=s,i.C=!0,e=i;s&&s.C;)s===(a=s.U).L?(c=a.R)&&c.C?(s.C=c.C=!1,a.C=!0,e=a):(e===s.R&&(uf(this,s),s=(e=s).U),s.C=!1,a.C=!0,hf(this,a)):(c=a.L)&&c.C?(s.C=c.C=!1,a.C=!0,e=a):(e===s.L&&(hf(this,s),s=(e=s).U),s.C=!1,a.C=!0,uf(this,a)),s=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var i,s,a,c=e.U,h=e.L,g=e.R;if(s=h?g?D_(g):h:g,c?c.L===e?c.L=s:c.R=s:this._=s,h&&g?(a=s.C,s.C=e.C,s.L=h,h.U=s,s!==g?(c=s.U,s.U=e.U,e=s.R,c.L=e,s.R=g,g.U=s):(s.U=c,c=s,e=s.R)):(a=e.C,e=s),e&&(e.U=c),!a)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===c.L){if((i=c.R).C&&(i.C=!1,c.C=!0,uf(this,c),i=c.R),i.L&&i.L.C||i.R&&i.R.C){i.R&&i.R.C||(i.L.C=!1,i.C=!0,hf(this,i),i=c.R),i.C=c.C,c.C=i.R.C=!1,uf(this,c),e=this._;break}}else if((i=c.L).C&&(i.C=!1,c.C=!0,hf(this,c),i=c.L),i.L&&i.L.C||i.R&&i.R.C){i.L&&i.L.C||(i.R.C=!1,i.C=!0,uf(this,i),i=c.L),i.C=c.C,c.C=i.L.C=!1,hf(this,c),e=this._;break}i.C=!0,e=c,c=c.U}while(!e.C);e&&(e.C=!1)}}};var kb,B_=[];function sI(){$m(this),this.x=this.y=this.arc=this.site=this.cy=null}function ud(e){var i=e.P,s=e.N;if(i&&s){var a=i.site,c=e.site,h=s.site;if(a!==h){var g=c[0],y=c[1],w=a[0]-g,x=a[1]-y,T=h[0]-g,E=h[1]-y,P=2*(w*E-x*T);if(!(P>=-hI)){var z=w*w+x*x,N=T*T+E*E,B=(E*z-x*N)/P,R=(w*N-T*z)/P,X=B_.pop()||new sI;X.arc=e,X.site=c,X.x=B+g,X.y=(X.cy=R+y)+Math.sqrt(B*B+R*R),e.circle=X;for(var it=null,D=ff._;D;)if(X.y<D.y||X.y===D.y&&X.x<=D.x){if(!D.L){it=D.P;break}D=D.L}else{if(!D.R){it=D;break}D=D.R}ff.insert(it,X),it||(kb=X)}}}}function hd(e){var i=e.circle;i&&(i.P||(kb=i.N),ff.remove(i),B_.push(i),$m(i),e.circle=null)}var j_=[];function aI(){$m(this),this.edge=this.site=this.circle=null}function H_(e){var i=j_.pop()||new aI;return i.site=e,i}function Eb(e){hd(e),dd.remove(e),j_.push(e),$m(e)}function lI(e){var i=e.circle,s=i.x,a=i.cy,c=[s,a],h=e.P,g=e.N,y=[e];Eb(e);for(var w=h;w.circle&&Math.abs(s-w.circle.x)<wi&&Math.abs(a-w.circle.cy)<wi;)h=w.P,y.unshift(w),Eb(w),w=h;y.unshift(w),hd(w);for(var x=g;x.circle&&Math.abs(s-x.circle.x)<wi&&Math.abs(a-x.circle.cy)<wi;)g=x.N,y.push(x),Eb(x),x=g;y.push(x),hd(x);var T,E=y.length;for(T=1;T<E;++T)x=y[T],w=y[T-1],t0(x.edge,w.site,x.site,c);w=y[0],(x=y[E-1]).edge=df(w.site,x.site,null,c),ud(w),ud(x)}function cI(e){for(var i,s,a,c,h=e[0],g=e[1],y=dd._;y;)if((a=U_(y,g)-h)>wi)y=y.L;else{if(!((c=h-uI(y,g))>wi)){a>-wi?(i=y.P,s=y):c>-wi?(i=y,s=y.N):i=s=y;break}if(!y.R){i=y;break}y=y.R}(function(K){ns[K.index]={site:K,halfedges:[]}})(e);var w=H_(e);if(dd.insert(i,w),i||s){if(i===s)return hd(i),s=H_(i.site),dd.insert(w,s),w.edge=s.edge=df(i.site,w.site),ud(i),void ud(s);if(s){hd(i),hd(s);var x=i.site,T=x[0],E=x[1],P=e[0]-T,z=e[1]-E,N=s.site,B=N[0]-T,R=N[1]-E,X=2*(P*R-z*B),it=P*P+z*z,D=B*B+R*R,Y=[(R*it-z*D)/X+T,(P*D-B*it)/X+E];t0(s.edge,x,N,Y),w.edge=df(x,e,null,Y),s.edge=df(e,N,null,Y),ud(i),ud(s)}else w.edge=df(i.site,w.site)}}function U_(e,i){var s=e.site,a=s[0],c=s[1],h=c-i;if(!h)return a;var g=e.P;if(!g)return-1/0;var y=(s=g.site)[0],w=s[1],x=w-i;if(!x)return y;var T=y-a,E=1/h-1/x,P=T/x;return E?(-P+Math.sqrt(P*P-2*E*(T*T/(-2*x)-w+x/2+c-h/2)))/E+a:(a+y)/2}function uI(e,i){var s=e.N;if(s)return U_(s,i);var a=e.site;return a[1]===i?a[0]:1/0}var dd,ns,ff,ro,wi=1e-6,hI=1e-12;function dI(e,i){return i[1]-e[1]||i[0]-e[0]}function Tb(e,i){var s,a,c,h=e.sort(dI).pop();for(ro=[],ns=new Array(e.length),dd=new Qm,ff=new Qm;;)if(c=kb,h&&(!c||h[1]<c.y||h[1]===c.y&&h[0]<c.x))h[0]===s&&h[1]===a||(cI(h),s=h[0],a=h[1]),h=e.pop();else{if(!c)break;lI(c.arc)}if(function(){for(var T,E,P,z,N=0,B=ns.length;N<B;++N)if((T=ns[N])&&(z=(E=T.halfedges).length)){var R=new Array(z),X=new Array(z);for(P=0;P<z;++P)R[P]=P,X[P]=nI(T,ro[E[P]]);for(R.sort(function(it,D){return X[D]-X[it]}),P=0;P<z;++P)X[P]=E[R[P]];for(P=0;P<z;++P)E[P]=X[P]}}(),i){var g=+i[0][0],y=+i[0][1],w=+i[1][0],x=+i[1][1];(function(T,E,P,z){for(var N,B=ro.length;B--;)iI(N=ro[B],T,E,P,z)&&rI(N,T,E,P,z)&&(Math.abs(N[0][0]-N[1][0])>wi||Math.abs(N[0][1]-N[1][1])>wi)||delete ro[B]})(g,y,w,x),function(T,E,P,z){var N,B,R,X,it,D,Y,K,tt,Q,At,Et,Dt=ns.length,Tt=!0;for(N=0;N<Dt;++N)if(B=ns[N]){for(R=B.site,X=(it=B.halfedges).length;X--;)ro[it[X]]||it.splice(X,1);for(X=0,D=it.length;X<D;)At=(Q=oI(B,ro[it[X]]))[0],Et=Q[1],K=(Y=F_(B,ro[it[++X%D]]))[0],tt=Y[1],(Math.abs(At-K)>wi||Math.abs(Et-tt)>wi)&&(it.splice(X,0,ro.push(pf(R,Q,Math.abs(At-T)<wi&&z-Et>wi?[T,Math.abs(K-T)<wi?tt:z]:Math.abs(Et-z)<wi&&P-At>wi?[Math.abs(tt-z)<wi?K:P,z]:Math.abs(At-P)<wi&&Et-E>wi?[P,Math.abs(K-P)<wi?tt:E]:Math.abs(Et-E)<wi&&At-T>wi?[Math.abs(tt-E)<wi?K:T,E]:null))-1),++D);D&&(Tt=!1)}if(Tt){var jt,Mt,Pt,St=1/0;for(N=0,Tt=null;N<Dt;++N)(B=ns[N])&&(Pt=(jt=(R=B.site)[0]-T)*jt+(Mt=R[1]-E)*Mt)<St&&(St=Pt,Tt=B);if(Tt){var Ft=[T,E],Lt=[T,z],Ut=[P,z],mt=[P,E];Tt.halfedges.push(ro.push(pf(R=Tt.site,Ft,Lt))-1,ro.push(pf(R,Lt,Ut))-1,ro.push(pf(R,Ut,mt))-1,ro.push(pf(R,mt,Ft))-1)}}for(N=0;N<Dt;++N)(B=ns[N])&&(B.halfedges.length||delete ns[N])}(g,y,w,x)}this.edges=ro,this.cells=ns,dd=ff=ro=ns=null}function pI(e){return(e=e.slice()).push(e[0]),v([e])}function G_(e,i,s,a){var c=(a=a||{}).steps||64,h=a.units||"kilometers",g=a.angle||0,y=a.pivot||e,w=a.properties||e.properties||{};if(!e)throw new Error("center is required");if(!i)throw new Error("xSemiAxis is required");if(!s)throw new Error("ySemiAxis is required");if(!vt(a))throw new Error("options must be an object");if(!ft(c))throw new Error("steps must be a number");if(!ft(g))throw new Error("angle must be a number");var x=I(e);if(h==="degrees")var T=ct(g);else i=ld(e,i,90,{units:h}),s=ld(e,s,0,{units:h}),i=I(i)[0]-x[0],s=I(s)[1]-x[1];for(var E=[],P=0;P<c;P+=1){var z=-360*P/c,N=i*s/Math.sqrt(Math.pow(s,2)+Math.pow(i,2)*Math.pow(q_(z),2)),B=i*s/Math.sqrt(Math.pow(i,2)+Math.pow(s,2)/Math.pow(q_(z),2));if(z<-90&&z>=-270&&(N=-N),z<-180&&z>=-360&&(B=-B),h==="degrees"){var R=N*Math.cos(T)+B*Math.sin(T),X=B*Math.cos(T)-N*Math.sin(T);N=R,B=X}E.push([N+x[0],B+x[1]])}return E.push(E[0]),h==="degrees"?v([E],w):h_(v([E],w),g,{pivot:y})}function q_(e){var i=e*Math.PI/180;return Math.tan(i)}function Sb(e,i){i===void 0&&(i={});var s=0,a=0,c=0;return te(e,function(h,g,y){var w=i.weight?y==null?void 0:y[i.weight]:void 0;if(!ft(w=w??1))throw new Error("weight value must be a number for feature index "+g);(w=Number(w))>0&&Gt(h,function(x){s+=x[0]*w,a+=x[1]*w,c+=w})}),f([s/c,a/c],i.properties,i)}function V_(e,i,s,a,c){var h=a.tolerance||.001,g=0,y=0,w=0,x=0;if(xt(s,function(P){var z,N=(z=P.properties)===null||z===void 0?void 0:z.weight,B=N??1;if(!ft(B=Number(B)))throw new Error("weight value must be a number");if(B>0){x+=1;var R=B*ir(P,e);R===0&&(R=1);var X=B/R;g+=P.geometry.coordinates[0]*X,y+=P.geometry.coordinates[1]*X,w+=X}}),x<1)throw new Error("no features to measure");var T=g/w,E=y/w;return x===1||c===0||Math.abs(T-i[0])<h&&Math.abs(E-i[1])<h?f([T,E],{medianCandidates:a.medianCandidates}):(a.medianCandidates.push([T,E]),V_([T,E],e,s,a,c-1))}function W_(e,i){return{x:e[0]-i[0],y:e[1]-i[1]}}function fI(e,i){var s=0,a=0;Gt(e,function(c,h,g,y,w){w>s&&(s=w,a=h,i.push([]));var x=h-a,T=e.coordinates[w][x+1],E=c[0],P=c[1],z=T[0],N=T[1];i[w].push([.75*E+.25*z,.75*P+.25*N]),i[w].push([.25*E+.75*z,.25*P+.75*N])},!0),i.forEach(function(c){c.push(c[0])})}function gI(e,i){var s=0,a=0,c=0;Gt(e,function(h,g,y,w,x){w>c&&(c=w,a=g,i.push([[]])),x>s&&(s=x,a=g,i[w].push([]));var T=g-a,E=e.coordinates[w][x][T+1],P=h[0],z=h[1],N=E[0],B=E[1];i[w][x].push([.75*P+.25*N,.75*z+.25*B]),i[w][x].push([.25*P+.75*N,.25*z+.75*B])},!0),i.forEach(function(h){h.forEach(function(g){g.push(g[0])})})}function mI(e,i,s){s===void 0&&(s=2);var a=I(e),c=I(i),h=a[0]-c[0],g=a[1]-c[1];return s===1?Math.abs(h)+Math.abs(g):Math.pow(Math.pow(h,s)+Math.pow(g,s),1/s)}function Z_(e,i){var s=(i=i||{}).threshold||1e4,a=i.p||2,c=i.binary||!1,h=i.alpha||-1,g=i.standardization||!1,y=[];xt(e,function(z){y.push(na(z))});for(var w=[],x=0;x<y.length;x++)w[x]=[];for(x=0;x<y.length;x++)for(var T=x;T<y.length;T++){x===T&&(w[x][T]=0);var E=mI(y[x],y[T],a);w[x][T]=E,w[T][x]=E}for(x=0;x<y.length;x++)for(T=0;T<y.length;T++)(E=w[x][T])!==0&&(w[x][T]=c?E<=s?1:0:E<=s?Math.pow(E,h):0);if(g)for(x=0;x<y.length;x++){var P=w[x].reduce(function(z,N){return z+N},0);for(T=0;T<y.length;T++)w[x][T]=w[x][T]/P}return w}function Y_(e){for(var i=0,s=0,a=e;s<a.length;s++)i+=a[s];return i/e.length}function X_(e,i){return i===void 0&&(i={}),J_(e,"mercator",i)}function K_(e,i){return i===void 0&&(i={}),J_(e,"wgs84",i)}function J_(e,i,s){s===void 0&&(s={});var a=(s=s||{}).mutate;if(!e)throw new Error("geojson is required");return Array.isArray(e)&&ft(e[0])?e=i==="mercator"?Q_(e):$_(e):(a!==!0&&(e=Si(e)),Gt(e,function(c){var h=i==="mercator"?Q_(c):$_(c);c[0]=h[0],c[1]=h[1]})),e}function Q_(e){var i=Math.PI/180,s=6378137,a=20037508342789244e-9,c=[s*(Math.abs(e[0])<=180?e[0]:e[0]-360*function(h){return h<0?-1:h>0?1:0}(e[0]))*i,s*Math.log(Math.tan(.25*Math.PI+.5*e[1]*i))];return c[0]>a&&(c[0]=a),c[0]<-a&&(c[0]=-a),c[1]>a&&(c[1]=a),c[1]<-a&&(c[1]=-a),c}function $_(e){var i=180/Math.PI,s=6378137;return[e[0]*i/s,(.5*Math.PI-2*Math.atan(Math.exp(-e[1]/s)))*i]}Tb.prototype={constructor:Tb,polygons:function(){var e=this.edges;return this.cells.map(function(i){var s=i.halfedges.map(function(a){return F_(i,e[a])});return s.data=i.site.data,s})},triangles:function(){var e=[],i=this.edges;return this.cells.forEach(function(s,a){if(h=(c=s.halfedges).length)for(var c,h,g,y,w,x,T=s.site,E=-1,P=i[c[h-1]],z=P.left===T?P.right:P.left;++E<h;)g=z,z=(P=i[c[E]]).left===T?P.right:P.left,g&&z&&a<g.index&&a<z.index&&(w=g,x=z,((y=T)[0]-x[0])*(w[1]-y[1])-(y[0]-w[0])*(x[1]-y[1])<0)&&e.push([T.data,g.data,z.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,i,s){for(var a,c,h=this,g=h._found||0,y=h.cells.length;!(c=h.cells[g]);)if(++g>=y)return null;var w=e-c.site[0],x=i-c.site[1],T=w*w+x*x;do c=h.cells[a=g],g=null,c.halfedges.forEach(function(E){var P=h.edges[E],z=P.left;if(z!==c.site&&z||(z=P.right)){var N=e-z[0],B=i-z[1],R=N*N+B*B;R<T&&(T=R,g=z.index)}});while(g!==null);return h._found=a,s==null||T<=s*s?c.site:null}};var vI=Object.freeze({__proto__:null,toMercator:X_,toWgs84:K_}),yI=function(){for(var e=0,i=0,s=arguments.length;i<s;i++)e+=arguments[i].length;var a=Array(e),c=0;for(i=0;i<s;i++)for(var h=arguments[i],g=0,y=h.length;g<y;g++,c++)a[c]=h[g];return a};function gf(e){return Array.isArray(e)?nk(e):e&&e.bbox?nk(e.bbox):[360*ik(),180*ik()]}function tk(e,i){i===void 0&&(i={}),e==null&&(e=1);for(var s=[],a=0;a<e;a++)s.push(f(gf(i.bbox)));return M(s)}function ek(e,i){i===void 0&&(i={}),e==null&&(e=1),ft(i.num_vertices)&&i.num_vertices!==void 0||(i.num_vertices=10),ft(i.max_radial_length)&&i.max_radial_length!==void 0||(i.max_radial_length=10);for(var s=[],a=function(h){var g,y=[],w=yI(Array(i.num_vertices+1)).map(Math.random);w.forEach(function(x,T,E){E[T]=T>0?x+E[T-1]:x}),w.forEach(function(x){x=2*x*Math.PI/w[w.length-1];var T=Math.random();y.push([T*(i.max_radial_length||10)*Math.sin(x),T*(i.max_radial_length||10)*Math.cos(x)])}),y[y.length-1]=y[0],y=y.map((g=gf(i.bbox),function(x){return[x[0]+g[0],x[1]+g[1]]})),s.push(v([y]))},c=0;c<e;c++)a();return M(s)}function rk(e,i){if(i===void 0&&(i={}),!vt(i=i||{}))throw new Error("options is invalid");var s=i.bbox,a=i.num_vertices,c=i.max_length,h=i.max_rotation;e==null&&(e=1),(!ft(a)||a===void 0||a<2)&&(a=10),ft(c)&&c!==void 0||(c=1e-4),ft(h)&&h!==void 0||(h=Math.PI/8);for(var g=[],y=0;y<e;y++){for(var w=[gf(s)],x=0;x<a-1;x++){var T=(x===0?2*Math.random()*Math.PI:Math.tan((w[x][1]-w[x-1][1])/(w[x][0]-w[x-1][0])))+(Math.random()-.5)*h*2,E=Math.random()*c;w.push([w[x][0]+E*Math.cos(T),w[x][1]+E*Math.sin(T)])}g.push(k(w))}return M(g)}function ik(){return Math.random()-.5}function nk(e){return[Math.random()*(e[2]-e[0])+e[0],Math.random()*(e[3]-e[1])+e[1]]}var bI=Object.freeze({__proto__:null,randomPosition:gf,randomPoint:tk,randomPolygon:ek,randomLineString:rk});function ok(e,i){if(!e)throw new Error("geojson is required");if(e.type!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(i==null)throw new Error("filter is required");var s=[];return xt(e,function(a){e0(a.properties,i)&&s.push(a)}),M(s)}function Cb(e,i,s){if(!e)throw new Error("geojson is required");if(e.type!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(i==null)throw new Error("property is required");for(var a=Pb(e,i),c=Object.keys(a),h=0;h<c.length;h++){for(var g=c[h],y=a[g],w=[],x=0;x<y.length;x++)w.push(e.features[y[x]]);s(M(w),g,h)}}function sk(e,i,s,a){var c=a;return Cb(e,i,function(h,g,y){c=y===0&&a===void 0?h:s(c,h,g,y)}),c}function Pb(e,i){var s={};return xt(e,function(a,c){var h=a.properties||{};if(Object.prototype.hasOwnProperty.call(h,String(i))){var g=h[i];Object.prototype.hasOwnProperty.call(s,g)?s[g].push(c):s[g]=[c]}}),s}function e0(e,i){if(e===void 0)return!1;var s=typeof i;if(s==="number"||s==="string")return Object.prototype.hasOwnProperty.call(e,i);if(Array.isArray(i)){for(var a=0;a<i.length;a++)if(!e0(e,i[a]))return!1;return!0}return Mb(e,i)}function Mb(e,i){for(var s=Object.keys(i),a=0;a<s.length;a++){var c=s[a];if(e[c]!==i[c])return!1}return!0}function ak(e,i){if(!i)return{};if(!i.length)return{};for(var s={},a=0;a<i.length;a++){var c=i[a];Object.prototype.hasOwnProperty.call(e,c)&&(s[c]=e[c])}return s}var wI=Object.freeze({__proto__:null,getCluster:ok,clusterEach:Cb,clusterReduce:sk,createBins:Pb,applyFilter:e0,propertiesContainsFilter:Mb,filterProperties:ak}),Ac=function(e,i){this.next=null,this.key=e,this.data=i,this.left=null,this.right=null};/**
     * splaytree v3.1.0
     * Fast Splay tree for Node and browser
     *
     * @author Alexander Milevski <info@w8r.name>
     * @license MIT
     * @preserve
     */function xI(e,i){return e>i?1:e<i?-1:0}function Oc(e,i,s){for(var a=new Ac(null,null),c=a,h=a;;){var g=s(e,i.key);if(g<0){if(i.left===null)break;if(s(e,i.left.key)<0){var y=i.left;if(i.left=y.right,y.right=i,(i=y).left===null)break}h.left=i,h=i,i=i.left}else{if(!(g>0)||i.right===null||s(e,i.right.key)>0&&(y=i.right,i.right=y.left,y.left=i,(i=y).right===null))break;c.right=i,c=i,i=i.right}}return c.right=i.left,h.left=i.right,i.left=a.right,i.right=a.left,i}function Ib(e,i,s,a){var c=new Ac(e,i);if(s===null)return c.left=c.right=null,c;var h=a(e,(s=Oc(e,s,a)).key);return h<0?(c.left=s.left,c.right=s,s.left=null):h>=0&&(c.right=s.right,c.left=s,s.right=null),c}function lk(e,i,s){var a=null,c=null;if(i){var h=s((i=Oc(e,i,s)).key,e);h===0?(a=i.left,c=i.right):h<0?(c=i.right,i.right=null,a=i):(a=i.left,i.left=null,c=i)}return{left:a,right:c}}function Lb(e,i,s,a,c){if(e){a(i+(s?" ":" ")+c(e)+`
`);var h=i+(s?"    ":"   ");e.left&&Lb(e.left,h,!1,a,c),e.right&&Lb(e.right,h,!0,a,c)}}var Rb=function(){function e(i){i===void 0&&(i=xI),this._root=null,this._size=0,this._comparator=i}return e.prototype.insert=function(i,s){return this._size++,this._root=Ib(i,s,this._root,this._comparator)},e.prototype.add=function(i,s){var a=new Ac(i,s);this._root===null&&(a.left=a.right=null,this._size++,this._root=a);var c=this._comparator,h=Oc(i,this._root,c),g=c(i,h.key);return g===0?this._root=h:(g<0?(a.left=h.left,a.right=h,h.left=null):g>0&&(a.right=h.right,a.left=h,h.right=null),this._size++,this._root=a),this._root},e.prototype.remove=function(i){this._root=this._remove(i,this._root,this._comparator)},e.prototype._remove=function(i,s,a){var c;return s===null?null:a(i,(s=Oc(i,s,a)).key)===0?(s.left===null?c=s.right:(c=Oc(i,s.left,a)).right=s.right,this._size--,c):s},e.prototype.pop=function(){var i=this._root;if(i){for(;i.left;)i=i.left;return this._root=Oc(i.key,this._root,this._comparator),this._root=this._remove(i.key,this._root,this._comparator),{key:i.key,data:i.data}}return null},e.prototype.findStatic=function(i){for(var s=this._root,a=this._comparator;s;){var c=a(i,s.key);if(c===0)return s;s=c<0?s.left:s.right}return null},e.prototype.find=function(i){return this._root&&(this._root=Oc(i,this._root,this._comparator),this._comparator(i,this._root.key)!==0)?null:this._root},e.prototype.contains=function(i){for(var s=this._root,a=this._comparator;s;){var c=a(i,s.key);if(c===0)return!0;s=c<0?s.left:s.right}return!1},e.prototype.forEach=function(i,s){for(var a=this._root,c=[],h=!1;!h;)a!==null?(c.push(a),a=a.left):c.length!==0?(a=c.pop(),i.call(s,a),a=a.right):h=!0;return this},e.prototype.range=function(i,s,a,c){for(var h=[],g=this._comparator,y=this._root;h.length!==0||y;)if(y)h.push(y),y=y.left;else{if(g((y=h.pop()).key,s)>0)break;if(g(y.key,i)>=0&&a.call(c,y))return this;y=y.right}return this},e.prototype.keys=function(){var i=[];return this.forEach(function(s){var a=s.key;return i.push(a)}),i},e.prototype.values=function(){var i=[];return this.forEach(function(s){var a=s.data;return i.push(a)}),i},e.prototype.min=function(){return this._root?this.minNode(this._root).key:null},e.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},e.prototype.minNode=function(i){if(i===void 0&&(i=this._root),i)for(;i.left;)i=i.left;return i},e.prototype.maxNode=function(i){if(i===void 0&&(i=this._root),i)for(;i.right;)i=i.right;return i},e.prototype.at=function(i){for(var s=this._root,a=!1,c=0,h=[];!a;)if(s)h.push(s),s=s.left;else if(h.length>0){if(s=h.pop(),c===i)return s;c++,s=s.right}else a=!0;return null},e.prototype.next=function(i){var s=this._root,a=null;if(i.right){for(a=i.right;a.left;)a=a.left;return a}for(var c=this._comparator;s;){var h=c(i.key,s.key);if(h===0)break;h<0?(a=s,s=s.left):s=s.right}return a},e.prototype.prev=function(i){var s=this._root,a=null;if(i.left!==null){for(a=i.left;a.right;)a=a.right;return a}for(var c=this._comparator;s;){var h=c(i.key,s.key);if(h===0)break;h<0?s=s.left:(a=s,s=s.right)}return a},e.prototype.clear=function(){return this._root=null,this._size=0,this},e.prototype.toList=function(){return function(i){for(var s=i,a=[],c=!1,h=new Ac(null,null),g=h;!c;)s?(a.push(s),s=s.left):a.length>0?s=(s=g=g.next=a.pop()).right:c=!0;return g.next=null,h.next}(this._root)},e.prototype.load=function(i,s,a){s===void 0&&(s=[]),a===void 0&&(a=!1);var c=i.length,h=this._comparator;if(a&&zb(i,s,0,c-1,h),this._root===null)this._root=Ab(i,s,0,c),this._size=c;else{var g=function(y,w,x){for(var T=new Ac(null,null),E=T,P=y,z=w;P!==null&&z!==null;)x(P.key,z.key)<0?(E.next=P,P=P.next):(E.next=z,z=z.next),E=E.next;return P!==null?E.next=P:z!==null&&(E.next=z),T.next}(this.toList(),function(y,w){for(var x=new Ac(null,null),T=x,E=0;E<y.length;E++)T=T.next=new Ac(y[E],w[E]);return T.next=null,x.next}(i,s),h);c=this._size+c,this._root=Ob({head:g},0,c)}return this},e.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),e.prototype.toString=function(i){i===void 0&&(i=function(a){return String(a.key)});var s=[];return Lb(this._root,"",!0,function(a){return s.push(a)},i),s.join("")},e.prototype.update=function(i,s,a){var c=this._comparator,h=lk(i,this._root,c),g=h.left,y=h.right;c(i,s)<0?y=Ib(s,a,y,c):g=Ib(s,a,g,c),this._root=function(w,x,T){return x===null?w:(w===null||((x=Oc(w.key,x,T)).left=w),x)}(g,y,c)},e.prototype.split=function(i){return lk(i,this._root,this._comparator)},e}();function Ab(e,i,s,a){var c=a-s;if(c>0){var h=s+Math.floor(c/2),g=e[h],y=i[h],w=new Ac(g,y);return w.left=Ab(e,i,s,h),w.right=Ab(e,i,h+1,a),w}return null}function Ob(e,i,s){var a=s-i;if(a>0){var c=i+Math.floor(a/2),h=Ob(e,i,c),g=e.head;return g.left=h,e.head=e.head.next,g.right=Ob(e,c+1,s),g}return null}function zb(e,i,s,a,c){if(!(s>=a)){for(var h=e[s+a>>1],g=s-1,y=a+1;;){do g++;while(c(e[g],h)<0);do y--;while(c(e[y],h)>0);if(g>=y)break;var w=e[g];e[g]=e[y],e[y]=w,w=i[g],i[g]=i[y],i[y]=w}zb(e,i,s,y,c),zb(e,i,y+1,a,c)}}function Ms(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function ck(e,i){for(var s=0;s<i.length;s++){var a=i[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function wo(e,i,s){return i&&ck(e.prototype,i),s&&ck(e,s),e}var mf=function(e,i){return e.ll.x<=i.x&&i.x<=e.ur.x&&e.ll.y<=i.y&&i.y<=e.ur.y},Nb=function(e,i){if(i.ur.x<e.ll.x||e.ur.x<i.ll.x||i.ur.y<e.ll.y||e.ur.y<i.ll.y)return null;var s=e.ll.x<i.ll.x?i.ll.x:e.ll.x,a=e.ur.x<i.ur.x?e.ur.x:i.ur.x;return{ll:{x:s,y:e.ll.y<i.ll.y?i.ll.y:e.ll.y},ur:{x:a,y:e.ur.y<i.ur.y?e.ur.y:i.ur.y}}},zc=Number.EPSILON;zc===void 0&&(zc=Math.pow(2,-52));var _I=zc*zc,Db=function(e,i){if(-zc<e&&e<zc&&-zc<i&&i<zc)return 0;var s=e-i;return s*s<_I*e*i?0:e<i?-1:1},kI=function(){function e(){Ms(this,e),this.reset()}return wo(e,[{key:"reset",value:function(){this.xRounder=new uk,this.yRounder=new uk}},{key:"round",value:function(i,s){return{x:this.xRounder.round(i),y:this.yRounder.round(s)}}}]),e}(),uk=function(){function e(){Ms(this,e),this.tree=new Rb,this.round(0)}return wo(e,[{key:"round",value:function(i){var s=this.tree.add(i),a=this.tree.prev(s);if(a!==null&&Db(s.key,a.key)===0)return this.tree.remove(i),a.key;var c=this.tree.next(s);return c!==null&&Db(s.key,c.key)===0?(this.tree.remove(i),c.key):i}}]),e}(),vf=new kI,yf=function(e,i){return e.x*i.y-e.y*i.x},hk=function(e,i){return e.x*i.x+e.y*i.y},dk=function(e,i,s){var a={x:i.x-e.x,y:i.y-e.y},c={x:s.x-e.x,y:s.y-e.y},h=yf(a,c);return Db(h,0)},r0=function(e){return Math.sqrt(hk(e,e))},EI=function(e,i,s){var a={x:i.x-e.x,y:i.y-e.y},c={x:s.x-e.x,y:s.y-e.y};return hk(c,a)/r0(c)/r0(a)},pk=function(e,i,s){return i.y===0?null:{x:e.x+i.x/i.y*(s-e.y),y:s}},fk=function(e,i,s){return i.x===0?null:{x:s,y:e.y+i.y/i.x*(s-e.x)}},Ga=function(){function e(i,s){Ms(this,e),i.events===void 0?i.events=[this]:i.events.push(this),this.point=i,this.isLeft=s}return wo(e,null,[{key:"compare",value:function(i,s){var a=e.comparePoints(i.point,s.point);return a!==0?a:(i.point!==s.point&&i.link(s),i.isLeft!==s.isLeft?i.isLeft?1:-1:i0.compare(i.segment,s.segment))}},{key:"comparePoints",value:function(i,s){return i.x<s.x?-1:i.x>s.x?1:i.y<s.y?-1:i.y>s.y?1:0}}]),wo(e,[{key:"link",value:function(i){if(i.point===this.point)throw new Error("Tried to link already linked events");for(var s=i.point.events,a=0,c=s.length;a<c;a++){var h=s[a];this.point.events.push(h),h.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var i=this.point.events.length,s=0;s<i;s++){var a=this.point.events[s];if(a.segment.consumedBy===void 0)for(var c=s+1;c<i;c++){var h=this.point.events[c];h.consumedBy===void 0&&a.otherSE.point.events===h.otherSE.point.events&&a.segment.consume(h.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var i=[],s=0,a=this.point.events.length;s<a;s++){var c=this.point.events[s];c!==this&&!c.segment.ringOut&&c.segment.isInResult()&&i.push(c)}return i}},{key:"getLeftmostComparator",value:function(i){var s=this,a=new Map,c=function(h){var g,y,w,x,T,E=h.otherSE;a.set(h,{sine:(g=s.point,y=i.point,w=E.point,x={x:y.x-g.x,y:y.y-g.y},T={x:w.x-g.x,y:w.y-g.y},yf(T,x)/r0(T)/r0(x)),cosine:EI(s.point,i.point,E.point)})};return function(h,g){a.has(h)||c(h),a.has(g)||c(g);var y=a.get(h),w=y.sine,x=y.cosine,T=a.get(g),E=T.sine,P=T.cosine;return w>=0&&E>=0?x<P?1:x>P?-1:0:w<0&&E<0?x<P?-1:x>P?1:0:E<w?-1:E>w?1:0}}}]),e}(),TI=0,i0=function(){function e(i,s,a,c){Ms(this,e),this.id=++TI,this.leftSE=i,i.segment=this,i.otherSE=s,this.rightSE=s,s.segment=this,s.otherSE=i,this.rings=a,this.windings=c}return wo(e,null,[{key:"compare",value:function(i,s){var a=i.leftSE.point.x,c=s.leftSE.point.x,h=i.rightSE.point.x,g=s.rightSE.point.x;if(g<a)return 1;if(h<c)return-1;var y=i.leftSE.point.y,w=s.leftSE.point.y,x=i.rightSE.point.y,T=s.rightSE.point.y;if(a<c){if(w<y&&w<x)return 1;if(w>y&&w>x)return-1;var E=i.comparePoint(s.leftSE.point);if(E<0)return 1;if(E>0)return-1;var P=s.comparePoint(i.rightSE.point);return P!==0?P:-1}if(a>c){if(y<w&&y<T)return-1;if(y>w&&y>T)return 1;var z=s.comparePoint(i.leftSE.point);if(z!==0)return z;var N=i.comparePoint(s.rightSE.point);return N<0?1:N>0?-1:1}if(y<w)return-1;if(y>w)return 1;if(h<g){var B=s.comparePoint(i.rightSE.point);if(B!==0)return B}if(h>g){var R=i.comparePoint(s.rightSE.point);if(R<0)return 1;if(R>0)return-1}if(h!==g){var X=x-y,it=h-a,D=T-w,Y=g-c;if(X>it&&D<Y)return 1;if(X<it&&D>Y)return-1}return h>g?1:h<g||x<T?-1:x>T?1:i.id<s.id?-1:i.id>s.id?1:0}}]),wo(e,[{key:"replaceRightSE",value:function(i){this.rightSE=i,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var i=this.leftSE.point.y,s=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:i<s?i:s},ur:{x:this.rightSE.point.x,y:i>s?i:s}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(i){return i.x===this.leftSE.point.x&&i.y===this.leftSE.point.y||i.x===this.rightSE.point.x&&i.y===this.rightSE.point.y}},{key:"comparePoint",value:function(i){if(this.isAnEndpoint(i))return 0;var s=this.leftSE.point,a=this.rightSE.point,c=this.vector();if(s.x===a.x)return i.x===s.x?0:i.x<s.x?1:-1;var h=(i.y-s.y)/c.y,g=s.x+h*c.x;if(i.x===g)return 0;var y=(i.x-s.x)/c.x,w=s.y+y*c.y;return i.y===w?0:i.y<w?-1:1}},{key:"getIntersection",value:function(i){var s=this.bbox(),a=i.bbox(),c=Nb(s,a);if(c===null)return null;var h=this.leftSE.point,g=this.rightSE.point,y=i.leftSE.point,w=i.rightSE.point,x=mf(s,y)&&this.comparePoint(y)===0,T=mf(a,h)&&i.comparePoint(h)===0,E=mf(s,w)&&this.comparePoint(w)===0,P=mf(a,g)&&i.comparePoint(g)===0;if(T&&x)return P&&!E?g:!P&&E?w:null;if(T)return E&&h.x===w.x&&h.y===w.y?null:h;if(x)return P&&g.x===y.x&&g.y===y.y?null:y;if(P&&E)return null;if(P)return g;if(E)return w;var z=function(N,B,R,X){if(B.x===0)return fk(R,X,N.x);if(X.x===0)return fk(N,B,R.x);if(B.y===0)return pk(R,X,N.y);if(X.y===0)return pk(N,B,R.y);var it=yf(B,X);if(it==0)return null;var D={x:R.x-N.x,y:R.y-N.y},Y=yf(D,B)/it,K=yf(D,X)/it;return{x:(N.x+K*B.x+(R.x+Y*X.x))/2,y:(N.y+K*B.y+(R.y+Y*X.y))/2}}(h,this.vector(),y,i.vector());return z===null?null:mf(c,z)?vf.round(z.x,z.y):null}},{key:"split",value:function(i){var s=[],a=i.events!==void 0,c=new Ga(i,!0),h=new Ga(i,!1),g=this.rightSE;this.replaceRightSE(h),s.push(h),s.push(c);var y=new e(c,g,this.rings.slice(),this.windings.slice());return Ga.comparePoints(y.leftSE.point,y.rightSE.point)>0&&y.swapEvents(),Ga.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),a&&(c.checkForConsuming(),h.checkForConsuming()),s}},{key:"swapEvents",value:function(){var i=this.rightSE;this.rightSE=this.leftSE,this.leftSE=i,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var s=0,a=this.windings.length;s<a;s++)this.windings[s]*=-1}},{key:"consume",value:function(i){for(var s=this,a=i;s.consumedBy;)s=s.consumedBy;for(;a.consumedBy;)a=a.consumedBy;var c=e.compare(s,a);if(c!==0){if(c>0){var h=s;s=a,a=h}if(s.prev===a){var g=s;s=a,a=g}for(var y=0,w=a.rings.length;y<w;y++){var x=a.rings[y],T=a.windings[y],E=s.rings.indexOf(x);E===-1?(s.rings.push(x),s.windings.push(T)):s.windings[E]+=T}a.rings=null,a.windings=null,a.consumedBy=s,a.leftSE.consumedBy=s.leftSE,a.rightSE.consumedBy=s.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(this.prev){var i=this.prev.consumedBy||this.prev;this._beforeState=i.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var i=this.beforeState();this._afterState={rings:i.rings.slice(0),windings:i.windings.slice(0),multiPolys:[]};for(var s=this._afterState.rings,a=this._afterState.windings,c=this._afterState.multiPolys,h=0,g=this.rings.length;h<g;h++){var y=this.rings[h],w=this.windings[h],x=s.indexOf(y);x===-1?(s.push(y),a.push(w)):a[x]+=w}for(var T=[],E=[],P=0,z=s.length;P<z;P++)if(a[P]!==0){var N=s[P],B=N.poly;if(E.indexOf(B)===-1)if(N.isExterior)T.push(B);else{E.indexOf(B)===-1&&E.push(B);var R=T.indexOf(N.poly);R!==-1&&T.splice(R,1)}}for(var X=0,it=T.length;X<it;X++){var D=T[X].multiPoly;c.indexOf(D)===-1&&c.push(D)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var i=this.beforeState().multiPolys,s=this.afterState().multiPolys;switch(ha.type){case"union":var a=i.length===0,c=s.length===0;this._isInResult=a!==c;break;case"intersection":var h,g;i.length<s.length?(h=i.length,g=s.length):(h=s.length,g=i.length),this._isInResult=g===ha.numMultiPolys&&h<g;break;case"xor":var y=Math.abs(i.length-s.length);this._isInResult=y%2==1;break;case"difference":var w=function(x){return x.length===1&&x[0].isSubject};this._isInResult=w(i)!==w(s);break;default:throw new Error("Unrecognized operation type found ".concat(ha.type))}return this._isInResult}}],[{key:"fromRing",value:function(i,s,a){var c,h,g,y=Ga.comparePoints(i,s);if(y<0)c=i,h=s,g=1;else{if(!(y>0))throw new Error("Tried to create degenerate segment at [".concat(i.x,", ").concat(i.y,"]"));c=s,h=i,g=-1}return new e(new Ga(c,!0),new Ga(h,!1),[a],[g])}}]),e}(),gk=function(){function e(i,s,a){if(Ms(this,e),!Array.isArray(i)||i.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=s,this.isExterior=a,this.segments=[],typeof i[0][0]!="number"||typeof i[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var c=vf.round(i[0][0],i[0][1]);this.bbox={ll:{x:c.x,y:c.y},ur:{x:c.x,y:c.y}};for(var h=c,g=1,y=i.length;g<y;g++){if(typeof i[g][0]!="number"||typeof i[g][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var w=vf.round(i[g][0],i[g][1]);w.x===h.x&&w.y===h.y||(this.segments.push(i0.fromRing(h,w,this)),w.x<this.bbox.ll.x&&(this.bbox.ll.x=w.x),w.y<this.bbox.ll.y&&(this.bbox.ll.y=w.y),w.x>this.bbox.ur.x&&(this.bbox.ur.x=w.x),w.y>this.bbox.ur.y&&(this.bbox.ur.y=w.y),h=w)}c.x===h.x&&c.y===h.y||this.segments.push(i0.fromRing(h,c,this))}return wo(e,[{key:"getSweepEvents",value:function(){for(var i=[],s=0,a=this.segments.length;s<a;s++){var c=this.segments[s];i.push(c.leftSE),i.push(c.rightSE)}return i}}]),e}(),SI=function(){function e(i,s){if(Ms(this,e),!Array.isArray(i))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new gk(i[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var a=1,c=i.length;a<c;a++){var h=new gk(i[a],this,!1);h.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=h.bbox.ll.x),h.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=h.bbox.ll.y),h.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=h.bbox.ur.x),h.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=h.bbox.ur.y),this.interiorRings.push(h)}this.multiPoly=s}return wo(e,[{key:"getSweepEvents",value:function(){for(var i=this.exteriorRing.getSweepEvents(),s=0,a=this.interiorRings.length;s<a;s++)for(var c=this.interiorRings[s].getSweepEvents(),h=0,g=c.length;h<g;h++)i.push(c[h]);return i}}]),e}(),mk=function(){function e(i,s){if(Ms(this,e),!Array.isArray(i))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof i[0][0][0]=="number"&&(i=[i])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var a=0,c=i.length;a<c;a++){var h=new SI(i[a],this);h.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=h.bbox.ll.x),h.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=h.bbox.ll.y),h.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=h.bbox.ur.x),h.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=h.bbox.ur.y),this.polys.push(h)}this.isSubject=s}return wo(e,[{key:"getSweepEvents",value:function(){for(var i=[],s=0,a=this.polys.length;s<a;s++)for(var c=this.polys[s].getSweepEvents(),h=0,g=c.length;h<g;h++)i.push(c[h]);return i}}]),e}(),CI=function(){function e(i){Ms(this,e),this.events=i;for(var s=0,a=i.length;s<a;s++)i[s].segment.ringOut=this;this.poly=null}return wo(e,null,[{key:"factory",value:function(i){for(var s=[],a=0,c=i.length;a<c;a++){var h=i[a];if(h.isInResult()&&!h.ringOut){for(var g=null,y=h.leftSE,w=h.rightSE,x=[y],T=y.point,E=[];g=y,y=w,x.push(y),y.point!==T;)for(;;){var P=y.getAvailableLinkedEvents();if(P.length===0){var z=x[0].point,N=x[x.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(z.x,",")+" ".concat(z.y,"]. Last matching segment found ends at")+" [".concat(N.x,", ").concat(N.y,"]."))}if(P.length===1){w=P[0].otherSE;break}for(var B=null,R=0,X=E.length;R<X;R++)if(E[R].point===y.point){B=R;break}if(B===null){E.push({index:x.length,point:y.point});var it=y.getLeftmostComparator(g);w=P.sort(it)[0].otherSE;break}var D=E.splice(B)[0],Y=x.splice(D.index);Y.unshift(Y[0].otherSE),s.push(new e(Y.reverse()))}s.push(new e(x))}}return s}}]),wo(e,[{key:"getGeom",value:function(){for(var i=this.events[0].point,s=[i],a=1,c=this.events.length-1;a<c;a++){var h=this.events[a].point,g=this.events[a+1].point;dk(h,i,g)!==0&&(s.push(h),i=h)}if(s.length===1)return null;var y=s[0],w=s[1];dk(y,i,w)===0&&s.shift(),s.push(s[0]);for(var x=this.isExteriorRing()?1:-1,T=this.isExteriorRing()?0:s.length-1,E=this.isExteriorRing()?s.length:-1,P=[],z=T;z!=E;z+=x)P.push([s[z].x,s[z].y]);return P}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var i=this.enclosingRing();this._isExteriorRing=!i||!i.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var i=this.events[0],s=1,a=this.events.length;s<a;s++){var c=this.events[s];Ga.compare(i,c)>0&&(i=c)}for(var h=i.segment.prevInResult(),g=h?h.prevInResult():null;;){if(!h)return null;if(!g)return h.ringOut;if(g.ringOut!==h.ringOut)return g.ringOut.enclosingRing()!==h.ringOut?h.ringOut:h.ringOut.enclosingRing();h=g.prevInResult(),g=h?h.prevInResult():null}}}]),e}(),vk=function(){function e(i){Ms(this,e),this.exteriorRing=i,i.poly=this,this.interiorRings=[]}return wo(e,[{key:"addInterior",value:function(i){this.interiorRings.push(i),i.poly=this}},{key:"getGeom",value:function(){var i=[this.exteriorRing.getGeom()];if(i[0]===null)return null;for(var s=0,a=this.interiorRings.length;s<a;s++){var c=this.interiorRings[s].getGeom();c!==null&&i.push(c)}return i}}]),e}(),PI=function(){function e(i){Ms(this,e),this.rings=i,this.polys=this._composePolys(i)}return wo(e,[{key:"getGeom",value:function(){for(var i=[],s=0,a=this.polys.length;s<a;s++){var c=this.polys[s].getGeom();c!==null&&i.push(c)}return i}},{key:"_composePolys",value:function(i){for(var s=[],a=0,c=i.length;a<c;a++){var h=i[a];if(!h.poly)if(h.isExteriorRing())s.push(new vk(h));else{var g=h.enclosingRing();g.poly||s.push(new vk(g)),g.poly.addInterior(h)}}return s}}]),e}(),MI=function(){function e(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i0.compare;Ms(this,e),this.queue=i,this.tree=new Rb(s),this.segments=[]}return wo(e,[{key:"process",value:function(i){var s=i.segment,a=[];if(i.consumedBy)return i.isLeft?this.queue.remove(i.otherSE):this.tree.remove(s),a;var c=i.isLeft?this.tree.insert(s):this.tree.find(s);if(!c)throw new Error("Unable to find segment #".concat(s.id," ")+"[".concat(s.leftSE.point.x,", ").concat(s.leftSE.point.y,"] -> ")+"[".concat(s.rightSE.point.x,", ").concat(s.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var h=c,g=c,y=void 0,w=void 0;y===void 0;)(h=this.tree.prev(h))===null?y=null:h.key.consumedBy===void 0&&(y=h.key);for(;w===void 0;)(g=this.tree.next(g))===null?w=null:g.key.consumedBy===void 0&&(w=g.key);if(i.isLeft){var x=null;if(y){var T=y.getIntersection(s);if(T!==null&&(s.isAnEndpoint(T)||(x=T),!y.isAnEndpoint(T)))for(var E=this._splitSafely(y,T),P=0,z=E.length;P<z;P++)a.push(E[P])}var N=null;if(w){var B=w.getIntersection(s);if(B!==null&&(s.isAnEndpoint(B)||(N=B),!w.isAnEndpoint(B)))for(var R=this._splitSafely(w,B),X=0,it=R.length;X<it;X++)a.push(R[X])}if(x!==null||N!==null){var D=null;x===null?D=N:N===null?D=x:D=Ga.comparePoints(x,N)<=0?x:N,this.queue.remove(s.rightSE),a.push(s.rightSE);for(var Y=s.split(D),K=0,tt=Y.length;K<tt;K++)a.push(Y[K])}a.length>0?(this.tree.remove(s),a.push(i)):(this.segments.push(s),s.prev=y)}else{if(y&&w){var Q=y.getIntersection(w);if(Q!==null){if(!y.isAnEndpoint(Q))for(var At=this._splitSafely(y,Q),Et=0,Dt=At.length;Et<Dt;Et++)a.push(At[Et]);if(!w.isAnEndpoint(Q))for(var Tt=this._splitSafely(w,Q),jt=0,Mt=Tt.length;jt<Mt;jt++)a.push(Tt[jt])}}this.tree.remove(s)}return a}},{key:"_splitSafely",value:function(i,s){this.tree.remove(i);var a=i.rightSE;this.queue.remove(a);var c=i.split(s);return c.push(a),i.consumedBy===void 0&&this.tree.insert(i),c}}]),e}(),yk=typeof process<"u"&&{version:"0.1.0"}.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,II=typeof process<"u"&&{version:"0.1.0"}.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,ha=new(function(){function e(){Ms(this,e)}return wo(e,[{key:"run",value:function(i,s,a){ha.type=i,vf.reset();for(var c=[new mk(s,!0)],h=0,g=a.length;h<g;h++)c.push(new mk(a[h],!1));if(ha.numMultiPolys=c.length,ha.type==="difference")for(var y=c[0],w=1;w<c.length;)Nb(c[w].bbox,y.bbox)!==null?w++:c.splice(w,1);if(ha.type==="intersection"){for(var x=0,T=c.length;x<T;x++)for(var E=c[x],P=x+1,z=c.length;P<z;P++)if(Nb(E.bbox,c[P].bbox)===null)return[]}for(var N=new Rb(Ga.compare),B=0,R=c.length;B<R;B++)for(var X=c[B].getSweepEvents(),it=0,D=X.length;it<D;it++)if(N.insert(X[it]),N.size>yk)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var Y=new MI(N),K=N.size,tt=N.pop();tt;){var Q=tt.key;if(N.size===K){var At=Q.segment;throw new Error("Unable to pop() ".concat(Q.isLeft?"left":"right"," SweepEvent ")+"[".concat(Q.point.x,", ").concat(Q.point.y,"] from segment #").concat(At.id," ")+"[".concat(At.leftSE.point.x,", ").concat(At.leftSE.point.y,"] -> ")+"[".concat(At.rightSE.point.x,", ").concat(At.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(N.size>yk)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(Y.segments.length>II)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var Et=Y.process(Q),Dt=0,Tt=Et.length;Dt<Tt;Dt++){var jt=Et[Dt];jt.consumedBy===void 0&&N.insert(jt)}K=N.size,tt=N.pop()}vf.reset();var Mt=CI.factory(Y.segments);return new PI(Mt).getGeom()}}]),e}()),Nl={union:function(e){for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];return ha.run("union",e,s)},intersection:function(e){for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];return ha.run("intersection",e,s)},xor:function(e){for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];return ha.run("xor",e,s)},difference:function(e){for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];return ha.run("difference",e,s)}};"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(e){if(this==null)throw new TypeError(this+" is not an object");var i=Object(this),s=Math.max(Math.min(i.length,9007199254740991),0)||0,a=1 in arguments&&parseInt(Number(arguments[1]),10)||0;a=a<0?Math.max(s+a,0):Math.min(a,s);var c=2 in arguments&&arguments[2]!==void 0?parseInt(Number(arguments[2]),10)||0:s;for(c=c<0?Math.max(s+arguments[2],0):Math.min(c,s);a<c;)i[a]=e,++a;return i},writable:!0}),Number.isFinite=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},Number.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(e){return e!=e},Math.trunc=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};var Vu=function(){};Vu.prototype.interfaces_=function(){return[]},Vu.prototype.getClass=function(){return Vu},Vu.prototype.equalsWithTolerance=function(e,i,s){return Math.abs(e-i)<=s};var xi=function(e){function i(s){e.call(this,s),this.name="IllegalArgumentException",this.message=s,this.stack=new e().stack}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i}(Error),Ze=function(){},bk={MAX_VALUE:{configurable:!0}};Ze.isNaN=function(e){return Number.isNaN(e)},Ze.doubleToLongBits=function(e){return e},Ze.longBitsToDouble=function(e){return e},Ze.isInfinite=function(e){return!Number.isFinite(e)},bk.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(Ze,bk);var No=function(){},n0=function(){},pd=function(){};function Do(){}var Ct=function e(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)this.x=0,this.y=0,this.z=e.NULL_ORDINATE;else if(arguments.length===1){var i=arguments[0];this.x=i.x,this.y=i.y,this.z=i.z}else arguments.length===2?(this.x=arguments[0],this.y=arguments[1],this.z=e.NULL_ORDINATE):arguments.length===3&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},Wu={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};Ct.prototype.setOrdinate=function(e,i){switch(e){case Ct.X:this.x=i;break;case Ct.Y:this.y=i;break;case Ct.Z:this.z=i;break;default:throw new xi("Invalid ordinate index: "+e)}},Ct.prototype.equals2D=function(){if(arguments.length===1){var e=arguments[0];return this.x===e.x&&this.y===e.y}if(arguments.length===2){var i=arguments[0],s=arguments[1];return!!Vu.equalsWithTolerance(this.x,i.x,s)&&!!Vu.equalsWithTolerance(this.y,i.y,s)}},Ct.prototype.getOrdinate=function(e){switch(e){case Ct.X:return this.x;case Ct.Y:return this.y;case Ct.Z:return this.z}throw new xi("Invalid ordinate index: "+e)},Ct.prototype.equals3D=function(e){return this.x===e.x&&this.y===e.y&&(this.z===e.z||Ze.isNaN(this.z))&&Ze.isNaN(e.z)},Ct.prototype.equals=function(e){return e instanceof Ct&&this.equals2D(e)},Ct.prototype.equalInZ=function(e,i){return Vu.equalsWithTolerance(this.z,e.z,i)},Ct.prototype.compareTo=function(e){var i=e;return this.x<i.x?-1:this.x>i.x?1:this.y<i.y?-1:this.y>i.y?1:0},Ct.prototype.clone=function(){},Ct.prototype.copy=function(){return new Ct(this)},Ct.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},Ct.prototype.distance3D=function(e){var i=this.x-e.x,s=this.y-e.y,a=this.z-e.z;return Math.sqrt(i*i+s*s+a*a)},Ct.prototype.distance=function(e){var i=this.x-e.x,s=this.y-e.y;return Math.sqrt(i*i+s*s)},Ct.prototype.hashCode=function(){var e=17;return e=37*(e=37*e+Ct.hashCode(this.x))+Ct.hashCode(this.y)},Ct.prototype.setCoordinate=function(e){this.x=e.x,this.y=e.y,this.z=e.z},Ct.prototype.interfaces_=function(){return[No,n0,Do]},Ct.prototype.getClass=function(){return Ct},Ct.hashCode=function(){if(arguments.length===1){var e=arguments[0],i=Ze.doubleToLongBits(e);return Math.trunc((i^i)>>>32)}},Wu.DimensionalComparator.get=function(){return Dl},Wu.serialVersionUID.get=function(){return 6683108902428367e3},Wu.NULL_ORDINATE.get=function(){return Ze.NaN},Wu.X.get=function(){return 0},Wu.Y.get=function(){return 1},Wu.Z.get=function(){return 2},Object.defineProperties(Ct,Wu);var Dl=function(e){if(this._dimensionsToTest=2,arguments.length!==0){if(arguments.length===1){var i=arguments[0];if(i!==2&&i!==3)throw new xi("only 2 or 3 dimensions may be specified");this._dimensionsToTest=i}}};Dl.prototype.compare=function(e,i){var s=e,a=i,c=Dl.compare(s.x,a.x);if(c!==0)return c;var h=Dl.compare(s.y,a.y);return h!==0?h:this._dimensionsToTest<=2?0:Dl.compare(s.z,a.z)},Dl.prototype.interfaces_=function(){return[pd]},Dl.prototype.getClass=function(){return Dl},Dl.compare=function(e,i){return e<i?-1:e>i?1:Ze.isNaN(e)?Ze.isNaN(i)?0:-1:Ze.isNaN(i)?1:0};var fd=function(){};fd.prototype.create=function(){},fd.prototype.interfaces_=function(){return[]},fd.prototype.getClass=function(){return fd};var Ot=function(){},bf={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};Ot.prototype.interfaces_=function(){return[]},Ot.prototype.getClass=function(){return Ot},Ot.toLocationSymbol=function(e){switch(e){case Ot.EXTERIOR:return"e";case Ot.BOUNDARY:return"b";case Ot.INTERIOR:return"i";case Ot.NONE:return"-"}throw new xi("Unknown location value: "+e)},bf.INTERIOR.get=function(){return 0},bf.BOUNDARY.get=function(){return 1},bf.EXTERIOR.get=function(){return 2},bf.NONE.get=function(){return-1},Object.defineProperties(Ot,bf);var je=function(e,i){return e.interfaces_&&e.interfaces_().indexOf(i)>-1},xo=function(){},wk={LOG_10:{configurable:!0}};xo.prototype.interfaces_=function(){return[]},xo.prototype.getClass=function(){return xo},xo.log10=function(e){var i=Math.log(e);return Ze.isInfinite(i)||Ze.isNaN(i)?i:i/xo.LOG_10},xo.min=function(e,i,s,a){var c=e;return i<c&&(c=i),s<c&&(c=s),a<c&&(c=a),c},xo.clamp=function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],i=arguments[1],s=arguments[2];return e<i?i:e>s?s:e}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var a=arguments[0],c=arguments[1],h=arguments[2];return a<c?c:a>h?h:a}},xo.wrap=function(e,i){return e<0?i- -e%i:e%i},xo.max=function(){if(arguments.length===3){var e=arguments[0],i=arguments[1],s=arguments[2],a=e;return i>a&&(a=i),s>a&&(a=s),a}if(arguments.length===4){var c=arguments[0],h=arguments[1],g=arguments[2],y=arguments[3],w=c;return h>w&&(w=h),g>w&&(w=g),y>w&&(w=y),w}},xo.average=function(e,i){return(e+i)/2},wk.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(xo,wk);var Is=function(e){this.str=e};Is.prototype.append=function(e){this.str+=e},Is.prototype.setCharAt=function(e,i){this.str=this.str.substr(0,e)+i+this.str.substr(e+1)},Is.prototype.toString=function(e){return this.str};var Ls=function(e){this.value=e};Ls.prototype.intValue=function(){return this.value},Ls.prototype.compareTo=function(e){return this.value<e?-1:this.value>e?1:0},Ls.isNaN=function(e){return Number.isNaN(e)};var wf=function(){};wf.isWhitespace=function(e){return e<=32&&e>=0||e===127},wf.toUpperCase=function(e){return e.toUpperCase()};var Bt=function e(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var i=arguments[0];this.init(i)}else if(arguments[0]instanceof e){var s=arguments[0];this.init(s)}else if(typeof arguments[0]=="string"){var a=arguments[0];e.call(this,e.parse(a))}}else if(arguments.length===2){var c=arguments[0],h=arguments[1];this.init(c,h)}},os={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};Bt.prototype.le=function(e){return(this._hi<e._hi||this._hi===e._hi)&&this._lo<=e._lo},Bt.prototype.extractSignificantDigits=function(e,i){var s=this.abs(),a=Bt.magnitude(s._hi),c=Bt.TEN.pow(a);(s=s.divide(c)).gt(Bt.TEN)?(s=s.divide(Bt.TEN),a+=1):s.lt(Bt.ONE)&&(s=s.multiply(Bt.TEN),a-=1);for(var h=a+1,g=new Is,y=Bt.MAX_PRINT_DIGITS-1,w=0;w<=y;w++){e&&w===h&&g.append(".");var x=Math.trunc(s._hi);if(x<0)break;var T=!1,E=0;x>9?(T=!0,E="9"):E="0"+x,g.append(E),s=s.subtract(Bt.valueOf(x)).multiply(Bt.TEN),T&&s.selfAdd(Bt.TEN);var P=!0,z=Bt.magnitude(s._hi);if(z<0&&Math.abs(z)>=y-w&&(P=!1),!P)break}return i[0]=a,g.toString()},Bt.prototype.sqr=function(){return this.multiply(this)},Bt.prototype.doubleValue=function(){return this._hi+this._lo},Bt.prototype.subtract=function(){if(arguments[0]instanceof Bt){var e=arguments[0];return this.add(e.negate())}if(typeof arguments[0]=="number"){var i=arguments[0];return this.add(-i)}},Bt.prototype.equals=function(){if(arguments.length===1){var e=arguments[0];return this._hi===e._hi&&this._lo===e._lo}},Bt.prototype.isZero=function(){return this._hi===0&&this._lo===0},Bt.prototype.selfSubtract=function(){if(arguments[0]instanceof Bt){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e._hi,-e._lo)}if(typeof arguments[0]=="number"){var i=arguments[0];return this.isNaN()?this:this.selfAdd(-i,0)}},Bt.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},Bt.prototype.min=function(e){return this.le(e)?this:e},Bt.prototype.selfDivide=function(){if(arguments.length===1){if(arguments[0]instanceof Bt){var e=arguments[0];return this.selfDivide(e._hi,e._lo)}if(typeof arguments[0]=="number"){var i=arguments[0];return this.selfDivide(i,0)}}else if(arguments.length===2){var s=arguments[0],a=arguments[1],c=null,h=null,g=null,y=null,w=null,x=null,T=null,E=null;return w=this._hi/s,E=(c=(x=Bt.SPLIT*w)-(c=x-w))*(g=(E=Bt.SPLIT*s)-(g=E-s))-(T=w*s)+c*(y=s-g)+(h=w-c)*g+h*y,E=w+(x=(this._hi-T-E+this._lo-w*a)/s),this._hi=E,this._lo=w-E+x,this}},Bt.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},Bt.prototype.divide=function(){if(arguments[0]instanceof Bt){var e=arguments[0],i=null,s=null,a=null,c=null,h=null,g=null,y=null,w=null;s=(h=this._hi/e._hi)-(i=(g=Bt.SPLIT*h)-(i=g-h)),w=i*(a=(w=Bt.SPLIT*e._hi)-(a=w-e._hi))-(y=h*e._hi)+i*(c=e._hi-a)+s*a+s*c;var x=w=h+(g=(this._hi-y-w+this._lo-h*e._lo)/e._hi),T=h-w+g;return new Bt(x,T)}if(typeof arguments[0]=="number"){var E=arguments[0];return Ze.isNaN(E)?Bt.createNaN():Bt.copy(this).selfDivide(E,0)}},Bt.prototype.ge=function(e){return(this._hi>e._hi||this._hi===e._hi)&&this._lo>=e._lo},Bt.prototype.pow=function(e){if(e===0)return Bt.valueOf(1);var i=new Bt(this),s=Bt.valueOf(1),a=Math.abs(e);if(a>1)for(;a>0;)a%2==1&&s.selfMultiply(i),(a/=2)>0&&(i=i.sqr());else s=i;return e<0?s.reciprocal():s},Bt.prototype.ceil=function(){if(this.isNaN())return Bt.NaN;var e=Math.ceil(this._hi),i=0;return e===this._hi&&(i=Math.ceil(this._lo)),new Bt(e,i)},Bt.prototype.compareTo=function(e){var i=e;return this._hi<i._hi?-1:this._hi>i._hi?1:this._lo<i._lo?-1:this._lo>i._lo?1:0},Bt.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},Bt.prototype.setValue=function(){if(arguments[0]instanceof Bt){var e=arguments[0];return this.init(e),this}if(typeof arguments[0]=="number"){var i=arguments[0];return this.init(i),this}},Bt.prototype.max=function(e){return this.ge(e)?this:e},Bt.prototype.sqrt=function(){if(this.isZero())return Bt.valueOf(0);if(this.isNegative())return Bt.NaN;var e=1/Math.sqrt(this._hi),i=this._hi*e,s=Bt.valueOf(i),a=this.subtract(s.sqr())._hi*(.5*e);return s.add(a)},Bt.prototype.selfAdd=function(){if(arguments.length===1){if(arguments[0]instanceof Bt){var e=arguments[0];return this.selfAdd(e._hi,e._lo)}if(typeof arguments[0]=="number"){var i=arguments[0],s=null,a=null,c=null,h=null,g=null,y=null;return h=(c=this._hi+i)-(g=c-this._hi),a=(y=(h=i-g+(this._hi-h))+this._lo)+(c-(s=c+y)),this._hi=s+a,this._lo=a+(s-this._hi),this}}else if(arguments.length===2){var w=arguments[0],x=arguments[1],T=null,E=null,P=null,z=null,N=null,B=null,R=null;z=this._hi+w,E=this._lo+x,N=z-(B=z-this._hi),P=E-(R=E-this._lo);var X=(T=z+(B=(N=w-B+(this._hi-N))+E))+(B=(P=x-R+(this._lo-P))+(B+(z-T))),it=B+(T-X);return this._hi=X,this._lo=it,this}},Bt.prototype.selfMultiply=function(){if(arguments.length===1){if(arguments[0]instanceof Bt){var e=arguments[0];return this.selfMultiply(e._hi,e._lo)}if(typeof arguments[0]=="number"){var i=arguments[0];return this.selfMultiply(i,0)}}else if(arguments.length===2){var s=arguments[0],a=arguments[1],c=null,h=null,g=null,y=null,w=null,x=null;c=(w=Bt.SPLIT*this._hi)-this._hi,x=Bt.SPLIT*s,c=w-c,h=this._hi-c,g=x-s;var T=(w=this._hi*s)+(x=c*(g=x-g)-w+c*(y=s-g)+h*g+h*y+(this._hi*a+this._lo*s)),E=x+(c=w-T);return this._hi=T,this._lo=E,this}},Bt.prototype.selfSqr=function(){return this.selfMultiply(this)},Bt.prototype.floor=function(){if(this.isNaN())return Bt.NaN;var e=Math.floor(this._hi),i=0;return e===this._hi&&(i=Math.floor(this._lo)),new Bt(e,i)},Bt.prototype.negate=function(){return this.isNaN()?this:new Bt(-this._hi,-this._lo)},Bt.prototype.clone=function(){},Bt.prototype.multiply=function(){if(arguments[0]instanceof Bt){var e=arguments[0];return e.isNaN()?Bt.createNaN():Bt.copy(this).selfMultiply(e)}if(typeof arguments[0]=="number"){var i=arguments[0];return Ze.isNaN(i)?Bt.createNaN():Bt.copy(this).selfMultiply(i,0)}},Bt.prototype.isNaN=function(){return Ze.isNaN(this._hi)},Bt.prototype.intValue=function(){return Math.trunc(this._hi)},Bt.prototype.toString=function(){var e=Bt.magnitude(this._hi);return e>=-3&&e<=20?this.toStandardNotation():this.toSciNotation()},Bt.prototype.toStandardNotation=function(){var e=this.getSpecialNumberString();if(e!==null)return e;var i=new Array(1).fill(null),s=this.extractSignificantDigits(!0,i),a=i[0]+1,c=s;if(s.charAt(0)===".")c="0"+s;else if(a<0)c="0."+Bt.stringOfChar("0",-a)+s;else if(s.indexOf(".")===-1){var h=a-s.length;c=s+Bt.stringOfChar("0",h)+".0"}return this.isNegative()?"-"+c:c},Bt.prototype.reciprocal=function(){var e,i,s,a,c=null,h=null,g=null,y=null;e=(s=1/this._hi)-(c=(g=Bt.SPLIT*s)-(c=g-s)),h=(y=Bt.SPLIT*this._hi)-this._hi;var w=s+(g=(1-(a=s*this._hi)-(y=c*(h=y-h)-a+c*(i=this._hi-h)+e*h+e*i)-s*this._lo)/this._hi);return new Bt(w,s-w+g)},Bt.prototype.toSciNotation=function(){if(this.isZero())return Bt.SCI_NOT_ZERO;var e=this.getSpecialNumberString();if(e!==null)return e;var i=new Array(1).fill(null),s=this.extractSignificantDigits(!1,i),a=Bt.SCI_NOT_EXPONENT_CHAR+i[0];if(s.charAt(0)==="0")throw new Error("Found leading zero: "+s);var c="";s.length>1&&(c=s.substring(1));var h=s.charAt(0)+"."+c;return this.isNegative()?"-"+h+a:h+a},Bt.prototype.abs=function(){return this.isNaN()?Bt.NaN:this.isNegative()?this.negate():new Bt(this)},Bt.prototype.isPositive=function(){return(this._hi>0||this._hi===0)&&this._lo>0},Bt.prototype.lt=function(e){return(this._hi<e._hi||this._hi===e._hi)&&this._lo<e._lo},Bt.prototype.add=function(){if(arguments[0]instanceof Bt){var e=arguments[0];return Bt.copy(this).selfAdd(e)}if(typeof arguments[0]=="number"){var i=arguments[0];return Bt.copy(this).selfAdd(i)}},Bt.prototype.init=function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var e=arguments[0];this._hi=e,this._lo=0}else if(arguments[0]instanceof Bt){var i=arguments[0];this._hi=i._hi,this._lo=i._lo}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];this._hi=s,this._lo=a}},Bt.prototype.gt=function(e){return(this._hi>e._hi||this._hi===e._hi)&&this._lo>e._lo},Bt.prototype.isNegative=function(){return(this._hi<0||this._hi===0)&&this._lo<0},Bt.prototype.trunc=function(){return this.isNaN()?Bt.NaN:this.isPositive()?this.floor():this.ceil()},Bt.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},Bt.prototype.interfaces_=function(){return[Do,No,n0]},Bt.prototype.getClass=function(){return Bt},Bt.sqr=function(e){return Bt.valueOf(e).selfMultiply(e)},Bt.valueOf=function(){if(typeof arguments[0]=="string"){var e=arguments[0];return Bt.parse(e)}if(typeof arguments[0]=="number"){var i=arguments[0];return new Bt(i)}},Bt.sqrt=function(e){return Bt.valueOf(e).sqrt()},Bt.parse=function(e){for(var i=0,s=e.length;wf.isWhitespace(e.charAt(i));)i++;var a=!1;if(i<s){var c=e.charAt(i);c!=="-"&&c!=="+"||(i++,c==="-"&&(a=!0))}for(var h=new Bt,g=0,y=0,w=0;!(i>=s);){var x=e.charAt(i);if(i++,wf.isDigit(x)){var T=x-"0";h.selfMultiply(Bt.TEN),h.selfAdd(T),g++}else{if(x!=="."){if(x==="e"||x==="E"){var E=e.substring(i);try{w=Ls.parseInt(E)}catch(R){throw R instanceof Error?new Error("Invalid exponent "+E+" in string "+e):R}break}throw new Error("Unexpected character '"+x+"' at position "+i+" in string "+e)}y=g}}var P=h,z=g-y-w;if(z===0)P=h;else if(z>0){var N=Bt.TEN.pow(z);P=h.divide(N)}else if(z<0){var B=Bt.TEN.pow(-z);P=h.multiply(B)}return a?P.negate():P},Bt.createNaN=function(){return new Bt(Ze.NaN,Ze.NaN)},Bt.copy=function(e){return new Bt(e)},Bt.magnitude=function(e){var i=Math.abs(e),s=Math.log(i)/Math.log(10),a=Math.trunc(Math.floor(s));return 10*Math.pow(10,a)<=i&&(a+=1),a},Bt.stringOfChar=function(e,i){for(var s=new Is,a=0;a<i;a++)s.append(e);return s.toString()},os.PI.get=function(){return new Bt(3.141592653589793,12246467991473532e-32)},os.TWO_PI.get=function(){return new Bt(6.283185307179586,24492935982947064e-32)},os.PI_2.get=function(){return new Bt(1.5707963267948966,6123233995736766e-32)},os.E.get=function(){return new Bt(2.718281828459045,14456468917292502e-32)},os.NaN.get=function(){return new Bt(Ze.NaN,Ze.NaN)},os.EPS.get=function(){return 123259516440783e-46},os.SPLIT.get=function(){return 134217729},os.MAX_PRINT_DIGITS.get=function(){return 32},os.TEN.get=function(){return Bt.valueOf(10)},os.ONE.get=function(){return Bt.valueOf(1)},os.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},os.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(Bt,os);var Yn=function(){},xk={DP_SAFE_EPSILON:{configurable:!0}};Yn.prototype.interfaces_=function(){return[]},Yn.prototype.getClass=function(){return Yn},Yn.orientationIndex=function(e,i,s){var a=Yn.orientationIndexFilter(e,i,s);if(a<=1)return a;var c=Bt.valueOf(i.x).selfAdd(-e.x),h=Bt.valueOf(i.y).selfAdd(-e.y),g=Bt.valueOf(s.x).selfAdd(-i.x),y=Bt.valueOf(s.y).selfAdd(-i.y);return c.selfMultiply(y).selfSubtract(h.selfMultiply(g)).signum()},Yn.signOfDet2x2=function(e,i,s,a){return e.multiply(a).selfSubtract(i.multiply(s)).signum()},Yn.intersection=function(e,i,s,a){var c=Bt.valueOf(a.y).selfSubtract(s.y).selfMultiply(Bt.valueOf(i.x).selfSubtract(e.x)),h=Bt.valueOf(a.x).selfSubtract(s.x).selfMultiply(Bt.valueOf(i.y).selfSubtract(e.y)),g=c.subtract(h),y=Bt.valueOf(a.x).selfSubtract(s.x).selfMultiply(Bt.valueOf(e.y).selfSubtract(s.y)),w=Bt.valueOf(a.y).selfSubtract(s.y).selfMultiply(Bt.valueOf(e.x).selfSubtract(s.x)),x=y.subtract(w).selfDivide(g).doubleValue(),T=Bt.valueOf(e.x).selfAdd(Bt.valueOf(i.x).selfSubtract(e.x).selfMultiply(x)).doubleValue(),E=Bt.valueOf(i.x).selfSubtract(e.x).selfMultiply(Bt.valueOf(e.y).selfSubtract(s.y)),P=Bt.valueOf(i.y).selfSubtract(e.y).selfMultiply(Bt.valueOf(e.x).selfSubtract(s.x)),z=E.subtract(P).selfDivide(g).doubleValue(),N=Bt.valueOf(s.y).selfAdd(Bt.valueOf(a.y).selfSubtract(s.y).selfMultiply(z)).doubleValue();return new Ct(T,N)},Yn.orientationIndexFilter=function(e,i,s){var a=null,c=(e.x-s.x)*(i.y-s.y),h=(e.y-s.y)*(i.x-s.x),g=c-h;if(c>0){if(h<=0)return Yn.signum(g);a=c+h}else{if(!(c<0)||h>=0)return Yn.signum(g);a=-c-h}var y=Yn.DP_SAFE_EPSILON*a;return g>=y||-g>=y?Yn.signum(g):2},Yn.signum=function(e){return e>0?1:e<0?-1:0},xk.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(Yn,xk);var vr=function(){},xf={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};xf.X.get=function(){return 0},xf.Y.get=function(){return 1},xf.Z.get=function(){return 2},xf.M.get=function(){return 3},vr.prototype.setOrdinate=function(e,i,s){},vr.prototype.size=function(){},vr.prototype.getOrdinate=function(e,i){},vr.prototype.getCoordinate=function(){},vr.prototype.getCoordinateCopy=function(e){},vr.prototype.getDimension=function(){},vr.prototype.getX=function(e){},vr.prototype.clone=function(){},vr.prototype.expandEnvelope=function(e){},vr.prototype.copy=function(){},vr.prototype.getY=function(e){},vr.prototype.toCoordinateArray=function(){},vr.prototype.interfaces_=function(){return[n0]},vr.prototype.getClass=function(){return vr},Object.defineProperties(vr,xf);var _k=function(){},gd=function(e){function i(){e.call(this,"Projective point not representable on the Cartesian plane.")}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(_k),pn=function(){};pn.arraycopy=function(e,i,s,a,c){for(var h=0,g=i;g<i+c;g++)s[a+h]=e[g],h++},pn.getProperty=function(e){return{"line.separator":`
`}[e]};var ss=function e(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var i=arguments[0];this.x=i.x,this.y=i.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var s=arguments[0],a=arguments[1];this.x=s,this.y=a,this.w=1}else if(arguments[0]instanceof e&&arguments[1]instanceof e){var c=arguments[0],h=arguments[1];this.x=c.y*h.w-h.y*c.w,this.y=h.x*c.w-c.x*h.w,this.w=c.x*h.y-h.x*c.y}else if(arguments[0]instanceof Ct&&arguments[1]instanceof Ct){var g=arguments[0],y=arguments[1];this.x=g.y-y.y,this.y=y.x-g.x,this.w=g.x*y.y-y.x*g.y}}else if(arguments.length===3){var w=arguments[0],x=arguments[1],T=arguments[2];this.x=w,this.y=x,this.w=T}else if(arguments.length===4){var E=arguments[0],P=arguments[1],z=arguments[2],N=arguments[3],B=E.y-P.y,R=P.x-E.x,X=E.x*P.y-P.x*E.y,it=z.y-N.y,D=N.x-z.x,Y=z.x*N.y-N.x*z.y;this.x=R*Y-D*X,this.y=it*X-B*Y,this.w=B*D-it*R}};ss.prototype.getY=function(){var e=this.y/this.w;if(Ze.isNaN(e)||Ze.isInfinite(e))throw new gd;return e},ss.prototype.getX=function(){var e=this.x/this.w;if(Ze.isNaN(e)||Ze.isInfinite(e))throw new gd;return e},ss.prototype.getCoordinate=function(){var e=new Ct;return e.x=this.getX(),e.y=this.getY(),e},ss.prototype.interfaces_=function(){return[]},ss.prototype.getClass=function(){return ss},ss.intersection=function(e,i,s,a){var c=e.y-i.y,h=i.x-e.x,g=e.x*i.y-i.x*e.y,y=s.y-a.y,w=a.x-s.x,x=s.x*a.y-a.x*s.y,T=c*w-y*h,E=(h*x-w*g)/T,P=(y*g-c*x)/T;if(Ze.isNaN(E)||Ze.isInfinite(E)||Ze.isNaN(P)||Ze.isInfinite(P))throw new gd;return new Ct(E,P)};var Le=function e(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof Ct){var i=arguments[0];this.init(i.x,i.x,i.y,i.y)}else if(arguments[0]instanceof e){var s=arguments[0];this.init(s)}}else if(arguments.length===2){var a=arguments[0],c=arguments[1];this.init(a.x,c.x,a.y,c.y)}else if(arguments.length===4){var h=arguments[0],g=arguments[1],y=arguments[2],w=arguments[3];this.init(h,g,y,w)}},kk={serialVersionUID:{configurable:!0}};Le.prototype.getArea=function(){return this.getWidth()*this.getHeight()},Le.prototype.equals=function(e){if(!(e instanceof Le))return!1;var i=e;return this.isNull()?i.isNull():this._maxx===i.getMaxX()&&this._maxy===i.getMaxY()&&this._minx===i.getMinX()&&this._miny===i.getMinY()},Le.prototype.intersection=function(e){if(this.isNull()||e.isNull()||!this.intersects(e))return new Le;var i=this._minx>e._minx?this._minx:e._minx,s=this._miny>e._miny?this._miny:e._miny,a=this._maxx<e._maxx?this._maxx:e._maxx,c=this._maxy<e._maxy?this._maxy:e._maxy;return new Le(i,a,s,c)},Le.prototype.isNull=function(){return this._maxx<this._minx},Le.prototype.getMaxX=function(){return this._maxx},Le.prototype.covers=function(){if(arguments.length===1){if(arguments[0]instanceof Ct){var e=arguments[0];return this.covers(e.x,e.y)}if(arguments[0]instanceof Le){var i=arguments[0];return!this.isNull()&&!i.isNull()&&i.getMinX()>=this._minx&&i.getMaxX()<=this._maxx&&i.getMinY()>=this._miny&&i.getMaxY()<=this._maxy}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];return!this.isNull()&&s>=this._minx&&s<=this._maxx&&a>=this._miny&&a<=this._maxy}},Le.prototype.intersects=function(){if(arguments.length===1){if(arguments[0]instanceof Le){var e=arguments[0];return!this.isNull()&&!e.isNull()&&!(e._minx>this._maxx||e._maxx<this._minx||e._miny>this._maxy||e._maxy<this._miny)}if(arguments[0]instanceof Ct){var i=arguments[0];return this.intersects(i.x,i.y)}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];return!this.isNull()&&!(s>this._maxx||s<this._minx||a>this._maxy||a<this._miny)}},Le.prototype.getMinY=function(){return this._miny},Le.prototype.getMinX=function(){return this._minx},Le.prototype.expandToInclude=function(){if(arguments.length===1){if(arguments[0]instanceof Ct){var e=arguments[0];this.expandToInclude(e.x,e.y)}else if(arguments[0]instanceof Le){var i=arguments[0];if(i.isNull())return null;this.isNull()?(this._minx=i.getMinX(),this._maxx=i.getMaxX(),this._miny=i.getMinY(),this._maxy=i.getMaxY()):(i._minx<this._minx&&(this._minx=i._minx),i._maxx>this._maxx&&(this._maxx=i._maxx),i._miny<this._miny&&(this._miny=i._miny),i._maxy>this._maxy&&(this._maxy=i._maxy))}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];this.isNull()?(this._minx=s,this._maxx=s,this._miny=a,this._maxy=a):(s<this._minx&&(this._minx=s),s>this._maxx&&(this._maxx=s),a<this._miny&&(this._miny=a),a>this._maxy&&(this._maxy=a))}},Le.prototype.minExtent=function(){if(this.isNull())return 0;var e=this.getWidth(),i=this.getHeight();return e<i?e:i},Le.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},Le.prototype.compareTo=function(e){var i=e;return this.isNull()?i.isNull()?0:-1:i.isNull()?1:this._minx<i._minx?-1:this._minx>i._minx?1:this._miny<i._miny?-1:this._miny>i._miny?1:this._maxx<i._maxx?-1:this._maxx>i._maxx?1:this._maxy<i._maxy?-1:this._maxy>i._maxy?1:0},Le.prototype.translate=function(e,i){if(this.isNull())return null;this.init(this.getMinX()+e,this.getMaxX()+e,this.getMinY()+i,this.getMaxY()+i)},Le.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},Le.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},Le.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},Le.prototype.maxExtent=function(){if(this.isNull())return 0;var e=this.getWidth(),i=this.getHeight();return e>i?e:i},Le.prototype.expandBy=function(){if(arguments.length===1){var e=arguments[0];this.expandBy(e,e)}else if(arguments.length===2){var i=arguments[0],s=arguments[1];if(this.isNull())return null;this._minx-=i,this._maxx+=i,this._miny-=s,this._maxy+=s,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},Le.prototype.contains=function(){if(arguments.length===1){if(arguments[0]instanceof Le){var e=arguments[0];return this.covers(e)}if(arguments[0]instanceof Ct){var i=arguments[0];return this.covers(i)}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];return this.covers(s,a)}},Le.prototype.centre=function(){return this.isNull()?null:new Ct((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},Le.prototype.init=function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof Ct){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof Le){var i=arguments[0];this._minx=i._minx,this._maxx=i._maxx,this._miny=i._miny,this._maxy=i._maxy}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];this.init(s.x,a.x,s.y,a.y)}else if(arguments.length===4){var c=arguments[0],h=arguments[1],g=arguments[2],y=arguments[3];c<h?(this._minx=c,this._maxx=h):(this._minx=h,this._maxx=c),g<y?(this._miny=g,this._maxy=y):(this._miny=y,this._maxy=g)}},Le.prototype.getMaxY=function(){return this._maxy},Le.prototype.distance=function(e){if(this.intersects(e))return 0;var i=0;this._maxx<e._minx?i=e._minx-this._maxx:this._minx>e._maxx&&(i=this._minx-e._maxx);var s=0;return this._maxy<e._miny?s=e._miny-this._maxy:this._miny>e._maxy&&(s=this._miny-e._maxy),i===0?s:s===0?i:Math.sqrt(i*i+s*s)},Le.prototype.hashCode=function(){var e=17;return e=37*(e=37*(e=37*(e=37*e+Ct.hashCode(this._minx))+Ct.hashCode(this._maxx))+Ct.hashCode(this._miny))+Ct.hashCode(this._maxy)},Le.prototype.interfaces_=function(){return[No,Do]},Le.prototype.getClass=function(){return Le},Le.intersects=function(){if(arguments.length===3){var e=arguments[0],i=arguments[1],s=arguments[2];return s.x>=(e.x<i.x?e.x:i.x)&&s.x<=(e.x>i.x?e.x:i.x)&&s.y>=(e.y<i.y?e.y:i.y)&&s.y<=(e.y>i.y?e.y:i.y)}if(arguments.length===4){var a=arguments[0],c=arguments[1],h=arguments[2],g=arguments[3],y=Math.min(h.x,g.x),w=Math.max(h.x,g.x),x=Math.min(a.x,c.x),T=Math.max(a.x,c.x);return!(x>w)&&!(T<y)&&(y=Math.min(h.y,g.y),w=Math.max(h.y,g.y),x=Math.min(a.y,c.y),T=Math.max(a.y,c.y),!(x>w)&&!(T<y))}},kk.serialVersionUID.get=function(){return 5873921885273102e3},Object.defineProperties(Le,kk);var Rs={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},o0=function(e){this.geometryFactory=e||new lr};o0.prototype.read=function(e){var i,s,a;e=e.replace(/[\n\r]/g," ");var c=Rs.typeStr.exec(e);if(e.search("EMPTY")!==-1&&((c=Rs.emptyTypeStr.exec(e))[2]=void 0),c&&(s=c[1].toLowerCase(),a=c[2],md[s]&&(i=md[s].apply(this,[a]))),i===void 0)throw new Error("Could not parse WKT "+e);return i},o0.prototype.write=function(e){return this.extractGeometry(e)},o0.prototype.extractGeometry=function(e){var i=e.getGeometryType().toLowerCase();if(!qa[i])return null;var s=i.toUpperCase();return e.isEmpty()?s+" EMPTY":s+"("+qa[i].apply(this,[e])+")"};var qa={coordinate:function(e){return e.x+" "+e.y},point:function(e){return qa.coordinate.call(this,e._coordinates._coordinates[0])},multipoint:function(e){for(var i=[],s=0,a=e._geometries.length;s<a;++s)i.push("("+qa.point.apply(this,[e._geometries[s]])+")");return i.join(",")},linestring:function(e){for(var i=[],s=0,a=e._points._coordinates.length;s<a;++s)i.push(qa.coordinate.apply(this,[e._points._coordinates[s]]));return i.join(",")},linearring:function(e){for(var i=[],s=0,a=e._points._coordinates.length;s<a;++s)i.push(qa.coordinate.apply(this,[e._points._coordinates[s]]));return i.join(",")},multilinestring:function(e){for(var i=[],s=0,a=e._geometries.length;s<a;++s)i.push("("+qa.linestring.apply(this,[e._geometries[s]])+")");return i.join(",")},polygon:function(e){var i=[];i.push("("+qa.linestring.apply(this,[e._shell])+")");for(var s=0,a=e._holes.length;s<a;++s)i.push("("+qa.linestring.apply(this,[e._holes[s]])+")");return i.join(",")},multipolygon:function(e){for(var i=[],s=0,a=e._geometries.length;s<a;++s)i.push("("+qa.polygon.apply(this,[e._geometries[s]])+")");return i.join(",")},geometrycollection:function(e){for(var i=[],s=0,a=e._geometries.length;s<a;++s)i.push(this.extractGeometry(e._geometries[s]));return i.join(",")}},md={point:function(e){if(e===void 0)return this.geometryFactory.createPoint();var i=e.trim().split(Rs.spaces);return this.geometryFactory.createPoint(new Ct(Number.parseFloat(i[0]),Number.parseFloat(i[1])))},multipoint:function(e){var i;if(e===void 0)return this.geometryFactory.createMultiPoint();for(var s=e.trim().split(","),a=[],c=0,h=s.length;c<h;++c)i=s[c].replace(Rs.trimParens,"$1"),a.push(md.point.apply(this,[i]));return this.geometryFactory.createMultiPoint(a)},linestring:function(e){if(e===void 0)return this.geometryFactory.createLineString();for(var i,s=e.trim().split(","),a=[],c=0,h=s.length;c<h;++c)i=s[c].trim().split(Rs.spaces),a.push(new Ct(Number.parseFloat(i[0]),Number.parseFloat(i[1])));return this.geometryFactory.createLineString(a)},linearring:function(e){if(e===void 0)return this.geometryFactory.createLinearRing();for(var i,s=e.trim().split(","),a=[],c=0,h=s.length;c<h;++c)i=s[c].trim().split(Rs.spaces),a.push(new Ct(Number.parseFloat(i[0]),Number.parseFloat(i[1])));return this.geometryFactory.createLinearRing(a)},multilinestring:function(e){var i;if(e===void 0)return this.geometryFactory.createMultiLineString();for(var s=e.trim().split(Rs.parenComma),a=[],c=0,h=s.length;c<h;++c)i=s[c].replace(Rs.trimParens,"$1"),a.push(md.linestring.apply(this,[i]));return this.geometryFactory.createMultiLineString(a)},polygon:function(e){var i,s,a;if(e===void 0)return this.geometryFactory.createPolygon();for(var c,h=e.trim().split(Rs.parenComma),g=[],y=0,w=h.length;y<w;++y)i=h[y].replace(Rs.trimParens,"$1"),s=md.linestring.apply(this,[i]),a=this.geometryFactory.createLinearRing(s._points),y===0?c=a:g.push(a);return this.geometryFactory.createPolygon(c,g)},multipolygon:function(e){var i;if(e===void 0)return this.geometryFactory.createMultiPolygon();for(var s=e.trim().split(Rs.doubleParenComma),a=[],c=0,h=s.length;c<h;++c)i=s[c].replace(Rs.trimParens,"$1"),a.push(md.polygon.apply(this,[i]));return this.geometryFactory.createMultiPolygon(a)},geometrycollection:function(e){if(e===void 0)return this.geometryFactory.createGeometryCollection();for(var i=(e=e.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),s=[],a=0,c=i.length;a<c;++a)s.push(this.read(i[a]));return this.geometryFactory.createGeometryCollection(s)}},as=function(e){this.parser=new o0(e)};as.prototype.write=function(e){return this.parser.write(e)},as.toLineString=function(e,i){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+e.x+" "+e.y+", "+i.x+" "+i.y+" )"};var Va=function(e){function i(s){e.call(this,s),this.name="RuntimeException",this.message=s,this.stack=new e().stack}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i}(Error),s0=function(e){function i(){if(e.call(this),arguments.length===0)e.call(this);else if(arguments.length===1){var s=arguments[0];e.call(this,s)}}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(Va),Je=function(){};Je.prototype.interfaces_=function(){return[]},Je.prototype.getClass=function(){return Je},Je.shouldNeverReachHere=function(){if(arguments.length===0)Je.shouldNeverReachHere(null);else if(arguments.length===1){var e=arguments[0];throw new s0("Should never reach here"+(e!==null?": "+e:""))}},Je.isTrue=function(){var e;if(arguments.length===1)Je.isTrue(arguments[0],null);else if(arguments.length===2&&(e=arguments[1],!arguments[0]))throw e===null?new s0:new s0(e)},Je.equals=function(){var e,i,s;if(arguments.length===2)Je.equals(e=arguments[0],i=arguments[1],null);else if(arguments.length===3&&(e=arguments[0],s=arguments[2],!(i=arguments[1]).equals(e)))throw new s0("Expected "+e+" but encountered "+i+(s!==null?": "+s:""))};var Ei=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new Ct,this._intPt[1]=new Ct,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},Zu={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};Ei.prototype.getIndexAlongSegment=function(e,i){return this.computeIntLineIndex(),this._intLineIndex[e][i]},Ei.prototype.getTopologySummary=function(){var e=new Is;return this.isEndPoint()&&e.append(" endpoint"),this._isProper&&e.append(" proper"),this.isCollinear()&&e.append(" collinear"),e.toString()},Ei.prototype.computeIntersection=function(e,i,s,a){this._inputLines[0][0]=e,this._inputLines[0][1]=i,this._inputLines[1][0]=s,this._inputLines[1][1]=a,this._result=this.computeIntersect(e,i,s,a)},Ei.prototype.getIntersectionNum=function(){return this._result},Ei.prototype.computeIntLineIndex=function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var e=arguments[0],i=this.getEdgeDistance(e,0),s=this.getEdgeDistance(e,1);i>s?(this._intLineIndex[e][0]=0,this._intLineIndex[e][1]=1):(this._intLineIndex[e][0]=1,this._intLineIndex[e][1]=0)}},Ei.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},Ei.prototype.setPrecisionModel=function(e){this._precisionModel=e},Ei.prototype.isInteriorIntersection=function(){var e=this;if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var i=arguments[0],s=0;s<this._result;s++)if(!e._intPt[s].equals2D(e._inputLines[i][0])&&!e._intPt[s].equals2D(e._inputLines[i][1]))return!0;return!1}},Ei.prototype.getIntersection=function(e){return this._intPt[e]},Ei.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},Ei.prototype.hasIntersection=function(){return this._result!==Ei.NO_INTERSECTION},Ei.prototype.getEdgeDistance=function(e,i){return Ei.computeEdgeDistance(this._intPt[i],this._inputLines[e][0],this._inputLines[e][1])},Ei.prototype.isCollinear=function(){return this._result===Ei.COLLINEAR_INTERSECTION},Ei.prototype.toString=function(){return as.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+as.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},Ei.prototype.getEndpoint=function(e,i){return this._inputLines[e][i]},Ei.prototype.isIntersection=function(e){for(var i=0;i<this._result;i++)if(this._intPt[i].equals2D(e))return!0;return!1},Ei.prototype.getIntersectionAlongSegment=function(e,i){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[e][i]]},Ei.prototype.interfaces_=function(){return[]},Ei.prototype.getClass=function(){return Ei},Ei.computeEdgeDistance=function(e,i,s){var a=Math.abs(s.x-i.x),c=Math.abs(s.y-i.y),h=-1;if(e.equals(i))h=0;else if(e.equals(s))h=a>c?a:c;else{var g=Math.abs(e.x-i.x),y=Math.abs(e.y-i.y);(h=a>c?g:y)!==0||e.equals(i)||(h=Math.max(g,y))}return Je.isTrue(!(h===0&&!e.equals(i)),"Bad distance calculation"),h},Ei.nonRobustComputeEdgeDistance=function(e,i,s){var a=e.x-i.x,c=e.y-i.y,h=Math.sqrt(a*a+c*c);return Je.isTrue(!(h===0&&!e.equals(i)),"Invalid distance calculation"),h},Zu.DONT_INTERSECT.get=function(){return 0},Zu.DO_INTERSECT.get=function(){return 1},Zu.COLLINEAR.get=function(){return 2},Zu.NO_INTERSECTION.get=function(){return 0},Zu.POINT_INTERSECTION.get=function(){return 1},Zu.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(Ei,Zu);var Nc=function(e){function i(){e.apply(this,arguments)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.isInSegmentEnvelopes=function(s){var a=new Le(this._inputLines[0][0],this._inputLines[0][1]),c=new Le(this._inputLines[1][0],this._inputLines[1][1]);return a.contains(s)&&c.contains(s)},i.prototype.computeIntersection=function(){if(arguments.length!==3)return e.prototype.computeIntersection.apply(this,arguments);var s=arguments[0],a=arguments[1],c=arguments[2];if(this._isProper=!1,Le.intersects(a,c,s)&&he.orientationIndex(a,c,s)===0&&he.orientationIndex(c,a,s)===0)return this._isProper=!0,(s.equals(a)||s.equals(c))&&(this._isProper=!1),this._result=e.POINT_INTERSECTION,null;this._result=e.NO_INTERSECTION},i.prototype.normalizeToMinimum=function(s,a,c,h,g){g.x=this.smallestInAbsValue(s.x,a.x,c.x,h.x),g.y=this.smallestInAbsValue(s.y,a.y,c.y,h.y),s.x-=g.x,s.y-=g.y,a.x-=g.x,a.y-=g.y,c.x-=g.x,c.y-=g.y,h.x-=g.x,h.y-=g.y},i.prototype.safeHCoordinateIntersection=function(s,a,c,h){var g=null;try{g=ss.intersection(s,a,c,h)}catch(y){if(!(y instanceof gd))throw y;g=i.nearestEndpoint(s,a,c,h)}return g},i.prototype.intersection=function(s,a,c,h){var g=this.intersectionWithNormalization(s,a,c,h);return this.isInSegmentEnvelopes(g)||(g=new Ct(i.nearestEndpoint(s,a,c,h))),this._precisionModel!==null&&this._precisionModel.makePrecise(g),g},i.prototype.smallestInAbsValue=function(s,a,c,h){var g=s,y=Math.abs(g);return Math.abs(a)<y&&(g=a,y=Math.abs(a)),Math.abs(c)<y&&(g=c,y=Math.abs(c)),Math.abs(h)<y&&(g=h),g},i.prototype.checkDD=function(s,a,c,h,g){var y=Yn.intersection(s,a,c,h),w=this.isInSegmentEnvelopes(y);pn.out.println("DD in env = "+w+"  --------------------- "+y),g.distance(y)>1e-4&&pn.out.println("Distance = "+g.distance(y))},i.prototype.intersectionWithNormalization=function(s,a,c,h){var g=new Ct(s),y=new Ct(a),w=new Ct(c),x=new Ct(h),T=new Ct;this.normalizeToEnvCentre(g,y,w,x,T);var E=this.safeHCoordinateIntersection(g,y,w,x);return E.x+=T.x,E.y+=T.y,E},i.prototype.computeCollinearIntersection=function(s,a,c,h){var g=Le.intersects(s,a,c),y=Le.intersects(s,a,h),w=Le.intersects(c,h,s),x=Le.intersects(c,h,a);return g&&y?(this._intPt[0]=c,this._intPt[1]=h,e.COLLINEAR_INTERSECTION):w&&x?(this._intPt[0]=s,this._intPt[1]=a,e.COLLINEAR_INTERSECTION):g&&w?(this._intPt[0]=c,this._intPt[1]=s,!c.equals(s)||y||x?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):g&&x?(this._intPt[0]=c,this._intPt[1]=a,!c.equals(a)||y||w?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):y&&w?(this._intPt[0]=h,this._intPt[1]=s,!h.equals(s)||g||x?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):y&&x?(this._intPt[0]=h,this._intPt[1]=a,!h.equals(a)||g||w?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):e.NO_INTERSECTION},i.prototype.normalizeToEnvCentre=function(s,a,c,h,g){var y=s.x<a.x?s.x:a.x,w=s.y<a.y?s.y:a.y,x=s.x>a.x?s.x:a.x,T=s.y>a.y?s.y:a.y,E=c.x<h.x?c.x:h.x,P=c.y<h.y?c.y:h.y,z=c.x>h.x?c.x:h.x,N=c.y>h.y?c.y:h.y,B=((y>E?y:E)+(x<z?x:z))/2,R=((w>P?w:P)+(T<N?T:N))/2;g.x=B,g.y=R,s.x-=g.x,s.y-=g.y,a.x-=g.x,a.y-=g.y,c.x-=g.x,c.y-=g.y,h.x-=g.x,h.y-=g.y},i.prototype.computeIntersect=function(s,a,c,h){if(this._isProper=!1,!Le.intersects(s,a,c,h))return e.NO_INTERSECTION;var g=he.orientationIndex(s,a,c),y=he.orientationIndex(s,a,h);if(g>0&&y>0||g<0&&y<0)return e.NO_INTERSECTION;var w=he.orientationIndex(c,h,s),x=he.orientationIndex(c,h,a);return w>0&&x>0||w<0&&x<0?e.NO_INTERSECTION:g===0&&y===0&&w===0&&x===0?this.computeCollinearIntersection(s,a,c,h):(g===0||y===0||w===0||x===0?(this._isProper=!1,s.equals2D(c)||s.equals2D(h)?this._intPt[0]=s:a.equals2D(c)||a.equals2D(h)?this._intPt[0]=a:g===0?this._intPt[0]=new Ct(c):y===0?this._intPt[0]=new Ct(h):w===0?this._intPt[0]=new Ct(s):x===0&&(this._intPt[0]=new Ct(a))):(this._isProper=!0,this._intPt[0]=this.intersection(s,a,c,h)),e.POINT_INTERSECTION)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i.nearestEndpoint=function(s,a,c,h){var g=s,y=he.distancePointLine(s,c,h),w=he.distancePointLine(a,c,h);return w<y&&(y=w,g=a),(w=he.distancePointLine(c,s,a))<y&&(y=w,g=c),(w=he.distancePointLine(h,s,a))<y&&(y=w,g=h),g},i}(Ei),Yu=function(){};Yu.prototype.interfaces_=function(){return[]},Yu.prototype.getClass=function(){return Yu},Yu.orientationIndex=function(e,i,s){var a=i.x-e.x,c=i.y-e.y,h=s.x-i.x,g=s.y-i.y;return Yu.signOfDet2x2(a,c,h,g)},Yu.signOfDet2x2=function(e,i,s,a){var c=null,h=null,g=null;if(c=1,e===0||a===0)return i===0||s===0?0:i>0?s>0?-c:c:s>0?c:-c;if(i===0||s===0)return a>0?e>0?c:-c:e>0?-c:c;if(i>0?a>0?i<=a||(c=-c,h=e,e=s,s=h,h=i,i=a,a=h):i<=-a?(c=-c,s=-s,a=-a):(h=e,e=-s,s=h,h=i,i=-a,a=h):a>0?-i<=a?(c=-c,e=-e,i=-i):(h=-e,e=s,s=h,h=-i,i=a,a=h):i>=a?(e=-e,i=-i,s=-s,a=-a):(c=-c,h=-e,e=-s,s=h,h=-i,i=-a,a=h),e>0){if(!(s>0)||!(e<=s))return c}else{if(s>0||!(e>=s))return-c;c=-c,e=-e,s=-s}for(;;){if((a-=(g=Math.floor(s/e))*i)<0)return-c;if(a>i)return c;if(e>(s-=g*e)+s){if(i<a+a)return c}else{if(i>a+a)return-c;s=e-s,a=i-a,c=-c}if(a===0)return s===0?0:-c;if(s===0||(i-=(g=Math.floor(e/s))*a)<0)return c;if(i>a)return-c;if(s>(e-=g*s)+e){if(a<i+i)return-c}else{if(a>i+i)return c;e=s-e,i=a-i,c=-c}if(i===0)return e===0?0:c;if(e===0)return-c}};var As=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var e=arguments[0];this._p=e};As.prototype.countSegment=function(e,i){if(e.x<this._p.x&&i.x<this._p.x)return null;if(this._p.x===i.x&&this._p.y===i.y)return this._isPointOnSegment=!0,null;if(e.y===this._p.y&&i.y===this._p.y){var s=e.x,a=i.x;return s>a&&(s=i.x,a=e.x),this._p.x>=s&&this._p.x<=a&&(this._isPointOnSegment=!0),null}if(e.y>this._p.y&&i.y<=this._p.y||i.y>this._p.y&&e.y<=this._p.y){var c=e.x-this._p.x,h=e.y-this._p.y,g=i.x-this._p.x,y=i.y-this._p.y,w=Yu.signOfDet2x2(c,h,g,y);if(w===0)return this._isPointOnSegment=!0,null;y<h&&(w=-w),w>0&&this._crossingCount++}},As.prototype.isPointInPolygon=function(){return this.getLocation()!==Ot.EXTERIOR},As.prototype.getLocation=function(){return this._isPointOnSegment?Ot.BOUNDARY:this._crossingCount%2==1?Ot.INTERIOR:Ot.EXTERIOR},As.prototype.isOnSegment=function(){return this._isPointOnSegment},As.prototype.interfaces_=function(){return[]},As.prototype.getClass=function(){return As},As.locatePointInRing=function(){if(arguments[0]instanceof Ct&&je(arguments[1],vr)){for(var e=arguments[0],i=arguments[1],s=new As(e),a=new Ct,c=new Ct,h=1;h<i.size();h++)if(i.getCoordinate(h,a),i.getCoordinate(h-1,c),s.countSegment(a,c),s.isOnSegment())return s.getLocation();return s.getLocation()}if(arguments[0]instanceof Ct&&arguments[1]instanceof Array){for(var g=arguments[0],y=arguments[1],w=new As(g),x=1;x<y.length;x++){var T=y[x],E=y[x-1];if(w.countSegment(T,E),w.isOnSegment())return w.getLocation()}return w.getLocation()}};var he=function(){},Xu={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};he.prototype.interfaces_=function(){return[]},he.prototype.getClass=function(){return he},he.orientationIndex=function(e,i,s){return Yn.orientationIndex(e,i,s)},he.signedArea=function(){if(arguments[0]instanceof Array){var e=arguments[0];if(e.length<3)return 0;for(var i=0,s=e[0].x,a=1;a<e.length-1;a++){var c=e[a].x-s,h=e[a+1].y,g=e[a-1].y;i+=c*(g-h)}return i/2}if(je(arguments[0],vr)){var y=arguments[0],w=y.size();if(w<3)return 0;var x=new Ct,T=new Ct,E=new Ct;y.getCoordinate(0,T),y.getCoordinate(1,E);var P=T.x;E.x-=P;for(var z=0,N=1;N<w-1;N++)x.y=T.y,T.x=E.x,T.y=E.y,y.getCoordinate(N+1,E),E.x-=P,z+=T.x*(x.y-E.y);return z/2}},he.distanceLineLine=function(e,i,s,a){if(e.equals(i))return he.distancePointLine(e,s,a);if(s.equals(a))return he.distancePointLine(a,e,i);var c=!1;if(Le.intersects(e,i,s,a)){var h=(i.x-e.x)*(a.y-s.y)-(i.y-e.y)*(a.x-s.x);if(h===0)c=!0;else{var g=(e.y-s.y)*(a.x-s.x)-(e.x-s.x)*(a.y-s.y),y=((e.y-s.y)*(i.x-e.x)-(e.x-s.x)*(i.y-e.y))/h,w=g/h;(w<0||w>1||y<0||y>1)&&(c=!0)}}else c=!0;return c?xo.min(he.distancePointLine(e,s,a),he.distancePointLine(i,s,a),he.distancePointLine(s,e,i),he.distancePointLine(a,e,i)):0},he.isPointInRing=function(e,i){return he.locatePointInRing(e,i)!==Ot.EXTERIOR},he.computeLength=function(e){var i=e.size();if(i<=1)return 0;var s=0,a=new Ct;e.getCoordinate(0,a);for(var c=a.x,h=a.y,g=1;g<i;g++){e.getCoordinate(g,a);var y=a.x,w=a.y,x=y-c,T=w-h;s+=Math.sqrt(x*x+T*T),c=y,h=w}return s},he.isCCW=function(e){var i=e.length-1;if(i<3)throw new xi("Ring has fewer than 4 points, so orientation cannot be determined");for(var s=e[0],a=0,c=1;c<=i;c++){var h=e[c];h.y>s.y&&(s=h,a=c)}var g=a;do(g-=1)<0&&(g=i);while(e[g].equals2D(s)&&g!==a);var y=a;do y=(y+1)%i;while(e[y].equals2D(s)&&y!==a);var w=e[g],x=e[y];if(w.equals2D(s)||x.equals2D(s)||w.equals2D(x))return!1;var T=he.computeOrientation(w,s,x),E=!1;return E=T===0?w.x>x.x:T>0,E},he.locatePointInRing=function(e,i){return As.locatePointInRing(e,i)},he.distancePointLinePerpendicular=function(e,i,s){var a=(s.x-i.x)*(s.x-i.x)+(s.y-i.y)*(s.y-i.y),c=((i.y-e.y)*(s.x-i.x)-(i.x-e.x)*(s.y-i.y))/a;return Math.abs(c)*Math.sqrt(a)},he.computeOrientation=function(e,i,s){return he.orientationIndex(e,i,s)},he.distancePointLine=function(){if(arguments.length===2){var e=arguments[0],i=arguments[1];if(i.length===0)throw new xi("Line array must contain at least one vertex");for(var s=e.distance(i[0]),a=0;a<i.length-1;a++){var c=he.distancePointLine(e,i[a],i[a+1]);c<s&&(s=c)}return s}if(arguments.length===3){var h=arguments[0],g=arguments[1],y=arguments[2];if(g.x===y.x&&g.y===y.y)return h.distance(g);var w=(y.x-g.x)*(y.x-g.x)+(y.y-g.y)*(y.y-g.y),x=((h.x-g.x)*(y.x-g.x)+(h.y-g.y)*(y.y-g.y))/w;if(x<=0)return h.distance(g);if(x>=1)return h.distance(y);var T=((g.y-h.y)*(y.x-g.x)-(g.x-h.x)*(y.y-g.y))/w;return Math.abs(T)*Math.sqrt(w)}},he.isOnLine=function(e,i){for(var s=new Nc,a=1;a<i.length;a++){var c=i[a-1],h=i[a];if(s.computeIntersection(e,c,h),s.hasIntersection())return!0}return!1},Xu.CLOCKWISE.get=function(){return-1},Xu.RIGHT.get=function(){return he.CLOCKWISE},Xu.COUNTERCLOCKWISE.get=function(){return 1},Xu.LEFT.get=function(){return he.COUNTERCLOCKWISE},Xu.COLLINEAR.get=function(){return 0},Xu.STRAIGHT.get=function(){return he.COLLINEAR},Object.defineProperties(he,Xu);var Wa=function(){};Wa.prototype.filter=function(e){},Wa.prototype.interfaces_=function(){return[]},Wa.prototype.getClass=function(){return Wa};var Fe=function(){var e=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=e,this._SRID=e.getSRID()},da={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};Fe.prototype.isGeometryCollection=function(){return this.getSortIndex()===Fe.SORTINDEX_GEOMETRYCOLLECTION},Fe.prototype.getFactory=function(){return this._factory},Fe.prototype.getGeometryN=function(e){return this},Fe.prototype.getArea=function(){return 0},Fe.prototype.isRectangle=function(){return!1},Fe.prototype.equals=function(){if(arguments[0]instanceof Fe){var e=arguments[0];return e!==null&&this.equalsTopo(e)}if(arguments[0]instanceof Object){var i=arguments[0];if(!(i instanceof Fe))return!1;var s=i;return this.equalsExact(s)}},Fe.prototype.equalsExact=function(e){return this===e||this.equalsExact(e,0)},Fe.prototype.geometryChanged=function(){this.apply(Fe.geometryChangedFilter)},Fe.prototype.geometryChangedAction=function(){this._envelope=null},Fe.prototype.equalsNorm=function(e){return e!==null&&this.norm().equalsExact(e.norm())},Fe.prototype.getLength=function(){return 0},Fe.prototype.getNumGeometries=function(){return 1},Fe.prototype.compareTo=function(){if(arguments.length===1){var e=arguments[0],i=e;return this.getSortIndex()!==i.getSortIndex()?this.getSortIndex()-i.getSortIndex():this.isEmpty()&&i.isEmpty()?0:this.isEmpty()?-1:i.isEmpty()?1:this.compareToSameClass(e)}if(arguments.length===2){var s=arguments[0],a=arguments[1];return this.getSortIndex()!==s.getSortIndex()?this.getSortIndex()-s.getSortIndex():this.isEmpty()&&s.isEmpty()?0:this.isEmpty()?-1:s.isEmpty()?1:this.compareToSameClass(s,a)}},Fe.prototype.getUserData=function(){return this._userData},Fe.prototype.getSRID=function(){return this._SRID},Fe.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},Fe.prototype.checkNotGeometryCollection=function(e){if(e.getSortIndex()===Fe.SORTINDEX_GEOMETRYCOLLECTION)throw new xi("This method does not support GeometryCollection arguments")},Fe.prototype.equal=function(e,i,s){return s===0?e.equals(i):e.distance(i)<=s},Fe.prototype.norm=function(){var e=this.copy();return e.normalize(),e},Fe.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},Fe.prototype.getEnvelopeInternal=function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new Le(this._envelope)},Fe.prototype.setSRID=function(e){this._SRID=e},Fe.prototype.setUserData=function(e){this._userData=e},Fe.prototype.compare=function(e,i){for(var s=e.iterator(),a=i.iterator();s.hasNext()&&a.hasNext();){var c=s.next(),h=a.next(),g=c.compareTo(h);if(g!==0)return g}return s.hasNext()?1:a.hasNext()?-1:0},Fe.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},Fe.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===Fe.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===Fe.SORTINDEX_MULTIPOINT||this.getSortIndex()===Fe.SORTINDEX_MULTILINESTRING||this.getSortIndex()===Fe.SORTINDEX_MULTIPOLYGON},Fe.prototype.interfaces_=function(){return[n0,No,Do]},Fe.prototype.getClass=function(){return Fe},Fe.hasNonEmptyElements=function(e){for(var i=0;i<e.length;i++)if(!e[i].isEmpty())return!0;return!1},Fe.hasNullElements=function(e){for(var i=0;i<e.length;i++)if(e[i]===null)return!0;return!1},da.serialVersionUID.get=function(){return 8763622679187377e3},da.SORTINDEX_POINT.get=function(){return 0},da.SORTINDEX_MULTIPOINT.get=function(){return 1},da.SORTINDEX_LINESTRING.get=function(){return 2},da.SORTINDEX_LINEARRING.get=function(){return 3},da.SORTINDEX_MULTILINESTRING.get=function(){return 4},da.SORTINDEX_POLYGON.get=function(){return 5},da.SORTINDEX_MULTIPOLYGON.get=function(){return 6},da.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},da.geometryChangedFilter.get=function(){return Fb},Object.defineProperties(Fe,da);var Fb=function(){};Fb.interfaces_=function(){return[Wa]},Fb.filter=function(e){e.geometryChangedAction()};var pa=function(){};pa.prototype.filter=function(e){},pa.prototype.interfaces_=function(){return[]},pa.prototype.getClass=function(){return pa};var Fo=function(){},Za={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};Fo.prototype.isInBoundary=function(e){},Fo.prototype.interfaces_=function(){return[]},Fo.prototype.getClass=function(){return Fo},Za.Mod2BoundaryNodeRule.get=function(){return vd},Za.EndPointBoundaryNodeRule.get=function(){return yd},Za.MultiValentEndPointBoundaryNodeRule.get=function(){return bd},Za.MonoValentEndPointBoundaryNodeRule.get=function(){return wd},Za.MOD2_BOUNDARY_RULE.get=function(){return new vd},Za.ENDPOINT_BOUNDARY_RULE.get=function(){return new yd},Za.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new bd},Za.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new wd},Za.OGC_SFS_BOUNDARY_RULE.get=function(){return Fo.MOD2_BOUNDARY_RULE},Object.defineProperties(Fo,Za);var vd=function(){};vd.prototype.isInBoundary=function(e){return e%2==1},vd.prototype.interfaces_=function(){return[Fo]},vd.prototype.getClass=function(){return vd};var yd=function(){};yd.prototype.isInBoundary=function(e){return e>0},yd.prototype.interfaces_=function(){return[Fo]},yd.prototype.getClass=function(){return yd};var bd=function(){};bd.prototype.isInBoundary=function(e){return e>1},bd.prototype.interfaces_=function(){return[Fo]},bd.prototype.getClass=function(){return bd};var wd=function(){};wd.prototype.isInBoundary=function(e){return e===1},wd.prototype.interfaces_=function(){return[Fo]},wd.prototype.getClass=function(){return wd};var Ui=function(){};function Bb(e){this.message=e||""}Ui.prototype.add=function(){},Ui.prototype.addAll=function(){},Ui.prototype.isEmpty=function(){},Ui.prototype.iterator=function(){},Ui.prototype.size=function(){},Ui.prototype.toArray=function(){},Ui.prototype.remove=function(){},Bb.prototype=new Error,Bb.prototype.name="IndexOutOfBoundsException";var xd=function(){};xd.prototype.hasNext=function(){},xd.prototype.next=function(){},xd.prototype.remove=function(){};var ls=function(e){function i(){e.apply(this,arguments)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.get=function(){},i.prototype.set=function(){},i.prototype.isEmpty=function(){},i}(Ui);function _d(e){this.message=e||""}_d.prototype=new Error,_d.prototype.name="NoSuchElementException";var ae=function(e){function i(){e.call(this),this.array_=[],arguments[0]instanceof Ui&&this.addAll(arguments[0])}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.ensureCapacity=function(){},i.prototype.interfaces_=function(){return[e,Ui]},i.prototype.add=function(s){return arguments.length===1?this.array_.push(s):this.array_.splice(arguments[0],arguments[1]),!0},i.prototype.clear=function(){this.array_=[]},i.prototype.addAll=function(s){for(var a=s.iterator();a.hasNext();)this.add(a.next());return!0},i.prototype.set=function(s,a){var c=this.array_[s];return this.array_[s]=a,c},i.prototype.iterator=function(){return new LI(this)},i.prototype.get=function(s){if(s<0||s>=this.size())throw new Bb;return this.array_[s]},i.prototype.isEmpty=function(){return this.array_.length===0},i.prototype.size=function(){return this.array_.length},i.prototype.toArray=function(){for(var s=[],a=0,c=this.array_.length;a<c;a++)s.push(this.array_[a]);return s},i.prototype.remove=function(s){for(var a=!1,c=0,h=this.array_.length;c<h;c++)if(this.array_[c]===s){this.array_.splice(c,1),a=!0;break}return a},i}(ls),LI=function(e){function i(s){e.call(this),this.arrayList_=s,this.position_=0}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new _d;return this.arrayList_.get(this.position_++)},i.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},i.prototype.set=function(s){return this.arrayList_.set(this.position_-1,s)},i.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},i}(xd),_f=function(e){function i(){if(e.call(this),arguments.length!==0){if(arguments.length===1){var a=arguments[0];this.ensureCapacity(a.length),this.add(a,!0)}else if(arguments.length===2){var c=arguments[0],h=arguments[1];this.ensureCapacity(c.length),this.add(c,h)}}}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={coordArrayType:{configurable:!0}};return s.coordArrayType.get=function(){return new Array(0).fill(null)},i.prototype.getCoordinate=function(a){return this.get(a)},i.prototype.addAll=function(){var a=this;if(arguments.length===2){for(var c=arguments[0],h=arguments[1],g=!1,y=c.iterator();y.hasNext();)a.add(y.next(),h),g=!0;return g}return e.prototype.addAll.apply(this,arguments)},i.prototype.clone=function(){for(var a=e.prototype.clone.call(this),c=0;c<this.size();c++)a.add(c,this.get(c).copy());return a},i.prototype.toCoordinateArray=function(){return this.toArray(i.coordArrayType)},i.prototype.add=function(){var a=this;if(arguments.length===1){var c=arguments[0];e.prototype.add.call(this,c)}else if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var h=arguments[0],g=arguments[1];return this.add(h,g,!0),!0}if(arguments[0]instanceof Ct&&typeof arguments[1]=="boolean"){var y=arguments[0],w=arguments[1];if(!w&&this.size()>=1){var x=this.get(this.size()-1);if(x.equals2D(y))return null}e.prototype.add.call(this,y)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var T=arguments[0],E=arguments[1];return this.add(T,E),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var P=arguments[0],z=arguments[1],N=arguments[2];if(N)for(var B=0;B<P.length;B++)a.add(P[B],z);else for(var R=P.length-1;R>=0;R--)a.add(P[R],z);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof Ct){var X=arguments[0],it=arguments[1],D=arguments[2];if(!D){var Y=this.size();if(Y>0){if(X>0){var K=this.get(X-1);if(K.equals2D(it))return null}if(X<Y){var tt=this.get(X);if(tt.equals2D(it))return null}}}e.prototype.add.call(this,X,it)}}else if(arguments.length===4){var Q=arguments[0],At=arguments[1],Et=arguments[2],Dt=arguments[3],Tt=1;Et>Dt&&(Tt=-1);for(var jt=Et;jt!==Dt;jt+=Tt)a.add(Q[jt],At);return!0}},i.prototype.closeRing=function(){this.size()>0&&this.add(new Ct(this.get(0)),!1)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},Object.defineProperties(i,s),i}(ae),ar=function(){},a0={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};a0.ForwardComparator.get=function(){return kf},a0.BidirectionalComparator.get=function(){return kd},a0.coordArrayType.get=function(){return new Array(0).fill(null)},ar.prototype.interfaces_=function(){return[]},ar.prototype.getClass=function(){return ar},ar.isRing=function(e){return!(e.length<4)&&!!e[0].equals2D(e[e.length-1])},ar.ptNotInList=function(e,i){for(var s=0;s<e.length;s++){var a=e[s];if(ar.indexOf(a,i)<0)return a}return null},ar.scroll=function(e,i){var s=ar.indexOf(i,e);if(s<0)return null;var a=new Array(e.length).fill(null);pn.arraycopy(e,s,a,0,e.length-s),pn.arraycopy(e,0,a,e.length-s,s),pn.arraycopy(a,0,e,0,e.length)},ar.equals=function(){if(arguments.length===2){var e=arguments[0],i=arguments[1];if(e===i)return!0;if(e===null||i===null||e.length!==i.length)return!1;for(var s=0;s<e.length;s++)if(!e[s].equals(i[s]))return!1;return!0}if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2];if(a===c)return!0;if(a===null||c===null||a.length!==c.length)return!1;for(var g=0;g<a.length;g++)if(h.compare(a[g],c[g])!==0)return!1;return!0}},ar.intersection=function(e,i){for(var s=new _f,a=0;a<e.length;a++)i.intersects(e[a])&&s.add(e[a],!0);return s.toCoordinateArray()},ar.hasRepeatedPoints=function(e){for(var i=1;i<e.length;i++)if(e[i-1].equals(e[i]))return!0;return!1},ar.removeRepeatedPoints=function(e){return ar.hasRepeatedPoints(e)?new _f(e,!1).toCoordinateArray():e},ar.reverse=function(e){for(var i=e.length-1,s=Math.trunc(i/2),a=0;a<=s;a++){var c=e[a];e[a]=e[i-a],e[i-a]=c}},ar.removeNull=function(e){for(var i=0,s=0;s<e.length;s++)e[s]!==null&&i++;var a=new Array(i).fill(null);if(i===0)return a;for(var c=0,h=0;h<e.length;h++)e[h]!==null&&(a[c++]=e[h]);return a},ar.copyDeep=function(){if(arguments.length===1){for(var e=arguments[0],i=new Array(e.length).fill(null),s=0;s<e.length;s++)i[s]=new Ct(e[s]);return i}if(arguments.length===5)for(var a=arguments[0],c=arguments[1],h=arguments[2],g=arguments[3],y=arguments[4],w=0;w<y;w++)h[g+w]=new Ct(a[c+w])},ar.isEqualReversed=function(e,i){for(var s=0;s<e.length;s++){var a=e[s],c=i[e.length-s-1];if(a.compareTo(c)!==0)return!1}return!0},ar.envelope=function(e){for(var i=new Le,s=0;s<e.length;s++)i.expandToInclude(e[s]);return i},ar.toCoordinateArray=function(e){return e.toArray(ar.coordArrayType)},ar.atLeastNCoordinatesOrNothing=function(e,i){return i.length>=e?i:[]},ar.indexOf=function(e,i){for(var s=0;s<i.length;s++)if(e.equals(i[s]))return s;return-1},ar.increasingDirection=function(e){for(var i=0;i<Math.trunc(e.length/2);i++){var s=e.length-1-i,a=e[i].compareTo(e[s]);if(a!==0)return a}return 1},ar.compare=function(e,i){for(var s=0;s<e.length&&s<i.length;){var a=e[s].compareTo(i[s]);if(a!==0)return a;s++}return s<i.length?-1:s<e.length?1:0},ar.minCoordinate=function(e){for(var i=null,s=0;s<e.length;s++)(i===null||i.compareTo(e[s])>0)&&(i=e[s]);return i},ar.extract=function(e,i,s){i=xo.clamp(i,0,e.length);var a=(s=xo.clamp(s,-1,e.length))-i+1;s<0&&(a=0),i>=e.length&&(a=0),s<i&&(a=0);var c=new Array(a).fill(null);if(a===0)return c;for(var h=0,g=i;g<=s;g++)c[h++]=e[g];return c},Object.defineProperties(ar,a0);var kf=function(){};kf.prototype.compare=function(e,i){return ar.compare(e,i)},kf.prototype.interfaces_=function(){return[pd]},kf.prototype.getClass=function(){return kf};var kd=function(){};kd.prototype.compare=function(e,i){var s=e,a=i;if(s.length<a.length)return-1;if(s.length>a.length)return 1;if(s.length===0)return 0;var c=ar.compare(s,a);return ar.isEqualReversed(s,a)?0:c},kd.prototype.OLDcompare=function(e,i){var s=e,a=i;if(s.length<a.length)return-1;if(s.length>a.length)return 1;if(s.length===0)return 0;for(var c=ar.increasingDirection(s),h=ar.increasingDirection(a),g=c>0?0:s.length-1,y=h>0?0:s.length-1,w=0;w<s.length;w++){var x=s[g].compareTo(a[y]);if(x!==0)return x;g+=c,y+=h}return 0},kd.prototype.interfaces_=function(){return[pd]},kd.prototype.getClass=function(){return kd};var Ku=function(){};Ku.prototype.get=function(){},Ku.prototype.put=function(){},Ku.prototype.size=function(){},Ku.prototype.values=function(){},Ku.prototype.entrySet=function(){};var RI=function(e){function i(){e.apply(this,arguments)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i}(Ku);function Ef(e){this.message=e||""}function l0(){}Ef.prototype=new Error,Ef.prototype.name="OperationNotSupported",l0.prototype=new Ui,l0.prototype.contains=function(){};var jb=function(e){function i(){e.call(this),this.array_=[],arguments[0]instanceof Ui&&this.addAll(arguments[0])}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.contains=function(s){for(var a=0,c=this.array_.length;a<c;a++)if(this.array_[a]===s)return!0;return!1},i.prototype.add=function(s){return!this.contains(s)&&(this.array_.push(s),!0)},i.prototype.addAll=function(s){for(var a=s.iterator();a.hasNext();)this.add(a.next());return!0},i.prototype.remove=function(s){throw new Error},i.prototype.size=function(){return this.array_.length},i.prototype.isEmpty=function(){return this.array_.length===0},i.prototype.toArray=function(){for(var s=[],a=0,c=this.array_.length;a<c;a++)s.push(this.array_[a]);return s},i.prototype.iterator=function(){return new AI(this)},i}(l0),AI=function(e){function i(s){e.call(this),this.hashSet_=s,this.position_=0}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new _d;return this.hashSet_.array_[this.position_++]},i.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},i.prototype.remove=function(){throw new Ef},i}(xd);function Ek(e){return e===null?0:e.color}function hi(e){return e===null?null:e.parent}function Ya(e,i){e!==null&&(e.color=i)}function Hb(e){return e===null?null:e.left}function Tk(e){return e===null?null:e.right}function En(){this.root_=null,this.size_=0}En.prototype=new RI,En.prototype.get=function(e){for(var i=this.root_;i!==null;){var s=e.compareTo(i.key);if(s<0)i=i.left;else{if(!(s>0))return i.value;i=i.right}}return null},En.prototype.put=function(e,i){if(this.root_===null)return this.root_={key:e,value:i,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var s,a,c=this.root_;do if(s=c,(a=e.compareTo(c.key))<0)c=c.left;else{if(!(a>0)){var h=c.value;return c.value=i,h}c=c.right}while(c!==null);var g={key:e,left:null,right:null,value:i,parent:s,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return a<0?s.left=g:s.right=g,this.fixAfterInsertion(g),this.size_++,null},En.prototype.fixAfterInsertion=function(e){var i=this;for(e.color=1;e!=null&&e!==this.root_&&e.parent.color===1;)if(hi(e)===Hb(hi(hi(e)))){var s=Tk(hi(hi(e)));Ek(s)===1?(Ya(hi(e),0),Ya(s,0),Ya(hi(hi(e)),1),e=hi(hi(e))):(e===Tk(hi(e))&&(e=hi(e),i.rotateLeft(e)),Ya(hi(e),0),Ya(hi(hi(e)),1),i.rotateRight(hi(hi(e))))}else{var a=Hb(hi(hi(e)));Ek(a)===1?(Ya(hi(e),0),Ya(a,0),Ya(hi(hi(e)),1),e=hi(hi(e))):(e===Hb(hi(e))&&(e=hi(e),i.rotateRight(e)),Ya(hi(e),0),Ya(hi(hi(e)),1),i.rotateLeft(hi(hi(e))))}this.root_.color=0},En.prototype.values=function(){var e=new ae,i=this.getFirstEntry();if(i!==null)for(e.add(i.value);(i=En.successor(i))!==null;)e.add(i.value);return e},En.prototype.entrySet=function(){var e=new jb,i=this.getFirstEntry();if(i!==null)for(e.add(i);(i=En.successor(i))!==null;)e.add(i);return e},En.prototype.rotateLeft=function(e){if(e!=null){var i=e.right;e.right=i.left,i.left!=null&&(i.left.parent=e),i.parent=e.parent,e.parent===null?this.root_=i:e.parent.left===e?e.parent.left=i:e.parent.right=i,i.left=e,e.parent=i}},En.prototype.rotateRight=function(e){if(e!=null){var i=e.left;e.left=i.right,i.right!=null&&(i.right.parent=e),i.parent=e.parent,e.parent===null?this.root_=i:e.parent.right===e?e.parent.right=i:e.parent.left=i,i.right=e,e.parent=i}},En.prototype.getFirstEntry=function(){var e=this.root_;if(e!=null)for(;e.left!=null;)e=e.left;return e},En.successor=function(e){if(e===null)return null;if(e.right!==null){for(var i=e.right;i.left!==null;)i=i.left;return i}for(var s=e.parent,a=e;s!==null&&a===s.right;)a=s,s=s.parent;return s},En.prototype.size=function(){return this.size_};var Tf=function(){};function Sk(){}function Os(){this.array_=[],arguments[0]instanceof Ui&&this.addAll(arguments[0])}Tf.prototype.interfaces_=function(){return[]},Tf.prototype.getClass=function(){return Tf},Sk.prototype=new l0,Os.prototype=new Sk,Os.prototype.contains=function(e){for(var i=0,s=this.array_.length;i<s;i++)if(this.array_[i].compareTo(e)===0)return!0;return!1},Os.prototype.add=function(e){if(this.contains(e))return!1;for(var i=0,s=this.array_.length;i<s;i++)if(this.array_[i].compareTo(e)===1)return this.array_.splice(i,0,e),!0;return this.array_.push(e),!0},Os.prototype.addAll=function(e){for(var i=e.iterator();i.hasNext();)this.add(i.next());return!0},Os.prototype.remove=function(e){throw new Ef},Os.prototype.size=function(){return this.array_.length},Os.prototype.isEmpty=function(){return this.array_.length===0},Os.prototype.toArray=function(){for(var e=[],i=0,s=this.array_.length;i<s;i++)e.push(this.array_[i]);return e},Os.prototype.iterator=function(){return new c0(this)};var c0=function(e){this.treeSet_=e,this.position_=0};c0.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new _d;return this.treeSet_.array_[this.position_++]},c0.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},c0.prototype.remove=function(){throw new Ef};var Dc=function(){};Dc.sort=function(){var e,i,s,a,c=arguments[0];if(arguments.length===1)a=function(g,y){return g.compareTo(y)},c.sort(a);else if(arguments.length===2)s=arguments[1],a=function(g,y){return s.compare(g,y)},c.sort(a);else if(arguments.length===3){(i=c.slice(arguments[1],arguments[2])).sort();var h=c.slice(0,arguments[1]).concat(i,c.slice(arguments[2],c.length));for(c.splice(0,c.length),e=0;e<h.length;e++)c.push(h[e])}else if(arguments.length===4)for(i=c.slice(arguments[1],arguments[2]),s=arguments[3],a=function(g,y){return s.compare(g,y)},i.sort(a),h=c.slice(0,arguments[1]).concat(i,c.slice(arguments[2],c.length)),c.splice(0,c.length),e=0;e<h.length;e++)c.push(h[e])},Dc.asList=function(e){for(var i=new ae,s=0,a=e.length;s<a;s++)i.add(e[s]);return i};var Yr=function(){},cs={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};cs.P.get=function(){return 0},cs.L.get=function(){return 1},cs.A.get=function(){return 2},cs.FALSE.get=function(){return-1},cs.TRUE.get=function(){return-2},cs.DONTCARE.get=function(){return-3},cs.SYM_FALSE.get=function(){return"F"},cs.SYM_TRUE.get=function(){return"T"},cs.SYM_DONTCARE.get=function(){return"*"},cs.SYM_P.get=function(){return"0"},cs.SYM_L.get=function(){return"1"},cs.SYM_A.get=function(){return"2"},Yr.prototype.interfaces_=function(){return[]},Yr.prototype.getClass=function(){return Yr},Yr.toDimensionSymbol=function(e){switch(e){case Yr.FALSE:return Yr.SYM_FALSE;case Yr.TRUE:return Yr.SYM_TRUE;case Yr.DONTCARE:return Yr.SYM_DONTCARE;case Yr.P:return Yr.SYM_P;case Yr.L:return Yr.SYM_L;case Yr.A:return Yr.SYM_A}throw new xi("Unknown dimension value: "+e)},Yr.toDimensionValue=function(e){switch(wf.toUpperCase(e)){case Yr.SYM_FALSE:return Yr.FALSE;case Yr.SYM_TRUE:return Yr.TRUE;case Yr.SYM_DONTCARE:return Yr.DONTCARE;case Yr.SYM_P:return Yr.P;case Yr.SYM_L:return Yr.L;case Yr.SYM_A:return Yr.A}throw new xi("Unknown dimension symbol: "+e)},Object.defineProperties(Yr,cs);var zs=function(){};zs.prototype.filter=function(e){},zs.prototype.interfaces_=function(){return[]},zs.prototype.getClass=function(){return zs};var us=function(){};us.prototype.filter=function(e,i){},us.prototype.isDone=function(){},us.prototype.isGeometryChanged=function(){},us.prototype.interfaces_=function(){return[]},us.prototype.getClass=function(){return us};var On=function(e){function i(a,c){if(e.call(this,c),this._geometries=a||[],e.hasNullElements(this._geometries))throw new xi("geometries must not contain null elements")}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={serialVersionUID:{configurable:!0}};return i.prototype.computeEnvelopeInternal=function(){for(var a=new Le,c=0;c<this._geometries.length;c++)a.expandToInclude(this._geometries[c].getEnvelopeInternal());return a},i.prototype.getGeometryN=function(a){return this._geometries[a]},i.prototype.getSortIndex=function(){return e.SORTINDEX_GEOMETRYCOLLECTION},i.prototype.getCoordinates=function(){for(var a=new Array(this.getNumPoints()).fill(null),c=-1,h=0;h<this._geometries.length;h++)for(var g=this._geometries[h].getCoordinates(),y=0;y<g.length;y++)a[++c]=g[y];return a},i.prototype.getArea=function(){for(var a=0,c=0;c<this._geometries.length;c++)a+=this._geometries[c].getArea();return a},i.prototype.equalsExact=function(){var a=this;if(arguments.length===2){var c=arguments[0],h=arguments[1];if(!this.isEquivalentClass(c))return!1;var g=c;if(this._geometries.length!==g._geometries.length)return!1;for(var y=0;y<this._geometries.length;y++)if(!a._geometries[y].equalsExact(g._geometries[y],h))return!1;return!0}return e.prototype.equalsExact.apply(this,arguments)},i.prototype.normalize=function(){for(var a=0;a<this._geometries.length;a++)this._geometries[a].normalize();Dc.sort(this._geometries)},i.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},i.prototype.getBoundaryDimension=function(){for(var a=Yr.FALSE,c=0;c<this._geometries.length;c++)a=Math.max(a,this._geometries[c].getBoundaryDimension());return a},i.prototype.getDimension=function(){for(var a=Yr.FALSE,c=0;c<this._geometries.length;c++)a=Math.max(a,this._geometries[c].getDimension());return a},i.prototype.getLength=function(){for(var a=0,c=0;c<this._geometries.length;c++)a+=this._geometries[c].getLength();return a},i.prototype.getNumPoints=function(){for(var a=0,c=0;c<this._geometries.length;c++)a+=this._geometries[c].getNumPoints();return a},i.prototype.getNumGeometries=function(){return this._geometries.length},i.prototype.reverse=function(){for(var a=this._geometries.length,c=new Array(a).fill(null),h=0;h<this._geometries.length;h++)c[h]=this._geometries[h].reverse();return this.getFactory().createGeometryCollection(c)},i.prototype.compareToSameClass=function(){var a=this;if(arguments.length===1){var c=arguments[0],h=new Os(Dc.asList(this._geometries)),g=new Os(Dc.asList(c._geometries));return this.compare(h,g)}if(arguments.length===2){for(var y=arguments[0],w=arguments[1],x=y,T=this.getNumGeometries(),E=x.getNumGeometries(),P=0;P<T&&P<E;){var z=a.getGeometryN(P),N=x.getGeometryN(P),B=z.compareToSameClass(N,w);if(B!==0)return B;P++}return P<T?1:P<E?-1:0}},i.prototype.apply=function(){var a=this;if(je(arguments[0],pa))for(var c=arguments[0],h=0;h<this._geometries.length;h++)a._geometries[h].apply(c);else if(je(arguments[0],us)){var g=arguments[0];if(this._geometries.length===0)return null;for(var y=0;y<this._geometries.length&&(a._geometries[y].apply(g),!g.isDone());y++);g.isGeometryChanged()&&this.geometryChanged()}else if(je(arguments[0],zs)){var w=arguments[0];w.filter(this);for(var x=0;x<this._geometries.length;x++)a._geometries[x].apply(w)}else if(je(arguments[0],Wa)){var T=arguments[0];T.filter(this);for(var E=0;E<this._geometries.length;E++)a._geometries[E].apply(T)}},i.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),Je.shouldNeverReachHere(),null},i.prototype.clone=function(){var a=e.prototype.clone.call(this);a._geometries=new Array(this._geometries.length).fill(null);for(var c=0;c<this._geometries.length;c++)a._geometries[c]=this._geometries[c].clone();return a},i.prototype.getGeometryType=function(){return"GeometryCollection"},i.prototype.copy=function(){for(var a=new Array(this._geometries.length).fill(null),c=0;c<a.length;c++)a[c]=this._geometries[c].copy();return new i(a,this._factory)},i.prototype.isEmpty=function(){for(var a=0;a<this._geometries.length;a++)if(!this._geometries[a].isEmpty())return!1;return!0},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},s.serialVersionUID.get=function(){return-5694727726395021e3},Object.defineProperties(i,s),i}(Fe),Fc=function(e){function i(){e.apply(this,arguments)}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={serialVersionUID:{configurable:!0}};return i.prototype.getSortIndex=function(){return Fe.SORTINDEX_MULTILINESTRING},i.prototype.equalsExact=function(){if(arguments.length===2){var a=arguments[0],c=arguments[1];return!!this.isEquivalentClass(a)&&e.prototype.equalsExact.call(this,a,c)}return e.prototype.equalsExact.apply(this,arguments)},i.prototype.getBoundaryDimension=function(){return this.isClosed()?Yr.FALSE:0},i.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var a=0;a<this._geometries.length;a++)if(!this._geometries[a].isClosed())return!1;return!0},i.prototype.getDimension=function(){return 1},i.prototype.reverse=function(){for(var a=this._geometries.length,c=new Array(a).fill(null),h=0;h<this._geometries.length;h++)c[a-1-h]=this._geometries[h].reverse();return this.getFactory().createMultiLineString(c)},i.prototype.getBoundary=function(){return new Bo(this).getBoundary()},i.prototype.getGeometryType=function(){return"MultiLineString"},i.prototype.copy=function(){for(var a=new Array(this._geometries.length).fill(null),c=0;c<a.length;c++)a[c]=this._geometries[c].copy();return new i(a,this._factory)},i.prototype.interfaces_=function(){return[Tf]},i.prototype.getClass=function(){return i},s.serialVersionUID.get=function(){return 8166665132445434e3},Object.defineProperties(i,s),i}(On),Bo=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,arguments.length===1){var e=arguments[0],i=Fo.MOD2_BOUNDARY_RULE;this._geom=e,this._geomFact=e.getFactory(),this._bnRule=i}else if(arguments.length===2){var s=arguments[0],a=arguments[1];this._geom=s,this._geomFact=s.getFactory(),this._bnRule=a}};Bo.prototype.boundaryMultiLineString=function(e){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var i=this.computeBoundaryCoordinates(e);return i.length===1?this._geomFact.createPoint(i[0]):this._geomFact.createMultiPointFromCoords(i)},Bo.prototype.getBoundary=function(){return this._geom instanceof Ci?this.boundaryLineString(this._geom):this._geom instanceof Fc?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Bo.prototype.boundaryLineString=function(e){return this._geom.isEmpty()?this.getEmptyMultiPoint():e.isClosed()?this._bnRule.isInBoundary(2)?e.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([e.getStartPoint(),e.getEndPoint()])},Bo.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Bo.prototype.computeBoundaryCoordinates=function(e){var i=this,s=new ae;this._endpointMap=new En;for(var a=0;a<e.getNumGeometries();a++){var c=e.getGeometryN(a);c.getNumPoints()!==0&&(i.addEndpoint(c.getCoordinateN(0)),i.addEndpoint(c.getCoordinateN(c.getNumPoints()-1)))}for(var h=this._endpointMap.entrySet().iterator();h.hasNext();){var g=h.next(),y=g.getValue().count;i._bnRule.isInBoundary(y)&&s.add(g.getKey())}return ar.toCoordinateArray(s)},Bo.prototype.addEndpoint=function(e){var i=this._endpointMap.get(e);i===null&&(i=new u0,this._endpointMap.put(e,i)),i.count++},Bo.prototype.interfaces_=function(){return[]},Bo.prototype.getClass=function(){return Bo},Bo.getBoundary=function(){if(arguments.length===1){var e=arguments[0],i=new Bo(e);return i.getBoundary()}if(arguments.length===2){var s=arguments[0],a=arguments[1],c=new Bo(s,a);return c.getBoundary()}};var u0=function(){this.count=null};function OI(){}function zI(){}u0.prototype.interfaces_=function(){return[]},u0.prototype.getClass=function(){return u0};var NI=function(){};function DI(){}function FI(){}function BI(){}var jo=function(){},Ub={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};jo.prototype.interfaces_=function(){return[]},jo.prototype.getClass=function(){return jo},jo.chars=function(e,i){for(var s=new Array(i).fill(null),a=0;a<i;a++)s[a]=e;return String(s)},jo.getStackTrace=function(){if(arguments.length===1){var e=arguments[0],i=new DI,s=new OI;return e.printStackTrace(s),i.toString()}if(arguments.length===2){for(var a=arguments[0],c=arguments[1],h="",g=new zI(jo.getStackTrace(a)),y=new BI,w=0;w<c;w++)try{h+=y.readLine()+jo.NEWLINE}catch(x){if(!(x instanceof FI))throw x;Je.shouldNeverReachHere()}return h}},jo.split=function(e,i){for(var s=i.length,a=new ae,c=""+e,h=c.indexOf(i);h>=0;){var g=c.substring(0,h);a.add(g),h=(c=c.substring(h+s)).indexOf(i)}c.length>0&&a.add(c);for(var y=new Array(a.size()).fill(null),w=0;w<y.length;w++)y[w]=a.get(w);return y},jo.toString=function(){if(arguments.length===1){var e=arguments[0];return jo.SIMPLE_ORDINATE_FORMAT.format(e)}},jo.spaces=function(e){return jo.chars(" ",e)},Ub.NEWLINE.get=function(){return pn.getProperty("line.separator")},Ub.SIMPLE_ORDINATE_FORMAT.get=function(){return new NI},Object.defineProperties(jo,Ub);var Mi=function(){};Mi.prototype.interfaces_=function(){return[]},Mi.prototype.getClass=function(){return Mi},Mi.copyCoord=function(e,i,s,a){for(var c=Math.min(e.getDimension(),s.getDimension()),h=0;h<c;h++)s.setOrdinate(a,h,e.getOrdinate(i,h))},Mi.isRing=function(e){var i=e.size();return i===0||!(i<=3)&&e.getOrdinate(0,vr.X)===e.getOrdinate(i-1,vr.X)&&e.getOrdinate(0,vr.Y)===e.getOrdinate(i-1,vr.Y)},Mi.isEqual=function(e,i){var s=e.size();if(s!==i.size())return!1;for(var a=Math.min(e.getDimension(),i.getDimension()),c=0;c<s;c++)for(var h=0;h<a;h++){var g=e.getOrdinate(c,h),y=i.getOrdinate(c,h);if(e.getOrdinate(c,h)!==i.getOrdinate(c,h)&&(!Ze.isNaN(g)||!Ze.isNaN(y)))return!1}return!0},Mi.extend=function(e,i,s){var a=e.create(s,i.getDimension()),c=i.size();if(Mi.copy(i,0,a,0,c),c>0)for(var h=c;h<s;h++)Mi.copy(i,c-1,a,h,1);return a},Mi.reverse=function(e){for(var i=e.size()-1,s=Math.trunc(i/2),a=0;a<=s;a++)Mi.swap(e,a,i-a)},Mi.swap=function(e,i,s){if(i===s)return null;for(var a=0;a<e.getDimension();a++){var c=e.getOrdinate(i,a);e.setOrdinate(i,a,e.getOrdinate(s,a)),e.setOrdinate(s,a,c)}},Mi.copy=function(e,i,s,a,c){for(var h=0;h<c;h++)Mi.copyCoord(e,i+h,s,a+h)},Mi.toString=function(){if(arguments.length===1){var e=arguments[0],i=e.size();if(i===0)return"()";var s=e.getDimension(),a=new Is;a.append("(");for(var c=0;c<i;c++){c>0&&a.append(" ");for(var h=0;h<s;h++)h>0&&a.append(","),a.append(jo.toString(e.getOrdinate(c,h)))}return a.append(")"),a.toString()}},Mi.ensureValidRing=function(e,i){var s=i.size();return s===0?i:s<=3?Mi.createClosedRing(e,i,4):i.getOrdinate(0,vr.X)===i.getOrdinate(s-1,vr.X)&&i.getOrdinate(0,vr.Y)===i.getOrdinate(s-1,vr.Y)?i:Mi.createClosedRing(e,i,s+1)},Mi.createClosedRing=function(e,i,s){var a=e.create(s,i.getDimension()),c=i.size();Mi.copy(i,0,a,0,c);for(var h=c;h<s;h++)Mi.copy(i,0,a,h,1);return a};var Ci=function(e){function i(a,c){e.call(this,c),this._points=null,this.init(a)}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={serialVersionUID:{configurable:!0}};return i.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new Le:this._points.expandEnvelope(new Le)},i.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},i.prototype.getSortIndex=function(){return e.SORTINDEX_LINESTRING},i.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},i.prototype.equalsExact=function(){var a=this;if(arguments.length===2){var c=arguments[0],h=arguments[1];if(!this.isEquivalentClass(c))return!1;var g=c;if(this._points.size()!==g._points.size())return!1;for(var y=0;y<this._points.size();y++)if(!a.equal(a._points.getCoordinate(y),g._points.getCoordinate(y),h))return!1;return!0}return e.prototype.equalsExact.apply(this,arguments)},i.prototype.normalize=function(){for(var a=this,c=0;c<Math.trunc(this._points.size()/2);c++){var h=a._points.size()-1-c;if(!a._points.getCoordinate(c).equals(a._points.getCoordinate(h)))return a._points.getCoordinate(c).compareTo(a._points.getCoordinate(h))>0&&Mi.reverse(a._points),null}},i.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},i.prototype.getBoundaryDimension=function(){return this.isClosed()?Yr.FALSE:0},i.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},i.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},i.prototype.getDimension=function(){return 1},i.prototype.getLength=function(){return he.computeLength(this._points)},i.prototype.getNumPoints=function(){return this._points.size()},i.prototype.reverse=function(){var a=this._points.copy();return Mi.reverse(a),this.getFactory().createLineString(a)},i.prototype.compareToSameClass=function(){var a=this;if(arguments.length===1){for(var c=arguments[0],h=c,g=0,y=0;g<this._points.size()&&y<h._points.size();){var w=a._points.getCoordinate(g).compareTo(h._points.getCoordinate(y));if(w!==0)return w;g++,y++}return g<this._points.size()?1:y<h._points.size()?-1:0}if(arguments.length===2){var x=arguments[0],T=arguments[1],E=x;return T.compare(this._points,E._points)}},i.prototype.apply=function(){var a=this;if(je(arguments[0],pa))for(var c=arguments[0],h=0;h<this._points.size();h++)c.filter(a._points.getCoordinate(h));else if(je(arguments[0],us)){var g=arguments[0];if(this._points.size()===0)return null;for(var y=0;y<this._points.size()&&(g.filter(a._points,y),!g.isDone());y++);g.isGeometryChanged()&&this.geometryChanged()}else if(je(arguments[0],zs)){var w=arguments[0];w.filter(this)}else if(je(arguments[0],Wa)){var x=arguments[0];x.filter(this)}},i.prototype.getBoundary=function(){return new Bo(this).getBoundary()},i.prototype.isEquivalentClass=function(a){return a instanceof i},i.prototype.clone=function(){var a=e.prototype.clone.call(this);return a._points=this._points.clone(),a},i.prototype.getCoordinateN=function(a){return this._points.getCoordinate(a)},i.prototype.getGeometryType=function(){return"LineString"},i.prototype.copy=function(){return new i(this._points.copy(),this._factory)},i.prototype.getCoordinateSequence=function(){return this._points},i.prototype.isEmpty=function(){return this._points.size()===0},i.prototype.init=function(a){if(a===null&&(a=this.getFactory().getCoordinateSequenceFactory().create([])),a.size()===1)throw new xi("Invalid number of points in LineString (found "+a.size()+" - must be 0 or >= 2)");this._points=a},i.prototype.isCoordinate=function(a){for(var c=0;c<this._points.size();c++)if(this._points.getCoordinate(c).equals(a))return!0;return!1},i.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},i.prototype.getPointN=function(a){return this.getFactory().createPoint(this._points.getCoordinate(a))},i.prototype.interfaces_=function(){return[Tf]},i.prototype.getClass=function(){return i},s.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(i,s),i}(Fe),Sf=function(){};Sf.prototype.interfaces_=function(){return[]},Sf.prototype.getClass=function(){return Sf};var io=function(e){function i(a,c){e.call(this,c),this._coordinates=a||null,this.init(this._coordinates)}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={serialVersionUID:{configurable:!0}};return i.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new Le;var a=new Le;return a.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),a},i.prototype.getSortIndex=function(){return e.SORTINDEX_POINT},i.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},i.prototype.equalsExact=function(){if(arguments.length===2){var a=arguments[0],c=arguments[1];return!!this.isEquivalentClass(a)&&(!(!this.isEmpty()||!a.isEmpty())||this.isEmpty()===a.isEmpty()&&this.equal(a.getCoordinate(),this.getCoordinate(),c))}return e.prototype.equalsExact.apply(this,arguments)},i.prototype.normalize=function(){},i.prototype.getCoordinate=function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null},i.prototype.getBoundaryDimension=function(){return Yr.FALSE},i.prototype.getDimension=function(){return 0},i.prototype.getNumPoints=function(){return this.isEmpty()?0:1},i.prototype.reverse=function(){return this.copy()},i.prototype.getX=function(){if(this.getCoordinate()===null)throw new Error("getX called on empty Point");return this.getCoordinate().x},i.prototype.compareToSameClass=function(){if(arguments.length===1){var a=arguments[0],c=a;return this.getCoordinate().compareTo(c.getCoordinate())}if(arguments.length===2){var h=arguments[0],g=arguments[1],y=h;return g.compare(this._coordinates,y._coordinates)}},i.prototype.apply=function(){if(je(arguments[0],pa)){var a=arguments[0];if(this.isEmpty())return null;a.filter(this.getCoordinate())}else if(je(arguments[0],us)){var c=arguments[0];if(this.isEmpty())return null;c.filter(this._coordinates,0),c.isGeometryChanged()&&this.geometryChanged()}else if(je(arguments[0],zs)){var h=arguments[0];h.filter(this)}else if(je(arguments[0],Wa)){var g=arguments[0];g.filter(this)}},i.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},i.prototype.clone=function(){var a=e.prototype.clone.call(this);return a._coordinates=this._coordinates.clone(),a},i.prototype.getGeometryType=function(){return"Point"},i.prototype.copy=function(){return new i(this._coordinates.copy(),this._factory)},i.prototype.getCoordinateSequence=function(){return this._coordinates},i.prototype.getY=function(){if(this.getCoordinate()===null)throw new Error("getY called on empty Point");return this.getCoordinate().y},i.prototype.isEmpty=function(){return this._coordinates.size()===0},i.prototype.init=function(a){a===null&&(a=this.getFactory().getCoordinateSequenceFactory().create([])),Je.isTrue(a.size()<=1),this._coordinates=a},i.prototype.isSimple=function(){return!0},i.prototype.interfaces_=function(){return[Sf]},i.prototype.getClass=function(){return i},s.serialVersionUID.get=function(){return 4902022702746615e3},Object.defineProperties(i,s),i}(Fe),Fl=function(){};Fl.prototype.interfaces_=function(){return[]},Fl.prototype.getClass=function(){return Fl};var Gi=function(e){function i(a,c,h){if(e.call(this,h),this._shell=null,this._holes=null,a===null&&(a=this.getFactory().createLinearRing()),c===null&&(c=[]),e.hasNullElements(c))throw new xi("holes must not contain null elements");if(a.isEmpty()&&e.hasNonEmptyElements(c))throw new xi("shell is empty but holes are not");this._shell=a,this._holes=c}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={serialVersionUID:{configurable:!0}};return i.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},i.prototype.getSortIndex=function(){return e.SORTINDEX_POLYGON},i.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var a=new Array(this.getNumPoints()).fill(null),c=-1,h=this._shell.getCoordinates(),g=0;g<h.length;g++)a[++c]=h[g];for(var y=0;y<this._holes.length;y++)for(var w=this._holes[y].getCoordinates(),x=0;x<w.length;x++)a[++c]=w[x];return a},i.prototype.getArea=function(){var a=0;a+=Math.abs(he.signedArea(this._shell.getCoordinateSequence()));for(var c=0;c<this._holes.length;c++)a-=Math.abs(he.signedArea(this._holes[c].getCoordinateSequence()));return a},i.prototype.isRectangle=function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var a=this._shell.getCoordinateSequence(),c=this.getEnvelopeInternal(),h=0;h<5;h++){var g=a.getX(h);if(g!==c.getMinX()&&g!==c.getMaxX())return!1;var y=a.getY(h);if(y!==c.getMinY()&&y!==c.getMaxY())return!1}for(var w=a.getX(0),x=a.getY(0),T=1;T<=4;T++){var E=a.getX(T),P=a.getY(T);if(E!==w==(P!==x))return!1;w=E,x=P}return!0},i.prototype.equalsExact=function(){var a=this;if(arguments.length===2){var c=arguments[0],h=arguments[1];if(!this.isEquivalentClass(c))return!1;var g=c,y=this._shell,w=g._shell;if(!y.equalsExact(w,h)||this._holes.length!==g._holes.length)return!1;for(var x=0;x<this._holes.length;x++)if(!a._holes[x].equalsExact(g._holes[x],h))return!1;return!0}return e.prototype.equalsExact.apply(this,arguments)},i.prototype.normalize=function(){var a=this;if(arguments.length===0){this.normalize(this._shell,!0);for(var c=0;c<this._holes.length;c++)a.normalize(a._holes[c],!1);Dc.sort(this._holes)}else if(arguments.length===2){var h=arguments[0],g=arguments[1];if(h.isEmpty())return null;var y=new Array(h.getCoordinates().length-1).fill(null);pn.arraycopy(h.getCoordinates(),0,y,0,y.length);var w=ar.minCoordinate(h.getCoordinates());ar.scroll(y,w),pn.arraycopy(y,0,h.getCoordinates(),0,y.length),h.getCoordinates()[y.length]=y[0],he.isCCW(h.getCoordinates())===g&&ar.reverse(h.getCoordinates())}},i.prototype.getCoordinate=function(){return this._shell.getCoordinate()},i.prototype.getNumInteriorRing=function(){return this._holes.length},i.prototype.getBoundaryDimension=function(){return 1},i.prototype.getDimension=function(){return 2},i.prototype.getLength=function(){var a=0;a+=this._shell.getLength();for(var c=0;c<this._holes.length;c++)a+=this._holes[c].getLength();return a},i.prototype.getNumPoints=function(){for(var a=this._shell.getNumPoints(),c=0;c<this._holes.length;c++)a+=this._holes[c].getNumPoints();return a},i.prototype.reverse=function(){var a=this.copy();a._shell=this._shell.copy().reverse(),a._holes=new Array(this._holes.length).fill(null);for(var c=0;c<this._holes.length;c++)a._holes[c]=this._holes[c].copy().reverse();return a},i.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},i.prototype.compareToSameClass=function(){var a=this;if(arguments.length===1){var c=arguments[0],h=this._shell,g=c._shell;return h.compareToSameClass(g)}if(arguments.length===2){var y=arguments[0],w=arguments[1],x=y,T=this._shell,E=x._shell,P=T.compareToSameClass(E,w);if(P!==0)return P;for(var z=this.getNumInteriorRing(),N=x.getNumInteriorRing(),B=0;B<z&&B<N;){var R=a.getInteriorRingN(B),X=x.getInteriorRingN(B),it=R.compareToSameClass(X,w);if(it!==0)return it;B++}return B<z?1:B<N?-1:0}},i.prototype.apply=function(a){var c=this;if(je(a,pa)){this._shell.apply(a);for(var h=0;h<this._holes.length;h++)c._holes[h].apply(a)}else if(je(a,us)){if(this._shell.apply(a),!a.isDone())for(var g=0;g<this._holes.length&&(c._holes[g].apply(a),!a.isDone());g++);a.isGeometryChanged()&&this.geometryChanged()}else if(je(a,zs))a.filter(this);else if(je(a,Wa)){a.filter(this),this._shell.apply(a);for(var y=0;y<this._holes.length;y++)c._holes[y].apply(a)}},i.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var a=new Array(this._holes.length+1).fill(null);a[0]=this._shell;for(var c=0;c<this._holes.length;c++)a[c+1]=this._holes[c];return a.length<=1?this.getFactory().createLinearRing(a[0].getCoordinateSequence()):this.getFactory().createMultiLineString(a)},i.prototype.clone=function(){var a=e.prototype.clone.call(this);a._shell=this._shell.clone(),a._holes=new Array(this._holes.length).fill(null);for(var c=0;c<this._holes.length;c++)a._holes[c]=this._holes[c].clone();return a},i.prototype.getGeometryType=function(){return"Polygon"},i.prototype.copy=function(){for(var a=this._shell.copy(),c=new Array(this._holes.length).fill(null),h=0;h<c.length;h++)c[h]=this._holes[h].copy();return new i(a,c,this._factory)},i.prototype.getExteriorRing=function(){return this._shell},i.prototype.isEmpty=function(){return this._shell.isEmpty()},i.prototype.getInteriorRingN=function(a){return this._holes[a]},i.prototype.interfaces_=function(){return[Fl]},i.prototype.getClass=function(){return i},s.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(i,s),i}(Fe),Ed=function(e){function i(){e.apply(this,arguments)}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={serialVersionUID:{configurable:!0}};return i.prototype.getSortIndex=function(){return Fe.SORTINDEX_MULTIPOINT},i.prototype.isValid=function(){return!0},i.prototype.equalsExact=function(){if(arguments.length===2){var a=arguments[0],c=arguments[1];return!!this.isEquivalentClass(a)&&e.prototype.equalsExact.call(this,a,c)}return e.prototype.equalsExact.apply(this,arguments)},i.prototype.getCoordinate=function(){if(arguments.length===1){var a=arguments[0];return this._geometries[a].getCoordinate()}return e.prototype.getCoordinate.apply(this,arguments)},i.prototype.getBoundaryDimension=function(){return Yr.FALSE},i.prototype.getDimension=function(){return 0},i.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},i.prototype.getGeometryType=function(){return"MultiPoint"},i.prototype.copy=function(){for(var a=new Array(this._geometries.length).fill(null),c=0;c<a.length;c++)a[c]=this._geometries[c].copy();return new i(a,this._factory)},i.prototype.interfaces_=function(){return[Sf]},i.prototype.getClass=function(){return i},s.serialVersionUID.get=function(){return-8048474874175356e3},Object.defineProperties(i,s),i}(On),fa=function(e){function i(a,c){a instanceof Ct&&c instanceof lr&&(a=c.getCoordinateSequenceFactory().create(a)),e.call(this,a,c),this.validateConstruction()}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return i.prototype.getSortIndex=function(){return Fe.SORTINDEX_LINEARRING},i.prototype.getBoundaryDimension=function(){return Yr.FALSE},i.prototype.isClosed=function(){return!!this.isEmpty()||e.prototype.isClosed.call(this)},i.prototype.reverse=function(){var a=this._points.copy();return Mi.reverse(a),this.getFactory().createLinearRing(a)},i.prototype.validateConstruction=function(){if(!this.isEmpty()&&!e.prototype.isClosed.call(this))throw new xi("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<i.MINIMUM_VALID_SIZE)throw new xi("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},i.prototype.getGeometryType=function(){return"LinearRing"},i.prototype.copy=function(){return new i(this._points.copy(),this._factory)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},s.MINIMUM_VALID_SIZE.get=function(){return 4},s.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(i,s),i}(Ci),ga=function(e){function i(){e.apply(this,arguments)}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={serialVersionUID:{configurable:!0}};return i.prototype.getSortIndex=function(){return Fe.SORTINDEX_MULTIPOLYGON},i.prototype.equalsExact=function(){if(arguments.length===2){var a=arguments[0],c=arguments[1];return!!this.isEquivalentClass(a)&&e.prototype.equalsExact.call(this,a,c)}return e.prototype.equalsExact.apply(this,arguments)},i.prototype.getBoundaryDimension=function(){return 1},i.prototype.getDimension=function(){return 2},i.prototype.reverse=function(){for(var a=this._geometries.length,c=new Array(a).fill(null),h=0;h<this._geometries.length;h++)c[h]=this._geometries[h].reverse();return this.getFactory().createMultiPolygon(c)},i.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var a=new ae,c=0;c<this._geometries.length;c++)for(var h=this._geometries[c].getBoundary(),g=0;g<h.getNumGeometries();g++)a.add(h.getGeometryN(g));var y=new Array(a.size()).fill(null);return this.getFactory().createMultiLineString(a.toArray(y))},i.prototype.getGeometryType=function(){return"MultiPolygon"},i.prototype.copy=function(){for(var a=new Array(this._geometries.length).fill(null),c=0;c<a.length;c++)a[c]=this._geometries[c].copy();return new i(a,this._factory)},i.prototype.interfaces_=function(){return[Fl]},i.prototype.getClass=function(){return i},s.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(i,s),i}(On),Ho=function(e){this._factory=e||null,this._isUserDataCopied=!1},h0={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};Ho.prototype.setCopyUserData=function(e){this._isUserDataCopied=e},Ho.prototype.edit=function(e,i){if(e===null)return null;var s=this.editInternal(e,i);return this._isUserDataCopied&&s.setUserData(e.getUserData()),s},Ho.prototype.editInternal=function(e,i){return this._factory===null&&(this._factory=e.getFactory()),e instanceof On?this.editGeometryCollection(e,i):e instanceof Gi?this.editPolygon(e,i):e instanceof io||e instanceof Ci?i.edit(e,this._factory):(Je.shouldNeverReachHere("Unsupported Geometry class: "+e.getClass().getName()),null)},Ho.prototype.editGeometryCollection=function(e,i){for(var s=i.edit(e,this._factory),a=new ae,c=0;c<s.getNumGeometries();c++){var h=this.edit(s.getGeometryN(c),i);h===null||h.isEmpty()||a.add(h)}return s.getClass()===Ed?this._factory.createMultiPoint(a.toArray([])):s.getClass()===Fc?this._factory.createMultiLineString(a.toArray([])):s.getClass()===ga?this._factory.createMultiPolygon(a.toArray([])):this._factory.createGeometryCollection(a.toArray([]))},Ho.prototype.editPolygon=function(e,i){var s=i.edit(e,this._factory);if(s===null&&(s=this._factory.createPolygon(null)),s.isEmpty())return s;var a=this.edit(s.getExteriorRing(),i);if(a===null||a.isEmpty())return this._factory.createPolygon();for(var c=new ae,h=0;h<s.getNumInteriorRing();h++){var g=this.edit(s.getInteriorRingN(h),i);g===null||g.isEmpty()||c.add(g)}return this._factory.createPolygon(a,c.toArray([]))},Ho.prototype.interfaces_=function(){return[]},Ho.prototype.getClass=function(){return Ho},Ho.GeometryEditorOperation=function(){},h0.NoOpGeometryOperation.get=function(){return Cf},h0.CoordinateOperation.get=function(){return Pf},h0.CoordinateSequenceOperation.get=function(){return Mf},Object.defineProperties(Ho,h0);var Cf=function(){};Cf.prototype.edit=function(e,i){return e},Cf.prototype.interfaces_=function(){return[Ho.GeometryEditorOperation]},Cf.prototype.getClass=function(){return Cf};var Pf=function(){};Pf.prototype.edit=function(e,i){var s=this.editCoordinates(e.getCoordinates(),e);return s===null?e:e instanceof fa?i.createLinearRing(s):e instanceof Ci?i.createLineString(s):e instanceof io?s.length>0?i.createPoint(s[0]):i.createPoint():e},Pf.prototype.interfaces_=function(){return[Ho.GeometryEditorOperation]},Pf.prototype.getClass=function(){return Pf};var Mf=function(){};Mf.prototype.edit=function(e,i){return e instanceof fa?i.createLinearRing(this.edit(e.getCoordinateSequence(),e)):e instanceof Ci?i.createLineString(this.edit(e.getCoordinateSequence(),e)):e instanceof io?i.createPoint(this.edit(e.getCoordinateSequence(),e)):e},Mf.prototype.interfaces_=function(){return[Ho.GeometryEditorOperation]},Mf.prototype.getClass=function(){return Mf};var Ii=function(){var e=this;if(this._dimension=3,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var i=arguments[0];this._coordinates=new Array(i).fill(null);for(var s=0;s<i;s++)e._coordinates[s]=new Ct}else if(je(arguments[0],vr)){var a=arguments[0];if(a===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=a.getDimension(),this._coordinates=new Array(a.size()).fill(null);for(var c=0;c<this._coordinates.length;c++)e._coordinates[c]=a.getCoordinateCopy(c)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var h=arguments[0],g=arguments[1];this._coordinates=h,this._dimension=g,h===null&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var y=arguments[0],w=arguments[1];this._coordinates=new Array(y).fill(null),this._dimension=w;for(var x=0;x<y;x++)e._coordinates[x]=new Ct}}},Ck={serialVersionUID:{configurable:!0}};Ii.prototype.setOrdinate=function(e,i,s){switch(i){case vr.X:this._coordinates[e].x=s;break;case vr.Y:this._coordinates[e].y=s;break;case vr.Z:this._coordinates[e].z=s;break;default:throw new xi("invalid ordinateIndex")}},Ii.prototype.size=function(){return this._coordinates.length},Ii.prototype.getOrdinate=function(e,i){switch(i){case vr.X:return this._coordinates[e].x;case vr.Y:return this._coordinates[e].y;case vr.Z:return this._coordinates[e].z}return Ze.NaN},Ii.prototype.getCoordinate=function(){if(arguments.length===1){var e=arguments[0];return this._coordinates[e]}if(arguments.length===2){var i=arguments[0],s=arguments[1];s.x=this._coordinates[i].x,s.y=this._coordinates[i].y,s.z=this._coordinates[i].z}},Ii.prototype.getCoordinateCopy=function(e){return new Ct(this._coordinates[e])},Ii.prototype.getDimension=function(){return this._dimension},Ii.prototype.getX=function(e){return this._coordinates[e].x},Ii.prototype.clone=function(){for(var e=new Array(this.size()).fill(null),i=0;i<this._coordinates.length;i++)e[i]=this._coordinates[i].clone();return new Ii(e,this._dimension)},Ii.prototype.expandEnvelope=function(e){for(var i=0;i<this._coordinates.length;i++)e.expandToInclude(this._coordinates[i]);return e},Ii.prototype.copy=function(){for(var e=new Array(this.size()).fill(null),i=0;i<this._coordinates.length;i++)e[i]=this._coordinates[i].copy();return new Ii(e,this._dimension)},Ii.prototype.toString=function(){if(this._coordinates.length>0){var e=new Is(17*this._coordinates.length);e.append("("),e.append(this._coordinates[0]);for(var i=1;i<this._coordinates.length;i++)e.append(", "),e.append(this._coordinates[i]);return e.append(")"),e.toString()}return"()"},Ii.prototype.getY=function(e){return this._coordinates[e].y},Ii.prototype.toCoordinateArray=function(){return this._coordinates},Ii.prototype.interfaces_=function(){return[vr,Do]},Ii.prototype.getClass=function(){return Ii},Ck.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(Ii,Ck);var ma=function(){},Gb={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};ma.prototype.readResolve=function(){return ma.instance()},ma.prototype.create=function(){if(arguments.length===1){if(arguments[0]instanceof Array){var e=arguments[0];return new Ii(e)}if(je(arguments[0],vr)){var i=arguments[0];return new Ii(i)}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];return a>3&&(a=3),a<2?new Ii(s):new Ii(s,a)}},ma.prototype.interfaces_=function(){return[fd,Do]},ma.prototype.getClass=function(){return ma},ma.instance=function(){return ma.instanceObject},Gb.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},Gb.instanceObject.get=function(){return new ma},Object.defineProperties(ma,Gb);var Pk=function(e){function i(){e.call(this),this.map_=new Map}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.get=function(s){return this.map_.get(s)||null},i.prototype.put=function(s,a){return this.map_.set(s,a),a},i.prototype.values=function(){for(var s=new ae,a=this.map_.values(),c=a.next();!c.done;)s.add(c.value),c=a.next();return s},i.prototype.entrySet=function(){var s=new jb;return this.map_.entries().forEach(function(a){return s.add(a)}),s},i.prototype.size=function(){return this.map_.size()},i}(Ku),Xr=function e(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=e.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof Ns){var i=arguments[0];this._modelType=i,i===e.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var s=arguments[0];this._modelType=e.FIXED,this.setScale(s)}else if(arguments[0]instanceof e){var a=arguments[0];this._modelType=a._modelType,this._scale=a._scale}}},qb={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};Xr.prototype.equals=function(e){if(!(e instanceof Xr))return!1;var i=e;return this._modelType===i._modelType&&this._scale===i._scale},Xr.prototype.compareTo=function(e){var i=e,s=this.getMaximumSignificantDigits(),a=i.getMaximumSignificantDigits();return new Ls(s).compareTo(new Ls(a))},Xr.prototype.getScale=function(){return this._scale},Xr.prototype.isFloating=function(){return this._modelType===Xr.FLOATING||this._modelType===Xr.FLOATING_SINGLE},Xr.prototype.getType=function(){return this._modelType},Xr.prototype.toString=function(){var e="UNKNOWN";return this._modelType===Xr.FLOATING?e="Floating":this._modelType===Xr.FLOATING_SINGLE?e="Floating-Single":this._modelType===Xr.FIXED&&(e="Fixed (Scale="+this.getScale()+")"),e},Xr.prototype.makePrecise=function(){if(typeof arguments[0]=="number"){var e=arguments[0];return Ze.isNaN(e)||this._modelType===Xr.FLOATING_SINGLE?e:this._modelType===Xr.FIXED?Math.round(e*this._scale)/this._scale:e}if(arguments[0]instanceof Ct){var i=arguments[0];if(this._modelType===Xr.FLOATING)return null;i.x=this.makePrecise(i.x),i.y=this.makePrecise(i.y)}},Xr.prototype.getMaximumSignificantDigits=function(){var e=16;return this._modelType===Xr.FLOATING?e=16:this._modelType===Xr.FLOATING_SINGLE?e=6:this._modelType===Xr.FIXED&&(e=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),e},Xr.prototype.setScale=function(e){this._scale=Math.abs(e)},Xr.prototype.interfaces_=function(){return[Do,No]},Xr.prototype.getClass=function(){return Xr},Xr.mostPrecise=function(e,i){return e.compareTo(i)>=0?e:i},qb.serialVersionUID.get=function(){return 7777263578777804e3},qb.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(Xr,qb);var Ns=function e(i){this._name=i||null,e.nameToTypeMap.put(i,this)},Vb={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};Ns.prototype.readResolve=function(){return Ns.nameToTypeMap.get(this._name)},Ns.prototype.toString=function(){return this._name},Ns.prototype.interfaces_=function(){return[Do]},Ns.prototype.getClass=function(){return Ns},Vb.serialVersionUID.get=function(){return-552860263173159e4},Vb.nameToTypeMap.get=function(){return new Pk},Object.defineProperties(Ns,Vb),Xr.Type=Ns,Xr.FIXED=new Ns("FIXED"),Xr.FLOATING=new Ns("FLOATING"),Xr.FLOATING_SINGLE=new Ns("FLOATING SINGLE");var lr=function e(){this._precisionModel=new Xr,this._SRID=0,this._coordinateSequenceFactory=e.getDefaultCoordinateSequenceFactory(),arguments.length===0||(arguments.length===1?je(arguments[0],fd)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof Xr&&(this._precisionModel=arguments[0]):arguments.length===2?(this._precisionModel=arguments[0],this._SRID=arguments[1]):arguments.length===3&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},Mk={serialVersionUID:{configurable:!0}};lr.prototype.toGeometry=function(e){return e.isNull()?this.createPoint(null):e.getMinX()===e.getMaxX()&&e.getMinY()===e.getMaxY()?this.createPoint(new Ct(e.getMinX(),e.getMinY())):e.getMinX()===e.getMaxX()||e.getMinY()===e.getMaxY()?this.createLineString([new Ct(e.getMinX(),e.getMinY()),new Ct(e.getMaxX(),e.getMaxY())]):this.createPolygon(this.createLinearRing([new Ct(e.getMinX(),e.getMinY()),new Ct(e.getMinX(),e.getMaxY()),new Ct(e.getMaxX(),e.getMaxY()),new Ct(e.getMaxX(),e.getMinY()),new Ct(e.getMinX(),e.getMinY())]),null)},lr.prototype.createLineString=function(e){return e?e instanceof Array?new Ci(this.getCoordinateSequenceFactory().create(e),this):je(e,vr)?new Ci(e,this):void 0:new Ci(this.getCoordinateSequenceFactory().create([]),this)},lr.prototype.createMultiLineString=function(){if(arguments.length===0)return new Fc(null,this);if(arguments.length===1){var e=arguments[0];return new Fc(e,this)}},lr.prototype.buildGeometry=function(e){for(var i=null,s=!1,a=!1,c=e.iterator();c.hasNext();){var h=c.next(),g=h.getClass();i===null&&(i=g),g!==i&&(s=!0),h.isGeometryCollectionOrDerived()&&(a=!0)}if(i===null)return this.createGeometryCollection();if(s||a)return this.createGeometryCollection(lr.toGeometryArray(e));var y=e.iterator().next();if(e.size()>1){if(y instanceof Gi)return this.createMultiPolygon(lr.toPolygonArray(e));if(y instanceof Ci)return this.createMultiLineString(lr.toLineStringArray(e));if(y instanceof io)return this.createMultiPoint(lr.toPointArray(e));Je.shouldNeverReachHere("Unhandled class: "+y.getClass().getName())}return y},lr.prototype.createMultiPointFromCoords=function(e){return this.createMultiPoint(e!==null?this.getCoordinateSequenceFactory().create(e):null)},lr.prototype.createPoint=function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Ct){var e=arguments[0];return this.createPoint(e!==null?this.getCoordinateSequenceFactory().create([e]):null)}if(je(arguments[0],vr)){var i=arguments[0];return new io(i,this)}}},lr.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},lr.prototype.createPolygon=function(){if(arguments.length===0)return new Gi(null,null,this);if(arguments.length===1){if(je(arguments[0],vr)){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Array){var i=arguments[0];return this.createPolygon(this.createLinearRing(i))}if(arguments[0]instanceof fa){var s=arguments[0];return this.createPolygon(s,null)}}else if(arguments.length===2){var a=arguments[0],c=arguments[1];return new Gi(a,c,this)}},lr.prototype.getSRID=function(){return this._SRID},lr.prototype.createGeometryCollection=function(){if(arguments.length===0)return new On(null,this);if(arguments.length===1){var e=arguments[0];return new On(e,this)}},lr.prototype.createGeometry=function(e){return new Ho(this).edit(e,{edit:function(){if(arguments.length===2){var i=arguments[0];return this._coordinateSequenceFactory.create(i)}}})},lr.prototype.getPrecisionModel=function(){return this._precisionModel},lr.prototype.createLinearRing=function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var e=arguments[0];return this.createLinearRing(e!==null?this.getCoordinateSequenceFactory().create(e):null)}if(je(arguments[0],vr)){var i=arguments[0];return new fa(i,this)}}},lr.prototype.createMultiPolygon=function(){if(arguments.length===0)return new ga(null,this);if(arguments.length===1){var e=arguments[0];return new ga(e,this)}},lr.prototype.createMultiPoint=function(){var e=this;if(arguments.length===0)return new Ed(null,this);if(arguments.length===1){if(arguments[0]instanceof Array){var i=arguments[0];return new Ed(i,this)}if(arguments[0]instanceof Array){var s=arguments[0];return this.createMultiPoint(s!==null?this.getCoordinateSequenceFactory().create(s):null)}if(je(arguments[0],vr)){var a=arguments[0];if(a===null)return this.createMultiPoint(new Array(0).fill(null));for(var c=new Array(a.size()).fill(null),h=0;h<a.size();h++){var g=e.getCoordinateSequenceFactory().create(1,a.getDimension());Mi.copy(a,h,g,0,1),c[h]=e.createPoint(g)}return this.createMultiPoint(c)}}},lr.prototype.interfaces_=function(){return[Do]},lr.prototype.getClass=function(){return lr},lr.toMultiPolygonArray=function(e){var i=new Array(e.size()).fill(null);return e.toArray(i)},lr.toGeometryArray=function(e){if(e===null)return null;var i=new Array(e.size()).fill(null);return e.toArray(i)},lr.getDefaultCoordinateSequenceFactory=function(){return ma.instance()},lr.toMultiLineStringArray=function(e){var i=new Array(e.size()).fill(null);return e.toArray(i)},lr.toLineStringArray=function(e){var i=new Array(e.size()).fill(null);return e.toArray(i)},lr.toMultiPointArray=function(e){var i=new Array(e.size()).fill(null);return e.toArray(i)},lr.toLinearRingArray=function(e){var i=new Array(e.size()).fill(null);return e.toArray(i)},lr.toPointArray=function(e){var i=new Array(e.size()).fill(null);return e.toArray(i)},lr.toPolygonArray=function(e){var i=new Array(e.size()).fill(null);return e.toArray(i)},lr.createPointFromInternalCoord=function(e,i){return i.getPrecisionModel().makePrecise(e),i.getFactory().createPoint(e)},Mk.serialVersionUID.get=function(){return-6820524753094096e3},Object.defineProperties(lr,Mk);var jI=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],d0=function(e){this.geometryFactory=e||new lr};d0.prototype.read=function(e){var i,s=(i=typeof e=="string"?JSON.parse(e):e).type;if(!Ds[s])throw new Error("Unknown GeoJSON type: "+i.type);return jI.indexOf(s)!==-1?Ds[s].apply(this,[i.coordinates]):s==="GeometryCollection"?Ds[s].apply(this,[i.geometries]):Ds[s].apply(this,[i])},d0.prototype.write=function(e){var i=e.getGeometryType();if(!Xa[i])throw new Error("Geometry is not supported");return Xa[i].apply(this,[e])};var Ds={Feature:function(e){var i={};for(var s in e)i[s]=e[s];if(e.geometry){var a=e.geometry.type;if(!Ds[a])throw new Error("Unknown GeoJSON type: "+e.type);i.geometry=this.read(e.geometry)}return e.bbox&&(i.bbox=Ds.bbox.apply(this,[e.bbox])),i},FeatureCollection:function(e){var i={};if(e.features){i.features=[];for(var s=0;s<e.features.length;++s)i.features.push(this.read(e.features[s]))}return e.bbox&&(i.bbox=this.parse.bbox.apply(this,[e.bbox])),i},coordinates:function(e){for(var i=[],s=0;s<e.length;++s){var a=e[s];i.push(new Ct(a[0],a[1]))}return i},bbox:function(e){return this.geometryFactory.createLinearRing([new Ct(e[0],e[1]),new Ct(e[2],e[1]),new Ct(e[2],e[3]),new Ct(e[0],e[3]),new Ct(e[0],e[1])])},Point:function(e){var i=new Ct(e[0],e[1]);return this.geometryFactory.createPoint(i)},MultiPoint:function(e){for(var i=[],s=0;s<e.length;++s)i.push(Ds.Point.apply(this,[e[s]]));return this.geometryFactory.createMultiPoint(i)},LineString:function(e){var i=Ds.coordinates.apply(this,[e]);return this.geometryFactory.createLineString(i)},MultiLineString:function(e){for(var i=[],s=0;s<e.length;++s)i.push(Ds.LineString.apply(this,[e[s]]));return this.geometryFactory.createMultiLineString(i)},Polygon:function(e){for(var i=Ds.coordinates.apply(this,[e[0]]),s=this.geometryFactory.createLinearRing(i),a=[],c=1;c<e.length;++c){var h=e[c],g=Ds.coordinates.apply(this,[h]),y=this.geometryFactory.createLinearRing(g);a.push(y)}return this.geometryFactory.createPolygon(s,a)},MultiPolygon:function(e){for(var i=[],s=0;s<e.length;++s){var a=e[s];i.push(Ds.Polygon.apply(this,[a]))}return this.geometryFactory.createMultiPolygon(i)},GeometryCollection:function(e){for(var i=[],s=0;s<e.length;++s){var a=e[s];i.push(this.read(a))}return this.geometryFactory.createGeometryCollection(i)}},Xa={coordinate:function(e){return[e.x,e.y]},Point:function(e){return{type:"Point",coordinates:Xa.coordinate.apply(this,[e.getCoordinate()])}},MultiPoint:function(e){for(var i=[],s=0;s<e._geometries.length;++s){var a=e._geometries[s],c=Xa.Point.apply(this,[a]);i.push(c.coordinates)}return{type:"MultiPoint",coordinates:i}},LineString:function(e){for(var i=[],s=e.getCoordinates(),a=0;a<s.length;++a){var c=s[a];i.push(Xa.coordinate.apply(this,[c]))}return{type:"LineString",coordinates:i}},MultiLineString:function(e){for(var i=[],s=0;s<e._geometries.length;++s){var a=e._geometries[s],c=Xa.LineString.apply(this,[a]);i.push(c.coordinates)}return{type:"MultiLineString",coordinates:i}},Polygon:function(e){var i=[],s=Xa.LineString.apply(this,[e._shell]);i.push(s.coordinates);for(var a=0;a<e._holes.length;++a){var c=e._holes[a],h=Xa.LineString.apply(this,[c]);i.push(h.coordinates)}return{type:"Polygon",coordinates:i}},MultiPolygon:function(e){for(var i=[],s=0;s<e._geometries.length;++s){var a=e._geometries[s],c=Xa.Polygon.apply(this,[a]);i.push(c.coordinates)}return{type:"MultiPolygon",coordinates:i}},GeometryCollection:function(e){for(var i=[],s=0;s<e._geometries.length;++s){var a=e._geometries[s],c=a.getGeometryType();i.push(Xa[c].apply(this,[a]))}return{type:"GeometryCollection",geometries:i}}},Wb=function(e){this.geometryFactory=e||new lr,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new d0(this.geometryFactory)};Wb.prototype.read=function(e){var i=this.parser.read(e);return this.precisionModel.getType()===Xr.FIXED&&this.reducePrecision(i),i},Wb.prototype.reducePrecision=function(e){var i,s;if(e.coordinate)this.precisionModel.makePrecise(e.coordinate);else if(e.points)for(i=0,s=e.points.length;i<s;i++)this.precisionModel.makePrecise(e.points[i]);else if(e.geometries)for(i=0,s=e.geometries.length;i<s;i++)this.reducePrecision(e.geometries[i])};var Ik=function(){this.parser=new d0(this.geometryFactory)};Ik.prototype.write=function(e){return this.parser.write(e)};var ie=function(){},p0={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};function f0(e){this.message=e||""}function Fs(){this.array_=[]}ie.prototype.interfaces_=function(){return[]},ie.prototype.getClass=function(){return ie},ie.opposite=function(e){return e===ie.LEFT?ie.RIGHT:e===ie.RIGHT?ie.LEFT:e},p0.ON.get=function(){return 0},p0.LEFT.get=function(){return 1},p0.RIGHT.get=function(){return 2},Object.defineProperties(ie,p0),f0.prototype=new Error,f0.prototype.name="EmptyStackException",Fs.prototype=new ls,Fs.prototype.add=function(e){return this.array_.push(e),!0},Fs.prototype.get=function(e){if(e<0||e>=this.size())throw new Error;return this.array_[e]},Fs.prototype.push=function(e){return this.array_.push(e),e},Fs.prototype.pop=function(e){if(this.array_.length===0)throw new f0;return this.array_.pop()},Fs.prototype.peek=function(){if(this.array_.length===0)throw new f0;return this.array_[this.array_.length-1]},Fs.prototype.empty=function(){return this.array_.length===0},Fs.prototype.isEmpty=function(){return this.empty()},Fs.prototype.search=function(e){return this.array_.indexOf(e)},Fs.prototype.size=function(){return this.array_.length},Fs.prototype.toArray=function(){for(var e=[],i=0,s=this.array_.length;i<s;i++)e.push(this.array_[i]);return e};var Bs=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Bs.prototype.getCoordinate=function(){return this._minCoord},Bs.prototype.getRightmostSide=function(e,i){var s=this.getRightmostSideOfSegment(e,i);return s<0&&(s=this.getRightmostSideOfSegment(e,i-1)),s<0&&(this._minCoord=null,this.checkForRightmostCoordinate(e)),s},Bs.prototype.findRightmostEdgeAtVertex=function(){var e=this._minDe.getEdge().getCoordinates();Je.isTrue(this._minIndex>0&&this._minIndex<e.length,"rightmost point expected to be interior vertex of edge");var i=e[this._minIndex-1],s=e[this._minIndex+1],a=he.computeOrientation(this._minCoord,s,i),c=!1;(i.y<this._minCoord.y&&s.y<this._minCoord.y&&a===he.COUNTERCLOCKWISE||i.y>this._minCoord.y&&s.y>this._minCoord.y&&a===he.CLOCKWISE)&&(c=!0),c&&(this._minIndex=this._minIndex-1)},Bs.prototype.getRightmostSideOfSegment=function(e,i){var s=e.getEdge().getCoordinates();if(i<0||i+1>=s.length||s[i].y===s[i+1].y)return-1;var a=ie.LEFT;return s[i].y<s[i+1].y&&(a=ie.RIGHT),a},Bs.prototype.getEdge=function(){return this._orientedDe},Bs.prototype.checkForRightmostCoordinate=function(e){for(var i=this,s=e.getEdge().getCoordinates(),a=0;a<s.length-1;a++)(i._minCoord===null||s[a].x>i._minCoord.x)&&(i._minDe=e,i._minIndex=a,i._minCoord=s[a])},Bs.prototype.findRightmostEdgeAtNode=function(){var e=this._minDe.getNode().getEdges();this._minDe=e.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},Bs.prototype.findEdge=function(e){for(var i=e.iterator();i.hasNext();){var s=i.next();s.isForward()&&this.checkForRightmostCoordinate(s)}Je.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===ie.LEFT&&(this._orientedDe=this._minDe.getSym())},Bs.prototype.interfaces_=function(){return[]},Bs.prototype.getClass=function(){return Bs};var Ka=function(e){function i(s,a){e.call(this,i.msgWithCoord(s,a)),this.pt=a?new Ct(a):null,this.name="TopologyException"}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getCoordinate=function(){return this.pt},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i.msgWithCoord=function(s,a){return a?s:s+" [ "+a+" ]"},i}(Va),g0=function(){this.array_=[]};g0.prototype.addLast=function(e){this.array_.push(e)},g0.prototype.removeFirst=function(){return this.array_.shift()},g0.prototype.isEmpty=function(){return this.array_.length===0};var zn=function(){this._finder=null,this._dirEdgeList=new ae,this._nodes=new ae,this._rightMostCoord=null,this._env=null,this._finder=new Bs};zn.prototype.clearVisitedEdges=function(){for(var e=this._dirEdgeList.iterator();e.hasNext();)e.next().setVisited(!1)},zn.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},zn.prototype.computeNodeDepth=function(e){for(var i=null,s=e.getEdges().iterator();s.hasNext();){var a=s.next();if(a.isVisited()||a.getSym().isVisited()){i=a;break}}if(i===null)throw new Ka("unable to find edge to compute depths at "+e.getCoordinate());e.getEdges().computeDepths(i);for(var c=e.getEdges().iterator();c.hasNext();){var h=c.next();h.setVisited(!0),this.copySymDepths(h)}},zn.prototype.computeDepth=function(e){this.clearVisitedEdges();var i=this._finder.getEdge();i.setEdgeDepths(ie.RIGHT,e),this.copySymDepths(i),this.computeDepths(i)},zn.prototype.create=function(e){this.addReachable(e),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},zn.prototype.findResultEdges=function(){for(var e=this._dirEdgeList.iterator();e.hasNext();){var i=e.next();i.getDepth(ie.RIGHT)>=1&&i.getDepth(ie.LEFT)<=0&&!i.isInteriorAreaEdge()&&i.setInResult(!0)}},zn.prototype.computeDepths=function(e){var i=new jb,s=new g0,a=e.getNode();for(s.addLast(a),i.add(a),e.setVisited(!0);!s.isEmpty();){var c=s.removeFirst();i.add(c),this.computeNodeDepth(c);for(var h=c.getEdges().iterator();h.hasNext();){var g=h.next().getSym();if(!g.isVisited()){var y=g.getNode();i.contains(y)||(s.addLast(y),i.add(y))}}}},zn.prototype.compareTo=function(e){var i=e;return this._rightMostCoord.x<i._rightMostCoord.x?-1:this._rightMostCoord.x>i._rightMostCoord.x?1:0},zn.prototype.getEnvelope=function(){if(this._env===null){for(var e=new Le,i=this._dirEdgeList.iterator();i.hasNext();)for(var s=i.next().getEdge().getCoordinates(),a=0;a<s.length-1;a++)e.expandToInclude(s[a]);this._env=e}return this._env},zn.prototype.addReachable=function(e){var i=new Fs;for(i.add(e);!i.empty();){var s=i.pop();this.add(s,i)}},zn.prototype.copySymDepths=function(e){var i=e.getSym();i.setDepth(ie.LEFT,e.getDepth(ie.RIGHT)),i.setDepth(ie.RIGHT,e.getDepth(ie.LEFT))},zn.prototype.add=function(e,i){e.setVisited(!0),this._nodes.add(e);for(var s=e.getEdges().iterator();s.hasNext();){var a=s.next();this._dirEdgeList.add(a);var c=a.getSym().getNode();c.isVisited()||i.push(c)}},zn.prototype.getNodes=function(){return this._nodes},zn.prototype.getDirectedEdges=function(){return this._dirEdgeList},zn.prototype.interfaces_=function(){return[No]},zn.prototype.getClass=function(){return zn};var di=function e(){var i=this;if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var s=arguments[0];this.init(s.length)}else if(Number.isInteger(arguments[0])){var a=arguments[0];this.init(1),this.location[ie.ON]=a}else if(arguments[0]instanceof e){var c=arguments[0];if(this.init(c.location.length),c!==null)for(var h=0;h<this.location.length;h++)i.location[h]=c.location[h]}}else if(arguments.length===3){var g=arguments[0],y=arguments[1],w=arguments[2];this.init(3),this.location[ie.ON]=g,this.location[ie.LEFT]=y,this.location[ie.RIGHT]=w}};di.prototype.setAllLocations=function(e){for(var i=0;i<this.location.length;i++)this.location[i]=e},di.prototype.isNull=function(){for(var e=0;e<this.location.length;e++)if(this.location[e]!==Ot.NONE)return!1;return!0},di.prototype.setAllLocationsIfNull=function(e){for(var i=0;i<this.location.length;i++)this.location[i]===Ot.NONE&&(this.location[i]=e)},di.prototype.isLine=function(){return this.location.length===1},di.prototype.merge=function(e){if(e.location.length>this.location.length){var i=new Array(3).fill(null);i[ie.ON]=this.location[ie.ON],i[ie.LEFT]=Ot.NONE,i[ie.RIGHT]=Ot.NONE,this.location=i}for(var s=0;s<this.location.length;s++)this.location[s]===Ot.NONE&&s<e.location.length&&(this.location[s]=e.location[s])},di.prototype.getLocations=function(){return this.location},di.prototype.flip=function(){if(this.location.length<=1)return null;var e=this.location[ie.LEFT];this.location[ie.LEFT]=this.location[ie.RIGHT],this.location[ie.RIGHT]=e},di.prototype.toString=function(){var e=new Is;return this.location.length>1&&e.append(Ot.toLocationSymbol(this.location[ie.LEFT])),e.append(Ot.toLocationSymbol(this.location[ie.ON])),this.location.length>1&&e.append(Ot.toLocationSymbol(this.location[ie.RIGHT])),e.toString()},di.prototype.setLocations=function(e,i,s){this.location[ie.ON]=e,this.location[ie.LEFT]=i,this.location[ie.RIGHT]=s},di.prototype.get=function(e){return e<this.location.length?this.location[e]:Ot.NONE},di.prototype.isArea=function(){return this.location.length>1},di.prototype.isAnyNull=function(){for(var e=0;e<this.location.length;e++)if(this.location[e]===Ot.NONE)return!0;return!1},di.prototype.setLocation=function(){if(arguments.length===1){var e=arguments[0];this.setLocation(ie.ON,e)}else if(arguments.length===2){var i=arguments[0],s=arguments[1];this.location[i]=s}},di.prototype.init=function(e){this.location=new Array(e).fill(null),this.setAllLocations(Ot.NONE)},di.prototype.isEqualOnSide=function(e,i){return this.location[i]===e.location[i]},di.prototype.allPositionsEqual=function(e){for(var i=0;i<this.location.length;i++)if(this.location[i]!==e)return!1;return!0},di.prototype.interfaces_=function(){return[]},di.prototype.getClass=function(){return di};var ri=function e(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var i=arguments[0];this.elt[0]=new di(i),this.elt[1]=new di(i)}else if(arguments[0]instanceof e){var s=arguments[0];this.elt[0]=new di(s.elt[0]),this.elt[1]=new di(s.elt[1])}}else if(arguments.length===2){var a=arguments[0],c=arguments[1];this.elt[0]=new di(Ot.NONE),this.elt[1]=new di(Ot.NONE),this.elt[a].setLocation(c)}else if(arguments.length===3){var h=arguments[0],g=arguments[1],y=arguments[2];this.elt[0]=new di(h,g,y),this.elt[1]=new di(h,g,y)}else if(arguments.length===4){var w=arguments[0],x=arguments[1],T=arguments[2],E=arguments[3];this.elt[0]=new di(Ot.NONE,Ot.NONE,Ot.NONE),this.elt[1]=new di(Ot.NONE,Ot.NONE,Ot.NONE),this.elt[w].setLocations(x,T,E)}};ri.prototype.getGeometryCount=function(){var e=0;return this.elt[0].isNull()||e++,this.elt[1].isNull()||e++,e},ri.prototype.setAllLocations=function(e,i){this.elt[e].setAllLocations(i)},ri.prototype.isNull=function(e){return this.elt[e].isNull()},ri.prototype.setAllLocationsIfNull=function(){if(arguments.length===1){var e=arguments[0];this.setAllLocationsIfNull(0,e),this.setAllLocationsIfNull(1,e)}else if(arguments.length===2){var i=arguments[0],s=arguments[1];this.elt[i].setAllLocationsIfNull(s)}},ri.prototype.isLine=function(e){return this.elt[e].isLine()},ri.prototype.merge=function(e){for(var i=this,s=0;s<2;s++)i.elt[s]===null&&e.elt[s]!==null?i.elt[s]=new di(e.elt[s]):i.elt[s].merge(e.elt[s])},ri.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},ri.prototype.getLocation=function(){if(arguments.length===1){var e=arguments[0];return this.elt[e].get(ie.ON)}if(arguments.length===2){var i=arguments[0],s=arguments[1];return this.elt[i].get(s)}},ri.prototype.toString=function(){var e=new Is;return this.elt[0]!==null&&(e.append("A:"),e.append(this.elt[0].toString())),this.elt[1]!==null&&(e.append(" B:"),e.append(this.elt[1].toString())),e.toString()},ri.prototype.isArea=function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var e=arguments[0];return this.elt[e].isArea()}},ri.prototype.isAnyNull=function(e){return this.elt[e].isAnyNull()},ri.prototype.setLocation=function(){if(arguments.length===2){var e=arguments[0],i=arguments[1];this.elt[e].setLocation(ie.ON,i)}else if(arguments.length===3){var s=arguments[0],a=arguments[1],c=arguments[2];this.elt[s].setLocation(a,c)}},ri.prototype.isEqualOnSide=function(e,i){return this.elt[0].isEqualOnSide(e.elt[0],i)&&this.elt[1].isEqualOnSide(e.elt[1],i)},ri.prototype.allPositionsEqual=function(e,i){return this.elt[e].allPositionsEqual(i)},ri.prototype.toLine=function(e){this.elt[e].isArea()&&(this.elt[e]=new di(this.elt[e].location[0]))},ri.prototype.interfaces_=function(){return[]},ri.prototype.getClass=function(){return ri},ri.toLineLabel=function(e){for(var i=new ri(Ot.NONE),s=0;s<2;s++)i.setLocation(s,e.getLocation(s));return i};var Ai=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new ae,this._pts=new ae,this._label=new ri(Ot.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new ae,this._geometryFactory=null;var e=arguments[0],i=arguments[1];this._geometryFactory=i,this.computePoints(e),this.computeRing()};Ai.prototype.computeRing=function(){if(this._ring!==null)return null;for(var e=new Array(this._pts.size()).fill(null),i=0;i<this._pts.size();i++)e[i]=this._pts.get(i);this._ring=this._geometryFactory.createLinearRing(e),this._isHole=he.isCCW(this._ring.getCoordinates())},Ai.prototype.isIsolated=function(){return this._label.getGeometryCount()===1},Ai.prototype.computePoints=function(e){var i=this;this._startDe=e;var s=e,a=!0;do{if(s===null)throw new Ka("Found null DirectedEdge");if(s.getEdgeRing()===i)throw new Ka("Directed Edge visited twice during ring-building at "+s.getCoordinate());i._edges.add(s);var c=s.getLabel();Je.isTrue(c.isArea()),i.mergeLabel(c),i.addPoints(s.getEdge(),s.isForward(),a),a=!1,i.setEdgeRing(s,i),s=i.getNext(s)}while(s!==this._startDe)},Ai.prototype.getLinearRing=function(){return this._ring},Ai.prototype.getCoordinate=function(e){return this._pts.get(e)},Ai.prototype.computeMaxNodeDegree=function(){var e=this;this._maxNodeDegree=0;var i=this._startDe;do{var s=i.getNode().getEdges().getOutgoingDegree(e);s>e._maxNodeDegree&&(e._maxNodeDegree=s),i=e.getNext(i)}while(i!==this._startDe);this._maxNodeDegree*=2},Ai.prototype.addPoints=function(e,i,s){var a=e.getCoordinates();if(i){var c=1;s&&(c=0);for(var h=c;h<a.length;h++)this._pts.add(a[h])}else{var g=a.length-2;s&&(g=a.length-1);for(var y=g;y>=0;y--)this._pts.add(a[y])}},Ai.prototype.isHole=function(){return this._isHole},Ai.prototype.setInResult=function(){var e=this._startDe;do e.getEdge().setInResult(!0),e=e.getNext();while(e!==this._startDe)},Ai.prototype.containsPoint=function(e){var i=this.getLinearRing();if(!i.getEnvelopeInternal().contains(e)||!he.isPointInRing(e,i.getCoordinates()))return!1;for(var s=this._holes.iterator();s.hasNext();)if(s.next().containsPoint(e))return!1;return!0},Ai.prototype.addHole=function(e){this._holes.add(e)},Ai.prototype.isShell=function(){return this._shell===null},Ai.prototype.getLabel=function(){return this._label},Ai.prototype.getEdges=function(){return this._edges},Ai.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},Ai.prototype.getShell=function(){return this._shell},Ai.prototype.mergeLabel=function(){if(arguments.length===1){var e=arguments[0];this.mergeLabel(e,0),this.mergeLabel(e,1)}else if(arguments.length===2){var i=arguments[0],s=arguments[1],a=i.getLocation(s,ie.RIGHT);if(a===Ot.NONE)return null;if(this._label.getLocation(s)===Ot.NONE)return this._label.setLocation(s,a),null}},Ai.prototype.setShell=function(e){this._shell=e,e!==null&&e.addHole(this)},Ai.prototype.toPolygon=function(e){for(var i=new Array(this._holes.size()).fill(null),s=0;s<this._holes.size();s++)i[s]=this._holes.get(s).getLinearRing();return e.createPolygon(this.getLinearRing(),i)},Ai.prototype.interfaces_=function(){return[]},Ai.prototype.getClass=function(){return Ai};var HI=function(e){function i(){var s=arguments[0],a=arguments[1];e.call(this,s,a)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.setEdgeRing=function(s,a){s.setMinEdgeRing(a)},i.prototype.getNext=function(s){return s.getNextMin()},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(Ai),UI=function(e){function i(){var s=arguments[0],a=arguments[1];e.call(this,s,a)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.buildMinimalRings=function(){var s=new ae,a=this._startDe;do{if(a.getMinEdgeRing()===null){var c=new HI(a,this._geometryFactory);s.add(c)}a=a.getNext()}while(a!==this._startDe);return s},i.prototype.setEdgeRing=function(s,a){s.setEdgeRing(a)},i.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var s=this._startDe;do s.getNode().getEdges().linkMinimalDirectedEdges(this),s=s.getNext();while(s!==this._startDe)},i.prototype.getNext=function(s){return s.getNext()},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(Ai),_o=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var e=arguments[0];this._label=e}}};_o.prototype.setVisited=function(e){this._isVisited=e},_o.prototype.setInResult=function(e){this._isInResult=e},_o.prototype.isCovered=function(){return this._isCovered},_o.prototype.isCoveredSet=function(){return this._isCoveredSet},_o.prototype.setLabel=function(e){this._label=e},_o.prototype.getLabel=function(){return this._label},_o.prototype.setCovered=function(e){this._isCovered=e,this._isCoveredSet=!0},_o.prototype.updateIM=function(e){Je.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(e)},_o.prototype.isInResult=function(){return this._isInResult},_o.prototype.isVisited=function(){return this._isVisited},_o.prototype.interfaces_=function(){return[]},_o.prototype.getClass=function(){return _o};var m0=function(e){function i(){e.call(this),this._coord=null,this._edges=null;var s=arguments[0],a=arguments[1];this._coord=s,this._edges=a,this._label=new ri(0,Ot.NONE)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.isIncidentEdgeInResult=function(){for(var s=this.getEdges().getEdges().iterator();s.hasNext();)if(s.next().getEdge().isInResult())return!0;return!1},i.prototype.isIsolated=function(){return this._label.getGeometryCount()===1},i.prototype.getCoordinate=function(){return this._coord},i.prototype.print=function(s){s.println("node "+this._coord+" lbl: "+this._label)},i.prototype.computeIM=function(s){},i.prototype.computeMergedLocation=function(s,a){var c=Ot.NONE;if(c=this._label.getLocation(a),!s.isNull(a)){var h=s.getLocation(a);c!==Ot.BOUNDARY&&(c=h)}return c},i.prototype.setLabel=function(){if(arguments.length!==2)return e.prototype.setLabel.apply(this,arguments);var s=arguments[0],a=arguments[1];this._label===null?this._label=new ri(s,a):this._label.setLocation(s,a)},i.prototype.getEdges=function(){return this._edges},i.prototype.mergeLabel=function(){var s=this;if(arguments[0]instanceof i){var a=arguments[0];this.mergeLabel(a._label)}else if(arguments[0]instanceof ri)for(var c=arguments[0],h=0;h<2;h++){var g=s.computeMergedLocation(c,h),y=s._label.getLocation(h);y===Ot.NONE&&s._label.setLocation(h,g)}},i.prototype.add=function(s){this._edges.insert(s),s.setNode(this)},i.prototype.setLabelBoundary=function(s){if(this._label===null)return null;var a=Ot.NONE;this._label!==null&&(a=this._label.getLocation(s));var c=null;switch(a){case Ot.BOUNDARY:c=Ot.INTERIOR;break;case Ot.INTERIOR:default:c=Ot.BOUNDARY}this._label.setLocation(s,c)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(_o),js=function(){this.nodeMap=new En,this.nodeFact=null;var e=arguments[0];this.nodeFact=e};js.prototype.find=function(e){return this.nodeMap.get(e)},js.prototype.addNode=function(){if(arguments[0]instanceof Ct){var e=arguments[0],i=this.nodeMap.get(e);return i===null&&(i=this.nodeFact.createNode(e),this.nodeMap.put(e,i)),i}if(arguments[0]instanceof m0){var s=arguments[0],a=this.nodeMap.get(s.getCoordinate());return a===null?(this.nodeMap.put(s.getCoordinate(),s),s):(a.mergeLabel(s),a)}},js.prototype.print=function(e){for(var i=this.iterator();i.hasNext();)i.next().print(e)},js.prototype.iterator=function(){return this.nodeMap.values().iterator()},js.prototype.values=function(){return this.nodeMap.values()},js.prototype.getBoundaryNodes=function(e){for(var i=new ae,s=this.iterator();s.hasNext();){var a=s.next();a.getLabel().getLocation(e)===Ot.BOUNDARY&&i.add(a)}return i},js.prototype.add=function(e){var i=e.getCoordinate();this.addNode(i).add(e)},js.prototype.interfaces_=function(){return[]},js.prototype.getClass=function(){return js};var ni=function(){},If={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};ni.prototype.interfaces_=function(){return[]},ni.prototype.getClass=function(){return ni},ni.isNorthern=function(e){return e===ni.NE||e===ni.NW},ni.isOpposite=function(e,i){return e!==i&&(e-i+4)%4===2},ni.commonHalfPlane=function(e,i){if(e===i)return e;if((e-i+4)%4===2)return-1;var s=e<i?e:i;return s===0&&(e>i?e:i)===3?3:s},ni.isInHalfPlane=function(e,i){return i===ni.SE?e===ni.SE||e===ni.SW:e===i||e===i+1},ni.quadrant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],i=arguments[1];if(e===0&&i===0)throw new xi("Cannot compute the quadrant for point ( "+e+", "+i+" )");return e>=0?i>=0?ni.NE:ni.SE:i>=0?ni.NW:ni.SW}if(arguments[0]instanceof Ct&&arguments[1]instanceof Ct){var s=arguments[0],a=arguments[1];if(a.x===s.x&&a.y===s.y)throw new xi("Cannot compute the quadrant for two identical points "+s);return a.x>=s.x?a.y>=s.y?ni.NE:ni.SE:a.y>=s.y?ni.NW:ni.SW}},If.NE.get=function(){return 0},If.NW.get=function(){return 1},If.SW.get=function(){return 2},If.SE.get=function(){return 3},Object.defineProperties(ni,If);var Tn=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var e=arguments[0];this._edge=e}else if(arguments.length===3){var i=arguments[0],s=arguments[1],a=arguments[2],c=null;this._edge=i,this.init(s,a),this._label=c}else if(arguments.length===4){var h=arguments[0],g=arguments[1],y=arguments[2],w=arguments[3];this._edge=h,this.init(g,y),this._label=w}};Tn.prototype.compareDirection=function(e){return this._dx===e._dx&&this._dy===e._dy?0:this._quadrant>e._quadrant?1:this._quadrant<e._quadrant?-1:he.computeOrientation(e._p0,e._p1,this._p1)},Tn.prototype.getDy=function(){return this._dy},Tn.prototype.getCoordinate=function(){return this._p0},Tn.prototype.setNode=function(e){this._node=e},Tn.prototype.print=function(e){var i=Math.atan2(this._dy,this._dx),s=this.getClass().getName(),a=s.lastIndexOf("."),c=s.substring(a+1);e.print("  "+c+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+i+"   "+this._label)},Tn.prototype.compareTo=function(e){var i=e;return this.compareDirection(i)},Tn.prototype.getDirectedCoordinate=function(){return this._p1},Tn.prototype.getDx=function(){return this._dx},Tn.prototype.getLabel=function(){return this._label},Tn.prototype.getEdge=function(){return this._edge},Tn.prototype.getQuadrant=function(){return this._quadrant},Tn.prototype.getNode=function(){return this._node},Tn.prototype.toString=function(){var e=Math.atan2(this._dy,this._dx),i=this.getClass().getName(),s=i.lastIndexOf(".");return"  "+i.substring(s+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label},Tn.prototype.computeLabel=function(e){},Tn.prototype.init=function(e,i){this._p0=e,this._p1=i,this._dx=i.x-e.x,this._dy=i.y-e.y,this._quadrant=ni.quadrant(this._dx,this._dy),Je.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")},Tn.prototype.interfaces_=function(){return[No]},Tn.prototype.getClass=function(){return Tn};var Zb=function(e){function i(){var s=arguments[0],a=arguments[1];if(e.call(this,s),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=a,a)this.init(s.getCoordinate(0),s.getCoordinate(1));else{var c=s.getNumPoints()-1;this.init(s.getCoordinate(c),s.getCoordinate(c-1))}this.computeDirectedLabel()}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getNextMin=function(){return this._nextMin},i.prototype.getDepth=function(s){return this._depth[s]},i.prototype.setVisited=function(s){this._isVisited=s},i.prototype.computeDirectedLabel=function(){this._label=new ri(this._edge.getLabel()),this._isForward||this._label.flip()},i.prototype.getNext=function(){return this._next},i.prototype.setDepth=function(s,a){if(this._depth[s]!==-999&&this._depth[s]!==a)throw new Ka("assigned depths do not match",this.getCoordinate());this._depth[s]=a},i.prototype.isInteriorAreaEdge=function(){for(var s=this,a=!0,c=0;c<2;c++)s._label.isArea(c)&&s._label.getLocation(c,ie.LEFT)===Ot.INTERIOR&&s._label.getLocation(c,ie.RIGHT)===Ot.INTERIOR||(a=!1);return a},i.prototype.setNextMin=function(s){this._nextMin=s},i.prototype.print=function(s){e.prototype.print.call(this,s),s.print(" "+this._depth[ie.LEFT]+"/"+this._depth[ie.RIGHT]),s.print(" ("+this.getDepthDelta()+")"),this._isInResult&&s.print(" inResult")},i.prototype.setMinEdgeRing=function(s){this._minEdgeRing=s},i.prototype.isLineEdge=function(){var s=this._label.isLine(0)||this._label.isLine(1),a=!this._label.isArea(0)||this._label.allPositionsEqual(0,Ot.EXTERIOR),c=!this._label.isArea(1)||this._label.allPositionsEqual(1,Ot.EXTERIOR);return s&&a&&c},i.prototype.setEdgeRing=function(s){this._edgeRing=s},i.prototype.getMinEdgeRing=function(){return this._minEdgeRing},i.prototype.getDepthDelta=function(){var s=this._edge.getDepthDelta();return this._isForward||(s=-s),s},i.prototype.setInResult=function(s){this._isInResult=s},i.prototype.getSym=function(){return this._sym},i.prototype.isForward=function(){return this._isForward},i.prototype.getEdge=function(){return this._edge},i.prototype.printEdge=function(s){this.print(s),s.print(" "),this._isForward?this._edge.print(s):this._edge.printReverse(s)},i.prototype.setSym=function(s){this._sym=s},i.prototype.setVisitedEdge=function(s){this.setVisited(s),this._sym.setVisited(s)},i.prototype.setEdgeDepths=function(s,a){var c=this.getEdge().getDepthDelta();this._isForward||(c=-c);var h=1;s===ie.LEFT&&(h=-1);var g=ie.opposite(s),y=a+c*h;this.setDepth(s,a),this.setDepth(g,y)},i.prototype.getEdgeRing=function(){return this._edgeRing},i.prototype.isInResult=function(){return this._isInResult},i.prototype.setNext=function(s){this._next=s},i.prototype.isVisited=function(){return this._isVisited},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i.depthFactor=function(s,a){return s===Ot.EXTERIOR&&a===Ot.INTERIOR?1:s===Ot.INTERIOR&&a===Ot.EXTERIOR?-1:0},i}(Tn),Td=function(){};Td.prototype.createNode=function(e){return new m0(e,null)},Td.prototype.interfaces_=function(){return[]},Td.prototype.getClass=function(){return Td};var Ti=function(){if(this._edges=new ae,this._nodes=null,this._edgeEndList=new ae,arguments.length===0)this._nodes=new js(new Td);else if(arguments.length===1){var e=arguments[0];this._nodes=new js(e)}};Ti.prototype.printEdges=function(e){e.println("Edges:");for(var i=0;i<this._edges.size();i++){e.println("edge "+i+":");var s=this._edges.get(i);s.print(e),s.eiList.print(e)}},Ti.prototype.find=function(e){return this._nodes.find(e)},Ti.prototype.addNode=function(){if(arguments[0]instanceof m0){var e=arguments[0];return this._nodes.addNode(e)}if(arguments[0]instanceof Ct){var i=arguments[0];return this._nodes.addNode(i)}},Ti.prototype.getNodeIterator=function(){return this._nodes.iterator()},Ti.prototype.linkResultDirectedEdges=function(){for(var e=this._nodes.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()},Ti.prototype.debugPrintln=function(e){pn.out.println(e)},Ti.prototype.isBoundaryNode=function(e,i){var s=this._nodes.find(i);if(s===null)return!1;var a=s.getLabel();return a!==null&&a.getLocation(e)===Ot.BOUNDARY},Ti.prototype.linkAllDirectedEdges=function(){for(var e=this._nodes.iterator();e.hasNext();)e.next().getEdges().linkAllDirectedEdges()},Ti.prototype.matchInSameDirection=function(e,i,s,a){return!!e.equals(s)&&he.computeOrientation(e,i,a)===he.COLLINEAR&&ni.quadrant(e,i)===ni.quadrant(s,a)},Ti.prototype.getEdgeEnds=function(){return this._edgeEndList},Ti.prototype.debugPrint=function(e){pn.out.print(e)},Ti.prototype.getEdgeIterator=function(){return this._edges.iterator()},Ti.prototype.findEdgeInSameDirection=function(e,i){for(var s=this,a=0;a<this._edges.size();a++){var c=s._edges.get(a),h=c.getCoordinates();if(s.matchInSameDirection(e,i,h[0],h[1])||s.matchInSameDirection(e,i,h[h.length-1],h[h.length-2]))return c}return null},Ti.prototype.insertEdge=function(e){this._edges.add(e)},Ti.prototype.findEdgeEnd=function(e){for(var i=this.getEdgeEnds().iterator();i.hasNext();){var s=i.next();if(s.getEdge()===e)return s}return null},Ti.prototype.addEdges=function(e){for(var i=this,s=e.iterator();s.hasNext();){var a=s.next();i._edges.add(a);var c=new Zb(a,!0),h=new Zb(a,!1);c.setSym(h),h.setSym(c),i.add(c),i.add(h)}},Ti.prototype.add=function(e){this._nodes.add(e),this._edgeEndList.add(e)},Ti.prototype.getNodes=function(){return this._nodes.values()},Ti.prototype.findEdge=function(e,i){for(var s=0;s<this._edges.size();s++){var a=this._edges.get(s),c=a.getCoordinates();if(e.equals(c[0])&&i.equals(c[1]))return a}return null},Ti.prototype.interfaces_=function(){return[]},Ti.prototype.getClass=function(){return Ti},Ti.linkResultDirectedEdges=function(e){for(var i=e.iterator();i.hasNext();)i.next().getEdges().linkResultDirectedEdges()};var no=function(){this._geometryFactory=null,this._shellList=new ae;var e=arguments[0];this._geometryFactory=e};no.prototype.sortShellsAndHoles=function(e,i,s){for(var a=e.iterator();a.hasNext();){var c=a.next();c.isHole()?s.add(c):i.add(c)}},no.prototype.computePolygons=function(e){for(var i=new ae,s=e.iterator();s.hasNext();){var a=s.next().toPolygon(this._geometryFactory);i.add(a)}return i},no.prototype.placeFreeHoles=function(e,i){for(var s=i.iterator();s.hasNext();){var a=s.next();if(a.getShell()===null){var c=this.findEdgeRingContaining(a,e);if(c===null)throw new Ka("unable to assign hole to a shell",a.getCoordinate(0));a.setShell(c)}}},no.prototype.buildMinimalEdgeRings=function(e,i,s){for(var a=new ae,c=e.iterator();c.hasNext();){var h=c.next();if(h.getMaxNodeDegree()>2){h.linkDirectedEdgesForMinimalEdgeRings();var g=h.buildMinimalRings(),y=this.findShell(g);y!==null?(this.placePolygonHoles(y,g),i.add(y)):s.addAll(g)}else a.add(h)}return a},no.prototype.containsPoint=function(e){for(var i=this._shellList.iterator();i.hasNext();)if(i.next().containsPoint(e))return!0;return!1},no.prototype.buildMaximalEdgeRings=function(e){for(var i=new ae,s=e.iterator();s.hasNext();){var a=s.next();if(a.isInResult()&&a.getLabel().isArea()&&a.getEdgeRing()===null){var c=new UI(a,this._geometryFactory);i.add(c),c.setInResult()}}return i},no.prototype.placePolygonHoles=function(e,i){for(var s=i.iterator();s.hasNext();){var a=s.next();a.isHole()&&a.setShell(e)}},no.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},no.prototype.findEdgeRingContaining=function(e,i){for(var s=e.getLinearRing(),a=s.getEnvelopeInternal(),c=s.getCoordinateN(0),h=null,g=null,y=i.iterator();y.hasNext();){var w=y.next(),x=w.getLinearRing(),T=x.getEnvelopeInternal();h!==null&&(g=h.getLinearRing().getEnvelopeInternal());var E=!1;T.contains(a)&&he.isPointInRing(c,x.getCoordinates())&&(E=!0),E&&(h===null||g.contains(T))&&(h=w)}return h},no.prototype.findShell=function(e){for(var i=0,s=null,a=e.iterator();a.hasNext();){var c=a.next();c.isHole()||(s=c,i++)}return Je.isTrue(i<=1,"found two shells in MinimalEdgeRing list"),s},no.prototype.add=function(){if(arguments.length===1){var e=arguments[0];this.add(e.getEdgeEnds(),e.getNodes())}else if(arguments.length===2){var i=arguments[0],s=arguments[1];Ti.linkResultDirectedEdges(s);var a=this.buildMaximalEdgeRings(i),c=new ae,h=this.buildMinimalEdgeRings(a,this._shellList,c);this.sortShellsAndHoles(h,this._shellList,c),this.placeFreeHoles(this._shellList,c)}},no.prototype.interfaces_=function(){return[]},no.prototype.getClass=function(){return no};var Sd=function(){};Sd.prototype.getBounds=function(){},Sd.prototype.interfaces_=function(){return[]},Sd.prototype.getClass=function(){return Sd};var hs=function(){this._bounds=null,this._item=null;var e=arguments[0],i=arguments[1];this._bounds=e,this._item=i};hs.prototype.getItem=function(){return this._item},hs.prototype.getBounds=function(){return this._bounds},hs.prototype.interfaces_=function(){return[Sd,Do]},hs.prototype.getClass=function(){return hs};var Ja=function(){this._size=null,this._items=null,this._size=0,this._items=new ae,this._items.add(null)};Ja.prototype.poll=function(){if(this.isEmpty())return null;var e=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),e},Ja.prototype.size=function(){return this._size},Ja.prototype.reorder=function(e){for(var i=this,s=null,a=this._items.get(e);2*e<=this._size&&((s=2*e)!==i._size&&i._items.get(s+1).compareTo(i._items.get(s))<0&&s++,i._items.get(s).compareTo(a)<0);e=s)i._items.set(e,i._items.get(s));this._items.set(e,a)},Ja.prototype.clear=function(){this._size=0,this._items.clear()},Ja.prototype.isEmpty=function(){return this._size===0},Ja.prototype.add=function(e){this._items.add(null),this._size+=1;var i=this._size;for(this._items.set(0,e);e.compareTo(this._items.get(Math.trunc(i/2)))<0;i/=2)this._items.set(i,this._items.get(Math.trunc(i/2)));this._items.set(i,e)},Ja.prototype.interfaces_=function(){return[]},Ja.prototype.getClass=function(){return Ja};var Bl=function(){};Bl.prototype.visitItem=function(e){},Bl.prototype.interfaces_=function(){return[]},Bl.prototype.getClass=function(){return Bl};var Ju=function(){};Ju.prototype.insert=function(e,i){},Ju.prototype.remove=function(e,i){},Ju.prototype.query=function(){},Ju.prototype.interfaces_=function(){return[]},Ju.prototype.getClass=function(){return Ju};var qi=function(){if(this._childBoundables=new ae,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var e=arguments[0];this._level=e}}},Lk={serialVersionUID:{configurable:!0}};qi.prototype.getLevel=function(){return this._level},qi.prototype.size=function(){return this._childBoundables.size()},qi.prototype.getChildBoundables=function(){return this._childBoundables},qi.prototype.addChildBoundable=function(e){Je.isTrue(this._bounds===null),this._childBoundables.add(e)},qi.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},qi.prototype.getBounds=function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds},qi.prototype.interfaces_=function(){return[Sd,Do]},qi.prototype.getClass=function(){return qi},Lk.serialVersionUID.get=function(){return 6493722185909574e3},Object.defineProperties(qi,Lk);var ds=function(){};ds.reverseOrder=function(){return{compare:function(e,i){return i.compareTo(e)}}},ds.min=function(e){return ds.sort(e),e.get(0)},ds.sort=function(e,i){var s=e.toArray();i?Dc.sort(s,i):Dc.sort(s);for(var a=e.iterator(),c=0,h=s.length;c<h;c++)a.next(),a.set(s[c])},ds.singletonList=function(e){var i=new ae;return i.add(e),i};var Oi=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var e=arguments[0],i=arguments[1],s=arguments[2];this._boundable1=e,this._boundable2=i,this._itemDistance=s,this._distance=this.distance()};Oi.prototype.expandToQueue=function(e,i){var s=Oi.isComposite(this._boundable1),a=Oi.isComposite(this._boundable2);if(s&&a)return Oi.area(this._boundable1)>Oi.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,e,i),null):(this.expand(this._boundable2,this._boundable1,e,i),null);if(s)return this.expand(this._boundable1,this._boundable2,e,i),null;if(a)return this.expand(this._boundable2,this._boundable1,e,i),null;throw new xi("neither boundable is composite")},Oi.prototype.isLeaves=function(){return!(Oi.isComposite(this._boundable1)||Oi.isComposite(this._boundable2))},Oi.prototype.compareTo=function(e){var i=e;return this._distance<i._distance?-1:this._distance>i._distance?1:0},Oi.prototype.expand=function(e,i,s,a){for(var c=e.getChildBoundables().iterator();c.hasNext();){var h=c.next(),g=new Oi(h,i,this._itemDistance);g.getDistance()<a&&s.add(g)}},Oi.prototype.getBoundable=function(e){return e===0?this._boundable1:this._boundable2},Oi.prototype.getDistance=function(){return this._distance},Oi.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},Oi.prototype.interfaces_=function(){return[No]},Oi.prototype.getClass=function(){return Oi},Oi.area=function(e){return e.getBounds().getArea()},Oi.isComposite=function(e){return e instanceof qi};var en=function e(){if(this._root=null,this._built=!1,this._itemBoundables=new ae,this._nodeCapacity=null,arguments.length===0){var i=e.DEFAULT_NODE_CAPACITY;this._nodeCapacity=i}else if(arguments.length===1){var s=arguments[0];Je.isTrue(s>1,"Node capacity must be greater than 1"),this._nodeCapacity=s}},v0={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};en.prototype.getNodeCapacity=function(){return this._nodeCapacity},en.prototype.lastNode=function(e){return e.get(e.size()-1)},en.prototype.size=function(){var e=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var i=arguments[0],s=0,a=i.getChildBoundables().iterator();a.hasNext();){var c=a.next();c instanceof qi?s+=e.size(c):c instanceof hs&&(s+=1)}return s}},en.prototype.removeItem=function(e,i){for(var s=null,a=e.getChildBoundables().iterator();a.hasNext();){var c=a.next();c instanceof hs&&c.getItem()===i&&(s=c)}return s!==null&&(e.getChildBoundables().remove(s),!0)},en.prototype.itemsTree=function(){var e=this;if(arguments.length===0){this.build();var i=this.itemsTree(this._root);return i===null?new ae:i}if(arguments.length===1){for(var s=arguments[0],a=new ae,c=s.getChildBoundables().iterator();c.hasNext();){var h=c.next();if(h instanceof qi){var g=e.itemsTree(h);g!==null&&a.add(g)}else h instanceof hs?a.add(h.getItem()):Je.shouldNeverReachHere()}return a.size()<=0?null:a}},en.prototype.insert=function(e,i){Je.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new hs(e,i))},en.prototype.boundablesAtLevel=function(){var e=this;if(arguments.length===1){var i=arguments[0],s=new ae;return this.boundablesAtLevel(i,this._root,s),s}if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2];if(Je.isTrue(a>-2),c.getLevel()===a)return h.add(c),null;for(var g=c.getChildBoundables().iterator();g.hasNext();){var y=g.next();y instanceof qi?e.boundablesAtLevel(a,y,h):(Je.isTrue(y instanceof hs),a===-1&&h.add(y))}return null}},en.prototype.query=function(){var e=this;if(arguments.length===1){var i=arguments[0];this.build();var s=new ae;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),i)&&this.query(i,this._root,s),s}if(arguments.length===2){var a=arguments[0],c=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),a)&&this.query(a,this._root,c)}else if(arguments.length===3){if(je(arguments[2],Bl)&&arguments[0]instanceof Object&&arguments[1]instanceof qi)for(var h=arguments[0],g=arguments[1],y=arguments[2],w=g.getChildBoundables(),x=0;x<w.size();x++){var T=w.get(x);e.getIntersectsOp().intersects(T.getBounds(),h)&&(T instanceof qi?e.query(h,T,y):T instanceof hs?y.visitItem(T.getItem()):Je.shouldNeverReachHere())}else if(je(arguments[2],ls)&&arguments[0]instanceof Object&&arguments[1]instanceof qi)for(var E=arguments[0],P=arguments[1],z=arguments[2],N=P.getChildBoundables(),B=0;B<N.size();B++){var R=N.get(B);e.getIntersectsOp().intersects(R.getBounds(),E)&&(R instanceof qi?e.query(E,R,z):R instanceof hs?z.add(R.getItem()):Je.shouldNeverReachHere())}}},en.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},en.prototype.getRoot=function(){return this.build(),this._root},en.prototype.remove=function(){var e=this;if(arguments.length===2){var i=arguments[0],s=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),i)&&this.remove(i,this._root,s)}if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2],g=this.removeItem(c,h);if(g)return!0;for(var y=null,w=c.getChildBoundables().iterator();w.hasNext();){var x=w.next();if(e.getIntersectsOp().intersects(x.getBounds(),a)&&x instanceof qi&&(g=e.remove(a,x,h))){y=x;break}}return y!==null&&y.getChildBoundables().isEmpty()&&c.getChildBoundables().remove(y),g}},en.prototype.createHigherLevels=function(e,i){Je.isTrue(!e.isEmpty());var s=this.createParentBoundables(e,i+1);return s.size()===1?s.get(0):this.createHigherLevels(s,i+1)},en.prototype.depth=function(){var e=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var i=arguments[0],s=0,a=i.getChildBoundables().iterator();a.hasNext();){var c=a.next();if(c instanceof qi){var h=e.depth(c);h>s&&(s=h)}}return s+1}},en.prototype.createParentBoundables=function(e,i){var s=this;Je.isTrue(!e.isEmpty());var a=new ae;a.add(this.createNode(i));var c=new ae(e);ds.sort(c,this.getComparator());for(var h=c.iterator();h.hasNext();){var g=h.next();s.lastNode(a).getChildBoundables().size()===s.getNodeCapacity()&&a.add(s.createNode(i)),s.lastNode(a).addChildBoundable(g)}return a},en.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},en.prototype.interfaces_=function(){return[Do]},en.prototype.getClass=function(){return en},en.compareDoubles=function(e,i){return e>i?1:e<i?-1:0},v0.IntersectsOp.get=function(){return GI},v0.serialVersionUID.get=function(){return-3886435814360241e3},v0.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(en,v0);var GI=function(){},Cd=function(){};Cd.prototype.distance=function(e,i){},Cd.prototype.interfaces_=function(){return[]},Cd.prototype.getClass=function(){return Cd};var Rk=function(e){function i(a){a=a||i.DEFAULT_NODE_CAPACITY,e.call(this,a)}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return i.prototype.createParentBoundablesFromVerticalSlices=function(a,c){Je.isTrue(a.length>0);for(var h=new ae,g=0;g<a.length;g++)h.addAll(this.createParentBoundablesFromVerticalSlice(a[g],c));return h},i.prototype.createNode=function(a){return new Ak(a)},i.prototype.size=function(){return arguments.length===0?e.prototype.size.call(this):e.prototype.size.apply(this,arguments)},i.prototype.insert=function(){if(arguments.length!==2)return e.prototype.insert.apply(this,arguments);var a=arguments[0],c=arguments[1];if(a.isNull())return null;e.prototype.insert.call(this,a,c)},i.prototype.getIntersectsOp=function(){return i.intersectsOp},i.prototype.verticalSlices=function(a,c){for(var h=Math.trunc(Math.ceil(a.size()/c)),g=new Array(c).fill(null),y=a.iterator(),w=0;w<c;w++){g[w]=new ae;for(var x=0;y.hasNext()&&x<h;){var T=y.next();g[w].add(T),x++}}return g},i.prototype.query=function(){if(arguments.length===1){var a=arguments[0];return e.prototype.query.call(this,a)}if(arguments.length===2){var c=arguments[0],h=arguments[1];e.prototype.query.call(this,c,h)}else if(arguments.length===3){if(je(arguments[2],Bl)&&arguments[0]instanceof Object&&arguments[1]instanceof qi){var g=arguments[0],y=arguments[1],w=arguments[2];e.prototype.query.call(this,g,y,w)}else if(je(arguments[2],ls)&&arguments[0]instanceof Object&&arguments[1]instanceof qi){var x=arguments[0],T=arguments[1],E=arguments[2];e.prototype.query.call(this,x,T,E)}}},i.prototype.getComparator=function(){return i.yComparator},i.prototype.createParentBoundablesFromVerticalSlice=function(a,c){return e.prototype.createParentBoundables.call(this,a,c)},i.prototype.remove=function(){if(arguments.length===2){var a=arguments[0],c=arguments[1];return e.prototype.remove.call(this,a,c)}return e.prototype.remove.apply(this,arguments)},i.prototype.depth=function(){return arguments.length===0?e.prototype.depth.call(this):e.prototype.depth.apply(this,arguments)},i.prototype.createParentBoundables=function(a,c){Je.isTrue(!a.isEmpty());var h=Math.trunc(Math.ceil(a.size()/this.getNodeCapacity())),g=new ae(a);ds.sort(g,i.xComparator);var y=this.verticalSlices(g,Math.trunc(Math.ceil(Math.sqrt(h))));return this.createParentBoundablesFromVerticalSlices(y,c)},i.prototype.nearestNeighbour=function(){if(arguments.length===1){if(je(arguments[0],Cd)){var a=arguments[0],c=new Oi(this.getRoot(),this.getRoot(),a);return this.nearestNeighbour(c)}if(arguments[0]instanceof Oi){var h=arguments[0];return this.nearestNeighbour(h,Ze.POSITIVE_INFINITY)}}else if(arguments.length===2){if(arguments[0]instanceof i&&je(arguments[1],Cd)){var g=arguments[0],y=arguments[1],w=new Oi(this.getRoot(),g.getRoot(),y);return this.nearestNeighbour(w)}if(arguments[0]instanceof Oi&&typeof arguments[1]=="number"){var x=arguments[0],T=arguments[1],E=T,P=null,z=new Ja;for(z.add(x);!z.isEmpty()&&E>0;){var N=z.poll(),B=N.getDistance();if(B>=E)break;N.isLeaves()?(E=B,P=N):N.expandToQueue(z,E)}return[P.getBoundable(0).getItem(),P.getBoundable(1).getItem()]}}else if(arguments.length===3){var R=arguments[0],X=arguments[1],it=arguments[2],D=new hs(R,X),Y=new Oi(this.getRoot(),D,it);return this.nearestNeighbour(Y)[0]}},i.prototype.interfaces_=function(){return[Ju,Do]},i.prototype.getClass=function(){return i},i.centreX=function(a){return i.avg(a.getMinX(),a.getMaxX())},i.avg=function(a,c){return(a+c)/2},i.centreY=function(a){return i.avg(a.getMinY(),a.getMaxY())},s.STRtreeNode.get=function(){return Ak},s.serialVersionUID.get=function(){return 0x39920f7d5f261e0},s.xComparator.get=function(){return{interfaces_:function(){return[pd]},compare:function(a,c){return e.compareDoubles(i.centreX(a.getBounds()),i.centreX(c.getBounds()))}}},s.yComparator.get=function(){return{interfaces_:function(){return[pd]},compare:function(a,c){return e.compareDoubles(i.centreY(a.getBounds()),i.centreY(c.getBounds()))}}},s.intersectsOp.get=function(){return{interfaces_:function(){return[e.IntersectsOp]},intersects:function(a,c){return a.intersects(c)}}},s.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(i,s),i}(en),Ak=function(e){function i(){var s=arguments[0];e.call(this,s)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.computeBounds=function(){for(var s=null,a=this.getChildBoundables().iterator();a.hasNext();){var c=a.next();s===null?s=new Le(c.getBounds()):s.expandToInclude(c.getBounds())}return s},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(qi),Xn=function(){};Xn.prototype.interfaces_=function(){return[]},Xn.prototype.getClass=function(){return Xn},Xn.relativeSign=function(e,i){return e<i?-1:e>i?1:0},Xn.compare=function(e,i,s){if(i.equals2D(s))return 0;var a=Xn.relativeSign(i.x,s.x),c=Xn.relativeSign(i.y,s.y);switch(e){case 0:return Xn.compareValue(a,c);case 1:return Xn.compareValue(c,a);case 2:return Xn.compareValue(c,-a);case 3:return Xn.compareValue(-a,c);case 4:return Xn.compareValue(-a,-c);case 5:return Xn.compareValue(-c,-a);case 6:return Xn.compareValue(-c,a);case 7:return Xn.compareValue(a,-c)}return Je.shouldNeverReachHere("invalid octant value"),0},Xn.compareValue=function(e,i){return e<0?-1:e>0?1:i<0?-1:i>0?1:0};var jl=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var e=arguments[0],i=arguments[1],s=arguments[2],a=arguments[3];this._segString=e,this.coord=new Ct(i),this.segmentIndex=s,this._segmentOctant=a,this._isInterior=!i.equals2D(e.getCoordinate(s))};jl.prototype.getCoordinate=function(){return this.coord},jl.prototype.print=function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex)},jl.prototype.compareTo=function(e){var i=e;return this.segmentIndex<i.segmentIndex?-1:this.segmentIndex>i.segmentIndex?1:this.coord.equals2D(i.coord)?0:Xn.compare(this._segmentOctant,this.coord,i.coord)},jl.prototype.isEndPoint=function(e){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===e},jl.prototype.isInterior=function(){return this._isInterior},jl.prototype.interfaces_=function(){return[No]},jl.prototype.getClass=function(){return jl};var Nn=function(){this._nodeMap=new En,this._edge=null;var e=arguments[0];this._edge=e};Nn.prototype.getSplitCoordinates=function(){var e=new _f;this.addEndpoints();for(var i=this.iterator(),s=i.next();i.hasNext();){var a=i.next();this.addEdgeCoordinates(s,a,e),s=a}return e.toCoordinateArray()},Nn.prototype.addCollapsedNodes=function(){var e=new ae;this.findCollapsesFromInsertedNodes(e),this.findCollapsesFromExistingVertices(e);for(var i=e.iterator();i.hasNext();){var s=i.next().intValue();this.add(this._edge.getCoordinate(s),s)}},Nn.prototype.print=function(e){e.println("Intersections:");for(var i=this.iterator();i.hasNext();)i.next().print(e)},Nn.prototype.findCollapsesFromExistingVertices=function(e){for(var i=0;i<this._edge.size()-2;i++){var s=this._edge.getCoordinate(i),a=this._edge.getCoordinate(i+2);s.equals2D(a)&&e.add(new Ls(i+1))}},Nn.prototype.addEdgeCoordinates=function(e,i,s){var a=this._edge.getCoordinate(i.segmentIndex),c=i.isInterior()||!i.coord.equals2D(a);s.add(new Ct(e.coord),!1);for(var h=e.segmentIndex+1;h<=i.segmentIndex;h++)s.add(this._edge.getCoordinate(h));c&&s.add(new Ct(i.coord))},Nn.prototype.iterator=function(){return this._nodeMap.values().iterator()},Nn.prototype.addSplitEdges=function(e){this.addEndpoints(),this.addCollapsedNodes();for(var i=this.iterator(),s=i.next();i.hasNext();){var a=i.next(),c=this.createSplitEdge(s,a);e.add(c),s=a}},Nn.prototype.findCollapseIndex=function(e,i,s){if(!e.coord.equals2D(i.coord))return!1;var a=i.segmentIndex-e.segmentIndex;return i.isInterior()||a--,a===1&&(s[0]=e.segmentIndex+1,!0)},Nn.prototype.findCollapsesFromInsertedNodes=function(e){for(var i=new Array(1).fill(null),s=this.iterator(),a=s.next();s.hasNext();){var c=s.next();this.findCollapseIndex(a,c,i)&&e.add(new Ls(i[0])),a=c}},Nn.prototype.getEdge=function(){return this._edge},Nn.prototype.addEndpoints=function(){var e=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(e),e)},Nn.prototype.createSplitEdge=function(e,i){var s=i.segmentIndex-e.segmentIndex+2,a=this._edge.getCoordinate(i.segmentIndex),c=i.isInterior()||!i.coord.equals2D(a);c||s--;var h=new Array(s).fill(null),g=0;h[g++]=new Ct(e.coord);for(var y=e.segmentIndex+1;y<=i.segmentIndex;y++)h[g++]=this._edge.getCoordinate(y);return c&&(h[g]=new Ct(i.coord)),new Li(h,this._edge.getData())},Nn.prototype.add=function(e,i){var s=new jl(this._edge,e,i,this._edge.getSegmentOctant(i)),a=this._nodeMap.get(s);return a!==null?(Je.isTrue(a.coord.equals2D(e),"Found equal nodes with different coordinates"),a):(this._nodeMap.put(s,s),s)},Nn.prototype.checkSplitEdgesCorrectness=function(e){var i=this._edge.getCoordinates(),s=e.get(0).getCoordinate(0);if(!s.equals2D(i[0]))throw new Va("bad split edge start point at "+s);var a=e.get(e.size()-1).getCoordinates(),c=a[a.length-1];if(!c.equals2D(i[i.length-1]))throw new Va("bad split edge end point at "+c)},Nn.prototype.interfaces_=function(){return[]},Nn.prototype.getClass=function(){return Nn};var Qu=function(){};Qu.prototype.interfaces_=function(){return[]},Qu.prototype.getClass=function(){return Qu},Qu.octant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],i=arguments[1];if(e===0&&i===0)throw new xi("Cannot compute the octant for point ( "+e+", "+i+" )");var s=Math.abs(e),a=Math.abs(i);return e>=0?i>=0?s>=a?0:1:s>=a?7:6:i>=0?s>=a?3:2:s>=a?4:5}if(arguments[0]instanceof Ct&&arguments[1]instanceof Ct){var c=arguments[0],h=arguments[1],g=h.x-c.x,y=h.y-c.y;if(g===0&&y===0)throw new xi("Cannot compute the octant for two identical points "+c);return Qu.octant(g,y)}};var va=function(){};va.prototype.getCoordinates=function(){},va.prototype.size=function(){},va.prototype.getCoordinate=function(e){},va.prototype.isClosed=function(){},va.prototype.setData=function(e){},va.prototype.getData=function(){},va.prototype.interfaces_=function(){return[]},va.prototype.getClass=function(){return va};var Lf=function(){};Lf.prototype.addIntersection=function(e,i){},Lf.prototype.interfaces_=function(){return[va]},Lf.prototype.getClass=function(){return Lf};var Li=function(){this._nodeList=new Nn(this),this._pts=null,this._data=null;var e=arguments[0],i=arguments[1];this._pts=e,this._data=i};Li.prototype.getCoordinates=function(){return this._pts},Li.prototype.size=function(){return this._pts.length},Li.prototype.getCoordinate=function(e){return this._pts[e]},Li.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Li.prototype.getSegmentOctant=function(e){return e===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(e),this.getCoordinate(e+1))},Li.prototype.setData=function(e){this._data=e},Li.prototype.safeOctant=function(e,i){return e.equals2D(i)?0:Qu.octant(e,i)},Li.prototype.getData=function(){return this._data},Li.prototype.addIntersection=function(){if(arguments.length===2){var e=arguments[0],i=arguments[1];this.addIntersectionNode(e,i)}else if(arguments.length===4){var s=arguments[0],a=arguments[1],c=arguments[3],h=new Ct(s.getIntersection(c));this.addIntersection(h,a)}},Li.prototype.toString=function(){return as.toLineString(new Ii(this._pts))},Li.prototype.getNodeList=function(){return this._nodeList},Li.prototype.addIntersectionNode=function(e,i){var s=i,a=s+1;if(a<this._pts.length){var c=this._pts[a];e.equals2D(c)&&(s=a)}return this._nodeList.add(e,s)},Li.prototype.addIntersections=function(e,i,s){for(var a=0;a<e.getIntersectionNum();a++)this.addIntersection(e,i,s,a)},Li.prototype.interfaces_=function(){return[Lf]},Li.prototype.getClass=function(){return Li},Li.getNodedSubstrings=function(){if(arguments.length===1){var e=arguments[0],i=new ae;return Li.getNodedSubstrings(e,i),i}if(arguments.length===2)for(var s=arguments[0],a=arguments[1],c=s.iterator();c.hasNext();){var h=c.next();h.getNodeList().addSplitEdges(a)}};var Re=function(){if(this.p0=null,this.p1=null,arguments.length===0)this.p0=new Ct,this.p1=new Ct;else if(arguments.length===1){var e=arguments[0];this.p0=new Ct(e.p0),this.p1=new Ct(e.p1)}else if(arguments.length===2)this.p0=arguments[0],this.p1=arguments[1];else if(arguments.length===4){var i=arguments[0],s=arguments[1],a=arguments[2],c=arguments[3];this.p0=new Ct(i,s),this.p1=new Ct(a,c)}},Ok={serialVersionUID:{configurable:!0}};Re.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},Re.prototype.orientationIndex=function(){if(arguments[0]instanceof Re){var e=arguments[0],i=he.orientationIndex(this.p0,this.p1,e.p0),s=he.orientationIndex(this.p0,this.p1,e.p1);return i>=0&&s>=0||i<=0&&s<=0?Math.max(i,s):0}if(arguments[0]instanceof Ct){var a=arguments[0];return he.orientationIndex(this.p0,this.p1,a)}},Re.prototype.toGeometry=function(e){return e.createLineString([this.p0,this.p1])},Re.prototype.isVertical=function(){return this.p0.x===this.p1.x},Re.prototype.equals=function(e){if(!(e instanceof Re))return!1;var i=e;return this.p0.equals(i.p0)&&this.p1.equals(i.p1)},Re.prototype.intersection=function(e){var i=new Nc;return i.computeIntersection(this.p0,this.p1,e.p0,e.p1),i.hasIntersection()?i.getIntersection(0):null},Re.prototype.project=function(){if(arguments[0]instanceof Ct){var e=arguments[0];if(e.equals(this.p0)||e.equals(this.p1))return new Ct(e);var i=this.projectionFactor(e),s=new Ct;return s.x=this.p0.x+i*(this.p1.x-this.p0.x),s.y=this.p0.y+i*(this.p1.y-this.p0.y),s}if(arguments[0]instanceof Re){var a=arguments[0],c=this.projectionFactor(a.p0),h=this.projectionFactor(a.p1);if(c>=1&&h>=1||c<=0&&h<=0)return null;var g=this.project(a.p0);c<0&&(g=this.p0),c>1&&(g=this.p1);var y=this.project(a.p1);return h<0&&(y=this.p0),h>1&&(y=this.p1),new Re(g,y)}},Re.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},Re.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},Re.prototype.getCoordinate=function(e){return e===0?this.p0:this.p1},Re.prototype.distancePerpendicular=function(e){return he.distancePointLinePerpendicular(e,this.p0,this.p1)},Re.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},Re.prototype.midPoint=function(){return Re.midPoint(this.p0,this.p1)},Re.prototype.projectionFactor=function(e){if(e.equals(this.p0))return 0;if(e.equals(this.p1))return 1;var i=this.p1.x-this.p0.x,s=this.p1.y-this.p0.y,a=i*i+s*s;return a<=0?Ze.NaN:((e.x-this.p0.x)*i+(e.y-this.p0.y)*s)/a},Re.prototype.closestPoints=function(e){var i=this.intersection(e);if(i!==null)return[i,i];var s=new Array(2).fill(null),a=Ze.MAX_VALUE,c=null,h=this.closestPoint(e.p0);a=h.distance(e.p0),s[0]=h,s[1]=e.p0;var g=this.closestPoint(e.p1);(c=g.distance(e.p1))<a&&(a=c,s[0]=g,s[1]=e.p1);var y=e.closestPoint(this.p0);(c=y.distance(this.p0))<a&&(a=c,s[0]=this.p0,s[1]=y);var w=e.closestPoint(this.p1);return(c=w.distance(this.p1))<a&&(a=c,s[0]=this.p1,s[1]=w),s},Re.prototype.closestPoint=function(e){var i=this.projectionFactor(e);return i>0&&i<1?this.project(e):this.p0.distance(e)<this.p1.distance(e)?this.p0:this.p1},Re.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},Re.prototype.getLength=function(){return this.p0.distance(this.p1)},Re.prototype.compareTo=function(e){var i=e,s=this.p0.compareTo(i.p0);return s!==0?s:this.p1.compareTo(i.p1)},Re.prototype.reverse=function(){var e=this.p0;this.p0=this.p1,this.p1=e},Re.prototype.equalsTopo=function(e){return this.p0.equals(e.p0)&&(this.p1.equals(e.p1)||this.p0.equals(e.p1))&&this.p1.equals(e.p0)},Re.prototype.lineIntersection=function(e){try{return ss.intersection(this.p0,this.p1,e.p0,e.p1)}catch(i){if(!(i instanceof gd))throw i}return null},Re.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},Re.prototype.pointAlongOffset=function(e,i){var s=this.p0.x+e*(this.p1.x-this.p0.x),a=this.p0.y+e*(this.p1.y-this.p0.y),c=this.p1.x-this.p0.x,h=this.p1.y-this.p0.y,g=Math.sqrt(c*c+h*h),y=0,w=0;if(i!==0){if(g<=0)throw new Error("Cannot compute offset from zero-length line segment");y=i*c/g,w=i*h/g}return new Ct(s-w,a+y)},Re.prototype.setCoordinates=function(){if(arguments.length===1){var e=arguments[0];this.setCoordinates(e.p0,e.p1)}else if(arguments.length===2){var i=arguments[0],s=arguments[1];this.p0.x=i.x,this.p0.y=i.y,this.p1.x=s.x,this.p1.y=s.y}},Re.prototype.segmentFraction=function(e){var i=this.projectionFactor(e);return i<0?i=0:(i>1||Ze.isNaN(i))&&(i=1),i},Re.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},Re.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},Re.prototype.distance=function(){if(arguments[0]instanceof Re){var e=arguments[0];return he.distanceLineLine(this.p0,this.p1,e.p0,e.p1)}if(arguments[0]instanceof Ct){var i=arguments[0];return he.distancePointLine(i,this.p0,this.p1)}},Re.prototype.pointAlong=function(e){var i=new Ct;return i.x=this.p0.x+e*(this.p1.x-this.p0.x),i.y=this.p0.y+e*(this.p1.y-this.p0.y),i},Re.prototype.hashCode=function(){var e=Ze.doubleToLongBits(this.p0.x);e^=31*Ze.doubleToLongBits(this.p0.y);var i=Math.trunc(e)^Math.trunc(e>>32),s=Ze.doubleToLongBits(this.p1.x);return s^=31*Ze.doubleToLongBits(this.p1.y),i^(Math.trunc(s)^Math.trunc(s>>32))},Re.prototype.interfaces_=function(){return[No,Do]},Re.prototype.getClass=function(){return Re},Re.midPoint=function(e,i){return new Ct((e.x+i.x)/2,(e.y+i.y)/2)},Ok.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(Re,Ok);var Rf=function(){this.tempEnv1=new Le,this.tempEnv2=new Le,this._overlapSeg1=new Re,this._overlapSeg2=new Re};Rf.prototype.overlap=function(){if(arguments.length!==2){if(arguments.length===4){var e=arguments[0],i=arguments[1],s=arguments[2],a=arguments[3];e.getLineSegment(i,this._overlapSeg1),s.getLineSegment(a,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}},Rf.prototype.interfaces_=function(){return[]},Rf.prototype.getClass=function(){return Rf};var oo=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var e=arguments[0],i=arguments[1],s=arguments[2],a=arguments[3];this._pts=e,this._start=i,this._end=s,this._context=a};oo.prototype.getLineSegment=function(e,i){i.p0=this._pts[e],i.p1=this._pts[e+1]},oo.prototype.computeSelect=function(e,i,s,a){var c=this._pts[i],h=this._pts[s];if(a.tempEnv1.init(c,h),s-i==1)return a.select(this,i),null;if(!e.intersects(a.tempEnv1))return null;var g=Math.trunc((i+s)/2);i<g&&this.computeSelect(e,i,g,a),g<s&&this.computeSelect(e,g,s,a)},oo.prototype.getCoordinates=function(){for(var e=new Array(this._end-this._start+1).fill(null),i=0,s=this._start;s<=this._end;s++)e[i++]=this._pts[s];return e},oo.prototype.computeOverlaps=function(e,i){this.computeOverlapsInternal(this._start,this._end,e,e._start,e._end,i)},oo.prototype.setId=function(e){this._id=e},oo.prototype.select=function(e,i){this.computeSelect(e,this._start,this._end,i)},oo.prototype.getEnvelope=function(){if(this._env===null){var e=this._pts[this._start],i=this._pts[this._end];this._env=new Le(e,i)}return this._env},oo.prototype.getEndIndex=function(){return this._end},oo.prototype.getStartIndex=function(){return this._start},oo.prototype.getContext=function(){return this._context},oo.prototype.getId=function(){return this._id},oo.prototype.computeOverlapsInternal=function(e,i,s,a,c,h){var g=this._pts[e],y=this._pts[i],w=s._pts[a],x=s._pts[c];if(i-e==1&&c-a==1)return h.overlap(this,e,s,a),null;if(h.tempEnv1.init(g,y),h.tempEnv2.init(w,x),!h.tempEnv1.intersects(h.tempEnv2))return null;var T=Math.trunc((e+i)/2),E=Math.trunc((a+c)/2);e<T&&(a<E&&this.computeOverlapsInternal(e,T,s,a,E,h),E<c&&this.computeOverlapsInternal(e,T,s,E,c,h)),T<i&&(a<E&&this.computeOverlapsInternal(T,i,s,a,E,h),E<c&&this.computeOverlapsInternal(T,i,s,E,c,h))},oo.prototype.interfaces_=function(){return[]},oo.prototype.getClass=function(){return oo};var Hs=function(){};Hs.prototype.interfaces_=function(){return[]},Hs.prototype.getClass=function(){return Hs},Hs.getChainStartIndices=function(e){var i=0,s=new ae;s.add(new Ls(i));do{var a=Hs.findChainEnd(e,i);s.add(new Ls(a)),i=a}while(i<e.length-1);return Hs.toIntArray(s)},Hs.findChainEnd=function(e,i){for(var s=i;s<e.length-1&&e[s].equals2D(e[s+1]);)s++;if(s>=e.length-1)return e.length-1;for(var a=ni.quadrant(e[s],e[s+1]),c=i+1;c<e.length&&!(!e[c-1].equals2D(e[c])&&ni.quadrant(e[c-1],e[c])!==a);)c++;return c-1},Hs.getChains=function(){if(arguments.length===1){var e=arguments[0];return Hs.getChains(e,null)}if(arguments.length===2){for(var i=arguments[0],s=arguments[1],a=new ae,c=Hs.getChainStartIndices(i),h=0;h<c.length-1;h++){var g=new oo(i,c[h],c[h+1],s);a.add(g)}return a}},Hs.toIntArray=function(e){for(var i=new Array(e.size()).fill(null),s=0;s<i.length;s++)i[s]=e.get(s).intValue();return i};var Bc=function(){};Bc.prototype.computeNodes=function(e){},Bc.prototype.getNodedSubstrings=function(){},Bc.prototype.interfaces_=function(){return[]},Bc.prototype.getClass=function(){return Bc};var Af=function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var e=arguments[0];this.setSegmentIntersector(e)}}};Af.prototype.setSegmentIntersector=function(e){this._segInt=e},Af.prototype.interfaces_=function(){return[Bc]},Af.prototype.getClass=function(){return Af};var Yb=function(e){function i(a){a?e.call(this,a):e.call(this),this._monoChains=new ae,this._index=new Rk,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={SegmentOverlapAction:{configurable:!0}};return i.prototype.getMonotoneChains=function(){return this._monoChains},i.prototype.getNodedSubstrings=function(){return Li.getNodedSubstrings(this._nodedSegStrings)},i.prototype.getIndex=function(){return this._index},i.prototype.add=function(a){for(var c=this,h=Hs.getChains(a.getCoordinates(),a).iterator();h.hasNext();){var g=h.next();g.setId(c._idCounter++),c._index.insert(g.getEnvelope(),g),c._monoChains.add(g)}},i.prototype.computeNodes=function(a){this._nodedSegStrings=a;for(var c=a.iterator();c.hasNext();)this.add(c.next());this.intersectChains()},i.prototype.intersectChains=function(){for(var a=this,c=new zk(this._segInt),h=this._monoChains.iterator();h.hasNext();)for(var g=h.next(),y=a._index.query(g.getEnvelope()).iterator();y.hasNext();){var w=y.next();if(w.getId()>g.getId()&&(g.computeOverlaps(w,c),a._nOverlaps++),a._segInt.isDone())return null}},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},s.SegmentOverlapAction.get=function(){return zk},Object.defineProperties(i,s),i}(Af),zk=function(e){function i(){e.call(this),this._si=null;var s=arguments[0];this._si=s}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.overlap=function(){if(arguments.length!==4)return e.prototype.overlap.apply(this,arguments);var s=arguments[0],a=arguments[1],c=arguments[2],h=arguments[3],g=s.getContext(),y=c.getContext();this._si.processIntersections(g,a,y,h)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(Rf),Kr=function e(){if(this._quadrantSegments=e.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=e.CAP_ROUND,this._joinStyle=e.JOIN_ROUND,this._mitreLimit=e.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=e.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var i=arguments[0];this.setQuadrantSegments(i)}else if(arguments.length===2){var s=arguments[0],a=arguments[1];this.setQuadrantSegments(s),this.setEndCapStyle(a)}else if(arguments.length===4){var c=arguments[0],h=arguments[1],g=arguments[2],y=arguments[3];this.setQuadrantSegments(c),this.setEndCapStyle(h),this.setJoinStyle(g),this.setMitreLimit(y)}}},Qa={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Kr.prototype.getEndCapStyle=function(){return this._endCapStyle},Kr.prototype.isSingleSided=function(){return this._isSingleSided},Kr.prototype.setQuadrantSegments=function(e){this._quadrantSegments=e,this._quadrantSegments===0&&(this._joinStyle=Kr.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Kr.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),e<=0&&(this._quadrantSegments=1),this._joinStyle!==Kr.JOIN_ROUND&&(this._quadrantSegments=Kr.DEFAULT_QUADRANT_SEGMENTS)},Kr.prototype.getJoinStyle=function(){return this._joinStyle},Kr.prototype.setJoinStyle=function(e){this._joinStyle=e},Kr.prototype.setSimplifyFactor=function(e){this._simplifyFactor=e<0?0:e},Kr.prototype.getSimplifyFactor=function(){return this._simplifyFactor},Kr.prototype.getQuadrantSegments=function(){return this._quadrantSegments},Kr.prototype.setEndCapStyle=function(e){this._endCapStyle=e},Kr.prototype.getMitreLimit=function(){return this._mitreLimit},Kr.prototype.setMitreLimit=function(e){this._mitreLimit=e},Kr.prototype.setSingleSided=function(e){this._isSingleSided=e},Kr.prototype.interfaces_=function(){return[]},Kr.prototype.getClass=function(){return Kr},Kr.bufferDistanceError=function(e){var i=Math.PI/2/e;return 1-Math.cos(i/2)},Qa.CAP_ROUND.get=function(){return 1},Qa.CAP_FLAT.get=function(){return 2},Qa.CAP_SQUARE.get=function(){return 3},Qa.JOIN_ROUND.get=function(){return 1},Qa.JOIN_MITRE.get=function(){return 2},Qa.JOIN_BEVEL.get=function(){return 3},Qa.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},Qa.DEFAULT_MITRE_LIMIT.get=function(){return 5},Qa.DEFAULT_SIMPLIFY_FACTOR.get=function(){return .01},Object.defineProperties(Kr,Qa);var Pi=function(e){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=he.COUNTERCLOCKWISE,this._inputLine=e||null},Of={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Pi.prototype.isDeletable=function(e,i,s,a){var c=this._inputLine[e],h=this._inputLine[i],g=this._inputLine[s];return!!this.isConcave(c,h,g)&&!!this.isShallow(c,h,g,a)&&this.isShallowSampled(c,h,e,s,a)},Pi.prototype.deleteShallowConcavities=function(){for(var e=this,i=1,s=this.findNextNonDeletedIndex(i),a=this.findNextNonDeletedIndex(s),c=!1;a<this._inputLine.length;){var h=!1;e.isDeletable(i,s,a,e._distanceTol)&&(e._isDeleted[s]=Pi.DELETE,h=!0,c=!0),i=h?a:s,s=e.findNextNonDeletedIndex(i),a=e.findNextNonDeletedIndex(s)}return c},Pi.prototype.isShallowConcavity=function(e,i,s,a){return he.computeOrientation(e,i,s)===this._angleOrientation&&he.distancePointLine(i,e,s)<a},Pi.prototype.isShallowSampled=function(e,i,s,a,c){var h=Math.trunc((a-s)/Pi.NUM_PTS_TO_CHECK);h<=0&&(h=1);for(var g=s;g<a;g+=h)if(!this.isShallow(e,i,this._inputLine[g],c))return!1;return!0},Pi.prototype.isConcave=function(e,i,s){var a=he.computeOrientation(e,i,s)===this._angleOrientation;return a},Pi.prototype.simplify=function(e){this._distanceTol=Math.abs(e),e<0&&(this._angleOrientation=he.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var i=!1;do i=this.deleteShallowConcavities();while(i);return this.collapseLine()},Pi.prototype.findNextNonDeletedIndex=function(e){for(var i=e+1;i<this._inputLine.length&&this._isDeleted[i]===Pi.DELETE;)i++;return i},Pi.prototype.isShallow=function(e,i,s,a){return he.distancePointLine(i,e,s)<a},Pi.prototype.collapseLine=function(){for(var e=new _f,i=0;i<this._inputLine.length;i++)this._isDeleted[i]!==Pi.DELETE&&e.add(this._inputLine[i]);return e.toCoordinateArray()},Pi.prototype.interfaces_=function(){return[]},Pi.prototype.getClass=function(){return Pi},Pi.simplify=function(e,i){return new Pi(e).simplify(i)},Of.INIT.get=function(){return 0},Of.DELETE.get=function(){return 1},Of.KEEP.get=function(){return 1},Of.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Pi,Of);var ko=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new ae},Nk={COORDINATE_ARRAY_TYPE:{configurable:!0}};ko.prototype.getCoordinates=function(){return this._ptList.toArray(ko.COORDINATE_ARRAY_TYPE)},ko.prototype.setPrecisionModel=function(e){this._precisionModel=e},ko.prototype.addPt=function(e){var i=new Ct(e);if(this._precisionModel.makePrecise(i),this.isRedundant(i))return null;this._ptList.add(i)},ko.prototype.revere=function(){},ko.prototype.addPts=function(e,i){if(i)for(var s=0;s<e.length;s++)this.addPt(e[s]);else for(var a=e.length-1;a>=0;a--)this.addPt(e[a])},ko.prototype.isRedundant=function(e){if(this._ptList.size()<1)return!1;var i=this._ptList.get(this._ptList.size()-1);return e.distance(i)<this._minimimVertexDistance},ko.prototype.toString=function(){return new lr().createLineString(this.getCoordinates()).toString()},ko.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var e=new Ct(this._ptList.get(0)),i=this._ptList.get(this._ptList.size()-1);if(e.equals(i))return null;this._ptList.add(e)},ko.prototype.setMinimumVertexDistance=function(e){this._minimimVertexDistance=e},ko.prototype.interfaces_=function(){return[]},ko.prototype.getClass=function(){return ko},Nk.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(ko,Nk);var mr=function(){},$u={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};mr.prototype.interfaces_=function(){return[]},mr.prototype.getClass=function(){return mr},mr.toDegrees=function(e){return 180*e/Math.PI},mr.normalize=function(e){for(;e>Math.PI;)e-=mr.PI_TIMES_2;for(;e<=-Math.PI;)e+=mr.PI_TIMES_2;return e},mr.angle=function(){if(arguments.length===1){var e=arguments[0];return Math.atan2(e.y,e.x)}if(arguments.length===2){var i=arguments[0],s=arguments[1],a=s.x-i.x,c=s.y-i.y;return Math.atan2(c,a)}},mr.isAcute=function(e,i,s){var a=e.x-i.x,c=e.y-i.y;return a*(s.x-i.x)+c*(s.y-i.y)>0},mr.isObtuse=function(e,i,s){var a=e.x-i.x,c=e.y-i.y;return a*(s.x-i.x)+c*(s.y-i.y)<0},mr.interiorAngle=function(e,i,s){var a=mr.angle(i,e),c=mr.angle(i,s);return Math.abs(c-a)},mr.normalizePositive=function(e){if(e<0){for(;e<0;)e+=mr.PI_TIMES_2;e>=mr.PI_TIMES_2&&(e=0)}else{for(;e>=mr.PI_TIMES_2;)e-=mr.PI_TIMES_2;e<0&&(e=0)}return e},mr.angleBetween=function(e,i,s){var a=mr.angle(i,e),c=mr.angle(i,s);return mr.diff(a,c)},mr.diff=function(e,i){var s=null;return(s=e<i?i-e:e-i)>Math.PI&&(s=2*Math.PI-s),s},mr.toRadians=function(e){return e*Math.PI/180},mr.getTurn=function(e,i){var s=Math.sin(i-e);return s>0?mr.COUNTERCLOCKWISE:s<0?mr.CLOCKWISE:mr.NONE},mr.angleBetweenOriented=function(e,i,s){var a=mr.angle(i,e),c=mr.angle(i,s)-a;return c<=-Math.PI?c+mr.PI_TIMES_2:c>Math.PI?c-mr.PI_TIMES_2:c},$u.PI_TIMES_2.get=function(){return 2*Math.PI},$u.PI_OVER_2.get=function(){return Math.PI/2},$u.PI_OVER_4.get=function(){return Math.PI/4},$u.COUNTERCLOCKWISE.get=function(){return he.COUNTERCLOCKWISE},$u.CLOCKWISE.get=function(){return he.CLOCKWISE},$u.NONE.get=function(){return he.COLLINEAR},Object.defineProperties(mr,$u);var yi=function e(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Re,this._seg1=new Re,this._offset0=new Re,this._offset1=new Re,this._side=0,this._hasNarrowConcaveAngle=!1;var i=arguments[0],s=arguments[1],a=arguments[2];this._precisionModel=i,this._bufParams=s,this._li=new Nc,this._filletAngleQuantum=Math.PI/2/s.getQuadrantSegments(),s.getQuadrantSegments()>=8&&s.getJoinStyle()===Kr.JOIN_ROUND&&(this._closingSegLengthFactor=e.MAX_CLOSING_SEG_LEN_FACTOR),this.init(a)},zf={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};yi.prototype.addNextSegment=function(e,i){if(this._s0=this._s1,this._s1=this._s2,this._s2=e,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var s=he.computeOrientation(this._s0,this._s1,this._s2),a=s===he.CLOCKWISE&&this._side===ie.LEFT||s===he.COUNTERCLOCKWISE&&this._side===ie.RIGHT;s===0?this.addCollinear(i):a?this.addOutsideTurn(s,i):this.addInsideTurn(s,i)},yi.prototype.addLineEndCap=function(e,i){var s=new Re(e,i),a=new Re;this.computeOffsetSegment(s,ie.LEFT,this._distance,a);var c=new Re;this.computeOffsetSegment(s,ie.RIGHT,this._distance,c);var h=i.x-e.x,g=i.y-e.y,y=Math.atan2(g,h);switch(this._bufParams.getEndCapStyle()){case Kr.CAP_ROUND:this._segList.addPt(a.p1),this.addFilletArc(i,y+Math.PI/2,y-Math.PI/2,he.CLOCKWISE,this._distance),this._segList.addPt(c.p1);break;case Kr.CAP_FLAT:this._segList.addPt(a.p1),this._segList.addPt(c.p1);break;case Kr.CAP_SQUARE:var w=new Ct;w.x=Math.abs(this._distance)*Math.cos(y),w.y=Math.abs(this._distance)*Math.sin(y);var x=new Ct(a.p1.x+w.x,a.p1.y+w.y),T=new Ct(c.p1.x+w.x,c.p1.y+w.y);this._segList.addPt(x),this._segList.addPt(T)}},yi.prototype.getCoordinates=function(){return this._segList.getCoordinates()},yi.prototype.addMitreJoin=function(e,i,s,a){var c=!0,h=null;try{h=ss.intersection(i.p0,i.p1,s.p0,s.p1),(a<=0?1:h.distance(e)/Math.abs(a))>this._bufParams.getMitreLimit()&&(c=!1)}catch(g){if(!(g instanceof gd))throw g;h=new Ct(0,0),c=!1}c?this._segList.addPt(h):this.addLimitedMitreJoin(i,s,a,this._bufParams.getMitreLimit())},yi.prototype.addFilletCorner=function(e,i,s,a,c){var h=i.x-e.x,g=i.y-e.y,y=Math.atan2(g,h),w=s.x-e.x,x=s.y-e.y,T=Math.atan2(x,w);a===he.CLOCKWISE?y<=T&&(y+=2*Math.PI):y>=T&&(y-=2*Math.PI),this._segList.addPt(i),this.addFilletArc(e,y,T,a,c),this._segList.addPt(s)},yi.prototype.addOutsideTurn=function(e,i){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*yi.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Kr.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Kr.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(i&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,e,this._distance),this._segList.addPt(this._offset1.p0))},yi.prototype.createSquare=function(e){this._segList.addPt(new Ct(e.x+this._distance,e.y+this._distance)),this._segList.addPt(new Ct(e.x+this._distance,e.y-this._distance)),this._segList.addPt(new Ct(e.x-this._distance,e.y-this._distance)),this._segList.addPt(new Ct(e.x-this._distance,e.y+this._distance)),this._segList.closeRing()},yi.prototype.addSegments=function(e,i){this._segList.addPts(e,i)},yi.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},yi.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},yi.prototype.initSideSegments=function(e,i,s){this._s1=e,this._s2=i,this._side=s,this._seg1.setCoordinates(e,i),this.computeOffsetSegment(this._seg1,s,this._distance,this._offset1)},yi.prototype.addLimitedMitreJoin=function(e,i,s,a){var c=this._seg0.p1,h=mr.angle(c,this._seg0.p0),g=mr.angleBetweenOriented(this._seg0.p0,c,this._seg1.p1)/2,y=mr.normalize(h+g),w=mr.normalize(y+Math.PI),x=a*s,T=s-x*Math.abs(Math.sin(g)),E=c.x+x*Math.cos(w),P=c.y+x*Math.sin(w),z=new Ct(E,P),N=new Re(c,z),B=N.pointAlongOffset(1,T),R=N.pointAlongOffset(1,-T);this._side===ie.LEFT?(this._segList.addPt(B),this._segList.addPt(R)):(this._segList.addPt(R),this._segList.addPt(B))},yi.prototype.computeOffsetSegment=function(e,i,s,a){var c=i===ie.LEFT?1:-1,h=e.p1.x-e.p0.x,g=e.p1.y-e.p0.y,y=Math.sqrt(h*h+g*g),w=c*s*h/y,x=c*s*g/y;a.p0.x=e.p0.x-x,a.p0.y=e.p0.y+w,a.p1.x=e.p1.x-x,a.p1.y=e.p1.y+w},yi.prototype.addFilletArc=function(e,i,s,a,c){var h=a===he.CLOCKWISE?-1:1,g=Math.abs(i-s),y=Math.trunc(g/this._filletAngleQuantum+.5);if(y<1)return null;for(var w=g/y,x=0,T=new Ct;x<g;){var E=i+h*x;T.x=e.x+c*Math.cos(E),T.y=e.y+c*Math.sin(E),this._segList.addPt(T),x+=w}},yi.prototype.addInsideTurn=function(e,i){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*yi.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var s=new Ct((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(s);var a=new Ct((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(a)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},yi.prototype.createCircle=function(e){var i=new Ct(e.x+this._distance,e.y);this._segList.addPt(i),this.addFilletArc(e,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},yi.prototype.addBevelJoin=function(e,i){this._segList.addPt(e.p1),this._segList.addPt(i.p0)},yi.prototype.init=function(e){this._distance=e,this._maxCurveSegmentError=e*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new ko,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(e*yi.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},yi.prototype.addCollinear=function(e){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===Kr.JOIN_BEVEL||this._bufParams.getJoinStyle()===Kr.JOIN_MITRE?(e&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,he.CLOCKWISE,this._distance))},yi.prototype.closeRing=function(){this._segList.closeRing()},yi.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},yi.prototype.interfaces_=function(){return[]},yi.prototype.getClass=function(){return yi},zf.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return .001},zf.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return .001},zf.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},zf.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(yi,zf);var Kn=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var e=arguments[0],i=arguments[1];this._precisionModel=e,this._bufParams=i};Kn.prototype.getOffsetCurve=function(e,i){if(this._distance=i,i===0)return null;var s=i<0,a=Math.abs(i),c=this.getSegGen(a);e.length<=1?this.computePointCurve(e[0],c):this.computeOffsetCurve(e,s,c);var h=c.getCoordinates();return s&&ar.reverse(h),h},Kn.prototype.computeSingleSidedBufferCurve=function(e,i,s){var a=this.simplifyTolerance(this._distance);if(i){s.addSegments(e,!0);var c=Pi.simplify(e,-a),h=c.length-1;s.initSideSegments(c[h],c[h-1],ie.LEFT),s.addFirstSegment();for(var g=h-2;g>=0;g--)s.addNextSegment(c[g],!0)}else{s.addSegments(e,!1);var y=Pi.simplify(e,a),w=y.length-1;s.initSideSegments(y[0],y[1],ie.LEFT),s.addFirstSegment();for(var x=2;x<=w;x++)s.addNextSegment(y[x],!0)}s.addLastSegment(),s.closeRing()},Kn.prototype.computeRingBufferCurve=function(e,i,s){var a=this.simplifyTolerance(this._distance);i===ie.RIGHT&&(a=-a);var c=Pi.simplify(e,a),h=c.length-1;s.initSideSegments(c[h-1],c[0],i);for(var g=1;g<=h;g++){var y=g!==1;s.addNextSegment(c[g],y)}s.closeRing()},Kn.prototype.computeLineBufferCurve=function(e,i){var s=this.simplifyTolerance(this._distance),a=Pi.simplify(e,s),c=a.length-1;i.initSideSegments(a[0],a[1],ie.LEFT);for(var h=2;h<=c;h++)i.addNextSegment(a[h],!0);i.addLastSegment(),i.addLineEndCap(a[c-1],a[c]);var g=Pi.simplify(e,-s),y=g.length-1;i.initSideSegments(g[y],g[y-1],ie.LEFT);for(var w=y-2;w>=0;w--)i.addNextSegment(g[w],!0);i.addLastSegment(),i.addLineEndCap(g[1],g[0]),i.closeRing()},Kn.prototype.computePointCurve=function(e,i){switch(this._bufParams.getEndCapStyle()){case Kr.CAP_ROUND:i.createCircle(e);break;case Kr.CAP_SQUARE:i.createSquare(e)}},Kn.prototype.getLineCurve=function(e,i){if(this._distance=i,i<0&&!this._bufParams.isSingleSided()||i===0)return null;var s=Math.abs(i),a=this.getSegGen(s);if(e.length<=1)this.computePointCurve(e[0],a);else if(this._bufParams.isSingleSided()){var c=i<0;this.computeSingleSidedBufferCurve(e,c,a)}else this.computeLineBufferCurve(e,a);return a.getCoordinates()},Kn.prototype.getBufferParameters=function(){return this._bufParams},Kn.prototype.simplifyTolerance=function(e){return e*this._bufParams.getSimplifyFactor()},Kn.prototype.getRingCurve=function(e,i,s){if(this._distance=s,e.length<=2)return this.getLineCurve(e,s);if(s===0)return Kn.copyCoordinates(e);var a=this.getSegGen(s);return this.computeRingBufferCurve(e,i,a),a.getCoordinates()},Kn.prototype.computeOffsetCurve=function(e,i,s){var a=this.simplifyTolerance(this._distance);if(i){var c=Pi.simplify(e,-a),h=c.length-1;s.initSideSegments(c[h],c[h-1],ie.LEFT),s.addFirstSegment();for(var g=h-2;g>=0;g--)s.addNextSegment(c[g],!0)}else{var y=Pi.simplify(e,a),w=y.length-1;s.initSideSegments(y[0],y[1],ie.LEFT),s.addFirstSegment();for(var x=2;x<=w;x++)s.addNextSegment(y[x],!0)}s.addLastSegment()},Kn.prototype.getSegGen=function(e){return new yi(this._precisionModel,this._bufParams,e)},Kn.prototype.interfaces_=function(){return[]},Kn.prototype.getClass=function(){return Kn},Kn.copyCoordinates=function(e){for(var i=new Array(e.length).fill(null),s=0;s<i.length;s++)i[s]=new Ct(e[s]);return i};var th=function(){this._subgraphs=null,this._seg=new Re,this._cga=new he;var e=arguments[0];this._subgraphs=e},Dk={DepthSegment:{configurable:!0}};th.prototype.findStabbedSegments=function(){var e=this;if(arguments.length===1){for(var i=arguments[0],s=new ae,a=this._subgraphs.iterator();a.hasNext();){var c=a.next(),h=c.getEnvelope();i.y<h.getMinY()||i.y>h.getMaxY()||e.findStabbedSegments(i,c.getDirectedEdges(),s)}return s}if(arguments.length===3){if(je(arguments[2],ls)&&arguments[0]instanceof Ct&&arguments[1]instanceof Zb)for(var g=arguments[0],y=arguments[1],w=arguments[2],x=y.getEdge().getCoordinates(),T=0;T<x.length-1;T++){e._seg.p0=x[T],e._seg.p1=x[T+1],e._seg.p0.y>e._seg.p1.y&&e._seg.reverse();var E=Math.max(e._seg.p0.x,e._seg.p1.x);if(!(E<g.x)&&!(e._seg.isHorizontal()||g.y<e._seg.p0.y||g.y>e._seg.p1.y||he.computeOrientation(e._seg.p0,e._seg.p1,g)===he.RIGHT)){var P=y.getDepth(ie.LEFT);e._seg.p0.equals(x[T])||(P=y.getDepth(ie.RIGHT));var z=new jc(e._seg,P);w.add(z)}}else if(je(arguments[2],ls)&&arguments[0]instanceof Ct&&je(arguments[1],ls))for(var N=arguments[0],B=arguments[1],R=arguments[2],X=B.iterator();X.hasNext();){var it=X.next();it.isForward()&&e.findStabbedSegments(N,it,R)}}},th.prototype.getDepth=function(e){var i=this.findStabbedSegments(e);return i.size()===0?0:ds.min(i)._leftDepth},th.prototype.interfaces_=function(){return[]},th.prototype.getClass=function(){return th},Dk.DepthSegment.get=function(){return jc},Object.defineProperties(th,Dk);var jc=function(){this._upwardSeg=null,this._leftDepth=null;var e=arguments[0],i=arguments[1];this._upwardSeg=new Re(e),this._leftDepth=i};jc.prototype.compareTo=function(e){var i=e;if(this._upwardSeg.minX()>=i._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=i._upwardSeg.minX())return-1;var s=this._upwardSeg.orientationIndex(i._upwardSeg);return s!==0||(s=-1*i._upwardSeg.orientationIndex(this._upwardSeg))!==0?s:this._upwardSeg.compareTo(i._upwardSeg)},jc.prototype.compareX=function(e,i){var s=e.p0.compareTo(i.p0);return s!==0?s:e.p1.compareTo(i.p1)},jc.prototype.toString=function(){return this._upwardSeg.toString()},jc.prototype.interfaces_=function(){return[No]},jc.prototype.getClass=function(){return jc};var Jr=function(e,i,s){this.p0=e||null,this.p1=i||null,this.p2=s||null};Jr.prototype.area=function(){return Jr.area(this.p0,this.p1,this.p2)},Jr.prototype.signedArea=function(){return Jr.signedArea(this.p0,this.p1,this.p2)},Jr.prototype.interpolateZ=function(e){if(e===null)throw new xi("Supplied point is null.");return Jr.interpolateZ(e,this.p0,this.p1,this.p2)},Jr.prototype.longestSideLength=function(){return Jr.longestSideLength(this.p0,this.p1,this.p2)},Jr.prototype.isAcute=function(){return Jr.isAcute(this.p0,this.p1,this.p2)},Jr.prototype.circumcentre=function(){return Jr.circumcentre(this.p0,this.p1,this.p2)},Jr.prototype.area3D=function(){return Jr.area3D(this.p0,this.p1,this.p2)},Jr.prototype.centroid=function(){return Jr.centroid(this.p0,this.p1,this.p2)},Jr.prototype.inCentre=function(){return Jr.inCentre(this.p0,this.p1,this.p2)},Jr.prototype.interfaces_=function(){return[]},Jr.prototype.getClass=function(){return Jr},Jr.area=function(e,i,s){return Math.abs(((s.x-e.x)*(i.y-e.y)-(i.x-e.x)*(s.y-e.y))/2)},Jr.signedArea=function(e,i,s){return((s.x-e.x)*(i.y-e.y)-(i.x-e.x)*(s.y-e.y))/2},Jr.det=function(e,i,s,a){return e*a-i*s},Jr.interpolateZ=function(e,i,s,a){var c=i.x,h=i.y,g=s.x-c,y=a.x-c,w=s.y-h,x=a.y-h,T=g*x-y*w,E=e.x-c,P=e.y-h,z=(x*E-y*P)/T,N=(-w*E+g*P)/T;return i.z+z*(s.z-i.z)+N*(a.z-i.z)},Jr.longestSideLength=function(e,i,s){var a=e.distance(i),c=i.distance(s),h=s.distance(e),g=a;return c>g&&(g=c),h>g&&(g=h),g},Jr.isAcute=function(e,i,s){return!!mr.isAcute(e,i,s)&&!!mr.isAcute(i,s,e)&&!!mr.isAcute(s,e,i)},Jr.circumcentre=function(e,i,s){var a=s.x,c=s.y,h=e.x-a,g=e.y-c,y=i.x-a,w=i.y-c,x=2*Jr.det(h,g,y,w),T=Jr.det(g,h*h+g*g,w,y*y+w*w),E=Jr.det(h,h*h+g*g,y,y*y+w*w);return new Ct(a-T/x,c+E/x)},Jr.perpendicularBisector=function(e,i){var s=i.x-e.x,a=i.y-e.y,c=new ss(e.x+s/2,e.y+a/2,1),h=new ss(e.x-a+s/2,e.y+s+a/2,1);return new ss(c,h)},Jr.angleBisector=function(e,i,s){var a=i.distance(e),c=a/(a+i.distance(s)),h=s.x-e.x,g=s.y-e.y;return new Ct(e.x+c*h,e.y+c*g)},Jr.area3D=function(e,i,s){var a=i.x-e.x,c=i.y-e.y,h=i.z-e.z,g=s.x-e.x,y=s.y-e.y,w=s.z-e.z,x=c*w-h*y,T=h*g-a*w,E=a*y-c*g,P=x*x+T*T+E*E,z=Math.sqrt(P)/2;return z},Jr.centroid=function(e,i,s){var a=(e.x+i.x+s.x)/3,c=(e.y+i.y+s.y)/3;return new Ct(a,c)},Jr.inCentre=function(e,i,s){var a=i.distance(s),c=e.distance(s),h=e.distance(i),g=a+c+h,y=(a*e.x+c*i.x+h*s.x)/g,w=(a*e.y+c*i.y+h*s.y)/g;return new Ct(y,w)};var Uo=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new ae;var e=arguments[0],i=arguments[1],s=arguments[2];this._inputGeom=e,this._distance=i,this._curveBuilder=s};Uo.prototype.addPoint=function(e){if(this._distance<=0)return null;var i=e.getCoordinates(),s=this._curveBuilder.getLineCurve(i,this._distance);this.addCurve(s,Ot.EXTERIOR,Ot.INTERIOR)},Uo.prototype.addPolygon=function(e){var i=this,s=this._distance,a=ie.LEFT;this._distance<0&&(s=-this._distance,a=ie.RIGHT);var c=e.getExteriorRing(),h=ar.removeRepeatedPoints(c.getCoordinates());if(this._distance<0&&this.isErodedCompletely(c,this._distance)||this._distance<=0&&h.length<3)return null;this.addPolygonRing(h,s,a,Ot.EXTERIOR,Ot.INTERIOR);for(var g=0;g<e.getNumInteriorRing();g++){var y=e.getInteriorRingN(g),w=ar.removeRepeatedPoints(y.getCoordinates());i._distance>0&&i.isErodedCompletely(y,-i._distance)||i.addPolygonRing(w,s,ie.opposite(a),Ot.INTERIOR,Ot.EXTERIOR)}},Uo.prototype.isTriangleErodedCompletely=function(e,i){var s=new Jr(e[0],e[1],e[2]),a=s.inCentre();return he.distancePointLine(a,s.p0,s.p1)<Math.abs(i)},Uo.prototype.addLineString=function(e){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var i=ar.removeRepeatedPoints(e.getCoordinates()),s=this._curveBuilder.getLineCurve(i,this._distance);this.addCurve(s,Ot.EXTERIOR,Ot.INTERIOR)},Uo.prototype.addCurve=function(e,i,s){if(e===null||e.length<2)return null;var a=new Li(e,new ri(0,Ot.BOUNDARY,i,s));this._curveList.add(a)},Uo.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},Uo.prototype.addPolygonRing=function(e,i,s,a,c){if(i===0&&e.length<fa.MINIMUM_VALID_SIZE)return null;var h=a,g=c;e.length>=fa.MINIMUM_VALID_SIZE&&he.isCCW(e)&&(h=c,g=a,s=ie.opposite(s));var y=this._curveBuilder.getRingCurve(e,s,i);this.addCurve(y,h,g)},Uo.prototype.add=function(e){if(e.isEmpty())return null;e instanceof Gi?this.addPolygon(e):e instanceof Ci?this.addLineString(e):e instanceof io?this.addPoint(e):(e instanceof Ed||e instanceof Fc||e instanceof ga||e instanceof On)&&this.addCollection(e)},Uo.prototype.isErodedCompletely=function(e,i){var s=e.getCoordinates();if(s.length<4)return i<0;if(s.length===4)return this.isTriangleErodedCompletely(s,i);var a=e.getEnvelopeInternal(),c=Math.min(a.getHeight(),a.getWidth());return i<0&&2*Math.abs(i)>c},Uo.prototype.addCollection=function(e){for(var i=0;i<e.getNumGeometries();i++){var s=e.getGeometryN(i);this.add(s)}},Uo.prototype.interfaces_=function(){return[]},Uo.prototype.getClass=function(){return Uo};var Pd=function(){};Pd.prototype.locate=function(e){},Pd.prototype.interfaces_=function(){return[]},Pd.prototype.getClass=function(){return Pd};var ya=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var e=arguments[0];this._parent=e,this._atStart=!0,this._index=0,this._max=e.getNumGeometries()};ya.prototype.next=function(){if(this._atStart)return this._atStart=!1,ya.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new _d;var e=this._parent.getGeometryN(this._index++);return e instanceof On?(this._subcollectionIterator=new ya(e),this._subcollectionIterator.next()):e},ya.prototype.remove=function(){throw new Error(this.getClass().getName())},ya.prototype.hasNext=function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},ya.prototype.interfaces_=function(){return[xd]},ya.prototype.getClass=function(){return ya},ya.isAtomic=function(e){return!(e instanceof On)};var Eo=function(){this._geom=null;var e=arguments[0];this._geom=e};Eo.prototype.locate=function(e){return Eo.locate(e,this._geom)},Eo.prototype.interfaces_=function(){return[Pd]},Eo.prototype.getClass=function(){return Eo},Eo.isPointInRing=function(e,i){return!!i.getEnvelopeInternal().intersects(e)&&he.isPointInRing(e,i.getCoordinates())},Eo.containsPointInPolygon=function(e,i){if(i.isEmpty())return!1;var s=i.getExteriorRing();if(!Eo.isPointInRing(e,s))return!1;for(var a=0;a<i.getNumInteriorRing();a++){var c=i.getInteriorRingN(a);if(Eo.isPointInRing(e,c))return!1}return!0},Eo.containsPoint=function(e,i){if(i instanceof Gi)return Eo.containsPointInPolygon(e,i);if(i instanceof On)for(var s=new ya(i);s.hasNext();){var a=s.next();if(a!==i&&Eo.containsPoint(e,a))return!0}return!1},Eo.locate=function(e,i){return i.isEmpty()?Ot.EXTERIOR:Eo.containsPoint(e,i)?Ot.INTERIOR:Ot.EXTERIOR};var Sn=function(){this._edgeMap=new En,this._edgeList=null,this._ptInAreaLocation=[Ot.NONE,Ot.NONE]};Sn.prototype.getNextCW=function(e){this.getEdges();var i=this._edgeList.indexOf(e),s=i-1;return i===0&&(s=this._edgeList.size()-1),this._edgeList.get(s)},Sn.prototype.propagateSideLabels=function(e){for(var i=Ot.NONE,s=this.iterator();s.hasNext();){var a=s.next().getLabel();a.isArea(e)&&a.getLocation(e,ie.LEFT)!==Ot.NONE&&(i=a.getLocation(e,ie.LEFT))}if(i===Ot.NONE)return null;for(var c=i,h=this.iterator();h.hasNext();){var g=h.next(),y=g.getLabel();if(y.getLocation(e,ie.ON)===Ot.NONE&&y.setLocation(e,ie.ON,c),y.isArea(e)){var w=y.getLocation(e,ie.LEFT),x=y.getLocation(e,ie.RIGHT);if(x!==Ot.NONE){if(x!==c)throw new Ka("side location conflict",g.getCoordinate());w===Ot.NONE&&Je.shouldNeverReachHere("found single null side (at "+g.getCoordinate()+")"),c=w}else Je.isTrue(y.getLocation(e,ie.LEFT)===Ot.NONE,"found single null side"),y.setLocation(e,ie.RIGHT,c),y.setLocation(e,ie.LEFT,c)}}},Sn.prototype.getCoordinate=function(){var e=this.iterator();return e.hasNext()?e.next().getCoordinate():null},Sn.prototype.print=function(e){pn.out.println("EdgeEndStar:   "+this.getCoordinate());for(var i=this.iterator();i.hasNext();)i.next().print(e)},Sn.prototype.isAreaLabelsConsistent=function(e){return this.computeEdgeEndLabels(e.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},Sn.prototype.checkAreaLabelsConsistent=function(e){var i=this.getEdges();if(i.size()<=0)return!0;var s=i.size()-1,a=i.get(s).getLabel().getLocation(e,ie.LEFT);Je.isTrue(a!==Ot.NONE,"Found unlabelled area edge");for(var c=a,h=this.iterator();h.hasNext();){var g=h.next().getLabel();Je.isTrue(g.isArea(e),"Found non-area edge");var y=g.getLocation(e,ie.LEFT),w=g.getLocation(e,ie.RIGHT);if(y===w||w!==c)return!1;c=y}return!0},Sn.prototype.findIndex=function(e){this.iterator();for(var i=0;i<this._edgeList.size();i++)if(this._edgeList.get(i)===e)return i;return-1},Sn.prototype.iterator=function(){return this.getEdges().iterator()},Sn.prototype.getEdges=function(){return this._edgeList===null&&(this._edgeList=new ae(this._edgeMap.values())),this._edgeList},Sn.prototype.getLocation=function(e,i,s){return this._ptInAreaLocation[e]===Ot.NONE&&(this._ptInAreaLocation[e]=Eo.locate(i,s[e].getGeometry())),this._ptInAreaLocation[e]},Sn.prototype.toString=function(){var e=new Is;e.append("EdgeEndStar:   "+this.getCoordinate()),e.append(`
`);for(var i=this.iterator();i.hasNext();){var s=i.next();e.append(s),e.append(`
`)}return e.toString()},Sn.prototype.computeEdgeEndLabels=function(e){for(var i=this.iterator();i.hasNext();)i.next().computeLabel(e)},Sn.prototype.computeLabelling=function(e){this.computeEdgeEndLabels(e[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var i=[!1,!1],s=this.iterator();s.hasNext();)for(var a=s.next().getLabel(),c=0;c<2;c++)a.isLine(c)&&a.getLocation(c)===Ot.BOUNDARY&&(i[c]=!0);for(var h=this.iterator();h.hasNext();)for(var g=h.next(),y=g.getLabel(),w=0;w<2;w++)if(y.isAnyNull(w)){var x=Ot.NONE;if(i[w])x=Ot.EXTERIOR;else{var T=g.getCoordinate();x=this.getLocation(w,T,e)}y.setAllLocationsIfNull(w,x)}},Sn.prototype.getDegree=function(){return this._edgeMap.size()},Sn.prototype.insertEdgeEnd=function(e,i){this._edgeMap.put(e,i),this._edgeList=null},Sn.prototype.interfaces_=function(){return[]},Sn.prototype.getClass=function(){return Sn};var qI=function(e){function i(){e.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.linkResultDirectedEdges=function(){var s=this;this.getResultAreaEdges();for(var a=null,c=null,h=this._SCANNING_FOR_INCOMING,g=0;g<this._resultAreaEdgeList.size();g++){var y=s._resultAreaEdgeList.get(g),w=y.getSym();if(y.getLabel().isArea())switch(a===null&&y.isInResult()&&(a=y),h){case s._SCANNING_FOR_INCOMING:if(!w.isInResult())continue;c=w,h=s._LINKING_TO_OUTGOING;break;case s._LINKING_TO_OUTGOING:if(!y.isInResult())continue;c.setNext(y),h=s._SCANNING_FOR_INCOMING}}if(h===this._LINKING_TO_OUTGOING){if(a===null)throw new Ka("no outgoing dirEdge found",this.getCoordinate());Je.isTrue(a.isInResult(),"unable to link last incoming dirEdge"),c.setNext(a)}},i.prototype.insert=function(s){var a=s;this.insertEdgeEnd(a,a)},i.prototype.getRightmostEdge=function(){var s=this.getEdges(),a=s.size();if(a<1)return null;var c=s.get(0);if(a===1)return c;var h=s.get(a-1),g=c.getQuadrant(),y=h.getQuadrant();return ni.isNorthern(g)&&ni.isNorthern(y)?c:ni.isNorthern(g)||ni.isNorthern(y)?c.getDy()!==0?c:h.getDy()!==0?h:(Je.shouldNeverReachHere("found two horizontal edges incident on node"),null):h},i.prototype.print=function(s){pn.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var a=this.iterator();a.hasNext();){var c=a.next();s.print("out "),c.print(s),s.println(),s.print("in "),c.getSym().print(s),s.println()}},i.prototype.getResultAreaEdges=function(){if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new ae;for(var s=this.iterator();s.hasNext();){var a=s.next();(a.isInResult()||a.getSym().isInResult())&&this._resultAreaEdgeList.add(a)}return this._resultAreaEdgeList},i.prototype.updateLabelling=function(s){for(var a=this.iterator();a.hasNext();){var c=a.next().getLabel();c.setAllLocationsIfNull(0,s.getLocation(0)),c.setAllLocationsIfNull(1,s.getLocation(1))}},i.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var s=null,a=null,c=this._edgeList.size()-1;c>=0;c--){var h=this._edgeList.get(c),g=h.getSym();a===null&&(a=g),s!==null&&g.setNext(s),s=h}a.setNext(s)},i.prototype.computeDepths=function(){var s=this;if(arguments.length===1){var a=arguments[0],c=this.findIndex(a),h=a.getDepth(ie.LEFT),g=a.getDepth(ie.RIGHT),y=this.computeDepths(c+1,this._edgeList.size(),h),w=this.computeDepths(0,c,y);if(w!==g)throw new Ka("depth mismatch at "+a.getCoordinate())}else if(arguments.length===3){for(var x=arguments[0],T=arguments[1],E=arguments[2],P=E,z=x;z<T;z++){var N=s._edgeList.get(z);N.setEdgeDepths(ie.RIGHT,P),P=N.getDepth(ie.LEFT)}return P}},i.prototype.mergeSymLabels=function(){for(var s=this.iterator();s.hasNext();){var a=s.next();a.getLabel().merge(a.getSym().getLabel())}},i.prototype.linkMinimalDirectedEdges=function(s){for(var a=this,c=null,h=null,g=this._SCANNING_FOR_INCOMING,y=this._resultAreaEdgeList.size()-1;y>=0;y--){var w=a._resultAreaEdgeList.get(y),x=w.getSym();switch(c===null&&w.getEdgeRing()===s&&(c=w),g){case a._SCANNING_FOR_INCOMING:if(x.getEdgeRing()!==s)continue;h=x,g=a._LINKING_TO_OUTGOING;break;case a._LINKING_TO_OUTGOING:if(w.getEdgeRing()!==s)continue;h.setNextMin(w),g=a._SCANNING_FOR_INCOMING}}g===this._LINKING_TO_OUTGOING&&(Je.isTrue(c!==null,"found null for first outgoing dirEdge"),Je.isTrue(c.getEdgeRing()===s,"unable to link last incoming dirEdge"),h.setNextMin(c))},i.prototype.getOutgoingDegree=function(){if(arguments.length===0){for(var s=0,a=this.iterator();a.hasNext();){var c=a.next();c.isInResult()&&s++}return s}if(arguments.length===1){for(var h=arguments[0],g=0,y=this.iterator();y.hasNext();){var w=y.next();w.getEdgeRing()===h&&g++}return g}},i.prototype.getLabel=function(){return this._label},i.prototype.findCoveredLineEdges=function(){for(var s=Ot.NONE,a=this.iterator();a.hasNext();){var c=a.next(),h=c.getSym();if(!c.isLineEdge()){if(c.isInResult()){s=Ot.INTERIOR;break}if(h.isInResult()){s=Ot.EXTERIOR;break}}}if(s===Ot.NONE)return null;for(var g=s,y=this.iterator();y.hasNext();){var w=y.next(),x=w.getSym();w.isLineEdge()?w.getEdge().setCovered(g===Ot.INTERIOR):(w.isInResult()&&(g=Ot.EXTERIOR),x.isInResult()&&(g=Ot.INTERIOR))}},i.prototype.computeLabelling=function(s){e.prototype.computeLabelling.call(this,s),this._label=new ri(Ot.NONE);for(var a=this.iterator();a.hasNext();)for(var c=a.next().getEdge().getLabel(),h=0;h<2;h++){var g=c.getLocation(h);g!==Ot.INTERIOR&&g!==Ot.BOUNDARY||this._label.setLocation(h,Ot.INTERIOR)}},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(Sn),Fk=function(e){function i(){e.apply(this,arguments)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.createNode=function(s){return new m0(s,new qI)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(Td),Hl=function e(){this._pts=null,this._orientation=null;var i=arguments[0];this._pts=i,this._orientation=e.orientation(i)};Hl.prototype.compareTo=function(e){var i=e;return Hl.compareOriented(this._pts,this._orientation,i._pts,i._orientation)},Hl.prototype.interfaces_=function(){return[No]},Hl.prototype.getClass=function(){return Hl},Hl.orientation=function(e){return ar.increasingDirection(e)===1},Hl.compareOriented=function(e,i,s,a){for(var c=i?1:-1,h=a?1:-1,g=i?e.length:-1,y=a?s.length:-1,w=i?0:e.length-1,x=a?0:s.length-1;;){var T=e[w].compareTo(s[x]);if(T!==0)return T;var E=(w+=c)===g,P=(x+=h)===y;if(E&&!P)return-1;if(!E&&P)return 1;if(E&&P)return 0}};var ps=function(){this._edges=new ae,this._ocaMap=new En};ps.prototype.print=function(e){e.print("MULTILINESTRING ( ");for(var i=0;i<this._edges.size();i++){var s=this._edges.get(i);i>0&&e.print(","),e.print("(");for(var a=s.getCoordinates(),c=0;c<a.length;c++)c>0&&e.print(","),e.print(a[c].x+" "+a[c].y);e.println(")")}e.print(")  ")},ps.prototype.addAll=function(e){for(var i=e.iterator();i.hasNext();)this.add(i.next())},ps.prototype.findEdgeIndex=function(e){for(var i=0;i<this._edges.size();i++)if(this._edges.get(i).equals(e))return i;return-1},ps.prototype.iterator=function(){return this._edges.iterator()},ps.prototype.getEdges=function(){return this._edges},ps.prototype.get=function(e){return this._edges.get(e)},ps.prototype.findEqualEdge=function(e){var i=new Hl(e.getCoordinates());return this._ocaMap.get(i)},ps.prototype.add=function(e){this._edges.add(e);var i=new Hl(e.getCoordinates());this._ocaMap.put(i,e)},ps.prototype.interfaces_=function(){return[]},ps.prototype.getClass=function(){return ps};var Hc=function(){};Hc.prototype.processIntersections=function(e,i,s,a){},Hc.prototype.isDone=function(){},Hc.prototype.interfaces_=function(){return[]},Hc.prototype.getClass=function(){return Hc};var To=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var e=arguments[0];this._li=e};To.prototype.isTrivialIntersection=function(e,i,s,a){if(e===s&&this._li.getIntersectionNum()===1){if(To.isAdjacentSegments(i,a))return!0;if(e.isClosed()){var c=e.size()-1;if(i===0&&a===c||a===0&&i===c)return!0}}return!1},To.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},To.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},To.prototype.getLineIntersector=function(){return this._li},To.prototype.hasProperIntersection=function(){return this._hasProper},To.prototype.processIntersections=function(e,i,s,a){if(e===s&&i===a)return null;this.numTests++;var c=e.getCoordinates()[i],h=e.getCoordinates()[i+1],g=s.getCoordinates()[a],y=s.getCoordinates()[a+1];this._li.computeIntersection(c,h,g,y),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(e,i,s,a)||(this._hasIntersection=!0,e.addIntersections(this._li,i,0),s.addIntersections(this._li,a,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},To.prototype.hasIntersection=function(){return this._hasIntersection},To.prototype.isDone=function(){return!1},To.prototype.hasInteriorIntersection=function(){return this._hasInterior},To.prototype.interfaces_=function(){return[Hc]},To.prototype.getClass=function(){return To},To.isAdjacentSegments=function(e,i){return Math.abs(e-i)===1};var Us=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var e=arguments[0],i=arguments[1],s=arguments[2];this.coord=new Ct(e),this.segmentIndex=i,this.dist=s};Us.prototype.getSegmentIndex=function(){return this.segmentIndex},Us.prototype.getCoordinate=function(){return this.coord},Us.prototype.print=function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex),e.println(" dist = "+this.dist)},Us.prototype.compareTo=function(e){var i=e;return this.compare(i.segmentIndex,i.dist)},Us.prototype.isEndPoint=function(e){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===e},Us.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Us.prototype.getDistance=function(){return this.dist},Us.prototype.compare=function(e,i){return this.segmentIndex<e?-1:this.segmentIndex>e?1:this.dist<i?-1:this.dist>i?1:0},Us.prototype.interfaces_=function(){return[No]},Us.prototype.getClass=function(){return Us};var ba=function(){this._nodeMap=new En,this.edge=null;var e=arguments[0];this.edge=e};ba.prototype.print=function(e){e.println("Intersections:");for(var i=this.iterator();i.hasNext();)i.next().print(e)},ba.prototype.iterator=function(){return this._nodeMap.values().iterator()},ba.prototype.addSplitEdges=function(e){this.addEndpoints();for(var i=this.iterator(),s=i.next();i.hasNext();){var a=i.next(),c=this.createSplitEdge(s,a);e.add(c),s=a}},ba.prototype.addEndpoints=function(){var e=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[e],e,0)},ba.prototype.createSplitEdge=function(e,i){var s=i.segmentIndex-e.segmentIndex+2,a=this.edge.pts[i.segmentIndex],c=i.dist>0||!i.coord.equals2D(a);c||s--;var h=new Array(s).fill(null),g=0;h[g++]=new Ct(e.coord);for(var y=e.segmentIndex+1;y<=i.segmentIndex;y++)h[g++]=this.edge.pts[y];return c&&(h[g]=i.coord),new y0(h,new ri(this.edge._label))},ba.prototype.add=function(e,i,s){var a=new Us(e,i,s),c=this._nodeMap.get(a);return c!==null?c:(this._nodeMap.put(a,a),a)},ba.prototype.isIntersection=function(e){for(var i=this.iterator();i.hasNext();)if(i.next().coord.equals(e))return!0;return!1},ba.prototype.interfaces_=function(){return[]},ba.prototype.getClass=function(){return ba};var Uc=function(){};Uc.prototype.getChainStartIndices=function(e){var i=0,s=new ae;s.add(new Ls(i));do{var a=this.findChainEnd(e,i);s.add(new Ls(a)),i=a}while(i<e.length-1);return Uc.toIntArray(s)},Uc.prototype.findChainEnd=function(e,i){for(var s=ni.quadrant(e[i],e[i+1]),a=i+1;a<e.length&&ni.quadrant(e[a-1],e[a])===s;)a++;return a-1},Uc.prototype.interfaces_=function(){return[]},Uc.prototype.getClass=function(){return Uc},Uc.toIntArray=function(e){for(var i=new Array(e.size()).fill(null),s=0;s<i.length;s++)i[s]=e.get(s).intValue();return i};var $a=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Le,this.env2=new Le;var e=arguments[0];this.e=e,this.pts=e.getCoordinates();var i=new Uc;this.startIndex=i.getChainStartIndices(this.pts)};$a.prototype.getCoordinates=function(){return this.pts},$a.prototype.getMaxX=function(e){var i=this.pts[this.startIndex[e]].x,s=this.pts[this.startIndex[e+1]].x;return i>s?i:s},$a.prototype.getMinX=function(e){var i=this.pts[this.startIndex[e]].x,s=this.pts[this.startIndex[e+1]].x;return i<s?i:s},$a.prototype.computeIntersectsForChain=function(){if(arguments.length===4){var e=arguments[0],i=arguments[1],s=arguments[2],a=arguments[3];this.computeIntersectsForChain(this.startIndex[e],this.startIndex[e+1],i,i.startIndex[s],i.startIndex[s+1],a)}else if(arguments.length===6){var c=arguments[0],h=arguments[1],g=arguments[2],y=arguments[3],w=arguments[4],x=arguments[5],T=this.pts[c],E=this.pts[h],P=g.pts[y],z=g.pts[w];if(h-c==1&&w-y==1)return x.addIntersections(this.e,c,g.e,y),null;if(this.env1.init(T,E),this.env2.init(P,z),!this.env1.intersects(this.env2))return null;var N=Math.trunc((c+h)/2),B=Math.trunc((y+w)/2);c<N&&(y<B&&this.computeIntersectsForChain(c,N,g,y,B,x),B<w&&this.computeIntersectsForChain(c,N,g,B,w,x)),N<h&&(y<B&&this.computeIntersectsForChain(N,h,g,y,B,x),B<w&&this.computeIntersectsForChain(N,h,g,B,w,x))}},$a.prototype.getStartIndexes=function(){return this.startIndex},$a.prototype.computeIntersects=function(e,i){for(var s=0;s<this.startIndex.length-1;s++)for(var a=0;a<e.startIndex.length-1;a++)this.computeIntersectsForChain(s,e,a,i)},$a.prototype.interfaces_=function(){return[]},$a.prototype.getClass=function(){return $a};var fn=function e(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var i=0;i<2;i++)for(var s=0;s<3;s++)this._depth[i][s]=e.NULL_VALUE},Bk={NULL_VALUE:{configurable:!0}};fn.prototype.getDepth=function(e,i){return this._depth[e][i]},fn.prototype.setDepth=function(e,i,s){this._depth[e][i]=s},fn.prototype.isNull=function(){var e=this;if(arguments.length===0){for(var i=0;i<2;i++)for(var s=0;s<3;s++)if(e._depth[i][s]!==fn.NULL_VALUE)return!1;return!0}if(arguments.length===1){var a=arguments[0];return this._depth[a][1]===fn.NULL_VALUE}if(arguments.length===2){var c=arguments[0],h=arguments[1];return this._depth[c][h]===fn.NULL_VALUE}},fn.prototype.normalize=function(){for(var e=this,i=0;i<2;i++)if(!e.isNull(i)){var s=e._depth[i][1];e._depth[i][2]<s&&(s=e._depth[i][2]),s<0&&(s=0);for(var a=1;a<3;a++){var c=0;e._depth[i][a]>s&&(c=1),e._depth[i][a]=c}}},fn.prototype.getDelta=function(e){return this._depth[e][ie.RIGHT]-this._depth[e][ie.LEFT]},fn.prototype.getLocation=function(e,i){return this._depth[e][i]<=0?Ot.EXTERIOR:Ot.INTERIOR},fn.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},fn.prototype.add=function(){var e=this;if(arguments.length===1)for(var i=arguments[0],s=0;s<2;s++)for(var a=1;a<3;a++){var c=i.getLocation(s,a);c!==Ot.EXTERIOR&&c!==Ot.INTERIOR||(e.isNull(s,a)?e._depth[s][a]=fn.depthAtLocation(c):e._depth[s][a]+=fn.depthAtLocation(c))}else if(arguments.length===3){var h=arguments[0],g=arguments[1],y=arguments[2];y===Ot.INTERIOR&&this._depth[h][g]++}},fn.prototype.interfaces_=function(){return[]},fn.prototype.getClass=function(){return fn},fn.depthAtLocation=function(e){return e===Ot.EXTERIOR?0:e===Ot.INTERIOR?1:fn.NULL_VALUE},Bk.NULL_VALUE.get=function(){return-1},Object.defineProperties(fn,Bk);var y0=function(e){function i(){if(e.call(this),this.pts=null,this._env=null,this.eiList=new ba(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new fn,this._depthDelta=0,arguments.length===1){var s=arguments[0];i.call(this,s,null)}else if(arguments.length===2){var a=arguments[0],c=arguments[1];this.pts=a,this._label=c}}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getDepth=function(){return this._depth},i.prototype.getCollapsedEdge=function(){var s=new Array(2).fill(null);return s[0]=this.pts[0],s[1]=this.pts[1],new i(s,ri.toLineLabel(this._label))},i.prototype.isIsolated=function(){return this._isIsolated},i.prototype.getCoordinates=function(){return this.pts},i.prototype.setIsolated=function(s){this._isIsolated=s},i.prototype.setName=function(s){this._name=s},i.prototype.equals=function(s){if(!(s instanceof i))return!1;var a=s;if(this.pts.length!==a.pts.length)return!1;for(var c=!0,h=!0,g=this.pts.length,y=0;y<this.pts.length;y++)if(this.pts[y].equals2D(a.pts[y])||(c=!1),this.pts[y].equals2D(a.pts[--g])||(h=!1),!c&&!h)return!1;return!0},i.prototype.getCoordinate=function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var s=arguments[0];return this.pts[s]}},i.prototype.print=function(s){s.print("edge "+this._name+": "),s.print("LINESTRING (");for(var a=0;a<this.pts.length;a++)a>0&&s.print(","),s.print(this.pts[a].x+" "+this.pts[a].y);s.print(")  "+this._label+" "+this._depthDelta)},i.prototype.computeIM=function(s){i.updateIM(this._label,s)},i.prototype.isCollapsed=function(){return!!this._label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])},i.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},i.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},i.prototype.getDepthDelta=function(){return this._depthDelta},i.prototype.getNumPoints=function(){return this.pts.length},i.prototype.printReverse=function(s){s.print("edge "+this._name+": ");for(var a=this.pts.length-1;a>=0;a--)s.print(this.pts[a]+" ");s.println("")},i.prototype.getMonotoneChainEdge=function(){return this._mce===null&&(this._mce=new $a(this)),this._mce},i.prototype.getEnvelope=function(){if(this._env===null){this._env=new Le;for(var s=0;s<this.pts.length;s++)this._env.expandToInclude(this.pts[s])}return this._env},i.prototype.addIntersection=function(s,a,c,h){var g=new Ct(s.getIntersection(h)),y=a,w=s.getEdgeDistance(c,h),x=y+1;if(x<this.pts.length){var T=this.pts[x];g.equals2D(T)&&(y=x,w=0)}this.eiList.add(g,y,w)},i.prototype.toString=function(){var s=new Is;s.append("edge "+this._name+": "),s.append("LINESTRING (");for(var a=0;a<this.pts.length;a++)a>0&&s.append(","),s.append(this.pts[a].x+" "+this.pts[a].y);return s.append(")  "+this._label+" "+this._depthDelta),s.toString()},i.prototype.isPointwiseEqual=function(s){if(this.pts.length!==s.pts.length)return!1;for(var a=0;a<this.pts.length;a++)if(!this.pts[a].equals2D(s.pts[a]))return!1;return!0},i.prototype.setDepthDelta=function(s){this._depthDelta=s},i.prototype.getEdgeIntersectionList=function(){return this.eiList},i.prototype.addIntersections=function(s,a,c){for(var h=0;h<s.getIntersectionNum();h++)this.addIntersection(s,a,c,h)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i.updateIM=function(){if(arguments.length!==2)return e.prototype.updateIM.apply(this,arguments);var s=arguments[0],a=arguments[1];a.setAtLeastIfValid(s.getLocation(0,ie.ON),s.getLocation(1,ie.ON),1),s.isArea()&&(a.setAtLeastIfValid(s.getLocation(0,ie.LEFT),s.getLocation(1,ie.LEFT),2),a.setAtLeastIfValid(s.getLocation(0,ie.RIGHT),s.getLocation(1,ie.RIGHT),2))},i}(_o),Dn=function(e){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new ps,this._bufParams=e||null};Dn.prototype.setWorkingPrecisionModel=function(e){this._workingPrecisionModel=e},Dn.prototype.insertUniqueEdge=function(e){var i=this._edgeList.findEqualEdge(e);if(i!==null){var s=i.getLabel(),a=e.getLabel();i.isPointwiseEqual(e)||(a=new ri(e.getLabel())).flip(),s.merge(a);var c=Dn.depthDelta(a),h=i.getDepthDelta()+c;i.setDepthDelta(h)}else this._edgeList.add(e),e.setDepthDelta(Dn.depthDelta(e.getLabel()))},Dn.prototype.buildSubgraphs=function(e,i){for(var s=new ae,a=e.iterator();a.hasNext();){var c=a.next(),h=c.getRightmostCoordinate(),g=new th(s).getDepth(h);c.computeDepth(g),c.findResultEdges(),s.add(c),i.add(c.getDirectedEdges(),c.getNodes())}},Dn.prototype.createSubgraphs=function(e){for(var i=new ae,s=e.getNodes().iterator();s.hasNext();){var a=s.next();if(!a.isVisited()){var c=new zn;c.create(a),i.add(c)}}return ds.sort(i,ds.reverseOrder()),i},Dn.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},Dn.prototype.getNoder=function(e){if(this._workingNoder!==null)return this._workingNoder;var i=new Yb,s=new Nc;return s.setPrecisionModel(e),i.setSegmentIntersector(new To(s)),i},Dn.prototype.buffer=function(e,i){var s=this._workingPrecisionModel;s===null&&(s=e.getPrecisionModel()),this._geomFact=e.getFactory();var a=new Kn(s,this._bufParams),c=new Uo(e,i,a).getCurves();if(c.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(c,s),this._graph=new Ti(new Fk),this._graph.addEdges(this._edgeList.getEdges());var h=this.createSubgraphs(this._graph),g=new no(this._geomFact);this.buildSubgraphs(h,g);var y=g.getPolygons();return y.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(y)},Dn.prototype.computeNodedEdges=function(e,i){var s=this.getNoder(i);s.computeNodes(e);for(var a=s.getNodedSubstrings().iterator();a.hasNext();){var c=a.next(),h=c.getCoordinates();if(h.length!==2||!h[0].equals2D(h[1])){var g=c.getData(),y=new y0(c.getCoordinates(),new ri(g));this.insertUniqueEdge(y)}}},Dn.prototype.setNoder=function(e){this._workingNoder=e},Dn.prototype.interfaces_=function(){return[]},Dn.prototype.getClass=function(){return Dn},Dn.depthDelta=function(e){var i=e.getLocation(0,ie.LEFT),s=e.getLocation(0,ie.RIGHT);return i===Ot.INTERIOR&&s===Ot.EXTERIOR?1:i===Ot.EXTERIOR&&s===Ot.INTERIOR?-1:0},Dn.convertSegStrings=function(e){for(var i=new lr,s=new ae;e.hasNext();){var a=e.next(),c=i.createLineString(a.getCoordinates());s.add(c)}return i.buildGeometry(s)};var Ul=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var e=arguments[0],i=arguments[1];this._noder=e,this._scaleFactor=i,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(arguments.length===4){var s=arguments[0],a=arguments[1],c=arguments[2],h=arguments[3];this._noder=s,this._scaleFactor=a,this._offsetX=c,this._offsetY=h,this._isScaled=!this.isIntegerPrecision()}};Ul.prototype.rescale=function(){var e=this;if(je(arguments[0],Ui))for(var i=arguments[0],s=i.iterator();s.hasNext();){var a=s.next();e.rescale(a.getCoordinates())}else if(arguments[0]instanceof Array){for(var c=arguments[0],h=0;h<c.length;h++)c[h].x=c[h].x/e._scaleFactor+e._offsetX,c[h].y=c[h].y/e._scaleFactor+e._offsetY;c.length===2&&c[0].equals2D(c[1])&&pn.out.println(c)}},Ul.prototype.scale=function(){var e=this;if(je(arguments[0],Ui)){for(var i=arguments[0],s=new ae,a=i.iterator();a.hasNext();){var c=a.next();s.add(new Li(e.scale(c.getCoordinates()),c.getData()))}return s}if(arguments[0]instanceof Array){for(var h=arguments[0],g=new Array(h.length).fill(null),y=0;y<h.length;y++)g[y]=new Ct(Math.round((h[y].x-e._offsetX)*e._scaleFactor),Math.round((h[y].y-e._offsetY)*e._scaleFactor),h[y].z);var w=ar.removeRepeatedPoints(g);return w}},Ul.prototype.isIntegerPrecision=function(){return this._scaleFactor===1},Ul.prototype.getNodedSubstrings=function(){var e=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(e),e},Ul.prototype.computeNodes=function(e){var i=e;this._isScaled&&(i=this.scale(e)),this._noder.computeNodes(i)},Ul.prototype.interfaces_=function(){return[Bc]},Ul.prototype.getClass=function(){return Ul};var Gs=function(){this._li=new Nc,this._segStrings=null;var e=arguments[0];this._segStrings=e},jk={fact:{configurable:!0}};Gs.prototype.checkEndPtVertexIntersections=function(){var e=this;if(arguments.length===0)for(var i=this._segStrings.iterator();i.hasNext();){var s=i.next(),a=s.getCoordinates();e.checkEndPtVertexIntersections(a[0],e._segStrings),e.checkEndPtVertexIntersections(a[a.length-1],e._segStrings)}else if(arguments.length===2){for(var c=arguments[0],h=arguments[1],g=h.iterator();g.hasNext();)for(var y=g.next(),w=y.getCoordinates(),x=1;x<w.length-1;x++)if(w[x].equals(c))throw new Va("found endpt/interior pt intersection at index "+x+" :pt "+c)}},Gs.prototype.checkInteriorIntersections=function(){var e=this;if(arguments.length===0)for(var i=this._segStrings.iterator();i.hasNext();)for(var s=i.next(),a=this._segStrings.iterator();a.hasNext();){var c=a.next();e.checkInteriorIntersections(s,c)}else if(arguments.length===2)for(var h=arguments[0],g=arguments[1],y=h.getCoordinates(),w=g.getCoordinates(),x=0;x<y.length-1;x++)for(var T=0;T<w.length-1;T++)e.checkInteriorIntersections(h,x,g,T);else if(arguments.length===4){var E=arguments[0],P=arguments[1],z=arguments[2],N=arguments[3];if(E===z&&P===N)return null;var B=E.getCoordinates()[P],R=E.getCoordinates()[P+1],X=z.getCoordinates()[N],it=z.getCoordinates()[N+1];if(this._li.computeIntersection(B,R,X,it),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,B,R)||this.hasInteriorIntersection(this._li,X,it)))throw new Va("found non-noded intersection at "+B+"-"+R+" and "+X+"-"+it)}},Gs.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},Gs.prototype.checkCollapses=function(){var e=this;if(arguments.length===0)for(var i=this._segStrings.iterator();i.hasNext();){var s=i.next();e.checkCollapses(s)}else if(arguments.length===1)for(var a=arguments[0],c=a.getCoordinates(),h=0;h<c.length-2;h++)e.checkCollapse(c[h],c[h+1],c[h+2])},Gs.prototype.hasInteriorIntersection=function(e,i,s){for(var a=0;a<e.getIntersectionNum();a++){var c=e.getIntersection(a);if(!c.equals(i)&&!c.equals(s))return!0}return!1},Gs.prototype.checkCollapse=function(e,i,s){if(e.equals(s))throw new Va("found non-noded collapse at "+Gs.fact.createLineString([e,i,s]))},Gs.prototype.interfaces_=function(){return[]},Gs.prototype.getClass=function(){return Gs},jk.fact.get=function(){return new lr},Object.defineProperties(Gs,jk);var Jn=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var e=arguments[0],i=arguments[1],s=arguments[2];if(this._originalPt=e,this._pt=e,this._scaleFactor=i,this._li=s,i<=0)throw new xi("Scale factor must be non-zero");i!==1&&(this._pt=new Ct(this.scale(e.x),this.scale(e.y)),this._p0Scaled=new Ct,this._p1Scaled=new Ct),this.initCorners(this._pt)},Hk={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};Jn.prototype.intersectsScaled=function(e,i){var s=Math.min(e.x,i.x),a=Math.max(e.x,i.x),c=Math.min(e.y,i.y),h=Math.max(e.y,i.y),g=this._maxx<s||this._minx>a||this._maxy<c||this._miny>h;if(g)return!1;var y=this.intersectsToleranceSquare(e,i);return Je.isTrue(!(g&&y),"Found bad envelope test"),y},Jn.prototype.initCorners=function(e){var i=.5;this._minx=e.x-i,this._maxx=e.x+i,this._miny=e.y-i,this._maxy=e.y+i,this._corner[0]=new Ct(this._maxx,this._maxy),this._corner[1]=new Ct(this._minx,this._maxy),this._corner[2]=new Ct(this._minx,this._miny),this._corner[3]=new Ct(this._maxx,this._miny)},Jn.prototype.intersects=function(e,i){return this._scaleFactor===1?this.intersectsScaled(e,i):(this.copyScaled(e,this._p0Scaled),this.copyScaled(i,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},Jn.prototype.scale=function(e){return Math.round(e*this._scaleFactor)},Jn.prototype.getCoordinate=function(){return this._originalPt},Jn.prototype.copyScaled=function(e,i){i.x=this.scale(e.x),i.y=this.scale(e.y)},Jn.prototype.getSafeEnvelope=function(){if(this._safeEnv===null){var e=Jn.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Le(this._originalPt.x-e,this._originalPt.x+e,this._originalPt.y-e,this._originalPt.y+e)}return this._safeEnv},Jn.prototype.intersectsPixelClosure=function(e,i){return this._li.computeIntersection(e,i,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,i,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,i,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,i,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))},Jn.prototype.intersectsToleranceSquare=function(e,i){var s=!1,a=!1;return this._li.computeIntersection(e,i,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(e,i,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(s=!0),this._li.computeIntersection(e,i,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(a=!0),this._li.computeIntersection(e,i,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!s||!a)||!!e.equals(this._pt)||!!i.equals(this._pt))))},Jn.prototype.addSnappedNode=function(e,i){var s=e.getCoordinate(i),a=e.getCoordinate(i+1);return!!this.intersects(s,a)&&(e.addIntersection(this.getCoordinate(),i),!0)},Jn.prototype.interfaces_=function(){return[]},Jn.prototype.getClass=function(){return Jn},Hk.SAFE_ENV_EXPANSION_FACTOR.get=function(){return .75},Object.defineProperties(Jn,Hk);var Nf=function(){this.tempEnv1=new Le,this.selectedSegment=new Re};Nf.prototype.select=function(){if(arguments.length!==1){if(arguments.length===2){var e=arguments[0],i=arguments[1];e.getLineSegment(i,this.selectedSegment),this.select(this.selectedSegment)}}},Nf.prototype.interfaces_=function(){return[]},Nf.prototype.getClass=function(){return Nf};var Md=function(){this._index=null;var e=arguments[0];this._index=e},Uk={HotPixelSnapAction:{configurable:!0}};Md.prototype.snap=function(){if(arguments.length===1){var e=arguments[0];return this.snap(e,null,-1)}if(arguments.length===3){var i=arguments[0],s=arguments[1],a=arguments[2],c=i.getSafeEnvelope(),h=new Gk(i,s,a);return this._index.query(c,{interfaces_:function(){return[Bl]},visitItem:function(g){g.select(c,h)}}),h.isNodeAdded()}},Md.prototype.interfaces_=function(){return[]},Md.prototype.getClass=function(){return Md},Uk.HotPixelSnapAction.get=function(){return Gk},Object.defineProperties(Md,Uk);var Gk=function(e){function i(){e.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var s=arguments[0],a=arguments[1],c=arguments[2];this._hotPixel=s,this._parentEdge=a,this._hotPixelVertexIndex=c}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.isNodeAdded=function(){return this._isNodeAdded},i.prototype.select=function(){if(arguments.length!==2)return e.prototype.select.apply(this,arguments);var s=arguments[0],a=arguments[1],c=s.getContext();if(this._parentEdge!==null&&c===this._parentEdge&&a===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(c,a)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(Nf),eh=function(){this._li=null,this._interiorIntersections=null;var e=arguments[0];this._li=e,this._interiorIntersections=new ae};eh.prototype.processIntersections=function(e,i,s,a){if(e===s&&i===a)return null;var c=e.getCoordinates()[i],h=e.getCoordinates()[i+1],g=s.getCoordinates()[a],y=s.getCoordinates()[a+1];if(this._li.computeIntersection(c,h,g,y),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var w=0;w<this._li.getIntersectionNum();w++)this._interiorIntersections.add(this._li.getIntersection(w));e.addIntersections(this._li,i,0),s.addIntersections(this._li,a,1)}},eh.prototype.isDone=function(){return!1},eh.prototype.getInteriorIntersections=function(){return this._interiorIntersections},eh.prototype.interfaces_=function(){return[Hc]},eh.prototype.getClass=function(){return eh};var wa=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var e=arguments[0];this._pm=e,this._li=new Nc,this._li.setPrecisionModel(e),this._scaleFactor=e.getScale()};wa.prototype.checkCorrectness=function(e){var i=Li.getNodedSubstrings(e),s=new Gs(i);try{s.checkValid()}catch(a){if(!(a instanceof _k))throw a;a.printStackTrace()}},wa.prototype.getNodedSubstrings=function(){return Li.getNodedSubstrings(this._nodedSegStrings)},wa.prototype.snapRound=function(e,i){var s=this.findInteriorIntersections(e,i);this.computeIntersectionSnaps(s),this.computeVertexSnaps(e)},wa.prototype.findInteriorIntersections=function(e,i){var s=new eh(i);return this._noder.setSegmentIntersector(s),this._noder.computeNodes(e),s.getInteriorIntersections()},wa.prototype.computeVertexSnaps=function(){var e=this;if(je(arguments[0],Ui))for(var i=arguments[0],s=i.iterator();s.hasNext();){var a=s.next();e.computeVertexSnaps(a)}else if(arguments[0]instanceof Li)for(var c=arguments[0],h=c.getCoordinates(),g=0;g<h.length;g++){var y=new Jn(h[g],e._scaleFactor,e._li),w=e._pointSnapper.snap(y,c,g);w&&c.addIntersection(h[g],g)}},wa.prototype.computeNodes=function(e){this._nodedSegStrings=e,this._noder=new Yb,this._pointSnapper=new Md(this._noder.getIndex()),this.snapRound(e,this._li)},wa.prototype.computeIntersectionSnaps=function(e){for(var i=this,s=e.iterator();s.hasNext();){var a=s.next(),c=new Jn(a,i._scaleFactor,i._li);i._pointSnapper.snap(c)}},wa.prototype.interfaces_=function(){return[Bc]},wa.prototype.getClass=function(){return wa};var gn=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Kr,this._resultGeometry=null,this._saveException=null,arguments.length===1){var e=arguments[0];this._argGeom=e}else if(arguments.length===2){var i=arguments[0],s=arguments[1];this._argGeom=i,this._bufParams=s}},Id={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};gn.prototype.bufferFixedPrecision=function(e){var i=new Ul(new wa(new Xr(1)),e.getScale()),s=new Dn(this._bufParams);s.setWorkingPrecisionModel(e),s.setNoder(i),this._resultGeometry=s.buffer(this._argGeom,this._distance)},gn.prototype.bufferReducedPrecision=function(){var e=this;if(arguments.length===0){for(var i=gn.MAX_PRECISION_DIGITS;i>=0;i--){try{e.bufferReducedPrecision(i)}catch(h){if(!(h instanceof Ka))throw h;e._saveException=h}if(e._resultGeometry!==null)return null}throw this._saveException}if(arguments.length===1){var s=arguments[0],a=gn.precisionScaleFactor(this._argGeom,this._distance,s),c=new Xr(a);this.bufferFixedPrecision(c)}},gn.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var e=this._argGeom.getFactory().getPrecisionModel();e.getType()===Xr.FIXED?this.bufferFixedPrecision(e):this.bufferReducedPrecision()},gn.prototype.setQuadrantSegments=function(e){this._bufParams.setQuadrantSegments(e)},gn.prototype.bufferOriginalPrecision=function(){try{var e=new Dn(this._bufParams);this._resultGeometry=e.buffer(this._argGeom,this._distance)}catch(i){if(!(i instanceof Va))throw i;this._saveException=i}},gn.prototype.getResultGeometry=function(e){return this._distance=e,this.computeGeometry(),this._resultGeometry},gn.prototype.setEndCapStyle=function(e){this._bufParams.setEndCapStyle(e)},gn.prototype.interfaces_=function(){return[]},gn.prototype.getClass=function(){return gn},gn.bufferOp=function(){if(arguments.length===2){var e=arguments[0],i=arguments[1],s=new gn(e),a=s.getResultGeometry(i);return a}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Fe&&typeof arguments[1]=="number"){var c=arguments[0],h=arguments[1],g=arguments[2],y=new gn(c);y.setQuadrantSegments(g);var w=y.getResultGeometry(h);return w}if(arguments[2]instanceof Kr&&arguments[0]instanceof Fe&&typeof arguments[1]=="number"){var x=arguments[0],T=arguments[1],E=arguments[2],P=new gn(x,E),z=P.getResultGeometry(T);return z}}else if(arguments.length===4){var N=arguments[0],B=arguments[1],R=arguments[2],X=arguments[3],it=new gn(N);it.setQuadrantSegments(R),it.setEndCapStyle(X);var D=it.getResultGeometry(B);return D}},gn.precisionScaleFactor=function(e,i,s){var a=e.getEnvelopeInternal(),c=xo.max(Math.abs(a.getMaxX()),Math.abs(a.getMaxY()),Math.abs(a.getMinX()),Math.abs(a.getMinY()))+2*(i>0?i:0),h=s-Math.trunc(Math.log(c)/Math.log(10)+1);return Math.pow(10,h)},Id.CAP_ROUND.get=function(){return Kr.CAP_ROUND},Id.CAP_BUTT.get=function(){return Kr.CAP_FLAT},Id.CAP_FLAT.get=function(){return Kr.CAP_FLAT},Id.CAP_SQUARE.get=function(){return Kr.CAP_SQUARE},Id.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(gn,Id);var Fn=function(){this._pt=[new Ct,new Ct],this._distance=Ze.NaN,this._isNull=!0};Fn.prototype.getCoordinates=function(){return this._pt},Fn.prototype.getCoordinate=function(e){return this._pt[e]},Fn.prototype.setMinimum=function(){if(arguments.length===1){var e=arguments[0];this.setMinimum(e._pt[0],e._pt[1])}else if(arguments.length===2){var i=arguments[0],s=arguments[1];if(this._isNull)return this.initialize(i,s),null;var a=i.distance(s);a<this._distance&&this.initialize(i,s,a)}},Fn.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var e=arguments[0],i=arguments[1];this._pt[0].setCoordinate(e),this._pt[1].setCoordinate(i),this._distance=e.distance(i),this._isNull=!1}else if(arguments.length===3){var s=arguments[0],a=arguments[1],c=arguments[2];this._pt[0].setCoordinate(s),this._pt[1].setCoordinate(a),this._distance=c,this._isNull=!1}},Fn.prototype.getDistance=function(){return this._distance},Fn.prototype.setMaximum=function(){if(arguments.length===1){var e=arguments[0];this.setMaximum(e._pt[0],e._pt[1])}else if(arguments.length===2){var i=arguments[0],s=arguments[1];if(this._isNull)return this.initialize(i,s),null;var a=i.distance(s);a>this._distance&&this.initialize(i,s,a)}},Fn.prototype.interfaces_=function(){return[]},Fn.prototype.getClass=function(){return Fn};var xa=function(){};xa.prototype.interfaces_=function(){return[]},xa.prototype.getClass=function(){return xa},xa.computeDistance=function(){if(arguments[2]instanceof Fn&&arguments[0]instanceof Ci&&arguments[1]instanceof Ct)for(var e=arguments[0],i=arguments[1],s=arguments[2],a=e.getCoordinates(),c=new Re,h=0;h<a.length-1;h++){c.setCoordinates(a[h],a[h+1]);var g=c.closestPoint(i);s.setMinimum(g,i)}else if(arguments[2]instanceof Fn&&arguments[0]instanceof Gi&&arguments[1]instanceof Ct){var y=arguments[0],w=arguments[1],x=arguments[2];xa.computeDistance(y.getExteriorRing(),w,x);for(var T=0;T<y.getNumInteriorRing();T++)xa.computeDistance(y.getInteriorRingN(T),w,x)}else if(arguments[2]instanceof Fn&&arguments[0]instanceof Fe&&arguments[1]instanceof Ct){var E=arguments[0],P=arguments[1],z=arguments[2];if(E instanceof Ci)xa.computeDistance(E,P,z);else if(E instanceof Gi)xa.computeDistance(E,P,z);else if(E instanceof On)for(var N=E,B=0;B<N.getNumGeometries();B++){var R=N.getGeometryN(B);xa.computeDistance(R,P,z)}else z.setMinimum(E.getCoordinate(),P)}else if(arguments[2]instanceof Fn&&arguments[0]instanceof Re&&arguments[1]instanceof Ct){var X=arguments[0],it=arguments[1],D=arguments[2],Y=X.closestPoint(it);D.setMinimum(Y,it)}};var Gc=function(e){this._maxPtDist=new Fn,this._inputGeom=e||null},Xb={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};Gc.prototype.computeMaxMidpointDistance=function(e){var i=new Gl(this._inputGeom);e.apply(i),this._maxPtDist.setMaximum(i.getMaxPointDistance())},Gc.prototype.computeMaxVertexDistance=function(e){var i=new rh(this._inputGeom);e.apply(i),this._maxPtDist.setMaximum(i.getMaxPointDistance())},Gc.prototype.findDistance=function(e){return this.computeMaxVertexDistance(e),this.computeMaxMidpointDistance(e),this._maxPtDist.getDistance()},Gc.prototype.getDistancePoints=function(){return this._maxPtDist},Gc.prototype.interfaces_=function(){return[]},Gc.prototype.getClass=function(){return Gc},Xb.MaxPointDistanceFilter.get=function(){return rh},Xb.MaxMidpointDistanceFilter.get=function(){return Gl},Object.defineProperties(Gc,Xb);var rh=function(e){this._maxPtDist=new Fn,this._minPtDist=new Fn,this._geom=e||null};rh.prototype.filter=function(e){this._minPtDist.initialize(),xa.computeDistance(this._geom,e,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},rh.prototype.getMaxPointDistance=function(){return this._maxPtDist},rh.prototype.interfaces_=function(){return[pa]},rh.prototype.getClass=function(){return rh};var Gl=function(e){this._maxPtDist=new Fn,this._minPtDist=new Fn,this._geom=e||null};Gl.prototype.filter=function(e,i){if(i===0)return null;var s=e.getCoordinate(i-1),a=e.getCoordinate(i),c=new Ct((s.x+a.x)/2,(s.y+a.y)/2);this._minPtDist.initialize(),xa.computeDistance(this._geom,c,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Gl.prototype.isDone=function(){return!1},Gl.prototype.isGeometryChanged=function(){return!1},Gl.prototype.getMaxPointDistance=function(){return this._maxPtDist},Gl.prototype.interfaces_=function(){return[us]},Gl.prototype.getClass=function(){return Gl};var tl=function(e){this._comps=e||null};tl.prototype.filter=function(e){e instanceof Gi&&this._comps.add(e)},tl.prototype.interfaces_=function(){return[zs]},tl.prototype.getClass=function(){return tl},tl.getPolygons=function(){if(arguments.length===1){var e=arguments[0];return tl.getPolygons(e,new ae)}if(arguments.length===2){var i=arguments[0],s=arguments[1];return i instanceof Gi?s.add(i):i instanceof On&&i.apply(new tl(s)),s}};var mn=function(){if(this._lines=null,this._isForcedToLineString=!1,arguments.length===1){var e=arguments[0];this._lines=e}else if(arguments.length===2){var i=arguments[0],s=arguments[1];this._lines=i,this._isForcedToLineString=s}};mn.prototype.filter=function(e){if(this._isForcedToLineString&&e instanceof fa){var i=e.getFactory().createLineString(e.getCoordinateSequence());return this._lines.add(i),null}e instanceof Ci&&this._lines.add(e)},mn.prototype.setForceToLineString=function(e){this._isForcedToLineString=e},mn.prototype.interfaces_=function(){return[Wa]},mn.prototype.getClass=function(){return mn},mn.getGeometry=function(){if(arguments.length===1){var e=arguments[0];return e.getFactory().buildGeometry(mn.getLines(e))}if(arguments.length===2){var i=arguments[0],s=arguments[1];return i.getFactory().buildGeometry(mn.getLines(i,s))}},mn.getLines=function(){if(arguments.length===1){var e=arguments[0];return mn.getLines(e,!1)}if(arguments.length===2){if(je(arguments[0],Ui)&&je(arguments[1],Ui)){for(var i=arguments[0],s=arguments[1],a=i.iterator();a.hasNext();){var c=a.next();mn.getLines(c,s)}return s}if(arguments[0]instanceof Fe&&typeof arguments[1]=="boolean"){var h=arguments[0],g=arguments[1],y=new ae;return h.apply(new mn(y,g)),y}if(arguments[0]instanceof Fe&&je(arguments[1],Ui)){var w=arguments[0],x=arguments[1];return w instanceof Ci?x.add(w):w.apply(new mn(x)),x}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&je(arguments[0],Ui)&&je(arguments[1],Ui)){for(var T=arguments[0],E=arguments[1],P=arguments[2],z=T.iterator();z.hasNext();){var N=z.next();mn.getLines(N,E,P)}return E}if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Fe&&je(arguments[1],Ui)){var B=arguments[0],R=arguments[1],X=arguments[2];return B.apply(new mn(R,X)),R}}};var fs=function(){if(this._boundaryRule=Fo.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,arguments.length!==0){if(arguments.length===1){var e=arguments[0];if(e===null)throw new xi("Rule must be non-null");this._boundaryRule=e}}};fs.prototype.locateInternal=function(){var e=this;if(arguments[0]instanceof Ct&&arguments[1]instanceof Gi){var i=arguments[0],s=arguments[1];if(s.isEmpty())return Ot.EXTERIOR;var a=s.getExteriorRing(),c=this.locateInPolygonRing(i,a);if(c===Ot.EXTERIOR)return Ot.EXTERIOR;if(c===Ot.BOUNDARY)return Ot.BOUNDARY;for(var h=0;h<s.getNumInteriorRing();h++){var g=s.getInteriorRingN(h),y=e.locateInPolygonRing(i,g);if(y===Ot.INTERIOR)return Ot.EXTERIOR;if(y===Ot.BOUNDARY)return Ot.BOUNDARY}return Ot.INTERIOR}if(arguments[0]instanceof Ct&&arguments[1]instanceof Ci){var w=arguments[0],x=arguments[1];if(!x.getEnvelopeInternal().intersects(w))return Ot.EXTERIOR;var T=x.getCoordinates();return x.isClosed()||!w.equals(T[0])&&!w.equals(T[T.length-1])?he.isOnLine(w,T)?Ot.INTERIOR:Ot.EXTERIOR:Ot.BOUNDARY}if(arguments[0]instanceof Ct&&arguments[1]instanceof io){var E=arguments[0],P=arguments[1],z=P.getCoordinate();return z.equals2D(E)?Ot.INTERIOR:Ot.EXTERIOR}},fs.prototype.locateInPolygonRing=function(e,i){return i.getEnvelopeInternal().intersects(e)?he.locatePointInRing(e,i.getCoordinates()):Ot.EXTERIOR},fs.prototype.intersects=function(e,i){return this.locate(e,i)!==Ot.EXTERIOR},fs.prototype.updateLocationInfo=function(e){e===Ot.INTERIOR&&(this._isIn=!0),e===Ot.BOUNDARY&&this._numBoundaries++},fs.prototype.computeLocation=function(e,i){var s=this;if(i instanceof io&&this.updateLocationInfo(this.locateInternal(e,i)),i instanceof Ci)this.updateLocationInfo(this.locateInternal(e,i));else if(i instanceof Gi)this.updateLocationInfo(this.locateInternal(e,i));else if(i instanceof Fc)for(var a=i,c=0;c<a.getNumGeometries();c++){var h=a.getGeometryN(c);s.updateLocationInfo(s.locateInternal(e,h))}else if(i instanceof ga)for(var g=i,y=0;y<g.getNumGeometries();y++){var w=g.getGeometryN(y);s.updateLocationInfo(s.locateInternal(e,w))}else if(i instanceof On)for(var x=new ya(i);x.hasNext();){var T=x.next();T!==i&&s.computeLocation(e,T)}},fs.prototype.locate=function(e,i){return i.isEmpty()?Ot.EXTERIOR:i instanceof Ci||i instanceof Gi?this.locateInternal(e,i):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(e,i),this._boundaryRule.isInBoundary(this._numBoundaries)?Ot.BOUNDARY:this._numBoundaries>0||this._isIn?Ot.INTERIOR:Ot.EXTERIOR)},fs.prototype.interfaces_=function(){return[]},fs.prototype.getClass=function(){return fs};var Bn=function e(){if(this._component=null,this._segIndex=null,this._pt=null,arguments.length===2){var i=arguments[0],s=arguments[1];e.call(this,i,e.INSIDE_AREA,s)}else if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2];this._component=a,this._segIndex=c,this._pt=h}},qk={INSIDE_AREA:{configurable:!0}};Bn.prototype.isInsideArea=function(){return this._segIndex===Bn.INSIDE_AREA},Bn.prototype.getCoordinate=function(){return this._pt},Bn.prototype.getGeometryComponent=function(){return this._component},Bn.prototype.getSegmentIndex=function(){return this._segIndex},Bn.prototype.interfaces_=function(){return[]},Bn.prototype.getClass=function(){return Bn},qk.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Bn,qk);var ql=function(e){this._pts=e||null};ql.prototype.filter=function(e){e instanceof io&&this._pts.add(e)},ql.prototype.interfaces_=function(){return[zs]},ql.prototype.getClass=function(){return ql},ql.getPoints=function(){if(arguments.length===1){var e=arguments[0];return e instanceof io?ds.singletonList(e):ql.getPoints(e,new ae)}if(arguments.length===2){var i=arguments[0],s=arguments[1];return i instanceof io?s.add(i):i instanceof On&&i.apply(new ql(s)),s}};var ih=function(){this._locations=null;var e=arguments[0];this._locations=e};ih.prototype.filter=function(e){(e instanceof io||e instanceof Ci||e instanceof Gi)&&this._locations.add(new Bn(e,0,e.getCoordinate()))},ih.prototype.interfaces_=function(){return[zs]},ih.prototype.getClass=function(){return ih},ih.getLocations=function(e){var i=new ae;return e.apply(new ih(i)),i};var vn=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new fs,this._minDistanceLocation=null,this._minDistance=Ze.MAX_VALUE,arguments.length===2){var e=arguments[0],i=arguments[1];this._geom=[e,i],this._terminateDistance=0}else if(arguments.length===3){var s=arguments[0],a=arguments[1],c=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=s,this._geom[1]=a,this._terminateDistance=c}};vn.prototype.computeContainmentDistance=function(){var e=this;if(arguments.length===0){var i=new Array(2).fill(null);if(this.computeContainmentDistance(0,i),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,i)}else if(arguments.length===2){var s=arguments[0],a=arguments[1],c=1-s,h=tl.getPolygons(this._geom[s]);if(h.size()>0){var g=ih.getLocations(this._geom[c]);if(this.computeContainmentDistance(g,h,a),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[c]=a[0],this._minDistanceLocation[s]=a[1],null}}else if(arguments.length===3){if(arguments[2]instanceof Array&&je(arguments[0],ls)&&je(arguments[1],ls)){for(var y=arguments[0],w=arguments[1],x=arguments[2],T=0;T<y.size();T++)for(var E=y.get(T),P=0;P<w.size();P++)if(e.computeContainmentDistance(E,w.get(P),x),e._minDistance<=e._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Bn&&arguments[1]instanceof Gi){var z=arguments[0],N=arguments[1],B=arguments[2],R=z.getCoordinate();if(Ot.EXTERIOR!==this._ptLocator.locate(R,N))return this._minDistance=0,B[0]=z,B[1]=new Bn(N,R),null}}},vn.prototype.computeMinDistanceLinesPoints=function(e,i,s){for(var a=this,c=0;c<e.size();c++)for(var h=e.get(c),g=0;g<i.size();g++){var y=i.get(g);if(a.computeMinDistance(h,y,s),a._minDistance<=a._terminateDistance)return null}},vn.prototype.computeFacetDistance=function(){var e=new Array(2).fill(null),i=mn.getLines(this._geom[0]),s=mn.getLines(this._geom[1]),a=ql.getPoints(this._geom[0]),c=ql.getPoints(this._geom[1]);return this.computeMinDistanceLines(i,s,e),this.updateMinDistance(e,!1),this._minDistance<=this._terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistanceLinesPoints(i,c,e),this.updateMinDistance(e,!1),this._minDistance<=this._terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistanceLinesPoints(s,a,e),this.updateMinDistance(e,!0),this._minDistance<=this._terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistancePoints(a,c,e),void this.updateMinDistance(e,!1))))},vn.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},vn.prototype.updateMinDistance=function(e,i){if(e[0]===null)return null;i?(this._minDistanceLocation[0]=e[1],this._minDistanceLocation[1]=e[0]):(this._minDistanceLocation[0]=e[0],this._minDistanceLocation[1]=e[1])},vn.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},vn.prototype.computeMinDistance=function(){var e=this;if(arguments.length===0){if(this._minDistanceLocation!==null||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(arguments.length===3){if(arguments[2]instanceof Array&&arguments[0]instanceof Ci&&arguments[1]instanceof io){var i=arguments[0],s=arguments[1],a=arguments[2];if(i.getEnvelopeInternal().distance(s.getEnvelopeInternal())>this._minDistance)return null;for(var c=i.getCoordinates(),h=s.getCoordinate(),g=0;g<c.length-1;g++){var y=he.distancePointLine(h,c[g],c[g+1]);if(y<e._minDistance){e._minDistance=y;var w=new Re(c[g],c[g+1]),x=w.closestPoint(h);a[0]=new Bn(i,g,x),a[1]=new Bn(s,0,h)}if(e._minDistance<=e._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Ci&&arguments[1]instanceof Ci){var T=arguments[0],E=arguments[1],P=arguments[2];if(T.getEnvelopeInternal().distance(E.getEnvelopeInternal())>this._minDistance)return null;for(var z=T.getCoordinates(),N=E.getCoordinates(),B=0;B<z.length-1;B++)for(var R=0;R<N.length-1;R++){var X=he.distanceLineLine(z[B],z[B+1],N[R],N[R+1]);if(X<e._minDistance){e._minDistance=X;var it=new Re(z[B],z[B+1]),D=new Re(N[R],N[R+1]),Y=it.closestPoints(D);P[0]=new Bn(T,B,Y[0]),P[1]=new Bn(E,R,Y[1])}if(e._minDistance<=e._terminateDistance)return null}}}},vn.prototype.computeMinDistancePoints=function(e,i,s){for(var a=this,c=0;c<e.size();c++)for(var h=e.get(c),g=0;g<i.size();g++){var y=i.get(g),w=h.getCoordinate().distance(y.getCoordinate());if(w<a._minDistance&&(a._minDistance=w,s[0]=new Bn(h,0,h.getCoordinate()),s[1]=new Bn(y,0,y.getCoordinate())),a._minDistance<=a._terminateDistance)return null}},vn.prototype.distance=function(){if(this._geom[0]===null||this._geom[1]===null)throw new xi("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},vn.prototype.computeMinDistanceLines=function(e,i,s){for(var a=this,c=0;c<e.size();c++)for(var h=e.get(c),g=0;g<i.size();g++){var y=i.get(g);if(a.computeMinDistance(h,y,s),a._minDistance<=a._terminateDistance)return null}},vn.prototype.interfaces_=function(){return[]},vn.prototype.getClass=function(){return vn},vn.distance=function(e,i){return new vn(e,i).distance()},vn.isWithinDistance=function(e,i,s){return new vn(e,i,s).distance()<=s},vn.nearestPoints=function(e,i){return new vn(e,i).nearestPoints()};var Cn=function(){this._pt=[new Ct,new Ct],this._distance=Ze.NaN,this._isNull=!0};Cn.prototype.getCoordinates=function(){return this._pt},Cn.prototype.getCoordinate=function(e){return this._pt[e]},Cn.prototype.setMinimum=function(){if(arguments.length===1){var e=arguments[0];this.setMinimum(e._pt[0],e._pt[1])}else if(arguments.length===2){var i=arguments[0],s=arguments[1];if(this._isNull)return this.initialize(i,s),null;var a=i.distance(s);a<this._distance&&this.initialize(i,s,a)}},Cn.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var e=arguments[0],i=arguments[1];this._pt[0].setCoordinate(e),this._pt[1].setCoordinate(i),this._distance=e.distance(i),this._isNull=!1}else if(arguments.length===3){var s=arguments[0],a=arguments[1],c=arguments[2];this._pt[0].setCoordinate(s),this._pt[1].setCoordinate(a),this._distance=c,this._isNull=!1}},Cn.prototype.toString=function(){return as.toLineString(this._pt[0],this._pt[1])},Cn.prototype.getDistance=function(){return this._distance},Cn.prototype.setMaximum=function(){if(arguments.length===1){var e=arguments[0];this.setMaximum(e._pt[0],e._pt[1])}else if(arguments.length===2){var i=arguments[0],s=arguments[1];if(this._isNull)return this.initialize(i,s),null;var a=i.distance(s);a>this._distance&&this.initialize(i,s,a)}},Cn.prototype.interfaces_=function(){return[]},Cn.prototype.getClass=function(){return Cn};var qs=function(){};qs.prototype.interfaces_=function(){return[]},qs.prototype.getClass=function(){return qs},qs.computeDistance=function(){if(arguments[2]instanceof Cn&&arguments[0]instanceof Ci&&arguments[1]instanceof Ct)for(var e=arguments[0],i=arguments[1],s=arguments[2],a=new Re,c=e.getCoordinates(),h=0;h<c.length-1;h++){a.setCoordinates(c[h],c[h+1]);var g=a.closestPoint(i);s.setMinimum(g,i)}else if(arguments[2]instanceof Cn&&arguments[0]instanceof Gi&&arguments[1]instanceof Ct){var y=arguments[0],w=arguments[1],x=arguments[2];qs.computeDistance(y.getExteriorRing(),w,x);for(var T=0;T<y.getNumInteriorRing();T++)qs.computeDistance(y.getInteriorRingN(T),w,x)}else if(arguments[2]instanceof Cn&&arguments[0]instanceof Fe&&arguments[1]instanceof Ct){var E=arguments[0],P=arguments[1],z=arguments[2];if(E instanceof Ci)qs.computeDistance(E,P,z);else if(E instanceof Gi)qs.computeDistance(E,P,z);else if(E instanceof On)for(var N=E,B=0;B<N.getNumGeometries();B++){var R=N.getGeometryN(B);qs.computeDistance(R,P,z)}else z.setMinimum(E.getCoordinate(),P)}else if(arguments[2]instanceof Cn&&arguments[0]instanceof Re&&arguments[1]instanceof Ct){var X=arguments[0],it=arguments[1],D=arguments[2],Y=X.closestPoint(it);D.setMinimum(Y,it)}};var Go=function(){this._g0=null,this._g1=null,this._ptDist=new Cn,this._densifyFrac=0;var e=arguments[0],i=arguments[1];this._g0=e,this._g1=i},Kb={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Go.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Go.prototype.setDensifyFraction=function(e){if(e>1||e<=0)throw new xi("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=e},Go.prototype.compute=function(e,i){this.computeOrientedDistance(e,i,this._ptDist),this.computeOrientedDistance(i,e,this._ptDist)},Go.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Go.prototype.computeOrientedDistance=function(e,i,s){var a=new nh(i);if(e.apply(a),s.setMaximum(a.getMaxPointDistance()),this._densifyFrac>0){var c=new Vl(i,this._densifyFrac);e.apply(c),s.setMaximum(c.getMaxPointDistance())}},Go.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Go.prototype.interfaces_=function(){return[]},Go.prototype.getClass=function(){return Go},Go.distance=function(){if(arguments.length===2){var e=arguments[0],i=arguments[1],s=new Go(e,i);return s.distance()}if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2],g=new Go(a,c);return g.setDensifyFraction(h),g.distance()}},Kb.MaxPointDistanceFilter.get=function(){return nh},Kb.MaxDensifiedByFractionDistanceFilter.get=function(){return Vl},Object.defineProperties(Go,Kb);var nh=function(){this._maxPtDist=new Cn,this._minPtDist=new Cn,this._euclideanDist=new qs,this._geom=null;var e=arguments[0];this._geom=e};nh.prototype.filter=function(e){this._minPtDist.initialize(),qs.computeDistance(this._geom,e,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},nh.prototype.getMaxPointDistance=function(){return this._maxPtDist},nh.prototype.interfaces_=function(){return[pa]},nh.prototype.getClass=function(){return nh};var Vl=function(){this._maxPtDist=new Cn,this._minPtDist=new Cn,this._geom=null,this._numSubSegs=0;var e=arguments[0],i=arguments[1];this._geom=e,this._numSubSegs=Math.trunc(Math.round(1/i))};Vl.prototype.filter=function(e,i){var s=this;if(i===0)return null;for(var a=e.getCoordinate(i-1),c=e.getCoordinate(i),h=(c.x-a.x)/this._numSubSegs,g=(c.y-a.y)/this._numSubSegs,y=0;y<this._numSubSegs;y++){var w=a.x+y*h,x=a.y+y*g,T=new Ct(w,x);s._minPtDist.initialize(),qs.computeDistance(s._geom,T,s._minPtDist),s._maxPtDist.setMaximum(s._minPtDist)}},Vl.prototype.isDone=function(){return!1},Vl.prototype.isGeometryChanged=function(){return!1},Vl.prototype.getMaxPointDistance=function(){return this._maxPtDist},Vl.prototype.interfaces_=function(){return[us]},Vl.prototype.getClass=function(){return Vl};var so=function(e,i,s){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=e||null,this._bufDistance=i||null,this._result=s||null},Jb={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};so.prototype.checkMaximumDistance=function(e,i,s){var a=new Go(i,e);if(a.setDensifyFraction(.25),this._maxDistanceFound=a.orientedDistance(),this._maxDistanceFound>s){this._isValid=!1;var c=a.getCoordinates();this._errorLocation=c[1],this._errorIndicator=e.getFactory().createLineString(c),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+as.toLineString(c[0],c[1])+")"}},so.prototype.isValid=function(){var e=Math.abs(this._bufDistance),i=so.MAX_DISTANCE_DIFF_FRAC*e;return this._minValidDistance=e-i,this._maxValidDistance=e+i,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),so.VERBOSE&&pn.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},so.prototype.checkNegativeValid=function(){if(!(this._input instanceof Gi||this._input instanceof ga||this._input instanceof On))return null;var e=this.getPolygonLines(this._input);if(this.checkMinimumDistance(e,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(e,this._result,this._maxValidDistance)},so.prototype.getErrorIndicator=function(){return this._errorIndicator},so.prototype.checkMinimumDistance=function(e,i,s){var a=new vn(e,i,s);if(this._minDistanceFound=a.distance(),this._minDistanceFound<s){this._isValid=!1;var c=a.nearestPoints();this._errorLocation=a.nearestPoints()[1],this._errorIndicator=e.getFactory().createLineString(c),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+as.toLineString(c[0],c[1])+" )"}},so.prototype.checkPositiveValid=function(){var e=this._result.getBoundary();if(this.checkMinimumDistance(this._input,e,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,e,this._maxValidDistance)},so.prototype.getErrorLocation=function(){return this._errorLocation},so.prototype.getPolygonLines=function(e){for(var i=new ae,s=new mn(i),a=tl.getPolygons(e).iterator();a.hasNext();)a.next().apply(s);return e.getFactory().buildGeometry(i)},so.prototype.getErrorMessage=function(){return this._errMsg},so.prototype.interfaces_=function(){return[]},so.prototype.getClass=function(){return so},Jb.VERBOSE.get=function(){return!1},Jb.MAX_DISTANCE_DIFF_FRAC.get=function(){return .012},Object.defineProperties(so,Jb);var yn=function(e,i,s){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=e||null,this._distance=i||null,this._result=s||null},Qb={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};yn.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},yn.prototype.checkEnvelope=function(){if(this._distance<0)return null;var e=this._distance*yn.MAX_ENV_DIFF_FRAC;e===0&&(e=.001);var i=new Le(this._input.getEnvelopeInternal());i.expandBy(this._distance);var s=new Le(this._result.getEnvelopeInternal());s.expandBy(e),s.contains(i)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(s)),this.report("Envelope")},yn.prototype.checkDistance=function(){var e=new so(this._input,this._distance,this._result);e.isValid()||(this._isValid=!1,this._errorMsg=e.getErrorMessage(),this._errorLocation=e.getErrorLocation(),this._errorIndicator=e.getErrorIndicator()),this.report("Distance")},yn.prototype.checkArea=function(){var e=this._input.getArea(),i=this._result.getArea();this._distance>0&&e>i&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&e<i&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},yn.prototype.checkPolygonal=function(){this._result instanceof Gi||this._result instanceof ga||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},yn.prototype.getErrorIndicator=function(){return this._errorIndicator},yn.prototype.getErrorLocation=function(){return this._errorLocation},yn.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},yn.prototype.report=function(e){if(!yn.VERBOSE)return null;pn.out.println("Check "+e+": "+(this._isValid?"passed":"FAILED"))},yn.prototype.getErrorMessage=function(){return this._errorMsg},yn.prototype.interfaces_=function(){return[]},yn.prototype.getClass=function(){return yn},yn.isValidMsg=function(e,i,s){var a=new yn(e,i,s);return a.isValid()?null:a.getErrorMessage()},yn.isValid=function(e,i,s){return!!new yn(e,i,s).isValid()},Qb.VERBOSE.get=function(){return!1},Qb.MAX_ENV_DIFF_FRAC.get=function(){return .012},Object.defineProperties(yn,Qb);var Vs=function(){this._pts=null,this._data=null;var e=arguments[0],i=arguments[1];this._pts=e,this._data=i};Vs.prototype.getCoordinates=function(){return this._pts},Vs.prototype.size=function(){return this._pts.length},Vs.prototype.getCoordinate=function(e){return this._pts[e]},Vs.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Vs.prototype.getSegmentOctant=function(e){return e===this._pts.length-1?-1:Qu.octant(this.getCoordinate(e),this.getCoordinate(e+1))},Vs.prototype.setData=function(e){this._data=e},Vs.prototype.getData=function(){return this._data},Vs.prototype.toString=function(){return as.toLineString(new Ii(this._pts))},Vs.prototype.interfaces_=function(){return[va]},Vs.prototype.getClass=function(){return Vs};var rn=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new ae,this._intersectionCount=0,this._keepIntersections=!0;var e=arguments[0];this._li=e,this._interiorIntersection=null};rn.prototype.getInteriorIntersection=function(){return this._interiorIntersection},rn.prototype.setCheckEndSegmentsOnly=function(e){this._isCheckEndSegmentsOnly=e},rn.prototype.getIntersectionSegments=function(){return this._intSegments},rn.prototype.count=function(){return this._intersectionCount},rn.prototype.getIntersections=function(){return this._intersections},rn.prototype.setFindAllIntersections=function(e){this._findAllIntersections=e},rn.prototype.setKeepIntersections=function(e){this._keepIntersections=e},rn.prototype.processIntersections=function(e,i,s,a){if(!this._findAllIntersections&&this.hasIntersection()||e===s&&i===a||this._isCheckEndSegmentsOnly&&!(this.isEndSegment(e,i)||this.isEndSegment(s,a)))return null;var c=e.getCoordinates()[i],h=e.getCoordinates()[i+1],g=s.getCoordinates()[a],y=s.getCoordinates()[a+1];this._li.computeIntersection(c,h,g,y),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=c,this._intSegments[1]=h,this._intSegments[2]=g,this._intSegments[3]=y,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},rn.prototype.isEndSegment=function(e,i){return i===0||i>=e.size()-2},rn.prototype.hasIntersection=function(){return this._interiorIntersection!==null},rn.prototype.isDone=function(){return!this._findAllIntersections&&this._interiorIntersection!==null},rn.prototype.interfaces_=function(){return[Hc]},rn.prototype.getClass=function(){return rn},rn.createAllIntersectionsFinder=function(e){var i=new rn(e);return i.setFindAllIntersections(!0),i},rn.createAnyIntersectionFinder=function(e){return new rn(e)},rn.createIntersectionCounter=function(e){var i=new rn(e);return i.setFindAllIntersections(!0),i.setKeepIntersections(!1),i};var gs=function(){this._li=new Nc,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var e=arguments[0];this._segStrings=e};gs.prototype.execute=function(){if(this._segInt!==null)return null;this.checkInteriorIntersections()},gs.prototype.getIntersections=function(){return this._segInt.getIntersections()},gs.prototype.isValid=function(){return this.execute(),this._isValid},gs.prototype.setFindAllIntersections=function(e){this._findAllIntersections=e},gs.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new rn(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var e=new Yb;if(e.setSegmentIntersector(this._segInt),e.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},gs.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Ka(this.getErrorMessage(),this._segInt.getInteriorIntersection())},gs.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var e=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+as.toLineString(e[0],e[1])+" and "+as.toLineString(e[2],e[3])},gs.prototype.interfaces_=function(){return[]},gs.prototype.getClass=function(){return gs},gs.computeIntersections=function(e){var i=new gs(e);return i.setFindAllIntersections(!0),i.isValid(),i.getIntersections()};var qc=function e(){this._nv=null;var i=arguments[0];this._nv=new gs(e.toSegmentStrings(i))};qc.prototype.checkValid=function(){this._nv.checkValid()},qc.prototype.interfaces_=function(){return[]},qc.prototype.getClass=function(){return qc},qc.toSegmentStrings=function(e){for(var i=new ae,s=e.iterator();s.hasNext();){var a=s.next();i.add(new Vs(a.getCoordinates(),a))}return i},qc.checkValid=function(e){new qc(e).checkValid()};var oh=function(e){this._mapOp=e};oh.prototype.map=function(e){for(var i=new ae,s=0;s<e.getNumGeometries();s++){var a=this._mapOp.map(e.getGeometryN(s));a.isEmpty()||i.add(a)}return e.getFactory().createGeometryCollection(lr.toGeometryArray(i))},oh.prototype.interfaces_=function(){return[]},oh.prototype.getClass=function(){return oh},oh.map=function(e,i){return new oh(i).map(e)};var Ws=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new ae,this._resultLineList=new ae;var e=arguments[0],i=arguments[1],s=arguments[2];this._op=e,this._geometryFactory=i,this._ptLocator=s};Ws.prototype.collectLines=function(e){for(var i=this,s=this._op.getGraph().getEdgeEnds().iterator();s.hasNext();){var a=s.next();i.collectLineEdge(a,e,i._lineEdgesList),i.collectBoundaryTouchEdge(a,e,i._lineEdgesList)}},Ws.prototype.labelIsolatedLine=function(e,i){var s=this._ptLocator.locate(e.getCoordinate(),this._op.getArgGeometry(i));e.getLabel().setLocation(i,s)},Ws.prototype.build=function(e){return this.findCoveredLineEdges(),this.collectLines(e),this.buildLines(e),this._resultLineList},Ws.prototype.collectLineEdge=function(e,i,s){var a=e.getLabel(),c=e.getEdge();e.isLineEdge()&&(e.isVisited()||!Ke.isResultOfOp(a,i)||c.isCovered()||(s.add(c),e.setVisitedEdge(!0)))},Ws.prototype.findCoveredLineEdges=function(){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();)e.next().getEdges().findCoveredLineEdges();for(var i=this._op.getGraph().getEdgeEnds().iterator();i.hasNext();){var s=i.next(),a=s.getEdge();if(s.isLineEdge()&&!a.isCoveredSet()){var c=this._op.isCoveredByA(s.getCoordinate());a.setCovered(c)}}},Ws.prototype.labelIsolatedLines=function(e){for(var i=e.iterator();i.hasNext();){var s=i.next(),a=s.getLabel();s.isIsolated()&&(a.isNull(0)?this.labelIsolatedLine(s,0):this.labelIsolatedLine(s,1))}},Ws.prototype.buildLines=function(e){for(var i=this._lineEdgesList.iterator();i.hasNext();){var s=i.next(),a=this._geometryFactory.createLineString(s.getCoordinates());this._resultLineList.add(a),s.setInResult(!0)}},Ws.prototype.collectBoundaryTouchEdge=function(e,i,s){var a=e.getLabel();return e.isLineEdge()||e.isVisited()||e.isInteriorAreaEdge()||e.getEdge().isInResult()?null:(Je.isTrue(!(e.isInResult()||e.getSym().isInResult())||!e.getEdge().isInResult()),void(Ke.isResultOfOp(a,i)&&i===Ke.INTERSECTION&&(s.add(e.getEdge()),e.setVisitedEdge(!0))))},Ws.prototype.interfaces_=function(){return[]},Ws.prototype.getClass=function(){return Ws};var sh=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new ae;var e=arguments[0],i=arguments[1];this._op=e,this._geometryFactory=i};sh.prototype.filterCoveredNodeToPoint=function(e){var i=e.getCoordinate();if(!this._op.isCoveredByLA(i)){var s=this._geometryFactory.createPoint(i);this._resultPointList.add(s)}},sh.prototype.extractNonCoveredResultNodes=function(e){for(var i=this._op.getGraph().getNodes().iterator();i.hasNext();){var s=i.next();if(!s.isInResult()&&!s.isIncidentEdgeInResult()&&(s.getEdges().getDegree()===0||e===Ke.INTERSECTION)){var a=s.getLabel();Ke.isResultOfOp(a,e)&&this.filterCoveredNodeToPoint(s)}}},sh.prototype.build=function(e){return this.extractNonCoveredResultNodes(e),this._resultPointList},sh.prototype.interfaces_=function(){return[]},sh.prototype.getClass=function(){return sh};var Qn=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Qn.prototype.transformPoint=function(e,i){return this._factory.createPoint(this.transformCoordinates(e.getCoordinateSequence(),e))},Qn.prototype.transformPolygon=function(e,i){var s=!0,a=this.transformLinearRing(e.getExteriorRing(),e);a!==null&&a instanceof fa&&!a.isEmpty()||(s=!1);for(var c=new ae,h=0;h<e.getNumInteriorRing();h++){var g=this.transformLinearRing(e.getInteriorRingN(h),e);g===null||g.isEmpty()||(g instanceof fa||(s=!1),c.add(g))}if(s)return this._factory.createPolygon(a,c.toArray([]));var y=new ae;return a!==null&&y.add(a),y.addAll(c),this._factory.buildGeometry(y)},Qn.prototype.createCoordinateSequence=function(e){return this._factory.getCoordinateSequenceFactory().create(e)},Qn.prototype.getInputGeometry=function(){return this._inputGeom},Qn.prototype.transformMultiLineString=function(e,i){for(var s=new ae,a=0;a<e.getNumGeometries();a++){var c=this.transformLineString(e.getGeometryN(a),e);c!==null&&(c.isEmpty()||s.add(c))}return this._factory.buildGeometry(s)},Qn.prototype.transformCoordinates=function(e,i){return this.copy(e)},Qn.prototype.transformLineString=function(e,i){return this._factory.createLineString(this.transformCoordinates(e.getCoordinateSequence(),e))},Qn.prototype.transformMultiPoint=function(e,i){for(var s=new ae,a=0;a<e.getNumGeometries();a++){var c=this.transformPoint(e.getGeometryN(a),e);c!==null&&(c.isEmpty()||s.add(c))}return this._factory.buildGeometry(s)},Qn.prototype.transformMultiPolygon=function(e,i){for(var s=new ae,a=0;a<e.getNumGeometries();a++){var c=this.transformPolygon(e.getGeometryN(a),e);c!==null&&(c.isEmpty()||s.add(c))}return this._factory.buildGeometry(s)},Qn.prototype.copy=function(e){return e.copy()},Qn.prototype.transformGeometryCollection=function(e,i){for(var s=new ae,a=0;a<e.getNumGeometries();a++){var c=this.transform(e.getGeometryN(a));c!==null&&(this._pruneEmptyGeometry&&c.isEmpty()||s.add(c))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(lr.toGeometryArray(s)):this._factory.buildGeometry(s)},Qn.prototype.transform=function(e){if(this._inputGeom=e,this._factory=e.getFactory(),e instanceof io)return this.transformPoint(e,null);if(e instanceof Ed)return this.transformMultiPoint(e,null);if(e instanceof fa)return this.transformLinearRing(e,null);if(e instanceof Ci)return this.transformLineString(e,null);if(e instanceof Fc)return this.transformMultiLineString(e,null);if(e instanceof Gi)return this.transformPolygon(e,null);if(e instanceof ga)return this.transformMultiPolygon(e,null);if(e instanceof On)return this.transformGeometryCollection(e,null);throw new xi("Unknown Geometry subtype: "+e.getClass().getName())},Qn.prototype.transformLinearRing=function(e,i){var s=this.transformCoordinates(e.getCoordinateSequence(),e);if(s===null)return this._factory.createLinearRing(null);var a=s.size();return a>0&&a<4&&!this._preserveType?this._factory.createLineString(s):this._factory.createLinearRing(s)},Qn.prototype.interfaces_=function(){return[]},Qn.prototype.getClass=function(){return Qn};var _a=function e(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Re,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Ci&&typeof arguments[1]=="number"){var i=arguments[0],s=arguments[1];e.call(this,i.getCoordinates(),s)}else if(arguments[0]instanceof Array&&typeof arguments[1]=="number"){var a=arguments[0],c=arguments[1];this._srcPts=a,this._isClosed=e.isClosed(a),this._snapTolerance=c}};_a.prototype.snapVertices=function(e,i){for(var s=this._isClosed?e.size()-1:e.size(),a=0;a<s;a++){var c=e.get(a),h=this.findSnapForVertex(c,i);h!==null&&(e.set(a,new Ct(h)),a===0&&this._isClosed&&e.set(e.size()-1,new Ct(h)))}},_a.prototype.findSnapForVertex=function(e,i){for(var s=0;s<i.length;s++){if(e.equals2D(i[s]))return null;if(e.distance(i[s])<this._snapTolerance)return i[s]}return null},_a.prototype.snapTo=function(e){var i=new _f(this._srcPts);return this.snapVertices(i,e),this.snapSegments(i,e),i.toCoordinateArray()},_a.prototype.snapSegments=function(e,i){if(i.length===0)return null;var s=i.length;i[0].equals2D(i[i.length-1])&&(s=i.length-1);for(var a=0;a<s;a++){var c=i[a],h=this.findSegmentIndexToSnap(c,e);h>=0&&e.add(h+1,new Ct(c),!1)}},_a.prototype.findSegmentIndexToSnap=function(e,i){for(var s=this,a=Ze.MAX_VALUE,c=-1,h=0;h<i.size()-1;h++){if(s._seg.p0=i.get(h),s._seg.p1=i.get(h+1),s._seg.p0.equals2D(e)||s._seg.p1.equals2D(e)){if(s._allowSnappingToSourceVertices)continue;return-1}var g=s._seg.distance(e);g<s._snapTolerance&&g<a&&(a=g,c=h)}return c},_a.prototype.setAllowSnappingToSourceVertices=function(e){this._allowSnappingToSourceVertices=e},_a.prototype.interfaces_=function(){return[]},_a.prototype.getClass=function(){return _a},_a.isClosed=function(e){return!(e.length<=1)&&e[0].equals2D(e[e.length-1])};var Ri=function(e){this._srcGeom=e||null},Vk={SNAP_PRECISION_FACTOR:{configurable:!0}};Ri.prototype.snapTo=function(e,i){var s=this.extractTargetCoordinates(e);return new Wk(i,s).transform(this._srcGeom)},Ri.prototype.snapToSelf=function(e,i){var s=this.extractTargetCoordinates(this._srcGeom),a=new Wk(e,s,!0).transform(this._srcGeom),c=a;return i&&je(c,Fl)&&(c=a.buffer(0)),c},Ri.prototype.computeSnapTolerance=function(e){return this.computeMinimumSegmentLength(e)/10},Ri.prototype.extractTargetCoordinates=function(e){for(var i=new Os,s=e.getCoordinates(),a=0;a<s.length;a++)i.add(s[a]);return i.toArray(new Array(0).fill(null))},Ri.prototype.computeMinimumSegmentLength=function(e){for(var i=Ze.MAX_VALUE,s=0;s<e.length-1;s++){var a=e[s].distance(e[s+1]);a<i&&(i=a)}return i},Ri.prototype.interfaces_=function(){return[]},Ri.prototype.getClass=function(){return Ri},Ri.snap=function(e,i,s){var a=new Array(2).fill(null),c=new Ri(e);a[0]=c.snapTo(i,s);var h=new Ri(i);return a[1]=h.snapTo(a[0],s),a},Ri.computeOverlaySnapTolerance=function(){if(arguments.length===1){var e=arguments[0],i=Ri.computeSizeBasedSnapTolerance(e),s=e.getPrecisionModel();if(s.getType()===Xr.FIXED){var a=1/s.getScale()*2/1.415;a>i&&(i=a)}return i}if(arguments.length===2){var c=arguments[0],h=arguments[1];return Math.min(Ri.computeOverlaySnapTolerance(c),Ri.computeOverlaySnapTolerance(h))}},Ri.computeSizeBasedSnapTolerance=function(e){var i=e.getEnvelopeInternal();return Math.min(i.getHeight(),i.getWidth())*Ri.SNAP_PRECISION_FACTOR},Ri.snapToSelf=function(e,i,s){return new Ri(e).snapToSelf(i,s)},Vk.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Ri,Vk);var Wk=function(e){function i(s,a,c){e.call(this),this._snapTolerance=s||null,this._snapPts=a||null,this._isSelfSnap=c!==void 0&&c}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.snapLine=function(s,a){var c=new _a(s,this._snapTolerance);return c.setAllowSnappingToSourceVertices(this._isSelfSnap),c.snapTo(a)},i.prototype.transformCoordinates=function(s,a){var c=s.toCoordinateArray(),h=this.snapLine(c,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(h)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(Qn),jn=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};jn.prototype.getCommon=function(){return Ze.longBitsToDouble(this._commonBits)},jn.prototype.add=function(e){var i=Ze.doubleToLongBits(e);return this._isFirst?(this._commonBits=i,this._commonSignExp=jn.signExpBits(this._commonBits),this._isFirst=!1,null):jn.signExpBits(i)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=jn.numCommonMostSigMantissaBits(this._commonBits,i),void(this._commonBits=jn.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},jn.prototype.toString=function(){if(arguments.length===1){var e=arguments[0],i=Ze.longBitsToDouble(e),s=Ze.toBinaryString(e),a="0000000000000000000000000000000000000000000000000000000000000000"+s,c=a.substring(a.length-64),h=c.substring(0,1)+"  "+c.substring(1,12)+"(exp) "+c.substring(12)+" [ "+i+" ]";return h}},jn.prototype.interfaces_=function(){return[]},jn.prototype.getClass=function(){return jn},jn.getBit=function(e,i){return e&1<<i?1:0},jn.signExpBits=function(e){return e>>52},jn.zeroLowerBits=function(e,i){return e&~((1<<i)-1)},jn.numCommonMostSigMantissaBits=function(e,i){for(var s=0,a=52;a>=0;a--){if(jn.getBit(e,a)!==jn.getBit(i,a))return s;s++}return 52};var Wl=function(){this._commonCoord=null,this._ccFilter=new ah},$b={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};Wl.prototype.addCommonBits=function(e){var i=new Zl(this._commonCoord);e.apply(i),e.geometryChanged()},Wl.prototype.removeCommonBits=function(e){if(this._commonCoord.x===0&&this._commonCoord.y===0)return e;var i=new Ct(this._commonCoord);i.x=-i.x,i.y=-i.y;var s=new Zl(i);return e.apply(s),e.geometryChanged(),e},Wl.prototype.getCommonCoordinate=function(){return this._commonCoord},Wl.prototype.add=function(e){e.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},Wl.prototype.interfaces_=function(){return[]},Wl.prototype.getClass=function(){return Wl},$b.CommonCoordinateFilter.get=function(){return ah},$b.Translater.get=function(){return Zl},Object.defineProperties(Wl,$b);var ah=function(){this._commonBitsX=new jn,this._commonBitsY=new jn};ah.prototype.filter=function(e){this._commonBitsX.add(e.x),this._commonBitsY.add(e.y)},ah.prototype.getCommonCoordinate=function(){return new Ct(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},ah.prototype.interfaces_=function(){return[pa]},ah.prototype.getClass=function(){return ah};var Zl=function(){this.trans=null;var e=arguments[0];this.trans=e};Zl.prototype.filter=function(e,i){var s=e.getOrdinate(i,0)+this.trans.x,a=e.getOrdinate(i,1)+this.trans.y;e.setOrdinate(i,0,s),e.setOrdinate(i,1,a)},Zl.prototype.isDone=function(){return!1},Zl.prototype.isGeometryChanged=function(){return!0},Zl.prototype.interfaces_=function(){return[us]},Zl.prototype.getClass=function(){return Zl};var nn=function(e,i){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=e,this._geom[1]=i,this.computeSnapTolerance()};nn.prototype.selfSnap=function(e){return new Ri(e).snapTo(e,this._snapTolerance)},nn.prototype.removeCommonBits=function(e){this._cbr=new Wl,this._cbr.add(e[0]),this._cbr.add(e[1]);var i=new Array(2).fill(null);return i[0]=this._cbr.removeCommonBits(e[0].copy()),i[1]=this._cbr.removeCommonBits(e[1].copy()),i},nn.prototype.prepareResult=function(e){return this._cbr.addCommonBits(e),e},nn.prototype.getResultGeometry=function(e){var i=this.snap(this._geom),s=Ke.overlayOp(i[0],i[1],e);return this.prepareResult(s)},nn.prototype.checkValid=function(e){e.isValid()||pn.out.println("Snapped geometry is invalid")},nn.prototype.computeSnapTolerance=function(){this._snapTolerance=Ri.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},nn.prototype.snap=function(e){var i=this.removeCommonBits(e);return Ri.snap(i[0],i[1],this._snapTolerance)},nn.prototype.interfaces_=function(){return[]},nn.prototype.getClass=function(){return nn},nn.overlayOp=function(e,i,s){return new nn(e,i).getResultGeometry(s)},nn.union=function(e,i){return nn.overlayOp(e,i,Ke.UNION)},nn.intersection=function(e,i){return nn.overlayOp(e,i,Ke.INTERSECTION)},nn.symDifference=function(e,i){return nn.overlayOp(e,i,Ke.SYMDIFFERENCE)},nn.difference=function(e,i){return nn.overlayOp(e,i,Ke.DIFFERENCE)};var Hn=function(e,i){this._geom=new Array(2).fill(null),this._geom[0]=e,this._geom[1]=i};Hn.prototype.getResultGeometry=function(e){var i=null,s=!1,a=null;try{i=Ke.overlayOp(this._geom[0],this._geom[1],e),s=!0}catch(c){if(!(c instanceof Va))throw c;a=c}if(!s)try{i=nn.overlayOp(this._geom[0],this._geom[1],e)}catch(c){throw c instanceof Va?a:c}return i},Hn.prototype.interfaces_=function(){return[]},Hn.prototype.getClass=function(){return Hn},Hn.overlayOp=function(e,i,s){return new Hn(e,i).getResultGeometry(s)},Hn.union=function(e,i){return Hn.overlayOp(e,i,Ke.UNION)},Hn.intersection=function(e,i){return Hn.overlayOp(e,i,Ke.INTERSECTION)},Hn.symDifference=function(e,i){return Hn.overlayOp(e,i,Ke.SYMDIFFERENCE)},Hn.difference=function(e,i){return Hn.overlayOp(e,i,Ke.DIFFERENCE)};var Df=function(){this.mce=null,this.chainIndex=null;var e=arguments[0],i=arguments[1];this.mce=e,this.chainIndex=i};Df.prototype.computeIntersections=function(e,i){this.mce.computeIntersectsForChain(this.chainIndex,e.mce,e.chainIndex,i)},Df.prototype.interfaces_=function(){return[]},Df.prototype.getClass=function(){return Df};var ao=function e(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,arguments.length===2){var i=arguments[0],s=arguments[1];this._eventType=e.DELETE,this._xValue=i,this._insertEvent=s}else if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2];this._eventType=e.INSERT,this._label=a,this._xValue=c,this._obj=h}},tw={INSERT:{configurable:!0},DELETE:{configurable:!0}};ao.prototype.isDelete=function(){return this._eventType===ao.DELETE},ao.prototype.setDeleteEventIndex=function(e){this._deleteEventIndex=e},ao.prototype.getObject=function(){return this._obj},ao.prototype.compareTo=function(e){var i=e;return this._xValue<i._xValue?-1:this._xValue>i._xValue?1:this._eventType<i._eventType?-1:this._eventType>i._eventType?1:0},ao.prototype.getInsertEvent=function(){return this._insertEvent},ao.prototype.isInsert=function(){return this._eventType===ao.INSERT},ao.prototype.isSameLabel=function(e){return this._label!==null&&this._label===e._label},ao.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},ao.prototype.interfaces_=function(){return[No]},ao.prototype.getClass=function(){return ao},tw.INSERT.get=function(){return 1},tw.DELETE.get=function(){return 2},Object.defineProperties(ao,tw);var b0=function(){};b0.prototype.interfaces_=function(){return[]},b0.prototype.getClass=function(){return b0};var bn=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var e=arguments[0],i=arguments[1],s=arguments[2];this._li=e,this._includeProper=i,this._recordIsolated=s};bn.prototype.isTrivialIntersection=function(e,i,s,a){if(e===s&&this._li.getIntersectionNum()===1){if(bn.isAdjacentSegments(i,a))return!0;if(e.isClosed()){var c=e.getNumPoints()-1;if(i===0&&a===c||a===0&&i===c)return!0}}return!1},bn.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},bn.prototype.setIsDoneIfProperInt=function(e){this._isDoneWhenProperInt=e},bn.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},bn.prototype.isBoundaryPointInternal=function(e,i){for(var s=i.iterator();s.hasNext();){var a=s.next().getCoordinate();if(e.isIntersection(a))return!0}return!1},bn.prototype.hasProperIntersection=function(){return this._hasProper},bn.prototype.hasIntersection=function(){return this._hasIntersection},bn.prototype.isDone=function(){return this._isDone},bn.prototype.isBoundaryPoint=function(e,i){return i!==null&&(!!this.isBoundaryPointInternal(e,i[0])||!!this.isBoundaryPointInternal(e,i[1]))},bn.prototype.setBoundaryNodes=function(e,i){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=e,this._bdyNodes[1]=i},bn.prototype.addIntersections=function(e,i,s,a){if(e===s&&i===a)return null;this.numTests++;var c=e.getCoordinates()[i],h=e.getCoordinates()[i+1],g=s.getCoordinates()[a],y=s.getCoordinates()[a+1];this._li.computeIntersection(c,h,g,y),this._li.hasIntersection()&&(this._recordIsolated&&(e.setIsolated(!1),s.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(e,i,s,a)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(e.addIntersections(this._li,i,0),s.addIntersections(this._li,a,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},bn.prototype.interfaces_=function(){return[]},bn.prototype.getClass=function(){return bn},bn.isAdjacentSegments=function(e,i){return Math.abs(e-i)===1};var VI=function(e){function i(){e.call(this),this.events=new ae,this.nOverlaps=null}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.prepareEvents=function(){ds.sort(this.events);for(var s=0;s<this.events.size();s++){var a=this.events.get(s);a.isDelete()&&a.getInsertEvent().setDeleteEventIndex(s)}},i.prototype.computeIntersections=function(){var s=this;if(arguments.length===1){var a=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var c=0;c<this.events.size();c++){var h=s.events.get(c);if(h.isInsert()&&s.processOverlaps(c,h.getDeleteEventIndex(),h,a),a.isDone())break}}else if(arguments.length===3){if(arguments[2]instanceof bn&&je(arguments[0],ls)&&je(arguments[1],ls)){var g=arguments[0],y=arguments[1],w=arguments[2];this.addEdges(g,g),this.addEdges(y,y),this.computeIntersections(w)}else if(typeof arguments[2]=="boolean"&&je(arguments[0],ls)&&arguments[1]instanceof bn){var x=arguments[0],T=arguments[1],E=arguments[2];E?this.addEdges(x,null):this.addEdges(x),this.computeIntersections(T)}}},i.prototype.addEdge=function(s,a){for(var c=s.getMonotoneChainEdge(),h=c.getStartIndexes(),g=0;g<h.length-1;g++){var y=new Df(c,g),w=new ao(a,c.getMinX(g),y);this.events.add(w),this.events.add(new ao(c.getMaxX(g),w))}},i.prototype.processOverlaps=function(s,a,c,h){for(var g=c.getObject(),y=s;y<a;y++){var w=this.events.get(y);if(w.isInsert()){var x=w.getObject();c.isSameLabel(w)||(g.computeIntersections(x,h),this.nOverlaps++)}}},i.prototype.addEdges=function(){var s=this;if(arguments.length===1)for(var a=arguments[0],c=a.iterator();c.hasNext();){var h=c.next();s.addEdge(h,h)}else if(arguments.length===2)for(var g=arguments[0],y=arguments[1],w=g.iterator();w.hasNext();){var x=w.next();s.addEdge(x,y)}},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(b0),ka=function(){this._min=Ze.POSITIVE_INFINITY,this._max=Ze.NEGATIVE_INFINITY},Zk={NodeComparator:{configurable:!0}};ka.prototype.getMin=function(){return this._min},ka.prototype.intersects=function(e,i){return!(this._min>i||this._max<e)},ka.prototype.getMax=function(){return this._max},ka.prototype.toString=function(){return as.toLineString(new Ct(this._min,0),new Ct(this._max,0))},ka.prototype.interfaces_=function(){return[]},ka.prototype.getClass=function(){return ka},Zk.NodeComparator.get=function(){return Ff},Object.defineProperties(ka,Zk);var Ff=function(){};Ff.prototype.compare=function(e,i){var s=e,a=i,c=(s._min+s._max)/2,h=(a._min+a._max)/2;return c<h?-1:c>h?1:0},Ff.prototype.interfaces_=function(){return[pd]},Ff.prototype.getClass=function(){return Ff};var WI=function(e){function i(){e.call(this),this._item=null;var s=arguments[0],a=arguments[1],c=arguments[2];this._min=s,this._max=a,this._item=c}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.query=function(s,a,c){if(!this.intersects(s,a))return null;c.visitItem(this._item)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(ka),ZI=function(e){function i(){e.call(this),this._node1=null,this._node2=null;var s=arguments[0],a=arguments[1];this._node1=s,this._node2=a,this.buildExtent(this._node1,this._node2)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.buildExtent=function(s,a){this._min=Math.min(s._min,a._min),this._max=Math.max(s._max,a._max)},i.prototype.query=function(s,a,c){if(!this.intersects(s,a))return null;this._node1!==null&&this._node1.query(s,a,c),this._node2!==null&&this._node2.query(s,a,c)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(ka),Ea=function(){this._leaves=new ae,this._root=null,this._level=0};Ea.prototype.buildTree=function(){ds.sort(this._leaves,new ka.NodeComparator);for(var e=this._leaves,i=null,s=new ae;;){if(this.buildLevel(e,s),s.size()===1)return s.get(0);i=e,e=s,s=i}},Ea.prototype.insert=function(e,i,s){if(this._root!==null)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new WI(e,i,s))},Ea.prototype.query=function(e,i,s){this.init(),this._root.query(e,i,s)},Ea.prototype.buildRoot=function(){if(this._root!==null)return null;this._root=this.buildTree()},Ea.prototype.printNode=function(e){pn.out.println(as.toLineString(new Ct(e._min,this._level),new Ct(e._max,this._level)))},Ea.prototype.init=function(){if(this._root!==null)return null;this.buildRoot()},Ea.prototype.buildLevel=function(e,i){this._level++,i.clear();for(var s=0;s<e.size();s+=2){var a=e.get(s);if((s+1<e.size()?e.get(s):null)===null)i.add(a);else{var c=new ZI(e.get(s),e.get(s+1));i.add(c)}}},Ea.prototype.interfaces_=function(){return[]},Ea.prototype.getClass=function(){return Ea};var Ld=function(){this._items=new ae};Ld.prototype.visitItem=function(e){this._items.add(e)},Ld.prototype.getItems=function(){return this._items},Ld.prototype.interfaces_=function(){return[Bl]},Ld.prototype.getClass=function(){return Ld};var Rd=function(){this._index=null;var e=arguments[0];if(!je(e,Fl))throw new xi("Argument must be Polygonal");this._index=new Vc(e)},ew={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};Rd.prototype.locate=function(e){var i=new As(e),s=new Ad(i);return this._index.query(e.y,e.y,s),i.getLocation()},Rd.prototype.interfaces_=function(){return[Pd]},Rd.prototype.getClass=function(){return Rd},ew.SegmentVisitor.get=function(){return Ad},ew.IntervalIndexedGeometry.get=function(){return Vc},Object.defineProperties(Rd,ew);var Ad=function(){this._counter=null;var e=arguments[0];this._counter=e};Ad.prototype.visitItem=function(e){var i=e;this._counter.countSegment(i.getCoordinate(0),i.getCoordinate(1))},Ad.prototype.interfaces_=function(){return[Bl]},Ad.prototype.getClass=function(){return Ad};var Vc=function(){this._index=new Ea;var e=arguments[0];this.init(e)};Vc.prototype.init=function(e){for(var i=mn.getLines(e).iterator();i.hasNext();){var s=i.next().getCoordinates();this.addLine(s)}},Vc.prototype.addLine=function(e){for(var i=1;i<e.length;i++){var s=new Re(e[i-1],e[i]),a=Math.min(s.p0.y,s.p1.y),c=Math.max(s.p0.y,s.p1.y);this._index.insert(a,c,s)}},Vc.prototype.query=function(){if(arguments.length===2){var e=arguments[0],i=arguments[1],s=new Ld;return this._index.query(e,i,s),s.getItems()}if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2];this._index.query(a,c,h)}},Vc.prototype.interfaces_=function(){return[]},Vc.prototype.getClass=function(){return Vc};var Bf=function(e){function i(){if(e.call(this),this._parentGeom=null,this._lineEdgeMap=new Pk,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new fs,arguments.length===2){var s=arguments[0],a=arguments[1],c=Fo.OGC_SFS_BOUNDARY_RULE;this._argIndex=s,this._parentGeom=a,this._boundaryNodeRule=c,a!==null&&this.add(a)}else if(arguments.length===3){var h=arguments[0],g=arguments[1],y=arguments[2];this._argIndex=h,this._parentGeom=g,this._boundaryNodeRule=y,g!==null&&this.add(g)}}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.insertBoundaryPoint=function(s,a){var c=this._nodes.addNode(a).getLabel(),h=1;c.getLocation(s,ie.ON)===Ot.BOUNDARY&&h++;var g=i.determineBoundary(this._boundaryNodeRule,h);c.setLocation(s,g)},i.prototype.computeSelfNodes=function(){if(arguments.length===2){var s=arguments[0],a=arguments[1];return this.computeSelfNodes(s,a,!1)}if(arguments.length===3){var c=arguments[0],h=arguments[1],g=arguments[2],y=new bn(c,!0,!1);y.setIsDoneIfProperInt(g);var w=this.createEdgeSetIntersector(),x=this._parentGeom instanceof fa||this._parentGeom instanceof Gi||this._parentGeom instanceof ga,T=h||!x;return w.computeIntersections(this._edges,y,T),this.addSelfIntersectionNodes(this._argIndex),y}},i.prototype.computeSplitEdges=function(s){for(var a=this._edges.iterator();a.hasNext();)a.next().eiList.addSplitEdges(s)},i.prototype.computeEdgeIntersections=function(s,a,c){var h=new bn(a,c,!0);return h.setBoundaryNodes(this.getBoundaryNodes(),s.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,s._edges,h),h},i.prototype.getGeometry=function(){return this._parentGeom},i.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},i.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},i.prototype.addPoint=function(){if(arguments[0]instanceof io){var s=arguments[0],a=s.getCoordinate();this.insertPoint(this._argIndex,a,Ot.INTERIOR)}else if(arguments[0]instanceof Ct){var c=arguments[0];this.insertPoint(this._argIndex,c,Ot.INTERIOR)}},i.prototype.addPolygon=function(s){this.addPolygonRing(s.getExteriorRing(),Ot.EXTERIOR,Ot.INTERIOR);for(var a=0;a<s.getNumInteriorRing();a++){var c=s.getInteriorRingN(a);this.addPolygonRing(c,Ot.INTERIOR,Ot.EXTERIOR)}},i.prototype.addEdge=function(s){this.insertEdge(s);var a=s.getCoordinates();this.insertPoint(this._argIndex,a[0],Ot.BOUNDARY),this.insertPoint(this._argIndex,a[a.length-1],Ot.BOUNDARY)},i.prototype.addLineString=function(s){var a=ar.removeRepeatedPoints(s.getCoordinates());if(a.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=a[0],null;var c=new y0(a,new ri(this._argIndex,Ot.INTERIOR));this._lineEdgeMap.put(s,c),this.insertEdge(c),Je.isTrue(a.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,a[0]),this.insertBoundaryPoint(this._argIndex,a[a.length-1])},i.prototype.getInvalidPoint=function(){return this._invalidPoint},i.prototype.getBoundaryPoints=function(){for(var s=this.getBoundaryNodes(),a=new Array(s.size()).fill(null),c=0,h=s.iterator();h.hasNext();){var g=h.next();a[c++]=g.getCoordinate().copy()}return a},i.prototype.getBoundaryNodes=function(){return this._boundaryNodes===null&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},i.prototype.addSelfIntersectionNode=function(s,a,c){if(this.isBoundaryNode(s,a))return null;c===Ot.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(s,a):this.insertPoint(s,a,c)},i.prototype.addPolygonRing=function(s,a,c){if(s.isEmpty())return null;var h=ar.removeRepeatedPoints(s.getCoordinates());if(h.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=h[0],null;var g=a,y=c;he.isCCW(h)&&(g=c,y=a);var w=new y0(h,new ri(this._argIndex,Ot.BOUNDARY,g,y));this._lineEdgeMap.put(s,w),this.insertEdge(w),this.insertPoint(this._argIndex,h[0],Ot.BOUNDARY)},i.prototype.insertPoint=function(s,a,c){var h=this._nodes.addNode(a),g=h.getLabel();g===null?h._label=new ri(s,c):g.setLocation(s,c)},i.prototype.createEdgeSetIntersector=function(){return new VI},i.prototype.addSelfIntersectionNodes=function(s){for(var a=this._edges.iterator();a.hasNext();)for(var c=a.next(),h=c.getLabel().getLocation(s),g=c.eiList.iterator();g.hasNext();){var y=g.next();this.addSelfIntersectionNode(s,y.coord,h)}},i.prototype.add=function(){if(arguments.length!==1)return e.prototype.add.apply(this,arguments);var s=arguments[0];if(s.isEmpty())return null;if(s instanceof ga&&(this._useBoundaryDeterminationRule=!1),s instanceof Gi)this.addPolygon(s);else if(s instanceof Ci)this.addLineString(s);else if(s instanceof io)this.addPoint(s);else if(s instanceof Ed)this.addCollection(s);else if(s instanceof Fc)this.addCollection(s);else if(s instanceof ga)this.addCollection(s);else{if(!(s instanceof On))throw new Error(s.getClass().getName());this.addCollection(s)}},i.prototype.addCollection=function(s){for(var a=0;a<s.getNumGeometries();a++){var c=s.getGeometryN(a);this.add(c)}},i.prototype.locate=function(s){return je(this._parentGeom,Fl)&&this._parentGeom.getNumGeometries()>50?(this._areaPtLocator===null&&(this._areaPtLocator=new Rd(this._parentGeom)),this._areaPtLocator.locate(s)):this._ptLocator.locate(s,this._parentGeom)},i.prototype.findEdge=function(){if(arguments.length===1){var s=arguments[0];return this._lineEdgeMap.get(s)}return e.prototype.findEdge.apply(this,arguments)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i.determineBoundary=function(s,a){return s.isInBoundary(a)?Ot.BOUNDARY:Ot.INTERIOR},i}(Ti),Od=function(){if(this._li=new Nc,this._resultPrecisionModel=null,this._arg=null,arguments.length===1){var e=arguments[0];this.setComputationPrecision(e.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new Bf(0,e)}else if(arguments.length===2){var i=arguments[0],s=arguments[1],a=Fo.OGC_SFS_BOUNDARY_RULE;i.getPrecisionModel().compareTo(s.getPrecisionModel())>=0?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(s.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Bf(0,i,a),this._arg[1]=new Bf(1,s,a)}else if(arguments.length===3){var c=arguments[0],h=arguments[1],g=arguments[2];c.getPrecisionModel().compareTo(h.getPrecisionModel())>=0?this.setComputationPrecision(c.getPrecisionModel()):this.setComputationPrecision(h.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Bf(0,c,g),this._arg[1]=new Bf(1,h,g)}};Od.prototype.getArgGeometry=function(e){return this._arg[e].getGeometry()},Od.prototype.setComputationPrecision=function(e){this._resultPrecisionModel=e,this._li.setPrecisionModel(this._resultPrecisionModel)},Od.prototype.interfaces_=function(){return[]},Od.prototype.getClass=function(){return Od};var Wc=function(){};Wc.prototype.interfaces_=function(){return[]},Wc.prototype.getClass=function(){return Wc},Wc.map=function(){if(arguments[0]instanceof Fe&&je(arguments[1],Wc.MapOp)){for(var e=arguments[0],i=arguments[1],s=new ae,a=0;a<e.getNumGeometries();a++){var c=i.map(e.getGeometryN(a));c!==null&&s.add(c)}return e.getFactory().buildGeometry(s)}if(je(arguments[0],Ui)&&je(arguments[1],Wc.MapOp)){for(var h=arguments[0],g=arguments[1],y=new ae,w=h.iterator();w.hasNext();){var x=w.next(),T=g.map(x);T!==null&&y.add(T)}return y}},Wc.MapOp=function(){};var Ke=function(e){function i(){var s=arguments[0],a=arguments[1];e.call(this,s,a),this._ptLocator=new fs,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new ps,this._resultPolyList=new ae,this._resultLineList=new ae,this._resultPointList=new ae,this._graph=new Ti(new Fk),this._geomFact=s.getFactory()}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.insertUniqueEdge=function(s){var a=this._edgeList.findEqualEdge(s);if(a!==null){var c=a.getLabel(),h=s.getLabel();a.isPointwiseEqual(s)||(h=new ri(s.getLabel())).flip();var g=a.getDepth();g.isNull()&&g.add(c),g.add(h),c.merge(h)}else this._edgeList.add(s)},i.prototype.getGraph=function(){return this._graph},i.prototype.cancelDuplicateResultEdges=function(){for(var s=this._graph.getEdgeEnds().iterator();s.hasNext();){var a=s.next(),c=a.getSym();a.isInResult()&&c.isInResult()&&(a.setInResult(!1),c.setInResult(!1))}},i.prototype.isCoveredByLA=function(s){return!!this.isCovered(s,this._resultLineList)||!!this.isCovered(s,this._resultPolyList)},i.prototype.computeGeometry=function(s,a,c,h){var g=new ae;return g.addAll(s),g.addAll(a),g.addAll(c),g.isEmpty()?i.createEmptyResult(h,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(g)},i.prototype.mergeSymLabels=function(){for(var s=this._graph.getNodes().iterator();s.hasNext();)s.next().getEdges().mergeSymLabels()},i.prototype.isCovered=function(s,a){for(var c=a.iterator();c.hasNext();){var h=c.next();if(this._ptLocator.locate(s,h)!==Ot.EXTERIOR)return!0}return!1},i.prototype.replaceCollapsedEdges=function(){for(var s=new ae,a=this._edgeList.iterator();a.hasNext();){var c=a.next();c.isCollapsed()&&(a.remove(),s.add(c.getCollapsedEdge()))}this._edgeList.addAll(s)},i.prototype.updateNodeLabelling=function(){for(var s=this._graph.getNodes().iterator();s.hasNext();){var a=s.next(),c=a.getEdges().getLabel();a.getLabel().merge(c)}},i.prototype.getResultGeometry=function(s){return this.computeOverlay(s),this._resultGeom},i.prototype.insertUniqueEdges=function(s){for(var a=s.iterator();a.hasNext();){var c=a.next();this.insertUniqueEdge(c)}},i.prototype.computeOverlay=function(s){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var a=new ae;this._arg[0].computeSplitEdges(a),this._arg[1].computeSplitEdges(a),this.insertUniqueEdges(a),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),qc.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(s),this.cancelDuplicateResultEdges();var c=new no(this._geomFact);c.add(this._graph),this._resultPolyList=c.getPolygons();var h=new Ws(this,this._geomFact,this._ptLocator);this._resultLineList=h.build(s);var g=new sh(this,this._geomFact,this._ptLocator);this._resultPointList=g.build(s),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,s)},i.prototype.labelIncompleteNode=function(s,a){var c=this._ptLocator.locate(s.getCoordinate(),this._arg[a].getGeometry());s.getLabel().setLocation(a,c)},i.prototype.copyPoints=function(s){for(var a=this._arg[s].getNodeIterator();a.hasNext();){var c=a.next();this._graph.addNode(c.getCoordinate()).setLabel(s,c.getLabel().getLocation(s))}},i.prototype.findResultAreaEdges=function(s){for(var a=this._graph.getEdgeEnds().iterator();a.hasNext();){var c=a.next(),h=c.getLabel();h.isArea()&&!c.isInteriorAreaEdge()&&i.isResultOfOp(h.getLocation(0,ie.RIGHT),h.getLocation(1,ie.RIGHT),s)&&c.setInResult(!0)}},i.prototype.computeLabelsFromDepths=function(){for(var s=this._edgeList.iterator();s.hasNext();){var a=s.next(),c=a.getLabel(),h=a.getDepth();if(!h.isNull()){h.normalize();for(var g=0;g<2;g++)c.isNull(g)||!c.isArea()||h.isNull(g)||(h.getDelta(g)===0?c.toLine(g):(Je.isTrue(!h.isNull(g,ie.LEFT),"depth of LEFT side has not been initialized"),c.setLocation(g,ie.LEFT,h.getLocation(g,ie.LEFT)),Je.isTrue(!h.isNull(g,ie.RIGHT),"depth of RIGHT side has not been initialized"),c.setLocation(g,ie.RIGHT,h.getLocation(g,ie.RIGHT))))}}},i.prototype.computeLabelling=function(){for(var s=this._graph.getNodes().iterator();s.hasNext();)s.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},i.prototype.labelIncompleteNodes=function(){for(var s=this._graph.getNodes().iterator();s.hasNext();){var a=s.next(),c=a.getLabel();a.isIsolated()&&(c.isNull(0)?this.labelIncompleteNode(a,0):this.labelIncompleteNode(a,1)),a.getEdges().updateLabelling(c)}},i.prototype.isCoveredByA=function(s){return!!this.isCovered(s,this._resultPolyList)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(Od);Ke.overlayOp=function(e,i,s){return new Ke(e,i).getResultGeometry(s)},Ke.intersection=function(e,i){if(e.isEmpty()||i.isEmpty())return Ke.createEmptyResult(Ke.INTERSECTION,e,i,e.getFactory());if(e.isGeometryCollection()){var s=i;return oh.map(e,{interfaces_:function(){return[Wc.MapOp]},map:function(a){return a.intersection(s)}})}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(i),Hn.overlayOp(e,i,Ke.INTERSECTION)},Ke.symDifference=function(e,i){if(e.isEmpty()||i.isEmpty()){if(e.isEmpty()&&i.isEmpty())return Ke.createEmptyResult(Ke.SYMDIFFERENCE,e,i,e.getFactory());if(e.isEmpty())return i.copy();if(i.isEmpty())return e.copy()}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(i),Hn.overlayOp(e,i,Ke.SYMDIFFERENCE)},Ke.resultDimension=function(e,i,s){var a=i.getDimension(),c=s.getDimension(),h=-1;switch(e){case Ke.INTERSECTION:h=Math.min(a,c);break;case Ke.UNION:h=Math.max(a,c);break;case Ke.DIFFERENCE:h=a;break;case Ke.SYMDIFFERENCE:h=Math.max(a,c)}return h},Ke.createEmptyResult=function(e,i,s,a){var c=null;switch(Ke.resultDimension(e,i,s)){case-1:c=a.createGeometryCollection(new Array(0).fill(null));break;case 0:c=a.createPoint();break;case 1:c=a.createLineString();break;case 2:c=a.createPolygon()}return c},Ke.difference=function(e,i){return e.isEmpty()?Ke.createEmptyResult(Ke.DIFFERENCE,e,i,e.getFactory()):i.isEmpty()?e.copy():(e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(i),Hn.overlayOp(e,i,Ke.DIFFERENCE))},Ke.isResultOfOp=function(){if(arguments.length===2){var e=arguments[0],i=arguments[1],s=e.getLocation(0),a=e.getLocation(1);return Ke.isResultOfOp(s,a,i)}if(arguments.length===3){var c=arguments[0],h=arguments[1],g=arguments[2];switch(c===Ot.BOUNDARY&&(c=Ot.INTERIOR),h===Ot.BOUNDARY&&(h=Ot.INTERIOR),g){case Ke.INTERSECTION:return c===Ot.INTERIOR&&h===Ot.INTERIOR;case Ke.UNION:return c===Ot.INTERIOR||h===Ot.INTERIOR;case Ke.DIFFERENCE:return c===Ot.INTERIOR&&h!==Ot.INTERIOR;case Ke.SYMDIFFERENCE:return c===Ot.INTERIOR&&h!==Ot.INTERIOR||c!==Ot.INTERIOR&&h===Ot.INTERIOR}return!1}},Ke.INTERSECTION=1,Ke.UNION=2,Ke.DIFFERENCE=3,Ke.SYMDIFFERENCE=4;var Yl=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new fs,this._seg=new Re;var e=arguments[0],i=arguments[1];this._g=e,this._boundaryDistanceTolerance=i,this._linework=this.extractLinework(e)};Yl.prototype.isWithinToleranceOfBoundary=function(e){for(var i=this,s=0;s<this._linework.getNumGeometries();s++)for(var a=i._linework.getGeometryN(s).getCoordinateSequence(),c=0;c<a.size()-1;c++)if(a.getCoordinate(c,i._seg.p0),a.getCoordinate(c+1,i._seg.p1),i._seg.distance(e)<=i._boundaryDistanceTolerance)return!0;return!1},Yl.prototype.getLocation=function(e){return this.isWithinToleranceOfBoundary(e)?Ot.BOUNDARY:this._ptLocator.locate(e,this._g)},Yl.prototype.extractLinework=function(e){var i=new zd;e.apply(i);var s=i.getLinework(),a=lr.toLineStringArray(s);return e.getFactory().createMultiLineString(a)},Yl.prototype.interfaces_=function(){return[]},Yl.prototype.getClass=function(){return Yl};var zd=function(){this._linework=null,this._linework=new ae};zd.prototype.getLinework=function(){return this._linework},zd.prototype.filter=function(e){if(e instanceof Gi){var i=e;this._linework.add(i.getExteriorRing());for(var s=0;s<i.getNumInteriorRing();s++)this._linework.add(i.getInteriorRingN(s))}},zd.prototype.interfaces_=function(){return[zs]},zd.prototype.getClass=function(){return zd};var Zc=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var e=arguments[0];this._g=e};Zc.prototype.extractPoints=function(e,i,s){for(var a=e.getCoordinates(),c=0;c<a.length-1;c++)this.computeOffsetPoints(a[c],a[c+1],i,s)},Zc.prototype.setSidesToGenerate=function(e,i){this._doLeft=e,this._doRight=i},Zc.prototype.getPoints=function(e){for(var i=new ae,s=mn.getLines(this._g).iterator();s.hasNext();){var a=s.next();this.extractPoints(a,e,i)}return i},Zc.prototype.computeOffsetPoints=function(e,i,s,a){var c=i.x-e.x,h=i.y-e.y,g=Math.sqrt(c*c+h*h),y=s*c/g,w=s*h/g,x=(i.x+e.x)/2,T=(i.y+e.y)/2;if(this._doLeft){var E=new Ct(x-w,T+y);a.add(E)}if(this._doRight){var P=new Ct(x+w,T-y);a.add(P)}},Zc.prototype.interfaces_=function(){return[]},Zc.prototype.getClass=function(){return Zc};var So=function e(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=e.TOLERANCE,this._testCoords=new ae;var i=arguments[0],s=arguments[1],a=arguments[2];this._boundaryDistanceTolerance=e.computeBoundaryDistanceTolerance(i,s),this._geom=[i,s,a],this._locFinder=[new Yl(this._geom[0],this._boundaryDistanceTolerance),new Yl(this._geom[1],this._boundaryDistanceTolerance),new Yl(this._geom[2],this._boundaryDistanceTolerance)]},Yk={TOLERANCE:{configurable:!0}};So.prototype.reportResult=function(e,i,s){pn.out.println("Overlay result invalid - A:"+Ot.toLocationSymbol(i[0])+" B:"+Ot.toLocationSymbol(i[1])+" expected:"+(s?"i":"e")+" actual:"+Ot.toLocationSymbol(i[2]))},So.prototype.isValid=function(e){this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]);var i=this.checkValid(e);return i},So.prototype.checkValid=function(){var e=this;if(arguments.length===1){for(var i=arguments[0],s=0;s<this._testCoords.size();s++){var a=e._testCoords.get(s);if(!e.checkValid(i,a))return e._invalidLocation=a,!1}return!0}if(arguments.length===2){var c=arguments[0],h=arguments[1];return this._location[0]=this._locFinder[0].getLocation(h),this._location[1]=this._locFinder[1].getLocation(h),this._location[2]=this._locFinder[2].getLocation(h),!!So.hasLocation(this._location,Ot.BOUNDARY)||this.isValidResult(c,this._location)}},So.prototype.addTestPts=function(e){var i=new Zc(e);this._testCoords.addAll(i.getPoints(5*this._boundaryDistanceTolerance))},So.prototype.isValidResult=function(e,i){var s=Ke.isResultOfOp(i[0],i[1],e),a=!(s^i[2]===Ot.INTERIOR);return a||this.reportResult(e,i,s),a},So.prototype.getInvalidLocation=function(){return this._invalidLocation},So.prototype.interfaces_=function(){return[]},So.prototype.getClass=function(){return So},So.hasLocation=function(e,i){for(var s=0;s<3;s++)if(e[s]===i)return!0;return!1},So.computeBoundaryDistanceTolerance=function(e,i){return Math.min(Ri.computeSizeBasedSnapTolerance(e),Ri.computeSizeBasedSnapTolerance(i))},So.isValid=function(e,i,s,a){return new So(e,i,a).isValid(s)},Yk.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(So,Yk);var Co=function e(i){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=e.extractFactory(i),this._inputGeoms=i};Co.prototype.extractElements=function(e,i){if(e===null)return null;for(var s=0;s<e.getNumGeometries();s++){var a=e.getGeometryN(s);this._skipEmpty&&a.isEmpty()||i.add(a)}},Co.prototype.combine=function(){for(var e=new ae,i=this._inputGeoms.iterator();i.hasNext();){var s=i.next();this.extractElements(s,e)}return e.size()===0?this._geomFactory!==null?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(e)},Co.prototype.interfaces_=function(){return[]},Co.prototype.getClass=function(){return Co},Co.combine=function(){if(arguments.length===1){var e=arguments[0],i=new Co(e);return i.combine()}if(arguments.length===2){var s=arguments[0],a=arguments[1],c=new Co(Co.createList(s,a));return c.combine()}if(arguments.length===3){var h=arguments[0],g=arguments[1],y=arguments[2],w=new Co(Co.createList(h,g,y));return w.combine()}},Co.extractFactory=function(e){return e.isEmpty()?null:e.iterator().next().getFactory()},Co.createList=function(){if(arguments.length===2){var e=arguments[0],i=arguments[1],s=new ae;return s.add(e),s.add(i),s}if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2],g=new ae;return g.add(a),g.add(c),g.add(h),g}};var zi=function(){this._inputPolys=null,this._geomFactory=null;var e=arguments[0];this._inputPolys=e,this._inputPolys===null&&(this._inputPolys=new ae)},Xk={STRTREE_NODE_CAPACITY:{configurable:!0}};zi.prototype.reduceToGeometries=function(e){for(var i=new ae,s=e.iterator();s.hasNext();){var a=s.next(),c=null;je(a,ls)?c=this.unionTree(a):a instanceof Fe&&(c=a),i.add(c)}return i},zi.prototype.extractByEnvelope=function(e,i,s){for(var a=new ae,c=0;c<i.getNumGeometries();c++){var h=i.getGeometryN(c);h.getEnvelopeInternal().intersects(e)?a.add(h):s.add(h)}return this._geomFactory.buildGeometry(a)},zi.prototype.unionOptimized=function(e,i){var s=e.getEnvelopeInternal(),a=i.getEnvelopeInternal();if(!s.intersects(a))return Co.combine(e,i);if(e.getNumGeometries()<=1&&i.getNumGeometries()<=1)return this.unionActual(e,i);var c=s.intersection(a);return this.unionUsingEnvelopeIntersection(e,i,c)},zi.prototype.union=function(){if(this._inputPolys===null)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var e=new Rk(zi.STRTREE_NODE_CAPACITY),i=this._inputPolys.iterator();i.hasNext();){var s=i.next();e.insert(s.getEnvelopeInternal(),s)}this._inputPolys=null;var a=e.itemsTree();return this.unionTree(a)},zi.prototype.binaryUnion=function(){if(arguments.length===1){var e=arguments[0];return this.binaryUnion(e,0,e.size())}if(arguments.length===3){var i=arguments[0],s=arguments[1],a=arguments[2];if(a-s<=1){var c=zi.getGeometry(i,s);return this.unionSafe(c,null)}if(a-s==2)return this.unionSafe(zi.getGeometry(i,s),zi.getGeometry(i,s+1));var h=Math.trunc((a+s)/2),g=this.binaryUnion(i,s,h),y=this.binaryUnion(i,h,a);return this.unionSafe(g,y)}},zi.prototype.repeatedUnion=function(e){for(var i=null,s=e.iterator();s.hasNext();){var a=s.next();i=i===null?a.copy():i.union(a)}return i},zi.prototype.unionSafe=function(e,i){return e===null&&i===null?null:e===null?i.copy():i===null?e.copy():this.unionOptimized(e,i)},zi.prototype.unionActual=function(e,i){return zi.restrictToPolygons(e.union(i))},zi.prototype.unionTree=function(e){var i=this.reduceToGeometries(e);return this.binaryUnion(i)},zi.prototype.unionUsingEnvelopeIntersection=function(e,i,s){var a=new ae,c=this.extractByEnvelope(s,e,a),h=this.extractByEnvelope(s,i,a),g=this.unionActual(c,h);return a.add(g),Co.combine(a)},zi.prototype.bufferUnion=function(){if(arguments.length===1){var e=arguments[0],i=e.get(0).getFactory(),s=i.buildGeometry(e),a=s.buffer(0);return a}if(arguments.length===2){var c=arguments[0],h=arguments[1],g=c.getFactory(),y=g.createGeometryCollection([c,h]),w=y.buffer(0);return w}},zi.prototype.interfaces_=function(){return[]},zi.prototype.getClass=function(){return zi},zi.restrictToPolygons=function(e){if(je(e,Fl))return e;var i=tl.getPolygons(e);return i.size()===1?i.get(0):e.getFactory().createMultiPolygon(lr.toPolygonArray(i))},zi.getGeometry=function(e,i){return i>=e.size()?null:e.get(i)},zi.union=function(e){return new zi(e).union()},Xk.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(zi,Xk);var w0=function(){};function Yc(){return new x0}function x0(){this.reset()}w0.prototype.interfaces_=function(){return[]},w0.prototype.getClass=function(){return w0},w0.union=function(e,i){if(e.isEmpty()||i.isEmpty()){if(e.isEmpty()&&i.isEmpty())return Ke.createEmptyResult(Ke.UNION,e,i,e.getFactory());if(e.isEmpty())return i.copy();if(i.isEmpty())return e.copy()}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(i),Hn.overlayOp(e,i,Ke.UNION)},x0.prototype={constructor:x0,reset:function(){this.s=this.t=0},add:function(e){Kk(_0,e,this.t),Kk(this,_0.s,this.s),this.s?this.t+=_0.t:this.s=_0.t},valueOf:function(){return this.s}};var _0=new x0;function Kk(e,i,s){var a=e.s=i+s,c=a-i,h=a-c;e.t=i-h+(s-c)}var Ni=1e-6,ai=Math.PI,el=ai/2,Jk=ai/4,rl=2*ai,Xc=180/ai,Zs=ai/180,Un=Math.abs,YI=Math.atan,Nd=Math.atan2,Vi=Math.cos,Wi=Math.sin,jf=Math.sqrt;function Qk(e){return e>1?0:e<-1?ai:Math.acos(e)}function Dd(e){return e>1?el:e<-1?-el:Math.asin(e)}function Hf(){}function k0(e,i){e&&tE.hasOwnProperty(e.type)&&tE[e.type](e,i)}var $k={Feature:function(e,i){k0(e.geometry,i)},FeatureCollection:function(e,i){for(var s=e.features,a=-1,c=s.length;++a<c;)k0(s[a].geometry,i)}},tE={Sphere:function(e,i){i.sphere()},Point:function(e,i){e=e.coordinates,i.point(e[0],e[1],e[2])},MultiPoint:function(e,i){for(var s=e.coordinates,a=-1,c=s.length;++a<c;)e=s[a],i.point(e[0],e[1],e[2])},LineString:function(e,i){rw(e.coordinates,i,0)},MultiLineString:function(e,i){for(var s=e.coordinates,a=-1,c=s.length;++a<c;)rw(s[a],i,0)},Polygon:function(e,i){eE(e.coordinates,i)},MultiPolygon:function(e,i){for(var s=e.coordinates,a=-1,c=s.length;++a<c;)eE(s[a],i)},GeometryCollection:function(e,i){for(var s=e.geometries,a=-1,c=s.length;++a<c;)k0(s[a],i)}};function rw(e,i,s){var a,c=-1,h=e.length-s;for(i.lineStart();++c<h;)a=e[c],i.point(a[0],a[1],a[2]);i.lineEnd()}function eE(e,i){var s=-1,a=e.length;for(i.polygonStart();++s<a;)rw(e[s],i,1);i.polygonEnd()}Yc(),Yc();function iw(e){return[Nd(e[1],e[0]),Dd(e[2])]}function Fd(e){var i=e[0],s=e[1],a=Vi(s);return[a*Vi(i),a*Wi(i),Wi(s)]}function E0(e,i){return e[0]*i[0]+e[1]*i[1]+e[2]*i[2]}function T0(e,i){return[e[1]*i[2]-e[2]*i[1],e[2]*i[0]-e[0]*i[2],e[0]*i[1]-e[1]*i[0]]}function nw(e,i){e[0]+=i[0],e[1]+=i[1],e[2]+=i[2]}function S0(e,i){return[e[0]*i,e[1]*i,e[2]*i]}function ow(e){var i=jf(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=i,e[1]/=i,e[2]/=i}Yc();function rE(e,i){function s(a,c){return a=e(a,c),i(a[0],a[1])}return e.invert&&i.invert&&(s.invert=function(a,c){return(a=i.invert(a,c))&&e.invert(a[0],a[1])}),s}function sw(e,i){return[e>ai?e-rl:e<-ai?e+rl:e,i]}function iE(e){return function(i,s){return[(i+=e)>ai?i-rl:i<-ai?i+rl:i,s]}}function nE(e){var i=iE(e);return i.invert=iE(-e),i}function oE(e,i){var s=Vi(e),a=Wi(e),c=Vi(i),h=Wi(i);function g(y,w){var x=Vi(w),T=Vi(y)*x,E=Wi(y)*x,P=Wi(w),z=P*s+T*a;return[Nd(E*c-z*h,T*s-P*a),Dd(z*c+E*h)]}return g.invert=function(y,w){var x=Vi(w),T=Vi(y)*x,E=Wi(y)*x,P=Wi(w),z=P*c-E*h;return[Nd(E*c+P*h,T*s+z*a),Dd(z*s-T*a)]},g}function sE(e,i){(i=Fd(i))[0]-=e,ow(i);var s=Qk(-i[1]);return((-i[2]<0?-s:s)+rl-Ni)%rl}function aE(){var e,i=[];return{point:function(s,a){e.push([s,a])},lineStart:function(){i.push(e=[])},lineEnd:Hf,rejoin:function(){i.length>1&&i.push(i.pop().concat(i.shift()))},result:function(){var s=i;return i=[],e=null,s}}}function C0(e,i){return Un(e[0]-i[0])<Ni&&Un(e[1]-i[1])<Ni}function P0(e,i,s,a){this.x=e,this.z=i,this.o=s,this.e=a,this.v=!1,this.n=this.p=null}function lE(e,i,s,a,c){var h,g,y=[],w=[];if(e.forEach(function(N){if(!((B=N.length-1)<=0)){var B,R,X=N[0],it=N[B];if(C0(X,it)){for(c.lineStart(),h=0;h<B;++h)c.point((X=N[h])[0],X[1]);c.lineEnd()}else y.push(R=new P0(X,N,null,!0)),w.push(R.o=new P0(X,null,R,!1)),y.push(R=new P0(it,N,null,!1)),w.push(R.o=new P0(it,null,R,!0))}}),y.length){for(w.sort(i),cE(y),cE(w),h=0,g=w.length;h<g;++h)w[h].e=s=!s;for(var x,T,E=y[0];;){for(var P=E,z=!0;P.v;)if((P=P.n)===E)return;x=P.z,c.lineStart();do{if(P.v=P.o.v=!0,P.e){if(z)for(h=0,g=x.length;h<g;++h)c.point((T=x[h])[0],T[1]);else a(P.x,P.n.x,1,c);P=P.n}else{if(z)for(x=P.p.z,h=x.length-1;h>=0;--h)c.point((T=x[h])[0],T[1]);else a(P.x,P.p.x,-1,c);P=P.p}x=(P=P.o).z,z=!z}while(!P.v);c.lineEnd()}}}function cE(e){if(i=e.length){for(var i,s,a=0,c=e[0];++a<i;)c.n=s=e[a],s.p=c,c=s;c.n=s=e[0],s.p=c}}function uE(e,i){return e<i?-1:e>i?1:e>=i?0:NaN}sw.invert=sw;var aw,hE;(aw=uE).length===1&&(hE=aw,aw=function(e,i){return uE(hE(e),i)});function dE(e){for(var i,s,a,c=e.length,h=-1,g=0;++h<c;)g+=e[h].length;for(s=new Array(g);--c>=0;)for(i=(a=e[c]).length;--i>=0;)s[--g]=a[i];return s}var Uf=1e9,M0=-Uf;function XI(e,i,s,a){function c(x,T){return e<=x&&x<=s&&i<=T&&T<=a}function h(x,T,E,P){var z=0,N=0;if(x==null||(z=g(x,E))!==(N=g(T,E))||w(x,T)<0^E>0)do P.point(z===0||z===3?e:s,z>1?a:i);while((z=(z+E+4)%4)!==N);else P.point(T[0],T[1])}function g(x,T){return Un(x[0]-e)<Ni?T>0?0:3:Un(x[0]-s)<Ni?T>0?2:1:Un(x[1]-i)<Ni?T>0?1:0:T>0?3:2}function y(x,T){return w(x.x,T.x)}function w(x,T){var E=g(x,1),P=g(T,1);return E!==P?E-P:E===0?T[1]-x[1]:E===1?x[0]-T[0]:E===2?x[1]-T[1]:T[0]-x[0]}return function(x){var T,E,P,z,N,B,R,X,it,D,Y,K=x,tt=aE(),Q={point:At,lineStart:function(){Q.point=Et,E&&E.push(P=[]),D=!0,it=!1,R=X=NaN},lineEnd:function(){T&&(Et(z,N),B&&it&&tt.rejoin(),T.push(tt.result())),Q.point=At,it&&K.lineEnd()},polygonStart:function(){K=tt,T=[],E=[],Y=!0},polygonEnd:function(){var Dt=function(){for(var Mt=0,Pt=0,St=E.length;Pt<St;++Pt)for(var Ft,Lt,Ut=E[Pt],mt=1,Me=Ut.length,ne=Ut[0],Qe=ne[0],ye=ne[1];mt<Me;++mt)Ft=Qe,Lt=ye,Qe=(ne=Ut[mt])[0],ye=ne[1],Lt<=a?ye>a&&(Qe-Ft)*(a-Lt)>(ye-Lt)*(e-Ft)&&++Mt:ye<=a&&(Qe-Ft)*(a-Lt)<(ye-Lt)*(e-Ft)&&--Mt;return Mt}(),Tt=Y&&Dt,jt=(T=dE(T)).length;(Tt||jt)&&(x.polygonStart(),Tt&&(x.lineStart(),h(null,null,1,x),x.lineEnd()),jt&&lE(T,y,Dt,h,x),x.polygonEnd()),K=x,T=E=P=null}};function At(Dt,Tt){c(Dt,Tt)&&K.point(Dt,Tt)}function Et(Dt,Tt){var jt=c(Dt,Tt);if(E&&P.push([Dt,Tt]),D)z=Dt,N=Tt,B=jt,D=!1,jt&&(K.lineStart(),K.point(Dt,Tt));else if(jt&&it)K.point(Dt,Tt);else{var Mt=[R=Math.max(M0,Math.min(Uf,R)),X=Math.max(M0,Math.min(Uf,X))],Pt=[Dt=Math.max(M0,Math.min(Uf,Dt)),Tt=Math.max(M0,Math.min(Uf,Tt))];(function(St,Ft,Lt,Ut,mt,Me){var ne,Qe=St[0],ye=St[1],Be=0,dr=1,oi=Ft[0]-Qe,wn=Ft[1]-ye;if(ne=Lt-Qe,oi||!(ne>0)){if(ne/=oi,oi<0){if(ne<Be)return;ne<dr&&(dr=ne)}else if(oi>0){if(ne>dr)return;ne>Be&&(Be=ne)}if(ne=mt-Qe,oi||!(ne<0)){if(ne/=oi,oi<0){if(ne>dr)return;ne>Be&&(Be=ne)}else if(oi>0){if(ne<Be)return;ne<dr&&(dr=ne)}if(ne=Ut-ye,wn||!(ne>0)){if(ne/=wn,wn<0){if(ne<Be)return;ne<dr&&(dr=ne)}else if(wn>0){if(ne>dr)return;ne>Be&&(Be=ne)}if(ne=Me-ye,wn||!(ne<0)){if(ne/=wn,wn<0){if(ne>dr)return;ne>Be&&(Be=ne)}else if(wn>0){if(ne<Be)return;ne<dr&&(dr=ne)}return Be>0&&(St[0]=Qe+Be*oi,St[1]=ye+Be*wn),dr<1&&(Ft[0]=Qe+dr*oi,Ft[1]=ye+dr*wn),!0}}}}})(Mt,Pt,e,i,s,a)?(it||(K.lineStart(),K.point(Mt[0],Mt[1])),K.point(Pt[0],Pt[1]),jt||K.lineEnd(),Y=!1):jt&&(K.lineStart(),K.point(Dt,Tt),Y=!1)}R=Dt,X=Tt,it=jt}return Q}}var lw=Yc();Yc();function pE(e){return e}Yc(),Yc();var Bd=1/0,I0=Bd,Gf=-Bd,L0=Gf,fE={point:function(e,i){e<Bd&&(Bd=e),e>Gf&&(Gf=e),i<I0&&(I0=i),i>L0&&(L0=i)},lineStart:Hf,lineEnd:Hf,polygonStart:Hf,polygonEnd:Hf,result:function(){var e=[[Bd,I0],[Gf,L0]];return Gf=L0=-(I0=Bd=1/0),e}};Yc();function gE(e,i,s,a){return function(c,h){var g,y,w,x=i(h),T=c.invert(a[0],a[1]),E=aE(),P=i(E),z=!1,N={point:B,lineStart:X,lineEnd:it,polygonStart:function(){N.point=D,N.lineStart=Y,N.lineEnd=K,y=[],g=[]},polygonEnd:function(){N.point=B,N.lineStart=X,N.lineEnd=it,y=dE(y);var tt=function(Q,At){var Et=At[0],Dt=At[1],Tt=[Wi(Et),-Vi(Et),0],jt=0,Mt=0;lw.reset();for(var Pt=0,St=Q.length;Pt<St;++Pt)if(Lt=(Ft=Q[Pt]).length)for(var Ft,Lt,Ut=Ft[Lt-1],mt=Ut[0],Me=Ut[1]/2+Jk,ne=Wi(Me),Qe=Vi(Me),ye=0;ye<Lt;++ye,mt=dr,ne=wn,Qe=A0,Ut=Be){var Be=Ft[ye],dr=Be[0],oi=Be[1]/2+Jk,wn=Wi(oi),A0=Vi(oi),Kc=dr-mt,Vf=Kc>=0?1:-1,Wf=Vf*Kc,jd=Wf>ai,O0=ne*wn;if(lw.add(Nd(O0*Vf*Wi(Wf),Qe*A0+O0*Vi(Wf))),jt+=jd?Kc+Vf*rl:Kc,jd^mt>=Et^dr>=Et){var Hd=T0(Fd(Ut),Fd(Be));ow(Hd);var PE=T0(Tt,Hd);ow(PE);var ME=(jd^Kc>=0?-1:1)*Dd(PE[2]);(Dt>ME||Dt===ME&&(Hd[0]||Hd[1]))&&(Mt+=jd^Kc>=0?1:-1)}}return(jt<-1e-6||jt<Ni&&lw<-1e-6)^1&Mt}(g,T);y.length?(z||(h.polygonStart(),z=!0),lE(y,JI,tt,s,h)):tt&&(z||(h.polygonStart(),z=!0),h.lineStart(),s(null,null,1,h),h.lineEnd()),z&&(h.polygonEnd(),z=!1),y=g=null},sphere:function(){h.polygonStart(),h.lineStart(),s(null,null,1,h),h.lineEnd(),h.polygonEnd()}};function B(tt,Q){var At=c(tt,Q);e(tt=At[0],Q=At[1])&&h.point(tt,Q)}function R(tt,Q){var At=c(tt,Q);x.point(At[0],At[1])}function X(){N.point=R,x.lineStart()}function it(){N.point=B,x.lineEnd()}function D(tt,Q){w.push([tt,Q]);var At=c(tt,Q);P.point(At[0],At[1])}function Y(){P.lineStart(),w=[]}function K(){D(w[0][0],w[0][1]),P.lineEnd();var tt,Q,At,Et,Dt=P.clean(),Tt=E.result(),jt=Tt.length;if(w.pop(),g.push(w),w=null,jt)if(1&Dt){if((Q=(At=Tt[0]).length-1)>0){for(z||(h.polygonStart(),z=!0),h.lineStart(),tt=0;tt<Q;++tt)h.point((Et=At[tt])[0],Et[1]);h.lineEnd()}}else jt>1&&2&Dt&&Tt.push(Tt.pop().concat(Tt.shift())),y.push(Tt.filter(KI))}return N}}function KI(e){return e.length>1}function JI(e,i){return((e=e.x)[0]<0?e[1]-el-Ni:el-e[1])-((i=i.x)[0]<0?i[1]-el-Ni:el-i[1])}var mE=gE(function(){return!0},function(e){var i,s=NaN,a=NaN,c=NaN;return{lineStart:function(){e.lineStart(),i=1},point:function(h,g){var y=h>0?ai:-ai,w=Un(h-s);Un(w-ai)<Ni?(e.point(s,a=(a+g)/2>0?el:-el),e.point(c,a),e.lineEnd(),e.lineStart(),e.point(y,a),e.point(h,a),i=0):c!==y&&w>=ai&&(Un(s-c)<Ni&&(s-=c*Ni),Un(h-y)<Ni&&(h-=y*Ni),a=function(x,T,E,P){var z,N,B=Wi(x-E);return Un(B)>Ni?YI((Wi(T)*(N=Vi(P))*Wi(E)-Wi(P)*(z=Vi(T))*Wi(x))/(z*N*B)):(T+P)/2}(s,a,h,g),e.point(c,a),e.lineEnd(),e.lineStart(),e.point(y,a),i=0),e.point(s=h,a=g),c=y},lineEnd:function(){e.lineEnd(),s=a=NaN},clean:function(){return 2-i}}},function(e,i,s,a){var c;if(e==null)c=s*el,a.point(-ai,c),a.point(0,c),a.point(ai,c),a.point(ai,0),a.point(ai,-c),a.point(0,-c),a.point(-ai,-c),a.point(-ai,0),a.point(-ai,c);else if(Un(e[0]-i[0])>Ni){var h=e[0]<i[0]?ai:-ai;c=s*h/2,a.point(-h,c),a.point(0,c),a.point(h,c)}else a.point(i[0],i[1])},[-ai,-el]);function QI(e,i){var s=Vi(e),a=s>0,c=Un(s)>Ni;function h(w,x){return Vi(w)*Vi(x)>s}function g(w,x,T){var E=[1,0,0],P=T0(Fd(w),Fd(x)),z=E0(P,P),N=P[0],B=z-N*N;if(!B)return!T&&w;var R=s*z/B,X=-s*N/B,it=T0(E,P),D=S0(E,R);nw(D,S0(P,X));var Y=it,K=E0(D,Y),tt=E0(Y,Y),Q=K*K-tt*(E0(D,D)-1);if(!(Q<0)){var At=jf(Q),Et=S0(Y,(-K-At)/tt);if(nw(Et,D),Et=iw(Et),!T)return Et;var Dt,Tt=w[0],jt=x[0],Mt=w[1],Pt=x[1];jt<Tt&&(Dt=Tt,Tt=jt,jt=Dt);var St=jt-Tt,Ft=Un(St-ai)<Ni;if(!Ft&&Pt<Mt&&(Dt=Mt,Mt=Pt,Pt=Dt),Ft||St<Ni?Ft?Mt+Pt>0^Et[1]<(Un(Et[0]-Tt)<Ni?Mt:Pt):Mt<=Et[1]&&Et[1]<=Pt:St>ai^(Tt<=Et[0]&&Et[0]<=jt)){var Lt=S0(Y,(-K+At)/tt);return nw(Lt,D),[Et,iw(Lt)]}}}function y(w,x){var T=a?e:ai-e,E=0;return w<-T?E|=1:w>T&&(E|=2),x<-T?E|=4:x>T&&(E|=8),E}return gE(h,function(w){var x,T,E,P,z;return{lineStart:function(){P=E=!1,z=1},point:function(N,B){var R,X=[N,B],it=h(N,B),D=a?it?0:y(N,B):it?y(N+(N<0?ai:-ai),B):0;if(!x&&(P=E=it)&&w.lineStart(),it!==E&&(!(R=g(x,X))||C0(x,R)||C0(X,R))&&(X[0]+=Ni,X[1]+=Ni,it=h(X[0],X[1])),it!==E)z=0,it?(w.lineStart(),R=g(X,x),w.point(R[0],R[1])):(R=g(x,X),w.point(R[0],R[1]),w.lineEnd()),x=R;else if(c&&x&&a^it){var Y;D&T||!(Y=g(X,x,!0))||(z=0,a?(w.lineStart(),w.point(Y[0][0],Y[0][1]),w.point(Y[1][0],Y[1][1]),w.lineEnd()):(w.point(Y[1][0],Y[1][1]),w.lineEnd(),w.lineStart(),w.point(Y[0][0],Y[0][1])))}!it||x&&C0(x,X)||w.point(X[0],X[1]),x=X,E=it,T=D},lineEnd:function(){E&&w.lineEnd(),x=null},clean:function(){return z|(P&&E)<<1}}},function(w,x,T,E){(function(P,z,N,B,R,X){if(N){var it=Vi(z),D=Wi(z),Y=B*N;R==null?(R=z+B*rl,X=z-Y/2):(R=sE(it,R),X=sE(it,X),(B>0?R<X:R>X)&&(R+=B*rl));for(var K,tt=R;B>0?tt>X:tt<X;tt-=Y)K=iw([it,-D*Vi(tt),-D*Wi(tt)]),P.point(K[0],K[1])}})(E,e,i,T,w,x)},a?[0,-e]:[-ai,e-ai])}function vE(e){return function(i){var s=new cw;for(var a in e)s[a]=e[a];return s.stream=i,s}}function cw(){}function yE(e,i,s){var a=i[1][0]-i[0][0],c=i[1][1]-i[0][1],h=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),h!=null&&e.clipExtent(null),function(T,E){T&&$k.hasOwnProperty(T.type)?$k[T.type](T,E):k0(T,E)}(s,e.stream(fE));var g=fE.result(),y=Math.min(a/(g[1][0]-g[0][0]),c/(g[1][1]-g[0][1])),w=+i[0][0]+(a-y*(g[1][0]+g[0][0]))/2,x=+i[0][1]+(c-y*(g[1][1]+g[0][1]))/2;return h!=null&&e.clipExtent(h),e.scale(150*y).translate([w,x])}cw.prototype={constructor:cw,point:function(e,i){this.stream.point(e,i)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var $I=Vi(30*Zs);function bE(e,i){return+i?function(s,a){function c(h,g,y,w,x,T,E,P,z,N,B,R,X,it){var D=E-h,Y=P-g,K=D*D+Y*Y;if(K>4*a&&X--){var tt=w+N,Q=x+B,At=T+R,Et=jf(tt*tt+Q*Q+At*At),Dt=Dd(At/=Et),Tt=Un(Un(At)-1)<Ni||Un(y-z)<Ni?(y+z)/2:Nd(Q,tt),jt=s(Tt,Dt),Mt=jt[0],Pt=jt[1],St=Mt-h,Ft=Pt-g,Lt=Y*St-D*Ft;(Lt*Lt/K>a||Un((D*St+Y*Ft)/K-.5)>.3||w*N+x*B+T*R<$I)&&(c(h,g,y,w,x,T,Mt,Pt,Tt,tt/=Et,Q/=Et,At,X,it),it.point(Mt,Pt),c(Mt,Pt,Tt,tt,Q,At,E,P,z,N,B,R,X,it))}}return function(h){var g,y,w,x,T,E,P,z,N,B,R,X,it={point:D,lineStart:Y,lineEnd:tt,polygonStart:function(){h.polygonStart(),it.lineStart=Q},polygonEnd:function(){h.polygonEnd(),it.lineStart=Y}};function D(Dt,Tt){Dt=s(Dt,Tt),h.point(Dt[0],Dt[1])}function Y(){z=NaN,it.point=K,h.lineStart()}function K(Dt,Tt){var jt=Fd([Dt,Tt]),Mt=s(Dt,Tt);c(z,N,P,B,R,X,z=Mt[0],N=Mt[1],P=Dt,B=jt[0],R=jt[1],X=jt[2],16,h),h.point(z,N)}function tt(){it.point=D,h.lineEnd()}function Q(){Y(),it.point=At,it.lineEnd=Et}function At(Dt,Tt){K(g=Dt,Tt),y=z,w=N,x=B,T=R,E=X,it.point=K}function Et(){c(z,N,P,B,R,X,y,w,g,x,T,E,16,h),it.lineEnd=tt,tt()}return it}}(e,i):function(s){return vE({point:function(a,c){a=s(a,c),this.stream.point(a[0],a[1])}})}(e)}var tL=vE({point:function(e,i){this.stream.point(e*Zs,i*Zs)}});function eL(e){return function(i){var s,a,c,h,g,y,w,x,T,E,P=150,z=480,N=250,B=0,R=0,X=0,it=0,D=0,Y=null,K=mE,tt=null,Q=pE,At=.5,Et=bE(jt,At);function Dt(St){return[(St=g(St[0]*Zs,St[1]*Zs))[0]*P+a,c-St[1]*P]}function Tt(St){return(St=g.invert((St[0]-a)/P,(c-St[1])/P))&&[St[0]*Xc,St[1]*Xc]}function jt(St,Ft){return[(St=s(St,Ft))[0]*P+a,c-St[1]*P]}function Mt(){g=rE(h=function(Ft,Lt,Ut){return(Ft%=rl)?Lt||Ut?rE(nE(Ft),oE(Lt,Ut)):nE(Ft):Lt||Ut?oE(Lt,Ut):sw}(X,it,D),s);var St=s(B,R);return a=z-St[0]*P,c=N+St[1]*P,Pt()}function Pt(){return T=E=null,Dt}return Dt.stream=function(St){return T&&E===St?T:T=tL(K(h,Et(Q(E=St))))},Dt.clipAngle=function(St){return arguments.length?(K=+St?QI(Y=St*Zs,6*Zs):(Y=null,mE),Pt()):Y*Xc},Dt.clipExtent=function(St){return arguments.length?(Q=St==null?(tt=y=w=x=null,pE):XI(tt=+St[0][0],y=+St[0][1],w=+St[1][0],x=+St[1][1]),Pt()):tt==null?null:[[tt,y],[w,x]]},Dt.scale=function(St){return arguments.length?(P=+St,Mt()):P},Dt.translate=function(St){return arguments.length?(z=+St[0],N=+St[1],Mt()):[z,N]},Dt.center=function(St){return arguments.length?(B=St[0]%360*Zs,R=St[1]%360*Zs,Mt()):[B*Xc,R*Xc]},Dt.rotate=function(St){return arguments.length?(X=St[0]%360*Zs,it=St[1]%360*Zs,D=St.length>2?St[2]%360*Zs:0,Mt()):[X*Xc,it*Xc,D*Xc]},Dt.precision=function(St){return arguments.length?(Et=bE(jt,At=St*St),Pt()):jf(At)},Dt.fitExtent=function(St,Ft){return yE(Dt,St,Ft)},Dt.fitSize=function(St,Ft){return function(Lt,Ut,mt){return yE(Lt,[[0,0],Ut],mt)}(Dt,St,Ft)},function(){return s=i.apply(this,arguments),Dt.invert=s.invert&&Tt,Mt()}}(function(){return e})()}var wE=function(e){return function(i,s){var a=Vi(i),c=Vi(s),h=e(a*c);return[h*c*Wi(i),h*Wi(s)]}}(function(e){return(e=Qk(e))&&e/Wi(e)});function rL(){return eL(wE).scale(79.4188).clipAngle(179.999)}function R0(e,i,s,a){var c=e.properties||{},h=e.type==="Feature"?e.geometry:e;if(h.type==="GeometryCollection"){var g=[];return te(e,function(P){var z=R0(P,i,s,a);z&&g.push(z)}),M(g)}var y=function(P){var z=is(P).geometry.coordinates,N=[-z[0],-z[1]];return rL().rotate(N).scale(r)}(h),w={type:h.type,coordinates:_E(h.coordinates,y)},x=new Wb().read(w),T=j(V(i,s),"meters"),E=gn.bufferOp(x,T,a);if(!xE((E=new Ik().write(E)).coordinates))return u({type:E.type,coordinates:kE(E.coordinates,y)},c)}function xE(e){return Array.isArray(e[0])?xE(e[0]):isNaN(e[0])}function _E(e,i){return typeof e[0]!="object"?i(e):e.map(function(s){return _E(s,i)})}function kE(e,i){return typeof e[0]!="object"?i.invert(e):e.map(function(s){return kE(s,i)})}function qf(e,i,s){s===void 0&&(s={});var a=ut(e),c=ut(i),h=Nl.intersection(a.coordinates,c.coordinates);return h.length===0?null:h.length===1?v(h[0],s.properties):G(h,s.properties)}function EE(e,i,s){s===void 0&&(s={});var a=JSON.stringify(s.properties||{}),c=e[0],h=e[1],g=e[2],y=e[3],w=(h+y)/2,x=(c+g)/2,T=2*i/ir([c,w],[g,w],s)*(g-c),E=2*i/ir([x,h],[x,y],s)*(y-h),P=T/2,z=2*P,N=Math.sqrt(3)/2*E,B=g-c,R=y-h,X=3/4*z,it=N,D=(B-z)/(z-P/2),Y=Math.floor(D),K=(Y*X-P/2-B)/2-P/2+X/2,tt=Math.floor((R-N)/N),Q=(R-tt*N)/2,At=tt*N-R>N/2;At&&(Q-=N/4);for(var Et=[],Dt=[],Tt=0;Tt<6;Tt++){var jt=2*Math.PI/6*Tt;Et.push(Math.cos(jt)),Dt.push(Math.sin(jt))}for(var Mt=[],Pt=0;Pt<=Y;Pt++)for(var St=0;St<=tt;St++){var Ft=Pt%2==1;if((St!==0||!Ft)&&(St!==0||!At)){var Lt=Pt*X+c-K,Ut=St*it+h+Q;if(Ft&&(Ut-=N/2),s.triangles===!0)nL([Lt,Ut],T/2,E/2,JSON.parse(a),Et,Dt).forEach(function(Me){s.mask?qf(s.mask,Me)&&Mt.push(Me):Mt.push(Me)});else{var mt=iL([Lt,Ut],T/2,E/2,JSON.parse(a),Et,Dt);s.mask?qf(s.mask,mt)&&Mt.push(mt):Mt.push(mt)}}}return M(Mt)}function iL(e,i,s,a,c,h){for(var g=[],y=0;y<6;y++){var w=e[0]+i*c[y],x=e[1]+s*h[y];g.push([w,x])}return g.push(g[0].slice()),v([g],a)}function nL(e,i,s,a,c,h){for(var g=[],y=0;y<6;y++){var w=[];w.push(e),w.push([e[0]+i*c[y],e[1]+s*h[y]]),w.push([e[0]+i*c[(y+1)%6],e[1]+s*h[(y+1)%6]]),w.push(e),g.push(v([w],a))}return g}function TE(e){return G(e)}function oL(e){return v(e&&e.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]])}function SE(e,i,s){return s===void 0&&(s={}),function(a,c,h,g){g===void 0&&(g={});for(var y=[],w=a[0],x=a[1],T=a[2],E=a[3],P=c/ir([w,x],[T,x],g)*(T-w),z=h/ir([w,x],[w,E],g)*(E-x),N=T-w,B=E-x,R=Math.floor(N/P),X=Math.floor(B/z),it=(B-X*z)/2,D=w+(N-R*P)/2,Y=0;Y<R;Y++){for(var K=x+it,tt=0;tt<X;tt++){var Q=v([[[D,K],[D,K+z],[D+P,K+z],[D+P,K],[D,K]]],g.properties);g.mask?M_(g.mask,Q)&&y.push(Q):y.push(Q),K+=z}D+=P}return M(y)}(e,i,i,s)}function CE(e,i,s){s===void 0&&(s={});for(var a=[],c=i/ir([e[0],e[1]],[e[2],e[1]],s)*(e[2]-e[0]),h=i/ir([e[0],e[1]],[e[0],e[3]],s)*(e[3]-e[1]),g=0,y=e[0];y<=e[2];){for(var w=0,x=e[1];x<=e[3];){var T=null,E=null;g%2==0&&w%2==0?(T=v([[[y,x],[y,x+h],[y+c,x],[y,x]]],s.properties),E=v([[[y,x+h],[y+c,x+h],[y+c,x],[y,x+h]]],s.properties)):g%2==0&&w%2==1?(T=v([[[y,x],[y+c,x+h],[y+c,x],[y,x]]],s.properties),E=v([[[y,x],[y,x+h],[y+c,x+h],[y,x]]],s.properties)):w%2==0&&g%2==1?(T=v([[[y,x],[y,x+h],[y+c,x+h],[y,x]]],s.properties),E=v([[[y,x],[y+c,x+h],[y+c,x],[y,x]]],s.properties)):w%2==1&&g%2==1&&(T=v([[[y,x],[y,x+h],[y+c,x],[y,x]]],s.properties),E=v([[[y,x+h],[y+c,x+h],[y+c,x],[y,x+h]]],s.properties)),s.mask?(qf(s.mask,T)&&a.push(T),qf(s.mask,E)&&a.push(E)):(a.push(T),a.push(E)),x+=h,w++}g++,y+=c}return M(a)}wE.invert=function(e){return function(i,s){var a=jf(i*i+s*s),c=e(a),h=Wi(c),g=Vi(c);return[Nd(i*h,a*g),Dd(a&&s*h/a)]}}(function(e){return e}),n.along=function(e,i,s){s===void 0&&(s={});for(var a=ut(e).coordinates,c=0,h=0;h<a.length&&!(i>=c&&h===a.length-1);h++){if(c>=i){var g=i-c;if(g){var y=Ss(a[h],a[h-1])-180;return $i(a[h],g,y,s)}return f(a[h])}c+=ir(a[h],a[h+1],s)}return f(a[a.length-1])},n.angle=function(e,i,s,a){if(a===void 0&&(a={}),!vt(a))throw new Error("options is invalid");if(!e)throw new Error("startPoint is required");if(!i)throw new Error("midPoint is required");if(!s)throw new Error("endPoint is required");var c=e,h=i,g=s,y=gt(a.mercator!==!0?Ss(c,h):zl(c,h)),w=gt(a.mercator!==!0?Ss(g,h):zl(g,h)),x=Math.abs(y-w);return a.explementary===!0?360-x:x},n.applyFilter=e0,n.area=ed,n.areaFactors=l,n.bbox=zt,n.bboxClip=function(e,i){var s=ut(e),a=s.type,c=e.type==="Feature"?e.properties:{},h=s.coordinates;switch(a){case"LineString":case"MultiLineString":var g=[];return a==="LineString"&&(h=[h]),h.forEach(function(y){(function(w,x,T){var E,P,z,N,B,R=w.length,X=Ol(w[0],x),it=[];for(T||(T=[]),E=1;E<R;E++){for(N=w[E-1],P=z=Ol(B=w[E],x);;){if(!(X|P)){it.push(N),P!==z?(it.push(B),E<R-1&&(T.push(it),it=[])):E===R-1&&it.push(B);break}if(X&P)break;X?X=Ol(N=af(N,B,X,x),x):P=Ol(B=af(N,B,P,x),x)}X=z}it.length&&T.push(it)})(y,i,g)}),g.length===1?k(g[0],c):A(g,c);case"Polygon":return v(Hi(h,i),c);case"MultiPolygon":return G(h.map(function(y){return Hi(y,i)}),c);default:throw new Error("geometry "+a+" not supported")}},n.bboxPolygon=Hp,n.bearing=Ss,n.bearingToAngle=gt,n.bearingToAzimuth=gt,n.bezier=Sm,n.bezierSpline=Sm,n.booleanClockwise=Zm,n.booleanContains=function(e,i){var s=ut(e),a=ut(i),c=s.type,h=a.type,g=s.coordinates,y=a.coordinates;switch(c){case"Point":switch(h){case"Point":return _b(g,y);default:throw new Error("feature2 "+h+" geometry not supported")}case"MultiPoint":switch(h){case"Point":return function(w,x){var T,E=!1;for(T=0;T<w.coordinates.length;T++)if(_b(w.coordinates[T],x.coordinates)){E=!0;break}return E}(s,a);case"MultiPoint":return function(w,x){for(var T=0,E=x.coordinates;T<E.length;T++){for(var P=E[T],z=!1,N=0,B=w.coordinates;N<B.length;N++)if(_b(P,B[N])){z=!0;break}if(!z)return!1}return!0}(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}case"LineString":switch(h){case"Point":return eo(a,s,{ignoreEndVertices:!0});case"LineString":return function(w,x){for(var T=!1,E=0,P=x.coordinates;E<P.length;E++){var z=P[E];if(eo({type:"Point",coordinates:z},w,{ignoreEndVertices:!0})&&(T=!0),!eo({type:"Point",coordinates:z},w,{ignoreEndVertices:!1}))return!1}return T}(s,a);case"MultiPoint":return function(w,x){for(var T=!1,E=0,P=x.coordinates;E<P.length;E++){var z=P[E];if(eo(z,w,{ignoreEndVertices:!0})&&(T=!0),!eo(z,w))return!1}return!!T}(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}case"Polygon":switch(h){case"Point":return Ye(a,s,{ignoreBoundary:!0});case"LineString":return function(w,x){var T=!1,E=0,P=zt(w),z=zt(x);if(!x_(P,z))return!1;for(;E<x.coordinates.length-1;E++)if(Ye({type:"Point",coordinates:jM(x.coordinates[E],x.coordinates[E+1])},w,{ignoreBoundary:!0})){T=!0;break}return T}(s,a);case"Polygon":return function(w,x){if(w.type==="Feature"&&w.geometry===null||x.type==="Feature"&&x.geometry===null)return!1;var T=zt(w),E=zt(x);if(!x_(T,E))return!1;for(var P=ut(x).coordinates,z=0,N=P;z<N.length;z++)for(var B=0,R=N[z];B<R.length;B++)if(!Ye(R[B],w))return!1;return!0}(s,a);case"MultiPoint":return function(w,x){for(var T=0,E=x.coordinates;T<E.length;T++)if(!Ye(E[T],w,{ignoreBoundary:!0}))return!1;return!0}(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}default:throw new Error("feature1 "+c+" geometry not supported")}},n.booleanCrosses=function(e,i){var s=ut(e),a=ut(i),c=s.type,h=a.type;switch(c){case"MultiPoint":switch(h){case"LineString":return __(s,a);case"Polygon":return E_(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}case"LineString":switch(h){case"MultiPoint":return __(a,s);case"LineString":return function(g,y){if(dn(g,y).features.length>0)for(var w=0;w<g.coordinates.length-1;w++)for(var x=0;x<y.coordinates.length-1;x++){var T=!0;if(x!==0&&x!==y.coordinates.length-2||(T=!1),T_(g.coordinates[w],g.coordinates[w+1],y.coordinates[x],T))return!0}return!1}(s,a);case"Polygon":return k_(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}case"Polygon":switch(h){case"MultiPoint":return E_(a,s);case"LineString":return k_(a,s);default:throw new Error("feature2 "+h+" geometry not supported")}default:throw new Error("feature1 "+c+" geometry not supported")}},n.booleanDisjoint=y_,n.booleanEqual=function(e,i){return ut(e).type===ut(i).type&&new P_({precision:6}).compare(ia(e),ia(i))},n.booleanIntersects=M_,n.booleanOverlap=function(e,i){var s=ut(e),a=ut(i),c=s.type,h=a.type;if(c==="MultiPoint"&&h!=="MultiPoint"||(c==="LineString"||c==="MultiLineString")&&h!=="LineString"&&h!=="MultiLineString"||(c==="Polygon"||c==="MultiPolygon")&&h!=="Polygon"&&h!=="MultiPolygon")throw new Error("features must be of the same type");if(c==="Point")throw new Error("Point geometry not supported");if(new P_({precision:6}).compare(e,i))return!1;var g=0;switch(c){case"MultiPoint":for(var y=0;y<s.coordinates.length;y++)for(var w=0;w<a.coordinates.length;w++){var x=s.coordinates[y],T=a.coordinates[w];if(x[0]===T[0]&&x[1]===T[1])return!0}return!1;case"LineString":case"MultiLineString":rr(e,function(E){rr(i,function(P){Wm(E,P).features.length&&g++})});break;case"Polygon":case"MultiPolygon":rr(e,function(E){rr(i,function(P){dn(E,P).features.length&&g++})})}return g>0},n.booleanParallel=function(e,i){if(!e)throw new Error("line1 is required");if(!i)throw new Error("line2 is required");if(A_(e,"line1")!=="LineString")throw new Error("line1 must be a LineString");if(A_(i,"line2")!=="LineString")throw new Error("line2 must be a LineString");for(var s=Vn(ia(e)).features,a=Vn(ia(i)).features,c=0;c<s.length;c++){var h=s[c].geometry.coordinates;if(!a[c])break;if(!QM(h,a[c].geometry.coordinates))return!1}return!0},n.booleanPointInPolygon=Ye,n.booleanPointOnLine=eo,n.booleanWithin=Ic,n.buffer=function(e,i,s){var a=(s=s||{}).units||"kilometers",c=s.steps||8;if(!e)throw new Error("geojson is required");if(typeof s!="object")throw new Error("options must be an object");if(typeof c!="number")throw new Error("steps must be an number");if(i===void 0)throw new Error("radius is required");if(c<=0)throw new Error("steps must be greater than 0");var h=[];switch(e.type){case"GeometryCollection":return te(e,function(g){var y=R0(g,i,a,c);y&&h.push(y)}),M(h);case"FeatureCollection":return xt(e,function(g){var y=R0(g,i,a,c);y&&xt(y,function(w){w&&h.push(w)})}),M(h)}return R0(e,i,a,c)},n.center=is,n.centerMean=Sb,n.centerMedian=function(e,i){if(i===void 0&&(i={}),!vt(i=i||{}))throw new Error("options is invalid");var s=i.counter||10;if(!ft(s))throw new Error("counter must be a number");var a=i.weight,c=Sb(e,{weight:i.weight}),h=M([]);xt(e,function(y){var w;h.features.push(na(y,{properties:{weight:(w=y.properties)===null||w===void 0?void 0:w[a]}}))});var g={tolerance:i.tolerance,medianCandidates:[]};return V_(c.geometry.coordinates,[0,0],h,g,s)},n.centerOfMass=function e(i,s){switch(s===void 0&&(s={}),It(i)){case"Point":return f(I(i),s.properties);case"Polygon":var a=[];Gt(i,function(Y){a.push(Y)});var c,h,g,y,w,x,T,E,P=na(i,{properties:s.properties}),z=P.geometry.coordinates,N=0,B=0,R=0,X=a.map(function(Y){return[Y[0]-z[0],Y[1]-z[1]]});for(c=0;c<a.length-1;c++)y=(h=X[c])[0],x=h[1],w=(g=X[c+1])[0],R+=E=y*(T=g[1])-w*x,N+=(y+w)*E,B+=(x+T)*E;if(R===0)return P;var it=1/(6*(.5*R));return f([z[0]+it*N,z[1]+it*B],s.properties);default:var D=cr(i);return D?e(D,{properties:s.properties}):na(i,{properties:s.properties})}},n.centroid=na,n.circle=Up,n.cleanCoords=ia,n.clone=Si,n.clusterEach=Cb,n.clusterReduce=sk,n.clusters=wI,n.clustersDbscan=function(e,i,s){s===void 0&&(s={}),s.mutate!==!0&&(e=Si(e)),s.minPoints=s.minPoints||3;var a=new VM.DBSCAN,c=a.run(Vt(e),Z(i,s.units),s.minPoints,ir),h=-1;return c.forEach(function(g){h++,g.forEach(function(y){var w=e.features[y];w.properties||(w.properties={}),w.properties.cluster=h,w.properties.dbscan="core"})}),a.noise.forEach(function(g){var y=e.features[g];y.properties||(y.properties={}),y.properties.cluster?y.properties.dbscan="edge":y.properties.dbscan="noise"}),e},n.clustersKmeans=function(e,i){i===void 0&&(i={});var s=e.features.length;i.numberOfClusters=i.numberOfClusters||Math.round(Math.sqrt(s/2)),i.numberOfClusters>s&&(i.numberOfClusters=s),i.mutate!==!0&&(e=Si(e));var a=Vt(e),c=a.slice(0,i.numberOfClusters),h=JM(a,i.numberOfClusters,c),g={};return h.centroids.forEach(function(y,w){g[w]=y}),xt(e,function(y,w){var x=h.idxs[w];y.properties.cluster=x,y.properties.centroid=g[x]}),e},n.collect=function(e,i,s,a){var c=Ji(6),h=i.features.map(function(g){var y;return{minX:g.geometry.coordinates[0],minY:g.geometry.coordinates[1],maxX:g.geometry.coordinates[0],maxY:g.geometry.coordinates[1],property:(y=g.properties)===null||y===void 0?void 0:y[s]}});return c.load(h),e.features.forEach(function(g){g.properties||(g.properties={});var y=zt(g),w=c.search({minX:y[0],minY:y[1],maxX:y[2],maxY:y[3]}),x=[];w.forEach(function(T){Ye([T.minX,T.minY],g)&&x.push(T.property)}),g.properties[a]=x}),e},n.collectionOf=_t,n.combine=function(e){var i={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};return xt(e,function(s){var a,c,h,g;switch((g=s.geometry)===null||g===void 0?void 0:g.type){case"Point":i.MultiPoint.coordinates.push(s.geometry.coordinates),i.MultiPoint.properties.push(s.properties);break;case"MultiPoint":(a=i.MultiPoint.coordinates).push.apply(a,s.geometry.coordinates),i.MultiPoint.properties.push(s.properties);break;case"LineString":i.MultiLineString.coordinates.push(s.geometry.coordinates),i.MultiLineString.properties.push(s.properties);break;case"MultiLineString":(c=i.MultiLineString.coordinates).push.apply(c,s.geometry.coordinates),i.MultiLineString.properties.push(s.properties);break;case"Polygon":i.MultiPolygon.coordinates.push(s.geometry.coordinates),i.MultiPolygon.properties.push(s.properties);break;case"MultiPolygon":(h=i.MultiPolygon.coordinates).push.apply(h,s.geometry.coordinates),i.MultiPolygon.properties.push(s.properties)}}),M(Object.keys(i).filter(function(s){return i[s].coordinates.length}).sort().map(function(s){return u({type:s,coordinates:i[s].coordinates},{collectedProperties:i[s].properties})}))},n.concave=function(e,i){i===void 0&&(i={});var s=i.maxEdge||1/0,a=wm(function(h){var g=[],y={};return xt(h,function(w){if(w.geometry){var x=w.geometry.coordinates.join("-");Object.prototype.hasOwnProperty.call(y,x)||(g.push(w),y[x]=!0)}}),M(g)}(e));if(a.features=a.features.filter(function(h){var g=h.geometry.coordinates[0][0],y=h.geometry.coordinates[0][1],w=h.geometry.coordinates[0][2],x=ir(g,y,i),T=ir(y,w,i),E=ir(g,w,i);return x<=s&&T<=s&&E<=s}),a.features.length<1)return null;var c=km(a);return c.coordinates.length===1&&(c.coordinates=c.coordinates[0],c.type="Polygon"),u(c)},n.containsNumber=ot,n.convertArea=at,n.convertDistance=Z,n.convertLength=Z,n.convex=cr,n.coordAll=Vt,n.coordEach=Gt,n.coordReduce=ce,n.createBins=Pb,n.degrees2radians=ct,n.degreesToRadians=ct,n.destination=$i,n.difference=function(e,i){var s=ut(e),a=ut(i),c=e.properties||{},h=Nl.difference(s.coordinates,a.coordinates);return h.length===0?null:h.length===1?v(h[0],c):G(h,c)},n.dissolve=function(e,i){if(!vt(i=i||{}))throw new Error("options is invalid");var s=i.propertyName;_t(e,"Polygon","dissolve");var a=[];if(!i.propertyName)return od(G(Nl.union.apply(null,e.features.map(function(w){return w.geometry.coordinates}))));var c={};xt(e,function(w){Object.prototype.hasOwnProperty.call(c,w.properties[s])||(c[w.properties[s]]=[]),c[w.properties[s]].push(w)});for(var h=Object.keys(c),g=0;g<h.length;g++){var y=G(Nl.union.apply(null,c[h[g]].map(function(w){return w.geometry.coordinates})));y.properties[s]=h[g],a.push(y)}return od(M(a))},n.distance=ir,n.distanceToDegrees=nt,n.distanceToRadians=V,n.distanceWeight=Z_,n.earthRadius=r,n.ellipse=G_,n.envelope=Gh,n.explode=zu,n.factors=t,n.feature=u,n.featureCollection=M,n.featureEach=xt,n.featureOf=ht,n.featureReduce=Nt,n.filterProperties=ak,n.findPoint=yt,n.findSegment=Bi,n.flatten=od,n.flattenEach=oe,n.flattenReduce=se,n.flip=function(e,i){if(!vt(i=i||{}))throw new Error("options is invalid");var s=i.mutate;if(!e)throw new Error("geojson is required");return s!==!1&&s!==void 0||(e=Si(e)),Gt(e,function(a){var c=a[0],h=a[1];a[0]=h,a[1]=c}),e},n.geojsonType=dt,n.geomEach=te,n.geomReduce=de,n.geometry=d,n.geometryCollection=H,n.getCluster=ok,n.getCoord=I,n.getCoords=U,n.getGeom=ut,n.getType=It,n.greatCircle=function(e,i,s){if(typeof(s=s||{})!="object")throw new Error("options is invalid");var a=s.properties,c=s.npoints,h=s.offset;return e=I(e),i=I(i),a=a||{},c=c||100,h=h||10,new Ht({x:e[0],y:e[1]},{x:i[0],y:i[1]},a).Arc(c,{offset:h}).json()},n.helpers=pe,n.hexGrid=EE,n.inside=Ye,n.interpolate=function(e,i,s){if(typeof(s=s||{})!="object")throw new Error("options is invalid");var a=s.gridType,c=s.property,h=s.weight;if(!e)throw new Error("points is required");if(_t(e,"Point","input must contain Points"),!i)throw new Error("cellSize is required");if(h!==void 0&&typeof h!="number")throw new Error("weight must be a number");c=c||"elevation",a=a||"square",h=h||1;var g,y=zt(e);switch(a){case"point":case"points":g=rf(y,i,s);break;case"square":case"squares":g=SE(y,i,s);break;case"hex":case"hexes":g=EE(y,i,s);break;case"triangle":case"triangles":g=CE(y,i,s);break;default:throw new Error("invalid gridType")}var w=[];return xt(g,function(x){var T=0,E=0;xt(e,function(z){var N,B=ir(a==="point"?x:na(x),z,s);if(c!==void 0&&(N=z.properties[c]),N===void 0&&(N=z.geometry.coordinates[2]),N===void 0)throw new Error("zValue is missing");B===0&&(T=N);var R=1/Math.pow(B,h);E+=R,T+=R*N});var P=Si(x);P.properties[c]=T/E,w.push(P)}),M(w)},n.intersect=qf,n.invariant=Zt,n.isNumber=ft,n.isObject=vt,n.isobands=function(e,i,s){if(!vt(s=s||{}))throw new Error("options is invalid");var a=s.zProperty||"elevation",c=s.commonProperties||{},h=s.breaksProperties||[];if(_t(e,"Point","Input must contain Points"),!i)throw new Error("breaks is required");if(!Array.isArray(i))throw new Error("breaks is not an Array");if(!vt(c))throw new Error("commonProperties is not an Object");if(!Array.isArray(h))throw new Error("breaksProperties is not an Array");var g=CM(e,{zProperty:a,flip:!0}),y=function(w,x,T){for(var E=[],P=1;P<x.length;P++){var z=+x[P-1],N=+x[P],B=AM(RM(PM(w,z,N-z))),R={};R.groupedRings=B,R[T]=z+"-"+N,E.push(R)}return E}(g,i,a);return M((y=function(w,x,T){var E=zt(T),P=E[2]-E[0],z=E[3]-E[1],N=E[0],B=E[1],R=x[0].length-1,X=x.length-1,it=P/R,D=z/X,Y=function(K){K[0]=K[0]*it+N,K[1]=K[1]*D+B};return w.forEach(function(K){K.groupedRings.forEach(function(tt){tt.forEach(function(Q){Q.forEach(Y)})})}),w}(y,g,e)).map(function(w,x){if(h[x]&&!vt(h[x]))throw new Error("Each mappedProperty is required to be an Object");var T=De({},c,h[x]);return T[a]=w[a],G(w.groupedRings,T)}))},n.isolines=function(e,i,s){if(!vt(s=s||{}))throw new Error("options is invalid");var a=s.zProperty||"elevation",c=s.commonProperties||{},h=s.breaksProperties||[];if(_t(e,"Point","Input must contain Points"),!i)throw new Error("breaks is required");if(!Array.isArray(i))throw new Error("breaks must be an Array");if(!vt(c))throw new Error("commonProperties must be an Object");if(!Array.isArray(h))throw new Error("breaksProperties must be an Array");var g=sr(e,{zProperty:a,flip:!0});return M(function(y,w,x){var T=zt(x),E=T[2]-T[0],P=T[3]-T[1],z=T[0],N=T[1],B=w[0].length-1,R=w.length-1,X=E/B,it=P/R,D=function(Y){Y[0]=Y[0]*X+z,Y[1]=Y[1]*it+N};return y.forEach(function(Y){Gt(Y,D)}),y}(function(y,w,x,T,E){for(var P=[],z=1;z<w.length;z++){var N=+w[z],B=De({},T,E[z]);B[x]=N;var R=A(lt(y,N),B);P.push(R)}return P}(g,i,a,c,h),g,e))},n.kinks=function(e){var i,s,a={type:"FeatureCollection",features:[]};if((s=e.type==="Feature"?e.geometry:e).type==="LineString")i=[s.coordinates];else if(s.type==="MultiLineString")i=s.coordinates;else if(s.type==="MultiPolygon")i=[].concat.apply([],s.coordinates);else{if(s.type!=="Polygon")throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");i=s.coordinates}return i.forEach(function(c){i.forEach(function(h){for(var g=0;g<c.length-1;g++)for(var y=g;y<h.length-1;y++)if(!(c===h&&(Math.abs(g-y)===1||g===0&&y===c.length-2&&c[g][0]===c[c.length-1][0]&&c[g][1]===c[c.length-1][1]))){var w=Uu(c[g][0],c[g][1],c[g+1][0],c[g+1][1],h[y][0],h[y][1],h[y+1][0],h[y+1][1]);w&&a.features.push(f([w[0],w[1]]))}})}),a},n.length=id,n.lengthToDegrees=nt,n.lengthToRadians=V,n.lineArc=Rn,n.lineChunk=function(e,i,s){if(!vt(s=s||{}))throw new Error("options is invalid");var a=s.units,c=s.reverse;if(!e)throw new Error("geojson is required");if(i<=0)throw new Error("segmentLength must be greater than 0");var h=[];return oe(e,function(g){c&&(g.geometry.coordinates=g.geometry.coordinates.reverse()),function(y,w,x,T){var E=id(y,{units:x});if(E<=w)return T(y);var P=E/w;Number.isInteger(P)||(P=Math.floor(P)+1);for(var z=0;z<P;z++)T(Mc(y,w*z,w*(z+1),{units:x}),z)}(g,i,a,function(y){h.push(y)})}),M(h)},n.lineDistance=id,n.lineEach=vi,n.lineIntersect=dn,n.lineOffset=function(e,i,s){if(!vt(s=s||{}))throw new Error("options is invalid");var a=s.units;if(!e)throw new Error("geojson is required");if(i==null||isNaN(i))throw new Error("distance is required");var c=It(e),h=e.properties;switch(c){case"LineString":return f_(e,i,a);case"MultiLineString":var g=[];return oe(e,function(y){g.push(f_(y,i,a).geometry.coordinates)}),A(g,h);default:throw new Error("geometry "+c+" is not supported")}},n.lineOverlap=Wm,n.lineReduce=Xi,n.lineSegment=Vn,n.lineSlice=function(e,i,s){var a=U(s);if(It(s)!=="LineString")throw new Error("line must be a LineString");for(var c,h=ca(s,e),g=ca(s,i),y=[(c=h.properties.index<=g.properties.index?[h,g]:[g,h])[0].geometry.coordinates],w=c[0].properties.index+1;w<c[1].properties.index+1;w++)y.push(a[w]);return y.push(c[1].geometry.coordinates),k(y,s.properties)},n.lineSliceAlong=Mc,n.lineSplit=function(e,i){if(!e)throw new Error("line is required");if(!i)throw new Error("splitter is required");var s=It(e),a=It(i);if(s!=="LineString")throw new Error("line must be LineString");if(a==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(a==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var c=nf(i,{precision:7});switch(a){case"Point":return we(e,c);case"MultiPoint":return $t(e,c);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return $t(e,dn(e,c))}},n.lineString=k,n.lineStringToPolygon=Hm,n.lineStrings=C,n.lineToPolygon=Hm,n.mask=function(e,i){var s,a=oL(i),c=null;return e.type==="FeatureCollection"?c=TE((s=e).features.length===2?Nl.union(s.features[0].geometry.coordinates,s.features[1].geometry.coordinates):Nl.union.apply(Nl,s.features.map(function(h){return h.geometry.coordinates}))):c=TE(Nl.union(e.geometry.coordinates)),c.geometry.coordinates.forEach(function(h){a.geometry.coordinates.push(h[0])}),a},n.meta=kt,n.midpoint=function(e,i){return $i(e,ir(e,i)/2,Ss(e,i))},n.moranIndex=function(e,i){var s=i.inputField,a=i.threshold||1e5,c=i.p||2,h=i.binary||!1,g=Z_(e,{alpha:i.alpha||-1,binary:h,p:c,standardization:i.standardization||!0,threshold:a}),y=[];xt(e,function(tt){var Q=tt.properties||{};y.push(Q[s])});for(var w=Y_(y),x=function(tt){for(var Q=Y_(tt),At=0,Et=0,Dt=tt;Et<Dt.length;Et++){var Tt=Dt[Et];At+=Math.pow(Tt-Q,2)}return At/tt.length}(y),T=0,E=0,P=0,z=0,N=g.length,B=0;B<N;B++){for(var R=0,X=0;X<N;X++)T+=g[B][X]*(y[B]-w)*(y[X]-w),E+=g[B][X],P+=Math.pow(g[B][X]+g[X][B],2),R+=g[B][X]+g[X][B];z+=Math.pow(R,2)}var it=T/E/x,D=-1/(N-1),Y=(N*N*(P*=.5)-N*z+E*E*3)/((N-1)*(N+1)*(E*E))-D*D,K=Math.sqrt(Y);return{expectedMoranIndex:D,moranIndex:it,stdNorm:K,zNorm:(it-D)/K}},n.multiLineString=A,n.multiPoint=F,n.multiPolygon=G,n.nearest=Zh,n.nearestPoint=Zh,n.nearestPointOnLine=ca,n.nearestPointToLine=function(e,i,s){s===void 0&&(s={});var a=s.units,c=s.properties||{},h=function(w){var x=[];switch(w.geometry?w.geometry.type:w.type){case"GeometryCollection":return te(w,function(T){T.type==="Point"&&x.push({type:"Feature",properties:{},geometry:T})}),{type:"FeatureCollection",features:x};case"FeatureCollection":return w.features=w.features.filter(function(T){return T.geometry.type==="Point"}),w;default:throw new Error("points must be a Point Collection")}}(e);if(!h.features.length)throw new Error("points must contain features");if(!i)throw new Error("line is required");if(It(i)!=="LineString")throw new Error("line must be a LineString");var g=1/0,y=null;return xt(h,function(w){var x=Dm(w,i,{units:a});x<g&&(g=x,y=w)}),y&&(y.properties=De({dist:g},y.properties,c)),y},n.planepoint=function(e,i){var s=I(e),a=ut(i).coordinates[0];if(a.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var c=i.properties||{},h=c.a,g=c.b,y=c.c,w=s[0],x=s[1],T=a[0][0],E=a[0][1],P=h!==void 0?h:a[0][2],z=a[1][0],N=a[1][1],B=g!==void 0?g:a[1][2],R=a[2][0],X=a[2][1],it=y!==void 0?y:a[2][2];return(it*(w-T)*(x-N)+P*(w-z)*(x-X)+B*(w-R)*(x-E)-B*(w-T)*(x-X)-it*(w-z)*(x-E)-P*(w-R)*(x-N))/((w-T)*(x-N)+(w-z)*(x-X)+(w-R)*(x-E)-(w-T)*(x-X)-(w-z)*(x-E)-(w-R)*(x-N))},n.point=f,n.pointGrid=rf,n.pointOnFeature=Fm,n.pointOnLine=ca,n.pointOnSurface=Fm,n.pointToLineDistance=Dm,n.points=m,n.pointsWithinPolygon=yc,n.polygon=v,n.polygonSmooth=function(e,i){var s=[],a=i.iterations||1;if(!e)throw new Error("inputPolys is required");return te(e,function(c,h,g){var y,w,x;switch(c.type){case"Polygon":y=[[]];for(var T=0;T<a;T++)x=[[]],w=c,T>0&&(w=v(y).geometry),fI(w,x),y=x.slice(0);s.push(v(y,g));break;case"MultiPolygon":y=[[[]]];for(var E=0;E<a;E++)x=[[[]]],w=c,E>0&&(w=G(y).geometry),gI(w,x),y=x.slice(0);s.push(G(y,g));break;default:throw new Error("geometry is invalid, must be Polygon or MultiPolygon")}}),M(s)},n.polygonTangents=function(e,i){var s,a,c,h,g=U(e),y=U(i),w=zt(i),x=0,T=null;switch(g[0]>w[0]&&g[0]<w[2]&&g[1]>w[1]&&g[1]<w[3]&&(x=(T=Zh(e,zu(i))).properties.featureIndex),It(i)){case"Polygon":s=y[0][x],a=y[0][0],T!==null&&T.geometry.coordinates[1]<g[1]&&(a=y[0][x]),h=cf(y[0][0],y[0][y[0].length-1],g);var E=a_(y[0],g,h,c,s,a);s=E[0],a=E[1];break;case"MultiPolygon":for(var P=0,z=0,N=0,B=0;B<y[0].length;B++){P=B;for(var R=!1,X=0;X<y[0][B].length;X++){if(z=X,N===x){R=!0;break}N++}if(R)break}s=y[0][P][z],a=y[0][P][z],h=cf(y[0][0][0],y[0][0][y[0][0].length-1],g),y.forEach(function(it){var D=a_(it[0],g,h,c,s,a);s=D[0],a=D[1]})}return M([f(s),f(a)])},n.polygonToLine=An,n.polygonToLineString=An,n.polygonize=function(e){var i=FM.fromGeoJson(e);i.deleteDangles(),i.deleteCutEdges();var s=[],a=[];return i.getEdgeRings().filter(function(c){return c.isValid()}).forEach(function(c){c.isHole()?s.push(c):a.push(c)}),s.forEach(function(c){v_.findEdgeRingContaining(c,a)&&a.push(c)}),M(a.map(function(c){return c.toPolygon()}))},n.polygons=_,n.projection=vI,n.propEach=Jt,n.propReduce=tr,n.propertiesContainsFilter=Mb,n.radians2degrees=pt,n.radiansToDegrees=pt,n.radiansToDistance=j,n.radiansToLength=j,n.random=bI,n.randomLineString=rk,n.randomPoint=tk,n.randomPolygon=ek,n.randomPosition=gf,n.rewind=function(e,i){if(!vt(i=i||{}))throw new Error("options is invalid");var s=i.reverse||!1,a=i.mutate||!1;if(!e)throw new Error("<geojson> is required");if(typeof s!="boolean")throw new Error("<reverse> must be a boolean");if(typeof a!="boolean")throw new Error("<mutate> must be a boolean");a===!1&&(e=Si(e));var c=[];switch(e.type){case"GeometryCollection":return te(e,function(h){Ym(h,s)}),e;case"FeatureCollection":return xt(e,function(h){xt(Ym(h,s),function(g){c.push(g)})}),M(c)}return Ym(e,s)},n.rhumbBearing=zl,n.rhumbDestination=ld,n.rhumbDistance=Ll,n.round=W,n.sample=function(e,i){if(!e)throw new Error("featurecollection is required");if(i==null)throw new Error("num is required");if(typeof i!="number")throw new Error("num must be a number");return M(function(s,a){for(var c,h,g=s.slice(0),y=s.length,w=y-a;y-- >w;)c=g[h=Math.floor((y+1)*Math.random())],g[h]=g[y],g[y]=c;return g.slice(w)}(e.features,i))},n.sector=function(e,i,s,a,c){if(!vt(c=c||{}))throw new Error("options is invalid");var h=c.properties;if(!e)throw new Error("center is required");if(s==null)throw new Error("bearing1 is required");if(a==null)throw new Error("bearing2 is required");if(!i)throw new Error("radius is required");if(typeof c!="object")throw new Error("options must be an object");if(lf(s)===lf(a))return Up(e,i,c);var g=U(e),y=Rn(e,i,s,a,c),w=[[g]];return Gt(y,function(x){w[0].push(x)}),w[0].push(g),v(w,h)},n.segmentEach=rr,n.segmentReduce=gr,n.shortestPath=function(e,i,s){if(!vt(s=s||{}))throw new Error("options is invalid");var a=s.resolution,c=s.minDistance,h=s.obstacles||M([]);if(!e)throw new Error("start is required");if(!i)throw new Error("end is required");if(a&&!ft(a)||a<=0)throw new Error("options.resolution must be a number, greater than 0");if(c)throw new Error("options.minDistance is not yet implemented");var g=I(e),y=I(i);switch(e=f(g),i=f(y),It(h)){case"FeatureCollection":if(h.features.length===0)return k([g,y]);break;case"Polygon":h=M([u(ut(h))]);break;default:throw new Error("invalid obstacles")}var w=h;w.features.push(e),w.features.push(i);var x=zt(d_(Hp(zt(w)),1.15));a||(a=ir([x[0],x[1]],[x[2],x[1]],s)/100),w.features.pop(),w.features.pop();for(var T=x[0],E=x[1],P=x[2],z=x[3],N=a/ir([T,E],[P,E],s)*(P-T),B=a/ir([T,E],[T,z],s)*(z-E),R=P-T,X=z-E,it=Math.floor(R/N),D=Math.floor(X/B),Y=(R-it*N)/2,K=[],tt=[],Q=[],At=[],Et=1/0,Dt=1/0,Tt=z-(X-D*B)/2,jt=0;Tt>=E;){for(var Mt=[],Pt=[],St=T+Y,Ft=0;St<=P;){var Lt=f([St,Tt]),Ut=$M(Lt,h);Mt.push(Ut?0:1),Pt.push(St+"|"+Tt);var mt=ir(Lt,e);!Ut&&mt<Et&&(Et=mt,Q={x:Ft,y:jt});var Me=ir(Lt,i);!Ut&&Me<Dt&&(Dt=Me,At={x:Ft,y:jt}),St+=N,Ft++}tt.push(Mt),K.push(Pt),Tt-=B,jt++}var ne=new cd(tt,{diagonal:!0}),Qe=ne.grid[Q.y][Q.x],ye=ne.grid[At.y][At.x],Be=Km.search(ne,Qe,ye),dr=[g];return Be.forEach(function(oi){var wn=K[oi.x][oi.y].split("|");dr.push([+wn[0],+wn[1]])}),dr.push(y),ia(k(dr))},n.simplify=function(e,i){if(!vt(i=i||{}))throw new Error("options is invalid");var s=i.tolerance!==void 0?i.tolerance:1,a=i.highQuality||!1,c=i.mutate||!1;if(!e)throw new Error("geojson is required");if(s&&s<0)throw new Error("invalid tolerance");return c!==!0&&(e=Si(e)),te(e,function(h){(function(g,y,w){var x=g.type;if(x==="Point"||x==="MultiPoint")return g;ia(g,!0);var T=g.coordinates;switch(x){case"LineString":g.coordinates=Em(T,y,w);break;case"MultiLineString":g.coordinates=T.map(function(E){return Em(E,y,w)});break;case"Polygon":g.coordinates=Uh(T,y,w);break;case"MultiPolygon":g.coordinates=T.map(function(E){return Uh(E,y,w)})}})(h,s,a)}),e},n.square=Cm,n.squareGrid=SE,n.standardDeviationalEllipse=function(e,i){if(!vt(i=i||{}))throw new Error("options is invalid");var s=i.steps||64,a=i.weight,c=i.properties||{};if(!ft(s))throw new Error("steps must be a number");if(!vt(c))throw new Error("properties must be a number");var h=Vt(e).length,g=Sb(e,{weight:a}),y=0,w=0,x=0;xt(e,function(Q){var At=Q.properties[a]||1,Et=W_(U(Q),U(g));y+=Math.pow(Et.x,2)*At,w+=Math.pow(Et.y,2)*At,x+=Et.x*Et.y*At});var T=y-w,E=Math.sqrt(Math.pow(T,2)+4*Math.pow(x,2)),P=2*x,z=Math.atan((T+E)/P),N=180*z/Math.PI,B=0,R=0,X=0;xt(e,function(Q){var At=Q.properties[a]||1,Et=W_(U(Q),U(g));B+=Math.pow(Et.x*Math.cos(z)-Et.y*Math.sin(z),2)*At,R+=Math.pow(Et.x*Math.sin(z)+Et.y*Math.cos(z),2)*At,X+=At});var it=Math.sqrt(2*B/X),D=Math.sqrt(2*R/X),Y=G_(g,it,D,{units:"degrees",angle:N,steps:s,properties:c}),K=yc(e,M([Y])),tt={meanCenterCoordinates:U(g),semiMajorAxis:it,semiMinorAxis:D,numberOfFeatures:h,angle:N,percentageWithinEllipse:100*Vt(K).length/h};return Y.properties.standardDeviationalEllipse=tt,Y},n.tag=function(e,i,s,a){return e=Si(e),i=Si(i),xt(e,function(c){c.properties||(c.properties={}),xt(i,function(h){c.properties[a]===void 0&&Ye(c,h)&&(c.properties[a]=h.properties[s])})}),e},n.tesselate=function(e){if(!e.geometry||e.geometry.type!=="Polygon"&&e.geometry.type!=="MultiPolygon")throw new Error("input must be a Polygon or MultiPolygon");var i={type:"FeatureCollection",features:[]};return e.geometry.type==="Polygon"?i.features=Ml(e.geometry.coordinates):e.geometry.coordinates.forEach(function(s){i.features=i.features.concat(Ml(s))}),i},n.tin=wm,n.toMercator=X_,n.toWgs84=K_,n.transformRotate=h_,n.transformScale=d_,n.transformTranslate=function(e,i,s,a){if(!vt(a=a||{}))throw new Error("options is invalid");var c=a.units,h=a.zTranslation,g=a.mutate;if(!e)throw new Error("geojson is required");if(i==null||isNaN(i))throw new Error("distance is required");if(h&&typeof h!="number"&&isNaN(h))throw new Error("zTranslation is not a number");if(h=h!==void 0?h:0,i===0&&h===0)return e;if(s==null||isNaN(s))throw new Error("direction is required");return i<0&&(i=-i,s+=180),g!==!1&&g!==void 0||(e=Si(e)),Gt(e,function(y){var w=U(ld(y,i,s,{units:c}));y[0]=w[0],y[1]=w[1],h&&y.length===3&&(y[2]+=h)}),e},n.triangleGrid=CE,n.truncate=nf,n.union=function(e,i,s){s===void 0&&(s={});var a=ut(e),c=ut(i),h=Nl.union(a.coordinates,c.coordinates);return h.length===0?null:h.length===1?v(h[0],s.properties):G(h,s.properties)},n.unitsFactors=o,n.unkinkPolygon=function(e){var i=[];return oe(e,function(s){s.geometry.type==="Polygon"&&xt(ub(s),function(a){i.push(v(a.geometry.coordinates,s.properties))})}),M(i)},n.validateBBox=Qt,n.validateId=re,n.voronoi=function(e,i){if(!vt(i=i||{}))throw new Error("options is invalid");var s=i.bbox||[-180,-85,180,85];if(!e)throw new Error("points is required");if(!Array.isArray(s))throw new Error("bbox is invalid");return _t(e,"Point","points"),M(function(){var a=tI,c=eI,h=null;function g(y){return new Tb(y.map(function(w,x){var T=[Math.round(a(w,x,y)/wi)*wi,Math.round(c(w,x,y)/wi)*wi];return T.index=x,T.data=w,T}),h)}return g.polygons=function(y){return g(y).polygons()},g.links=function(y){return g(y).links()},g.triangles=function(y){return g(y).triangles()},g.x=function(y){return arguments.length?(a=typeof y=="function"?y:N_(+y),g):a},g.y=function(y){return arguments.length?(c=typeof y=="function"?y:N_(+y),g):c},g.extent=function(y){return arguments.length?(h=y==null?null:[[+y[0][0],+y[0][1]],[+y[1][0],+y[1][1]]],g):h&&[[h[0][0],h[0][1]],[h[1][0],h[1][1]]]},g.size=function(y){return arguments.length?(h=y==null?null:[[0,0],[+y[0],+y[1]]],g):h&&[h[1][0]-h[0][0],h[1][1]-h[0][1]]},g}().x(function(a){return a.geometry.coordinates[0]}).y(function(a){return a.geometry.coordinates[1]}).extent([[s[0],s[1]],[s[2],s[3]]]).polygons(e.features).map(pI))},n.within=yc,Object.defineProperty(n,"__esModule",{value:!0})});var P6={exports:{}};(function(n){(function(r){n.exports=r(KC())})(function(r){r.Map.mergeOptions({smoothWheelZoom:!0,smoothSensitivity:1}),r.Map.SmoothWheelZoom=r.Handler.extend({addHooks:function(){r.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this)},removeHooks:function(){r.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){this._isWheeling||this._onWheelStart(t),this._onWheeling(t)},_onWheelStart:function(t){var o=this._map;this._isWheeling=!0,this._wheelMousePosition=o.mouseEventToContainerPoint(t),this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),this._wheelStartLatLng=o.containerPointToLatLng(this._wheelMousePosition),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),o._panAnim&&o._panAnim.stop(),this._goalZoom=o.getZoom(),this._prevCenter=o.getCenter(),this._prevZoom=o.getZoom(),this._zoomAnimationId=requestAnimationFrame(this._updateWheelZoom.bind(this))},_onWheeling:function(t){var o=this._map;this._goalZoom=this._goalZoom-t.deltaY*.003*o.options.smoothSensitivity,(this._goalZoom<o.getMinZoom()||this._goalZoom>o.getMaxZoom())&&(this._goalZoom=o._limitZoom(this._goalZoom)),this._wheelMousePosition=this._map.mouseEventToContainerPoint(t),clearTimeout(this._timeoutId),this._timeoutId=setTimeout(this._onWheelEnd.bind(this),200),r.DomEvent.preventDefault(t),r.DomEvent.stopPropagation(t)},_onWheelEnd:function(t){this._isWheeling=!1,cancelAnimationFrame(this._zoomAnimationId),this._map.fire("zoomend")},_updateWheelZoom:function(){var t=this._map;if(!(!t.getCenter().equals(this._prevCenter)||t.getZoom()!=this._prevZoom)){this._zoom=t.getZoom()+(this._goalZoom-t.getZoom())*.3,this._zoom=Math.floor(this._zoom*100)/100;var o=this._wheelMousePosition.subtract(this._centerPoint);o.x===0&&o.y===0||(t.options.smoothWheelZoom==="center"?this._center=this._startLatLng:this._center=t.unproject(t.project(this._wheelStartLatLng,this._zoom).subtract(o),this._zoom),this._moved||(t._moveStart(!0,!1),this._moved=!0),t._move(this._center,this._zoom),this._prevCenter=t.getCenter(),this._prevZoom=t.getZoom(),t.fire("viewreset"),this._zoomAnimationId=requestAnimationFrame(this._updateWheelZoom.bind(this)))}}}),r.Map.addInitHook("addHandler","smoothWheelZoom",r.Map.SmoothWheelZoom)})})(P6);function w1(n){return Array.isArray(n)?`[${n.map(r=>w1(r)).join(",")}]`:typeof n=="number"?`${n}`:typeof n=="string"?`"${n}"`:typeof n=="object"&&n!==null?Object.keys(n).sort().map(r=>`${r}:${w1(n[r])}`).join("|"):String(n)}async function M6(n){const r=await crypto.subtle.digest("SHA-1",new TextEncoder().encode(n));return Array.from(new Uint8Array(r)).map(t=>t.toString(16).padStart(2,"0")).join("")}async function JC(n,r=16){return(await M6(String(n))).slice(0,r)}async function I6(n,r){return await JC(w1(n),r)}var ci;(function(n){n.assertEqual=l=>l;function r(l){}n.assertIs=r;function t(l){throw new Error}n.assertNever=t,n.arrayToEnum=l=>{const u={};for(const d of l)u[d]=d;return u},n.getValidEnumValues=l=>{const u=n.objectKeys(l).filter(f=>typeof l[l[f]]!="number"),d={};for(const f of u)d[f]=l[f];return n.objectValues(d)},n.objectValues=l=>n.objectKeys(l).map(function(u){return l[u]}),n.objectKeys=typeof Object.keys=="function"?l=>Object.keys(l):l=>{const u=[];for(const d in l)Object.prototype.hasOwnProperty.call(l,d)&&u.push(d);return u},n.find=(l,u)=>{for(const d of l)if(u(d))return d},n.isInteger=typeof Number.isInteger=="function"?l=>Number.isInteger(l):l=>typeof l=="number"&&isFinite(l)&&Math.floor(l)===l;function o(l,u=" | "){return l.map(d=>typeof d=="string"?`'${d}'`:d).join(u)}n.joinValues=o,n.jsonStringifyReplacer=(l,u)=>typeof u=="bigint"?u.toString():u})(ci||(ci={}));var x1;(function(n){n.mergeShapes=(r,t)=>({...r,...t})})(x1||(x1={}));const Pe=ci.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),tu=n=>{switch(typeof n){case"undefined":return Pe.undefined;case"string":return Pe.string;case"number":return isNaN(n)?Pe.nan:Pe.number;case"boolean":return Pe.boolean;case"function":return Pe.function;case"bigint":return Pe.bigint;case"symbol":return Pe.symbol;case"object":return Array.isArray(n)?Pe.array:n===null?Pe.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?Pe.promise:typeof Map<"u"&&n instanceof Map?Pe.map:typeof Set<"u"&&n instanceof Set?Pe.set:typeof Date<"u"&&n instanceof Date?Pe.date:Pe.object;default:return Pe.unknown}},ue=ci.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),L6=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class Oa extends Error{constructor(r){super(),this.issues=[],this.addIssue=o=>{this.issues=[...this.issues,o]},this.addIssues=(o=[])=>{this.issues=[...this.issues,...o]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=r}get errors(){return this.issues}format(r){const t=r||function(u){return u.message},o={_errors:[]},l=u=>{for(const d of u.issues)if(d.code==="invalid_union")d.unionErrors.map(l);else if(d.code==="invalid_return_type")l(d.returnTypeError);else if(d.code==="invalid_arguments")l(d.argumentsError);else if(d.path.length===0)o._errors.push(t(d));else{let f=o,m=0;for(;m<d.path.length;){const v=d.path[m];m===d.path.length-1?(f[v]=f[v]||{_errors:[]},f[v]._errors.push(t(d))):f[v]=f[v]||{_errors:[]},f=f[v],m++}}};return l(this),o}toString(){return this.message}get message(){return JSON.stringify(this.issues,ci.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(r=t=>t.message){const t={},o=[];for(const l of this.issues)l.path.length>0?(t[l.path[0]]=t[l.path[0]]||[],t[l.path[0]].push(r(l))):o.push(r(l));return{formErrors:o,fieldErrors:t}}get formErrors(){return this.flatten()}}Oa.create=n=>new Oa(n);const Ng=(n,r)=>{let t;switch(n.code){case ue.invalid_type:n.received===Pe.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case ue.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,ci.jsonStringifyReplacer)}`;break;case ue.unrecognized_keys:t=`Unrecognized key(s) in object: ${ci.joinValues(n.keys,", ")}`;break;case ue.invalid_union:t="Invalid input";break;case ue.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${ci.joinValues(n.options)}`;break;case ue.invalid_enum_value:t=`Invalid enum value. Expected ${ci.joinValues(n.options)}, received '${n.received}'`;break;case ue.invalid_arguments:t="Invalid function arguments";break;case ue.invalid_return_type:t="Invalid function return type";break;case ue.invalid_date:t="Invalid date";break;case ue.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:ci.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case ue.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case ue.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case ue.custom:t="Invalid input";break;case ue.invalid_intersection_types:t="Intersection results could not be merged";break;case ue.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case ue.not_finite:t="Number must be finite";break;default:t=r.defaultError,ci.assertNever(n)}return{message:t}};let QC=Ng;function R6(n){QC=n}function Wv(){return QC}const Zv=n=>{const{data:r,path:t,errorMaps:o,issueData:l}=n,u=[...t,...l.path||[]],d={...l,path:u};let f="";const m=o.filter(v=>!!v).slice().reverse();for(const v of m)f=v(d,{data:r,defaultError:f}).message;return{...l,path:u,message:l.message||f}},A6=[];function Ie(n,r){const t=Zv({issueData:r,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Wv(),Ng].filter(o=>!!o)});n.common.issues.push(t)}class mo{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(r,t){const o=[];for(const l of t){if(l.status==="aborted")return ur;l.status==="dirty"&&r.dirty(),o.push(l.value)}return{status:r.value,value:o}}static async mergeObjectAsync(r,t){const o=[];for(const l of t)o.push({key:await l.key,value:await l.value});return mo.mergeObjectSync(r,o)}static mergeObjectSync(r,t){const o={};for(const l of t){const{key:u,value:d}=l;if(u.status==="aborted"||d.status==="aborted")return ur;u.status==="dirty"&&r.dirty(),d.status==="dirty"&&r.dirty(),u.value!=="__proto__"&&(typeof d.value<"u"||l.alwaysSet)&&(o[u.value]=d.value)}return{status:r.value,value:o}}}const ur=Object.freeze({status:"aborted"}),$C=n=>({status:"dirty",value:n}),Lo=n=>({status:"valid",value:n}),_1=n=>n.status==="aborted",k1=n=>n.status==="dirty",Dg=n=>n.status==="valid",Yv=n=>typeof Promise<"u"&&n instanceof Promise;var Ve;(function(n){n.errToObj=r=>typeof r=="string"?{message:r}:r||{},n.toString=r=>typeof r=="string"?r:r==null?void 0:r.message})(Ve||(Ve={}));class gl{constructor(r,t,o,l){this._cachedPath=[],this.parent=r,this.data=t,this._path=o,this._key=l}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const oT=(n,r)=>{if(Dg(r))return{success:!0,data:r.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Oa(n.common.issues);return this._error=t,this._error}}};function fr(n){if(!n)return{};const{errorMap:r,invalid_type_error:t,required_error:o,description:l}=n;if(r&&(t||o))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return r?{errorMap:r,description:l}:{errorMap:(u,d)=>u.code!=="invalid_type"?{message:d.defaultError}:typeof d.data>"u"?{message:o??d.defaultError}:{message:t??d.defaultError},description:l}}class yr{constructor(r){this.spa=this.safeParseAsync,this._def=r,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(r){return tu(r.data)}_getOrReturnCtx(r,t){return t||{common:r.parent.common,data:r.data,parsedType:tu(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}_processInputParams(r){return{status:new mo,ctx:{common:r.parent.common,data:r.data,parsedType:tu(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}}_parseSync(r){const t=this._parse(r);if(Yv(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(r){const t=this._parse(r);return Promise.resolve(t)}parse(r,t){const o=this.safeParse(r,t);if(o.success)return o.data;throw o.error}safeParse(r,t){var o;const l={common:{issues:[],async:(o=t==null?void 0:t.async)!==null&&o!==void 0?o:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:tu(r)},u=this._parseSync({data:r,path:l.path,parent:l});return oT(l,u)}async parseAsync(r,t){const o=await this.safeParseAsync(r,t);if(o.success)return o.data;throw o.error}async safeParseAsync(r,t){const o={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:tu(r)},l=this._parse({data:r,path:o.path,parent:o}),u=await(Yv(l)?l:Promise.resolve(l));return oT(o,u)}refine(r,t){const o=l=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(l):t;return this._refinement((l,u)=>{const d=r(l),f=()=>u.addIssue({code:ue.custom,...o(l)});return typeof Promise<"u"&&d instanceof Promise?d.then(m=>m?!0:(f(),!1)):d?!0:(f(),!1)})}refinement(r,t){return this._refinement((o,l)=>r(o)?!0:(l.addIssue(typeof t=="function"?t(o,l):t),!1))}_refinement(r){return new Da({schema:this,typeName:$e.ZodEffects,effect:{type:"refinement",refinement:r}})}superRefine(r){return this._refinement(r)}optional(){return nc.create(this,this._def)}nullable(){return Ph.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return za.create(this,this._def)}promise(){return xp.create(this,this._def)}or(r){return Hg.create([this,r],this._def)}and(r){return Ug.create(this,r,this._def)}transform(r){return new Da({...fr(this._def),schema:this,typeName:$e.ZodEffects,effect:{type:"transform",transform:r}})}default(r){const t=typeof r=="function"?r:()=>r;return new Zg({...fr(this._def),innerType:this,defaultValue:t,typeName:$e.ZodDefault})}brand(){return new eP({typeName:$e.ZodBranded,type:this,...fr(this._def)})}catch(r){const t=typeof r=="function"?r:()=>r;return new Qv({...fr(this._def),innerType:this,catchValue:t,typeName:$e.ZodCatch})}describe(r){const t=this.constructor;return new t({...this._def,description:r})}pipe(r){return am.create(this,r)}readonly(){return ty.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const O6=/^c[^\s-]{8,}$/i,z6=/^[a-z][a-z0-9]*$/,N6=/^[0-9A-HJKMNP-TV-Z]{26}$/,D6=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,F6=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,B6="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ow;const j6=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,H6=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,U6=n=>n.precision?n.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${n.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${n.precision}}Z$`):n.precision===0?n.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):n.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function G6(n,r){return!!((r==="v4"||!r)&&j6.test(n)||(r==="v6"||!r)&&H6.test(n))}class Ma extends yr{_parse(r){if(this._def.coerce&&(r.data=String(r.data)),this._getType(r)!==Pe.string){const l=this._getOrReturnCtx(r);return Ie(l,{code:ue.invalid_type,expected:Pe.string,received:l.parsedType}),ur}const t=new mo;let o;for(const l of this._def.checks)if(l.kind==="min")r.data.length<l.value&&(o=this._getOrReturnCtx(r,o),Ie(o,{code:ue.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),t.dirty());else if(l.kind==="max")r.data.length>l.value&&(o=this._getOrReturnCtx(r,o),Ie(o,{code:ue.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),t.dirty());else if(l.kind==="length"){const u=r.data.length>l.value,d=r.data.length<l.value;(u||d)&&(o=this._getOrReturnCtx(r,o),u?Ie(o,{code:ue.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):d&&Ie(o,{code:ue.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),t.dirty())}else if(l.kind==="email")F6.test(r.data)||(o=this._getOrReturnCtx(r,o),Ie(o,{validation:"email",code:ue.invalid_string,message:l.message}),t.dirty());else if(l.kind==="emoji")Ow||(Ow=new RegExp(B6,"u")),Ow.test(r.data)||(o=this._getOrReturnCtx(r,o),Ie(o,{validation:"emoji",code:ue.invalid_string,message:l.message}),t.dirty());else if(l.kind==="uuid")D6.test(r.data)||(o=this._getOrReturnCtx(r,o),Ie(o,{validation:"uuid",code:ue.invalid_string,message:l.message}),t.dirty());else if(l.kind==="cuid")O6.test(r.data)||(o=this._getOrReturnCtx(r,o),Ie(o,{validation:"cuid",code:ue.invalid_string,message:l.message}),t.dirty());else if(l.kind==="cuid2")z6.test(r.data)||(o=this._getOrReturnCtx(r,o),Ie(o,{validation:"cuid2",code:ue.invalid_string,message:l.message}),t.dirty());else if(l.kind==="ulid")N6.test(r.data)||(o=this._getOrReturnCtx(r,o),Ie(o,{validation:"ulid",code:ue.invalid_string,message:l.message}),t.dirty());else if(l.kind==="url")try{new URL(r.data)}catch{o=this._getOrReturnCtx(r,o),Ie(o,{validation:"url",code:ue.invalid_string,message:l.message}),t.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(r.data)||(o=this._getOrReturnCtx(r,o),Ie(o,{validation:"regex",code:ue.invalid_string,message:l.message}),t.dirty())):l.kind==="trim"?r.data=r.data.trim():l.kind==="includes"?r.data.includes(l.value,l.position)||(o=this._getOrReturnCtx(r,o),Ie(o,{code:ue.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),t.dirty()):l.kind==="toLowerCase"?r.data=r.data.toLowerCase():l.kind==="toUpperCase"?r.data=r.data.toUpperCase():l.kind==="startsWith"?r.data.startsWith(l.value)||(o=this._getOrReturnCtx(r,o),Ie(o,{code:ue.invalid_string,validation:{startsWith:l.value},message:l.message}),t.dirty()):l.kind==="endsWith"?r.data.endsWith(l.value)||(o=this._getOrReturnCtx(r,o),Ie(o,{code:ue.invalid_string,validation:{endsWith:l.value},message:l.message}),t.dirty()):l.kind==="datetime"?U6(l).test(r.data)||(o=this._getOrReturnCtx(r,o),Ie(o,{code:ue.invalid_string,validation:"datetime",message:l.message}),t.dirty()):l.kind==="ip"?G6(r.data,l.version)||(o=this._getOrReturnCtx(r,o),Ie(o,{validation:"ip",code:ue.invalid_string,message:l.message}),t.dirty()):ci.assertNever(l);return{status:t.value,value:r.data}}_regex(r,t,o){return this.refinement(l=>r.test(l),{validation:t,code:ue.invalid_string,...Ve.errToObj(o)})}_addCheck(r){return new Ma({...this._def,checks:[...this._def.checks,r]})}email(r){return this._addCheck({kind:"email",...Ve.errToObj(r)})}url(r){return this._addCheck({kind:"url",...Ve.errToObj(r)})}emoji(r){return this._addCheck({kind:"emoji",...Ve.errToObj(r)})}uuid(r){return this._addCheck({kind:"uuid",...Ve.errToObj(r)})}cuid(r){return this._addCheck({kind:"cuid",...Ve.errToObj(r)})}cuid2(r){return this._addCheck({kind:"cuid2",...Ve.errToObj(r)})}ulid(r){return this._addCheck({kind:"ulid",...Ve.errToObj(r)})}ip(r){return this._addCheck({kind:"ip",...Ve.errToObj(r)})}datetime(r){var t;return typeof r=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:r}):this._addCheck({kind:"datetime",precision:typeof(r==null?void 0:r.precision)>"u"?null:r==null?void 0:r.precision,offset:(t=r==null?void 0:r.offset)!==null&&t!==void 0?t:!1,...Ve.errToObj(r==null?void 0:r.message)})}regex(r,t){return this._addCheck({kind:"regex",regex:r,...Ve.errToObj(t)})}includes(r,t){return this._addCheck({kind:"includes",value:r,position:t==null?void 0:t.position,...Ve.errToObj(t==null?void 0:t.message)})}startsWith(r,t){return this._addCheck({kind:"startsWith",value:r,...Ve.errToObj(t)})}endsWith(r,t){return this._addCheck({kind:"endsWith",value:r,...Ve.errToObj(t)})}min(r,t){return this._addCheck({kind:"min",value:r,...Ve.errToObj(t)})}max(r,t){return this._addCheck({kind:"max",value:r,...Ve.errToObj(t)})}length(r,t){return this._addCheck({kind:"length",value:r,...Ve.errToObj(t)})}nonempty(r){return this.min(1,Ve.errToObj(r))}trim(){return new Ma({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ma({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ma({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(r=>r.kind==="datetime")}get isEmail(){return!!this._def.checks.find(r=>r.kind==="email")}get isURL(){return!!this._def.checks.find(r=>r.kind==="url")}get isEmoji(){return!!this._def.checks.find(r=>r.kind==="emoji")}get isUUID(){return!!this._def.checks.find(r=>r.kind==="uuid")}get isCUID(){return!!this._def.checks.find(r=>r.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(r=>r.kind==="cuid2")}get isULID(){return!!this._def.checks.find(r=>r.kind==="ulid")}get isIP(){return!!this._def.checks.find(r=>r.kind==="ip")}get minLength(){let r=null;for(const t of this._def.checks)t.kind==="min"&&(r===null||t.value>r)&&(r=t.value);return r}get maxLength(){let r=null;for(const t of this._def.checks)t.kind==="max"&&(r===null||t.value<r)&&(r=t.value);return r}}Ma.create=n=>{var r;return new Ma({checks:[],typeName:$e.ZodString,coerce:(r=n==null?void 0:n.coerce)!==null&&r!==void 0?r:!1,...fr(n)})};function q6(n,r){const t=(n.toString().split(".")[1]||"").length,o=(r.toString().split(".")[1]||"").length,l=t>o?t:o,u=parseInt(n.toFixed(l).replace(".","")),d=parseInt(r.toFixed(l).replace(".",""));return u%d/Math.pow(10,l)}class gu extends yr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(r){if(this._def.coerce&&(r.data=Number(r.data)),this._getType(r)!==Pe.number){const l=this._getOrReturnCtx(r);return Ie(l,{code:ue.invalid_type,expected:Pe.number,received:l.parsedType}),ur}let t;const o=new mo;for(const l of this._def.checks)l.kind==="int"?ci.isInteger(r.data)||(t=this._getOrReturnCtx(r,t),Ie(t,{code:ue.invalid_type,expected:"integer",received:"float",message:l.message}),o.dirty()):l.kind==="min"?(l.inclusive?r.data<l.value:r.data<=l.value)&&(t=this._getOrReturnCtx(r,t),Ie(t,{code:ue.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),o.dirty()):l.kind==="max"?(l.inclusive?r.data>l.value:r.data>=l.value)&&(t=this._getOrReturnCtx(r,t),Ie(t,{code:ue.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),o.dirty()):l.kind==="multipleOf"?q6(r.data,l.value)!==0&&(t=this._getOrReturnCtx(r,t),Ie(t,{code:ue.not_multiple_of,multipleOf:l.value,message:l.message}),o.dirty()):l.kind==="finite"?Number.isFinite(r.data)||(t=this._getOrReturnCtx(r,t),Ie(t,{code:ue.not_finite,message:l.message}),o.dirty()):ci.assertNever(l);return{status:o.value,value:r.data}}gte(r,t){return this.setLimit("min",r,!0,Ve.toString(t))}gt(r,t){return this.setLimit("min",r,!1,Ve.toString(t))}lte(r,t){return this.setLimit("max",r,!0,Ve.toString(t))}lt(r,t){return this.setLimit("max",r,!1,Ve.toString(t))}setLimit(r,t,o,l){return new gu({...this._def,checks:[...this._def.checks,{kind:r,value:t,inclusive:o,message:Ve.toString(l)}]})}_addCheck(r){return new gu({...this._def,checks:[...this._def.checks,r]})}int(r){return this._addCheck({kind:"int",message:Ve.toString(r)})}positive(r){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ve.toString(r)})}negative(r){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ve.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ve.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ve.toString(r)})}multipleOf(r,t){return this._addCheck({kind:"multipleOf",value:r,message:Ve.toString(t)})}finite(r){return this._addCheck({kind:"finite",message:Ve.toString(r)})}safe(r){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ve.toString(r)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ve.toString(r)})}get minValue(){let r=null;for(const t of this._def.checks)t.kind==="min"&&(r===null||t.value>r)&&(r=t.value);return r}get maxValue(){let r=null;for(const t of this._def.checks)t.kind==="max"&&(r===null||t.value<r)&&(r=t.value);return r}get isInt(){return!!this._def.checks.find(r=>r.kind==="int"||r.kind==="multipleOf"&&ci.isInteger(r.value))}get isFinite(){let r=null,t=null;for(const o of this._def.checks){if(o.kind==="finite"||o.kind==="int"||o.kind==="multipleOf")return!0;o.kind==="min"?(t===null||o.value>t)&&(t=o.value):o.kind==="max"&&(r===null||o.value<r)&&(r=o.value)}return Number.isFinite(t)&&Number.isFinite(r)}}gu.create=n=>new gu({checks:[],typeName:$e.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...fr(n)});class mu extends yr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(r){if(this._def.coerce&&(r.data=BigInt(r.data)),this._getType(r)!==Pe.bigint){const l=this._getOrReturnCtx(r);return Ie(l,{code:ue.invalid_type,expected:Pe.bigint,received:l.parsedType}),ur}let t;const o=new mo;for(const l of this._def.checks)l.kind==="min"?(l.inclusive?r.data<l.value:r.data<=l.value)&&(t=this._getOrReturnCtx(r,t),Ie(t,{code:ue.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),o.dirty()):l.kind==="max"?(l.inclusive?r.data>l.value:r.data>=l.value)&&(t=this._getOrReturnCtx(r,t),Ie(t,{code:ue.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),o.dirty()):l.kind==="multipleOf"?r.data%l.value!==BigInt(0)&&(t=this._getOrReturnCtx(r,t),Ie(t,{code:ue.not_multiple_of,multipleOf:l.value,message:l.message}),o.dirty()):ci.assertNever(l);return{status:o.value,value:r.data}}gte(r,t){return this.setLimit("min",r,!0,Ve.toString(t))}gt(r,t){return this.setLimit("min",r,!1,Ve.toString(t))}lte(r,t){return this.setLimit("max",r,!0,Ve.toString(t))}lt(r,t){return this.setLimit("max",r,!1,Ve.toString(t))}setLimit(r,t,o,l){return new mu({...this._def,checks:[...this._def.checks,{kind:r,value:t,inclusive:o,message:Ve.toString(l)}]})}_addCheck(r){return new mu({...this._def,checks:[...this._def.checks,r]})}positive(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ve.toString(r)})}negative(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ve.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ve.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ve.toString(r)})}multipleOf(r,t){return this._addCheck({kind:"multipleOf",value:r,message:Ve.toString(t)})}get minValue(){let r=null;for(const t of this._def.checks)t.kind==="min"&&(r===null||t.value>r)&&(r=t.value);return r}get maxValue(){let r=null;for(const t of this._def.checks)t.kind==="max"&&(r===null||t.value<r)&&(r=t.value);return r}}mu.create=n=>{var r;return new mu({checks:[],typeName:$e.ZodBigInt,coerce:(r=n==null?void 0:n.coerce)!==null&&r!==void 0?r:!1,...fr(n)})};class Fg extends yr{_parse(r){if(this._def.coerce&&(r.data=!!r.data),this._getType(r)!==Pe.boolean){const t=this._getOrReturnCtx(r);return Ie(t,{code:ue.invalid_type,expected:Pe.boolean,received:t.parsedType}),ur}return Lo(r.data)}}Fg.create=n=>new Fg({typeName:$e.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...fr(n)});class Sh extends yr{_parse(r){if(this._def.coerce&&(r.data=new Date(r.data)),this._getType(r)!==Pe.date){const l=this._getOrReturnCtx(r);return Ie(l,{code:ue.invalid_type,expected:Pe.date,received:l.parsedType}),ur}if(isNaN(r.data.getTime())){const l=this._getOrReturnCtx(r);return Ie(l,{code:ue.invalid_date}),ur}const t=new mo;let o;for(const l of this._def.checks)l.kind==="min"?r.data.getTime()<l.value&&(o=this._getOrReturnCtx(r,o),Ie(o,{code:ue.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),t.dirty()):l.kind==="max"?r.data.getTime()>l.value&&(o=this._getOrReturnCtx(r,o),Ie(o,{code:ue.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),t.dirty()):ci.assertNever(l);return{status:t.value,value:new Date(r.data.getTime())}}_addCheck(r){return new Sh({...this._def,checks:[...this._def.checks,r]})}min(r,t){return this._addCheck({kind:"min",value:r.getTime(),message:Ve.toString(t)})}max(r,t){return this._addCheck({kind:"max",value:r.getTime(),message:Ve.toString(t)})}get minDate(){let r=null;for(const t of this._def.checks)t.kind==="min"&&(r===null||t.value>r)&&(r=t.value);return r!=null?new Date(r):null}get maxDate(){let r=null;for(const t of this._def.checks)t.kind==="max"&&(r===null||t.value<r)&&(r=t.value);return r!=null?new Date(r):null}}Sh.create=n=>new Sh({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:$e.ZodDate,...fr(n)});class Xv extends yr{_parse(r){if(this._getType(r)!==Pe.symbol){const t=this._getOrReturnCtx(r);return Ie(t,{code:ue.invalid_type,expected:Pe.symbol,received:t.parsedType}),ur}return Lo(r.data)}}Xv.create=n=>new Xv({typeName:$e.ZodSymbol,...fr(n)});class Bg extends yr{_parse(r){if(this._getType(r)!==Pe.undefined){const t=this._getOrReturnCtx(r);return Ie(t,{code:ue.invalid_type,expected:Pe.undefined,received:t.parsedType}),ur}return Lo(r.data)}}Bg.create=n=>new Bg({typeName:$e.ZodUndefined,...fr(n)});class jg extends yr{_parse(r){if(this._getType(r)!==Pe.null){const t=this._getOrReturnCtx(r);return Ie(t,{code:ue.invalid_type,expected:Pe.null,received:t.parsedType}),ur}return Lo(r.data)}}jg.create=n=>new jg({typeName:$e.ZodNull,...fr(n)});class wp extends yr{constructor(){super(...arguments),this._any=!0}_parse(r){return Lo(r.data)}}wp.create=n=>new wp({typeName:$e.ZodAny,...fr(n)});class wh extends yr{constructor(){super(...arguments),this._unknown=!0}_parse(r){return Lo(r.data)}}wh.create=n=>new wh({typeName:$e.ZodUnknown,...fr(n)});class cc extends yr{_parse(r){const t=this._getOrReturnCtx(r);return Ie(t,{code:ue.invalid_type,expected:Pe.never,received:t.parsedType}),ur}}cc.create=n=>new cc({typeName:$e.ZodNever,...fr(n)});class Kv extends yr{_parse(r){if(this._getType(r)!==Pe.undefined){const t=this._getOrReturnCtx(r);return Ie(t,{code:ue.invalid_type,expected:Pe.void,received:t.parsedType}),ur}return Lo(r.data)}}Kv.create=n=>new Kv({typeName:$e.ZodVoid,...fr(n)});class za extends yr{_parse(r){const{ctx:t,status:o}=this._processInputParams(r),l=this._def;if(t.parsedType!==Pe.array)return Ie(t,{code:ue.invalid_type,expected:Pe.array,received:t.parsedType}),ur;if(l.exactLength!==null){const d=t.data.length>l.exactLength.value,f=t.data.length<l.exactLength.value;(d||f)&&(Ie(t,{code:d?ue.too_big:ue.too_small,minimum:f?l.exactLength.value:void 0,maximum:d?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),o.dirty())}if(l.minLength!==null&&t.data.length<l.minLength.value&&(Ie(t,{code:ue.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),o.dirty()),l.maxLength!==null&&t.data.length>l.maxLength.value&&(Ie(t,{code:ue.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),o.dirty()),t.common.async)return Promise.all([...t.data].map((d,f)=>l.type._parseAsync(new gl(t,d,t.path,f)))).then(d=>mo.mergeArray(o,d));const u=[...t.data].map((d,f)=>l.type._parseSync(new gl(t,d,t.path,f)));return mo.mergeArray(o,u)}get element(){return this._def.type}min(r,t){return new za({...this._def,minLength:{value:r,message:Ve.toString(t)}})}max(r,t){return new za({...this._def,maxLength:{value:r,message:Ve.toString(t)}})}length(r,t){return new za({...this._def,exactLength:{value:r,message:Ve.toString(t)}})}nonempty(r){return this.min(1,r)}}za.create=(n,r)=>new za({type:n,minLength:null,maxLength:null,exactLength:null,typeName:$e.ZodArray,...fr(r)});function Yd(n){if(n instanceof Zi){const r={};for(const t in n.shape){const o=n.shape[t];r[t]=nc.create(Yd(o))}return new Zi({...n._def,shape:()=>r})}else return n instanceof za?new za({...n._def,type:Yd(n.element)}):n instanceof nc?nc.create(Yd(n.unwrap())):n instanceof Ph?Ph.create(Yd(n.unwrap())):n instanceof ml?ml.create(n.items.map(r=>Yd(r))):n}class Zi extends yr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const r=this._def.shape(),t=ci.objectKeys(r);return this._cached={shape:r,keys:t}}_parse(r){if(this._getType(r)!==Pe.object){const m=this._getOrReturnCtx(r);return Ie(m,{code:ue.invalid_type,expected:Pe.object,received:m.parsedType}),ur}const{status:t,ctx:o}=this._processInputParams(r),{shape:l,keys:u}=this._getCached(),d=[];if(!(this._def.catchall instanceof cc&&this._def.unknownKeys==="strip"))for(const m in o.data)u.includes(m)||d.push(m);const f=[];for(const m of u){const v=l[m],_=o.data[m];f.push({key:{status:"valid",value:m},value:v._parse(new gl(o,_,o.path,m)),alwaysSet:m in o.data})}if(this._def.catchall instanceof cc){const m=this._def.unknownKeys;if(m==="passthrough")for(const v of d)f.push({key:{status:"valid",value:v},value:{status:"valid",value:o.data[v]}});else if(m==="strict")d.length>0&&(Ie(o,{code:ue.unrecognized_keys,keys:d}),t.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const v of d){const _=o.data[v];f.push({key:{status:"valid",value:v},value:m._parse(new gl(o,_,o.path,v)),alwaysSet:v in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const m=[];for(const v of f){const _=await v.key;m.push({key:_,value:await v.value,alwaysSet:v.alwaysSet})}return m}).then(m=>mo.mergeObjectSync(t,m)):mo.mergeObjectSync(t,f)}get shape(){return this._def.shape()}strict(r){return Ve.errToObj,new Zi({...this._def,unknownKeys:"strict",...r!==void 0?{errorMap:(t,o)=>{var l,u,d,f;const m=(d=(u=(l=this._def).errorMap)===null||u===void 0?void 0:u.call(l,t,o).message)!==null&&d!==void 0?d:o.defaultError;return t.code==="unrecognized_keys"?{message:(f=Ve.errToObj(r).message)!==null&&f!==void 0?f:m}:{message:m}}}:{}})}strip(){return new Zi({...this._def,unknownKeys:"strip"})}passthrough(){return new Zi({...this._def,unknownKeys:"passthrough"})}extend(r){return new Zi({...this._def,shape:()=>({...this._def.shape(),...r})})}merge(r){return new Zi({unknownKeys:r._def.unknownKeys,catchall:r._def.catchall,shape:()=>({...this._def.shape(),...r._def.shape()}),typeName:$e.ZodObject})}setKey(r,t){return this.augment({[r]:t})}catchall(r){return new Zi({...this._def,catchall:r})}pick(r){const t={};return ci.objectKeys(r).forEach(o=>{r[o]&&this.shape[o]&&(t[o]=this.shape[o])}),new Zi({...this._def,shape:()=>t})}omit(r){const t={};return ci.objectKeys(this.shape).forEach(o=>{r[o]||(t[o]=this.shape[o])}),new Zi({...this._def,shape:()=>t})}deepPartial(){return Yd(this)}partial(r){const t={};return ci.objectKeys(this.shape).forEach(o=>{const l=this.shape[o];r&&!r[o]?t[o]=l:t[o]=l.optional()}),new Zi({...this._def,shape:()=>t})}required(r){const t={};return ci.objectKeys(this.shape).forEach(o=>{if(r&&!r[o])t[o]=this.shape[o];else{let l=this.shape[o];for(;l instanceof nc;)l=l._def.innerType;t[o]=l}}),new Zi({...this._def,shape:()=>t})}keyof(){return tP(ci.objectKeys(this.shape))}}Zi.create=(n,r)=>new Zi({shape:()=>n,unknownKeys:"strip",catchall:cc.create(),typeName:$e.ZodObject,...fr(r)});Zi.strictCreate=(n,r)=>new Zi({shape:()=>n,unknownKeys:"strict",catchall:cc.create(),typeName:$e.ZodObject,...fr(r)});Zi.lazycreate=(n,r)=>new Zi({shape:n,unknownKeys:"strip",catchall:cc.create(),typeName:$e.ZodObject,...fr(r)});class Hg extends yr{_parse(r){const{ctx:t}=this._processInputParams(r),o=this._def.options;function l(u){for(const f of u)if(f.result.status==="valid")return f.result;for(const f of u)if(f.result.status==="dirty")return t.common.issues.push(...f.ctx.common.issues),f.result;const d=u.map(f=>new Oa(f.ctx.common.issues));return Ie(t,{code:ue.invalid_union,unionErrors:d}),ur}if(t.common.async)return Promise.all(o.map(async u=>{const d={...t,common:{...t.common,issues:[]},parent:null};return{result:await u._parseAsync({data:t.data,path:t.path,parent:d}),ctx:d}})).then(l);{let u;const d=[];for(const m of o){const v={...t,common:{...t.common,issues:[]},parent:null},_=m._parseSync({data:t.data,path:t.path,parent:v});if(_.status==="valid")return _;_.status==="dirty"&&!u&&(u={result:_,ctx:v}),v.common.issues.length&&d.push(v.common.issues)}if(u)return t.common.issues.push(...u.ctx.common.issues),u.result;const f=d.map(m=>new Oa(m));return Ie(t,{code:ue.invalid_union,unionErrors:f}),ur}}get options(){return this._def.options}}Hg.create=(n,r)=>new Hg({options:n,typeName:$e.ZodUnion,...fr(r)});const bv=n=>n instanceof qg?bv(n.schema):n instanceof Da?bv(n.innerType()):n instanceof Vg?[n.value]:n instanceof vu?n.options:n instanceof Wg?Object.keys(n.enum):n instanceof Zg?bv(n._def.innerType):n instanceof Bg?[void 0]:n instanceof jg?[null]:null;class Iy extends yr{_parse(r){const{ctx:t}=this._processInputParams(r);if(t.parsedType!==Pe.object)return Ie(t,{code:ue.invalid_type,expected:Pe.object,received:t.parsedType}),ur;const o=this.discriminator,l=t.data[o],u=this.optionsMap.get(l);return u?t.common.async?u._parseAsync({data:t.data,path:t.path,parent:t}):u._parseSync({data:t.data,path:t.path,parent:t}):(Ie(t,{code:ue.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[o]}),ur)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(r,t,o){const l=new Map;for(const u of t){const d=bv(u.shape[r]);if(!d)throw new Error(`A discriminator value for key \`${r}\` could not be extracted from all schema options`);for(const f of d){if(l.has(f))throw new Error(`Discriminator property ${String(r)} has duplicate value ${String(f)}`);l.set(f,u)}}return new Iy({typeName:$e.ZodDiscriminatedUnion,discriminator:r,options:t,optionsMap:l,...fr(o)})}}function E1(n,r){const t=tu(n),o=tu(r);if(n===r)return{valid:!0,data:n};if(t===Pe.object&&o===Pe.object){const l=ci.objectKeys(r),u=ci.objectKeys(n).filter(f=>l.indexOf(f)!==-1),d={...n,...r};for(const f of u){const m=E1(n[f],r[f]);if(!m.valid)return{valid:!1};d[f]=m.data}return{valid:!0,data:d}}else if(t===Pe.array&&o===Pe.array){if(n.length!==r.length)return{valid:!1};const l=[];for(let u=0;u<n.length;u++){const d=n[u],f=r[u],m=E1(d,f);if(!m.valid)return{valid:!1};l.push(m.data)}return{valid:!0,data:l}}else return t===Pe.date&&o===Pe.date&&+n==+r?{valid:!0,data:n}:{valid:!1}}class Ug extends yr{_parse(r){const{status:t,ctx:o}=this._processInputParams(r),l=(u,d)=>{if(_1(u)||_1(d))return ur;const f=E1(u.value,d.value);return f.valid?((k1(u)||k1(d))&&t.dirty(),{status:t.value,value:f.data}):(Ie(o,{code:ue.invalid_intersection_types}),ur)};return o.common.async?Promise.all([this._def.left._parseAsync({data:o.data,path:o.path,parent:o}),this._def.right._parseAsync({data:o.data,path:o.path,parent:o})]).then(([u,d])=>l(u,d)):l(this._def.left._parseSync({data:o.data,path:o.path,parent:o}),this._def.right._parseSync({data:o.data,path:o.path,parent:o}))}}Ug.create=(n,r,t)=>new Ug({left:n,right:r,typeName:$e.ZodIntersection,...fr(t)});class ml extends yr{_parse(r){const{status:t,ctx:o}=this._processInputParams(r);if(o.parsedType!==Pe.array)return Ie(o,{code:ue.invalid_type,expected:Pe.array,received:o.parsedType}),ur;if(o.data.length<this._def.items.length)return Ie(o,{code:ue.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ur;!this._def.rest&&o.data.length>this._def.items.length&&(Ie(o,{code:ue.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const l=[...o.data].map((u,d)=>{const f=this._def.items[d]||this._def.rest;return f?f._parse(new gl(o,u,o.path,d)):null}).filter(u=>!!u);return o.common.async?Promise.all(l).then(u=>mo.mergeArray(t,u)):mo.mergeArray(t,l)}get items(){return this._def.items}rest(r){return new ml({...this._def,rest:r})}}ml.create=(n,r)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ml({items:n,typeName:$e.ZodTuple,rest:null,...fr(r)})};class Gg extends yr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:t,ctx:o}=this._processInputParams(r);if(o.parsedType!==Pe.object)return Ie(o,{code:ue.invalid_type,expected:Pe.object,received:o.parsedType}),ur;const l=[],u=this._def.keyType,d=this._def.valueType;for(const f in o.data)l.push({key:u._parse(new gl(o,f,o.path,f)),value:d._parse(new gl(o,o.data[f],o.path,f))});return o.common.async?mo.mergeObjectAsync(t,l):mo.mergeObjectSync(t,l)}get element(){return this._def.valueType}static create(r,t,o){return t instanceof yr?new Gg({keyType:r,valueType:t,typeName:$e.ZodRecord,...fr(o)}):new Gg({keyType:Ma.create(),valueType:r,typeName:$e.ZodRecord,...fr(t)})}}class Jv extends yr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:t,ctx:o}=this._processInputParams(r);if(o.parsedType!==Pe.map)return Ie(o,{code:ue.invalid_type,expected:Pe.map,received:o.parsedType}),ur;const l=this._def.keyType,u=this._def.valueType,d=[...o.data.entries()].map(([f,m],v)=>({key:l._parse(new gl(o,f,o.path,[v,"key"])),value:u._parse(new gl(o,m,o.path,[v,"value"]))}));if(o.common.async){const f=new Map;return Promise.resolve().then(async()=>{for(const m of d){const v=await m.key,_=await m.value;if(v.status==="aborted"||_.status==="aborted")return ur;(v.status==="dirty"||_.status==="dirty")&&t.dirty(),f.set(v.value,_.value)}return{status:t.value,value:f}})}else{const f=new Map;for(const m of d){const v=m.key,_=m.value;if(v.status==="aborted"||_.status==="aborted")return ur;(v.status==="dirty"||_.status==="dirty")&&t.dirty(),f.set(v.value,_.value)}return{status:t.value,value:f}}}}Jv.create=(n,r,t)=>new Jv({valueType:r,keyType:n,typeName:$e.ZodMap,...fr(t)});class Ch extends yr{_parse(r){const{status:t,ctx:o}=this._processInputParams(r);if(o.parsedType!==Pe.set)return Ie(o,{code:ue.invalid_type,expected:Pe.set,received:o.parsedType}),ur;const l=this._def;l.minSize!==null&&o.data.size<l.minSize.value&&(Ie(o,{code:ue.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),t.dirty()),l.maxSize!==null&&o.data.size>l.maxSize.value&&(Ie(o,{code:ue.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),t.dirty());const u=this._def.valueType;function d(m){const v=new Set;for(const _ of m){if(_.status==="aborted")return ur;_.status==="dirty"&&t.dirty(),v.add(_.value)}return{status:t.value,value:v}}const f=[...o.data.values()].map((m,v)=>u._parse(new gl(o,m,o.path,v)));return o.common.async?Promise.all(f).then(m=>d(m)):d(f)}min(r,t){return new Ch({...this._def,minSize:{value:r,message:Ve.toString(t)}})}max(r,t){return new Ch({...this._def,maxSize:{value:r,message:Ve.toString(t)}})}size(r,t){return this.min(r,t).max(r,t)}nonempty(r){return this.min(1,r)}}Ch.create=(n,r)=>new Ch({valueType:n,minSize:null,maxSize:null,typeName:$e.ZodSet,...fr(r)});class lp extends yr{constructor(){super(...arguments),this.validate=this.implement}_parse(r){const{ctx:t}=this._processInputParams(r);if(t.parsedType!==Pe.function)return Ie(t,{code:ue.invalid_type,expected:Pe.function,received:t.parsedType}),ur;function o(f,m){return Zv({data:f,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Wv(),Ng].filter(v=>!!v),issueData:{code:ue.invalid_arguments,argumentsError:m}})}function l(f,m){return Zv({data:f,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Wv(),Ng].filter(v=>!!v),issueData:{code:ue.invalid_return_type,returnTypeError:m}})}const u={errorMap:t.common.contextualErrorMap},d=t.data;if(this._def.returns instanceof xp){const f=this;return Lo(async function(...m){const v=new Oa([]),_=await f._def.args.parseAsync(m,u).catch(C=>{throw v.addIssue(o(m,C)),v}),k=await Reflect.apply(d,this,_);return await f._def.returns._def.type.parseAsync(k,u).catch(C=>{throw v.addIssue(l(k,C)),v})})}else{const f=this;return Lo(function(...m){const v=f._def.args.safeParse(m,u);if(!v.success)throw new Oa([o(m,v.error)]);const _=Reflect.apply(d,this,v.data),k=f._def.returns.safeParse(_,u);if(!k.success)throw new Oa([l(_,k.error)]);return k.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...r){return new lp({...this._def,args:ml.create(r).rest(wh.create())})}returns(r){return new lp({...this._def,returns:r})}implement(r){return this.parse(r)}strictImplement(r){return this.parse(r)}static create(r,t,o){return new lp({args:r||ml.create([]).rest(wh.create()),returns:t||wh.create(),typeName:$e.ZodFunction,...fr(o)})}}class qg extends yr{get schema(){return this._def.getter()}_parse(r){const{ctx:t}=this._processInputParams(r);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}qg.create=(n,r)=>new qg({getter:n,typeName:$e.ZodLazy,...fr(r)});class Vg extends yr{_parse(r){if(r.data!==this._def.value){const t=this._getOrReturnCtx(r);return Ie(t,{received:t.data,code:ue.invalid_literal,expected:this._def.value}),ur}return{status:"valid",value:r.data}}get value(){return this._def.value}}Vg.create=(n,r)=>new Vg({value:n,typeName:$e.ZodLiteral,...fr(r)});function tP(n,r){return new vu({values:n,typeName:$e.ZodEnum,...fr(r)})}class vu extends yr{_parse(r){if(typeof r.data!="string"){const t=this._getOrReturnCtx(r),o=this._def.values;return Ie(t,{expected:ci.joinValues(o),received:t.parsedType,code:ue.invalid_type}),ur}if(this._def.values.indexOf(r.data)===-1){const t=this._getOrReturnCtx(r),o=this._def.values;return Ie(t,{received:t.data,code:ue.invalid_enum_value,options:o}),ur}return Lo(r.data)}get options(){return this._def.values}get enum(){const r={};for(const t of this._def.values)r[t]=t;return r}get Values(){const r={};for(const t of this._def.values)r[t]=t;return r}get Enum(){const r={};for(const t of this._def.values)r[t]=t;return r}extract(r){return vu.create(r)}exclude(r){return vu.create(this.options.filter(t=>!r.includes(t)))}}vu.create=tP;class Wg extends yr{_parse(r){const t=ci.getValidEnumValues(this._def.values),o=this._getOrReturnCtx(r);if(o.parsedType!==Pe.string&&o.parsedType!==Pe.number){const l=ci.objectValues(t);return Ie(o,{expected:ci.joinValues(l),received:o.parsedType,code:ue.invalid_type}),ur}if(t.indexOf(r.data)===-1){const l=ci.objectValues(t);return Ie(o,{received:o.data,code:ue.invalid_enum_value,options:l}),ur}return Lo(r.data)}get enum(){return this._def.values}}Wg.create=(n,r)=>new Wg({values:n,typeName:$e.ZodNativeEnum,...fr(r)});class xp extends yr{unwrap(){return this._def.type}_parse(r){const{ctx:t}=this._processInputParams(r);if(t.parsedType!==Pe.promise&&t.common.async===!1)return Ie(t,{code:ue.invalid_type,expected:Pe.promise,received:t.parsedType}),ur;const o=t.parsedType===Pe.promise?t.data:Promise.resolve(t.data);return Lo(o.then(l=>this._def.type.parseAsync(l,{path:t.path,errorMap:t.common.contextualErrorMap})))}}xp.create=(n,r)=>new xp({type:n,typeName:$e.ZodPromise,...fr(r)});class Da extends yr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===$e.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(r){const{status:t,ctx:o}=this._processInputParams(r),l=this._def.effect||null,u={addIssue:d=>{Ie(o,d),d.fatal?t.abort():t.dirty()},get path(){return o.path}};if(u.addIssue=u.addIssue.bind(u),l.type==="preprocess"){const d=l.transform(o.data,u);return o.common.issues.length?{status:"dirty",value:o.data}:o.common.async?Promise.resolve(d).then(f=>this._def.schema._parseAsync({data:f,path:o.path,parent:o})):this._def.schema._parseSync({data:d,path:o.path,parent:o})}if(l.type==="refinement"){const d=f=>{const m=l.refinement(f,u);if(o.common.async)return Promise.resolve(m);if(m instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return f};if(o.common.async===!1){const f=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});return f.status==="aborted"?ur:(f.status==="dirty"&&t.dirty(),d(f.value),{status:t.value,value:f.value})}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(f=>f.status==="aborted"?ur:(f.status==="dirty"&&t.dirty(),d(f.value).then(()=>({status:t.value,value:f.value}))))}if(l.type==="transform")if(o.common.async===!1){const d=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});if(!Dg(d))return d;const f=l.transform(d.value,u);if(f instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:f}}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(d=>Dg(d)?Promise.resolve(l.transform(d.value,u)).then(f=>({status:t.value,value:f})):d);ci.assertNever(l)}}Da.create=(n,r,t)=>new Da({schema:n,typeName:$e.ZodEffects,effect:r,...fr(t)});Da.createWithPreprocess=(n,r,t)=>new Da({schema:r,effect:{type:"preprocess",transform:n},typeName:$e.ZodEffects,...fr(t)});class nc extends yr{_parse(r){return this._getType(r)===Pe.undefined?Lo(void 0):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}nc.create=(n,r)=>new nc({innerType:n,typeName:$e.ZodOptional,...fr(r)});class Ph extends yr{_parse(r){return this._getType(r)===Pe.null?Lo(null):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}Ph.create=(n,r)=>new Ph({innerType:n,typeName:$e.ZodNullable,...fr(r)});class Zg extends yr{_parse(r){const{ctx:t}=this._processInputParams(r);let o=t.data;return t.parsedType===Pe.undefined&&(o=this._def.defaultValue()),this._def.innerType._parse({data:o,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Zg.create=(n,r)=>new Zg({innerType:n,typeName:$e.ZodDefault,defaultValue:typeof r.default=="function"?r.default:()=>r.default,...fr(r)});class Qv extends yr{_parse(r){const{ctx:t}=this._processInputParams(r),o={...t,common:{...t.common,issues:[]}},l=this._def.innerType._parse({data:o.data,path:o.path,parent:{...o}});return Yv(l)?l.then(u=>({status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new Oa(o.common.issues)},input:o.data})})):{status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new Oa(o.common.issues)},input:o.data})}}removeCatch(){return this._def.innerType}}Qv.create=(n,r)=>new Qv({innerType:n,typeName:$e.ZodCatch,catchValue:typeof r.catch=="function"?r.catch:()=>r.catch,...fr(r)});class $v extends yr{_parse(r){if(this._getType(r)!==Pe.nan){const t=this._getOrReturnCtx(r);return Ie(t,{code:ue.invalid_type,expected:Pe.nan,received:t.parsedType}),ur}return{status:"valid",value:r.data}}}$v.create=n=>new $v({typeName:$e.ZodNaN,...fr(n)});const V6=Symbol("zod_brand");class eP extends yr{_parse(r){const{ctx:t}=this._processInputParams(r),o=t.data;return this._def.type._parse({data:o,path:t.path,parent:t})}unwrap(){return this._def.type}}class am extends yr{_parse(r){const{status:t,ctx:o}=this._processInputParams(r);if(o.common.async)return(async()=>{const l=await this._def.in._parseAsync({data:o.data,path:o.path,parent:o});return l.status==="aborted"?ur:l.status==="dirty"?(t.dirty(),$C(l.value)):this._def.out._parseAsync({data:l.value,path:o.path,parent:o})})();{const l=this._def.in._parseSync({data:o.data,path:o.path,parent:o});return l.status==="aborted"?ur:l.status==="dirty"?(t.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:o.path,parent:o})}}static create(r,t){return new am({in:r,out:t,typeName:$e.ZodPipeline})}}class ty extends yr{_parse(r){const t=this._def.innerType._parse(r);return Dg(t)&&(t.value=Object.freeze(t.value)),t}}ty.create=(n,r)=>new ty({innerType:n,typeName:$e.ZodReadonly,...fr(r)});const rP=(n,r={},t)=>n?wp.create().superRefine((o,l)=>{var u,d;if(!n(o)){const f=typeof r=="function"?r(o):typeof r=="string"?{message:r}:r,m=(d=(u=f.fatal)!==null&&u!==void 0?u:t)!==null&&d!==void 0?d:!0,v=typeof f=="string"?{message:f}:f;l.addIssue({code:"custom",...v,fatal:m})}}):wp.create(),W6={object:Zi.lazycreate};var $e;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})($e||($e={}));const Z6=(n,r={message:`Input not instance of ${n.name}`})=>rP(t=>t instanceof n,r),iP=Ma.create,nP=gu.create,Y6=$v.create,X6=mu.create,oP=Fg.create,K6=Sh.create,J6=Xv.create,Q6=Bg.create,$6=jg.create,t8=wp.create,e8=wh.create,r8=cc.create,i8=Kv.create,n8=za.create,o8=Zi.create,s8=Zi.strictCreate,a8=Hg.create,l8=Iy.create,c8=Ug.create,u8=ml.create,h8=Gg.create,d8=Jv.create,p8=Ch.create,f8=lp.create,g8=qg.create,m8=Vg.create,v8=vu.create,y8=Wg.create,b8=xp.create,sT=Da.create,w8=nc.create,x8=Ph.create,_8=Da.createWithPreprocess,k8=am.create,E8=()=>iP().optional(),T8=()=>nP().optional(),S8=()=>oP().optional(),C8={string:n=>Ma.create({...n,coerce:!0}),number:n=>gu.create({...n,coerce:!0}),boolean:n=>Fg.create({...n,coerce:!0}),bigint:n=>mu.create({...n,coerce:!0}),date:n=>Sh.create({...n,coerce:!0})},P8=ur;var wt=Object.freeze({__proto__:null,defaultErrorMap:Ng,setErrorMap:R6,getErrorMap:Wv,makeIssue:Zv,EMPTY_PATH:A6,addIssueToContext:Ie,ParseStatus:mo,INVALID:ur,DIRTY:$C,OK:Lo,isAborted:_1,isDirty:k1,isValid:Dg,isAsync:Yv,get util(){return ci},get objectUtil(){return x1},ZodParsedType:Pe,getParsedType:tu,ZodType:yr,ZodString:Ma,ZodNumber:gu,ZodBigInt:mu,ZodBoolean:Fg,ZodDate:Sh,ZodSymbol:Xv,ZodUndefined:Bg,ZodNull:jg,ZodAny:wp,ZodUnknown:wh,ZodNever:cc,ZodVoid:Kv,ZodArray:za,ZodObject:Zi,ZodUnion:Hg,ZodDiscriminatedUnion:Iy,ZodIntersection:Ug,ZodTuple:ml,ZodRecord:Gg,ZodMap:Jv,ZodSet:Ch,ZodFunction:lp,ZodLazy:qg,ZodLiteral:Vg,ZodEnum:vu,ZodNativeEnum:Wg,ZodPromise:xp,ZodEffects:Da,ZodTransformer:Da,ZodOptional:nc,ZodNullable:Ph,ZodDefault:Zg,ZodCatch:Qv,ZodNaN:$v,BRAND:V6,ZodBranded:eP,ZodPipeline:am,ZodReadonly:ty,custom:rP,Schema:yr,ZodSchema:yr,late:W6,get ZodFirstPartyTypeKind(){return $e},coerce:C8,any:t8,array:n8,bigint:X6,boolean:oP,date:K6,discriminatedUnion:l8,effect:sT,enum:v8,function:f8,instanceof:Z6,intersection:c8,lazy:g8,literal:m8,map:d8,nan:Y6,nativeEnum:y8,never:r8,null:$6,nullable:x8,number:nP,object:o8,oboolean:S8,onumber:T8,optional:w8,ostring:E8,pipeline:k8,preprocess:_8,promise:b8,record:h8,set:p8,strictObject:s8,string:iP,symbol:J6,transformer:sT,tuple:u8,undefined:Q6,union:a8,unknown:e8,void:i8,NEVER:P8,ZodIssueCode:ue,quotelessJson:L6,ZodError:Oa});const Ly=/^https?:\/\/library.stanford.edu\/iiif\/image-api\/1.1\/compliance.html#level(?<level>[012])$/,sP=wt.string().regex(Ly),M8=sP,ey="http://library.stanford.edu/iiif/image-api/1.1/context.json",aP="http://iiif.io/api/image/1/context.json",lP=wt.literal(ey),cP=wt.object({"@context":lP,"@id":wt.string().url(),profile:sP.optional(),width:wt.number().int(),height:wt.number().int(),scale_factors:wt.number().array().optional(),tile_width:wt.number().optional(),tile_height:wt.number().optional()}),uP=wt.object({width:wt.number().int(),height:wt.number().int()}),hP=wt.object({width:wt.number().int(),height:wt.number().int().optional(),scaleFactors:wt.array(wt.number().int())}),Ry=/^https?:\/\/iiif.io\/api\/image\/2.*level(?<level>[012])(.json)?$/,aT=wt.string().regex(Ry),I8=wt.object({formats:wt.string().array().optional(),maxArea:wt.number().int().optional(),maxHeight:wt.number().int().optional(),maxWidth:wt.number().int().optional(),qualities:wt.string().array().optional(),supports:wt.string().array().optional()}),ry=aT.or(wt.array(wt.union([aT,I8,wt.any()]))),iy="http://iiif.io/api/image/2/context.json",dP=wt.literal(iy).or(wt.literal("https://iiif.io/api/image/2/context.json")),zx=wt.object({"@id":wt.string().url(),"@type":wt.literal("iiif:Image").optional(),"@context":dP,protocol:wt.literal("http://iiif.io/api/image"),width:wt.number().int(),height:wt.number().int(),profile:ry,sizes:uP.array().optional(),tiles:hP.array().optional()}),L8=["level0","level1","level2"],Nx=wt.object({id:wt.string().url(),type:wt.literal("ImageService3"),protocol:wt.literal("http://iiif.io/api/image"),profile:wt.enum(L8),width:wt.number().int(),height:wt.number().int(),maxWidth:wt.number().int().optional(),maxHeight:wt.number().int().optional(),maxArea:wt.number().int().optional(),sizes:uP.array().optional(),tiles:hP.array().optional(),extraFeatures:wt.string().array().optional()}),R8=wt.object({"@id":wt.string().url(),profile:M8.or(ry),width:wt.number().int().optional(),height:wt.number().int().optional(),"@context":lP.or(wt.literal("http://iiif.io/api/image/1/context.json")).or(dP).optional()}),A8=["level0","level1","level2"],O8=["ImageService1","ImageService2","ImageService3"],z8=wt.object({id:wt.string().url(),type:wt.literal("ImageService2"),profile:ry}).or(wt.object({"@id":wt.string().url(),"@type":wt.literal("ImageService2"),profile:ry})),N8=wt.object({id:wt.string().url(),type:wt.enum(O8),profile:wt.enum(A8)}),D8=wt.union([z8,N8]),pP=R8.or(D8),lT=wt.string().or(wt.number()).or(wt.boolean()),fP=lT.or(lT.array()),cT=wt.object({"@language":wt.string().optional(),"@value":fP}),Mh=fP.or(cT).or(cT.array()),F8=wt.object({label:Mh.optional(),value:Mh.optional()}),gP=F8.array(),B8=wt.object({width:wt.number().int().optional(),height:wt.number().int().optional(),service:pP}),j8=wt.object({resource:B8}),mP=wt.object({"@id":wt.string().url(),"@type":wt.literal("sc:Canvas"),width:wt.number().int(),height:wt.number().int(),images:j8.array().length(1),label:Mh.optional(),metadata:gP.optional()}),H8=wt.object({canvases:mP.array().nonempty()}),vP=wt.object({"@id":wt.string().url(),"@type":wt.literal("sc:Manifest"),sequences:H8.array().length(1),label:Mh.optional(),description:Mh.optional(),metadata:gP.optional()}),uT=wt.lazy(()=>wt.object({"@id":wt.string().url(),"@type":wt.literal("sc:Manifest"),label:Mh.optional()})),T1=wt.lazy(()=>wt.object({"@id":wt.string().url(),"@type":wt.literal("sc:Collection"),label:Mh.optional(),manifests:uT.array().optional(),collections:T1.array().optional(),members:uT.or(T1).array().optional()})),U8=wt.string().or(wt.number()).or(wt.boolean()),Ih=wt.record(wt.string(),U8.array()),G8=wt.object({label:Ih.optional(),value:Ih.optional()}),yP=G8.array(),hT=wt.object({type:wt.literal("Image"),width:wt.number().int().optional(),height:wt.number().int().optional(),service:pP.array()}),q8=wt.object({type:wt.literal("Annotation"),body:hT.or(hT.array().length(1))}),V8=wt.object({type:wt.literal("AnnotationPage"),items:q8.array().length(1)}),bP=wt.object({id:wt.string().url(),type:wt.literal("Canvas"),width:wt.number().int(),height:wt.number().int(),items:V8.array().length(1),label:Ih.optional(),metadata:yP.optional()}),wP=wt.object({id:wt.string().url(),type:wt.literal("Manifest"),items:bP.array().nonempty(),label:Ih.optional(),description:Ih.optional(),metadata:yP.optional()}),W8=wt.lazy(()=>wt.object({id:wt.string().url(),type:wt.literal("Manifest"),label:Ih.optional()})),xP=wt.lazy(()=>wt.object({id:wt.string().url(),type:wt.literal("Collection"),label:Ih.optional(),items:W8.or(xP).array()})),_P=cP.or(zx).or(Nx);mP.or(bP);const Z8=vP.or(wP);T1.or(xP);vP.or(zx);wP.or(Nx);Z8.or(_P);function kP({width:n,height:r},t,o,l){const u=o*t.originalWidth,d=l*t.originalHeight,f=o*t.originalWidth+t.width*t.scaleFactor>n?n-o*t.originalWidth:t.width*t.scaleFactor,m=l*t.originalHeight+t.height*t.scaleFactor>r?r-l*t.originalHeight:t.height*t.scaleFactor;let v=t.width,_=t.height;return u+t.width*t.scaleFactor>n&&(v=Math.floor((n-u+t.scaleFactor-1)/t.scaleFactor)),d+t.height*t.scaleFactor>r&&(_=Math.floor((r-d+t.scaleFactor-1)/t.scaleFactor)),{region:{x:u,y:d,width:f,height:m},size:{width:v,height:_}}}function Y8({width:n,height:r},t=768){const o=Math.max(n,r)/t,l=Math.ceil(Math.log(o)/Math.log(2));return{scaleFactors:Array.from({length:l},(u,d)=>2**d),width:t}}function X8({width:n,height:r},t,o){const l=t.height||t.width,u=t.width*o,d=l*o;return{scaleFactor:o,width:t.width,height:l,originalWidth:u,originalHeight:d,columns:Math.ceil(n/u),rows:Math.ceil(r/d)}}function K8(n,r){return r.map(t=>t.scaleFactors.map(o=>X8(n,t,o))).flat()}function J8(n){return!!n.some(r=>r.width&&r.scaleFactors&&r.scaleFactors.length)}function Q8(n,r,t){if(!r||!J8(r))if(t)r=[Y8(n)];else throw new Error("Image does not support tiles or custom regions and sizes.");return K8(n,r)}function $8(n,r,t="cover"){if(t==="cover"||t==="contain"){const o=r.width/n.width,l=r.height/n.height,u=t==="cover"?Math.max(o,l):Math.min(o,l),d=n.width*u,f=n.height*u;return{width:d,height:f}}else throw new Error('Mode must be either "cover" or "contain"')}const tF=.8,eF=1.5;function EP(n,r,t="cover",{sizes:o,tileZoomLevels:l,supportsAnyRegionAndSize:u,maxWidth:d,maxHeight:f,maxArea:m}){let{width:v,height:_}=$8(n,r,t);if(d&&v>d&&(_=_/v*d,v=d),f&&_>f&&(v=v/_*f,_=f),m&&v*_>m){const C=_/v,M=Math.floor(Math.sqrt(m/C))*C;v=Math.floor(M)/C,_=v*C}const k=n.width/n.height;if(v=Math.floor(v),_=Math.round(v/k),o){let C;for(const M of o){const A=M.width/v;if(A>=tF&&A<=eF){C=M;break}}if(C)return{size:C}}if(u)return{size:{width:Math.round(v),height:Math.round(_)}};if(l){const C=n.width/v,M=l.map(({scaleFactor:W},j)=>({index:j,scaleFactor:W,diff:Math.abs(W-C)})).sort((W,j)=>W.diff-j.diff),A=l[M[0].index],F=Math.ceil(n.width/(A.scaleFactor*l[0].width)),G=Math.ceil(n.height/(A.scaleFactor*l[0].height)),H=[];for(let W=0;W<G;W++){const j=[];for(let V=0;V<F;V++){const nt=kP(n,A,V,W);j.push(nt)}H.push(j)}return H}throw new Error("Unable to create thumbnail")}const TP=["regionByPx","sizeByWh"];function rF(n){const r=n.match(Ly);if(r&&r.groups)return parseInt(r.groups.level)}function dT(n){const r=n.match(Ry);if(r&&r.groups)return parseInt(r.groups.level)}function iF(n){return{maxWidth:n==null?void 0:n.maxWidth,maxHeight:n==null?void 0:n.maxHeight,maxArea:n==null?void 0:n.maxArea,supportsAnyRegionAndSize:TP.every(r=>{var t;return(n==null?void 0:n.supports)&&((t=n==null?void 0:n.supports)==null?void 0:t.includes(r))})}}function nF(n){if("type"in n&&n.type==="ImageService3")return 3;if("type"in n&&n.type==="ImageService2"||"@type"in n&&n["@type"]==="ImageService2"||"@context"in n&&n["@context"]===iy)return 2;if("@context"in n&&(n["@context"]===ey||n["@context"]===aP))return 1;if("profile"in n){let r;return Array.isArray(n.profile)?r=n.profile[0]:r=n.profile,r.match(Ly)?1:r.match(Ry)?2:3}else throw new Error("Unsupported IIIF Image Service")}function S1(n){if("type"in n){const r=n.profile;let t=!1;return r==="level0"||typeof r=="string"&&r.endsWith("level0.json")?"extraFeatures"in n&&(t=TP.every(o=>n.extraFeatures&&n.extraFeatures.includes(o))):t=!0,{maxWidth:"maxWidth"in n?n.maxWidth:void 0,maxHeight:"maxHeight"in n?n.maxHeight:void 0,maxArea:"maxArea"in n?n.maxArea:void 0,supportsAnyRegionAndSize:t}}else if(Array.isArray(n.profile)){let r=!1,t=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY;return n.profile.forEach(u=>{if(typeof u=="string"){const d=dT(u);d&&(r=r||d>=1)}else{const{maxWidth:d,maxHeight:f,maxArea:m,supportsAnyRegionAndSize:v}=iF(u);d!==void 0&&(o=Math.max(d,o)),f!==void 0&&(t=Math.max(f,t)),m!==void 0&&(l=Math.max(m,l)),r=r||v}}),{maxWidth:o>=0?o:void 0,maxHeight:t>=0?t:void 0,maxArea:l>=0?l:void 0,supportsAnyRegionAndSize:r}}else if("profile"in n&&n.profile){const r=rF(n.profile),t=dT(n.profile);return r?{supportsAnyRegionAndSize:r>=1}:t?{supportsAnyRegionAndSize:t>=1}:{supportsAnyRegionAndSize:!1}}else throw new Error("Invalid Image")}const oF="image";class sF{constructor(r,t){if(this.embedded=!0,this.type=oF,t){const o=r;let l,u;if(Array.isArray(o.service)?o.service.forEach(d=>{try{const f=nF(d);(!u||f>u)&&(u=f,l=d)}catch{}}):l=o.service,!l)throw new Error("Unsupported IIIF Image Service");if("@id"in l)this.uri=l["@id"];else if("id"in l)this.uri=l.id;else throw new Error("Unsupported IIIF Image Service");if("type"in l&&l.type==="ImageService3")this.majorVersion=3;else if("type"in l&&l.type==="ImageService2"||"@type"in l&&l["@type"]==="ImageService2"||"@context"in l&&l["@context"]===iy)this.majorVersion=2;else if("@context"in l&&(l["@context"]===ey||l["@context"]===aP))this.majorVersion=1;else if("profile"in l){let d;Array.isArray(l.profile)?d=l.profile[0]:d=l.profile,d.match(Ly)?this.majorVersion=1:d.match(Ry)?this.majorVersion=2:this.majorVersion=3}else throw new Error("Unsupported IIIF Image Service");if("profile"in l){const d=S1(l);this.supportsAnyRegionAndSize=d.supportsAnyRegionAndSize,this.maxWidth=d.maxWidth,this.maxHeight=d.maxHeight,this.maxArea=d.maxArea}else this.supportsAnyRegionAndSize=!1}else{if("@id"in r)this.uri=r["@id"];else if("id"in r)this.uri=r.id;else throw new Error("Unsupported IIIF Image");if("type"in r&&r.type==="ImageService3")this.majorVersion=3;else if("@type"in r&&r["@type"]==="iiif:Image"||"@context"in r&&r["@context"]===iy)this.majorVersion=2;else if("@context"in r&&r["@context"]===ey)this.majorVersion=1;else throw new Error("Unsupported IIIF Image");if("profile"in r){const o=S1(r);this.supportsAnyRegionAndSize=o.supportsAnyRegionAndSize,this.maxWidth=o.maxWidth,this.maxHeight=o.maxHeight,this.maxArea=o.maxArea}else this.supportsAnyRegionAndSize=!1}if(r.width!==void 0)this.width=r.width;else if(t)this.width=t.width;else throw new Error("Width not present on either Canvas or Image Resource");if(r.height!==void 0)this.height=r.height;else if(t)this.height=t.height;else throw new Error("Height not present on either Canvas or Image Resource")}getImageUrl(r){const{region:t,size:o}=r;let l,u,d,f,m;t?(m=`${t.x},${t.y},${t.width},${t.height}`,d=t.height,f=t.width):(m="full",d=this.height,f=this.width);let v;if(o){l=Math.round(o.width),u=Math.round(o.height);const C=String(l);let M=String(u);const A=f/d,F=u*A/A;u===Math.round(F)&&(M=""),v=`${C},${M}`}else l=this.width,u=this.height,v=this.majorVersion===2?"full":"max";const _=l*u;if(this.maxWidth!==void 0&&l>this.maxWidth)throw new Error(`Width of requested image is too large: ${l} > ${this.maxWidth}`);if(this.maxHeight!==void 0&&u>this.maxHeight)throw new Error(`Height of requested image is too large: ${u} > ${this.maxHeight}`);if(this.maxArea!==void 0&&_>this.maxArea)throw new Error(`Area of requested image is too large: ${_} > ${this.maxArea}`);const k=this.majorVersion===1?"native":"default";return`${this.uri}/${m}/${v}/0/${k}.jpg`}getThumbnail(r,t="cover"){return EP({width:this.width,height:this.height},r,t,{supportsAnyRegionAndSize:this.supportsAnyRegionAndSize,maxWidth:this.maxWidth,maxHeight:this.maxHeight,maxArea:this.maxArea})}}let aF=class SP extends sF{constructor(r){super(r),this.embedded=!1;const t=S1(r);let o;"tiles"in r&&(o=r.tiles),this.tileZoomLevels=Q8({width:this.width,height:this.height},o,t.supportsAnyRegionAndSize),"sizes"in r&&(this.sizes=r.sizes)}static parse(r,t=null){let o;return t===1?o=cP.parse(r):t===2?o=zx.parse(r):t===3?o=Nx.parse(r):o=_P.parse(r),new SP(o)}getIiifTile(r,t,o){return kP({width:this.width,height:this.height},r,t,o)}getThumbnail(r,t="cover"){return EP({width:this.width,height:this.height},r,t,{supportsAnyRegionAndSize:this.supportsAnyRegionAndSize,sizes:this.sizes,tileZoomLevels:this.tileZoomLevels,maxWidth:this.maxWidth,maxHeight:this.maxHeight,maxArea:this.maxArea})}};const pT=wt.record(wt.string(),wt.string().array());wt.object({label:pT.optional(),value:pT.optional()});var Vo=63710088e-1,CP={centimeters:Vo*100,centimetres:Vo*100,degrees:Vo/111325,feet:Vo*3.28084,inches:Vo*39.37,kilometers:Vo/1e3,kilometres:Vo/1e3,meters:Vo,metres:Vo,miles:Vo/1609.344,millimeters:Vo*1e3,millimetres:Vo*1e3,nauticalmiles:Vo/1852,radians:1,yards:Vo*1.0936};function lF(n,r,t){t===void 0&&(t={});var o={type:"Feature"};return(t.id===0||t.id)&&(o.id=t.id),t.bbox&&(o.bbox=t.bbox),o.properties=r||{},o.geometry=n,o}function cF(n,r,t){if(t===void 0&&(t={}),!n)throw new Error("coordinates is required");if(!Array.isArray(n))throw new Error("coordinates must be an Array");if(n.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!fT(n[0])||!fT(n[1]))throw new Error("coordinates must contain numbers");var o={type:"Point",coordinates:n};return lF(o,r,t)}function uF(n,r){r===void 0&&(r="kilometers");var t=CP[r];if(!t)throw new Error(r+" units is invalid");return n*t}function hF(n,r){r===void 0&&(r="kilometers");var t=CP[r];if(!t)throw new Error(r+" units is invalid");return n/t}function C1(n){var r=n%(2*Math.PI);return r*180/Math.PI}function Ia(n){var r=n%360;return r*Math.PI/180}function fT(n){return!isNaN(n)&&n!==null&&!Array.isArray(n)}function _p(n){if(!n)throw new Error("coord is required");if(!Array.isArray(n)){if(n.type==="Feature"&&n.geometry!==null&&n.geometry.type==="Point")return n.geometry.coordinates;if(n.type==="Point")return n.coordinates}if(Array.isArray(n)&&n.length>=2&&!Array.isArray(n[0])&&!Array.isArray(n[1]))return n;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function dF(n){return n.type==="Feature"?n.geometry:n}function PP(n,r,t){if(t===void 0&&(t={}),t.final===!0)return pF(n,r);var o=_p(n),l=_p(r),u=Ia(o[0]),d=Ia(l[0]),f=Ia(o[1]),m=Ia(l[1]),v=Math.sin(d-u)*Math.cos(m),_=Math.cos(f)*Math.sin(m)-Math.sin(f)*Math.cos(m)*Math.cos(d-u);return C1(Math.atan2(v,_))}function pF(n,r){var t=PP(r,n);return t=(t+180)%360,t}function fF(n,r,t,o){o===void 0&&(o={});var l=_p(n),u=Ia(l[0]),d=Ia(l[1]),f=Ia(t),m=hF(r,o.units),v=Math.asin(Math.sin(d)*Math.cos(m)+Math.cos(d)*Math.sin(m)*Math.cos(f)),_=u+Math.atan2(Math.sin(f)*Math.sin(m)*Math.cos(d),Math.cos(m)-Math.sin(d)*Math.sin(v)),k=C1(_),C=C1(v);return cF([k,C],o.properties)}function Dx(n,r,t){t===void 0&&(t={});var o=_p(n),l=_p(r),u=Ia(l[1]-o[1]),d=Ia(l[0]-o[0]),f=Ia(o[1]),m=Ia(l[1]),v=Math.pow(Math.sin(u/2),2)+Math.pow(Math.sin(d/2),2)*Math.cos(f)*Math.cos(m);return uF(2*Math.atan2(Math.sqrt(v),Math.sqrt(1-v)),t.units)}function ny(n,r){var t=Dx(n,r),o=PP(n,r),l=fF(n,t/2,o);return l}async function MP(n,r={}){let t;if(r.cache&&(t=await r.cache.match(n)),t||(t=await fetch(n,{signal:r.abortSignal}),r.cache&&r.cache.put(n,t.clone())),!t.ok)throw new Error(t.statusText);return t}async function gF(n,r={}){return await(await MP(n,r)).json()}async function mF(n,r={}){return await gF(`${n}/info.json`,r)}function vF(n,r){return new Promise((t,o)=>{const l=new Image;let u=!1;l.addEventListener("load",()=>t(l)),l.addEventListener("error",async()=>{if(u)o(new DOMException("Loading image aborted by user","AbortError"));else try{throw await MP(n,{abortSignal:r}),new Error("Image failed to load by setting Image src but downloaded successfully using fetch")}catch(d){o(d)}}),l.crossOrigin="anonymous",l.src=n,r&&r.addEventListener("abort",()=>{u=!0,l.src=""})})}function IP(n,r=!1){switch(n.type){case"Polygon":return n.coordinates?{...n,coordinates:gT(n.coordinates,r)}:n;case"MultiPolygon":return n.coordinates?{...n,coordinates:n.coordinates.map(t=>gT(t,r))}:n;case"GeometryCollection":return{...n,geometries:n.geometries.map(t=>IP(t,r))};default:return n}}function gT(n,r){if(n.length===0)return n;const t=[];for(let o=0;o<n.length;o++)t.push(yF(n[o],o===0?r:!r));return t}function yF(n,r){let t=0,o=0;for(let l=0,u=n.length,d=u-1;l<u;d=l++){const f=(n[l][0]-n[d][0])*(n[d][1]+n[l][1]),m=t+f;o+=Math.abs(t)>=Math.abs(f)?t-m+f:f-m+t,t=m}return t+o>=0!=!!r?n.slice().reverse():n}function Zo(n){return Array.isArray(n)&&n.length===2&&typeof n[0]=="number"&&typeof n[1]=="number"}function ol(n){return Array.isArray(n)&&n.every(Zo)}function bF(n){return Array.isArray(n)&&n.every(Zo)}function sl(n){return Array.isArray(n)&&n.every(bF)}function LP(n){if(n=n.filter(function(r,t,o){return t===0||!Bx(r,o[t-1])}),n.length<2)throw new Error("LineString should contain at least 2 points");return n}function Fx(n){if(n=n.filter(function(r,t,o){return t===0||!Bx(r,o[t-1])}),xF(n)&&n.splice(-1),n.length<3)throw new Error("Ring should contain at least 3 points");return n}function wF(n){return n.map(r=>Fx(r))}function X0(n){return{type:"Point",coordinates:n}}function K0(n){return{type:"LineString",coordinates:n}}function J0(n,r=!0){const t={type:"Polygon",coordinates:r?n.map(o=>[...o,o[0]]):n};return IP(t)}function xF(n){return Array.isArray(n)&&n.length>=2&&Bx(n[0],n[n.length-1])}function Bx(n,r){return n===r?!0:n==null||r==null?!1:n[0]==r[0]&&n[1]==r[1]}function oy(n,r){return[(r[0]-n[0])/2+n[0],(r[1]-n[1])/2+n[1]]}function _F(n,r,t){return[n[0]*t+r[0]*(1-t),n[1]*t+r[1]*(1-t)]}function oc(n,r){if(ol(n)&&n.length==2)return oc(n[0],n[1]);if(Zo(n)&&Zo(r))return Math.sqrt((r[0]-n[0])**2+(r[1]-n[1])**2);throw new Error("Input type not supported")}function kF(n){return n*(Math.PI/180)}function Xl(n){return typeof n=="object"&&n!==null&&n.type==="Point"&&Zo(n.coordinates)}function Kl(n){return typeof n=="object"&&n!==null&&n.type==="LineString"&&ol(n.coordinates)}function Jl(n){return typeof n=="object"&&n!==null&&n.type==="Polygon"&&Array.isArray(n.coordinates)&&sl(n.coordinates)}function EF(n){const r=typeof n=="object"&&n!==null,t=r&&"type"in n&&typeof n.type=="string"&&(n.type==="Point"||n.type==="LineString"||n.type==="Polygon"),o=r&&"coordinates"in n&&Array.isArray(n.coordinates);return t&&o}function sg(n){return n.coordinates}function ag(n){return n.coordinates}function lg(n,r=!1){let t=n.coordinates;return t=wF(t),r?t.map(o=>[...o,o[0]]):t}function TF(n){if(Xl(n))return sg(n);if(Kl(n))return ag(n);if(Jl(n))return lg(n);throw new Error("Geometry type not supported")}function mT(n){let r=Number.POSITIVE_INFINITY,t=Number.NEGATIVE_INFINITY;for(const o of n)r===void 0?o>=o&&(r=t=o):(r>o&&(r=o),t<o&&(t=o));return[r,t]}function Gn(n){if(Zo(n)&&(n=[n]),sl(n)&&(n=n.flat()),EF(n))return Gn(TF(n));const r=[],t=[];for(const f of n)r.push(f[0]),t.push(f[1]);const[o,l]=mT(r),[u,d]=mT(t);return[o,u,l,d]}function vT(n,r){return[Math.min(n[0],r[0]),Math.min(n[1],r[1]),Math.max(n[2],r[2]),Math.max(n[3],r[3])]}function SF(n,r){const t=n[2]>=r[0]&&r[2]>=n[0],o=n[3]>=r[1]&&r[3]>=n[1];return t&&o}function Yg(n){return[[n[0],n[1]],[n[2],n[1]],[n[2],n[3]],[n[0],n[3]]]}function CF(n){return[Yg(n)]}function RP(n){return[[n[0],n[1]],[n[2],n[3]]]}function PF(n){return oc(RP(n))}function MF(n){return oc(RP(Gn(n)))}function P1(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function sy(n){return[n[2]-n[0],n[3]-n[1]]}function AP(n,r){const t=n[0]/r[0],o=n[1]/r[1];return Math.min(t,o)}function zw(n,r){return AP(sy(n),sy(r))}function IF(n){const r=parseInt(n.replace(/^#/,""),16),t=r>>16&255,o=r>>8&255,l=r&255;return[t,o,l]}function yT(n){return IF(n).map(r=>r/255)}function LF(n,r){return!n||!r||n.size!==r.size?!1:[...n].every(t=>r.has(t))}function bT(n,r){if(n!==void 0&&r!==void 0)return Math.max(n,r);if(n!==void 0)return n;if(r!==void 0)return r}function RF(n){let r;try{r=new URL(n)}catch{return!1}return r.protocol==="http:"||r.protocol==="https:"}function AF([n,r]){const t=6378137*kF(n),o=t/n,l=180/Math.PI*Math.log(Math.tan(Math.PI/4+r*(Math.PI/180)/2))*o;return[t,l]}function wT([n,r]){const t=Math.PI*6378137,o=n/t*180;let l=r/t*180;return l=180/Math.PI*(2*Math.atan(Math.exp(l*Math.PI/180))-Math.PI/2),[o,l]}var OF=Object.defineProperty,zF=(n,r,t)=>r in n?OF(n,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[r]=t,NF=(n,r,t)=>(zF(n,typeof r!="symbol"?r+"":r,t),t),jx=(n,r,t)=>{if(!r.has(n))throw TypeError("Cannot "+t)},nl=(n,r,t)=>(jx(n,r,"read from private field"),t?t.call(n):r.get(n)),xg=(n,r,t)=>{if(r.has(n))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(n):r.set(n,t)},Nw=(n,r,t,o)=>(jx(n,r,"write to private field"),o?o.call(n,t):r.set(n,t),t),kp=(n,r,t)=>(jx(n,r,"access private method"),t);function OP(n){if(n.__esModule)return n;var r=n.default;if(typeof r=="function"){var t=function o(){return this instanceof o?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};t.prototype=r.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(o){var l=Object.getOwnPropertyDescriptor(n,o);Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:function(){return n[o]}})}),t}var $r={};const DF=Object.prototype.toString;function Xg(n){const r=DF.call(n);return r.endsWith("Array]")&&!r.includes("Big")}const FF=Object.freeze(Object.defineProperty({__proto__:null,isAnyArray:Xg},Symbol.toStringTag,{value:"Module"})),BF=OP(FF);function jF(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Xg(n))throw new TypeError("input must be an array");if(n.length===0)throw new TypeError("input must not be empty");var t=r.fromIndex,o=t===void 0?0:t,l=r.toIndex,u=l===void 0?n.length:l;if(o<0||o>=n.length||!Number.isInteger(o))throw new Error("fromIndex must be a positive integer smaller than length");if(u<=o||u>n.length||!Number.isInteger(u))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var d=n[o],f=o+1;f<u;f++)n[f]>d&&(d=n[f]);return d}function HF(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Xg(n))throw new TypeError("input must be an array");if(n.length===0)throw new TypeError("input must not be empty");var t=r.fromIndex,o=t===void 0?0:t,l=r.toIndex,u=l===void 0?n.length:l;if(o<0||o>=n.length||!Number.isInteger(o))throw new Error("fromIndex must be a positive integer smaller than length");if(u<=o||u>n.length||!Number.isInteger(u))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var d=n[o],f=o+1;f<u;f++)n[f]<d&&(d=n[f]);return d}function UF(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Xg(n)){if(n.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var t;if(r.output!==void 0){if(!Xg(r.output))throw new TypeError("output option must be an array if specified");t=r.output}else t=new Array(n.length);var o=HF(n),l=jF(n);if(o===l)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var u=r.min,d=u===void 0?r.autoMinMax?o:0:u,f=r.max,m=f===void 0?r.autoMinMax?l:1:f;if(d>=m)throw new RangeError("min option must be smaller than max option");for(var v=(m-d)/(l-o),_=0;_<n.length;_++)t[_]=(n[_]-o)*v+d;return t}const GF=Object.freeze(Object.defineProperty({__proto__:null,default:UF},Symbol.toStringTag,{value:"Module"})),qF=OP(GF);Object.defineProperty($r,"__esModule",{value:!0});var Yo=BF,xT=qF;const Q0=" ".repeat(2),zP=" ".repeat(4);function VF(){return NP(this)}function NP(n,r={}){const{maxRows:t=15,maxColumns:o=10,maxNumSize:l=8,padMinus:u="auto"}=r;return`${n.constructor.name} {
${Q0}[
${zP}${WF(n,t,o,l,u)}
${Q0}]
${Q0}rows: ${n.rows}
${Q0}columns: ${n.columns}
}`}function WF(n,r,t,o,l){const{rows:u,columns:d}=n,f=Math.min(u,r),m=Math.min(d,t),v=[];if(l==="auto"){l=!1;t:for(let _=0;_<f;_++)for(let k=0;k<m;k++)if(n.get(_,k)<0){l=!0;break t}}for(let _=0;_<f;_++){let k=[];for(let C=0;C<m;C++)k.push(ZF(n.get(_,C),o,l));v.push(`${k.join(" ")}`)}return m!==d&&(v[v.length-1]+=` ... ${d-t} more columns`),f!==u&&v.push(`... ${u-r} more rows`),v.join(`
${zP}`)}function ZF(n,r,t){return(n>=0&&t?` ${_T(n,r-1)}`:_T(n,r)).padEnd(r)}function _T(n,r){let t=n.toString();if(t.length<=r)return t;let o=n.toFixed(r);if(o.length>r&&(o=n.toFixed(Math.max(0,r-(o.length-r)))),o.length<=r&&!o.startsWith("0.000")&&!o.startsWith("-0.000"))return o;let l=n.toExponential(r);return l.length>r&&(l=n.toExponential(Math.max(0,r-(l.length-r)))),l.slice(0)}function YF(n,r){n.prototype.add=function(t){return typeof t=="number"?this.addS(t):this.addM(t)},n.prototype.addS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)+t);return this},n.prototype.addM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)+t.get(o,l));return this},n.add=function(t,o){return new r(t).add(o)},n.prototype.sub=function(t){return typeof t=="number"?this.subS(t):this.subM(t)},n.prototype.subS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)-t);return this},n.prototype.subM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)-t.get(o,l));return this},n.sub=function(t,o){return new r(t).sub(o)},n.prototype.subtract=n.prototype.sub,n.prototype.subtractS=n.prototype.subS,n.prototype.subtractM=n.prototype.subM,n.subtract=n.sub,n.prototype.mul=function(t){return typeof t=="number"?this.mulS(t):this.mulM(t)},n.prototype.mulS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)*t);return this},n.prototype.mulM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)*t.get(o,l));return this},n.mul=function(t,o){return new r(t).mul(o)},n.prototype.multiply=n.prototype.mul,n.prototype.multiplyS=n.prototype.mulS,n.prototype.multiplyM=n.prototype.mulM,n.multiply=n.mul,n.prototype.div=function(t){return typeof t=="number"?this.divS(t):this.divM(t)},n.prototype.divS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)/t);return this},n.prototype.divM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)/t.get(o,l));return this},n.div=function(t,o){return new r(t).div(o)},n.prototype.divide=n.prototype.div,n.prototype.divideS=n.prototype.divS,n.prototype.divideM=n.prototype.divM,n.divide=n.div,n.prototype.mod=function(t){return typeof t=="number"?this.modS(t):this.modM(t)},n.prototype.modS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)%t);return this},n.prototype.modM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)%t.get(o,l));return this},n.mod=function(t,o){return new r(t).mod(o)},n.prototype.modulus=n.prototype.mod,n.prototype.modulusS=n.prototype.modS,n.prototype.modulusM=n.prototype.modM,n.modulus=n.mod,n.prototype.and=function(t){return typeof t=="number"?this.andS(t):this.andM(t)},n.prototype.andS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)&t);return this},n.prototype.andM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)&t.get(o,l));return this},n.and=function(t,o){return new r(t).and(o)},n.prototype.or=function(t){return typeof t=="number"?this.orS(t):this.orM(t)},n.prototype.orS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)|t);return this},n.prototype.orM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)|t.get(o,l));return this},n.or=function(t,o){return new r(t).or(o)},n.prototype.xor=function(t){return typeof t=="number"?this.xorS(t):this.xorM(t)},n.prototype.xorS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)^t);return this},n.prototype.xorM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)^t.get(o,l));return this},n.xor=function(t,o){return new r(t).xor(o)},n.prototype.leftShift=function(t){return typeof t=="number"?this.leftShiftS(t):this.leftShiftM(t)},n.prototype.leftShiftS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)<<t);return this},n.prototype.leftShiftM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)<<t.get(o,l));return this},n.leftShift=function(t,o){return new r(t).leftShift(o)},n.prototype.signPropagatingRightShift=function(t){return typeof t=="number"?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},n.prototype.signPropagatingRightShiftS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)>>t);return this},n.prototype.signPropagatingRightShiftM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)>>t.get(o,l));return this},n.signPropagatingRightShift=function(t,o){return new r(t).signPropagatingRightShift(o)},n.prototype.rightShift=function(t){return typeof t=="number"?this.rightShiftS(t):this.rightShiftM(t)},n.prototype.rightShiftS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)>>>t);return this},n.prototype.rightShiftM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)>>>t.get(o,l));return this},n.rightShift=function(t,o){return new r(t).rightShift(o)},n.prototype.zeroFillRightShift=n.prototype.rightShift,n.prototype.zeroFillRightShiftS=n.prototype.rightShiftS,n.prototype.zeroFillRightShiftM=n.prototype.rightShiftM,n.zeroFillRightShift=n.rightShift,n.prototype.not=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,~this.get(t,o));return this},n.not=function(t){return new r(t).not()},n.prototype.abs=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.abs(this.get(t,o)));return this},n.abs=function(t){return new r(t).abs()},n.prototype.acos=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.acos(this.get(t,o)));return this},n.acos=function(t){return new r(t).acos()},n.prototype.acosh=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.acosh(this.get(t,o)));return this},n.acosh=function(t){return new r(t).acosh()},n.prototype.asin=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.asin(this.get(t,o)));return this},n.asin=function(t){return new r(t).asin()},n.prototype.asinh=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.asinh(this.get(t,o)));return this},n.asinh=function(t){return new r(t).asinh()},n.prototype.atan=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.atan(this.get(t,o)));return this},n.atan=function(t){return new r(t).atan()},n.prototype.atanh=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.atanh(this.get(t,o)));return this},n.atanh=function(t){return new r(t).atanh()},n.prototype.cbrt=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.cbrt(this.get(t,o)));return this},n.cbrt=function(t){return new r(t).cbrt()},n.prototype.ceil=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.ceil(this.get(t,o)));return this},n.ceil=function(t){return new r(t).ceil()},n.prototype.clz32=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.clz32(this.get(t,o)));return this},n.clz32=function(t){return new r(t).clz32()},n.prototype.cos=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.cos(this.get(t,o)));return this},n.cos=function(t){return new r(t).cos()},n.prototype.cosh=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.cosh(this.get(t,o)));return this},n.cosh=function(t){return new r(t).cosh()},n.prototype.exp=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.exp(this.get(t,o)));return this},n.exp=function(t){return new r(t).exp()},n.prototype.expm1=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.expm1(this.get(t,o)));return this},n.expm1=function(t){return new r(t).expm1()},n.prototype.floor=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.floor(this.get(t,o)));return this},n.floor=function(t){return new r(t).floor()},n.prototype.fround=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.fround(this.get(t,o)));return this},n.fround=function(t){return new r(t).fround()},n.prototype.log=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.log(this.get(t,o)));return this},n.log=function(t){return new r(t).log()},n.prototype.log1p=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.log1p(this.get(t,o)));return this},n.log1p=function(t){return new r(t).log1p()},n.prototype.log10=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.log10(this.get(t,o)));return this},n.log10=function(t){return new r(t).log10()},n.prototype.log2=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.log2(this.get(t,o)));return this},n.log2=function(t){return new r(t).log2()},n.prototype.round=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.round(this.get(t,o)));return this},n.round=function(t){return new r(t).round()},n.prototype.sign=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.sign(this.get(t,o)));return this},n.sign=function(t){return new r(t).sign()},n.prototype.sin=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.sin(this.get(t,o)));return this},n.sin=function(t){return new r(t).sin()},n.prototype.sinh=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.sinh(this.get(t,o)));return this},n.sinh=function(t){return new r(t).sinh()},n.prototype.sqrt=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.sqrt(this.get(t,o)));return this},n.sqrt=function(t){return new r(t).sqrt()},n.prototype.tan=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.tan(this.get(t,o)));return this},n.tan=function(t){return new r(t).tan()},n.prototype.tanh=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.tanh(this.get(t,o)));return this},n.tanh=function(t){return new r(t).tanh()},n.prototype.trunc=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.trunc(this.get(t,o)));return this},n.trunc=function(t){return new r(t).trunc()},n.pow=function(t,o){return new r(t).pow(o)},n.prototype.pow=function(t){return typeof t=="number"?this.powS(t):this.powM(t)},n.prototype.powS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,Math.pow(this.get(o,l),t));return this},n.prototype.powM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,Math.pow(this.get(o,l),t.get(o,l)));return this}}function Ys(n,r,t){let o=t?n.rows:n.rows-1;if(r<0||r>o)throw new RangeError("Row index out of range")}function Xs(n,r,t){let o=t?n.columns:n.columns-1;if(r<0||r>o)throw new RangeError("Column index out of range")}function Xd(n,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==n.columns)throw new RangeError("vector size must be the same as the number of columns");return r}function Kd(n,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==n.rows)throw new RangeError("vector size must be the same as the number of rows");return r}function Hx(n,r){if(!Yo.isAnyArray(r))throw new TypeError("row indices must be an array");for(let t=0;t<r.length;t++)if(r[t]<0||r[t]>=n.rows)throw new RangeError("row indices are out of range")}function Ux(n,r){if(!Yo.isAnyArray(r))throw new TypeError("column indices must be an array");for(let t=0;t<r.length;t++)if(r[t]<0||r[t]>=n.columns)throw new RangeError("column indices are out of range")}function M1(n,r,t,o,l){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if($0("startRow",r),$0("endRow",t),$0("startColumn",o),$0("endColumn",l),r>t||o>l||r<0||r>=n.rows||t<0||t>=n.rows||o<0||o>=n.columns||l<0||l>=n.columns)throw new RangeError("Submatrix indices are out of range")}function Ay(n,r=0){let t=[];for(let o=0;o<n;o++)t.push(r);return t}function $0(n,r){if(typeof r!="number")throw new TypeError(`${n} must be a number`)}function Vd(n){if(n.isEmpty())throw new Error("Empty matrix has no elements to index")}function XF(n){let r=Ay(n.rows);for(let t=0;t<n.rows;++t)for(let o=0;o<n.columns;++o)r[t]+=n.get(t,o);return r}function KF(n){let r=Ay(n.columns);for(let t=0;t<n.rows;++t)for(let o=0;o<n.columns;++o)r[o]+=n.get(t,o);return r}function JF(n){let r=0;for(let t=0;t<n.rows;t++)for(let o=0;o<n.columns;o++)r+=n.get(t,o);return r}function QF(n){let r=Ay(n.rows,1);for(let t=0;t<n.rows;++t)for(let o=0;o<n.columns;++o)r[t]*=n.get(t,o);return r}function $F(n){let r=Ay(n.columns,1);for(let t=0;t<n.rows;++t)for(let o=0;o<n.columns;++o)r[o]*=n.get(t,o);return r}function tB(n){let r=1;for(let t=0;t<n.rows;t++)for(let o=0;o<n.columns;o++)r*=n.get(t,o);return r}function eB(n,r,t){const o=n.rows,l=n.columns,u=[];for(let d=0;d<o;d++){let f=0,m=0,v=0;for(let _=0;_<l;_++)v=n.get(d,_)-t[d],f+=v,m+=v*v;r?u.push((m-f*f/l)/(l-1)):u.push((m-f*f/l)/l)}return u}function rB(n,r,t){const o=n.rows,l=n.columns,u=[];for(let d=0;d<l;d++){let f=0,m=0,v=0;for(let _=0;_<o;_++)v=n.get(_,d)-t[d],f+=v,m+=v*v;r?u.push((m-f*f/o)/(o-1)):u.push((m-f*f/o)/o)}return u}function iB(n,r,t){const o=n.rows,l=n.columns,u=o*l;let d=0,f=0,m=0;for(let v=0;v<o;v++)for(let _=0;_<l;_++)m=n.get(v,_)-t,d+=m,f+=m*m;return r?(f-d*d/u)/(u-1):(f-d*d/u)/u}function nB(n,r){for(let t=0;t<n.rows;t++)for(let o=0;o<n.columns;o++)n.set(t,o,n.get(t,o)-r[t])}function oB(n,r){for(let t=0;t<n.rows;t++)for(let o=0;o<n.columns;o++)n.set(t,o,n.get(t,o)-r[o])}function sB(n,r){for(let t=0;t<n.rows;t++)for(let o=0;o<n.columns;o++)n.set(t,o,n.get(t,o)-r)}function aB(n){const r=[];for(let t=0;t<n.rows;t++){let o=0;for(let l=0;l<n.columns;l++)o+=Math.pow(n.get(t,l),2)/(n.columns-1);r.push(Math.sqrt(o))}return r}function lB(n,r){for(let t=0;t<n.rows;t++)for(let o=0;o<n.columns;o++)n.set(t,o,n.get(t,o)/r[t])}function cB(n){const r=[];for(let t=0;t<n.columns;t++){let o=0;for(let l=0;l<n.rows;l++)o+=Math.pow(n.get(l,t),2)/(n.rows-1);r.push(Math.sqrt(o))}return r}function uB(n,r){for(let t=0;t<n.rows;t++)for(let o=0;o<n.columns;o++)n.set(t,o,n.get(t,o)/r[o])}function hB(n){const r=n.size-1;let t=0;for(let o=0;o<n.columns;o++)for(let l=0;l<n.rows;l++)t+=Math.pow(n.get(l,o),2)/r;return Math.sqrt(t)}function dB(n,r){for(let t=0;t<n.rows;t++)for(let o=0;o<n.columns;o++)n.set(t,o,n.get(t,o)/r)}class pr{static from1DArray(r,t,o){if(r*t!==o.length)throw new RangeError("data length does not match given dimensions");let l=new ve(r,t);for(let u=0;u<r;u++)for(let d=0;d<t;d++)l.set(u,d,o[u*t+d]);return l}static rowVector(r){let t=new ve(1,r.length);for(let o=0;o<r.length;o++)t.set(0,o,r[o]);return t}static columnVector(r){let t=new ve(r.length,1);for(let o=0;o<r.length;o++)t.set(o,0,r[o]);return t}static zeros(r,t){return new ve(r,t)}static ones(r,t){return new ve(r,t).fill(1)}static rand(r,t,o={}){if(typeof o!="object")throw new TypeError("options must be an object");const{random:l=Math.random}=o;let u=new ve(r,t);for(let d=0;d<r;d++)for(let f=0;f<t;f++)u.set(d,f,l());return u}static randInt(r,t,o={}){if(typeof o!="object")throw new TypeError("options must be an object");const{min:l=0,max:u=1e3,random:d=Math.random}=o;if(!Number.isInteger(l))throw new TypeError("min must be an integer");if(!Number.isInteger(u))throw new TypeError("max must be an integer");if(l>=u)throw new RangeError("min must be smaller than max");let f=u-l,m=new ve(r,t);for(let v=0;v<r;v++)for(let _=0;_<t;_++){let k=l+Math.round(d()*f);m.set(v,_,k)}return m}static eye(r,t,o){t===void 0&&(t=r),o===void 0&&(o=1);let l=Math.min(r,t),u=this.zeros(r,t);for(let d=0;d<l;d++)u.set(d,d,o);return u}static diag(r,t,o){let l=r.length;t===void 0&&(t=l),o===void 0&&(o=t);let u=Math.min(l,t,o),d=this.zeros(t,o);for(let f=0;f<u;f++)d.set(f,f,r[f]);return d}static min(r,t){r=this.checkMatrix(r),t=this.checkMatrix(t);let o=r.rows,l=r.columns,u=new ve(o,l);for(let d=0;d<o;d++)for(let f=0;f<l;f++)u.set(d,f,Math.min(r.get(d,f),t.get(d,f)));return u}static max(r,t){r=this.checkMatrix(r),t=this.checkMatrix(t);let o=r.rows,l=r.columns,u=new this(o,l);for(let d=0;d<o;d++)for(let f=0;f<l;f++)u.set(d,f,Math.max(r.get(d,f),t.get(d,f)));return u}static checkMatrix(r){return pr.isMatrix(r)?r:new ve(r)}static isMatrix(r){return r!=null&&r.klass==="Matrix"}get size(){return this.rows*this.columns}apply(r){if(typeof r!="function")throw new TypeError("callback must be a function");for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)r.call(this,t,o);return this}to1DArray(){let r=[];for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)r.push(this.get(t,o));return r}to2DArray(){let r=[];for(let t=0;t<this.rows;t++){r.push([]);for(let o=0;o<this.columns;o++)r[t].push(this.get(t,o))}return r}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let r=0;r<this.rows;r++)for(let t=0;t<=r;t++)if(this.get(r,t)!==this.get(t,r))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let r=0;r<this.rows;r++)if(this.get(r,r)!==0)return!1;return!0}isEchelonForm(){let r=0,t=0,o=-1,l=!0,u=!1;for(;r<this.rows&&l;){for(t=0,u=!1;t<this.columns&&u===!1;)this.get(r,t)===0?t++:this.get(r,t)===1&&t>o?(u=!0,o=t):(l=!1,u=!0);r++}return l}isReducedEchelonForm(){let r=0,t=0,o=-1,l=!0,u=!1;for(;r<this.rows&&l;){for(t=0,u=!1;t<this.columns&&u===!1;)this.get(r,t)===0?t++:this.get(r,t)===1&&t>o?(u=!0,o=t):(l=!1,u=!0);for(let d=t+1;d<this.rows;d++)this.get(r,d)!==0&&(l=!1);r++}return l}echelonForm(){let r=this.clone(),t=0,o=0;for(;t<r.rows&&o<r.columns;){let l=t;for(let u=t;u<r.rows;u++)r.get(u,o)>r.get(l,o)&&(l=u);if(r.get(l,o)===0)o++;else{r.swapRows(t,l);let u=r.get(t,o);for(let d=o;d<r.columns;d++)r.set(t,d,r.get(t,d)/u);for(let d=t+1;d<r.rows;d++){let f=r.get(d,o)/r.get(t,o);r.set(d,o,0);for(let m=o+1;m<r.columns;m++)r.set(d,m,r.get(d,m)-r.get(t,m)*f)}t++,o++}}return r}reducedEchelonForm(){let r=this.echelonForm(),t=r.columns,o=r.rows,l=o-1;for(;l>=0;)if(r.maxRow(l)===0)l--;else{let u=0,d=!1;for(;u<o&&d===!1;)r.get(l,u)===1?d=!0:u++;for(let f=0;f<l;f++){let m=r.get(f,u);for(let v=u;v<t;v++){let _=r.get(f,v)-m*r.get(l,v);r.set(f,v,_)}}l--}return r}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{rows:t=1,columns:o=1}=r;if(!Number.isInteger(t)||t<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(o)||o<=0)throw new TypeError("columns must be a positive integer");let l=new ve(this.rows*t,this.columns*o);for(let u=0;u<t;u++)for(let d=0;d<o;d++)l.setSubMatrix(this,this.rows*u,this.columns*d);return l}fill(r){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,r);return this}neg(){return this.mulS(-1)}getRow(r){Ys(this,r);let t=[];for(let o=0;o<this.columns;o++)t.push(this.get(r,o));return t}getRowVector(r){return ve.rowVector(this.getRow(r))}setRow(r,t){Ys(this,r),t=Xd(this,t);for(let o=0;o<this.columns;o++)this.set(r,o,t[o]);return this}swapRows(r,t){Ys(this,r),Ys(this,t);for(let o=0;o<this.columns;o++){let l=this.get(r,o);this.set(r,o,this.get(t,o)),this.set(t,o,l)}return this}getColumn(r){Xs(this,r);let t=[];for(let o=0;o<this.rows;o++)t.push(this.get(o,r));return t}getColumnVector(r){return ve.columnVector(this.getColumn(r))}setColumn(r,t){Xs(this,r),t=Kd(this,t);for(let o=0;o<this.rows;o++)this.set(o,r,t[o]);return this}swapColumns(r,t){Xs(this,r),Xs(this,t);for(let o=0;o<this.rows;o++){let l=this.get(o,r);this.set(o,r,this.get(o,t)),this.set(o,t,l)}return this}addRowVector(r){r=Xd(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)+r[o]);return this}subRowVector(r){r=Xd(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)-r[o]);return this}mulRowVector(r){r=Xd(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)*r[o]);return this}divRowVector(r){r=Xd(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)/r[o]);return this}addColumnVector(r){r=Kd(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)+r[t]);return this}subColumnVector(r){r=Kd(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)-r[t]);return this}mulColumnVector(r){r=Kd(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)*r[t]);return this}divColumnVector(r){r=Kd(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)/r[t]);return this}mulRow(r,t){Ys(this,r);for(let o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)*t);return this}mulColumn(r,t){Xs(this,r);for(let o=0;o<this.rows;o++)this.set(o,r,this.get(o,r)*t);return this}max(r){if(this.isEmpty())return NaN;switch(r){case"row":{const t=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)>t[o]&&(t[o]=this.get(o,l));return t}case"column":{const t=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)>t[l]&&(t[l]=this.get(o,l));return t}case void 0:{let t=this.get(0,0);for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)>t&&(t=this.get(o,l));return t}default:throw new Error(`invalid option: ${r}`)}}maxIndex(){Vd(this);let r=this.get(0,0),t=[0,0];for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)>r&&(r=this.get(o,l),t[0]=o,t[1]=l);return t}min(r){if(this.isEmpty())return NaN;switch(r){case"row":{const t=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)<t[o]&&(t[o]=this.get(o,l));return t}case"column":{const t=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)<t[l]&&(t[l]=this.get(o,l));return t}case void 0:{let t=this.get(0,0);for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)<t&&(t=this.get(o,l));return t}default:throw new Error(`invalid option: ${r}`)}}minIndex(){Vd(this);let r=this.get(0,0),t=[0,0];for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)<r&&(r=this.get(o,l),t[0]=o,t[1]=l);return t}maxRow(r){if(Ys(this,r),this.isEmpty())return NaN;let t=this.get(r,0);for(let o=1;o<this.columns;o++)this.get(r,o)>t&&(t=this.get(r,o));return t}maxRowIndex(r){Ys(this,r),Vd(this);let t=this.get(r,0),o=[r,0];for(let l=1;l<this.columns;l++)this.get(r,l)>t&&(t=this.get(r,l),o[1]=l);return o}minRow(r){if(Ys(this,r),this.isEmpty())return NaN;let t=this.get(r,0);for(let o=1;o<this.columns;o++)this.get(r,o)<t&&(t=this.get(r,o));return t}minRowIndex(r){Ys(this,r),Vd(this);let t=this.get(r,0),o=[r,0];for(let l=1;l<this.columns;l++)this.get(r,l)<t&&(t=this.get(r,l),o[1]=l);return o}maxColumn(r){if(Xs(this,r),this.isEmpty())return NaN;let t=this.get(0,r);for(let o=1;o<this.rows;o++)this.get(o,r)>t&&(t=this.get(o,r));return t}maxColumnIndex(r){Xs(this,r),Vd(this);let t=this.get(0,r),o=[0,r];for(let l=1;l<this.rows;l++)this.get(l,r)>t&&(t=this.get(l,r),o[0]=l);return o}minColumn(r){if(Xs(this,r),this.isEmpty())return NaN;let t=this.get(0,r);for(let o=1;o<this.rows;o++)this.get(o,r)<t&&(t=this.get(o,r));return t}minColumnIndex(r){Xs(this,r),Vd(this);let t=this.get(0,r),o=[0,r];for(let l=1;l<this.rows;l++)this.get(l,r)<t&&(t=this.get(l,r),o[0]=l);return o}diag(){let r=Math.min(this.rows,this.columns),t=[];for(let o=0;o<r;o++)t.push(this.get(o,o));return t}norm(r="frobenius"){switch(r){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${r}`)}}cumulativeSum(){let r=0;for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)r+=this.get(t,o),this.set(t,o,r);return this}dot(r){pr.isMatrix(r)&&(r=r.to1DArray());let t=this.to1DArray();if(t.length!==r.length)throw new RangeError("vectors do not have the same size");let o=0;for(let l=0;l<t.length;l++)o+=t[l]*r[l];return o}mmul(r){r=ve.checkMatrix(r);let t=this.rows,o=this.columns,l=r.columns,u=new ve(t,l),d=new Float64Array(o);for(let f=0;f<l;f++){for(let m=0;m<o;m++)d[m]=r.get(m,f);for(let m=0;m<t;m++){let v=0;for(let _=0;_<o;_++)v+=this.get(m,_)*d[_];u.set(m,f,v)}}return u}strassen2x2(r){r=ve.checkMatrix(r);let t=new ve(2,2);const o=this.get(0,0),l=r.get(0,0),u=this.get(0,1),d=r.get(0,1),f=this.get(1,0),m=r.get(1,0),v=this.get(1,1),_=r.get(1,1),k=(o+v)*(l+_),C=(f+v)*l,M=o*(d-_),A=v*(m-l),F=(o+u)*_,G=(f-o)*(l+d),H=(u-v)*(m+_),W=k+A-F+H,j=M+F,V=C+A,nt=k-C+M+G;return t.set(0,0,W),t.set(0,1,j),t.set(1,0,V),t.set(1,1,nt),t}strassen3x3(r){r=ve.checkMatrix(r);let t=new ve(3,3);const o=this.get(0,0),l=this.get(0,1),u=this.get(0,2),d=this.get(1,0),f=this.get(1,1),m=this.get(1,2),v=this.get(2,0),_=this.get(2,1),k=this.get(2,2),C=r.get(0,0),M=r.get(0,1),A=r.get(0,2),F=r.get(1,0),G=r.get(1,1),H=r.get(1,2),W=r.get(2,0),j=r.get(2,1),V=r.get(2,2),nt=(o+l+u-d-f-_-k)*G,gt=(o-d)*(-M+G),pt=f*(-C+M+F-G-H-W+V),ct=(-o+d+f)*(C-M+G),Z=(d+f)*(-C+M),at=o*C,ft=(-o+v+_)*(C-A+H),vt=(-o+v)*(A-H),Qt=(v+_)*(-C+A),re=(o+l+u-f-m-v-_)*H,pe=_*(-C+A+F-G-H-W+j),Gt=(-u+_+k)*(G+W-j),ce=(u-k)*(G-j),Jt=u*W,tr=(_+k)*(-W+j),xt=(-u+f+m)*(H+W-V),Nt=(u-m)*(H-V),Vt=(f+m)*(-W+V),te=l*F,de=m*j,oe=d*A,se=v*M,rr=k*V,gr=at+Jt+te,vi=nt+ct+Z+at+Gt+Jt+tr,Xi=at+ft+Qt+re+Jt+xt+Vt,Bi=gt+pt+ct+at+Jt+xt+Nt,yt=gt+ct+Z+at+de,kt=Jt+xt+Nt+Vt+oe,zt=at+ft+vt+pe+Gt+ce+Jt,I=Gt+ce+Jt+tr+se,U=at+ft+vt+Qt+rr;return t.set(0,0,gr),t.set(0,1,vi),t.set(0,2,Xi),t.set(1,0,Bi),t.set(1,1,yt),t.set(1,2,kt),t.set(2,0,zt),t.set(2,1,I),t.set(2,2,U),t}mmulStrassen(r){r=ve.checkMatrix(r);let t=this.clone(),o=t.rows,l=t.columns,u=r.rows,d=r.columns;l!==u&&console.warn(`Multiplying ${o} x ${l} and ${u} x ${d} matrix: dimensions do not match.`);function f(k,C,M){let A=k.rows,F=k.columns;if(A===C&&F===M)return k;{let G=pr.zeros(C,M);return G=G.setSubMatrix(k,0,0),G}}let m=Math.max(o,u),v=Math.max(l,d);t=f(t,m,v),r=f(r,m,v);function _(k,C,M,A){if(M<=512||A<=512)return k.mmul(C);M%2===1&&A%2===1?(k=f(k,M+1,A+1),C=f(C,M+1,A+1)):M%2===1?(k=f(k,M+1,A),C=f(C,M+1,A)):A%2===1&&(k=f(k,M,A+1),C=f(C,M,A+1));let F=parseInt(k.rows/2,10),G=parseInt(k.columns/2,10),H=k.subMatrix(0,F-1,0,G-1),W=C.subMatrix(0,F-1,0,G-1),j=k.subMatrix(0,F-1,G,k.columns-1),V=C.subMatrix(0,F-1,G,C.columns-1),nt=k.subMatrix(F,k.rows-1,0,G-1),gt=C.subMatrix(F,C.rows-1,0,G-1),pt=k.subMatrix(F,k.rows-1,G,k.columns-1),ct=C.subMatrix(F,C.rows-1,G,C.columns-1),Z=_(pr.add(H,pt),pr.add(W,ct),F,G),at=_(pr.add(nt,pt),W,F,G),ft=_(H,pr.sub(V,ct),F,G),vt=_(pt,pr.sub(gt,W),F,G),Qt=_(pr.add(H,j),ct,F,G),re=_(pr.sub(nt,H),pr.add(W,V),F,G),pe=_(pr.sub(j,pt),pr.add(gt,ct),F,G),Gt=pr.add(Z,vt);Gt.sub(Qt),Gt.add(pe);let ce=pr.add(ft,Qt),Jt=pr.add(at,vt),tr=pr.sub(Z,at);tr.add(ft),tr.add(re);let xt=pr.zeros(2*Gt.rows,2*Gt.columns);return xt=xt.setSubMatrix(Gt,0,0),xt=xt.setSubMatrix(ce,Gt.rows,0),xt=xt.setSubMatrix(Jt,0,Gt.columns),xt=xt.setSubMatrix(tr,Gt.rows,Gt.columns),xt.subMatrix(0,M-1,0,A-1)}return _(t,r,m,v)}scaleRows(r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{min:t=0,max:o=1}=r;if(!Number.isFinite(t))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(t>=o)throw new RangeError("min must be smaller than max");let l=new ve(this.rows,this.columns);for(let u=0;u<this.rows;u++){const d=this.getRow(u);d.length>0&&xT(d,{min:t,max:o,output:d}),l.setRow(u,d)}return l}scaleColumns(r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{min:t=0,max:o=1}=r;if(!Number.isFinite(t))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(t>=o)throw new RangeError("min must be smaller than max");let l=new ve(this.rows,this.columns);for(let u=0;u<this.columns;u++){const d=this.getColumn(u);d.length&&xT(d,{min:t,max:o,output:d}),l.setColumn(u,d)}return l}flipRows(){const r=Math.ceil(this.columns/2);for(let t=0;t<this.rows;t++)for(let o=0;o<r;o++){let l=this.get(t,o),u=this.get(t,this.columns-1-o);this.set(t,o,u),this.set(t,this.columns-1-o,l)}return this}flipColumns(){const r=Math.ceil(this.rows/2);for(let t=0;t<this.columns;t++)for(let o=0;o<r;o++){let l=this.get(o,t),u=this.get(this.rows-1-o,t);this.set(o,t,u),this.set(this.rows-1-o,t,l)}return this}kroneckerProduct(r){r=ve.checkMatrix(r);let t=this.rows,o=this.columns,l=r.rows,u=r.columns,d=new ve(t*l,o*u);for(let f=0;f<t;f++)for(let m=0;m<o;m++)for(let v=0;v<l;v++)for(let _=0;_<u;_++)d.set(l*f+v,u*m+_,this.get(f,m)*r.get(v,_));return d}kroneckerSum(r){if(r=ve.checkMatrix(r),!this.isSquare()||!r.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let t=this.rows,o=r.rows,l=this.kroneckerProduct(ve.eye(o,o)),u=ve.eye(t,t).kroneckerProduct(r);return l.add(u)}transpose(){let r=new ve(this.columns,this.rows);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)r.set(o,t,this.get(t,o));return r}sortRows(r=kT){for(let t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(r));return this}sortColumns(r=kT){for(let t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(r));return this}subMatrix(r,t,o,l){M1(this,r,t,o,l);let u=new ve(t-r+1,l-o+1);for(let d=r;d<=t;d++)for(let f=o;f<=l;f++)u.set(d-r,f-o,this.get(d,f));return u}subMatrixRow(r,t,o){if(t===void 0&&(t=0),o===void 0&&(o=this.columns-1),t>o||t<0||t>=this.columns||o<0||o>=this.columns)throw new RangeError("Argument out of range");let l=new ve(r.length,o-t+1);for(let u=0;u<r.length;u++)for(let d=t;d<=o;d++){if(r[u]<0||r[u]>=this.rows)throw new RangeError(`Row index out of range: ${r[u]}`);l.set(u,d-t,this.get(r[u],d))}return l}subMatrixColumn(r,t,o){if(t===void 0&&(t=0),o===void 0&&(o=this.rows-1),t>o||t<0||t>=this.rows||o<0||o>=this.rows)throw new RangeError("Argument out of range");let l=new ve(o-t+1,r.length);for(let u=0;u<r.length;u++)for(let d=t;d<=o;d++){if(r[u]<0||r[u]>=this.columns)throw new RangeError(`Column index out of range: ${r[u]}`);l.set(d-t,u,this.get(d,r[u]))}return l}setSubMatrix(r,t,o){if(r=ve.checkMatrix(r),r.isEmpty())return this;let l=t+r.rows-1,u=o+r.columns-1;M1(this,t,l,o,u);for(let d=0;d<r.rows;d++)for(let f=0;f<r.columns;f++)this.set(t+d,o+f,r.get(d,f));return this}selection(r,t){Hx(this,r),Ux(this,t);let o=new ve(r.length,t.length);for(let l=0;l<r.length;l++){let u=r[l];for(let d=0;d<t.length;d++){let f=t[d];o.set(l,d,this.get(u,f))}}return o}trace(){let r=Math.min(this.rows,this.columns),t=0;for(let o=0;o<r;o++)t+=this.get(o,o);return t}clone(){return this.constructor.copy(this,new ve(this.rows,this.columns))}static copy(r,t){for(const[o,l,u]of r.entries())t.set(o,l,u);return t}sum(r){switch(r){case"row":return XF(this);case"column":return KF(this);case void 0:return JF(this);default:throw new Error(`invalid option: ${r}`)}}product(r){switch(r){case"row":return QF(this);case"column":return $F(this);case void 0:return tB(this);default:throw new Error(`invalid option: ${r}`)}}mean(r){const t=this.sum(r);switch(r){case"row":{for(let o=0;o<this.rows;o++)t[o]/=this.columns;return t}case"column":{for(let o=0;o<this.columns;o++)t[o]/=this.rows;return t}case void 0:return t/this.size;default:throw new Error(`invalid option: ${r}`)}}variance(r,t={}){if(typeof r=="object"&&(t=r,r=void 0),typeof t!="object")throw new TypeError("options must be an object");const{unbiased:o=!0,mean:l=this.mean(r)}=t;if(typeof o!="boolean")throw new TypeError("unbiased must be a boolean");switch(r){case"row":{if(!Yo.isAnyArray(l))throw new TypeError("mean must be an array");return eB(this,o,l)}case"column":{if(!Yo.isAnyArray(l))throw new TypeError("mean must be an array");return rB(this,o,l)}case void 0:{if(typeof l!="number")throw new TypeError("mean must be a number");return iB(this,o,l)}default:throw new Error(`invalid option: ${r}`)}}standardDeviation(r,t){typeof r=="object"&&(t=r,r=void 0);const o=this.variance(r,t);if(r===void 0)return Math.sqrt(o);for(let l=0;l<o.length;l++)o[l]=Math.sqrt(o[l]);return o}center(r,t={}){if(typeof r=="object"&&(t=r,r=void 0),typeof t!="object")throw new TypeError("options must be an object");const{center:o=this.mean(r)}=t;switch(r){case"row":{if(!Yo.isAnyArray(o))throw new TypeError("center must be an array");return nB(this,o),this}case"column":{if(!Yo.isAnyArray(o))throw new TypeError("center must be an array");return oB(this,o),this}case void 0:{if(typeof o!="number")throw new TypeError("center must be a number");return sB(this,o),this}default:throw new Error(`invalid option: ${r}`)}}scale(r,t={}){if(typeof r=="object"&&(t=r,r=void 0),typeof t!="object")throw new TypeError("options must be an object");let o=t.scale;switch(r){case"row":{if(o===void 0)o=aB(this);else if(!Yo.isAnyArray(o))throw new TypeError("scale must be an array");return lB(this,o),this}case"column":{if(o===void 0)o=cB(this);else if(!Yo.isAnyArray(o))throw new TypeError("scale must be an array");return uB(this,o),this}case void 0:{if(o===void 0)o=hB(this);else if(typeof o!="number")throw new TypeError("scale must be a number");return dB(this,o),this}default:throw new Error(`invalid option: ${r}`)}}toString(r){return NP(this,r)}[Symbol.iterator](){return this.entries()}*entries(){for(let r=0;r<this.rows;r++)for(let t=0;t<this.columns;t++)yield[r,t,this.get(r,t)]}*values(){for(let r=0;r<this.rows;r++)for(let t=0;t<this.columns;t++)yield this.get(r,t)}}pr.prototype.klass="Matrix";typeof Symbol<"u"&&(pr.prototype[Symbol.for("nodejs.util.inspect.custom")]=VF);function kT(n,r){return n-r}function pB(n){return n.every(r=>typeof r=="number")}pr.random=pr.rand;pr.randomInt=pr.randInt;pr.diagonal=pr.diag;pr.prototype.diagonal=pr.prototype.diag;pr.identity=pr.eye;pr.prototype.negate=pr.prototype.neg;pr.prototype.tensorProduct=pr.prototype.kroneckerProduct;var tv,Dw,ev;let ve=(ev=class extends pr{constructor(n,r){if(super(),xg(this,tv),NF(this,"data"),ev.isMatrix(n))kp(this,tv,Dw).call(this,n.rows,n.columns),ev.copy(n,this);else if(Number.isInteger(n)&&n>=0)kp(this,tv,Dw).call(this,n,r);else if(Yo.isAnyArray(n)){const t=n;if(n=t.length,r=n?t[0].length:0,typeof r!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let o=0;o<n;o++){if(t[o].length!==r)throw new RangeError("Inconsistent array dimensions");if(!pB(t[o]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(t[o]))}this.rows=n,this.columns=r}else throw new TypeError("First argument must be a positive number or an array")}set(n,r,t){return this.data[n][r]=t,this}get(n,r){return this.data[n][r]}removeRow(n){return Ys(this,n),this.data.splice(n,1),this.rows-=1,this}addRow(n,r){return r===void 0&&(r=n,n=this.rows),Ys(this,n,!0),r=Float64Array.from(Xd(this,r)),this.data.splice(n,0,r),this.rows+=1,this}removeColumn(n){Xs(this,n);for(let r=0;r<this.rows;r++){const t=new Float64Array(this.columns-1);for(let o=0;o<n;o++)t[o]=this.data[r][o];for(let o=n+1;o<this.columns;o++)t[o-1]=this.data[r][o];this.data[r]=t}return this.columns-=1,this}addColumn(n,r){typeof r>"u"&&(r=n,n=this.columns),Xs(this,n,!0),r=Kd(this,r);for(let t=0;t<this.rows;t++){const o=new Float64Array(this.columns+1);let l=0;for(;l<n;l++)o[l]=this.data[t][l];for(o[l++]=r[t];l<this.columns+1;l++)o[l]=this.data[t][l-1];this.data[t]=o}return this.columns+=1,this}},tv=new WeakSet,Dw=function(n,r){if(this.data=[],Number.isInteger(r)&&r>=0)for(let t=0;t<n;t++)this.data.push(new Float64Array(r));else throw new TypeError("nColumns must be a positive integer");this.rows=n,this.columns=r},ev);YF(pr,ve);var Mo;const fB=class I1 extends pr{constructor(r){if(super(),xg(this,Mo,void 0),ve.isMatrix(r)){if(!r.isSymmetric())throw new TypeError("not symmetric data");Nw(this,Mo,ve.copy(r,new ve(r.rows,r.rows)))}else if(Number.isInteger(r)&&r>=0)Nw(this,Mo,new ve(r,r));else if(Nw(this,Mo,new ve(r)),!this.isSymmetric())throw new TypeError("not symmetric data")}get size(){return nl(this,Mo).size}get rows(){return nl(this,Mo).rows}get columns(){return nl(this,Mo).columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(r){return ve.isMatrix(r)&&r.klassType==="SymmetricMatrix"}static zeros(r){return new this(r)}static ones(r){return new this(r).fill(1)}clone(){const r=new I1(this.diagonalSize);for(const[t,o,l]of this.upperRightEntries())r.set(t,o,l);return r}toMatrix(){return new ve(this)}get(r,t){return nl(this,Mo).get(r,t)}set(r,t,o){return nl(this,Mo).set(r,t,o),nl(this,Mo).set(t,r,o),this}removeCross(r){return nl(this,Mo).removeRow(r),nl(this,Mo).removeColumn(r),this}addCross(r,t){t===void 0&&(t=r,r=this.diagonalSize);const o=t.slice();return o.splice(r,1),nl(this,Mo).addRow(r,o),nl(this,Mo).addColumn(r,t),this}applyMask(r){if(r.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const t=[];for(const[o,l]of r.entries())l||t.push(o);t.reverse();for(const o of t)this.removeCross(o);return this}toCompact(){const{diagonalSize:r}=this,t=new Array(r*(r+1)/2);for(let o=0,l=0,u=0;u<t.length;u++)t[u]=this.get(l,o),++o>=r&&(o=++l);return t}static fromCompact(r){const t=r.length,o=(Math.sqrt(8*t+1)-1)/2;if(!Number.isInteger(o))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(r)}`);const l=new I1(o);for(let u=0,d=0,f=0;f<t;f++)l.set(u,d,r[f]),++u>=o&&(u=++d);return l}*upperRightEntries(){for(let r=0,t=0;r<this.diagonalSize;void 0){const o=this.get(r,t);yield[r,t,o],++t>=this.diagonalSize&&(t=++r)}}*upperRightValues(){for(let r=0,t=0;r<this.diagonalSize;void 0)yield this.get(r,t),++t>=this.diagonalSize&&(t=++r)}};Mo=new WeakMap;let _g=fB;_g.prototype.klassType="SymmetricMatrix";class Oy extends _g{static isDistanceMatrix(r){return _g.isSymmetricMatrix(r)&&r.klassSubType==="DistanceMatrix"}constructor(r){if(super(r),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(r,t,o){return r===t&&(o=0),super.set(r,t,o)}addCross(r,t){return t===void 0&&(t=r,r=this.diagonalSize),t=t.slice(),t[r]=0,super.addCross(r,t)}toSymmetricMatrix(){return new _g(this)}clone(){const r=new Oy(this.diagonalSize);for(const[t,o,l]of this.upperRightEntries())t!==o&&r.set(t,o,l);return r}toCompact(){const{diagonalSize:r}=this,t=(r-1)*r/2,o=new Array(t);for(let l=1,u=0,d=0;d<o.length;d++)o[d]=this.get(u,l),++l>=r&&(l=++u+1);return o}static fromCompact(r){const t=r.length,o=(Math.sqrt(8*t+1)+1)/2;if(!Number.isInteger(o))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(r)}`);const l=new this(o);for(let u=1,d=0,f=0;f<t;f++)l.set(u,d,r[f]),++u>=o&&(u=++d+1);return l}}Oy.prototype.klassSubType="DistanceMatrix";class pc extends pr{constructor(r,t,o){super(),this.matrix=r,this.rows=t,this.columns=o}}class gB extends pc{constructor(r,t){Xs(r,t),super(r,r.rows,1),this.column=t}set(r,t,o){return this.matrix.set(r,this.column,o),this}get(r){return this.matrix.get(r,this.column)}}class mB extends pc{constructor(r,t){Ux(r,t),super(r,r.rows,t.length),this.columnIndices=t}set(r,t,o){return this.matrix.set(r,this.columnIndices[t],o),this}get(r,t){return this.matrix.get(r,this.columnIndices[t])}}class vB extends pc{constructor(r){super(r,r.rows,r.columns)}set(r,t,o){return this.matrix.set(r,this.columns-t-1,o),this}get(r,t){return this.matrix.get(r,this.columns-t-1)}}class yB extends pc{constructor(r){super(r,r.rows,r.columns)}set(r,t,o){return this.matrix.set(this.rows-r-1,t,o),this}get(r,t){return this.matrix.get(this.rows-r-1,t)}}class bB extends pc{constructor(r,t){Ys(r,t),super(r,1,r.columns),this.row=t}set(r,t,o){return this.matrix.set(this.row,t,o),this}get(r,t){return this.matrix.get(this.row,t)}}class wB extends pc{constructor(r,t){Hx(r,t),super(r,t.length,r.columns),this.rowIndices=t}set(r,t,o){return this.matrix.set(this.rowIndices[r],t,o),this}get(r,t){return this.matrix.get(this.rowIndices[r],t)}}class wv extends pc{constructor(r,t,o){Hx(r,t),Ux(r,o),super(r,t.length,o.length),this.rowIndices=t,this.columnIndices=o}set(r,t,o){return this.matrix.set(this.rowIndices[r],this.columnIndices[t],o),this}get(r,t){return this.matrix.get(this.rowIndices[r],this.columnIndices[t])}}class xB extends pc{constructor(r,t,o,l,u){M1(r,t,o,l,u),super(r,o-t+1,u-l+1),this.startRow=t,this.startColumn=l}set(r,t,o){return this.matrix.set(this.startRow+r,this.startColumn+t,o),this}get(r,t){return this.matrix.get(this.startRow+r,this.startColumn+t)}}class _B extends pc{constructor(r){super(r,r.columns,r.rows)}set(r,t,o){return this.matrix.set(t,r,o),this}get(r,t){return this.matrix.get(t,r)}}class DP extends pr{constructor(r,t={}){const{rows:o=1}=t;if(r.length%o!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=o,this.columns=r.length/o,this.data=r}set(r,t,o){let l=this._calculateIndex(r,t);return this.data[l]=o,this}get(r,t){let o=this._calculateIndex(r,t);return this.data[o]}_calculateIndex(r,t){return r*this.columns+t}}class ws extends pr{constructor(r){super(),this.data=r,this.rows=r.length,this.columns=r[0].length}set(r,t,o){return this.data[r][t]=o,this}get(r,t){return this.data[r][t]}}function kB(n,r){if(Yo.isAnyArray(n))return n[0]&&Yo.isAnyArray(n[0])?new ws(n):new DP(n,r);throw new Error("the argument is not an array")}class zy{constructor(r){r=ws.checkMatrix(r);let t=r.clone(),o=t.rows,l=t.columns,u=new Float64Array(o),d=1,f,m,v,_,k,C,M,A,F;for(f=0;f<o;f++)u[f]=f;for(A=new Float64Array(o),m=0;m<l;m++){for(f=0;f<o;f++)A[f]=t.get(f,m);for(f=0;f<o;f++){for(F=Math.min(f,m),k=0,v=0;v<F;v++)k+=t.get(f,v)*A[v];A[f]-=k,t.set(f,m,A[f])}for(_=m,f=m+1;f<o;f++)Math.abs(A[f])>Math.abs(A[_])&&(_=f);if(_!==m){for(v=0;v<l;v++)C=t.get(_,v),t.set(_,v,t.get(m,v)),t.set(m,v,C);M=u[_],u[_]=u[m],u[m]=M,d=-d}if(m<o&&t.get(m,m)!==0)for(f=m+1;f<o;f++)t.set(f,m,t.get(f,m)/t.get(m,m))}this.LU=t,this.pivotVector=u,this.pivotSign=d}isSingular(){let r=this.LU,t=r.columns;for(let o=0;o<t;o++)if(r.get(o,o)===0)return!0;return!1}solve(r){r=ve.checkMatrix(r);let t=this.LU;if(t.rows!==r.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let o=r.columns,l=r.subMatrixRow(this.pivotVector,0,o-1),u=t.columns,d,f,m;for(m=0;m<u;m++)for(d=m+1;d<u;d++)for(f=0;f<o;f++)l.set(d,f,l.get(d,f)-l.get(m,f)*t.get(d,m));for(m=u-1;m>=0;m--){for(f=0;f<o;f++)l.set(m,f,l.get(m,f)/t.get(m,m));for(d=0;d<m;d++)for(f=0;f<o;f++)l.set(d,f,l.get(d,f)-l.get(m,f)*t.get(d,m))}return l}get determinant(){let r=this.LU;if(!r.isSquare())throw new Error("Matrix must be square");let t=this.pivotSign,o=r.columns;for(let l=0;l<o;l++)t*=r.get(l,l);return t}get lowerTriangularMatrix(){let r=this.LU,t=r.rows,o=r.columns,l=new ve(t,o);for(let u=0;u<t;u++)for(let d=0;d<o;d++)u>d?l.set(u,d,r.get(u,d)):u===d?l.set(u,d,1):l.set(u,d,0);return l}get upperTriangularMatrix(){let r=this.LU,t=r.rows,o=r.columns,l=new ve(t,o);for(let u=0;u<t;u++)for(let d=0;d<o;d++)u<=d?l.set(u,d,r.get(u,d)):l.set(u,d,0);return l}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function $l(n,r){let t=0;return Math.abs(n)>Math.abs(r)?(t=r/n,Math.abs(n)*Math.sqrt(1+t*t)):r!==0?(t=n/r,Math.abs(r)*Math.sqrt(1+t*t)):0}class Gx{constructor(r){r=ws.checkMatrix(r);let t=r.clone(),o=r.rows,l=r.columns,u=new Float64Array(l),d,f,m,v;for(m=0;m<l;m++){let _=0;for(d=m;d<o;d++)_=$l(_,t.get(d,m));if(_!==0){for(t.get(m,m)<0&&(_=-_),d=m;d<o;d++)t.set(d,m,t.get(d,m)/_);for(t.set(m,m,t.get(m,m)+1),f=m+1;f<l;f++){for(v=0,d=m;d<o;d++)v+=t.get(d,m)*t.get(d,f);for(v=-v/t.get(m,m),d=m;d<o;d++)t.set(d,f,t.get(d,f)+v*t.get(d,m))}}u[m]=-_}this.QR=t,this.Rdiag=u}solve(r){r=ve.checkMatrix(r);let t=this.QR,o=t.rows;if(r.rows!==o)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let l=r.columns,u=r.clone(),d=t.columns,f,m,v,_;for(v=0;v<d;v++)for(m=0;m<l;m++){for(_=0,f=v;f<o;f++)_+=t.get(f,v)*u.get(f,m);for(_=-_/t.get(v,v),f=v;f<o;f++)u.set(f,m,u.get(f,m)+_*t.get(f,v))}for(v=d-1;v>=0;v--){for(m=0;m<l;m++)u.set(v,m,u.get(v,m)/this.Rdiag[v]);for(f=0;f<v;f++)for(m=0;m<l;m++)u.set(f,m,u.get(f,m)-u.get(v,m)*t.get(f,v))}return u.subMatrix(0,d-1,0,l-1)}isFullRank(){let r=this.QR.columns;for(let t=0;t<r;t++)if(this.Rdiag[t]===0)return!1;return!0}get upperTriangularMatrix(){let r=this.QR,t=r.columns,o=new ve(t,t),l,u;for(l=0;l<t;l++)for(u=0;u<t;u++)l<u?o.set(l,u,r.get(l,u)):l===u?o.set(l,u,this.Rdiag[l]):o.set(l,u,0);return o}get orthogonalMatrix(){let r=this.QR,t=r.rows,o=r.columns,l=new ve(t,o),u,d,f,m;for(f=o-1;f>=0;f--){for(u=0;u<t;u++)l.set(u,f,0);for(l.set(f,f,1),d=f;d<o;d++)if(r.get(f,f)!==0){for(m=0,u=f;u<t;u++)m+=r.get(u,f)*l.get(u,d);for(m=-m/r.get(f,f),u=f;u<t;u++)l.set(u,d,l.get(u,d)+m*r.get(u,f))}}return l}}let Mp=class{constructor(n,r={}){if(n=ws.checkMatrix(n),n.isEmpty())throw new Error("Matrix must be non-empty");let t=n.rows,o=n.columns;const{computeLeftSingularVectors:l=!0,computeRightSingularVectors:u=!0,autoTranspose:d=!1}=r;let f=!!l,m=!!u,v=!1,_;if(t<o)if(!d)_=n.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{_=n.transpose(),t=_.rows,o=_.columns,v=!0;let Z=f;f=m,m=Z}else _=n.clone();let k=Math.min(t,o),C=Math.min(t+1,o),M=new Float64Array(C),A=new ve(t,k),F=new ve(o,o),G=new Float64Array(o),H=new Float64Array(t),W=new Float64Array(C);for(let Z=0;Z<C;Z++)W[Z]=Z;let j=Math.min(t-1,o),V=Math.max(0,Math.min(o-2,t)),nt=Math.max(j,V);for(let Z=0;Z<nt;Z++){if(Z<j){M[Z]=0;for(let at=Z;at<t;at++)M[Z]=$l(M[Z],_.get(at,Z));if(M[Z]!==0){_.get(Z,Z)<0&&(M[Z]=-M[Z]);for(let at=Z;at<t;at++)_.set(at,Z,_.get(at,Z)/M[Z]);_.set(Z,Z,_.get(Z,Z)+1)}M[Z]=-M[Z]}for(let at=Z+1;at<o;at++){if(Z<j&&M[Z]!==0){let ft=0;for(let vt=Z;vt<t;vt++)ft+=_.get(vt,Z)*_.get(vt,at);ft=-ft/_.get(Z,Z);for(let vt=Z;vt<t;vt++)_.set(vt,at,_.get(vt,at)+ft*_.get(vt,Z))}G[at]=_.get(Z,at)}if(f&&Z<j)for(let at=Z;at<t;at++)A.set(at,Z,_.get(at,Z));if(Z<V){G[Z]=0;for(let at=Z+1;at<o;at++)G[Z]=$l(G[Z],G[at]);if(G[Z]!==0){G[Z+1]<0&&(G[Z]=0-G[Z]);for(let at=Z+1;at<o;at++)G[at]/=G[Z];G[Z+1]+=1}if(G[Z]=-G[Z],Z+1<t&&G[Z]!==0){for(let at=Z+1;at<t;at++)H[at]=0;for(let at=Z+1;at<t;at++)for(let ft=Z+1;ft<o;ft++)H[at]+=G[ft]*_.get(at,ft);for(let at=Z+1;at<o;at++){let ft=-G[at]/G[Z+1];for(let vt=Z+1;vt<t;vt++)_.set(vt,at,_.get(vt,at)+ft*H[vt])}}if(m)for(let at=Z+1;at<o;at++)F.set(at,Z,G[at])}}let gt=Math.min(o,t+1);if(j<o&&(M[j]=_.get(j,j)),t<gt&&(M[gt-1]=0),V+1<gt&&(G[V]=_.get(V,gt-1)),G[gt-1]=0,f){for(let Z=j;Z<k;Z++){for(let at=0;at<t;at++)A.set(at,Z,0);A.set(Z,Z,1)}for(let Z=j-1;Z>=0;Z--)if(M[Z]!==0){for(let at=Z+1;at<k;at++){let ft=0;for(let vt=Z;vt<t;vt++)ft+=A.get(vt,Z)*A.get(vt,at);ft=-ft/A.get(Z,Z);for(let vt=Z;vt<t;vt++)A.set(vt,at,A.get(vt,at)+ft*A.get(vt,Z))}for(let at=Z;at<t;at++)A.set(at,Z,-A.get(at,Z));A.set(Z,Z,1+A.get(Z,Z));for(let at=0;at<Z-1;at++)A.set(at,Z,0)}else{for(let at=0;at<t;at++)A.set(at,Z,0);A.set(Z,Z,1)}}if(m)for(let Z=o-1;Z>=0;Z--){if(Z<V&&G[Z]!==0)for(let at=Z+1;at<o;at++){let ft=0;for(let vt=Z+1;vt<o;vt++)ft+=F.get(vt,Z)*F.get(vt,at);ft=-ft/F.get(Z+1,Z);for(let vt=Z+1;vt<o;vt++)F.set(vt,at,F.get(vt,at)+ft*F.get(vt,Z))}for(let at=0;at<o;at++)F.set(at,Z,0);F.set(Z,Z,1)}let pt=gt-1,ct=Number.EPSILON;for(;gt>0;){let Z,at;for(Z=gt-2;Z>=-1&&Z!==-1;Z--){const ft=Number.MIN_VALUE+ct*Math.abs(M[Z]+Math.abs(M[Z+1]));if(Math.abs(G[Z])<=ft||Number.isNaN(G[Z])){G[Z]=0;break}}if(Z===gt-2)at=4;else{let ft;for(ft=gt-1;ft>=Z&&ft!==Z;ft--){let vt=(ft!==gt?Math.abs(G[ft]):0)+(ft!==Z+1?Math.abs(G[ft-1]):0);if(Math.abs(M[ft])<=ct*vt){M[ft]=0;break}}ft===Z?at=3:ft===gt-1?at=1:(at=2,Z=ft)}switch(Z++,at){case 1:{let ft=G[gt-2];G[gt-2]=0;for(let vt=gt-2;vt>=Z;vt--){let Qt=$l(M[vt],ft),re=M[vt]/Qt,pe=ft/Qt;if(M[vt]=Qt,vt!==Z&&(ft=-pe*G[vt-1],G[vt-1]=re*G[vt-1]),m)for(let Gt=0;Gt<o;Gt++)Qt=re*F.get(Gt,vt)+pe*F.get(Gt,gt-1),F.set(Gt,gt-1,-pe*F.get(Gt,vt)+re*F.get(Gt,gt-1)),F.set(Gt,vt,Qt)}break}case 2:{let ft=G[Z-1];G[Z-1]=0;for(let vt=Z;vt<gt;vt++){let Qt=$l(M[vt],ft),re=M[vt]/Qt,pe=ft/Qt;if(M[vt]=Qt,ft=-pe*G[vt],G[vt]=re*G[vt],f)for(let Gt=0;Gt<t;Gt++)Qt=re*A.get(Gt,vt)+pe*A.get(Gt,Z-1),A.set(Gt,Z-1,-pe*A.get(Gt,vt)+re*A.get(Gt,Z-1)),A.set(Gt,vt,Qt)}break}case 3:{const ft=Math.max(Math.abs(M[gt-1]),Math.abs(M[gt-2]),Math.abs(G[gt-2]),Math.abs(M[Z]),Math.abs(G[Z])),vt=M[gt-1]/ft,Qt=M[gt-2]/ft,re=G[gt-2]/ft,pe=M[Z]/ft,Gt=G[Z]/ft,ce=((Qt+vt)*(Qt-vt)+re*re)/2,Jt=vt*re*(vt*re);let tr=0;(ce!==0||Jt!==0)&&(ce<0?tr=0-Math.sqrt(ce*ce+Jt):tr=Math.sqrt(ce*ce+Jt),tr=Jt/(ce+tr));let xt=(pe+vt)*(pe-vt)+tr,Nt=pe*Gt;for(let Vt=Z;Vt<gt-1;Vt++){let te=$l(xt,Nt);te===0&&(te=Number.MIN_VALUE);let de=xt/te,oe=Nt/te;if(Vt!==Z&&(G[Vt-1]=te),xt=de*M[Vt]+oe*G[Vt],G[Vt]=de*G[Vt]-oe*M[Vt],Nt=oe*M[Vt+1],M[Vt+1]=de*M[Vt+1],m)for(let se=0;se<o;se++)te=de*F.get(se,Vt)+oe*F.get(se,Vt+1),F.set(se,Vt+1,-oe*F.get(se,Vt)+de*F.get(se,Vt+1)),F.set(se,Vt,te);if(te=$l(xt,Nt),te===0&&(te=Number.MIN_VALUE),de=xt/te,oe=Nt/te,M[Vt]=te,xt=de*G[Vt]+oe*M[Vt+1],M[Vt+1]=-oe*G[Vt]+de*M[Vt+1],Nt=oe*G[Vt+1],G[Vt+1]=de*G[Vt+1],f&&Vt<t-1)for(let se=0;se<t;se++)te=de*A.get(se,Vt)+oe*A.get(se,Vt+1),A.set(se,Vt+1,-oe*A.get(se,Vt)+de*A.get(se,Vt+1)),A.set(se,Vt,te)}G[gt-2]=xt;break}case 4:{if(M[Z]<=0&&(M[Z]=M[Z]<0?-M[Z]:0,m))for(let ft=0;ft<=pt;ft++)F.set(ft,Z,-F.get(ft,Z));for(;Z<pt&&!(M[Z]>=M[Z+1]);){let ft=M[Z];if(M[Z]=M[Z+1],M[Z+1]=ft,m&&Z<o-1)for(let vt=0;vt<o;vt++)ft=F.get(vt,Z+1),F.set(vt,Z+1,F.get(vt,Z)),F.set(vt,Z,ft);if(f&&Z<t-1)for(let vt=0;vt<t;vt++)ft=A.get(vt,Z+1),A.set(vt,Z+1,A.get(vt,Z)),A.set(vt,Z,ft);Z++}gt--;break}}}if(v){let Z=F;F=A,A=Z}this.m=t,this.n=o,this.s=M,this.U=A,this.V=F}solve(n){let r=n,t=this.threshold,o=this.s.length,l=ve.zeros(o,o);for(let k=0;k<o;k++)Math.abs(this.s[k])<=t?l.set(k,k,0):l.set(k,k,1/this.s[k]);let u=this.U,d=this.rightSingularVectors,f=d.mmul(l),m=d.rows,v=u.rows,_=ve.zeros(m,v);for(let k=0;k<m;k++)for(let C=0;C<v;C++){let M=0;for(let A=0;A<o;A++)M+=f.get(k,A)*u.get(C,A);_.set(k,C,M)}return _.mmul(r)}solveForDiagonal(n){return this.solve(ve.diag(n))}inverse(){let n=this.V,r=this.threshold,t=n.rows,o=n.columns,l=new ve(t,this.s.length);for(let v=0;v<t;v++)for(let _=0;_<o;_++)Math.abs(this.s[_])>r&&l.set(v,_,n.get(v,_)/this.s[_]);let u=this.U,d=u.rows,f=u.columns,m=new ve(t,d);for(let v=0;v<t;v++)for(let _=0;_<d;_++){let k=0;for(let C=0;C<f;C++)k+=l.get(v,C)*u.get(_,C);m.set(v,_,k)}return m}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let n=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,r=0,t=this.s;for(let o=0,l=t.length;o<l;o++)t[o]>n&&r++;return r}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return ve.diag(this.s)}};function EB(n,r=!1){return n=ws.checkMatrix(n),r?new Mp(n).inverse():FP(n,ve.eye(n.rows))}function FP(n,r,t=!1){return n=ws.checkMatrix(n),r=ws.checkMatrix(r),t?new Mp(n).solve(r):n.isSquare()?new zy(n).solve(r):new Gx(n).solve(r)}function xv(n){if(n=ve.checkMatrix(n),n.isSquare()){if(n.columns===0)return 1;let r,t,o,l;if(n.columns===2)return r=n.get(0,0),t=n.get(0,1),o=n.get(1,0),l=n.get(1,1),r*l-t*o;if(n.columns===3){let u,d,f;return u=new wv(n,[1,2],[1,2]),d=new wv(n,[1,2],[0,2]),f=new wv(n,[1,2],[0,1]),r=n.get(0,0),t=n.get(0,1),o=n.get(0,2),r*xv(u)-t*xv(d)+o*xv(f)}else return new zy(n).determinant}else throw Error("determinant can only be calculated for a square matrix")}function TB(n,r){let t=[];for(let o=0;o<n;o++)o!==r&&t.push(o);return t}function SB(n,r,t,o=1e-9,l=1e-9){if(n>l)return new Array(r.rows+1).fill(0);{let u=r.addRow(t,[0]);for(let d=0;d<u.rows;d++)Math.abs(u.get(d,0))<o&&u.set(d,0,0);return u.to1DArray()}}function CB(n,r={}){const{thresholdValue:t=1e-9,thresholdError:o=1e-9}=r;n=ve.checkMatrix(n);let l=n.rows,u=new ve(l,l);for(let d=0;d<l;d++){let f=ve.columnVector(n.getRow(d)),m=n.subMatrixRow(TB(l,d)).transpose(),v=new Mp(m).solve(f),_=ve.sub(f,m.mmul(v)).abs().max();u.setRow(d,SB(_,v,d,t,o))}return u}function PB(n,r=Number.EPSILON){if(n=ve.checkMatrix(n),n.isEmpty())return n.transpose();let t=new Mp(n,{autoTranspose:!0}),o=t.leftSingularVectors,l=t.rightSingularVectors,u=t.diagonal;for(let d=0;d<u.length;d++)Math.abs(u[d])>r?u[d]=1/u[d]:u[d]=0;return l.mmul(ve.diag(u).mmul(o.transpose()))}function MB(n,r=n,t={}){n=new ve(n);let o=!1;if(typeof r=="object"&&!ve.isMatrix(r)&&!Yo.isAnyArray(r)?(t=r,r=n,o=!0):r=new ve(r),n.rows!==r.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:l=!0}=t;l&&(n=n.center("column"),o||(r=r.center("column")));const u=n.transpose().mmul(r);for(let d=0;d<u.rows;d++)for(let f=0;f<u.columns;f++)u.set(d,f,u.get(d,f)*(1/(n.rows-1)));return u}function IB(n,r=n,t={}){n=new ve(n);let o=!1;if(typeof r=="object"&&!ve.isMatrix(r)&&!Yo.isAnyArray(r)?(t=r,r=n,o=!0):r=new ve(r),n.rows!==r.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:l=!0,scale:u=!0}=t;l&&(n.center("column"),o||r.center("column")),u&&(n.scale("column"),o||r.scale("column"));const d=n.standardDeviation("column",{unbiased:!0}),f=o?d:r.standardDeviation("column",{unbiased:!0}),m=n.transpose().mmul(r);for(let v=0;v<m.rows;v++)for(let _=0;_<m.columns;_++)m.set(v,_,m.get(v,_)*(1/(d[v]*f[_]))*(1/(n.rows-1)));return m}class BP{constructor(r,t={}){const{assumeSymmetric:o=!1}=t;if(r=ws.checkMatrix(r),!r.isSquare())throw new Error("Matrix is not a square matrix");if(r.isEmpty())throw new Error("Matrix must be non-empty");let l=r.columns,u=new ve(l,l),d=new Float64Array(l),f=new Float64Array(l),m=r,v,_,k=!1;if(o?k=!0:k=r.isSymmetric(),k){for(v=0;v<l;v++)for(_=0;_<l;_++)u.set(v,_,m.get(v,_));LB(l,f,d,u),RB(l,f,d,u)}else{let C=new ve(l,l),M=new Float64Array(l);for(_=0;_<l;_++)for(v=0;v<l;v++)C.set(v,_,m.get(v,_));AB(l,C,M,u),OB(l,f,d,u,C)}this.n=l,this.e=f,this.d=d,this.V=u}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let r=this.n,t=this.e,o=this.d,l=new ve(r,r),u,d;for(u=0;u<r;u++){for(d=0;d<r;d++)l.set(u,d,0);l.set(u,u,o[u]),t[u]>0?l.set(u,u+1,t[u]):t[u]<0&&l.set(u,u-1,t[u])}return l}}function LB(n,r,t,o){let l,u,d,f,m,v,_,k;for(m=0;m<n;m++)t[m]=o.get(n-1,m);for(f=n-1;f>0;f--){for(k=0,d=0,v=0;v<f;v++)k=k+Math.abs(t[v]);if(k===0)for(r[f]=t[f-1],m=0;m<f;m++)t[m]=o.get(f-1,m),o.set(f,m,0),o.set(m,f,0);else{for(v=0;v<f;v++)t[v]/=k,d+=t[v]*t[v];for(l=t[f-1],u=Math.sqrt(d),l>0&&(u=-u),r[f]=k*u,d=d-l*u,t[f-1]=l-u,m=0;m<f;m++)r[m]=0;for(m=0;m<f;m++){for(l=t[m],o.set(m,f,l),u=r[m]+o.get(m,m)*l,v=m+1;v<=f-1;v++)u+=o.get(v,m)*t[v],r[v]+=o.get(v,m)*l;r[m]=u}for(l=0,m=0;m<f;m++)r[m]/=d,l+=r[m]*t[m];for(_=l/(d+d),m=0;m<f;m++)r[m]-=_*t[m];for(m=0;m<f;m++){for(l=t[m],u=r[m],v=m;v<=f-1;v++)o.set(v,m,o.get(v,m)-(l*r[v]+u*t[v]));t[m]=o.get(f-1,m),o.set(f,m,0)}}t[f]=d}for(f=0;f<n-1;f++){if(o.set(n-1,f,o.get(f,f)),o.set(f,f,1),d=t[f+1],d!==0){for(v=0;v<=f;v++)t[v]=o.get(v,f+1)/d;for(m=0;m<=f;m++){for(u=0,v=0;v<=f;v++)u+=o.get(v,f+1)*o.get(v,m);for(v=0;v<=f;v++)o.set(v,m,o.get(v,m)-u*t[v])}}for(v=0;v<=f;v++)o.set(v,f+1,0)}for(m=0;m<n;m++)t[m]=o.get(n-1,m),o.set(n-1,m,0);o.set(n-1,n-1,1),r[0]=0}function RB(n,r,t,o){let l,u,d,f,m,v,_,k,C,M,A,F,G,H,W,j;for(d=1;d<n;d++)r[d-1]=r[d];r[n-1]=0;let V=0,nt=0,gt=Number.EPSILON;for(v=0;v<n;v++){for(nt=Math.max(nt,Math.abs(t[v])+Math.abs(r[v])),_=v;_<n&&!(Math.abs(r[_])<=gt*nt);)_++;if(_>v)do{for(l=t[v],k=(t[v+1]-l)/(2*r[v]),C=$l(k,1),k<0&&(C=-C),t[v]=r[v]/(k+C),t[v+1]=r[v]*(k+C),M=t[v+1],u=l-t[v],d=v+2;d<n;d++)t[d]-=u;for(V=V+u,k=t[_],A=1,F=A,G=A,H=r[v+1],W=0,j=0,d=_-1;d>=v;d--)for(G=F,F=A,j=W,l=A*r[d],u=A*k,C=$l(k,r[d]),r[d+1]=W*C,W=r[d]/C,A=k/C,k=A*t[d]-W*l,t[d+1]=u+W*(A*l+W*t[d]),m=0;m<n;m++)u=o.get(m,d+1),o.set(m,d+1,W*o.get(m,d)+A*u),o.set(m,d,A*o.get(m,d)-W*u);k=-W*j*G*H*r[v]/M,r[v]=W*k,t[v]=A*k}while(Math.abs(r[v])>gt*nt);t[v]=t[v]+V,r[v]=0}for(d=0;d<n-1;d++){for(m=d,k=t[d],f=d+1;f<n;f++)t[f]<k&&(m=f,k=t[f]);if(m!==d)for(t[m]=t[d],t[d]=k,f=0;f<n;f++)k=o.get(f,d),o.set(f,d,o.get(f,m)),o.set(f,m,k)}}function AB(n,r,t,o){let l=0,u=n-1,d,f,m,v,_,k,C;for(k=l+1;k<=u-1;k++){for(C=0,v=k;v<=u;v++)C=C+Math.abs(r.get(v,k-1));if(C!==0){for(m=0,v=u;v>=k;v--)t[v]=r.get(v,k-1)/C,m+=t[v]*t[v];for(f=Math.sqrt(m),t[k]>0&&(f=-f),m=m-t[k]*f,t[k]=t[k]-f,_=k;_<n;_++){for(d=0,v=u;v>=k;v--)d+=t[v]*r.get(v,_);for(d=d/m,v=k;v<=u;v++)r.set(v,_,r.get(v,_)-d*t[v])}for(v=0;v<=u;v++){for(d=0,_=u;_>=k;_--)d+=t[_]*r.get(v,_);for(d=d/m,_=k;_<=u;_++)r.set(v,_,r.get(v,_)-d*t[_])}t[k]=C*t[k],r.set(k,k-1,C*f)}}for(v=0;v<n;v++)for(_=0;_<n;_++)o.set(v,_,v===_?1:0);for(k=u-1;k>=l+1;k--)if(r.get(k,k-1)!==0){for(v=k+1;v<=u;v++)t[v]=r.get(v,k-1);for(_=k;_<=u;_++){for(f=0,v=k;v<=u;v++)f+=t[v]*o.get(v,_);for(f=f/t[k]/r.get(k,k-1),v=k;v<=u;v++)o.set(v,_,o.get(v,_)+f*t[v])}}}function OB(n,r,t,o,l){let u=n-1,d=0,f=n-1,m=Number.EPSILON,v=0,_=0,k=0,C=0,M=0,A=0,F=0,G=0,H,W,j,V,nt,gt,pt,ct,Z,at,ft,vt,Qt,re,pe;for(H=0;H<n;H++)for((H<d||H>f)&&(t[H]=l.get(H,H),r[H]=0),W=Math.max(H-1,0);W<n;W++)_=_+Math.abs(l.get(H,W));for(;u>=d;){for(V=u;V>d&&(A=Math.abs(l.get(V-1,V-1))+Math.abs(l.get(V,V)),A===0&&(A=_),!(Math.abs(l.get(V,V-1))<m*A));)V--;if(V===u)l.set(u,u,l.get(u,u)+v),t[u]=l.get(u,u),r[u]=0,u--,G=0;else if(V===u-1){if(pt=l.get(u,u-1)*l.get(u-1,u),k=(l.get(u-1,u-1)-l.get(u,u))/2,C=k*k+pt,F=Math.sqrt(Math.abs(C)),l.set(u,u,l.get(u,u)+v),l.set(u-1,u-1,l.get(u-1,u-1)+v),ct=l.get(u,u),C>=0){for(F=k>=0?k+F:k-F,t[u-1]=ct+F,t[u]=t[u-1],F!==0&&(t[u]=ct-pt/F),r[u-1]=0,r[u]=0,ct=l.get(u,u-1),A=Math.abs(ct)+Math.abs(F),k=ct/A,C=F/A,M=Math.sqrt(k*k+C*C),k=k/M,C=C/M,W=u-1;W<n;W++)F=l.get(u-1,W),l.set(u-1,W,C*F+k*l.get(u,W)),l.set(u,W,C*l.get(u,W)-k*F);for(H=0;H<=u;H++)F=l.get(H,u-1),l.set(H,u-1,C*F+k*l.get(H,u)),l.set(H,u,C*l.get(H,u)-k*F);for(H=d;H<=f;H++)F=o.get(H,u-1),o.set(H,u-1,C*F+k*o.get(H,u)),o.set(H,u,C*o.get(H,u)-k*F)}else t[u-1]=ct+k,t[u]=ct+k,r[u-1]=F,r[u]=-F;u=u-2,G=0}else{if(ct=l.get(u,u),Z=0,pt=0,V<u&&(Z=l.get(u-1,u-1),pt=l.get(u,u-1)*l.get(u-1,u)),G===10){for(v+=ct,H=d;H<=u;H++)l.set(H,H,l.get(H,H)-ct);A=Math.abs(l.get(u,u-1))+Math.abs(l.get(u-1,u-2)),ct=Z=.75*A,pt=-.4375*A*A}if(G===30&&(A=(Z-ct)/2,A=A*A+pt,A>0)){for(A=Math.sqrt(A),Z<ct&&(A=-A),A=ct-pt/((Z-ct)/2+A),H=d;H<=u;H++)l.set(H,H,l.get(H,H)-A);v+=A,ct=Z=pt=.964}for(G=G+1,nt=u-2;nt>=V&&(F=l.get(nt,nt),M=ct-F,A=Z-F,k=(M*A-pt)/l.get(nt+1,nt)+l.get(nt,nt+1),C=l.get(nt+1,nt+1)-F-M-A,M=l.get(nt+2,nt+1),A=Math.abs(k)+Math.abs(C)+Math.abs(M),k=k/A,C=C/A,M=M/A,!(nt===V||Math.abs(l.get(nt,nt-1))*(Math.abs(C)+Math.abs(M))<m*(Math.abs(k)*(Math.abs(l.get(nt-1,nt-1))+Math.abs(F)+Math.abs(l.get(nt+1,nt+1))))));)nt--;for(H=nt+2;H<=u;H++)l.set(H,H-2,0),H>nt+2&&l.set(H,H-3,0);for(j=nt;j<=u-1&&(re=j!==u-1,j!==nt&&(k=l.get(j,j-1),C=l.get(j+1,j-1),M=re?l.get(j+2,j-1):0,ct=Math.abs(k)+Math.abs(C)+Math.abs(M),ct!==0&&(k=k/ct,C=C/ct,M=M/ct)),ct!==0);j++)if(A=Math.sqrt(k*k+C*C+M*M),k<0&&(A=-A),A!==0){for(j!==nt?l.set(j,j-1,-A*ct):V!==nt&&l.set(j,j-1,-l.get(j,j-1)),k=k+A,ct=k/A,Z=C/A,F=M/A,C=C/k,M=M/k,W=j;W<n;W++)k=l.get(j,W)+C*l.get(j+1,W),re&&(k=k+M*l.get(j+2,W),l.set(j+2,W,l.get(j+2,W)-k*F)),l.set(j,W,l.get(j,W)-k*ct),l.set(j+1,W,l.get(j+1,W)-k*Z);for(H=0;H<=Math.min(u,j+3);H++)k=ct*l.get(H,j)+Z*l.get(H,j+1),re&&(k=k+F*l.get(H,j+2),l.set(H,j+2,l.get(H,j+2)-k*M)),l.set(H,j,l.get(H,j)-k),l.set(H,j+1,l.get(H,j+1)-k*C);for(H=d;H<=f;H++)k=ct*o.get(H,j)+Z*o.get(H,j+1),re&&(k=k+F*o.get(H,j+2),o.set(H,j+2,o.get(H,j+2)-k*M)),o.set(H,j,o.get(H,j)-k),o.set(H,j+1,o.get(H,j+1)-k*C)}}}if(_!==0){for(u=n-1;u>=0;u--)if(k=t[u],C=r[u],C===0)for(V=u,l.set(u,u,1),H=u-1;H>=0;H--){for(pt=l.get(H,H)-k,M=0,W=V;W<=u;W++)M=M+l.get(H,W)*l.get(W,u);if(r[H]<0)F=pt,A=M;else if(V=H,r[H]===0?l.set(H,u,pt!==0?-M/pt:-M/(m*_)):(ct=l.get(H,H+1),Z=l.get(H+1,H),C=(t[H]-k)*(t[H]-k)+r[H]*r[H],gt=(ct*A-F*M)/C,l.set(H,u,gt),l.set(H+1,u,Math.abs(ct)>Math.abs(F)?(-M-pt*gt)/ct:(-A-Z*gt)/F)),gt=Math.abs(l.get(H,u)),m*gt*gt>1)for(W=H;W<=u;W++)l.set(W,u,l.get(W,u)/gt)}else if(C<0)for(V=u-1,Math.abs(l.get(u,u-1))>Math.abs(l.get(u-1,u))?(l.set(u-1,u-1,C/l.get(u,u-1)),l.set(u-1,u,-(l.get(u,u)-k)/l.get(u,u-1))):(pe=rv(0,-l.get(u-1,u),l.get(u-1,u-1)-k,C),l.set(u-1,u-1,pe[0]),l.set(u-1,u,pe[1])),l.set(u,u-1,0),l.set(u,u,1),H=u-2;H>=0;H--){for(at=0,ft=0,W=V;W<=u;W++)at=at+l.get(H,W)*l.get(W,u-1),ft=ft+l.get(H,W)*l.get(W,u);if(pt=l.get(H,H)-k,r[H]<0)F=pt,M=at,A=ft;else if(V=H,r[H]===0?(pe=rv(-at,-ft,pt,C),l.set(H,u-1,pe[0]),l.set(H,u,pe[1])):(ct=l.get(H,H+1),Z=l.get(H+1,H),vt=(t[H]-k)*(t[H]-k)+r[H]*r[H]-C*C,Qt=(t[H]-k)*2*C,vt===0&&Qt===0&&(vt=m*_*(Math.abs(pt)+Math.abs(C)+Math.abs(ct)+Math.abs(Z)+Math.abs(F))),pe=rv(ct*M-F*at+C*ft,ct*A-F*ft-C*at,vt,Qt),l.set(H,u-1,pe[0]),l.set(H,u,pe[1]),Math.abs(ct)>Math.abs(F)+Math.abs(C)?(l.set(H+1,u-1,(-at-pt*l.get(H,u-1)+C*l.get(H,u))/ct),l.set(H+1,u,(-ft-pt*l.get(H,u)-C*l.get(H,u-1))/ct)):(pe=rv(-M-Z*l.get(H,u-1),-A-Z*l.get(H,u),F,C),l.set(H+1,u-1,pe[0]),l.set(H+1,u,pe[1]))),gt=Math.max(Math.abs(l.get(H,u-1)),Math.abs(l.get(H,u))),m*gt*gt>1)for(W=H;W<=u;W++)l.set(W,u-1,l.get(W,u-1)/gt),l.set(W,u,l.get(W,u)/gt)}for(H=0;H<n;H++)if(H<d||H>f)for(W=H;W<n;W++)o.set(H,W,l.get(H,W));for(W=n-1;W>=d;W--)for(H=d;H<=f;H++){for(F=0,j=d;j<=Math.min(W,f);j++)F=F+o.get(H,j)*l.get(j,W);o.set(H,W,F)}}}function rv(n,r,t,o){let l,u;return Math.abs(t)>Math.abs(o)?(l=o/t,u=t+l*o,[(n+l*r)/u,(r-l*n)/u]):(l=t/o,u=o+l*t,[(l*n+r)/u,(l*r-n)/u])}class jP{constructor(r){if(r=ws.checkMatrix(r),!r.isSymmetric())throw new Error("Matrix is not symmetric");let t=r,o=t.rows,l=new ve(o,o),u=!0,d,f,m;for(f=0;f<o;f++){let v=0;for(m=0;m<f;m++){let _=0;for(d=0;d<m;d++)_+=l.get(m,d)*l.get(f,d);_=(t.get(f,m)-_)/l.get(m,m),l.set(f,m,_),v=v+_*_}for(v=t.get(f,f)-v,u&=v>0,l.set(f,f,Math.sqrt(Math.max(v,0))),m=f+1;m<o;m++)l.set(f,m,0)}this.L=l,this.positiveDefinite=!!u}isPositiveDefinite(){return this.positiveDefinite}solve(r){r=ws.checkMatrix(r);let t=this.L,o=t.rows;if(r.rows!==o)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");let l=r.columns,u=r.clone(),d,f,m;for(m=0;m<o;m++)for(f=0;f<l;f++){for(d=0;d<m;d++)u.set(m,f,u.get(m,f)-u.get(d,f)*t.get(m,d));u.set(m,f,u.get(m,f)/t.get(m,m))}for(m=o-1;m>=0;m--)for(f=0;f<l;f++){for(d=m+1;d<o;d++)u.set(m,f,u.get(m,f)-u.get(d,f)*t.get(d,m));u.set(m,f,u.get(m,f)/t.get(m,m))}return u}get lowerTriangularMatrix(){return this.L}}class HP{constructor(r,t={}){r=ws.checkMatrix(r);let{Y:o}=t;const{scaleScores:l=!1,maxIterations:u=1e3,terminationCriteria:d=1e-10}=t;let f;if(o){if(Yo.isAnyArray(o)&&typeof o[0]=="number"?o=ve.columnVector(o):o=ws.checkMatrix(o),o.rows!==r.rows)throw new Error("Y should have the same number of rows as X");f=o.getColumnVector(0)}else f=r.getColumnVector(0);let m=1,v,_,k,C;for(let M=0;M<u&&m>d;M++)k=r.transpose().mmul(f).div(f.transpose().mmul(f).get(0,0)),k=k.div(k.norm()),v=r.mmul(k).div(k.transpose().mmul(k).get(0,0)),M>0&&(m=v.clone().sub(C).pow(2).sum()),C=v.clone(),o?(_=o.transpose().mmul(v).div(v.transpose().mmul(v).get(0,0)),_=_.div(_.norm()),f=o.mmul(_).div(_.transpose().mmul(_).get(0,0))):f=v;if(o){let M=r.transpose().mmul(v).div(v.transpose().mmul(v).get(0,0));M=M.div(M.norm());let A=r.clone().sub(v.clone().mmul(M.transpose())),F=f.transpose().mmul(v).div(v.transpose().mmul(v).get(0,0)),G=o.clone().sub(v.clone().mulS(F.get(0,0)).mmul(_.transpose()));this.t=v,this.p=M.transpose(),this.w=k.transpose(),this.q=_,this.u=f,this.s=v.transpose().mmul(v),this.xResidual=A,this.yResidual=G,this.betas=F}else this.w=k.transpose(),this.s=v.transpose().mmul(v).sqrt(),l?this.t=v.clone().div(this.s.get(0,0)):this.t=v,this.xResidual=r.sub(v.mmul(k.transpose()))}}$r.AbstractMatrix=pr;$r.CHO=jP;$r.CholeskyDecomposition=jP;$r.DistanceMatrix=Oy;$r.EVD=BP;$r.EigenvalueDecomposition=BP;$r.LU=zy;$r.LuDecomposition=zy;var zB=$r.Matrix=ve;$r.MatrixColumnSelectionView=mB;$r.MatrixColumnView=gB;$r.MatrixFlipColumnView=vB;$r.MatrixFlipRowView=yB;$r.MatrixRowSelectionView=wB;$r.MatrixRowView=bB;$r.MatrixSelectionView=wv;$r.MatrixSubView=xB;$r.MatrixTransposeView=_B;$r.NIPALS=HP;$r.Nipals=HP;$r.QR=Gx;$r.QrDecomposition=Gx;$r.SVD=Mp;var NB=$r.SingularValueDecomposition=Mp;$r.SymmetricMatrix=_g;$r.WrapperMatrix1D=DP;$r.WrapperMatrix2D=ws;$r.correlation=IB;$r.covariance=MB;var ET=$r.default=ve;$r.determinant=xv;var DB=$r.inverse=EB;$r.linearDependencies=CB;var FB=$r.pseudoInverse=PB;$r.solve=FP;$r.wrap=kB;const uo=zB,BB=NB;ET.Matrix&&ET.Matrix;const jB=DB,UP=FB;class HB{constructor(r,t){if(this.sourcePoints=r,this.destinationPoints=t,this.pointCount=this.sourcePoints.length,this.pointCount<2)throw new Error("Not enough control points. A helmert transformation requires a minimum of 2 points, but "+this.pointCount+" are given.");const o=uo.columnVector(t.flat()),l=uo.zeros(2*this.pointCount,4);for(let d=0;d<this.pointCount;d++)l.set(2*d,0,1),l.set(2*d,1,0),l.set(2*d,2,r[d][0]),l.set(2*d,3,-r[d][1]),l.set(2*d+1,0,0),l.set(2*d+1,1,1),l.set(2*d+1,2,r[d][1]),l.set(2*d+1,3,r[d][0]);const u=UP(l);this.helmertParametersMatrix=u.mmul(o)}interpolate(r){if(!this.helmertParametersMatrix)throw new Error("Helmert parameters not computed");return[this.helmertParametersMatrix.get(0,0)+this.helmertParametersMatrix.get(2,0)*r[0]-this.helmertParametersMatrix.get(3,0)*r[1],this.helmertParametersMatrix.get(1,0)+this.helmertParametersMatrix.get(3,0)*r[0]+this.helmertParametersMatrix.get(2,0)*r[1]]}}class Fw{constructor(r,t,o){if(this.sourcePoints=r,this.destinationPoints=t,this.pointCount=this.sourcePoints.length,this.order=o||1,this.nCoefs=(this.order+1)*(this.order+2)/2,this.pointCount<this.nCoefs)throw new Error("Not enough control points. A polynomial transformation of order "+this.order+" requires a minimum of "+this.nCoefs+" points, but "+this.pointCount+" are given.");if(this.order<1||this.order>3)throw new Error("Only polynomial transformations of order 1, 2 or 3 are supported");const l=[uo.columnVector(t.map(f=>f[0])),uo.columnVector(t.map(f=>f[1]))],u=uo.zeros(this.pointCount,this.nCoefs);for(let f=0;f<this.pointCount;f++)switch(this.order){case 1:u.set(f,0,1),u.set(f,1,r[f][0]),u.set(f,2,r[f][1]);break;case 2:u.set(f,0,1),u.set(f,1,r[f][0]),u.set(f,2,r[f][1]),u.set(f,3,r[f][0]**2),u.set(f,4,r[f][1]**2),u.set(f,5,r[f][0]*r[f][1]);break;case 3:u.set(f,0,1),u.set(f,1,r[f][0]),u.set(f,2,r[f][1]),u.set(f,3,r[f][0]**2),u.set(f,4,r[f][1]**2),u.set(f,5,r[f][0]*r[f][1]),u.set(f,6,r[f][0]**3),u.set(f,7,r[f][1]**3),u.set(f,8,r[f][0]**2*r[f][1]),u.set(f,9,r[f][0]*r[f][1]**2);break}const d=UP(u);this.polynomialParametersMatrices=[d.mmul(l[0]),d.mmul(l[1])]}interpolate(r){if(!this.polynomialParametersMatrices)throw new Error("Polynomial parameters not computed");const t=[0,0];for(let o=0;o<2;o++)switch(this.order){case 1:t[o]+=this.polynomialParametersMatrices[o].get(0,0)+this.polynomialParametersMatrices[o].get(1,0)*r[0]+this.polynomialParametersMatrices[o].get(2,0)*r[1];break;case 2:t[o]+=this.polynomialParametersMatrices[o].get(0,0)+this.polynomialParametersMatrices[o].get(1,0)*r[0]+this.polynomialParametersMatrices[o].get(2,0)*r[1]+this.polynomialParametersMatrices[o].get(3,0)*r[0]**2+this.polynomialParametersMatrices[o].get(4,0)*r[1]**2+this.polynomialParametersMatrices[o].get(5,0)*r[0]*r[1];break;case 3:t[o]+=this.polynomialParametersMatrices[o].get(0,0)+this.polynomialParametersMatrices[o].get(1,0)*r[0]+this.polynomialParametersMatrices[o].get(2,0)*r[1]+this.polynomialParametersMatrices[o].get(3,0)*r[0]**2+this.polynomialParametersMatrices[o].get(4,0)*r[1]**2+this.polynomialParametersMatrices[o].get(5,0)*r[0]*r[1]+this.polynomialParametersMatrices[o].get(6,0)*r[0]**3+this.polynomialParametersMatrices[o].get(7,0)*r[1]**3+this.polynomialParametersMatrices[o].get(8,0)*r[0]**2*r[1]+this.polynomialParametersMatrices[o].get(9,0)*r[0]*r[1]**2;break}return t}}class UB{constructor(r,t){if(this.sourcePoints=r,this.destinationPoints=t,this.pointCount=this.sourcePoints.length,this.pointCount<4)throw new Error("Not enough control points. A projective transformation requires a minimum of 4 points, but "+this.pointCount+" are given.");const o=uo.zeros(2*this.pointCount,9);for(let u=0;u<this.pointCount;u++)o.set(2*u,0,-r[u][0]),o.set(2*u,1,-r[u][1]),o.set(2*u,2,-1),o.set(2*u,3,0),o.set(2*u,4,0),o.set(2*u,5,0),o.set(2*u,6,t[u][0]*r[u][0]),o.set(2*u,7,t[u][0]*r[u][1]),o.set(2*u,8,t[u][0]),o.set(2*u+1,0,0),o.set(2*u+1,1,0),o.set(2*u+1,2,0),o.set(2*u+1,3,-r[u][0]),o.set(2*u+1,4,-r[u][1]),o.set(2*u+1,5,-1),o.set(2*u+1,6,t[u][1]*r[u][0]),o.set(2*u+1,7,t[u][1]*r[u][1]),o.set(2*u+1,8,t[u][1]);const l=new BB(o);this.projectiveParametersMatrix=uo.from1DArray(3,3,l.rightSingularVectors.getColumn(8)).transpose()}interpolate(r){if(!this.projectiveParametersMatrix)throw new Error("projective parameters not computed");const t=this.projectiveParametersMatrix.get(0,2)*r[0]+this.projectiveParametersMatrix.get(1,2)*r[1]+this.projectiveParametersMatrix.get(2,2);return[(this.projectiveParametersMatrix.get(0,0)*r[0]+this.projectiveParametersMatrix.get(1,0)*r[1]+this.projectiveParametersMatrix.get(2,0))/t,(this.projectiveParametersMatrix.get(0,1)*r[0]+this.projectiveParametersMatrix.get(1,1)*r[1]+this.projectiveParametersMatrix.get(2,1))/t]}}function GB(n,r){if(n=uo.checkMatrix(n),r=uo.checkMatrix(r),n.rows!=r.rows||n.columns!=r.columns)throw new Error("Matrices have different dimensions");const t=uo.zeros(n.rows,n.columns);for(let o=0;o<n.rows;o++)for(let l=0;l<n.columns;l++)t.set(o,l,n.get(o,l)*r.get(o,l));return t}class qB{constructor(r,t,o,l,u){if(this.sourcePoints=r,this.destinationPoints=t,this.kernelFunction=o,this.normFunction=l,this.pointCount=this.sourcePoints.length,this.pointCount<3)throw new Error(`Not enough control points. A thin plate spline transformation (with affine component) requires a minimum of 3 points, but ${this.pointCount} are given.`);const d=[uo.columnVector([...t,[0,0],[0,0],[0,0]].map(k=>k[0])),uo.columnVector([...t,[0,0],[0,0],[0,0]].map(k=>k[1]))],f=uo.zeros(this.pointCount,this.pointCount);for(let k=0;k<this.pointCount;k++)for(let C=0;C<this.pointCount;C++)f.set(k,C,l(r[k],r[C]));u===void 0&&(u=f.sum()/(Math.pow(this.pointCount,2)-this.pointCount)),this.epsilon=u;for(let k=0;k<this.pointCount;k++)for(let C=0;C<this.pointCount;C++)f.set(k,C,o(f.get(k,C),u));const m=uo.zeros(this.pointCount,3),v=uo.zeros(this.pointCount+3,this.pointCount+3);for(let k=0;k<this.pointCount;k++)m.set(k,0,1),m.set(k,1,r[k][0]),m.set(k,2,r[k][1]);for(let k=0;k<this.pointCount+3;k++)for(let C=0;C<this.pointCount+3;C++)k<this.pointCount&&C<this.pointCount?v.set(k,C,f.get(k,C)):k>=this.pointCount&&C<this.pointCount?v.set(k,C,m.transpose().get(k-this.pointCount,C)):k<this.pointCount&&C>=this.pointCount&&v.set(k,C,m.get(k,C-this.pointCount));const _=jB(v);this.weightsMatrices=[_.mmul(d[0]),_.mmul(d[1])]}interpolate(r){if(!this.weightsMatrices)throw new Error("Weights not computed");const t=uo.zeros(this.pointCount,1);for(let l=0;l<this.pointCount;l++)t.set(l,0,this.kernelFunction(this.normFunction(r,this.sourcePoints[l]),this.epsilon));const o=[0,0];for(let l=0;l<2;l++){o[l]=GB(t,this.weightsMatrices[l].selection([...Array(this.pointCount).keys()],[0])).sum();const u=this.weightsMatrices[l].get(this.pointCount,0),d=this.weightsMatrices[l].get(this.pointCount+1,0),f=this.weightsMatrices[l].get(this.pointCount+2,0);o[l]+=u+d*r[0]+f*r[1]}return o}}function VB(n){return n===0?0:Math.pow(n,2)*Math.log(n)}function WB(n,r){const t=[r[0]-n[0],r[1]-n[1]];return Math.sqrt(t[0]**2+t[1]**2)}function Ny(n){const r={close:!1,maxOffsetRatio:0,maxDepth:0,destinationIsGeographic:!1,sourceIsGeographic:!1};return n&&n.maxDepth!==void 0&&(r.maxDepth=n.maxDepth),n&&n.maxOffsetRatio!==void 0&&(r.maxOffsetRatio=n.maxOffsetRatio),n&&n.destinationIsGeographic!==void 0&&(r.destinationIsGeographic=n.destinationIsGeographic),n&&n.sourceIsGeographic!==void 0&&(r.sourceIsGeographic=n.sourceIsGeographic),r}function iv(n,r,t){const o=Ny(t);r=LP(r);const l=r.map(f=>({source:f,destination:n.transformForward(f)})),u=Dy(l,!1),d=GP(n,u,o);return Fy(d,!0).map(f=>f.destination)}function nv(n,r,t){const o=Ny(t);r=LP(r);const l=r.map(f=>({source:n.transformBackward(f),destination:f})),u=Dy(l,!1),d=qP(n,u,o);return Fy(d,!0).map(f=>f.source)}function ZB(n,r,t){const o=Ny(t);r=Fx(r);const l=r.map(f=>({source:f,destination:n.transformForward(f)})),u=Dy(l,!0),d=GP(n,u,o);return Fy(d,!1).map(f=>f.destination)}function YB(n,r,t){const o=Ny(t);r=Fx(r);const l=r.map(f=>({source:n.transformBackward(f),destination:f})),u=Dy(l,!0),d=qP(n,u,o);return Fy(d,!1).map(f=>f.source)}function ov(n,r,t){return r.map(o=>ZB(n,o,t))}function sv(n,r,t){return r.map(o=>YB(n,o,t))}function Dy(n,r=!1){const t=n.length-(r?0:1),o=[];for(let l=0;l<t;l++)o.push({from:n[l],to:n[(l+1)%n.length]});return o}function Fy(n,r=!1){const t=n.map(o=>o.from);return r&&t.push(n[n.length-1].to),t}function GP(n,r,t){return t.maxDepth<=0||t.maxOffsetRatio<=0?r:r.map(o=>L1(n,o,t,0)).flat(1)}function qP(n,r,t){return t.maxDepth<=0||t.maxOffsetRatio<=0?r:r.map(o=>R1(n,o,t,0)).flat(1)}function L1(n,r,t,o){const l=(t.sourceIsGeographic?(_,k)=>ny(_,k).geometry.coordinates:oy)(r.from.source,r.to.source),u=(t.destinationIsGeographic?(_,k)=>ny(_,k).geometry.coordinates:oy)(r.from.destination,r.to.destination),d=n.transformForward(l),f=t.destinationIsGeographic?Dx:oc,m=f(r.from.destination,r.to.destination),v=f(u,d);if(o<t.maxDepth&&t.maxOffsetRatio&&v/m>t.maxOffsetRatio&&m>0){const _={source:l,destination:d};return[L1(n,{from:r.from,to:_},t,o+1),L1(n,{from:_,to:r.to},t,o+1)].flat(1)}else return r}function R1(n,r,t,o){const l=(t.destinationIsGeographic?(_,k)=>ny(_,k).geometry.coordinates:oy)(r.from.destination,r.to.destination),u=(t.sourceIsGeographic?(_,k)=>ny(_,k).geometry.coordinates:oy)(r.from.source,r.to.source),d=n.transformBackward(l),f=t.sourceIsGeographic?Dx:oc,m=f(r.from.source,r.to.source),v=f(u,d);if(o<t.maxDepth&&t.maxOffsetRatio&&v/m>t.maxOffsetRatio&&m>0){const _={source:d,destination:l};return[R1(n,{from:r.from,to:_},t,o+1),R1(n,{from:_,to:r.to},t,o+1)].flat(1)}else return r}var A1,VP,O1,WP,_v,Bw;class TT{constructor(r,t="polynomial"){if(xg(this,A1),xg(this,O1),xg(this,_v),r.length==0)throw new Error("No control points.");this.gcps=r.map(o=>{if("resource"in o&&"geo"in o)return{source:o.resource,destination:o.geo};if("source"in o&&"destination"in o)return o;throw new Error("Unsupported GCP type")}),this.sourcePoints=this.gcps.map(o=>o.source),this.destinationPoints=this.gcps.map(o=>o.destination),this.type=t}transformForward(r,t){if(Zo(r))return this.forwardTransformation||(this.forwardTransformation=kp(this,A1,VP).call(this)),this.forwardTransformation.interpolate(r);if(Xl(r))return this.transformForward(sg(r));if(ol(r))return iv(this,r,t);if(Kl(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),iv(this,ag(r),t);if(sl(r))return ov(this,r,t);if(Jl(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),ov(this,lg(r),t);throw new Error("Input type not supported")}transformForwardAsGeojson(r,t){if(Zo(r))return X0(this.transformForward(r));if(Xl(r))return X0(this.transformForward(sg(r)));if(ol(r))return t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),K0(iv(this,r,t));if(Kl(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),K0(iv(this,ag(r),t));if(sl(r))return t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),J0(ov(this,r,t));if(Jl(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),J0(ov(this,lg(r),t));throw new Error("Input type not supported")}transformBackward(r,t){if(Zo(r))return this.backwardTransformation||(this.backwardTransformation=kp(this,O1,WP).call(this)),this.backwardTransformation.interpolate(r);if(Xl(r))return this.transformBackward(sg(r));if(ol(r))return nv(this,r,t);if(Kl(r))return t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),nv(this,ag(r),t);if(sl(r))return sv(this,r,t);if(Jl(r))return t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),sv(this,lg(r),t);throw new Error("Input type not supported")}transformBackwardAsGeojson(r,t){if(Zo(r))return X0(this.transformBackward(r));if(Xl(r))return X0(this.transformBackward(sg(r)));if(ol(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),K0(nv(this,r,t));if(Kl(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),K0(nv(this,ag(r),t));if(sl(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),J0(sv(this,r,t));if(Jl(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),J0(sv(this,lg(r),t));throw new Error("Input type not supported")}transformToGeo(r,t){if(Zo(r))return this.transformForward(r,t);if(Xl(r))return this.transformForward(r,t);if(ol(r))return this.transformForward(r,t);if(Kl(r))return this.transformForward(r,t);if(sl(r))return this.transformForward(r,t);if(Jl(r))return this.transformForward(r,t);throw new Error("Input type not supported")}transformToGeoAsGeojson(r,t){if(Zo(r))return this.transformForwardAsGeojson(r,t);if(Xl(r))return this.transformForwardAsGeojson(r,t);if(ol(r))return this.transformForwardAsGeojson(r,t);if(Kl(r))return this.transformForwardAsGeojson(r,t);if(sl(r))return this.transformForwardAsGeojson(r,t);if(Jl(r))return this.transformForwardAsGeojson(r,t);throw new Error("Input type not supported")}transformToResource(r,t){if(Zo(r))return this.transformBackward(r,t);if(Xl(r))return this.transformBackward(r,t);if(ol(r))return this.transformBackward(r,t);if(Kl(r))return this.transformBackward(r,t);if(sl(r))return this.transformBackward(r,t);if(Jl(r))return this.transformBackward(r,t);throw new Error("Input type not supported")}transformToResourceAsGeojson(r,t){if(Zo(r))return this.transformBackwardAsGeojson(r,t);if(Xl(r))return this.transformBackwardAsGeojson(r,t);if(ol(r))return this.transformBackwardAsGeojson(r,t);if(Kl(r))return this.transformBackwardAsGeojson(r,t);if(sl(r))return this.transformBackwardAsGeojson(r,t);if(Jl(r))return this.transformBackwardAsGeojson(r,t);throw new Error("Input type not supported")}transformSvgToGeojson(r,t){if(r.type==="circle")return this.transformForwardAsGeojson(r.coordinates);if(r.type==="line")return this.transformForwardAsGeojson(r.coordinates,t);if(r.type==="polyline")return this.transformForwardAsGeojson(r.coordinates,t);if(r.type==="rect")return this.transformForwardAsGeojson([r.coordinates],t);if(r.type==="polygon")return this.transformForwardAsGeojson([r.coordinates],t);throw new Error("Unsupported SVG geometry")}transformGeojsonToSvg(r,t){if(r.type==="Point")return{type:"circle",coordinates:this.transformBackward(r)};if(r.type==="LineString")return{type:"polyline",coordinates:this.transformBackward(r,t)};if(r.type==="Polygon")return{type:"polygon",coordinates:this.transformBackward(r,t)[0]};throw new Error("Unsupported GeoJSON geometry")}}A1=new WeakSet,VP=function(){return kp(this,_v,Bw).call(this,this.sourcePoints,this.destinationPoints)},O1=new WeakSet,WP=function(){return kp(this,_v,Bw).call(this,this.destinationPoints,this.sourcePoints)},_v=new WeakSet,Bw=function(n,r){if(this.type==="helmert")return new HB(n,r);if(this.type==="polynomial1"||this.type==="polynomial")return new Fw(n,r);if(this.type==="polynomial2")return new Fw(n,r,2);if(this.type==="polynomial3")return new Fw(n,r,3);if(this.type==="projective")return new UB(n,r);if(this.type==="thinPlateSpline")return new qB(n,r,VB,WB);throw new Error(`Unsupported transformation type: ${this.type}`)};function XB(n){return Math.sqrt(Math.pow(n[1][0]-n[0][0],2)+Math.pow(n[1][1]-n[0][1],2))}function KB(n){return Math.atan2(n[1][1]-n[0][1],n[1][0]-n[0][0])}function JB(n,r,t){return[n[0]+Math.cos(t)*r,n[1]+Math.sin(t)*r]}function QB(n,r){let t=n[0];const o=[t];for(;XB([t,n[1]])>r;){const l=JB(t,r,KB(n));o.push(l),t=l}return o}function $B(n,r){n=[...n,n[0]];let t=[];for(let o=0;o<n.length-1;o++)t=t.concat(QB([n[o],n[o+1]],r));return t}function t7(n,r){const t=[],o=Gn(n);for(let l=o[0]+r,u=0;l<=o[2];u++,l+=r)for(let d=o[1]+r,f=0;d<=o[3];f++,d+=r)t.push([l,d]);return t}var z1={},e7={get exports(){return z1},set exports(n){z1=n}},ZP=r7,ST=+(Math.pow(2,27)+1);function r7(n,r,t){var o=n*r,l=ST*n,u=l-n,d=l-u,f=n-d,m=ST*r,v=m-r,_=m-v,k=r-_,C=o-d*_,M=C-f*_,A=M-d*k,F=f*k-A;return t?(t[0]=F,t[1]=o,t):[F,o]}var i7=o7;function n7(n,r){var t=n+r,o=t-n,l=t-o,u=r-o,d=n-l,f=d+u;return f?[f,t]:[t]}function o7(n,r){var t=n.length|0,o=r.length|0;if(t===1&&o===1)return n7(n[0],r[0]);var l=t+o,u=new Array(l),d=0,f=0,m=0,v=Math.abs,_=n[f],k=v(_),C=r[m],M=v(C),A,F;k<M?(F=_,f+=1,f<t&&(_=n[f],k=v(_))):(F=C,m+=1,m<o&&(C=r[m],M=v(C))),f<t&&k<M||m>=o?(A=_,f+=1,f<t&&(_=n[f],k=v(_))):(A=C,m+=1,m<o&&(C=r[m],M=v(C)));for(var G=A+F,H=G-A,W=F-H,j=W,V=G,nt,gt,pt,ct,Z;f<t&&m<o;)k<M?(A=_,f+=1,f<t&&(_=n[f],k=v(_))):(A=C,m+=1,m<o&&(C=r[m],M=v(C))),F=j,G=A+F,H=G-A,W=F-H,W&&(u[d++]=W),nt=V+G,gt=nt-V,pt=nt-gt,ct=G-gt,Z=V-pt,j=Z+ct,V=nt;for(;f<t;)A=_,F=j,G=A+F,H=G-A,W=F-H,W&&(u[d++]=W),nt=V+G,gt=nt-V,pt=nt-gt,ct=G-gt,Z=V-pt,j=Z+ct,V=nt,f+=1,f<t&&(_=n[f]);for(;m<o;)A=C,F=j,G=A+F,H=G-A,W=F-H,W&&(u[d++]=W),nt=V+G,gt=nt-V,pt=nt-gt,ct=G-gt,Z=V-pt,j=Z+ct,V=nt,m+=1,m<o&&(C=r[m]);return j&&(u[d++]=j),V&&(u[d++]=V),d||(u[d++]=0),u.length=d,u}var s7=a7;function a7(n,r,t){var o=n+r,l=o-n,u=o-l,d=r-l,f=n-u;return t?(t[0]=f+d,t[1]=o,t):[f+d,o]}var jw=ZP,l7=s7,c7=u7;function u7(n,r){var t=n.length;if(t===1){var o=jw(n[0],r);return o[0]?o:[o[1]]}var l=new Array(2*t),u=[.1,.1],d=[.1,.1],f=0;jw(n[0],r,u),u[0]&&(l[f++]=u[0]);for(var m=1;m<t;++m){jw(n[m],r,d);var v=u[1];l7(v,d[0],u),u[0]&&(l[f++]=u[0]);var _=d[1],k=u[1],C=_+k,M=C-_,A=k-M;u[1]=C,A&&(l[f++]=A)}return u[1]&&(l[f++]=u[1]),f===0&&(l[f++]=0),l.length=f,l}var h7=p7;function d7(n,r){var t=n+r,o=t-n,l=t-o,u=r-o,d=n-l,f=d+u;return f?[f,t]:[t]}function p7(n,r){var t=n.length|0,o=r.length|0;if(t===1&&o===1)return d7(n[0],-r[0]);var l=t+o,u=new Array(l),d=0,f=0,m=0,v=Math.abs,_=n[f],k=v(_),C=-r[m],M=v(C),A,F;k<M?(F=_,f+=1,f<t&&(_=n[f],k=v(_))):(F=C,m+=1,m<o&&(C=-r[m],M=v(C))),f<t&&k<M||m>=o?(A=_,f+=1,f<t&&(_=n[f],k=v(_))):(A=C,m+=1,m<o&&(C=-r[m],M=v(C)));for(var G=A+F,H=G-A,W=F-H,j=W,V=G,nt,gt,pt,ct,Z;f<t&&m<o;)k<M?(A=_,f+=1,f<t&&(_=n[f],k=v(_))):(A=C,m+=1,m<o&&(C=-r[m],M=v(C))),F=j,G=A+F,H=G-A,W=F-H,W&&(u[d++]=W),nt=V+G,gt=nt-V,pt=nt-gt,ct=G-gt,Z=V-pt,j=Z+ct,V=nt;for(;f<t;)A=_,F=j,G=A+F,H=G-A,W=F-H,W&&(u[d++]=W),nt=V+G,gt=nt-V,pt=nt-gt,ct=G-gt,Z=V-pt,j=Z+ct,V=nt,f+=1,f<t&&(_=n[f]);for(;m<o;)A=C,F=j,G=A+F,H=G-A,W=F-H,W&&(u[d++]=W),nt=V+G,gt=nt-V,pt=nt-gt,ct=G-gt,Z=V-pt,j=Z+ct,V=nt,m+=1,m<o&&(C=-r[m]);return j&&(u[d++]=j),V&&(u[d++]=V),d||(u[d++]=0),u.length=d,u}(function(n){var r=ZP,t=i7,o=c7,l=h7,u=5,d=11102230246251565e-32,f=(3+16*d)*d,m=(7+56*d)*d;function v(j,V,nt,gt){return function(pt,ct,Z){var at=j(j(V(ct[1],Z[0]),V(-Z[1],ct[0])),j(V(pt[1],ct[0]),V(-ct[1],pt[0]))),ft=j(V(pt[1],Z[0]),V(-Z[1],pt[0])),vt=gt(at,ft);return vt[vt.length-1]}}function _(j,V,nt,gt){return function(pt,ct,Z,at){var ft=j(j(nt(j(V(Z[1],at[0]),V(-at[1],Z[0])),ct[2]),j(nt(j(V(ct[1],at[0]),V(-at[1],ct[0])),-Z[2]),nt(j(V(ct[1],Z[0]),V(-Z[1],ct[0])),at[2]))),j(nt(j(V(ct[1],at[0]),V(-at[1],ct[0])),pt[2]),j(nt(j(V(pt[1],at[0]),V(-at[1],pt[0])),-ct[2]),nt(j(V(pt[1],ct[0]),V(-ct[1],pt[0])),at[2])))),vt=j(j(nt(j(V(Z[1],at[0]),V(-at[1],Z[0])),pt[2]),j(nt(j(V(pt[1],at[0]),V(-at[1],pt[0])),-Z[2]),nt(j(V(pt[1],Z[0]),V(-Z[1],pt[0])),at[2]))),j(nt(j(V(ct[1],Z[0]),V(-Z[1],ct[0])),pt[2]),j(nt(j(V(pt[1],Z[0]),V(-Z[1],pt[0])),-ct[2]),nt(j(V(pt[1],ct[0]),V(-ct[1],pt[0])),Z[2])))),Qt=gt(ft,vt);return Qt[Qt.length-1]}}function k(j,V,nt,gt){return function(pt,ct,Z,at,ft){var vt=j(j(j(nt(j(nt(j(V(at[1],ft[0]),V(-ft[1],at[0])),Z[2]),j(nt(j(V(Z[1],ft[0]),V(-ft[1],Z[0])),-at[2]),nt(j(V(Z[1],at[0]),V(-at[1],Z[0])),ft[2]))),ct[3]),j(nt(j(nt(j(V(at[1],ft[0]),V(-ft[1],at[0])),ct[2]),j(nt(j(V(ct[1],ft[0]),V(-ft[1],ct[0])),-at[2]),nt(j(V(ct[1],at[0]),V(-at[1],ct[0])),ft[2]))),-Z[3]),nt(j(nt(j(V(Z[1],ft[0]),V(-ft[1],Z[0])),ct[2]),j(nt(j(V(ct[1],ft[0]),V(-ft[1],ct[0])),-Z[2]),nt(j(V(ct[1],Z[0]),V(-Z[1],ct[0])),ft[2]))),at[3]))),j(nt(j(nt(j(V(Z[1],at[0]),V(-at[1],Z[0])),ct[2]),j(nt(j(V(ct[1],at[0]),V(-at[1],ct[0])),-Z[2]),nt(j(V(ct[1],Z[0]),V(-Z[1],ct[0])),at[2]))),-ft[3]),j(nt(j(nt(j(V(at[1],ft[0]),V(-ft[1],at[0])),ct[2]),j(nt(j(V(ct[1],ft[0]),V(-ft[1],ct[0])),-at[2]),nt(j(V(ct[1],at[0]),V(-at[1],ct[0])),ft[2]))),pt[3]),nt(j(nt(j(V(at[1],ft[0]),V(-ft[1],at[0])),pt[2]),j(nt(j(V(pt[1],ft[0]),V(-ft[1],pt[0])),-at[2]),nt(j(V(pt[1],at[0]),V(-at[1],pt[0])),ft[2]))),-ct[3])))),j(j(nt(j(nt(j(V(ct[1],ft[0]),V(-ft[1],ct[0])),pt[2]),j(nt(j(V(pt[1],ft[0]),V(-ft[1],pt[0])),-ct[2]),nt(j(V(pt[1],ct[0]),V(-ct[1],pt[0])),ft[2]))),at[3]),j(nt(j(nt(j(V(ct[1],at[0]),V(-at[1],ct[0])),pt[2]),j(nt(j(V(pt[1],at[0]),V(-at[1],pt[0])),-ct[2]),nt(j(V(pt[1],ct[0]),V(-ct[1],pt[0])),at[2]))),-ft[3]),nt(j(nt(j(V(Z[1],at[0]),V(-at[1],Z[0])),ct[2]),j(nt(j(V(ct[1],at[0]),V(-at[1],ct[0])),-Z[2]),nt(j(V(ct[1],Z[0]),V(-Z[1],ct[0])),at[2]))),pt[3]))),j(nt(j(nt(j(V(Z[1],at[0]),V(-at[1],Z[0])),pt[2]),j(nt(j(V(pt[1],at[0]),V(-at[1],pt[0])),-Z[2]),nt(j(V(pt[1],Z[0]),V(-Z[1],pt[0])),at[2]))),-ct[3]),j(nt(j(nt(j(V(ct[1],at[0]),V(-at[1],ct[0])),pt[2]),j(nt(j(V(pt[1],at[0]),V(-at[1],pt[0])),-ct[2]),nt(j(V(pt[1],ct[0]),V(-ct[1],pt[0])),at[2]))),Z[3]),nt(j(nt(j(V(ct[1],Z[0]),V(-Z[1],ct[0])),pt[2]),j(nt(j(V(pt[1],Z[0]),V(-Z[1],pt[0])),-ct[2]),nt(j(V(pt[1],ct[0]),V(-ct[1],pt[0])),Z[2]))),-at[3]))))),Qt=j(j(j(nt(j(nt(j(V(at[1],ft[0]),V(-ft[1],at[0])),Z[2]),j(nt(j(V(Z[1],ft[0]),V(-ft[1],Z[0])),-at[2]),nt(j(V(Z[1],at[0]),V(-at[1],Z[0])),ft[2]))),pt[3]),nt(j(nt(j(V(at[1],ft[0]),V(-ft[1],at[0])),pt[2]),j(nt(j(V(pt[1],ft[0]),V(-ft[1],pt[0])),-at[2]),nt(j(V(pt[1],at[0]),V(-at[1],pt[0])),ft[2]))),-Z[3])),j(nt(j(nt(j(V(Z[1],ft[0]),V(-ft[1],Z[0])),pt[2]),j(nt(j(V(pt[1],ft[0]),V(-ft[1],pt[0])),-Z[2]),nt(j(V(pt[1],Z[0]),V(-Z[1],pt[0])),ft[2]))),at[3]),nt(j(nt(j(V(Z[1],at[0]),V(-at[1],Z[0])),pt[2]),j(nt(j(V(pt[1],at[0]),V(-at[1],pt[0])),-Z[2]),nt(j(V(pt[1],Z[0]),V(-Z[1],pt[0])),at[2]))),-ft[3]))),j(j(nt(j(nt(j(V(Z[1],ft[0]),V(-ft[1],Z[0])),ct[2]),j(nt(j(V(ct[1],ft[0]),V(-ft[1],ct[0])),-Z[2]),nt(j(V(ct[1],Z[0]),V(-Z[1],ct[0])),ft[2]))),pt[3]),nt(j(nt(j(V(Z[1],ft[0]),V(-ft[1],Z[0])),pt[2]),j(nt(j(V(pt[1],ft[0]),V(-ft[1],pt[0])),-Z[2]),nt(j(V(pt[1],Z[0]),V(-Z[1],pt[0])),ft[2]))),-ct[3])),j(nt(j(nt(j(V(ct[1],ft[0]),V(-ft[1],ct[0])),pt[2]),j(nt(j(V(pt[1],ft[0]),V(-ft[1],pt[0])),-ct[2]),nt(j(V(pt[1],ct[0]),V(-ct[1],pt[0])),ft[2]))),Z[3]),nt(j(nt(j(V(ct[1],Z[0]),V(-Z[1],ct[0])),pt[2]),j(nt(j(V(pt[1],Z[0]),V(-Z[1],pt[0])),-ct[2]),nt(j(V(pt[1],ct[0]),V(-ct[1],pt[0])),Z[2]))),-ft[3])))),re=gt(vt,Qt);return re[re.length-1]}}function C(j){var V=j===3?v:j===4?_:k;return V(t,r,o,l)}var M=C(3),A=C(4),F=[function(){return 0},function(){return 0},function(j,V){return V[0]-j[0]},function(j,V,nt){var gt=(j[1]-nt[1])*(V[0]-nt[0]),pt=(j[0]-nt[0])*(V[1]-nt[1]),ct=gt-pt,Z;if(gt>0){if(pt<=0)return ct;Z=gt+pt}else if(gt<0){if(pt>=0)return ct;Z=-(gt+pt)}else return ct;var at=f*Z;return ct>=at||ct<=-at?ct:M(j,V,nt)},function(j,V,nt,gt){var pt=j[0]-gt[0],ct=V[0]-gt[0],Z=nt[0]-gt[0],at=j[1]-gt[1],ft=V[1]-gt[1],vt=nt[1]-gt[1],Qt=j[2]-gt[2],re=V[2]-gt[2],pe=nt[2]-gt[2],Gt=ct*vt,ce=Z*ft,Jt=Z*at,tr=pt*vt,xt=pt*ft,Nt=ct*at,Vt=Qt*(Gt-ce)+re*(Jt-tr)+pe*(xt-Nt),te=(Math.abs(Gt)+Math.abs(ce))*Math.abs(Qt)+(Math.abs(Jt)+Math.abs(tr))*Math.abs(re)+(Math.abs(xt)+Math.abs(Nt))*Math.abs(pe),de=m*te;return Vt>de||-Vt>de?Vt:A(j,V,nt,gt)}];function G(j){var V=F[j.length];return V||(V=F[j.length]=C(j.length)),V.apply(void 0,j)}function H(j,V,nt,gt,pt,ct,Z){return function(at,ft,vt,Qt,re){switch(arguments.length){case 0:case 1:return 0;case 2:return gt(at,ft);case 3:return pt(at,ft,vt);case 4:return ct(at,ft,vt,Qt);case 5:return Z(at,ft,vt,Qt,re)}for(var pe=new Array(arguments.length),Gt=0;Gt<arguments.length;++Gt)pe[Gt]=arguments[Gt];return j(pe)}}function W(){for(;F.length<=u;)F.push(C(F.length));n.exports=H.apply(void 0,[G].concat(F));for(var j=0;j<=u;++j)n.exports[j]=F[j]}W()})(e7);var f7=g7,av=z1;function g7(n,r){for(var t=r[0],o=r[1],l=n.length,u=1,d=l,f=0,m=l-1;f<d;m=f++){var v=n[f],_=n[m],k=v[1],C=_[1];if(C<k){if(C<o&&o<k){var M=av(v,_,r);if(M===0)return 0;u^=0<M|0}else if(o===k){var A=n[(f+1)%l],F=A[1];if(k<F){var M=av(v,_,r);if(M===0)return 0;u^=0<M|0}}}else if(k<C){if(k<o&&o<C){var M=av(v,_,r);if(M===0)return 0;u^=M<0|0}else if(o===k){var A=n[(f+1)%l],F=A[1];if(F<k){var M=av(v,_,r);if(M===0)return 0;u^=M<0|0}}}else if(o===k){var G=Math.min(v[0],_[0]),H=Math.max(v[0],_[0]);if(f===0){for(;m>0;){var W=(m+l-1)%l,j=n[W];if(j[1]!==o)break;var V=j[0];G=Math.min(G,V),H=Math.max(H,V),m=W}if(m===0)return G<=t&&t<=H?0:1;d=m+1}for(var nt=n[(m+l-1)%l][1];f+1<d;){var j=n[f+1];if(j[1]!==o)break;var V=j[0];G=Math.min(G,V),H=Math.max(H,V),f+=1}if(G<=t&&t<=H)return 0;var gt=n[(f+1)%l][1];t<G&&nt<o!=gt<o&&(u^=1)}}return 2*u-1}var kv={};const m7="1.5.0",v7={version:m7};function YP(n){return"("+n.x+";"+n.y+")"}function y7(n){var r=n.toString();return r==="[object Object]"?YP(n):r}function b7(n,r){return n.y===r.y?n.x-r.x:n.y-r.y}function w7(n,r){return n.x===r.x&&n.y===r.y}var qx={toString:y7,toStringBase:YP,compare:b7,equals:w7},x7=qx,ay=function(n,r){this.name="PointError",this.points=r=r||[],this.message=n||"Invalid Points!";for(var t=0;t<r.length;t++)this.message+=" "+x7.toString(r[t])};ay.prototype=new Error;ay.prototype.constructor=ay;var Vx=ay,lm=qx,gi=function(n,r){this.x=+n||0,this.y=+r||0,this._p2t_edge_list=null};gi.prototype.toString=function(){return lm.toStringBase(this)};gi.prototype.toJSON=function(){return{x:this.x,y:this.y}};gi.prototype.clone=function(){return new gi(this.x,this.y)};gi.prototype.set_zero=function(){return this.x=0,this.y=0,this};gi.prototype.set=function(n,r){return this.x=+n||0,this.y=+r||0,this};gi.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this};gi.prototype.add=function(n){return this.x+=n.x,this.y+=n.y,this};gi.prototype.sub=function(n){return this.x-=n.x,this.y-=n.y,this};gi.prototype.mul=function(n){return this.x*=n,this.y*=n,this};gi.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};gi.prototype.normalize=function(){var n=this.length();return this.x/=n,this.y/=n,n};gi.prototype.equals=function(n){return this.x===n.x&&this.y===n.y};gi.negate=function(n){return new gi(-n.x,-n.y)};gi.add=function(n,r){return new gi(n.x+r.x,n.y+r.y)};gi.sub=function(n,r){return new gi(n.x-r.x,n.y-r.y)};gi.mul=function(n,r){return new gi(n*r.x,n*r.y)};gi.cross=function(n,r){return typeof n=="number"?typeof r=="number"?n*r:new gi(-n*r.y,n*r.x):typeof r=="number"?new gi(r*n.y,-r*n.x):n.x*r.y-n.y*r.x};gi.toString=lm.toString;gi.compare=lm.compare;gi.cmp=lm.compare;gi.equals=lm.equals;gi.dot=function(n,r){return n.x*r.x+n.y*r.y};var XP=gi,_7=qx,Qr=function(n,r,t){this.points_=[n,r,t],this.neighbors_=[null,null,null],this.interior_=!1,this.constrained_edge=[!1,!1,!1],this.delaunay_edge=[!1,!1,!1]},Hw=_7.toString;Qr.prototype.toString=function(){return"["+Hw(this.points_[0])+Hw(this.points_[1])+Hw(this.points_[2])+"]"};Qr.prototype.getPoint=function(n){return this.points_[n]};Qr.prototype.GetPoint=Qr.prototype.getPoint;Qr.prototype.getPoints=function(){return this.points_};Qr.prototype.getNeighbor=function(n){return this.neighbors_[n]};Qr.prototype.containsPoint=function(n){var r=this.points_;return n===r[0]||n===r[1]||n===r[2]};Qr.prototype.containsEdge=function(n){return this.containsPoint(n.p)&&this.containsPoint(n.q)};Qr.prototype.containsPoints=function(n,r){return this.containsPoint(n)&&this.containsPoint(r)};Qr.prototype.isInterior=function(){return this.interior_};Qr.prototype.setInterior=function(n){return this.interior_=n,this};Qr.prototype.markNeighborPointers=function(n,r,t){var o=this.points_;if(n===o[2]&&r===o[1]||n===o[1]&&r===o[2])this.neighbors_[0]=t;else if(n===o[0]&&r===o[2]||n===o[2]&&r===o[0])this.neighbors_[1]=t;else if(n===o[0]&&r===o[1]||n===o[1]&&r===o[0])this.neighbors_[2]=t;else throw new Error("poly2tri Invalid Triangle.markNeighborPointers() call")};Qr.prototype.markNeighbor=function(n){var r=this.points_;n.containsPoints(r[1],r[2])?(this.neighbors_[0]=n,n.markNeighborPointers(r[1],r[2],this)):n.containsPoints(r[0],r[2])?(this.neighbors_[1]=n,n.markNeighborPointers(r[0],r[2],this)):n.containsPoints(r[0],r[1])&&(this.neighbors_[2]=n,n.markNeighborPointers(r[0],r[1],this))};Qr.prototype.clearNeighbors=function(){this.neighbors_[0]=null,this.neighbors_[1]=null,this.neighbors_[2]=null};Qr.prototype.clearDelaunayEdges=function(){this.delaunay_edge[0]=!1,this.delaunay_edge[1]=!1,this.delaunay_edge[2]=!1};Qr.prototype.pointCW=function(n){var r=this.points_;return n===r[0]?r[2]:n===r[1]?r[0]:n===r[2]?r[1]:null};Qr.prototype.pointCCW=function(n){var r=this.points_;return n===r[0]?r[1]:n===r[1]?r[2]:n===r[2]?r[0]:null};Qr.prototype.neighborCW=function(n){return n===this.points_[0]?this.neighbors_[1]:n===this.points_[1]?this.neighbors_[2]:this.neighbors_[0]};Qr.prototype.neighborCCW=function(n){return n===this.points_[0]?this.neighbors_[2]:n===this.points_[1]?this.neighbors_[0]:this.neighbors_[1]};Qr.prototype.getConstrainedEdgeCW=function(n){return n===this.points_[0]?this.constrained_edge[1]:n===this.points_[1]?this.constrained_edge[2]:this.constrained_edge[0]};Qr.prototype.getConstrainedEdgeCCW=function(n){return n===this.points_[0]?this.constrained_edge[2]:n===this.points_[1]?this.constrained_edge[0]:this.constrained_edge[1]};Qr.prototype.getConstrainedEdgeAcross=function(n){return n===this.points_[0]?this.constrained_edge[0]:n===this.points_[1]?this.constrained_edge[1]:this.constrained_edge[2]};Qr.prototype.setConstrainedEdgeCW=function(n,r){n===this.points_[0]?this.constrained_edge[1]=r:n===this.points_[1]?this.constrained_edge[2]=r:this.constrained_edge[0]=r};Qr.prototype.setConstrainedEdgeCCW=function(n,r){n===this.points_[0]?this.constrained_edge[2]=r:n===this.points_[1]?this.constrained_edge[0]=r:this.constrained_edge[1]=r};Qr.prototype.getDelaunayEdgeCW=function(n){return n===this.points_[0]?this.delaunay_edge[1]:n===this.points_[1]?this.delaunay_edge[2]:this.delaunay_edge[0]};Qr.prototype.getDelaunayEdgeCCW=function(n){return n===this.points_[0]?this.delaunay_edge[2]:n===this.points_[1]?this.delaunay_edge[0]:this.delaunay_edge[1]};Qr.prototype.setDelaunayEdgeCW=function(n,r){n===this.points_[0]?this.delaunay_edge[1]=r:n===this.points_[1]?this.delaunay_edge[2]=r:this.delaunay_edge[0]=r};Qr.prototype.setDelaunayEdgeCCW=function(n,r){n===this.points_[0]?this.delaunay_edge[2]=r:n===this.points_[1]?this.delaunay_edge[0]=r:this.delaunay_edge[1]=r};Qr.prototype.neighborAcross=function(n){return n===this.points_[0]?this.neighbors_[0]:n===this.points_[1]?this.neighbors_[1]:this.neighbors_[2]};Qr.prototype.oppositePoint=function(n,r){var t=n.pointCW(r);return this.pointCW(t)};Qr.prototype.legalize=function(n,r){var t=this.points_;if(n===t[0])t[1]=t[0],t[0]=t[2],t[2]=r;else if(n===t[1])t[2]=t[1],t[1]=t[0],t[0]=r;else if(n===t[2])t[0]=t[2],t[2]=t[1],t[1]=r;else throw new Error("poly2tri Invalid Triangle.legalize() call")};Qr.prototype.index=function(n){var r=this.points_;if(n===r[0])return 0;if(n===r[1])return 1;if(n===r[2])return 2;throw new Error("poly2tri Invalid Triangle.index() call")};Qr.prototype.edgeIndex=function(n,r){var t=this.points_;if(n===t[0]){if(r===t[1])return 2;if(r===t[2])return 1}else if(n===t[1]){if(r===t[2])return 0;if(r===t[0])return 2}else if(n===t[2]){if(r===t[0])return 1;if(r===t[1])return 0}return-1};Qr.prototype.markConstrainedEdgeByIndex=function(n){this.constrained_edge[n]=!0};Qr.prototype.markConstrainedEdgeByEdge=function(n){this.markConstrainedEdgeByPoints(n.p,n.q)};Qr.prototype.markConstrainedEdgeByPoints=function(n,r){var t=this.points_;r===t[0]&&n===t[1]||r===t[1]&&n===t[0]?this.constrained_edge[2]=!0:r===t[0]&&n===t[2]||r===t[2]&&n===t[0]?this.constrained_edge[1]=!0:(r===t[1]&&n===t[2]||r===t[2]&&n===t[1])&&(this.constrained_edge[0]=!0)};var Wx=Qr,Zx={};function k7(n,r){if(!n)throw new Error(r||"Assert Failed")}var E7=k7,Kg={},T7={get exports(){return Kg},set exports(n){Kg=n}},S7=function(n,r){this.point=n,this.triangle=r||null,this.next=null,this.prev=null,this.value=n.x},bl=function(n,r){this.head_=n,this.tail_=r,this.search_node_=n};bl.prototype.head=function(){return this.head_};bl.prototype.setHead=function(n){this.head_=n};bl.prototype.tail=function(){return this.tail_};bl.prototype.setTail=function(n){this.tail_=n};bl.prototype.search=function(){return this.search_node_};bl.prototype.setSearch=function(n){this.search_node_=n};bl.prototype.findSearchNode=function(){return this.search_node_};bl.prototype.locateNode=function(n){var r=this.search_node_;if(n<r.value){for(;r=r.prev;)if(n>=r.value)return this.search_node_=r,r}else for(;r=r.next;)if(n<r.value)return this.search_node_=r.prev,r.prev;return null};bl.prototype.locatePoint=function(n){var r=n.x,t=this.findSearchNode(r),o=t.point.x;if(r===o){if(n!==t.point)if(n===t.prev.point)t=t.prev;else if(n===t.next.point)t=t.next;else throw new Error("poly2tri Invalid AdvancingFront.locatePoint() call")}else if(r<o)for(;(t=t.prev)&&n!==t.point;);else for(;(t=t.next)&&n!==t.point;);return t&&(this.search_node_=t),t};T7.exports=bl;Kg.Node=S7;var Ip={},Jg=1e-12;Ip.EPSILON=Jg;var Ev={CW:1,CCW:-1,COLLINEAR:0};Ip.Orientation=Ev;function C7(n,r,t){var o=(n.x-t.x)*(r.y-t.y),l=(n.y-t.y)*(r.x-t.x),u=o-l;return u>-Jg&&u<Jg?Ev.COLLINEAR:u>0?Ev.CCW:Ev.CW}Ip.orient2d=C7;function P7(n,r,t,o){var l=(n.x-r.x)*(o.y-r.y)-(o.x-r.x)*(n.y-r.y);if(l>=-Jg)return!1;var u=(n.x-t.x)*(o.y-t.y)-(o.x-t.x)*(n.y-t.y);return!(u<=Jg)}Ip.inScanArea=P7;function M7(n,r,t){var o=r.x-n.x,l=r.y-n.y,u=t.x-n.x,d=t.y-n.y;return o*u+l*d<0}Ip.isAngleObtuse=M7;var Yx=E7,ly=Vx,KP=Wx,I7=Kg.Node,cm=Ip,L7=cm.EPSILON,ln=cm.Orientation,Ln=cm.orient2d,JP=cm.inScanArea,CT=cm.isAngleObtuse;function R7(n){n.initTriangulation(),n.createAdvancingFront(),A7(n),O7(n)}function A7(n){var r,t=n.pointCount();for(r=1;r<t;++r)for(var o=n.getPoint(r),l=z7(n,o),u=o._p2t_edge_list,d=0;u&&d<u.length;++d)N7(n,u[d],l)}function O7(n){for(var r=n.front().head().next.triangle,t=n.front().head().next.point;!r.getConstrainedEdgeCW(t);)r=r.neighborCCW(t);n.meshClean(r)}function z7(n,r){var t=n.locateNode(r),o=D7(n,r,t);return r.x<=t.point.x+L7&&Ep(n,t),F7(n,o),o}function N7(n,r,t){n.edge_event.constrained_edge=r,n.edge_event.right=r.p.x>r.q.x,!QP(t.triangle,r.p,r.q)&&(G7(n,r,t),Xx(n,r.p,r.q,t.triangle,r.q))}function Xx(n,r,t,o,l){if(!QP(o,r,t)){var u=o.pointCCW(l),d=Ln(t,u,r);if(d===ln.COLLINEAR)throw new ly("poly2tri EdgeEvent: Collinear not supported!",[t,u,r]);var f=o.pointCW(l),m=Ln(t,f,r);if(m===ln.COLLINEAR)throw new ly("poly2tri EdgeEvent: Collinear not supported!",[t,f,r]);d===m?(d===ln.CW?o=o.neighborCCW(l):o=o.neighborCW(l),Xx(n,r,t,o,l)):Qx(n,r,t,o,l)}}function QP(n,r,t){var o=n.edgeIndex(r,t);if(o!==-1){n.markConstrainedEdgeByIndex(o);var l=n.getNeighbor(o);return l&&l.markConstrainedEdgeByPoints(r,t),!0}return!1}function D7(n,r,t){var o=new KP(r,t.point,t.next.point);o.markNeighbor(t.triangle),n.addToMap(o);var l=new I7(r);return l.next=t.next,l.prev=t,t.next.prev=l,t.next=l,yu(n,o)||n.mapTriangleToNodes(o),l}function Ep(n,r){var t=new KP(r.prev.point,r.point,r.next.point);t.markNeighbor(r.prev.triangle),t.markNeighbor(r.triangle),n.addToMap(t),r.prev.next=r.next,r.next.prev=r.prev,yu(n,t)||n.mapTriangleToNodes(t)}function F7(n,r){for(var t=r.next;t.next&&!CT(t.point,t.next.point,t.prev.point);)Ep(n,t),t=t.next;for(t=r.prev;t.prev&&!CT(t.point,t.next.point,t.prev.point);)Ep(n,t),t=t.prev;r.next&&r.next.next&&B7(r)&&H7(n,r)}function B7(n){var r=n.point.x-n.next.next.point.x,t=n.point.y-n.next.next.point.y;return Yx(t>=0,"unordered y"),r>=0||Math.abs(r)<t}function yu(n,r){for(var t=0;t<3;++t)if(!r.delaunay_edge[t]){var o=r.getNeighbor(t);if(o){var l=r.getPoint(t),u=o.oppositePoint(r,l),d=o.index(u);if(o.constrained_edge[d]||o.delaunay_edge[d]){r.constrained_edge[t]=o.constrained_edge[d];continue}var f=j7(l,r.pointCCW(l),r.pointCW(l),u);if(f){r.delaunay_edge[t]=!0,o.delaunay_edge[d]=!0,$P(r,l,o,u);var m=!yu(n,r);return m&&n.mapTriangleToNodes(r),m=!yu(n,o),m&&n.mapTriangleToNodes(o),r.delaunay_edge[t]=!1,o.delaunay_edge[d]=!1,!0}}}return!1}function j7(n,r,t,o){var l=n.x-o.x,u=n.y-o.y,d=r.x-o.x,f=r.y-o.y,m=l*f,v=d*u,_=m-v;if(_<=0)return!1;var k=t.x-o.x,C=t.y-o.y,M=k*u,A=l*C,F=M-A;if(F<=0)return!1;var G=d*C,H=k*f,W=l*l+u*u,j=d*d+f*f,V=k*k+C*C,nt=W*(G-H)+j*F+V*_;return nt>0}function $P(n,r,t,o){var l,u,d,f;l=n.neighborCCW(r),u=n.neighborCW(r),d=t.neighborCCW(o),f=t.neighborCW(o);var m,v,_,k;m=n.getConstrainedEdgeCCW(r),v=n.getConstrainedEdgeCW(r),_=t.getConstrainedEdgeCCW(o),k=t.getConstrainedEdgeCW(o);var C,M,A,F;C=n.getDelaunayEdgeCCW(r),M=n.getDelaunayEdgeCW(r),A=t.getDelaunayEdgeCCW(o),F=t.getDelaunayEdgeCW(o),n.legalize(r,o),t.legalize(o,r),t.setDelaunayEdgeCCW(r,C),n.setDelaunayEdgeCW(r,M),n.setDelaunayEdgeCCW(o,A),t.setDelaunayEdgeCW(o,F),t.setConstrainedEdgeCCW(r,m),n.setConstrainedEdgeCW(r,v),n.setConstrainedEdgeCCW(o,_),t.setConstrainedEdgeCW(o,k),n.clearNeighbors(),t.clearNeighbors(),l&&t.markNeighbor(l),u&&n.markNeighbor(u),d&&n.markNeighbor(d),f&&t.markNeighbor(f),n.markNeighbor(t)}function H7(n,r){for(Ln(r.point,r.next.point,r.next.next.point)===ln.CCW?n.basin.left_node=r.next.next:n.basin.left_node=r.next,n.basin.bottom_node=n.basin.left_node;n.basin.bottom_node.next&&n.basin.bottom_node.point.y>=n.basin.bottom_node.next.point.y;)n.basin.bottom_node=n.basin.bottom_node.next;if(n.basin.bottom_node!==n.basin.left_node){for(n.basin.right_node=n.basin.bottom_node;n.basin.right_node.next&&n.basin.right_node.point.y<n.basin.right_node.next.point.y;)n.basin.right_node=n.basin.right_node.next;n.basin.right_node!==n.basin.bottom_node&&(n.basin.width=n.basin.right_node.point.x-n.basin.left_node.point.x,n.basin.left_highest=n.basin.left_node.point.y>n.basin.right_node.point.y,tM(n,n.basin.bottom_node))}}function tM(n,r){if(!U7(n,r)){Ep(n,r);var t;if(!(r.prev===n.basin.left_node&&r.next===n.basin.right_node)){if(r.prev===n.basin.left_node){if(t=Ln(r.point,r.next.point,r.next.next.point),t===ln.CW)return;r=r.next}else if(r.next===n.basin.right_node){if(t=Ln(r.point,r.prev.point,r.prev.prev.point),t===ln.CCW)return;r=r.prev}else r.prev.point.y<r.next.point.y?r=r.prev:r=r.next;tM(n,r)}}}function U7(n,r){var t;return n.basin.left_highest?t=n.basin.left_node.point.y-r.point.y:t=n.basin.right_node.point.y-r.point.y,n.basin.width>t}function G7(n,r,t){n.edge_event.right?q7(n,r,t):V7(n,r,t)}function q7(n,r,t){for(;t.next.point.x<r.p.x;)Ln(r.q,t.next.point,r.p)===ln.CCW?eM(n,r,t):t=t.next}function eM(n,r,t){t.point.x<r.p.x&&(Ln(t.point,t.next.point,t.next.next.point)===ln.CCW?Kx(n,r,t):(rM(n,r,t),eM(n,r,t)))}function Kx(n,r,t){Ep(n,t.next),t.next.point!==r.p&&Ln(r.q,t.next.point,r.p)===ln.CCW&&Ln(t.point,t.next.point,t.next.next.point)===ln.CCW&&Kx(n,r,t)}function rM(n,r,t){Ln(t.next.point,t.next.next.point,t.next.next.next.point)===ln.CCW?Kx(n,r,t.next):Ln(r.q,t.next.next.point,r.p)===ln.CCW&&rM(n,r,t.next)}function V7(n,r,t){for(;t.prev.point.x>r.p.x;)Ln(r.q,t.prev.point,r.p)===ln.CW?iM(n,r,t):t=t.prev}function iM(n,r,t){t.point.x>r.p.x&&(Ln(t.point,t.prev.point,t.prev.prev.point)===ln.CW?Jx(n,r,t):(nM(n,r,t),iM(n,r,t)))}function nM(n,r,t){Ln(t.prev.point,t.prev.prev.point,t.prev.prev.prev.point)===ln.CW?Jx(n,r,t.prev):Ln(r.q,t.prev.prev.point,r.p)===ln.CW&&nM(n,r,t.prev)}function Jx(n,r,t){Ep(n,t.prev),t.prev.point!==r.p&&Ln(r.q,t.prev.point,r.p)===ln.CW&&Ln(t.point,t.prev.point,t.prev.prev.point)===ln.CW&&Jx(n,r,t)}function Qx(n,r,t,o,l){var u=o.neighborAcross(l);Yx(u,"FLIP failed due to missing triangle!");var d=u.oppositePoint(o,l);if(o.getConstrainedEdgeAcross(l)){var f=o.index(l);throw new ly("poly2tri Intersecting Constraints",[l,d,o.getPoint((f+1)%3),o.getPoint((f+2)%3)])}if(JP(l,o.pointCCW(l),o.pointCW(l),d))if($P(o,l,u,d),n.mapTriangleToNodes(o),n.mapTriangleToNodes(u),l===t&&d===r)t===n.edge_event.constrained_edge.q&&r===n.edge_event.constrained_edge.p&&(o.markConstrainedEdgeByPoints(r,t),u.markConstrainedEdgeByPoints(r,t),yu(n,o),yu(n,u));else{var m=Ln(t,d,r);o=W7(n,m,o,u,l,d),Qx(n,r,t,o,l)}else{var v=oM(r,t,u,d);sM(n,r,t,o,u,v),Xx(n,r,t,o,l)}}function W7(n,r,t,o,l,u){var d;return r===ln.CCW?(d=o.edgeIndex(l,u),o.delaunay_edge[d]=!0,yu(n,o),o.clearDelaunayEdges(),t):(d=t.edgeIndex(l,u),t.delaunay_edge[d]=!0,yu(n,t),t.clearDelaunayEdges(),o)}function oM(n,r,t,o){var l=Ln(r,o,n);if(l===ln.CW)return t.pointCCW(o);if(l===ln.CCW)return t.pointCW(o);throw new ly("poly2tri [Unsupported] nextFlipPoint: opposing point on constrained edge!",[r,o,n])}function sM(n,r,t,o,l,u){var d=l.neighborAcross(u);Yx(d,"FLIP failed due to missing triangle");var f=d.oppositePoint(l,u);if(JP(t,o.pointCCW(t),o.pointCW(t),f))Qx(n,t,f,d,f);else{var m=oM(r,t,d,f);sM(n,r,t,o,d,m)}}Zx.triangulate=R7;var Z7=Vx,eg=XP,Y7=Wx,X7=Zx,aM=Kg,Uw=aM.Node,PT=.3,K7=function(n,r){if(this.p=n,this.q=r,n.y>r.y)this.q=n,this.p=r;else if(n.y===r.y){if(n.x>r.x)this.q=n,this.p=r;else if(n.x===r.x)throw new Z7("poly2tri Invalid Edge constructor: repeated points!",[n])}this.q._p2t_edge_list||(this.q._p2t_edge_list=[]),this.q._p2t_edge_list.push(this)},lM=function(){this.left_node=null,this.bottom_node=null,this.right_node=null,this.width=0,this.left_highest=!1};lM.prototype.clear=function(){this.left_node=null,this.bottom_node=null,this.right_node=null,this.width=0,this.left_highest=!1};var J7=function(){this.constrained_edge=null,this.right=!1},pi=function(n,r){r=r||{},this.triangles_=[],this.map_=[],this.points_=r.cloneArrays?n.slice(0):n,this.edge_list=[],this.pmin_=this.pmax_=null,this.front_=null,this.head_=null,this.tail_=null,this.af_head_=null,this.af_middle_=null,this.af_tail_=null,this.basin=new lM,this.edge_event=new J7,this.initEdges(this.points_)};pi.prototype.addHole=function(n){this.initEdges(n);var r,t=n.length;for(r=0;r<t;r++)this.points_.push(n[r]);return this};pi.prototype.AddHole=pi.prototype.addHole;pi.prototype.addHoles=function(n){var r,t=n.length;for(r=0;r<t;r++)this.initEdges(n[r]);return this.points_=this.points_.concat.apply(this.points_,n),this};pi.prototype.addPoint=function(n){return this.points_.push(n),this};pi.prototype.AddPoint=pi.prototype.addPoint;pi.prototype.addPoints=function(n){return this.points_=this.points_.concat(n),this};pi.prototype.triangulate=function(){return X7.triangulate(this),this};pi.prototype.getBoundingBox=function(){return{min:this.pmin_,max:this.pmax_}};pi.prototype.getTriangles=function(){return this.triangles_};pi.prototype.GetTriangles=pi.prototype.getTriangles;pi.prototype.front=function(){return this.front_};pi.prototype.pointCount=function(){return this.points_.length};pi.prototype.head=function(){return this.head_};pi.prototype.setHead=function(n){this.head_=n};pi.prototype.tail=function(){return this.tail_};pi.prototype.setTail=function(n){this.tail_=n};pi.prototype.getMap=function(){return this.map_};pi.prototype.initTriangulation=function(){var n=this.points_[0].x,r=this.points_[0].x,t=this.points_[0].y,o=this.points_[0].y,l,u=this.points_.length;for(l=1;l<u;l++){var d=this.points_[l];d.x>n&&(n=d.x),d.x<r&&(r=d.x),d.y>t&&(t=d.y),d.y<o&&(o=d.y)}this.pmin_=new eg(r,o),this.pmax_=new eg(n,t);var f=PT*(n-r),m=PT*(t-o);this.head_=new eg(n+f,o-m),this.tail_=new eg(r-f,o-m),this.points_.sort(eg.compare)};pi.prototype.initEdges=function(n){var r,t=n.length;for(r=0;r<t;++r)this.edge_list.push(new K7(n[r],n[(r+1)%t]))};pi.prototype.getPoint=function(n){return this.points_[n]};pi.prototype.addToMap=function(n){this.map_.push(n)};pi.prototype.locateNode=function(n){return this.front_.locateNode(n.x)};pi.prototype.createAdvancingFront=function(){var n,r,t,o=new Y7(this.points_[0],this.tail_,this.head_);this.map_.push(o),n=new Uw(o.getPoint(1),o),r=new Uw(o.getPoint(0),o),t=new Uw(o.getPoint(2)),this.front_=new aM(n,t),n.next=r,r.next=t,r.prev=n,t.prev=r};pi.prototype.removeNode=function(n){};pi.prototype.mapTriangleToNodes=function(n){for(var r=0;r<3;++r)if(!n.getNeighbor(r)){var t=this.front_.locatePoint(n.pointCW(n.getPoint(r)));t&&(t.triangle=n)}};pi.prototype.removeFromMap=function(n){var r,t=this.map_,o=t.length;for(r=0;r<o;r++)if(t[r]===n){t.splice(r,1);break}};pi.prototype.meshClean=function(n){for(var r=[n],t,o;t=r.pop();)if(!t.isInterior())for(t.setInterior(!0),this.triangles_.push(t),o=0;o<3;o++)t.constrained_edge[o]||r.push(t.getNeighbor(o))};var Q7=pi;(function(n){var r=globalThis.poly2tri;n.noConflict=function(){return globalThis.poly2tri=r,n},n.VERSION=v7.version,n.PointError=Vx,n.Point=XP,n.Triangle=Wx,n.SweepContext=Q7;var t=Zx;n.triangulate=t.triangulate,n.sweep={Triangulate:t.triangulate}})(kv);function $7(n,r){const t=t7(n,r),o=new kv.SweepContext($B(n,r).map(l=>new kv.Point(l[0],l[1])));for(let l=0;l<t.length;l++)f7(n,t[l])===-1&&o.addPoint(new kv.Point(t[l][0],t[l][1]));try{o.triangulate()}catch{throw new Error("A Point Error occured during resource mask triangulation. This is typically because the resource mask contains duplicate or collinear points, or is self-intersecting.")}return o.getTriangles()}function t9(n,r){return $7(n,r).map(t=>t.getPoints().map(o=>[o.x,o.y]))}function rp(n,r){const t=r[0],o=r[1];return[n[0]*t+n[2]*o+n[4],n[1]*t+n[3]*o+n[5]]}function e9(){return[1,0,0,1,0,0]}function r9(n,r){const t=n[0],o=n[1],l=n[2],u=n[3],d=n[4],f=n[5],m=r[0],v=r[1],_=r[2],k=r[3],C=r[4],M=r[5];return[t*m+l*v,o*m+u*v,t*_+l*k,o*_+u*k,t*C+l*M+d,o*C+u*M+f]}function MT(n,r,t,o,l,u,d){const f=Math.sin(l),m=Math.cos(l);return[t*m,o*f,-t*f,o*m,u*t*m-d*t*f+n,u*o*f+d*o*m+r]}function i9(n){const r=n9(n),t=n[0],o=n[1],l=n[2],u=n[3],d=n[4],f=n[5];return[u/r,-o/r,-l/r,t/r,(l*f-u*d)/r,-(t*f-o*d)/r]}function n9(n){return n[0]*n[3]-n[1]*n[2]}function o9(n){const r=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return r[0]=n[0],r[1]=n[1],r[4]=n[2],r[5]=n[3],r[12]=n[4],r[13]=n[5],r}var Ee;(function(n){n.GEOREFERENCEANNOTATIONADDED="georeferenceannotationadded",n.GEOREFERENCEANNOTATIONREMOVED="georeferenceannotationremoved",n.WARPEDMAPADDED="warpedmapadded",n.WARPEDMAPREMOVED="warpedmapremoved",n.WARPEDMAPENTER="warpedmapenter",n.WARPEDMAPLEAVE="warpedmapleave",n.IMAGEINFOLOADED="imageinfoloaded",n.TILEFETCHED="tilefetched",n.TILEFETCHERROR="tilefetcherror",n.MAPTILELOADED="maptileloaded",n.MAPTILEREMOVED="maptileremoved",n.FIRSTMAPTILELOADED="firstmaptileloaded",n.ALLREQUESTEDTILESLOADED="allrequestedtilesloaded",n.TEXTURESUPDATED="texturesupdated",n.ZINDICESCHANGES="zindiceschanged",n.RESOURCEMASKUPDATED="resourcemaskupdated",n.VISIBILITYCHANGED="visibilitychanged",n.TRANSFORMATIONCHANGED="transformationchanged",n.CHANGED="changed",n.CLEARED="cleared"})(Ee||(Ee={}));class Vr extends Event{constructor(r,t){super(r),this.data=t}}const s9=80,IT={maxOffsetRatio:.05,maxDepth:2},LT={maxOffsetRatio:.05,maxDepth:2};class a9 extends EventTarget{constructor(r,t,o,l=!0){var u;super(),this.resourceViewportRing=[],this.resourceTrianglePoints=[],this.resourceTrianglePointsByBestScaleFactor=new Map,this.projectedGeoCurrentTrianglePoints=[],this.projectedGeoNewTrianglePoints=[],this.mapId=r,this.georeferencedMap=t,this.gcps=this.georeferencedMap.gcps,this.projectedGcps=this.gcps.map(({geo:d,resource:f})=>({geo:AF(d),resource:f})),this.resourceMask=this.georeferencedMap.resourceMask,this.resourceMaskBbox=Gn(this.resourceMask),this.resourceFullMask=[[0,0],[this.georeferencedMap.resource.width,0],[this.georeferencedMap.resource.width,this.georeferencedMap.resource.height],[0,this.georeferencedMap.resource.height]],this.resourceFullMaskBbox=Gn(this.resourceFullMask),this.imageInfoCache=o,this.visible=l,this.transformationType=((u=this.georeferencedMap.transformation)==null?void 0:u.type)||"polynomial",this.updateTransformerProperties()}getViewportMask(r){return this.projectedGeoMask.map(t=>rp(r.projectedGeoToViewportTransform,t))}getViewportMaskBbox(r){return Gn(this.getViewportMask(r))}getApproxViewportMaskBbox(r){return Gn(Yg(this.projectedGeoMaskBbox).map(t=>rp(r.projectedGeoToViewportTransform,t)))}getViewportFullMask(r){return this.projectedGeoFullMask.map(t=>rp(r.projectedGeoToViewportTransform,t))}getViewportFullMaskBbox(r){return Gn(this.getViewportFullMask(r))}getApproxViewportFullMaskBbox(r){return Gn(Yg(this.projectedGeoFullMaskBbox).map(t=>rp(r.projectedGeoToViewportTransform,t)))}getResourceToViewportScale(r){return zw(this.resourceMaskBbox,this.getViewportMaskBbox(r))}getResourceToCanvasScale(r){return this.getResourceToViewportScale(r)/r.devicePixelRatio}getApproxResourceToViewportScale(r){return zw(this.resourceMaskBbox,this.getApproxViewportMaskBbox(r))}getApproxResourceToCanvasScale(r){return this.getApproxResourceToViewportScale(r)/r.devicePixelRatio}setResourceViewportRing(r){this.resourceViewportRing=r,this.resourceViewportRingBbox=Gn(r)}setResourceMask(r){this.resourceMask=r,this.updateGeoMask(),this.updateProjectedGeoMask()}setTransformationType(r){this.transformationType=r,this.updateTransformerProperties()}setGcps(r){this.gcps=r,this.updateTransformerProperties()}updateBestScaleFactor(r){this.bestScaleFactor!=r&&(this.bestScaleFactor=r,this.updateTriangulation(!0))}updateTriangulation(r=!1){if(this.resourceTrianglePointsByBestScaleFactor.has(this.bestScaleFactor))this.resourceTrianglePoints=this.resourceTrianglePointsByBestScaleFactor.get(this.bestScaleFactor);else{const t=MF(this.resourceMask)*this.bestScaleFactor/s9;this.resourceTrianglePoints=t9(this.resourceMask,t).flat(),this.resourceTrianglePointsByBestScaleFactor.set(this.bestScaleFactor,this.resourceTrianglePoints)}this.updateProjectedGeoTrianglePoints(r)}updateProjectedGeoTrianglePoints(r=!1){this.projectedGeoNewTrianglePoints=this.resourceTrianglePoints.map(t=>this.projectedTransformer.transformToGeo(t)),(r||!this.projectedGeoCurrentTrianglePoints.length)&&(this.projectedGeoCurrentTrianglePoints=this.projectedGeoNewTrianglePoints)}resetCurrentTrianglePoints(){this.projectedGeoCurrentTrianglePoints=this.projectedGeoNewTrianglePoints}clearResourceTrianglePointsByBestScaleFactor(){this.resourceTrianglePointsByBestScaleFactor=new Map}mixProjectedGeoCurrentAndNewTrianglePoints(r){this.projectedGeoCurrentTrianglePoints=this.projectedGeoNewTrianglePoints.map((t,o)=>_F(t,this.projectedGeoCurrentTrianglePoints[o],r))}hasImageInfo(){return this.imageId!==void 0&&this.parsedImage!==void 0}async loadImageInfo(){const r=this.georeferencedMap.resource.id,t=await mF(r,{cache:this.imageInfoCache});this.parsedImage=aF.parse(t),this.imageId=await JC(r),this.dispatchEvent(new Vr(Ee.IMAGEINFOLOADED))}dispose(){this.resourceTrianglePoints=[],this.projectedGeoCurrentTrianglePoints=[],this.projectedGeoNewTrianglePoints=[]}updateTransformerProperties(){this.updateTransformer(),this.updateProjectedTransformer(),this.updateGeoMask(),this.updateFullGeoMask(),this.updateProjectedGeoMask(),this.updateProjectedFullGeoMask(),this.updateResourceToProjectedGeoScale()}updateTransformer(){this.transformer=new TT(this.gcps,this.transformationType)}updateProjectedTransformer(){this.projectedTransformer=new TT(this.projectedGcps,this.transformationType)}updateGeoMask(){this.geoMask=this.transformer.transformForwardAsGeojson([this.resourceMask],IT),this.geoMaskBbox=Gn(this.geoMask)}updateFullGeoMask(){this.geoFullMask=this.transformer.transformForwardAsGeojson([this.resourceFullMask],IT),this.geoFullMaskBbox=Gn(this.geoFullMask)}updateProjectedGeoMask(){this.projectedGeoMask=this.projectedTransformer.transformForward([this.resourceMask],LT)[0],this.projectedGeoMaskBbox=Gn(this.projectedGeoMask)}updateProjectedFullGeoMask(){this.projectedGeoFullMask=this.projectedTransformer.transformForward([this.resourceFullMask],LT)[0],this.projectedGeoFullMaskBbox=Gn(this.projectedGeoFullMask)}updateResourceToProjectedGeoScale(){this.resourceToProjectedGeoScale=zw(this.resourceMaskBbox,this.projectedGeoMaskBbox)}}const l9=wt.string().or(wt.number()).or(wt.boolean()),c9=wt.record(wt.string(),l9.array()),bu=wt.tuple([wt.number(),wt.number()]),cM=wt.object({type:wt.literal("Point"),coordinates:bu}),uM=bu.array().min(3),um=wt.enum(["ImageService1","ImageService2","ImageService3"]),u9=wt.object({id:wt.string().url(),type:wt.string(),label:c9.optional()}),By=u9.extend({partOf:wt.lazy(()=>By.array()).optional()}),h9=wt.object({type:wt.literal("polynomial"),options:wt.object({order:wt.number().min(1).max(3)}).optional()}),d9=wt.object({type:wt.literal("thinPlateSpline")}),jy=h9.or(d9),p9=/^<svg\s+width="\d+"\s+height="\d+"\s*>\s*<polygon\s+points="\s*(-?\d+(\.\d+)?,-?\d+(\.\d+)?\s+){2,}-?\d+(\.\d+)?,-?\d+(\.\d+)?\s*"\s*\/>\s*<\/svg>$/,f9=wt.object({type:wt.literal("SvgSelector"),value:wt.string().regex(p9)}),g9=wt.object({source:wt.string().url(),service:wt.array(wt.object({"@id":wt.string().url(),type:um})).length(1),selector:f9}),hM=wt.object({pixelCoords:bu}),m9=wt.object({type:wt.literal("FeatureCollection"),transformation:jy.optional(),features:wt.array(wt.object({type:wt.literal("Feature"),properties:hM,geometry:cM}))}),$x=wt.object({id:wt.string().optional(),type:wt.literal("Annotation"),"@context":wt.string().url().array().optional(),motivation:wt.string().default("georeferencing").optional(),target:g9,body:m9}),dM=wt.object({id:wt.string().optional(),type:wt.literal("AnnotationPage"),"@context":wt.string().url().array().optional(),items:wt.array($x)}),t_=/<polygon\s+points="\s*(-?\d+(\.\d+)?,-?\d+(\.\d+)?\s+){2,}-?\d+(\.\d+)?,-?\d+(\.\d+)?\s*"\s*\/>/,v9=new RegExp(`^<svg\\s+width="\\d+"\\s+height="\\d+"\\s*>\\s*${t_.source}\\s*</svg>$`),y9=new RegExp(`^<svg\\s+height="\\d+"\\s+width="\\d+"\\s*>\\s*${t_.source}\\s*</svg>$`),b9=new RegExp(`^<svg\\s*>\\s*${t_.source}\\s*</svg>$`),w9=wt.string().regex(b9),x9=wt.string().regex(v9),_9=wt.string().regex(y9),k9=wt.object({type:wt.literal("SvgSelector"),value:w9.or(x9).or(_9)}),E9=wt.object({"@id":wt.string().url(),type:um,height:wt.number().positive(),width:wt.number().positive(),partOf:By.array().optional()}),T9=wt.object({id:wt.string().url(),type:um,height:wt.number().positive(),width:wt.number().positive(),partOf:By.array().optional()}),S9=wt.object({type:wt.literal("SpecificResource"),source:E9.or(T9),selector:k9}),pM=wt.object({resourceCoords:bu}),C9=wt.object({type:wt.literal("FeatureCollection"),transformation:jy.optional(),features:wt.array(wt.object({type:wt.literal("Feature"),properties:pM,geometry:cM}))}),e_=wt.object({id:wt.string().optional(),type:wt.literal("Annotation"),"@context":wt.string().url().array().optional(),motivation:wt.string().default("georeferencing").optional(),target:S9,body:C9}),fM=wt.object({id:wt.string().optional(),type:wt.literal("AnnotationPage"),"@context":wt.string().url().array().optional(),items:wt.array(e_)});$x.or(e_);dM.or(fM);hM.or(pM);function gM(n){return Array.isArray(n)}function P9(n){return!!(n&&typeof n=="object"&&"type"in n&&n.type==="AnnotationPage")}function cy(n){return!!(n&&typeof n=="object"&&"type"in n&&n.type==="GeoreferencedMap")}function RT(n){return!!(n&&typeof n=="object"&&"target"in n&&n.target&&typeof n.target=="object"&&"source"in n.target&&typeof n.target.source=="string")}function r_(n){return"type"in n&&n.type==="GeoreferencedMap"}function i_(n){return"source"in n.target&&typeof n.target.source=="object"}function M9(n){return{id:I9(n),...z9(n),type:L9(n),partOf:R9(n)}}function I9(n){if(i_(n)){const r=n.target.source;return"id"in r?r.id:r["@id"]}else return n.target.service[0]["@id"]}function L9(n){return"service"in n.target?n.target.service[0].type:n.target.source.type}function R9(n){if(i_(n))return n.target.source.partOf}function A9(n){return"pixelCoords"in n?n.pixelCoords:n.resourceCoords}function O9(n){return n.body.features.map(r=>({resource:A9(r.properties),geo:r.geometry.coordinates}))}function z9(n){var d,f;if(i_(n))return{width:n.target.source.width,height:n.target.source.height};const r=n.target.selector.value,t=/width="(?<width>\d+)"/.exec(r),o=/height="(?<height>\d+)"/.exec(r),l=(d=t==null?void 0:t.groups)==null?void 0:d.width,u=(f=o==null?void 0:o.groups)==null?void 0:f.height;if(!l||!u)throw new Error("Could not parse image dimensions");return{width:parseInt(l),height:parseInt(u)}}function N9(n){var o;const r=n.target.selector.value,t=(o=/points="(?<points>.+)"/.exec(r))==null?void 0:o.groups;if(t&&t.points){const l=t.points.trim().split(/\s+/);if(l[0]===l[l.length-1]&&l.splice(-1),l.length>=3)return l.map(u=>{const d=u.split(",");if(d.length===2)return[parseFloat(d[0]),parseFloat(d[1])];throw new Error("Could not parse resource mask")});throw new Error("Could not parse resource mask")}else throw new Error("Could not parse resource mask")}function AT(n){return{"@context":"https://schemas.allmaps.org/map/2/context.json",type:"GeoreferencedMap",id:n.id,resource:M9(n),gcps:O9(n),resourceMask:N9(n),transformation:n.body.transformation}}function N1(n){if(P9(n)){let r;return"items"in n&&Array.isArray(n.items)&&RT(n.items[0])?r=dM.parse(n):r=fM.parse(n),r.items.map(t=>AT(t))}else{let r;return RT(n)?r=$x.parse(n):r=e_.parse(n),[AT(r)]}}const mM=wt.object({image:bu,world:bu}),D9=wt.object({uri:wt.string().url(),width:wt.number(),height:wt.number(),type:um}),Hy=wt.object({id:wt.string().optional(),version:wt.number().min(1).max(1).default(1),image:D9,gcps:mM.array(),pixelMask:uM,transformation:jy.optional()}),n_=wt.array(Hy),vM=wt.object({resource:bu,geo:bu}),F9=wt.object({id:wt.string().url(),width:wt.number(),height:wt.number(),type:um,partOf:By.array().optional()}),Uy=wt.object({"@context":wt.literal("https://schemas.allmaps.org/map/2/context.json").optional(),type:wt.literal("GeoreferencedMap"),id:wt.string().optional(),resource:F9,gcps:vM.array(),resourceMask:uM,transformation:jy.optional()}),o_=wt.array(Uy);Hy.or(Uy);n_.or(o_);mM.or(vM);function B9(n){let r,t,o;return r_(n)?(r=n.resource.width,t=n.resource.height,o=n.resourceMask):(r=n.image.width,t=n.image.height,o=n.pixelMask),{type:"SvgSelector",value:`<svg width="${r}" height="${t}"><polygon points="${o.map(l=>l.join(",")).join(" ")}" /></svg>`}}function j9(n){let r,t,o,l,u;return r_(n)?(r=n.resource.id,t=n.resource.type,o=n.resource.width,l=n.resource.height,u=n.resource.partOf):(r=n.image.uri,t=n.image.type,o=n.image.width,l=n.image.height),{id:r,type:t,height:l,width:o,partOf:u}}function yM(){return["http://iiif.io/api/extension/georef/1/context.json","http://iiif.io/api/presentation/3/context.json"]}function H9(n){let r,t;return"resource"in n?(r=n.resource,t=n.geo):(r=n.image,t=n.world),{type:"Feature",properties:{resourceCoords:r},geometry:{type:"Point",coordinates:t}}}function OT(n,r=!0){const t={type:"SpecificResource",source:j9(n),selector:B9(n)},o={type:"FeatureCollection",transformation:n.transformation,features:n.gcps.map(l=>H9(l))};return{id:n.id,type:"Annotation","@context":r?yM():void 0,motivation:"georeferencing",target:t,body:o}}function U9(n){if(gM(n)){let r;cy(n[0])?r=o_.parse(n):r=n_.parse(n);const t=r.map(o=>OT(o,!1));return{type:"AnnotationPage","@context":yM(),items:t}}else{let r;return cy(n)?r=Uy.parse(n):r=Hy.parse(n),OT(r)}}function bM(n){return r_(n)?n:N1(U9(n))[0]}function G9(n){return n.map(bM)}function zT(n){if(gM(n)){let r;return cy(n[0])?r=o_.parse(n):r=n_.parse(n),G9(r)}else{let r;return cy(n)?r=Uy.parse(n):r=Hy.parse(n),bM(r)}}function q9(n,r,t,o,l){wM(n,r,t||0,o||n.length-1,l||V9)}function wM(n,r,t,o,l){for(;o>t;){if(o-t>600){var u=o-t+1,d=r-t+1,f=Math.log(u),m=.5*Math.exp(2*f/3),v=.5*Math.sqrt(f*m*(u-m)/u)*(d-u/2<0?-1:1),_=Math.max(t,Math.floor(r-d*m/u+v)),k=Math.min(o,Math.floor(r+(u-d)*m/u+v));wM(n,r,_,k,l)}var C=n[r],M=t,A=o;for(rg(n,t,r),l(n[o],C)>0&&rg(n,t,o);M<A;){for(rg(n,M,A),M++,A--;l(n[M],C)<0;)M++;for(;l(n[A],C)>0;)A--}l(n[t],C)===0?rg(n,t,A):(A++,rg(n,A,o)),A<=r&&(t=A+1),r<=A&&(o=A-1)}}function rg(n,r,t){var o=n[r];n[r]=n[t],n[t]=o}function V9(n,r){return n<r?-1:n>r?1:0}class W9{constructor(r=9){this._maxEntries=Math.max(4,r),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(r){let t=this.data;const o=[];if(!cv(r,t))return o;const l=this.toBBox,u=[];for(;t;){for(let d=0;d<t.children.length;d++){const f=t.children[d],m=t.leaf?l(f):f;cv(r,m)&&(t.leaf?o.push(f):qw(r,m)?this._all(f,o):u.push(f))}t=u.pop()}return o}collides(r){let t=this.data;if(!cv(r,t))return!1;const o=[];for(;t;){for(let l=0;l<t.children.length;l++){const u=t.children[l],d=t.leaf?this.toBBox(u):u;if(cv(r,d)){if(t.leaf||qw(r,d))return!0;o.push(u)}}t=o.pop()}return!1}load(r){if(!(r&&r.length))return this;if(r.length<this._minEntries){for(let o=0;o<r.length;o++)this.insert(r[o]);return this}let t=this._build(r.slice(),0,r.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const o=this.data;this.data=t,t=o}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(r){return r&&this._insert(r,this.data.height-1),this}clear(){return this.data=Jd([]),this}remove(r,t){if(!r)return this;let o=this.data;const l=this.toBBox(r),u=[],d=[];let f,m,v;for(;o||u.length;){if(o||(o=u.pop(),m=u[u.length-1],f=d.pop(),v=!0),o.leaf){const _=Z9(r,o.children,t);if(_!==-1)return o.children.splice(_,1),u.push(o),this._condense(u),this}!v&&!o.leaf&&qw(o,l)?(u.push(o),d.push(f),f=0,m=o,o=o.children[0]):m?(f++,o=m.children[f],v=!1):o=null}return this}toBBox(r){return r}compareMinX(r,t){return r.minX-t.minX}compareMinY(r,t){return r.minY-t.minY}toJSON(){return this.data}fromJSON(r){return this.data=r,this}_all(r,t){const o=[];for(;r;)r.leaf?t.push(...r.children):o.push(...r.children),r=o.pop();return t}_build(r,t,o,l){const u=o-t+1;let d=this._maxEntries,f;if(u<=d)return f=Jd(r.slice(t,o+1)),Wd(f,this.toBBox),f;l||(l=Math.ceil(Math.log(u)/Math.log(d)),d=Math.ceil(u/Math.pow(d,l-1))),f=Jd([]),f.leaf=!1,f.height=l;const m=Math.ceil(u/d),v=m*Math.ceil(Math.sqrt(d));NT(r,t,o,v,this.compareMinX);for(let _=t;_<=o;_+=v){const k=Math.min(_+v-1,o);NT(r,_,k,m,this.compareMinY);for(let C=_;C<=k;C+=m){const M=Math.min(C+m-1,k);f.children.push(this._build(r,C,M,l-1))}}return Wd(f,this.toBBox),f}_chooseSubtree(r,t,o,l){for(;l.push(t),!(t.leaf||l.length-1===o);){let u=1/0,d=1/0,f;for(let m=0;m<t.children.length;m++){const v=t.children[m],_=Gw(v),k=K9(r,v)-_;k<d?(d=k,u=_<u?_:u,f=v):k===d&&_<u&&(u=_,f=v)}t=f||t.children[0]}return t}_insert(r,t,o){const l=o?r:this.toBBox(r),u=[],d=this._chooseSubtree(l,this.data,t,u);for(d.children.push(r),ug(d,l);t>=0&&u[t].children.length>this._maxEntries;)this._split(u,t),t--;this._adjustParentBBoxes(l,u,t)}_split(r,t){const o=r[t],l=o.children.length,u=this._minEntries;this._chooseSplitAxis(o,u,l);const d=this._chooseSplitIndex(o,u,l),f=Jd(o.children.splice(d,o.children.length-d));f.height=o.height,f.leaf=o.leaf,Wd(o,this.toBBox),Wd(f,this.toBBox),t?r[t-1].children.push(f):this._splitRoot(o,f)}_splitRoot(r,t){this.data=Jd([r,t]),this.data.height=r.height+1,this.data.leaf=!1,Wd(this.data,this.toBBox)}_chooseSplitIndex(r,t,o){let l,u=1/0,d=1/0;for(let f=t;f<=o-t;f++){const m=cg(r,0,f,this.toBBox),v=cg(r,f,o,this.toBBox),_=J9(m,v),k=Gw(m)+Gw(v);_<u?(u=_,l=f,d=k<d?k:d):_===u&&k<d&&(d=k,l=f)}return l||o-t}_chooseSplitAxis(r,t,o){const l=r.leaf?this.compareMinX:Y9,u=r.leaf?this.compareMinY:X9,d=this._allDistMargin(r,t,o,l),f=this._allDistMargin(r,t,o,u);d<f&&r.children.sort(l)}_allDistMargin(r,t,o,l){r.children.sort(l);const u=this.toBBox,d=cg(r,0,t,u),f=cg(r,o-t,o,u);let m=lv(d)+lv(f);for(let v=t;v<o-t;v++){const _=r.children[v];ug(d,r.leaf?u(_):_),m+=lv(d)}for(let v=o-t-1;v>=t;v--){const _=r.children[v];ug(f,r.leaf?u(_):_),m+=lv(f)}return m}_adjustParentBBoxes(r,t,o){for(let l=o;l>=0;l--)ug(t[l],r)}_condense(r){for(let t=r.length-1,o;t>=0;t--)r[t].children.length===0?t>0?(o=r[t-1].children,o.splice(o.indexOf(r[t]),1)):this.clear():Wd(r[t],this.toBBox)}}function Z9(n,r,t){if(!t)return r.indexOf(n);for(let o=0;o<r.length;o++)if(t(n,r[o]))return o;return-1}function Wd(n,r){cg(n,0,n.children.length,r,n)}function cg(n,r,t,o,l){l||(l=Jd(null)),l.minX=1/0,l.minY=1/0,l.maxX=-1/0,l.maxY=-1/0;for(let u=r;u<t;u++){const d=n.children[u];ug(l,n.leaf?o(d):d)}return l}function ug(n,r){return n.minX=Math.min(n.minX,r.minX),n.minY=Math.min(n.minY,r.minY),n.maxX=Math.max(n.maxX,r.maxX),n.maxY=Math.max(n.maxY,r.maxY),n}function Y9(n,r){return n.minX-r.minX}function X9(n,r){return n.minY-r.minY}function Gw(n){return(n.maxX-n.minX)*(n.maxY-n.minY)}function lv(n){return n.maxX-n.minX+(n.maxY-n.minY)}function K9(n,r){return(Math.max(r.maxX,n.maxX)-Math.min(r.minX,n.minX))*(Math.max(r.maxY,n.maxY)-Math.min(r.minY,n.minY))}function J9(n,r){const t=Math.max(n.minX,r.minX),o=Math.max(n.minY,r.minY),l=Math.min(n.maxX,r.maxX),u=Math.min(n.maxY,r.maxY);return Math.max(0,l-t)*Math.max(0,u-o)}function qw(n,r){return n.minX<=r.minX&&n.minY<=r.minY&&r.maxX<=n.maxX&&r.maxY<=n.maxY}function cv(n,r){return r.minX<=n.maxX&&r.minY<=n.maxY&&r.maxX>=n.minX&&r.maxY>=n.minY}function Jd(n){return{children:n,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function NT(n,r,t,o,l){const u=[r,t];for(;u.length;){if(t=u.pop(),r=u.pop(),t-r<=o)continue;const d=r+Math.ceil((t-r)/o/2)*o;q9(n,d,r,t,l),u.push(r,d,d,t)}}function Q9(n,r,t){if(t===void 0&&(t={}),!n)throw new Error("point is required");if(!r)throw new Error("polygon is required");var o=_p(n),l=dF(r),u=l.type,d=r.bbox,f=l.coordinates;if(d&&$9(o,d)===!1)return!1;u==="Polygon"&&(f=[f]);for(var m=!1,v=0;v<f.length&&!m;v++)if(DT(o,f[v][0],t.ignoreBoundary)){for(var _=!1,k=1;k<f[v].length&&!_;)DT(o,f[v][k],!t.ignoreBoundary)&&(_=!0),k++;_||(m=!0)}return m}function DT(n,r,t){var o=!1;r[0][0]===r[r.length-1][0]&&r[0][1]===r[r.length-1][1]&&(r=r.slice(0,r.length-1));for(var l=0,u=r.length-1;l<r.length;u=l++){var d=r[l][0],f=r[l][1],m=r[u][0],v=r[u][1],_=n[1]*(d-m)+f*(m-n[0])+v*(n[0]-d)===0&&(d-n[0])*(m-n[0])<=0&&(f-n[1])*(v-n[1])<=0;if(_)return!t;var k=f>n[1]!=v>n[1]&&n[0]<(m-d)*(n[1]-f)/(v-f)+d;k&&(o=!o)}return o}function $9(n,r){return r[0]<=n[0]&&r[1]<=n[1]&&r[2]>=n[0]&&r[3]>=n[1]}const tj=!0;class ej{constructor(){this.rbush=new W9,this.polygonsById=new Map,this.bboxesById=new Map,this.itemsById=new Map}addItem(r,t){this.removeItem(r);const o=Gn(t),l={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],id:r};this.polygonsById.set(r,t),this.bboxesById.set(r,o),this.itemsById.set(r,l),this.rbush.insert(l)}removeItem(r){const t=this.itemsById.get(r);t&&(this.rbush.remove(t),this.polygonsById.delete(r),this.bboxesById.delete(r),this.itemsById.delete(r))}clear(){this.rbush.clear()}search(r,t,o,l){return this.rbush.search({minX:r,minY:t,maxX:o,maxY:l})}getBbox(r){return this.bboxesById.get(r)}getPolygon(r){return this.polygonsById.get(r)}searchFromBbox(r){const[t,o,l,u]=r;return this.search(t,o,l,u).map(d=>d.id)}searchFromPoint(r,t=tj){const[o,l,u,d]=[r[0],r[1],r[0],r[1]],f=this.search(o,l,u,d);return t?f.filter(m=>{const v=this.polygonsById.get(m.id);return v?Q9(r,v):!1}).map(m=>m.id):f.map(m=>m.id)}}class rj extends EventTarget{constructor(r,t){super(),this.warpedMapsById=new Map,this.zIndices=new Map,t=Object.assign({createRTree:!0},t),this.imageInfoCache=r,t.createRTree&&(this.rtree=new ej)}getMaps(){return this.warpedMapsById.keys()}getWarpedMaps(r){if(r===void 0)return this.warpedMapsById.values();{const t=[];for(const o of r){const l=this.warpedMapsById.get(o);l&&t.push(l)}return t}}getWarpedMap(r){return this.warpedMapsById.get(r)}getMapZIndex(r){return this.zIndices.get(r)}getTotalBbox(){let r;for(const t of this.getWarpedMaps())t.visible&&(r?r=vT(r,t.geoMaskBbox):r=t.geoMaskBbox);return r}getTotalProjectedGeoMaskBbox(){let r;for(const t of this.getWarpedMaps())t.visible&&(r?r=vT(r,t.projectedGeoMaskBbox):r=t.projectedGeoMaskBbox);return r}getMapsByGeoBbox(r){return this.rtree?this.rtree.searchFromBbox(r):Array.from(this.warpedMapsById.keys())}setImageInfoCache(r){this.imageInfoCache=r}setMapResourceMask(r,t){const o=this.warpedMapsById.get(r);o&&(o.setResourceMask(t),this.addToOrUpdateRtree(o),this.dispatchEvent(new Vr(Ee.RESOURCEMASKUPDATED,r)))}setMapsTransformationType(r,t){for(const o of r){const l=this.warpedMapsById.get(o);l&&(l.setTransformationType(t),this.addToOrUpdateRtree(l))}this.dispatchEvent(new Vr(Ee.TRANSFORMATIONCHANGED,r))}bringMapsToFront(r){let t=this.warpedMapsById.size;for(const o of r)this.zIndices.has(o)&&(this.zIndices.set(o,t),t++);this.removeZIndexHoles(),this.dispatchEvent(new Vr(Ee.ZINDICESCHANGES))}sendMapsToBack(r){let t=-Array.from(r).length;for(const o of r)this.zIndices.has(o)&&(this.zIndices.set(o,t),t++);this.removeZIndexHoles(),this.dispatchEvent(new Vr(Ee.ZINDICESCHANGES))}bringMapsForward(r){for(const[t,o]of this.zIndices.entries())this.zIndices.set(t,o*2);for(const t of r){const o=this.zIndices.get(t);o!==void 0&&this.zIndices.set(t,o+3)}this.removeZIndexHoles(),this.dispatchEvent(new Vr(Ee.ZINDICESCHANGES))}sendMapsBackward(r){for(const[t,o]of this.zIndices.entries())this.zIndices.set(t,o*2);for(const t of r){const o=this.zIndices.get(t);o!==void 0&&this.zIndices.set(t,o-3)}this.removeZIndexHoles(),this.dispatchEvent(new Vr(Ee.ZINDICESCHANGES))}showMaps(r){for(const t of r){const o=this.warpedMapsById.get(t);o&&(o.visible=!0)}this.dispatchEvent(new Vr(Ee.VISIBILITYCHANGED,r))}hideMaps(r){for(const t of r){const o=this.warpedMapsById.get(t);o&&(o.visible=!1)}this.dispatchEvent(new Vr(Ee.VISIBILITYCHANGED,r))}async addGeoreferencedMap(r){const t=zT(r),o=Array.isArray(t)?t[0]:t;return this.addGeoreferencedMapInternal(o)}async removeGeoreferencedMap(r){const t=zT(r),o=Array.isArray(t)?t[0]:t;return this.removeGeoreferencedMapInternal(o)}async addGeoreferenceAnnotation(r){const t=[],o=N1(r),l=await Promise.allSettled(o.map(u=>this.addGeoreferencedMapInternal(u)));for(const u of l)u.status==="fulfilled"?t.push(u.value):t.push(u.reason);return this.dispatchEvent(new Vr(Ee.GEOREFERENCEANNOTATIONADDED)),this.dispatchEvent(new Vr(Ee.ZINDICESCHANGES)),t}async removeGeoreferenceAnnotation(r){const t=[],o=N1(r);for(const l of o){const u=await this.removeGeoreferencedMapInternal(l);t.push(u)}return this.dispatchEvent(new Vr(Ee.GEOREFERENCEANNOTATIONREMOVED)),t}clear(){var r;this.warpedMapsById=new Map,this.zIndices=new Map,(r=this.rtree)==null||r.clear(),this.dispatchEvent(new Vr(Ee.CLEARED))}dispose(){for(const r of this.getWarpedMaps())this.removeEventListenersFromWarpedMap(r),r.dispose()}async addGeoreferencedMapInternal(r){const t=await this.getOrComputeMapId(r),o=new a9(t,r,this.imageInfoCache);return this.warpedMapsById.set(t,o),this.zIndices.set(t,this.warpedMapsById.size-1),this.addToOrUpdateRtree(o),this.addEventListenersToWarpedMap(o),this.dispatchEvent(new Vr(Ee.WARPEDMAPADDED,t)),t}async removeGeoreferencedMapInternal(r){const t=await this.getOrComputeMapId(r),o=this.warpedMapsById.get(t);if(o)this.warpedMapsById.delete(t),this.zIndices.delete(t),this.removeFromRtree(o),this.dispatchEvent(new Vr(Ee.WARPEDMAPREMOVED,t)),this.removeZIndexHoles(),this.dispatchEvent(new Vr(Ee.ZINDICESCHANGES));else throw new Error(`No map found with ID ${t}`);return t}async getOrComputeMapId(r){return r.id||await I6(r)}addToOrUpdateRtree(r){this.rtree&&(this.rtree.removeItem(r.mapId),this.rtree.addItem(r.mapId,r.geoMask))}removeFromRtree(r){this.rtree&&this.rtree.removeItem(r.mapId)}removeZIndexHoles(){const r=[...this.zIndices.entries()].sort((o,l)=>o[1]-l[1]);let t=0;for(const o of r){const l=o[0];this.zIndices.set(l,t),t++}}imageInfoLoaded(){this.dispatchEvent(new Vr(Ee.IMAGEINFOLOADED))}addEventListenersToWarpedMap(r){r.addEventListener(Ee.IMAGEINFOLOADED,this.imageInfoLoaded.bind(this))}removeEventListenersFromWarpedMap(r){r.removeEventListener(Ee.IMAGEINFOLOADED,this.imageInfoLoaded.bind(this))}}class ij extends EventTarget{constructor(r,t,o,l,u=1){super(),this.projectedGeoToViewportTransform=[1,0,0,1,0,0],this.projectedGeoToClipTransform=[1,0,0,1,0,0],this.projectedGeoCenter=r,this.projectedGeoPerViewportScale=l,this.rotation=o,this.viewportSize=t,this.devicePixelRatio=u,this.projectedGeoRectangle=this.computeProjectedGeoRectangle(this.projectedGeoCenter,this.projectedGeoPerViewportScale,this.rotation,this.viewportSize),this.projectedGeoBbox=Gn(this.projectedGeoRectangle),this.projectedGeoSize=[this.viewportSize[0]*l,this.viewportSize[1]*l],this.geoCenter=wT(this.projectedGeoCenter),this.geoRectangle=this.projectedGeoRectangle.map(d=>wT(d)),this.geoBbox=Gn(this.geoRectangle),this.geoSize=sy(this.geoBbox),this.viewportCenter=[this.viewportSize[0]/2,this.viewportSize[1]/2],this.viewportBbox=[0,0,...this.viewportSize],this.viewportRectangle=Yg(this.viewportBbox),this.canvasCenter=[this.viewportCenter[0]*this.devicePixelRatio,this.viewportSize[1]*this.devicePixelRatio],this.canvasSize=[this.viewportSize[0]*this.devicePixelRatio,this.viewportSize[1]*this.devicePixelRatio],this.canvasBbox=[0,0,...this.canvasSize],this.canvasRectangle=Yg(this.canvasBbox),this.projectedGeoPerCanvasScale=this.projectedGeoPerViewportScale/this.devicePixelRatio,this.projectedGeoToViewportTransform=this.composeProjectedGeoToViewportTransform(),this.projectedGeoToClipTransform=this.composeProjectedGeoToClipTransform()}composeProjectedGeoToViewportTransform(){return MT(this.viewportSize[0]/2,this.viewportSize[1]/2,1/this.projectedGeoPerViewportScale,-1/this.projectedGeoPerViewportScale,-this.rotation,-this.projectedGeoCenter[0],-this.projectedGeoCenter[1])}composeProjectedGeoToClipTransform(){return MT(0,0,2/(this.projectedGeoPerViewportScale*this.viewportSize[0]),2/(this.projectedGeoPerViewportScale*this.viewportSize[1]),-this.rotation,-this.projectedGeoCenter[0],-this.projectedGeoCenter[1])}computeProjectedGeoRectangle(r,t,o,l){const u=t*l[0]/2,d=t*l[1]/2,f=Math.cos(o),m=Math.sin(o),v=u*f,_=u*m,k=d*f,C=d*m,M=r[0],A=r[1];return[[M-v+C,A-_-k],[M-v-C,A-_+k],[M+v-C,A+_+k],[M+v+C,A+_-k]]}}class nj extends EventTarget{constructor(r){super(),this.tile=r.tile,this.imageRequest=r.imageRequest,this.tileUrl=r.tileUrl,this.abortController=new AbortController}async fetch(){try{const r=await vF(this.tileUrl,this.abortController.signal);return this.imageBitmap=await createImageBitmap(r),this.dispatchEvent(new Vr(Ee.TILEFETCHED,this.tileUrl)),this.imageBitmap}catch(r){r instanceof Error&&r.name==="AbortError"||this.dispatchEvent(new Vr(Ee.TILEFETCHERROR,this.tileUrl))}}isCachedTile(){return this.imageBitmap!==void 0}abort(){this.abortController.signal.aborted||this.abortController.abort()}}const oj=.75;function xM(n,r){return`${n}:${r}`}function _M(n){return xM(n.mapId,n.tileUrl)}function Vw(n){return new Set(n.map(r=>_M(r)))}function sj(n,r,t={maxOffsetRatio:1e-5,maxDepth:2}){const o=CF(r)[0];return n.transformBackward(o,t)}function aj(n,r,t=oj){let o=Number.POSITIVE_INFINITY,l=n.tileZoomLevels.at(-1);for(const u of n.tileZoomLevels){const d=Math.abs(Math.log(u.scaleFactor)-(Math.log(r)-Math.log(t)));d<o&&(o=d,l=u)}return l}function lj(n,r,t){const o=cj(n,r),l=uj(o),u=dj(l,t,r),d=P1(Gn(n));return u.sort((f,m)=>FT(f,d)-FT(m,d)),u}function cj(n,r){return n.map(t=>[t[0]/r.originalWidth,t[1]/r.originalHeight])}function uj(n){const r={};for(let t=0;t<n.length;t++){const o=[n[t],n[(t+1)%n.length]];hj(o).forEach(([l,u])=>{r[l]||(r[l]=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]),u<r[l][0]&&(r[l][0]=u),u>r[l][1]&&(r[l][1]=u)})}return r}function hj([n,r]){let t=Math.floor(n[0]),o=Math.floor(n[1]);const l=Math.floor(r[0]),u=Math.floor(r[1]),d=[[t,o]];if(t===l&&o===u)return d;const f=Math.sign(r[0]-n[0]),m=Math.sign(r[1]-n[1]),v=Math.abs(n[0]-t-Math.max(0,f)),_=Math.abs(n[1]-o-Math.max(0,m)),k=Math.abs(n[0]-r[0]),C=Math.abs(n[1]-r[1]);let M=v/k,A=_/C;const F=1/k,G=1/C;for(;!(t===l&&o===u);)M<A?(M=M+F,t=t+f):(A=A+G,o=o+m),d.push([t,o]);return d}function dj(n,r,t){const o=[];for(const l in n){const u=parseInt(l);if(u<0||u>=t.columns)break;const d=Math.max(n[u][0],0),f=Math.min(n[u][1],t.rows-1);for(let m=d;m<=f;m++)o.push({column:u,row:m,tileZoomLevel:t,imageSize:[r.width,r.height]})}return o}function pj(n){var r,t;return(((r=n.imageRequest.size)==null?void 0:r.height)||0)*(((t=n.imageRequest.size)==null?void 0:t.width)||0)*3}function FT(n,r){return oc(fj(n),r)}function fj(n){const r=kM(n);return[(r[2]-r[0])/2+r[0],(r[3]-r[1])/2+r[1]]}function gj(n){const r=n.column*n.tileZoomLevel.originalWidth,t=n.row*n.tileZoomLevel.originalHeight;return[r,t]}function kM(n){const r=gj(n),t=Math.min(r[0]+n.tileZoomLevel.originalWidth,n.imageSize[0]),o=Math.min(r[1]+n.tileZoomLevel.originalHeight,n.imageSize[1]);return[r[0],r[1],t,o]}const mj=50,vj=32*1e3*1e3;class yj extends EventTarget{constructor(){super(...arguments),this.tilesByTileUrl=new Map,this.mapIdsByTileUrl=new Map,this.tileUrlsByMapId=new Map,this.tilesFetchingCount=0,this.previousRequestedTiles=[],this.outgoingTilesHistory=[]}getCacheableTile(r){return this.tilesByTileUrl.get(r)}getCachedTile(r){const t=this.tilesByTileUrl.get(r);if(t&&t.isCachedTile())return t}getCacheableTiles(){return this.tilesByTileUrl.values()}getCachedTiles(){const r=Array.from(this.tilesByTileUrl.values()),t=[];return r.forEach(o=>{o.isCachedTile()&&t.push(o)}),t}getTileUrls(){return this.tilesByTileUrl.keys()}requestFetcableMapTiles(r){const t=Vw(this.previousRequestedTiles),o=Vw(r);if(LF(t,o))return;const l=[];for(const f of this.previousRequestedTiles)o.has(_M(f))||l.push(f);this.updateOutgoingTilesHistory(l,r.length);const u=Vw(this.outgoingTilesHistory),d=new Set([...o,...u]);for(const[f,m]of this.mapIdsByTileUrl)for(const v of m)d.has(xM(v,f))||this.removeMapTile(v,f);for(const f of r)this.addMapTile(f);this.previousRequestedTiles=r}clear(){this.tilesByTileUrl=new Map,this.mapIdsByTileUrl=new Map,this.tileUrlsByMapId=new Map,this.tilesFetchingCount=0,this.outgoingTilesHistory=[]}dispose(){for(const r of this.getCacheableTiles())this.removeEventListenersFromTile(r)}addMapTile(r){const t=r.mapId,o=r.tileUrl;if(this.tilesByTileUrl.has(o))this.dispatchEvent(new Vr(Ee.MAPTILELOADED,{mapId:t,tileUrl:o}));else{const l=new nj(r);this.addEventListenersToTile(l),this.tilesByTileUrl.set(o,l),this.updateTilesFetchingCount(1),l.fetch()}this.addTileUrlForMapId(t,o),this.addMapIdForTileUrl(t,o)}removeMapTile(r,t){const o=this.tilesByTileUrl.get(t);if(!o)return;const l=this.removeMapIdForTileUrl(r,t);this.removeTileUrlForMapId(r,t),l.size||(o.isCachedTile()||(o.abort(),this.updateTilesFetchingCount(-1)),this.tilesByTileUrl.delete(t)),this.dispatchEvent(new Vr(Ee.MAPTILEREMOVED,{mapId:r,tileUrl:t}))}updateOutgoingTilesHistory(r,t){for(let d=r.length-1;d>=0;d--){const f=r[d];this.outgoingTilesHistory.unshift(f)}this.outgoingTilesHistory=Array.from(new Set(this.outgoingTilesHistory));let o=0,l=0,u=0;for(const d of this.outgoingTilesHistory){if(o+=1,u=pj(d),l+=u,o+t>mj){o-=1,l-=u;break}if(l>vj){o-=1,l-=u;break}}this.outgoingTilesHistory=this.outgoingTilesHistory.slice(0,o)}tileFetched(r){var t;if(r instanceof Vr){const o=r.data;this.updateTilesFetchingCount(-1);for(const l of this.mapIdsByTileUrl.get(o)||[])this.dispatchEvent(new Vr(Ee.MAPTILELOADED,{mapId:l,tileUrl:o})),((t=this.tileUrlsByMapId.get(l))==null?void 0:t.values().next().value)===o&&this.dispatchEvent(new Vr(Ee.FIRSTMAPTILELOADED,{mapId:l,tileUrl:o}))}}tileFetchError(r){if(r instanceof Vr){const t=r.data;this.tilesByTileUrl.has(t)||(this.updateTilesFetchingCount(-1),this.tilesByTileUrl.delete(t))}}addMapIdForTileUrl(r,t){let o=this.mapIdsByTileUrl.get(t);return o?o.add(r):o=new Set([r]),this.mapIdsByTileUrl.set(t,o),o}removeMapIdForTileUrl(r,t){const o=this.mapIdsByTileUrl.get(t);if(o)o.delete(r);else return new Set;return o.size?this.mapIdsByTileUrl.set(t,o):this.mapIdsByTileUrl.delete(t),o}addTileUrlForMapId(r,t){let o=this.tileUrlsByMapId.get(r);return o?o.add(t):o=new Set([t]),this.tileUrlsByMapId.set(r,o),o}removeTileUrlForMapId(r,t){const o=this.tileUrlsByMapId.get(r);return o?(o.delete(t),o.size?this.tileUrlsByMapId.set(r,o):this.tileUrlsByMapId.delete(r),o):new Set}updateTilesFetchingCount(r){this.tilesFetchingCount+=r,this.tilesFetchingCount===0&&this.dispatchEvent(new Vr(Ee.ALLREQUESTEDTILESLOADED))}addEventListenersToTile(r){r.addEventListener(Ee.TILEFETCHED,this.tileFetched.bind(this)),r.addEventListener(Ee.TILEFETCHERROR,this.tileFetchError.bind(this))}removeEventListenersFromTile(r){r.removeEventListener(Ee.TILEFETCHED,this.tileFetched.bind(this)),r.removeEventListener(Ee.TILEFETCHERROR,this.tileFetchError.bind(this))}}class bj{constructor(r,t){this.mapId=t.mapId,this.tile=r;const o=t.parsedImage.getIiifTile(r.tileZoomLevel,r.column,r.row);this.imageRequest=o;const l=t.parsedImage.getImageUrl(o);this.tileUrl=l}}var wj=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis;const xj=wj;var _j=typeof self=="object"&&self&&self.Object===Object&&self,kj=xj||_j||Function("return this")();const EM=kj;var Ej=EM.Symbol;const uy=Ej;var TM=Object.prototype,Tj=TM.hasOwnProperty,Sj=TM.toString,ig=uy?uy.toStringTag:void 0;function Cj(n){var r=Tj.call(n,ig),t=n[ig];try{n[ig]=void 0;var o=!0}catch{}var l=Sj.call(n);return o&&(r?n[ig]=t:delete n[ig]),l}var Pj=Object.prototype,Mj=Pj.toString;function Ij(n){return Mj.call(n)}var Lj="[object Null]",Rj="[object Undefined]",BT=uy?uy.toStringTag:void 0;function Aj(n){return n==null?n===void 0?Rj:Lj:BT&&BT in Object(n)?Cj(n):Ij(n)}function Oj(n){return n!=null&&typeof n=="object"}var zj="[object Symbol]";function Nj(n){return typeof n=="symbol"||Oj(n)&&Aj(n)==zj}var Dj=/\s/;function Fj(n){for(var r=n.length;r--&&Dj.test(n.charAt(r)););return r}var Bj=/^\s+/;function jj(n){return n&&n.slice(0,Fj(n)+1).replace(Bj,"")}function hy(n){var r=typeof n;return n!=null&&(r=="object"||r=="function")}var jT=0/0,Hj=/^[-+]0x[0-9a-f]+$/i,Uj=/^0b[01]+$/i,Gj=/^0o[0-7]+$/i,qj=parseInt;function HT(n){if(typeof n=="number")return n;if(Nj(n))return jT;if(hy(n)){var r=typeof n.valueOf=="function"?n.valueOf():n;n=hy(r)?r+"":r}if(typeof n!="string")return n===0?n:+n;n=jj(n);var t=Uj.test(n);return t||Gj.test(n)?qj(n.slice(2),t?2:8):Hj.test(n)?jT:+n}var Vj=function(){return EM.Date.now()};const Ww=Vj;var Wj="Expected a function",Zj=Math.max,Yj=Math.min;function Xj(n,r,t){var o,l,u,d,f,m,v=0,_=!1,k=!1,C=!0;if(typeof n!="function")throw new TypeError(Wj);r=HT(r)||0,hy(t)&&(_=!!t.leading,k="maxWait"in t,u=k?Zj(HT(t.maxWait)||0,r):u,C="trailing"in t?!!t.trailing:C);function M(gt){var pt=o,ct=l;return o=l=void 0,v=gt,d=n.apply(ct,pt),d}function A(gt){return v=gt,f=setTimeout(H,r),_?M(gt):d}function F(gt){var pt=gt-m,ct=gt-v,Z=r-pt;return k?Yj(Z,u-ct):Z}function G(gt){var pt=gt-m,ct=gt-v;return m===void 0||pt>=r||pt<0||k&&ct>=u}function H(){var gt=Ww();if(G(gt))return W(gt);f=setTimeout(H,F(gt))}function W(gt){return f=void 0,C&&o?M(gt):(o=l=void 0,d)}function j(){f!==void 0&&clearTimeout(f),v=0,o=m=l=f=void 0}function V(){return f===void 0?d:W(Ww())}function nt(){var gt=Ww(),pt=G(gt);if(o=arguments,l=this,m=gt,pt){if(f===void 0)return A(m);if(k)return clearTimeout(f),f=setTimeout(H,r),M(m)}return f===void 0&&(f=setTimeout(H,r)),d}return nt.cancel=j,nt.flush=V,nt}var Kj="Expected a function";function D1(n,r,t){var o=!0,l=!0;if(typeof n!="function")throw new TypeError(Kj);return hy(t)&&(o="leading"in t?!!t.leading:o,l="trailing"in t?!!t.trailing:l),Xj(n,r,{leading:o,maxWait:r,trailing:l})}function Jj(n){let r=0,t=0;for(const d of n)r+=d.w*d.h,t=Math.max(t,d.w);n.sort((d,f)=>f.h-d.h);const o=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(r/.95)),t),h:1/0}];let l=0,u=0;for(const d of n)for(let f=o.length-1;f>=0;f--){const m=o[f];if(!(d.w>m.w||d.h>m.h)){if(d.x=m.x,d.y=m.y,u=Math.max(u,d.y+d.h),l=Math.max(l,d.x+d.w),d.w===m.w&&d.h===m.h){const v=o.pop();f<o.length&&(o[f]=v)}else d.h===m.h?(m.x+=d.w,m.w-=d.w):d.w===m.w?(m.y+=d.h,m.h-=d.h):(o.push({x:m.x+d.w,y:m.y,w:m.w-d.w,h:d.h}),m.y+=d.h,m.h-=d.h);break}}return{w:l,h:u,fill:r/(l*u)||0}}function UT(n,r,t){const o=n.createShader(r);if(o){if(n.shaderSource(o,t),n.compileShader(o),n.getShaderParameter(o,n.COMPILE_STATUS))return o;{const l=n.getShaderInfoLog(o);throw n.deleteShader(o),new Error("Failed to compile shader: "+l)}}else throw new Error("Failed to create shader")}function Qj(n,r,t){const o=n.createProgram();if(o){if(n.attachShader(o,r),n.attachShader(o,t),n.linkProgram(o),n.getProgramParameter(o,n.LINK_STATUS))return o;{const l=n.getProgramInfoLog(o);throw n.deleteProgram(o),new Error("Failed to link program: "+l)}}else throw new Error("Failed to create program")}function uv(n,r,t,o,l){const u=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,u),n.bufferData(n.ARRAY_BUFFER,t,n.STATIC_DRAW);const d=n.FLOAT,f=!1,m=0,v=0,_=n.getAttribLocation(r,l);n.vertexAttribPointer(_,o,d,f,m,v),n.enableVertexAttribArray(_)}const $j=250,tH={leading:!0,trailing:!0},eH=1,rH=1;class iH extends EventTarget{constructor(r,t,o){super(),this.CachedTilesByTileUrl=new Map,this.opacity=eH,this.saturation=rH,this.renderOptions={},this.warpedMap=o,this.gl=r,this.program=t,this.vao=r.createVertexArray(),this.packedTilesTexture=r.createTexture(),this.packedTilesScaleFactorsTexture=r.createTexture(),this.packedTilesPositionsTexture=r.createTexture(),this.packedTilesResourcePositionsAndDimensionsTexture=r.createTexture(),this.throttledUpdateTextures=D1(this.updateTextures.bind(this),$j,tH)}updateVertexBuffers(r){this.projectedGeoToClipTransform=r,this.updateVertexBuffersInternal()}addCachedTileAndUpdateTextures(r){this.CachedTilesByTileUrl.set(r.tileUrl,r),this.throttledUpdateTextures()}removeCachedTileAndUpdateTextures(r){this.CachedTilesByTileUrl.delete(r),this.throttledUpdateTextures()}dispose(){this.gl.deleteVertexArray(this.vao),this.gl.deleteTexture(this.packedTilesTexture),this.gl.deleteTexture(this.packedTilesScaleFactorsTexture),this.gl.deleteTexture(this.packedTilesPositionsTexture),this.gl.deleteTexture(this.packedTilesResourcePositionsAndDimensionsTexture)}updateVertexBuffersInternal(){if(!this.vao||!this.projectedGeoToClipTransform)return;this.gl.bindVertexArray(this.vao),uv(this.gl,this.program,new Float32Array(this.warpedMap.resourceTrianglePoints.flat()),2,"a_resourceTrianglePoint");const r=this.warpedMap.projectedGeoCurrentTrianglePoints.map(l=>rp(this.projectedGeoToClipTransform,l));uv(this.gl,this.program,new Float32Array(r.flat()),2,"a_clipCurrentTrianglePoint");const t=this.warpedMap.projectedGeoNewTrianglePoints.map(l=>rp(this.projectedGeoToClipTransform,l));uv(this.gl,this.program,new Float32Array(t.flat()),2,"a_clipNewTrianglePoint");let o=new Float32Array(this.warpedMap.resourceTrianglePoints.length);o=o.map((l,u)=>Math.round((u-1)/3)),uv(this.gl,this.program,o,1,"a_triangleIndex")}async updateTextures(){const r=this.gl;if(this.CachedTilesByTileUrl.size===0)return;let t=[...this.CachedTilesByTileUrl.values()];t=t.filter(_=>this.warpedMap.resourceViewportRingBbox?SF(kM(_.tile),this.warpedMap.resourceViewportRingBbox):!0);const o=t.length,l=t.map((_,k)=>({w:_.imageBitmap.width,h:_.imageBitmap.height,x:0,y:0,index:k})),{w:u,h:d}=Jj(l);r.pixelStorei(r.UNPACK_ALIGNMENT,4),r.bindTexture(r.TEXTURE_2D,this.packedTilesTexture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,u,d,0,r.RGBA,r.UNSIGNED_BYTE,null);for(const _ of l){const k=t[_.index].imageBitmap;r.texSubImage2D(r.TEXTURE_2D,0,_.x,_.y,k.width,k.height,r.RGBA,r.UNSIGNED_BYTE,k)}r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE);const f=l.map(_=>[_.x,_.y]);r.bindTexture(r.TEXTURE_2D,this.packedTilesPositionsTexture),r.texImage2D(r.TEXTURE_2D,0,r.RG32I,1,o,0,r.RG_INTEGER,r.INT,new Int32Array(f.flat())),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE);const m=l.map(_=>{const k=t[_.index];if(k&&k.imageRequest&&k.imageRequest.region)return[k.imageRequest.region.x,k.imageRequest.region.y,k.imageRequest.region.width,k.imageRequest.region.height]});r.bindTexture(r.TEXTURE_2D,this.packedTilesResourcePositionsAndDimensionsTexture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA32I,1,o,0,r.RGBA_INTEGER,r.INT,new Int32Array(m.flat())),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE);const v=l.map(({index:_})=>t[_].tile.tileZoomLevel.scaleFactor);r.bindTexture(r.TEXTURE_2D,this.packedTilesScaleFactorsTexture),r.texImage2D(r.TEXTURE_2D,0,r.R32I,1,o,0,r.RED_INTEGER,r.INT,new Int32Array(v)),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),this.dispatchEvent(new Vr(Ee.TEXTURESUPDATED))}}const nH=`#version 300 es

precision highp float;

uniform mat4 u_renderTransform;

uniform float u_animationProgress;

in vec2 a_clipCurrentTrianglePoint;
in vec2 a_clipNewTrianglePoint;
in vec2 a_resourceTrianglePoint;
in float a_triangleIndex;

out vec2 v_resourceTrianglePoint;
out float v_triangleIndex;

float cubicInOut(float t) {
  return t < 0.5f ? 4.0f * t * t * t : 0.5f * pow(2.0f * t - 2.0f, 3.0f) + 1.0f;
}

void main() {
  // Pass attributes as varyings to fragment shader
  v_resourceTrianglePoint = a_resourceTrianglePoint;
  v_triangleIndex = a_triangleIndex;

  // Compute triangle vertex coordinates by mixing current and new
  vec2 clipTrianglePoint = mix(a_clipCurrentTrianglePoint, a_clipNewTrianglePoint, cubicInOut(u_animationProgress));

  // Set triangle points coordinates
  // Variables that start with gl_ are special globalThis variables
  // gl_Position stores the vertex (or 'point') positions (or 'coordinates') in clip coordinates (which go from -1 to 1.)

  gl_Position = u_renderTransform * vec4(clipTrianglePoint, 0.0f, 1.0f);
}
`,oH=`#version 300 es

precision highp float;
precision highp isampler2D;

uniform bool u_removeColor;
uniform vec3 u_removeColorOptionsColor;
uniform float u_removeColorOptionsThreshold;
uniform float u_removeColorOptionsHardness;

uniform bool u_colorize;
uniform vec3 u_colorizeOptionsColor;

uniform float u_opacity;
uniform float u_saturation;

uniform int u_bestScaleFactor;

uniform sampler2D u_packedTilesTexture;
uniform isampler2D u_packedTilesPositionsTexture;
uniform isampler2D u_packedTilesResourcePositionsAndDimensionsTexture;
uniform isampler2D u_packedTilesScaleFactorsTexture;

in vec2 v_resourceTrianglePoint;
in float v_triangleIndex;

out vec4 color;

void main() {
  // The treated triangle point
  int resourceTrianglePointX = int(round(v_resourceTrianglePoint.x));
  int resourceTrianglePointY = int(round(v_resourceTrianglePoint.y));

  // Reading information on packed tiles from textures
  int packedTilesCount = textureSize(u_packedTilesPositionsTexture, 0).y;
  ivec2 packedTilesTextureSize = textureSize(u_packedTilesTexture, 0);

  // Setting references for the for loop
  int smallestScaleFactorDiff = 256 * 256; // Starting with very high number
  int bestScaleFactor = 0;

  // Prepare storage for the resulting packed tiles texture point that corresponds to the treated triangle point
  vec2 packedTilesTexturePoint = vec2(0.0f, 0.0f);

  color = vec4(0.0f, 0.0f, 0.0f, 0.0f);

  bool found = false;

  // Loop through all packed tiles
  for(int index = 0; index < packedTilesCount; index += 1) {

    // Read the information of the tile
    ivec2 packedTilePosition = texelFetch(u_packedTilesPositionsTexture, ivec2(0, index), 0).rg;
    ivec4 packedTileResourcePositionAndDimension = texelFetch(u_packedTilesResourcePositionsAndDimensionsTexture, ivec2(0, index), 0);
    int packedTileScaleFactor = texelFetch(u_packedTilesScaleFactorsTexture, ivec2(0, index), 0).r;

    float packedTilePositionX = float(packedTilePosition.r);
    float packedTilePositionY = float(packedTilePosition.g);

    int packedTileResourcePositionX = packedTileResourcePositionAndDimension.r;
    int packedTileResourcePositionY = packedTileResourcePositionAndDimension.g;

    int packedTileDimensionWidth = packedTileResourcePositionAndDimension.b;
    int packedTileDimensionHeight = packedTileResourcePositionAndDimension.a;

    // If the treated triangle point is inside the tile, consider to use the tile:
    // if the scale factor is closer to the best scale factor for this map then currently known one
    // update the smallest scale factor diff
    // and compute the packed tiles texture point that corresponds to the treated triangle point
    if(resourceTrianglePointX >= packedTileResourcePositionX &&
      resourceTrianglePointX < packedTileResourcePositionX + packedTileDimensionWidth &&
      resourceTrianglePointY >= packedTileResourcePositionY &&
      resourceTrianglePointY < packedTileResourcePositionY + packedTileDimensionHeight) {
      found = true;

      int scaleFactorDiff = abs(u_bestScaleFactor - packedTileScaleFactor);

      if(scaleFactorDiff < smallestScaleFactorDiff || bestScaleFactor == 0) {

        smallestScaleFactorDiff = scaleFactorDiff;
        bestScaleFactor = packedTileScaleFactor;

        float packedTilePointX = float(resourceTrianglePointX - packedTileResourcePositionX) / float(bestScaleFactor);
        float packedTilePointY = float(resourceTrianglePointY - packedTileResourcePositionY) / float(bestScaleFactor);

        float packedTilesPointX = packedTilePositionX + packedTilePointX;
        float packedTilesPointY = packedTilePositionY + packedTilePointY;

        float packedTilesTexturePointX = round(packedTilesPointX) / float(packedTilesTextureSize.x);
        float packedTilesTexturePointY = round(packedTilesPointY) / float(packedTilesTextureSize.y);

        packedTilesTexturePoint = vec2(packedTilesTexturePointX, packedTilesTexturePointY);
      }
    }
  }

  if(found == true) {
    // Read color of the treated point at it's packed tiles texture point coordinates in the packed tiles texture
    color = texture(u_packedTilesTexture, packedTilesTexturePoint);

    // Remove background color
    if(u_removeColorOptionsThreshold > 0.0f) {
      vec3 backgroundColorDiff = color.rgb - u_removeColorOptionsColor.rgb;
      float backgroundColorDistance = length(backgroundColorDiff);
      if(u_removeColor && backgroundColorDistance < u_removeColorOptionsThreshold) {
        float amount = smoothstep(u_removeColorOptionsThreshold - u_removeColorOptionsThreshold * (1.0f - u_removeColorOptionsHardness), u_removeColorOptionsThreshold, backgroundColorDistance);
        color = vec4(color.rgb * amount, amount);
      }
    }

    // Saturation
    float gray = 0.21f * color.r + 0.71f * color.g + 0.07f * color.b;
    color = vec4(color.rgb * (u_saturation) + (gray * (1.0f - u_saturation)), color.a);

    // Colorize
    if(u_colorize) {
      color = vec4((u_colorizeOptionsColor + color.rgb) * color.a, color.a);
    }

    // Opacity
    color = vec4(color.rgb * u_opacity, color.a * u_opacity);

    // Debugging: uncomment to override color of the treated point with a color made from the point's triangle index
    // vec4 debugColor = vec4(abs(sin(v_triangleIndex)), abs(sin(v_triangleIndex + 1.0f)), abs(sin(v_triangleIndex + 2.0f)), 1);
    // color = debugColor;
  }
}
`,sH=500,aH={leading:!0,trailing:!0},lH=50,cH={leading:!0,trailing:!0},Zw=1,Yw=1,uH=0,hH=.7,dH=5,pH=5,GT=750;class fH extends EventTarget{constructor(r,t){super(),this.webgl2WarpedMapsById=new Map,this.tileCache=new yj,this.mapsInViewport=new Set,this.opacity=Zw,this.saturation=Yw,this.renderOptions={},this.animating=!1,this.animationProgress=1,this.warpedMapList=t,this.gl=r;const o=UT(r,r.VERTEX_SHADER,nH),l=UT(r,r.FRAGMENT_SHADER,oH);this.program=Qj(r,o,l),r.deleteShader(o),r.deleteShader(l),r.disable(r.DEPTH_TEST),this.invertedRenderTransform=e9(),this.addEventListeners(),this.throttledPrepareRenderInternal=D1(this.prepareRenderInternal.bind(this),sH,aH),this.throttledChanged=D1(this.changed.bind(this),lH,cH)}getOpacity(){return this.opacity}setOpacity(r){this.opacity=r}resetOpacity(){this.opacity=Zw}getMapOpacity(r){const t=this.webgl2WarpedMapsById.get(r);if(t)return t.opacity}setMapOpacity(r,t){const o=this.webgl2WarpedMapsById.get(r);o&&(o.opacity=Math.min(Math.max(t,0),1))}resetMapOpacity(r){const t=this.webgl2WarpedMapsById.get(r);t&&(t.opacity=Zw)}getRemoveColorOptions(){return this.renderOptions.removeColorOptions}setRemoveColorOptions(r){this.renderOptions.removeColorOptions=r}resetRemoveColorOptions(){this.renderOptions.removeColorOptions=void 0}getMapRemoveColorOptions(r){const t=this.webgl2WarpedMapsById.get(r);if(t)return t.renderOptions.removeColorOptions}setMapRemoveColorOptions(r,t){const o=this.webgl2WarpedMapsById.get(r);o&&(o.renderOptions.removeColorOptions=t)}resetMapRemoveColorOptions(r){const t=this.webgl2WarpedMapsById.get(r);t&&(t.renderOptions.removeColorOptions=void 0)}getColorizeOptions(){return this.renderOptions.colorizeOptions}setColorizeOptions(r){this.renderOptions.colorizeOptions=r}resetColorizeOptions(){this.renderOptions.colorizeOptions=void 0}getMapColorizeOptions(r){const t=this.webgl2WarpedMapsById.get(r);if(t)return t.renderOptions.colorizeOptions}setMapColorizeOptions(r,t){const o=this.webgl2WarpedMapsById.get(r);o&&(o.renderOptions.colorizeOptions=t)}resetMapColorizeOptions(r){const t=this.webgl2WarpedMapsById.get(r);t&&(t.renderOptions.colorizeOptions=void 0)}getSaturation(){return this.saturation}setSaturation(r){this.saturation=r}resetSaturation(){this.saturation=Yw}getMapSaturation(r){const t=this.webgl2WarpedMapsById.get(r);if(t)return t.saturation}setMapSaturation(r,t){const o=this.webgl2WarpedMapsById.get(r);o&&(o.saturation=t)}resetMapSaturation(r){const t=this.webgl2WarpedMapsById.get(r);t&&(t.saturation=Yw)}render(r){this.viewport=r,this.throttledPrepareRenderInternal(),this.renderInternal()}clear(){this.webgl2WarpedMapsById=new Map,this.mapsInViewport=new Set,this.gl.clear(this.gl.DEPTH_BUFFER_BIT|this.gl.COLOR_BUFFER_BIT),this.tileCache.clear()}dispose(){for(const r of this.webgl2WarpedMapsById.values())this.removeEventListenersFromWebGL2WarpedMap(r),r.dispose();this.tileCache.clear(),this.tileCache.dispose(),this.removeEventListeners(),this.gl.deleteProgram(this.program)}startTransformationTransition(){this.lastAnimationFrameRequestId!==void 0&&cancelAnimationFrame(this.lastAnimationFrameRequestId),this.animating=!0,this.transformationTransitionStart=void 0,this.lastAnimationFrameRequestId=requestAnimationFrame(this.transformationTransitionFrame.bind(this))}transformationTransitionFrame(r){if(this.transformationTransitionStart||(this.transformationTransitionStart=r),r-this.transformationTransitionStart<GT)this.animationProgress=(r-this.transformationTransitionStart)/GT,this.renderInternal(),this.lastAnimationFrameRequestId=requestAnimationFrame(this.transformationTransitionFrame.bind(this));else{for(const t of this.warpedMapList.getWarpedMaps())t.resetCurrentTrianglePoints();this.updateVertexBuffers(),this.animating=!1,this.animationProgress=0,this.transformationTransitionStart=void 0}}prepareRenderInternal(){this.updateRequestedTiles(),this.updateVertexBuffers()}updateVertexBuffers(){if(this.viewport){this.invertedRenderTransform=i9(this.viewport.projectedGeoToClipTransform);for(const r of this.mapsInViewport){const t=this.webgl2WarpedMapsById.get(r);if(!t)break;t.updateVertexBuffers(this.viewport.projectedGeoToClipTransform)}}}updateRequestedTiles(){if(!this.viewport||!this.viewportMovedSignificantly())return;const r=Array.from(this.warpedMapList.getMapsByGeoBbox(this.viewport.geoBbox)).sort((o,l)=>oc(P1(this.warpedMapList.getWarpedMap(o).geoMaskBbox),this.viewport.geoCenter)-oc(P1(this.warpedMapList.getWarpedMap(l).geoMaskBbox),this.viewport.geoCenter)),t=[];for(const o of r){const l=this.warpedMapList.getWarpedMap(o);if(!l||!l.visible)continue;if(!l.hasImageInfo()){l.loadImageInfo();continue}if(PF(l.getApproxViewportMaskBbox(this.viewport))<dH)continue;const u=aj(l.parsedImage,l.getApproxResourceToCanvasScale(this.viewport));l.updateBestScaleFactor(u.scaleFactor);const d={maxDepth:0},f=sj(l.projectedTransformer,this.viewport.projectedGeoBbox,d);l.setResourceViewportRing(f);const m=lj(f,u,l.parsedImage);for(const v of m)t.push(new bj(v,l))}this.tileCache.requestFetcableMapTiles(t),this.updateMapsInViewport(t)}viewportMovedSignificantly(){if(!this.viewport)return!1;if(this.previousSignificantViewport){const r=[];for(let o=0;o<4;o++)r.push(oc(this.previousSignificantViewport.projectedGeoRectangle[o],this.viewport.projectedGeoRectangle[o])/this.viewport.projectedGeoPerViewportScale);const t=Math.max(...r);return t==0?!0:t>pH?(this.previousSignificantViewport=this.viewport,!0):!1}else return this.previousSignificantViewport=this.viewport,!1}updateMapsInViewport(r){const t=Array.from(this.mapsInViewport),o=r.map(d=>d.mapId).filter((d,f,m)=>m.indexOf(d)===f);this.mapsInViewport=new Set(o.sort((d,f)=>{const m=this.warpedMapList.getMapZIndex(d),v=this.warpedMapList.getMapZIndex(f);return m!==void 0&&v!==void 0?m-v:0}));const l=o.filter(d=>!t.includes(d)),u=t.filter(d=>!o.includes(d));for(const d in l)this.dispatchEvent(new Vr(Ee.WARPEDMAPENTER,d));for(const d in u)this.dispatchEvent(new Vr(Ee.WARPEDMAPLEAVE,d))}renderInternal(){if(!this.viewport)return;const r=r9(this.viewport.projectedGeoToClipTransform,this.invertedRenderTransform),t=this.gl;t.viewport(0,0,t.canvas.width,t.canvas.height),t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.useProgram(this.program);const o=t.getUniformLocation(this.program,"u_renderTransform");t.uniformMatrix4fv(o,!1,o9(r));const l=t.getUniformLocation(this.program,"u_animationProgress");t.uniform1f(l,this.animationProgress);for(const u of this.mapsInViewport){const d=this.webgl2WarpedMapsById.get(u);if(!d)continue;this.setRenderOptionsUniforms(this.renderOptions,d.renderOptions);const f=t.getUniformLocation(this.program,"u_opacity");t.uniform1f(f,this.opacity*d.opacity);const m=t.getUniformLocation(this.program,"u_saturation");t.uniform1f(m,this.saturation*d.saturation);const v=t.getUniformLocation(this.program,"u_bestScaleFactor"),_=d.warpedMap.bestScaleFactor;t.uniform1i(v,_);const k=t.getUniformLocation(this.program,"u_packedTilesTexture");t.uniform1i(k,0),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,d.packedTilesTexture);const C=t.getUniformLocation(this.program,"u_packedTilesPositionsTexture");t.uniform1i(C,1),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,d.packedTilesPositionsTexture);const M=t.getUniformLocation(this.program,"u_packedTilesResourcePositionsAndDimensionsTexture");t.uniform1i(M,2),t.activeTexture(t.TEXTURE2),t.bindTexture(t.TEXTURE_2D,d.packedTilesResourcePositionsAndDimensionsTexture);const A=t.getUniformLocation(this.program,"u_packedTilesScaleFactorsTexture");t.uniform1i(A,3),t.activeTexture(t.TEXTURE3),t.bindTexture(t.TEXTURE_2D,d.packedTilesScaleFactorsTexture);const F=d.vao,G=d.warpedMap.resourceTrianglePoints.length,H=this.gl.TRIANGLES,W=0;t.bindVertexArray(F),t.drawArrays(H,W,G)}}setRenderOptionsUniforms(r,t){var v,_,k,C,M,A,F,G,H,W;const o=this.gl,l={removeColorOptions:{color:((v=t.removeColorOptions)==null?void 0:v.color)||((_=r.removeColorOptions)==null?void 0:_.color),hardness:bT((k=t.removeColorOptions)==null?void 0:k.hardness,(C=r.removeColorOptions)==null?void 0:C.hardness),threshold:bT((M=t.removeColorOptions)==null?void 0:M.threshold,(A=r.removeColorOptions)==null?void 0:A.threshold)},colorizeOptions:{...r.colorizeOptions,...t.colorizeOptions}},u=(F=l.removeColorOptions)==null?void 0:F.color,d=o.getUniformLocation(this.program,"u_removeColor");if(o.uniform1f(d,u?1:0),u){const j=o.getUniformLocation(this.program,"u_removeColorOptionsColor");o.uniform3fv(j,u);const V=o.getUniformLocation(this.program,"u_removeColorOptionsThreshold");o.uniform1f(V,((G=l.removeColorOptions)==null?void 0:G.threshold)||uH);const nt=o.getUniformLocation(this.program,"u_removeColorOptionsHardness");o.uniform1f(nt,((H=l.removeColorOptions)==null?void 0:H.hardness)||hH)}const f=(W=l.colorizeOptions)==null?void 0:W.color,m=o.getUniformLocation(this.program,"u_colorize");if(o.uniform1f(m,f?1:0),f){const j=o.getUniformLocation(this.program,"u_colorizeOptionsColor");o.uniform3fv(j,f)}}changed(){this.dispatchEvent(new Vr(Ee.CHANGED))}imageInfoLoaded(r){r instanceof Vr&&this.dispatchEvent(new Vr(Ee.IMAGEINFOLOADED))}mapTileLoaded(r){if(r instanceof Vr){const{mapId:t,tileUrl:o}=r.data,l=this.tileCache.getCacheableTile(o);if(!l||!l.isCachedTile())return;const u=this.webgl2WarpedMapsById.get(t);if(!u)return;u.addCachedTileAndUpdateTextures(l)}}mapTileRemoved(r){if(r instanceof Vr){const{mapId:t,tileUrl:o}=r.data,l=this.webgl2WarpedMapsById.get(t);if(!l)return;l.removeCachedTileAndUpdateTextures(o)}}warpedMapAdded(r){if(r instanceof Vr){const t=r.data,o=this.warpedMapList.getWarpedMap(t);if(o){const l=new iH(this.gl,this.program,o);this.webgl2WarpedMapsById.set(o.mapId,l),this.addEventListenersToWebGL2WarpedMap(l)}}}transformationChanged(r){if(r instanceof Vr){const t=r.data;for(const o of this.warpedMapList.getWarpedMaps(t))this.animating&&o.mixProjectedGeoCurrentAndNewTrianglePoints(this.animationProgress),o.updateProjectedGeoTrianglePoints(!1);this.updateVertexBuffers(),this.startTransformationTransition()}}resourceMaskUpdated(r){if(r instanceof Vr){const t=r.data,o=this.warpedMapList.getWarpedMap(t);o&&(o.clearResourceTrianglePointsByBestScaleFactor(),o.updateTriangulation(!1))}}addEventListenersToWebGL2WarpedMap(r){r.addEventListener(Ee.TEXTURESUPDATED,this.throttledChanged.bind(this))}removeEventListenersFromWebGL2WarpedMap(r){r.removeEventListener(Ee.TEXTURESUPDATED,this.throttledChanged.bind(this))}addEventListeners(){this.tileCache.addEventListener(Ee.MAPTILELOADED,this.mapTileLoaded.bind(this)),this.tileCache.addEventListener(Ee.MAPTILEREMOVED,this.mapTileRemoved.bind(this)),this.warpedMapList.addEventListener(Ee.IMAGEINFOLOADED,this.imageInfoLoaded.bind(this)),this.warpedMapList.addEventListener(Ee.WARPEDMAPADDED,this.warpedMapAdded.bind(this)),this.warpedMapList.addEventListener(Ee.TRANSFORMATIONCHANGED,this.transformationChanged.bind(this)),this.warpedMapList.addEventListener(Ee.RESOURCEMASKUPDATED,this.resourceMaskUpdated.bind(this)),this.warpedMapList.addEventListener(Ee.CLEARED,this.clear.bind(this))}removeEventListeners(){this.tileCache.removeEventListener(Ee.MAPTILELOADED,this.mapTileLoaded.bind(this)),this.tileCache.removeEventListener(Ee.MAPTILEREMOVED,this.mapTileRemoved.bind(this)),this.warpedMapList.removeEventListener(Ee.IMAGEINFOLOADED,this.imageInfoLoaded.bind(this)),this.warpedMapList.removeEventListener(Ee.WARPEDMAPADDED,this.warpedMapAdded.bind(this)),this.warpedMapList.removeEventListener(Ee.TRANSFORMATIONCHANGED,this.transformationChanged.bind(this)),this.warpedMapList.removeEventListener(Ee.RESOURCEMASKUPDATED,this.resourceMaskUpdated.bind(this)),this.warpedMapList.removeEventListener(Ee.CLEARED,this.clear.bind(this))}}const gH=lo.Layer.extend({options:{opacity:1,interactive:!1,className:"",pane:"tilePane",zIndex:"1"},initialize(n,r){this._annotation=n,lo.setOptions(this,r),this._initGl()},async onAdd(n){const r=this.getPaneName();return this._map.getPane(r).appendChild(this.container),n.on("zoomend viewreset move",this._update,this),n.on("zoomanim",this._animateZoom,this),n.on("unload",this._unload,this),this.resizeObserver=new ResizeObserver(this._resized.bind(this)),this.resizeObserver.observe(this._map.getContainer(),{box:"content-box"}),this._annotation&&(RF(this._annotation)?await this.addGeoreferenceAnnotationByUrl(this._annotation):await this.addGeoreferenceAnnotation(this._annotation)),this._update(),this},onRemove(n){this.container.remove(),n.off("zoomend viewreset move",this._update,this),n.off("zoomanim",this._animateZoom,this)},async addGeoreferenceAnnotation(n){const r=await this.renderer.warpedMapList.addGeoreferenceAnnotation(n);return this._update(),r},async removeGeoreferenceAnnotation(n){const r=await this.renderer.warpedMapList.removeGeoreferenceAnnotation(n);return this._update(),r},async addGeoreferenceAnnotationByUrl(n){const r=await fetch(n).then(t=>t.json());return this.addGeoreferenceAnnotation(r)},async removeGeoreferenceAnnotationByUrl(n){const r=await fetch(n).then(t=>t.json());return this.removeGeoreferenceAnnotation(r)},async addGeoreferencedMap(n){const r=this.renderer.warpedMapList.addGeoreferencedMap(n);return this._update(),r},async removeGeoreferencedMap(n){const r=this.renderer.warpedMapList.removeGeoreferencedMap(n);return this._update(),r},getContainer(){return this.container},getCanvas(){return this.canvas},getWarpedMapList(){return this.renderer.warpedMapList},getWarpedMap(n){return this.renderer.warpedMapList.getWarpedMap(n)},showMap(n){this.renderer.warpedMapList.showMaps([n]),this._update()},showMaps(n){this.renderer.warpedMapList.showMaps(n),this._update()},hideMap(n){this.renderer.warpedMapList.hideMaps([n]),this._update()},hideMaps(n){this.renderer.warpedMapList.hideMaps(n),this._update()},isMapVisible(n){var r;return(r=this.renderer.warpedMapList.getWarpedMap(n))==null?void 0:r.visible},setMapResourceMask(n,r){this.renderer.warpedMapList.setMapResourceMask(n,r),this._update()},setMapsTransformationType(n,r){this.renderer.warpedMapList.setMapsTransformationType(n,r),this._update()},getTotalBbox(){return this.renderer.warpedMapList.getBbox()},getTotalProjectedBbox(){return this.renderer.warpedMapList.getProjectedBbox()},getTotalBounds(){const n=this.getTotalBbox();return lo.latLngBounds(lo.latLng(n[1],n[0]),lo.latLng(n[3],n[2]))},getTotalProjectedBounds(){const n=this.getTotalProjectedBbox();return lo.latLngBounds(lo.latLng(n[1],n[0]),lo.latLng(n[3],n[2]))},bringMapsToFront(n){this.renderer.warpedMapList.bringMapsToFront(n),this._update()},sendMapsToBack(n){this.renderer.warpedMapList.sendMapsToBack(n),this._update()},bringMapsForward(n){this.renderer.warpedMapList.bringMapsForward(n),this._update()},sendMapsBackward(n){this.renderer.warpedMapList.sendMapsBackward(n),this._update()},bringToFront(){return this._map&&lo.DomUtil.toFront(this.container),this},bringToBack(){return this._map&&lo.DomUtil.toBack(this.container),this},getMapZIndex(n){return this.renderer.warpedMapList.getMapZIndex(n)},getZIndex(){return this.options.zIndex},setZIndex(n){return this.options.zIndex=n,this._updateZIndex(),this},setImageInfoCache(n){this.renderer.warpedMapList.setImageInfoCache(n)},getPaneName(){return this._map.getPane(this.options.pane)?this.options.pane:"tilePane"},getOpacity(){return this.options.opacity},setOpacity(n){return this.options.opacity=n,this._update(),this},resetOpacity(){return this.options.opacity=1,this._update(),this},getMapOpacity(n){return this.renderer.getMapOpacity(n)},setMapOpacity(n,r){return this.renderer.setMapOpacity(n,r),this._update(),this},resetMapOpacity(n){return this.renderer.resetMapOpacity(n),this._update(),this},setSaturation(n){return this.renderer.setSaturation(n),this._update(),this},resetSaturation(){return this.renderer.resetSaturation(),this._update(),this},setMapSaturation(n,r){return this.renderer.setMapSaturation(n,r),this._update(),this},resetMapSaturation(n){return this.renderer.resetMapSaturation(n),this._update(),this},setRemoveColor(n){const r=n.hexColor?yT(n.hexColor):void 0;return this.renderer.setRemoveColorOptions({color:r,threshold:n.threshold,hardness:n.hardness}),this._update(),this},resetRemoveColor(){return this.renderer.resetRemoveColorOptions(),this._update(),this},setMapRemoveColor(n,r){const t=r.hexColor?yT(r.hexColor):void 0;return this.renderer.setMapRemoveColorOptions(n,{color:t,threshold:r.threshold,hardness:r.hardness}),this._update(),this},resetMapRemoveColor(n){return this.renderer.resetMapRemoveColorOptions(n),this},setColorize(n){const r=this.hexToRgb(n);return r&&(this.renderer.setColorizeOptions({color:r}),this._update()),this},resetColorize(){return this.renderer.resetColorizeOptions(),this._update(),this},setMapColorize(n,r){const t=this.hexToRgb(r);return t&&(this.renderer.setMapColorizeOptions(n,{color:t}),this._update()),this},resetMapColorize(n){return this.renderer.resetMapColorizeOptions(n),this._update(),this},_initGl(){if(this.container=lo.DomUtil.create("div"),this.container.classList.add("leaflet-layer"),this.container.classList.add("allmaps-warped-map-layer"),this.options.zIndex&&this._updateZIndex(),this.canvas=lo.DomUtil.create("canvas",void 0,this.container),this.canvas.classList.add("leaflet-zoom-animated"),this.canvas.classList.add("leaflet-image-layer"),this.options.interactive&&this.canvas.classList.add("leaflet-interactive"),this.options.className&&this.canvas.classList.add(this.options.className),this.gl=this.canvas.getContext("webgl2",{premultipliedAlpha:!0}),!this.gl)throw new Error("WebGL 2 not available");const n=new rj(this.options.imageInfoCache);this.renderer=new fH(this.gl,n),this._addEventListeners()},_resized(n){for(const r of n){const t=r.contentRect.width,o=r.contentRect.height,l=window.devicePixelRatio,u=Math.round(t*l),d=Math.round(o*l);this.canvas.width=u,this.canvas.height=d,this.canvas.style.width=t+"px",this.canvas.style.height=o+"px"}this._update()},_animateZoom(n){const r=this._map.getZoomScale(n.zoom),t=this._map._latLngBoundsToNewLayerBounds(this._map.getBounds(),n.zoom,n.center).min;lo.DomUtil.setTransform(this.canvas,t,r)},_updateZIndex(){this.container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this.container.style.zIndex=this.options.zIndex)},_update(){if(!this._map)return;const n=this._map.containerPointToLayerPoint([0,0]);lo.DomUtil.setPosition(this.canvas,n),this.renderer.setOpacity(this.getOpacity());const r=this._map.getCenter(),t=this._map.options.crs.project(r),o=[t.x,t.y],l=this._map.getSize(),u=[l.x,l.y],d=this._map.getBounds(),f=this._map.options.crs.project(d.getNorthEast()),m=this._map.options.crs.project(d.getSouthWest()),v=[m.x,m.y,f.x,f.y],_=sy(v),k=AP(_,u),C=new ij(o,u,0,k,window.devicePixelRatio);return this.renderer.render(C),this.container},_addEventListeners(){this.renderer.addEventListener(Ee.CHANGED,this._update.bind(this)),this.renderer.addEventListener(Ee.IMAGEINFOLOADED,this._update.bind(this)),this.renderer.addEventListener(Ee.WARPEDMAPENTER,this._passWarpedMapEvent.bind(this)),this.renderer.addEventListener(Ee.WARPEDMAPLEAVE,this._passWarpedMapEvent.bind(this)),this.renderer.tileCache.addEventListener(Ee.FIRSTMAPTILELOADED,this._passWarpedMapEvent.bind(this)),this.renderer.tileCache.addEventListener(Ee.ALLREQUESTEDTILESLOADED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.addEventListener(Ee.WARPEDMAPADDED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.addEventListener(Ee.WARPEDMAPREMOVED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.addEventListener(Ee.VISIBILITYCHANGED,this._update.bind(this)),this.renderer.warpedMapList.addEventListener(Ee.CLEARED,this._update.bind(this))},_removeEventListeners(){this.renderer.removeEventListener(Ee.CHANGED,this._update.bind(this)),this.renderer.removeEventListener(Ee.IMAGEINFOLOADED,this._update.bind(this)),this.renderer.removeEventListener(Ee.WARPEDMAPENTER,this._passWarpedMapEvent.bind(this)),this.renderer.removeEventListener(Ee.WARPEDMAPLEAVE,this._passWarpedMapEvent.bind(this)),this.renderer.tileCache.removeEventListener(Ee.FIRSTMAPTILELOADED,this._passWarpedMapEvent.bind(this)),this.renderer.tileCache.removeEventListener(Ee.ALLREQUESTEDTILESLOADED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.removeEventListener(Ee.WARPEDMAPADDED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.removeEventListener(Ee.WARPEDMAPREMOVED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.removeEventListener(Ee.VISIBILITYCHANGED,this._update.bind(this)),this.renderer.warpedMapList.removeEventListener(Ee.CLEARED,this._update.bind(this))},_passWarpedMapEvent(n){n instanceof Vr&&this._map&&this._map.fire(n.type,n.data)},_unload(){this.renderer.dispose();const n=this.gl.getExtension("WEBGL_lose_context");n&&n.loseContext();const r=this.gl.canvas;r.width=1,r.height=1,this.resizeObserver.disconnect(),this._removeEventListeners()}}),mH={class:"content",ref:"content"},vH=["innerHTML"],yH=["innerHTML"],bH=["src"],wH=Ro({__name:"Map.ce",props:{basemaps:{type:String,default:"OpenStreetMap"},center:{type:String,default:"32.32347,-80.97122"},caption:{type:String},data:{type:String},entities:{type:String},essayBase:{type:String},gestureHandling:{type:Boolean,default:y1()},ghDir:{type:String},marker:{type:Boolean},overlay:{type:String},popupOnHover:{type:Boolean},preferGeojson:{type:Boolean},scrollWheelZoom:{type:Boolean,default:!1},zoom:{type:Number,default:2},zoomOnClick:{type:Boolean}},setup(n){const r=n,t=window.turf;let o;const l=me(!1);er(l,()=>{o.open=l.value});const u=me("100vw"),d=me();ta(()=>{var I;o=(I=C.value)==null?void 0:I.querySelector(".dialog"),o.addEventListener("sl-hide",U=>l.value=!1),XC.on("imageSelected",U=>{d.value=U.src,l.value=!0})});const f={iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-icon.png",iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-icon-2x.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",shadowSize:[41,41]},m={CartoDB_DarkMatter:["https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_DarkMatterNoLabels:["https://{s}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_DarkMatterOnlyLabels:["https://{s}.basemaps.cartocdn.com/dark_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_Positron:["https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_PositronNoLabels:["https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_PositronOnlyLabels:["https://{s}.basemaps.cartocdn.com/light_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_Voyager:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_VoyagerNoLabels:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager_nolabels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_VoyagerOnlyLabels:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_VoyagerLabelsUnder:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager_labels_under/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],Esri_DeLorme:["https://server.arcgisonline.com/ArcGIS/rest/services/Specialty/DeLorme_World_Base_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Copyright: &copy;2012 DeLorme",minZoom:1,maxZoom:11}],Esri_NatGeoWorldMap:["https://server.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC",maxZoom:16}],Esri_OceanBasemap:["https://server.arcgisonline.com/ArcGIS/rest/services/Ocean/World_Ocean_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri",maxZoom:13}],Esri_WorldGrayCanvas:["https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ",maxZoom:16}],Esri_WorldImagery:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}],Esri_WorldPhysical:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}",{maxZoom:8,attribution:"Tiles &copy; Esri &mdash; Source: US National Park Service"}],Esri_WorldShadedRelief:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri",maxZoom:13}],Esri_WorldStreetMap:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"}],Esri_WorldTerrain:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: USGS, Esri, TANA, DeLorme, and NPS",maxZoom:13}],Esri_WorldTopoMap:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"}],MtbMap:["http://tile.mtbmap.cz/mtbmap_tiles/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &amp; USGS'}],OpenStreetMap:["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}],OpenStreetMap_DE:["https://{s}.tile.openstreetmap.de/{z}/{x}/{y}.png",{maxZoom:18,attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}],OpenStreetMap_France:["https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",{maxZoom:20,attribution:'&copy; OpenStreetMap France | &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}],OpenStreetMap_HOT:["https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Tiles style by <a href="https://www.hotosm.org/" target="_blank">Humanitarian OpenStreetMap Team</a> hosted by <a href="https://openstreetmap.fr/" target="_blank">OpenStreetMap France</a>',maxZoom:19}],OpenStreetMap_Mapnik:["https://tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:19}],OpenTopoMap:["https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",{maxZoom:17,attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}],OPNVKarte:["https://tileserver.memomaps.de/tilegen/{z}/{x}/{y}.png",{attribution:'Map <a href="https://memomaps.de/">memomaps.de</a> <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:18}],Stadia_AlidadeSmooth:["https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20}],Stadia_AlidadeSmoothDark:["https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20}],Stadia_OSMBright:["https://tiles.stadiamaps.com/tiles/osm_bright/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20}],Stadia_Outdoors:["https://tiles.stadiamaps.com/tiles/outdoors/{z}/{x}/{y}{r}.png",{maxZoom:20,attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'}],Stamen_Terrain:["https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}],Stamen_TerrainBackground:["https://stamen-tiles-{s}.a.ssl.fastly.net/terrain-background/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}],Stamen_TerrainLabels:["https://stamen-tiles-{s}.a.ssl.fastly.net/terrain-labels/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}],Stamen_Toner:["https://stamen-tiles-{s}.a.ssl.fastly.net/toner/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"}],Stamen_TonerBackground:["https://stamen-tiles-{s}.a.ssl.fastly.net/toner-background/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"}],Stamen_TonerLite:["https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"}],Stamen_Watercolor:["https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.{ext}",{subdomains:"abcd",minZoom:1,maxZoom:16,ext:"jpg",attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}],USGS_USTopo:["https://basemap.nationalmap.gov/arcgis/rest/services/USGSTopo/MapServer/tile/{z}/{y}/{x}",{maxZoom:20,attribution:'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'}],USGS_USImagery:["https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryOnly/MapServer/tile/{z}/{y}/{x}",{maxZoom:20,attribution:'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'}],USGS_USImageryTopo:["https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryTopo/MapServer/tile/{z}/{y}/{x}",{maxZoom:20,attribution:'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'}]},v=me(null),_=Xe(()=>{var I,U;return(U=(I=v.value)==null?void 0:I.getRootNode())==null?void 0:U.host}),k=me(null),C=Xe(()=>{var I;return(I=v==null?void 0:v.value)==null?void 0:I.parentNode}),M=me(1),A=me(),F=me([]),G=me(),H=me([]),W=me(),j=me(),V=me(),nt=me(10),gt=me(),pt=me(),ct=me();er(k,I=>{I&&(I.clientHeight===0&&(I.style.height=`${I.clientWidth*M.value}px`),new ResizeObserver(U=>{I.style.height=`${U[0].contentRect.width*M.value}px`,!A.value&&I.clientHeight>0&&Z()}).observe(I),I.clientHeight>0&&Z())}),er(H,async()=>{let I=await Promise.all(H.value);I.length>0&&console.log(I.map(ut=>ti(ut)));let U=I.filter(ut=>ut.geojson&&ut.preferGeojson).map(ut=>{if(ut.geojson.indexOf("http")!==0)if(ut.geojson[0]==="/"){let[It,Zt,...Yt]=ut.geojson.split("/").filter(be=>be),Kt=Yt.join("/"),ge="main";ut.geojson=`https://raw.githubusercontent.com/${It}/${Zt}/${ge}/${Kt}`}else ut.geojson=`https://raw.githubusercontent.com/${r.essayBase}/${ut.geojson}`;return ut}).map(ut=>({url:ut.geojson,item:ut})),ot=await Promise.all(U.map(ut=>fetch(ut.url))),dt=await Promise.all(ot.map(ut=>ut.json())),ht={};for(let ut=0;ut<U.length;ut++){U[ut].item.id&&/^Q[0-9]+$/.test(U[ut].item.id)&&(U[ut].item.qid=U[ut].item.id,delete U[ut].item.id),dt[ut].type==="FeatureCollection"?dt[ut].features.forEach(Zt=>Zt.properties={...Zt.properties,...U[ut].item}):dt[ut].properties={...dt[ut].properties,...U[ut].item};let It=U[ut].item.layer||"Locations";ht[It]||(ht[It]=[]),ht[It].push(dt[ut])}let _t={};I.filter(ut=>!ut.geojson||!ut.preferGeojson).filter(ut=>!ut.allmaps).forEach(ut=>{let It=ut.layer||"Locations";_t[It]||(_t[It]=[]),_t[It].push(ut)}),I.filter(ut=>!ut.allmaps).forEach(ut=>{let It=ut.layer||"Locations";ht[It]?_t[It]&&(ht[It].push(Gt(_t[It])),delete _t[It]):(ht[It]=[Gt(_t[It])],delete _t[It])}),V.value=ht,j.value=I.filter(ut=>ut.allmaps).map(ut=>{let It=new gH(`https://annotations.allmaps.org/images/${ut.allmaps}`);return{name:ut.layer||"Image layer",type:"allmaps",disabled:ut.disabled,opacity:ut.opacity||100,layer:It}})}),er(V,()=>pe()),er(j,()=>pe()),er(A,()=>pe());function Z(){F.value=r.entities?r.entities.split(/\s+/).filter(I=>I):[],Jt(),tr(),at(),Xi()}async function at(){console.log(ti(r)),nt.value=r.zoom;let I;if(r.center)if(Aw(r.center)){let dt=await qd(r.center);I=se(dt.coords)}else I=se(r.center);else if(r.entities){let dt=await qd(F.value[0]);I=se(dt.coords),nt.value=9}else I=new ms.LatLng(0,0),nt.value=6;if(A.value&&(A.value.off(),A.value.remove()),!k.value)return;r.gestureHandling===!0&&ms.Map.addInitHook("addHandler","gestureHandling",C6.GestureHandling),k.value.style.cursor="default";let U=r.basemaps.split(",").map(dt=>{let[ht,_t]=m[dt];return[dt.replace(/_/," "),ms.tileLayer(ht,_t)]}),ot={preferCanvas:!1,smoothWheelZoom:!0,smoothSensitivity:1.5,zoomSnap:.1,center:I,zoom:nt.value,zoomAnimation:!0,scrollWheelZoom:r.scrollWheelZoom,gestureHandling:r.gestureHandling===!0,layers:[U[0][1]]};A.value=ms.map(k.value,ot),(U.length>1||Object.keys(V.value||{}).length>1)&&(W.value=ms.control.layers(Object.fromEntries(U),{}).addTo(A.value)),A.value.on("click",dt=>{var ht;ft(dt),G.value&&rr((ht=G.value)==null?void 0:ht.split(" ")[0]),r.zoomOnClick&&zt()}),A.value.on("zoomend",dt=>{ft(dt),ct.value&&ct.value.layer.openPopup()}),A.value.on("movestart",()=>{k.value&&(k.value.style.cursor="move")}),A.value.on("moveend",dt=>{k.value&&(k.value.style.cursor="default"),ft(dt)}),A.value.on("layeradd",dt=>{var ht,_t;if(dt.layer.feature){let ut=dt.layer;((ht=ut.feature)==null?void 0:ht.type)=="Feature"&&((_t=ut.feature)!=null&&_t.properties.qid)&&ut.feature}}),G.value=`${Number(I.lat.toFixed(5))},${Number(I.lng.toFixed(5))} ${nt.value}`,gt.value=`${Number(I.lat.toFixed(5))},${Number(I.lng.toFixed(5))},${nt.value}`}function ft(I){let U=I.type==="click"?I.latlng:I.target.getCenter(),ot=I.target.getZoom(),dt=[U.lat,U.lng,ot];return G.value=`${Number(U.lat.toFixed(5))},${Number(U.lng.toFixed(5))} ${ot}`,pt.value||(gt.value=`${Number(U.lat.toFixed(5))},${Number(U.lng.toFixed(5))},${ot}`),dt}function vt(I){return ms.geoJSON(I,{pointToLayer:(U,ot)=>{const dt=U.properties;let ht={...f};return U.properties.icon&&(ht.iconUrl=U.properties.icon),U.properties.shadowUrl&&(ht.shadowUrl=U.properties.shadowUrl),U.properties.iconRetinaUrl&&(ht.iconRetinaUrl=U.properties.iconRetinaUrl),dt.markerType==="circle"?ms.circleMarker(ot,{radius:dt.radius||4}):ms.marker(ot,{icon:new ms.Icon(ht)})},onEachFeature:async(U,ot)=>{var ht;let dt=ot;if(!U.properties.coords){if((ht=dt.feature)!=null&&ht.bbox){let _t=dt.getBounds().getCenter();U.properties.coords=`${_t.lat},${_t.lng}`}else if(U.geometry.type==="Polygon"){let _t=t.centroid(U);U.properties.coords=`${_t.geometry.coordinates[1]},${_t.geometry.coordinates[0]}`}}if(U.properties.qid){let _t=await qd(U.properties.qid);U.properties.entityData=_t;let It=`<mdp-info-card data="${JSON.stringify(_t).replace(/"/g,"&quot;")}"></mdp-info-card>`;ot.bindPopup(It)}else{let ut=`<mdp-info-card data="${JSON.stringify(U.properties).replace(/"/g,"&quot;")}"></mdp-info-card>`;ot.bindPopup(ut)}r.popupOnHover&&(ot.on("mouseover",()=>ot.openPopup()),ot.on("mouseout",()=>ot.closePopup())),ot.on("click",()=>{pt.value?(ot.closePopup(),pt.value=void 0):(ot.openPopup(),pt.value={},r.zoomOnClick&&kt(U.properties.coords))})},style:U=>{const ot=U==null?void 0:U.properties,dt=U==null?void 0:U.geometry.type;for(let[_t,ut]of Object.entries(ot))ut==="null"&&(ot[_t]=null);return{color:ot.color||"#FB683F",weight:ot.weight||(dt==="Polygon"||dt==="MultiPolygon"?0:4),opacity:ot.opacity||1,fillColor:ot.fillColor||"#32C125",fillOpacity:ot.fillOpacity||.5}}})}let Qt=()=>{var U;let I=Object.values(V.value).map(ot=>ot[0].features.map(dt=>dt.geometry.coordinates)).flat();I.length>0&&((U=A.value)==null||U.fitBounds(I.map(ot=>[ot[1],ot[0]]),{padding:[100,100]}))},re=!1;function pe(){var I;if(A.value&&V.value&&j.value&&!re){let U=Object.keys(V.value||{}),ot=j.value?j.value.length:0;console.log(`updateMap: geoJsonLayers=${U.length} warpedMapLayers=${ot}`),!W.value&&(U.length>1||U.length===1&&U[0]!=="Locations"||ot>0)&&(W.value=ms.control.layers(Object.fromEntries([]),{}).addTo(A.value));let dt={};if((I=j.value)==null||I.forEach(ht=>{var _t;W.value&&W.value.addOverlay(ht.layer,ht.name),ht.disabled||(_t=A.value)==null||_t.addLayer(ht.layer),dt[ht.name]=ht.layer}),Object.keys(V.value||{}).forEach(ht=>{var It;let _t=new ms.LayerGroup,ut=!1;V.value[ht].forEach(Zt=>{var Kt;let Yt=vt(Zt);_t.addLayer(Yt),(Kt=Zt.properties)!=null&&Kt.disabled&&(ut=!0)}),ut||(It=A.value)==null||It.addLayer(_t),W.value&&W.value.addOverlay(_t,ht)}),Object.keys(dt).length>0){let ht=ms.control.opacity(dt,{label:null,collapsed:!0,position:"topright"});ht.addTo(A.value),Array.from(ht.getContainer().querySelectorAll(".leaflet-control-layers-overlays label")).forEach(_t=>{var Zt;let ut=_t.children[0].textContent.trim(),It;if((Zt=j.value)==null||Zt.forEach(Yt=>{Yt.name===ut&&(It=Yt)}),It){let Yt=It.opacity,Kt=_t.children[1].children[0];Kt.value=Yt,It.layer.setOpacity(Yt/100),Kt.addEventListener("input",ge=>{ge.preventDefault(),ge.stopPropagation(),It.layer.setOpacity(parseInt(Kt.value)/100)})}})}Qt()}}function Gt(I){const U={type:"FeatureCollection",features:[]};return I.filter(ot=>ot.coords).forEach(ot=>{let[dt,ht]=ot.coords.split(",").map(_t=>parseFloat(_t.trim()));U.features.push({type:"Feature",properties:ot,geometry:{type:"Point",coordinates:[ht,dt]}})}),U}async function ce(I){let U=await fetch(`https://iiif.mdpress.io/gh-dir/${I}?filter=images`).then(dt=>dt.json()).then(dt=>dt.map(ht=>`https://iiif.mdpress.io/gh:${I}/${ht.name}/manifest.json`));return(await Ax(U)).filter(dt=>dt.navPlace).map(dt=>te(dt,dt.id))}async function Jt(){r.ghDir&&(H.value=[...H.value,...await ce(r.ghDir)]);let I=r.data?document.getElementById(r.data):_.value,U=Array.from(I.querySelectorAll("li")).map(ot=>{var dt;return oe((dt=ot.firstChild)==null?void 0:dt.textContent)});if(r.marker&&r.center)if(Aw(r.center)){let ot=await qd(r.center);U.push(Promise.resolve(de(ot)))}else U.push(Promise.resolve({coords:r.center,zoom:r.zoom||10}));H.value=[...H.value,...U]}function tr(){const I=ot=>{for(let dt of ot)dt.type==="childList"&&Array.from(dt.target.classList).indexOf("hydrated")>=0&&Jt()};new MutationObserver(I).observe(_.value,{childList:!0,subtree:!0,characterData:!0})}function xt(I){return/^[+-]?\d+(.\d*|\d*),{1}[+-]?\d+(.\d*|\d*)$/.test(I)}function Nt(I){return/^\d{1,2}(\.\d{1})?$/.test(I)}function Vt(I){I=I||"";let U=[];I=I.replace(//,'"').replace(//,'"').replace(//,"'");let ot=I.match(/[^\s"]+|"([^"]*)"/gmi);return ot&&ot.forEach(dt=>{U.length>0&&U[U.length-1].indexOf("=")===U[U.length-1].length-1?U[U.length-1]=`${U[U.length-1]}${dt}`:U.push(dt)}),U}function te(I,U){let ot={id:U};return I.navPlace&&(ot.coords=I.navPlace.features[0].geometry.coordinates.map(dt=>dt.toFixed(5)).join(",")),I.label&&(ot.label=I.label.en),I.summary&&(ot.description=I.summary.en[0]),I.thumbnail&&(ot.image=I.thumbnail[0].id),ot}function de(I,U=""){let ot={id:U||I.id};return I.coords&&(ot.coords=I.coords),I.geojson&&(ot.geojson=I.geojson),I.label&&(ot.label=I.label),I.description&&(ot.description=I.description),I.thumbnail&&(ot.image=I.thumbnail),ot}async function oe(I){let U=Vt(I),ot=/\.(geo)?json$/i,dt=/^[a-z0-9\-]+:.+/,ht={},_t=new Set(["disabled","prefer-geojson"]);for(let ut=0;ut<U.length;ut++){let It=U[ut];if(It.indexOf("=")>0){let[Zt,...Yt]=It.split("="),Kt=Yt.join("=");if(Kt=Kt[Kt.length-1]==='"'?Kt.slice(1,-1):Kt,Zt==="qid"){let ge=await qd(It);ht={...de(ge,It),...ht}}else if(Zt==="iiif"){let ge=await Vv(It);ht={...te(ge,It),...ht}}else ht[Zt]=Kt}else if(Nt(It))ht.zoom=parseInt(It);else if(xt(It))ht.coords=It,ht.id=It;else if(Aw(It)){let Zt=await qd(It);ht={...de(Zt,It),...ht}}else if(ot.test(It))ht.geojson=It;else if(dt.test(It)){let Zt=await Vv(It);ht={...te(Zt,It),...ht}}else if(_t.has(It))ht[OD(It)]=!0;else{let Zt=It[0]==='"'&&It[It.length-1]==='"'?It.slice(1,-1):It;ht.label?ht.description=Zt:ht.label=Zt}}return ht.preferGeojson=ht.preferGeojson||r.preferGeojson&&ht.geojson||ht.geojson&&!ht.coords,ht}function se(I){let[U,ot]=I.split(",").map(dt=>parseFloat(dt.trim()));return new lo.LatLng(U,ot)}function rr(I){navigator.clipboard&&navigator.clipboard.writeText(I)}function gr(I="",U=""){return Object.values(V.value).map(dt=>{let ht=dt[0];return ht.type==="FeatureCollection"?ht.features:[ht]}).flat().find(dt=>{var ht,_t;return dt.id===I||((ht=dt.properties)==null?void 0:ht.id)===I||((_t=dt.properties)==null?void 0:_t.coords)===U})}function vi(I=""){var _t,ut,It,Zt;I=I.replace(/^flyto\|/i,"");let U="",ot=10,dt=I.split(",");if(dt.length===1){U=dt[0];let Yt=gr(U);ot=((_t=Yt==null?void 0:Yt.properties)==null?void 0:_t.zoom)||ot}else if(dt.length===2)if(/^[+-]?\d+(.\d*|\d*)$/.test(dt[0])){U=dt.join(",");let Yt=gr("",U);ot=((ut=Yt==null?void 0:Yt.properties)==null?void 0:ut.zoom)||ot}else U=dt[0],ot=parseFloat(dt[1]);else U=dt.slice(0,2).join(","),ot=parseFloat(dt[2]);let ht;return(It=A.value)==null||It.eachLayer(Yt=>{var Kt,ge,be,De;(((ge=(Kt=Yt==null?void 0:Yt.feature)==null?void 0:Kt.properties)==null?void 0:ge.id)===U||((De=(be=Yt==null?void 0:Yt.feature)==null?void 0:be.properties)==null?void 0:De.coords)===U)&&(ht=Yt)}),ht||(Zt=A.value)==null||Zt.eachLayer(Yt=>ht=Yt),{id:U,zoom:ot,layer:ht}}function Xi(){let I=_.value.parentElement,U=new Set;for(;I!=null&&I.parentElement&&I.tagName!=="MAIN";)I=I.parentElement,Array.from(I.querySelectorAll("[enter],[exit]")).forEach(dt=>{yt(dt)&&!U.has(dt)&&(Bi(dt),U.add(dt))});let ot=_.value.parentElement;for(;ot!=null&&ot.parentElement&&ot.tagName!=="BODY";)ot=ot.parentElement;ot&&Array.from(ot.querySelectorAll("mark")).forEach(dt=>{let ht=Array.from(dt.attributes).find(_t=>_t.name==="flyto");if(ht&&yt(dt.parentElement)){let ut=ht==null?void 0:ht.value;dt.classList.add(ht.name),dt.addEventListener("click",()=>kt(ut)),r.popupOnHover&&(dt.addEventListener("mouseover",()=>{let It=vi(ut).layer;It.openPopup(),y1()&&setTimeout(()=>It.closePopup(),2e3)}),dt.addEventListener("mouseleave",()=>{var It;ct.value=vi(ut),ct.value.id!==pt.value&&((It=ct.value.layer)==null||It.closePopup())}))}})}function Bi(I){let U=I.classList.contains("active");new MutationObserver(dt=>{dt.forEach(ht=>{if(ht.attributeName=="class"){let _t=ht.target.classList.contains("active");if(U!==_t){U=_t;let ut=I.attributes.getNamedItem(_t?"enter":"exit");if(ut){const[It,...Zt]=ut.value.split(":");let Yt=Zt.join(":");It==="flyto"&&kt(Yt,!0),ut.name==="exit"&&zt()}}}})}).observe(I,{attributes:!0,childList:!0,subtree:!0,characterData:!0})}function yt(I){let U=I.previousSibling;for(;U;){if(U.nodeName==="VE-MAP")return U===_.value?U:null;U=U.previousSibling}for(;I.parentElement&&I.tagName!=="MAIN";){I=I.parentElement;let ot=I.querySelector(":scope > ve-map, :scope > p > ve-map, :scope > section > ve-map");if(ot)return ot===_.value?ot:null}}async function kt(I,U=!1){var ot,dt;if(ct.value=vi(I),ct.value.layer){if(ct.value.id===pt.value&&!U)ct.value.layer.closePopup(),zt();else if(pt.value=ct.value.id,(ot=ct.value.layer.feature)!=null&&ot.properties){let ht=se(ct.value.layer.feature.properties.coords);(dt=A.value)==null||dt.flyTo(ht,ct.value.zoom)}}else zt()}function zt(){var I,U;if(ct.value=null,gt.value){let[ot,dt,ht]=gt.value.split(",").map(ut=>parseFloat(ut)),_t=new ms.LatLng(ot,dt);(I=A.value)==null||I.flyTo(_t,ht),(U=A.value)==null||U.closePopup()}pt.value=void 0}return(I,U)=>(ke(),Ce(Fi,null,[Xt("div",{ref_key:"root",ref:v,style:{width:"100%",height:"100%"}},[Xt("div",mH,[Xt("div",{id:"lat-lng-zoom",innerHTML:G.value,onClick:U[0]||(U[0]=ot=>rr(`${G.value}`))},null,8,vH),Xt("div",{id:"map",ref_key:"mapEl",ref:k},null,512),n.caption?(ke(),Ce("div",{key:0,id:"caption",innerHTML:n.caption},null,8,yH)):ii("",!0)],512)],512),Xt("sl-dialog",{class:"dialog","no-header":"",style:au({"--width":u.value,"--body-spacing":0,"--footer-spacing":"0.5em"})},[d.value?(ke(),Ce("mdp-image",{key:0,"no-caption":"",src:d.value,fit:"cover"},null,8,bH)):ii("",!0),Xt("sl-button",{slot:"footer",variant:"primary",onClick:U[1]||(U[1]=ot=>l.value=!1)},"Close")],4)],64))}}),xH=`.leaflet-pane,.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile-container,.leaflet-pane>svg,.leaflet-pane>canvas,.leaflet-zoom-box,.leaflet-image-layer,.leaflet-layer{position:absolute;left:0;top:0}.leaflet-container{overflow:hidden}.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none}.leaflet-tile::-moz-selection{background:transparent}.leaflet-tile::selection{background:transparent}.leaflet-safari .leaflet-tile{image-rendering:-webkit-optimize-contrast}.leaflet-safari .leaflet-tile-container{width:1600px;height:1600px;-webkit-transform-origin:0 0}.leaflet-marker-icon,.leaflet-marker-shadow{display:block}.leaflet-container .leaflet-overlay-pane svg{max-width:none!important;max-height:none!important}.leaflet-container .leaflet-marker-pane img,.leaflet-container .leaflet-shadow-pane img,.leaflet-container .leaflet-tile-pane img,.leaflet-container img.leaflet-image-layer,.leaflet-container .leaflet-tile{max-width:none!important;max-height:none!important;width:auto;padding:0}.leaflet-container img.leaflet-tile{mix-blend-mode:plus-lighter}.leaflet-container.leaflet-touch-zoom{touch-action:pan-x pan-y}.leaflet-container.leaflet-touch-drag{touch-action:none;touch-action:pinch-zoom}.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom{touch-action:none}.leaflet-container{-webkit-tap-highlight-color:transparent}.leaflet-container a{-webkit-tap-highlight-color:rgba(51,181,229,.4)}.leaflet-tile{filter:inherit;visibility:hidden}.leaflet-tile-loaded{visibility:inherit}.leaflet-zoom-box{width:0;height:0;box-sizing:border-box;z-index:800}.leaflet-overlay-pane svg{-moz-user-select:none}.leaflet-pane{z-index:400}.leaflet-tile-pane{z-index:200}.leaflet-overlay-pane{z-index:400}.leaflet-shadow-pane{z-index:500}.leaflet-marker-pane{z-index:600}.leaflet-tooltip-pane{z-index:650}.leaflet-popup-pane{z-index:700}.leaflet-map-pane canvas{z-index:100}.leaflet-map-pane svg{z-index:200}.leaflet-vml-shape{width:1px;height:1px}.lvml{behavior:url(#default#VML);display:inline-block;position:absolute}.leaflet-control{position:relative;z-index:800;pointer-events:visiblePainted;pointer-events:auto}.leaflet-top,.leaflet-bottom{position:absolute;z-index:1000;pointer-events:none}.leaflet-top{top:0}.leaflet-right{right:0}.leaflet-bottom{bottom:0}.leaflet-left{left:0}.leaflet-control{float:left;clear:both}.leaflet-right .leaflet-control{float:right}.leaflet-top .leaflet-control{margin-top:10px}.leaflet-bottom .leaflet-control{margin-bottom:10px}.leaflet-left .leaflet-control{margin-left:10px}.leaflet-right .leaflet-control{margin-right:10px}.leaflet-fade-anim .leaflet-popup{opacity:0;transition:opacity .2s linear}.leaflet-fade-anim .leaflet-map-pane .leaflet-popup{opacity:1}.leaflet-zoom-animated{transform-origin:0 0}svg.leaflet-zoom-animated{will-change:transform}.leaflet-zoom-anim .leaflet-zoom-animated{transition:transform .25s cubic-bezier(0,0,.25,1)}.leaflet-zoom-anim .leaflet-tile,.leaflet-pan-anim .leaflet-tile{transition:none}.leaflet-zoom-anim .leaflet-zoom-hide{visibility:hidden}.leaflet-interactive{cursor:pointer}.leaflet-grab{cursor:grab}.leaflet-crosshair,.leaflet-crosshair .leaflet-interactive{cursor:crosshair}.leaflet-popup-pane,.leaflet-control{cursor:auto}.leaflet-dragging .leaflet-grab,.leaflet-dragging .leaflet-grab .leaflet-interactive,.leaflet-dragging .leaflet-marker-draggable{cursor:move;cursor:grabbing}.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-image-layer,.leaflet-pane>svg path,.leaflet-tile-container{pointer-events:none}.leaflet-marker-icon.leaflet-interactive,.leaflet-image-layer.leaflet-interactive,.leaflet-pane>svg path.leaflet-interactive,svg.leaflet-image-layer.leaflet-interactive path{pointer-events:visiblePainted;pointer-events:auto}.leaflet-container{background:#ddd;outline-offset:1px}.leaflet-container a{color:#0078a8}.leaflet-zoom-box{border:2px dotted #38f;background:rgba(255,255,255,.5)}.leaflet-container{font-family:Helvetica Neue,Arial,Helvetica,sans-serif;font-size:12px;font-size:.75rem;line-height:1.5}.leaflet-bar{box-shadow:0 1px 5px #000000a6;border-radius:4px}.leaflet-bar a{background-color:#fff;border-bottom:1px solid #ccc;width:26px;height:26px;line-height:26px;display:block;text-align:center;text-decoration:none;color:#000}.leaflet-bar a,.leaflet-control-layers-toggle{background-position:50% 50%;background-repeat:no-repeat;display:block}.leaflet-bar a:hover,.leaflet-bar a:focus{background-color:#f4f4f4}.leaflet-bar a:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.leaflet-bar a:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-bottom:none}.leaflet-bar a.leaflet-disabled{cursor:default;background-color:#f4f4f4;color:#bbb}.leaflet-touch .leaflet-bar a{width:30px;height:30px;line-height:30px}.leaflet-touch .leaflet-bar a:first-child{border-top-left-radius:2px;border-top-right-radius:2px}.leaflet-touch .leaflet-bar a:last-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.leaflet-control-zoom-in,.leaflet-control-zoom-out{font:700 18px Lucida Console,Monaco,monospace;text-indent:1px}.leaflet-touch .leaflet-control-zoom-in,.leaflet-touch .leaflet-control-zoom-out{font-size:22px}.leaflet-control-layers{box-shadow:0 1px 5px #0006;background:#fff;border-radius:5px}.leaflet-control-layers-toggle{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAQAAAADQ4RFAAACf0lEQVR4AY1UM3gkARTePdvdoTxXKc+qTl3aU5U6b2Kbkz3Gtq3Zw6ziLGNPzrYx7946Tr6/ee/XeCQ4D3ykPtL5tHno4n0d/h3+xfuWHGLX81cn7r0iTNzjr7LrlxCqPtkbTQEHeqOrTy4Yyt3VCi/IOB0v7rVC7q45Q3Gr5K6jt+3Gl5nCoDD4MtO+j96Wu8atmhGqcNGHObuf8OM/x3AMx38+4Z2sPqzCxRFK2aF2e5Jol56XTLyggAMTL56XOMoS1W4pOyjUcGGQdZxU6qRh7B9Zp+PfpOFlqt0zyDZckPi1ttmIp03jX8gyJ8a/PG2yutpS/Vol7peZIbZcKBAEEheEIAgFbDkz5H6Zrkm2hVWGiXKiF4Ycw0RWKdtC16Q7qe3X4iOMxruonzegJzWaXFrU9utOSsLUmrc0YjeWYjCW4PDMADElpJSSQ0vQvA1Tm6/JlKnqFs1EGyZiFCqnRZTEJJJiKRYzVYzJck2Rm6P4iH+cmSY0YzimYa8l0EtTODFWhcMIMVqdsI2uiTvKmTisIDHJ3od5GILVhBCarCfVRmo4uTjkhrhzkiBV7SsaqS+TzrzM1qpGGUFt28pIySQHR6h7F6KSwGWm97ay+Z+ZqMcEjEWebE7wxCSQwpkhJqoZA5ivCdZDjJepuJ9IQjGGUmuXJdBFUygxVqVsxFsLMbDe8ZbDYVCGKxs+W080max1hFCarCfV+C1KATwcnvE9gRRuMP2prdbWGowm1KB1y+zwMMENkM755cJ2yPDtqhTI6ED1M/82yIDtC/4j4BijjeObflpO9I9MwXTCsSX8jWAFeHr05WoLTJ5G8IQVS/7vwR6ohirYM7f6HzYpogfS3R2OAAAAAElFTkSuQmCC);width:36px;height:36px}.leaflet-retina .leaflet-control-layers-toggle{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAQAAABvcdNgAAAEsklEQVR4AWL4TydIhpZK1kpWOlg0w3ZXP6D2soBtG42jeI6ZmQTHzAxiTbSJsYLjO9HhP+WOmcuhciVnmHVQcJnp7DFvScowZorad/+V/fVzMdMT2g9Cv9guXGv/7pYOrXh2U+RRR3dSd9JRx6bIFc/ekqHI29JC6pJ5ZEh1yWkhkbcFeSjxgx3L2m1cb1C7bceyxA+CNjT/Ifff+/kDk2u/w/33/IeCMOSaWZ4glosqT3DNnNZQ7Cs58/3Ce5HL78iZH/vKVIaYlqzfdLu8Vi7dnvUbEza5Idt36tquZFldl6N5Z/POLof0XLK61mZCmJSWjVF9tEjUluu74IUXvgttuVIHE7YxSkaYhJZam7yiM9Pv82JYfl9nptxZaxMJE4YSPty+vF0+Y2up9d3wwijfjZbabqm/3bZ9ecKHsiGmRflnn1MW4pjHf9oLufyn2z3y1D6n8g8TZhxyzipLNPnAUpsOiuWimg52psrTZYnOWYNDTMuWBWa0tJb4rgq1UvmutpaYEbZlwU3CLJm/ayYjHW5/h7xWLn9Hh1vepDkyf7dE7MtT5LR4e7yYpHrkhOUpEfssBLq2pPhAqoSWKUkk7EDqkmK6RrCEzqDjhNDWNE+XSMvkJRDWlZTmCW0l0PHQGRZY5t1L83kT0Y3l2SItk5JAWHl2dCOBm+fPu3fo5/3v61RMCO9Jx2EEYYhb0rmNQMX/vm7gqOEJLcXTGw3CAuRNeyaPWwjR8PRqKQ1PDA/dpv+on9Shox52WFnx0KY8onHayrJzm87i5h9xGw/tfkev0jGsQizqezUKjk12hBMKJ4kbCqGPVNXudyyrShovGw5CgxsRICxF6aRmSjlBnHRzg7Gx8fKqEubI2rahQYdR1YgDIRQO7JvQyD52hoIQx0mxa0ODtW2Iozn1le2iIRdzwWewedyZzewidueOGqlsn1MvcnQpuVwLGG3/IR1hIKxCjelIDZ8ldqWz25jWAsnldEnK0Zxro19TGVb2ffIZEsIO89EIEDvKMPrzmBOQcKQ+rroye6NgRRxqR4U8EAkz0CL6uSGOm6KQCdWjvjRiSP1BPalCRS5iQYiEIvxuBMJEWgzSoHADcVMuN7IuqqTeyUPq22qFimFtxDyBBJEwNyt6TM88blFHao/6tWWhuuOM4SAK4EI4QmFHA+SEyWlp4EQoJ13cYGzMu7yszEIBOm2rVmHUNqwAIQabISNMRstmdhNWcFLsSm+0tjJH1MdRxO5Nx0WDMhCtgD6OKgZeljJqJKc9po8juskR9XN0Y1lZ3mWjLR9JCO1jRDMd0fpYC2VnvjBSEFg7wBENc0R9HFlb0xvF1+TBEpF68d+DHR6IOWVv2BECtxo46hOFUBd/APU57WIoEwJhIi2CdpyZX0m93BZicktMj1AS9dClteUFAUNUIEygRZCtik5zSxI9MubTBH1GOiHsiLJ3OCoSZkILa9PxiN0EbvhsAo8tdAf9Seepd36lGWHmtNANTv5Jd0z4QYyeo/UEJqxKRpg5LZx6btLPsOaEmdMyxYdlc8LMaJnikDlhclqmPiQnTEpLUIZEwkRagjYkEibQErwhkTAKCLQEbUgkzJQWc/0PstHHcfEdQ+UAAAAASUVORK5CYII=);background-size:26px 26px}.leaflet-touch .leaflet-control-layers-toggle{width:44px;height:44px}.leaflet-control-layers .leaflet-control-layers-list,.leaflet-control-layers-expanded .leaflet-control-layers-toggle{display:none}.leaflet-control-layers-expanded .leaflet-control-layers-list{display:block;position:relative}.leaflet-control-layers-expanded{padding:6px 10px 6px 6px;color:#333;background:#fff}.leaflet-control-layers-scrollbar{overflow-y:scroll;overflow-x:hidden;padding-right:5px}.leaflet-control-layers-selector{margin-top:2px;position:relative;top:1px}.leaflet-control-layers label{display:block;font-size:13px;font-size:1.08333em}.leaflet-control-layers-separator{height:0;border-top:1px solid #ddd;margin:5px -10px 5px -6px}.leaflet-default-icon-path{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=)}.leaflet-container .leaflet-control-attribution{background:#fff;background:rgba(255,255,255,.8);margin:0}.leaflet-control-attribution,.leaflet-control-scale-line{padding:0 5px;color:#333;line-height:1.4}.leaflet-control-attribution a{text-decoration:none}.leaflet-control-attribution a:hover,.leaflet-control-attribution a:focus{text-decoration:underline}.leaflet-attribution-flag{display:inline!important;vertical-align:baseline!important;width:1em;height:.6669em}.leaflet-left .leaflet-control-scale{margin-left:5px}.leaflet-bottom .leaflet-control-scale{margin-bottom:5px}.leaflet-control-scale-line{border:2px solid #777;border-top:none;line-height:1.1;padding:2px 5px 1px;white-space:nowrap;box-sizing:border-box;background:rgba(255,255,255,.8);text-shadow:1px 1px #fff}.leaflet-control-scale-line:not(:first-child){border-top:2px solid #777;border-bottom:none;margin-top:-2px}.leaflet-control-scale-line:not(:first-child):not(:last-child){border-bottom:2px solid #777}.leaflet-touch .leaflet-control-attribution,.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{box-shadow:none}.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{border:2px solid rgba(0,0,0,.2);background-clip:padding-box}.leaflet-popup{position:absolute;text-align:center;margin-bottom:20px}.leaflet-popup-content-wrapper{padding:1px;text-align:left;border-radius:12px}.leaflet-popup-content{margin:13px 24px 13px 20px;line-height:1.3;font-size:13px;font-size:1.08333em;min-height:1px}.leaflet-popup-content p{margin:1.3em 0}.leaflet-popup-tip-container{width:40px;height:20px;position:absolute;left:50%;margin-top:-1px;margin-left:-20px;overflow:hidden;pointer-events:none}.leaflet-popup-tip{width:17px;height:17px;padding:1px;margin:-10px auto 0;pointer-events:auto;transform:rotate(45deg)}.leaflet-popup-content-wrapper,.leaflet-popup-tip{background:white;color:#333;box-shadow:0 3px 14px #0006}.leaflet-container a.leaflet-popup-close-button{position:absolute;top:0;right:0;border:none;text-align:center;width:24px;height:24px;font:16px/24px Tahoma,Verdana,sans-serif;color:#757575;text-decoration:none;background:transparent}.leaflet-container a.leaflet-popup-close-button:hover,.leaflet-container a.leaflet-popup-close-button:focus{color:#585858}.leaflet-popup-scrolled{overflow:auto}.leaflet-oldie .leaflet-popup-content-wrapper{-ms-zoom:1}.leaflet-oldie .leaflet-popup-tip{width:24px;margin:0 auto;-ms-filter:"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)";filter:progid:DXImageTransform.Microsoft.Matrix(M11=.70710678,M12=.70710678,M21=-.70710678,M22=.70710678)}.leaflet-oldie .leaflet-control-zoom,.leaflet-oldie .leaflet-control-layers,.leaflet-oldie .leaflet-popup-content-wrapper,.leaflet-oldie .leaflet-popup-tip{border:1px solid #999}.leaflet-div-icon{background:#fff;border:1px solid #666}.leaflet-tooltip{position:absolute;padding:6px;background-color:#fff;border:1px solid #fff;border-radius:3px;color:#222;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:none;box-shadow:0 1px 3px #0006}.leaflet-tooltip.leaflet-interactive{cursor:pointer;pointer-events:auto}.leaflet-tooltip-top:before,.leaflet-tooltip-bottom:before,.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{position:absolute;pointer-events:none;border:6px solid transparent;background:transparent;content:""}.leaflet-tooltip-bottom{margin-top:6px}.leaflet-tooltip-top{margin-top:-6px}.leaflet-tooltip-bottom:before,.leaflet-tooltip-top:before{left:50%;margin-left:-6px}.leaflet-tooltip-top:before{bottom:0;margin-bottom:-12px;border-top-color:#fff}.leaflet-tooltip-bottom:before{top:0;margin-top:-12px;margin-left:-6px;border-bottom-color:#fff}.leaflet-tooltip-left{margin-left:-6px}.leaflet-tooltip-right{margin-left:6px}.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{top:50%;margin-top:-6px}.leaflet-tooltip-left:before{right:0;margin-right:-12px;border-left-color:#fff}.leaflet-tooltip-right:before{left:0;margin-left:-12px;border-right-color:#fff}@media print{.leaflet-control{-webkit-print-color-adjust:exact;print-color-adjust:exact}}input[type=range]{-webkit-appearance:none;-webkit-tap-highlight-color:rgba(255,255,255,0);width:110px;height:10px;margin:0;border:none;padding:1px 2px;border-radius:30px;background:#f1f0ee;outline:none}input[type=range]::-ms-track{border:inherit;color:transparent;background:transparent}input[type=range]::-ms-fill-lower,input[type=range]::-ms-fill-upper{background:transparent}input[type=range]::-ms-tooltip{display:none}input[type=range]::-ms-thumb{width:15px;height:18px;border-radius:12px;border:0;background-image:linear-gradient(to bottom,#1253a4 0,#1253a4 100%)}.leaflet-control-layers-label{margin:0 0 8px 1px}@keyframes leaflet-gestures-fadein{0%{opacity:0}to{opacity:1}}.leaflet-container:after{animation:leaflet-gestures-fadein .8s backwards;color:#fff;font-family:Roboto,Arial,sans-serif;font-size:22px;justify-content:center;display:flex;align-items:center;padding:15px;position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:461;pointer-events:none}.leaflet-gesture-handling-touch-warning:after,.leaflet-gesture-handling-scroll-warning:after{animation:leaflet-gestures-fadein .8s forwards}.leaflet-gesture-handling-touch-warning:after{content:attr(data-gesture-handling-touch-content)}.leaflet-gesture-handling-scroll-warning:after{content:attr(data-gesture-handling-scroll-content)}:root,:host,.sl-theme-light{color-scheme:light;--sl-color-gray-50: hsl(0 0% 97.5%);--sl-color-gray-100: hsl(240 4.8% 95.9%);--sl-color-gray-200: hsl(240 5.9% 90%);--sl-color-gray-300: hsl(240 4.9% 83.9%);--sl-color-gray-400: hsl(240 5% 64.9%);--sl-color-gray-500: hsl(240 3.8% 46.1%);--sl-color-gray-600: hsl(240 5.2% 33.9%);--sl-color-gray-700: hsl(240 5.3% 26.1%);--sl-color-gray-800: hsl(240 3.7% 15.9%);--sl-color-gray-900: hsl(240 5.9% 10%);--sl-color-gray-950: hsl(240 7.3% 8%);--sl-color-red-50: hsl(0 85.7% 97.3%);--sl-color-red-100: hsl(0 93.3% 94.1%);--sl-color-red-200: hsl(0 96.3% 89.4%);--sl-color-red-300: hsl(0 93.5% 81.8%);--sl-color-red-400: hsl(0 90.6% 70.8%);--sl-color-red-500: hsl(0 84.2% 60.2%);--sl-color-red-600: hsl(0 72.2% 50.6%);--sl-color-red-700: hsl(0 73.7% 41.8%);--sl-color-red-800: hsl(0 70% 35.3%);--sl-color-red-900: hsl(0 62.8% 30.6%);--sl-color-red-950: hsl(0 60% 19.6%);--sl-color-orange-50: hsl(33.3 100% 96.5%);--sl-color-orange-100: hsl(34.3 100% 91.8%);--sl-color-orange-200: hsl(32.1 97.7% 83.1%);--sl-color-orange-300: hsl(30.7 97.2% 72.4%);--sl-color-orange-400: hsl(27 96% 61%);--sl-color-orange-500: hsl(24.6 95% 53.1%);--sl-color-orange-600: hsl(20.5 90.2% 48.2%);--sl-color-orange-700: hsl(17.5 88.3% 40.4%);--sl-color-orange-800: hsl(15 79.1% 33.7%);--sl-color-orange-900: hsl(15.3 74.6% 27.8%);--sl-color-orange-950: hsl(15.2 69.1% 19%);--sl-color-amber-50: hsl(48 100% 96.1%);--sl-color-amber-100: hsl(48 96.5% 88.8%);--sl-color-amber-200: hsl(48 96.6% 76.7%);--sl-color-amber-300: hsl(45.9 96.7% 64.5%);--sl-color-amber-400: hsl(43.3 96.4% 56.3%);--sl-color-amber-500: hsl(37.7 92.1% 50.2%);--sl-color-amber-600: hsl(32.1 94.6% 43.7%);--sl-color-amber-700: hsl(26 90.5% 37.1%);--sl-color-amber-800: hsl(22.7 82.5% 31.4%);--sl-color-amber-900: hsl(21.7 77.8% 26.5%);--sl-color-amber-950: hsl(22.9 74.1% 16.7%);--sl-color-yellow-50: hsl(54.5 91.7% 95.3%);--sl-color-yellow-100: hsl(54.9 96.7% 88%);--sl-color-yellow-200: hsl(52.8 98.3% 76.9%);--sl-color-yellow-300: hsl(50.4 97.8% 63.5%);--sl-color-yellow-400: hsl(47.9 95.8% 53.1%);--sl-color-yellow-500: hsl(45.4 93.4% 47.5%);--sl-color-yellow-600: hsl(40.6 96.1% 40.4%);--sl-color-yellow-700: hsl(35.5 91.7% 32.9%);--sl-color-yellow-800: hsl(31.8 81% 28.8%);--sl-color-yellow-900: hsl(28.4 72.5% 25.7%);--sl-color-yellow-950: hsl(33.1 69% 13.9%);--sl-color-lime-50: hsl(78.3 92% 95.1%);--sl-color-lime-100: hsl(79.6 89.1% 89.2%);--sl-color-lime-200: hsl(80.9 88.5% 79.6%);--sl-color-lime-300: hsl(82 84.5% 67.1%);--sl-color-lime-400: hsl(82.7 78% 55.5%);--sl-color-lime-500: hsl(83.7 80.5% 44.3%);--sl-color-lime-600: hsl(84.8 85.2% 34.5%);--sl-color-lime-700: hsl(85.9 78.4% 27.3%);--sl-color-lime-800: hsl(86.3 69% 22.7%);--sl-color-lime-900: hsl(87.6 61.2% 20.2%);--sl-color-lime-950: hsl(86.5 60.6% 13.9%);--sl-color-green-50: hsl(138.5 76.5% 96.7%);--sl-color-green-100: hsl(140.6 84.2% 92.5%);--sl-color-green-200: hsl(141 78.9% 85.1%);--sl-color-green-300: hsl(141.7 76.6% 73.1%);--sl-color-green-400: hsl(141.9 69.2% 58%);--sl-color-green-500: hsl(142.1 70.6% 45.3%);--sl-color-green-600: hsl(142.1 76.2% 36.3%);--sl-color-green-700: hsl(142.4 71.8% 29.2%);--sl-color-green-800: hsl(142.8 64.2% 24.1%);--sl-color-green-900: hsl(143.8 61.2% 20.2%);--sl-color-green-950: hsl(144.3 60.7% 12%);--sl-color-emerald-50: hsl(151.8 81% 95.9%);--sl-color-emerald-100: hsl(149.3 80.4% 90%);--sl-color-emerald-200: hsl(152.4 76% 80.4%);--sl-color-emerald-300: hsl(156.2 71.6% 66.9%);--sl-color-emerald-400: hsl(158.1 64.4% 51.6%);--sl-color-emerald-500: hsl(160.1 84.1% 39.4%);--sl-color-emerald-600: hsl(161.4 93.5% 30.4%);--sl-color-emerald-700: hsl(162.9 93.5% 24.3%);--sl-color-emerald-800: hsl(163.1 88.1% 19.8%);--sl-color-emerald-900: hsl(164.2 85.7% 16.5%);--sl-color-emerald-950: hsl(164.3 87.5% 9.4%);--sl-color-teal-50: hsl(166.2 76.5% 96.7%);--sl-color-teal-100: hsl(167.2 85.5% 89.2%);--sl-color-teal-200: hsl(168.4 83.8% 78.2%);--sl-color-teal-300: hsl(170.6 76.9% 64.3%);--sl-color-teal-400: hsl(172.5 66% 50.4%);--sl-color-teal-500: hsl(173.4 80.4% 40%);--sl-color-teal-600: hsl(174.7 83.9% 31.6%);--sl-color-teal-700: hsl(175.3 77.4% 26.1%);--sl-color-teal-800: hsl(176.1 69.4% 21.8%);--sl-color-teal-900: hsl(175.9 60.8% 19%);--sl-color-teal-950: hsl(176.5 58.6% 11.4%);--sl-color-cyan-50: hsl(183.2 100% 96.3%);--sl-color-cyan-100: hsl(185.1 95.9% 90.4%);--sl-color-cyan-200: hsl(186.2 93.5% 81.8%);--sl-color-cyan-300: hsl(187 92.4% 69%);--sl-color-cyan-400: hsl(187.9 85.7% 53.3%);--sl-color-cyan-500: hsl(188.7 94.5% 42.7%);--sl-color-cyan-600: hsl(191.6 91.4% 36.5%);--sl-color-cyan-700: hsl(192.9 82.3% 31%);--sl-color-cyan-800: hsl(194.4 69.6% 27.1%);--sl-color-cyan-900: hsl(196.4 63.6% 23.7%);--sl-color-cyan-950: hsl(196.8 61% 16.1%);--sl-color-sky-50: hsl(204 100% 97.1%);--sl-color-sky-100: hsl(204 93.8% 93.7%);--sl-color-sky-200: hsl(200.6 94.4% 86.1%);--sl-color-sky-300: hsl(199.4 95.5% 73.9%);--sl-color-sky-400: hsl(198.4 93.2% 59.6%);--sl-color-sky-500: hsl(198.6 88.7% 48.4%);--sl-color-sky-600: hsl(200.4 98% 39.4%);--sl-color-sky-700: hsl(201.3 96.3% 32.2%);--sl-color-sky-800: hsl(201 90% 27.5%);--sl-color-sky-900: hsl(202 80.3% 23.9%);--sl-color-sky-950: hsl(202.3 73.8% 16.5%);--sl-color-blue-50: hsl(213.8 100% 96.9%);--sl-color-blue-100: hsl(214.3 94.6% 92.7%);--sl-color-blue-200: hsl(213.3 96.9% 87.3%);--sl-color-blue-300: hsl(211.7 96.4% 78.4%);--sl-color-blue-400: hsl(213.1 93.9% 67.8%);--sl-color-blue-500: hsl(217.2 91.2% 59.8%);--sl-color-blue-600: hsl(221.2 83.2% 53.3%);--sl-color-blue-700: hsl(224.3 76.3% 48%);--sl-color-blue-800: hsl(225.9 70.7% 40.2%);--sl-color-blue-900: hsl(224.4 64.3% 32.9%);--sl-color-blue-950: hsl(226.2 55.3% 18.4%);--sl-color-indigo-50: hsl(225.9 100% 96.7%);--sl-color-indigo-100: hsl(226.5 100% 93.9%);--sl-color-indigo-200: hsl(228 96.5% 88.8%);--sl-color-indigo-300: hsl(229.7 93.5% 81.8%);--sl-color-indigo-400: hsl(234.5 89.5% 73.9%);--sl-color-indigo-500: hsl(238.7 83.5% 66.7%);--sl-color-indigo-600: hsl(243.4 75.4% 58.6%);--sl-color-indigo-700: hsl(244.5 57.9% 50.6%);--sl-color-indigo-800: hsl(243.7 54.5% 41.4%);--sl-color-indigo-900: hsl(242.2 47.4% 34.3%);--sl-color-indigo-950: hsl(243.5 43.6% 22.9%);--sl-color-violet-50: hsl(250 100% 97.6%);--sl-color-violet-100: hsl(251.4 91.3% 95.5%);--sl-color-violet-200: hsl(250.5 95.2% 91.8%);--sl-color-violet-300: hsl(252.5 94.7% 85.1%);--sl-color-violet-400: hsl(255.1 91.7% 76.3%);--sl-color-violet-500: hsl(258.3 89.5% 66.3%);--sl-color-violet-600: hsl(262.1 83.3% 57.8%);--sl-color-violet-700: hsl(263.4 70% 50.4%);--sl-color-violet-800: hsl(263.4 69.3% 42.2%);--sl-color-violet-900: hsl(263.5 67.4% 34.9%);--sl-color-violet-950: hsl(265.1 61.5% 21.4%);--sl-color-purple-50: hsl(270 100% 98%);--sl-color-purple-100: hsl(268.7 100% 95.5%);--sl-color-purple-200: hsl(268.6 100% 91.8%);--sl-color-purple-300: hsl(269.2 97.4% 85.1%);--sl-color-purple-400: hsl(270 95.2% 75.3%);--sl-color-purple-500: hsl(270.7 91% 65.1%);--sl-color-purple-600: hsl(271.5 81.3% 55.9%);--sl-color-purple-700: hsl(272.1 71.7% 47.1%);--sl-color-purple-800: hsl(272.9 67.2% 39.4%);--sl-color-purple-900: hsl(273.6 65.6% 32%);--sl-color-purple-950: hsl(276 59.5% 16.5%);--sl-color-fuchsia-50: hsl(289.1 100% 97.8%);--sl-color-fuchsia-100: hsl(287 100% 95.5%);--sl-color-fuchsia-200: hsl(288.3 95.8% 90.6%);--sl-color-fuchsia-300: hsl(291.1 93.1% 82.9%);--sl-color-fuchsia-400: hsl(292 91.4% 72.5%);--sl-color-fuchsia-500: hsl(292.2 84.1% 60.6%);--sl-color-fuchsia-600: hsl(293.4 69.5% 48.8%);--sl-color-fuchsia-700: hsl(294.7 72.4% 39.8%);--sl-color-fuchsia-800: hsl(295.4 70.2% 32.9%);--sl-color-fuchsia-900: hsl(296.7 63.6% 28%);--sl-color-fuchsia-950: hsl(297.1 56.8% 14.5%);--sl-color-pink-50: hsl(327.3 73.3% 97.1%);--sl-color-pink-100: hsl(325.7 77.8% 94.7%);--sl-color-pink-200: hsl(325.9 84.6% 89.8%);--sl-color-pink-300: hsl(327.4 87.1% 81.8%);--sl-color-pink-400: hsl(328.6 85.5% 70.2%);--sl-color-pink-500: hsl(330.4 81.2% 60.4%);--sl-color-pink-600: hsl(333.3 71.4% 50.6%);--sl-color-pink-700: hsl(335.1 77.6% 42%);--sl-color-pink-800: hsl(335.8 74.4% 35.3%);--sl-color-pink-900: hsl(335.9 69% 30.4%);--sl-color-pink-950: hsl(336.2 65.4% 15.9%);--sl-color-rose-50: hsl(355.7 100% 97.3%);--sl-color-rose-100: hsl(355.6 100% 94.7%);--sl-color-rose-200: hsl(352.7 96.1% 90%);--sl-color-rose-300: hsl(352.6 95.7% 81.8%);--sl-color-rose-400: hsl(351.3 94.5% 71.4%);--sl-color-rose-500: hsl(349.7 89.2% 60.2%);--sl-color-rose-600: hsl(346.8 77.2% 49.8%);--sl-color-rose-700: hsl(345.3 82.7% 40.8%);--sl-color-rose-800: hsl(343.4 79.7% 34.7%);--sl-color-rose-900: hsl(341.5 75.5% 30.4%);--sl-color-rose-950: hsl(341.3 70.1% 17.1%);--sl-color-primary-50: var(--sl-color-sky-50);--sl-color-primary-100: var(--sl-color-sky-100);--sl-color-primary-200: var(--sl-color-sky-200);--sl-color-primary-300: var(--sl-color-sky-300);--sl-color-primary-400: var(--sl-color-sky-400);--sl-color-primary-500: var(--sl-color-sky-500);--sl-color-primary-600: var(--sl-color-sky-600);--sl-color-primary-700: var(--sl-color-sky-700);--sl-color-primary-800: var(--sl-color-sky-800);--sl-color-primary-900: var(--sl-color-sky-900);--sl-color-primary-950: var(--sl-color-sky-950);--sl-color-success-50: var(--sl-color-green-50);--sl-color-success-100: var(--sl-color-green-100);--sl-color-success-200: var(--sl-color-green-200);--sl-color-success-300: var(--sl-color-green-300);--sl-color-success-400: var(--sl-color-green-400);--sl-color-success-500: var(--sl-color-green-500);--sl-color-success-600: var(--sl-color-green-600);--sl-color-success-700: var(--sl-color-green-700);--sl-color-success-800: var(--sl-color-green-800);--sl-color-success-900: var(--sl-color-green-900);--sl-color-success-950: var(--sl-color-green-950);--sl-color-warning-50: var(--sl-color-amber-50);--sl-color-warning-100: var(--sl-color-amber-100);--sl-color-warning-200: var(--sl-color-amber-200);--sl-color-warning-300: var(--sl-color-amber-300);--sl-color-warning-400: var(--sl-color-amber-400);--sl-color-warning-500: var(--sl-color-amber-500);--sl-color-warning-600: var(--sl-color-amber-600);--sl-color-warning-700: var(--sl-color-amber-700);--sl-color-warning-800: var(--sl-color-amber-800);--sl-color-warning-900: var(--sl-color-amber-900);--sl-color-warning-950: var(--sl-color-amber-950);--sl-color-danger-50: var(--sl-color-red-50);--sl-color-danger-100: var(--sl-color-red-100);--sl-color-danger-200: var(--sl-color-red-200);--sl-color-danger-300: var(--sl-color-red-300);--sl-color-danger-400: var(--sl-color-red-400);--sl-color-danger-500: var(--sl-color-red-500);--sl-color-danger-600: var(--sl-color-red-600);--sl-color-danger-700: var(--sl-color-red-700);--sl-color-danger-800: var(--sl-color-red-800);--sl-color-danger-900: var(--sl-color-red-900);--sl-color-danger-950: var(--sl-color-red-950);--sl-color-neutral-50: var(--sl-color-gray-50);--sl-color-neutral-100: var(--sl-color-gray-100);--sl-color-neutral-200: var(--sl-color-gray-200);--sl-color-neutral-300: var(--sl-color-gray-300);--sl-color-neutral-400: var(--sl-color-gray-400);--sl-color-neutral-500: var(--sl-color-gray-500);--sl-color-neutral-600: var(--sl-color-gray-600);--sl-color-neutral-700: var(--sl-color-gray-700);--sl-color-neutral-800: var(--sl-color-gray-800);--sl-color-neutral-900: var(--sl-color-gray-900);--sl-color-neutral-950: var(--sl-color-gray-950);--sl-color-neutral-0: hsl(0, 0%, 100%);--sl-color-neutral-1000: hsl(0, 0%, 0%);--sl-border-radius-small: .1875rem;--sl-border-radius-medium: .25rem;--sl-border-radius-large: .5rem;--sl-border-radius-x-large: 1rem;--sl-border-radius-circle: 50%;--sl-border-radius-pill: 9999px;--sl-shadow-x-small: 0 1px 2px hsl(240 3.8% 46.1% / 6%);--sl-shadow-small: 0 1px 2px hsl(240 3.8% 46.1% / 12%);--sl-shadow-medium: 0 2px 4px hsl(240 3.8% 46.1% / 12%);--sl-shadow-large: 0 2px 8px hsl(240 3.8% 46.1% / 12%);--sl-shadow-x-large: 0 4px 16px hsl(240 3.8% 46.1% / 12%);--sl-spacing-3x-small: .125rem;--sl-spacing-2x-small: .25rem;--sl-spacing-x-small: .5rem;--sl-spacing-small: .75rem;--sl-spacing-medium: 1rem;--sl-spacing-large: 1.25rem;--sl-spacing-x-large: 1.75rem;--sl-spacing-2x-large: 2.25rem;--sl-spacing-3x-large: 3rem;--sl-spacing-4x-large: 4.5rem;--sl-transition-x-slow: 1s;--sl-transition-slow: .5s;--sl-transition-medium: .25s;--sl-transition-fast: .15s;--sl-transition-x-fast: 50ms;--sl-font-mono: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;--sl-font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--sl-font-serif: Georgia, "Times New Roman", serif;--sl-font-size-2x-small: .625rem;--sl-font-size-x-small: .75rem;--sl-font-size-small: .875rem;--sl-font-size-medium: 1rem;--sl-font-size-large: 1.25rem;--sl-font-size-x-large: 1.5rem;--sl-font-size-2x-large: 2.25rem;--sl-font-size-3x-large: 3rem;--sl-font-size-4x-large: 4.5rem;--sl-font-weight-light: 300;--sl-font-weight-normal: 400;--sl-font-weight-semibold: 500;--sl-font-weight-bold: 700;--sl-letter-spacing-denser: -.03em;--sl-letter-spacing-dense: -.015em;--sl-letter-spacing-normal: normal;--sl-letter-spacing-loose: .075em;--sl-letter-spacing-looser: .15em;--sl-line-height-denser: 1;--sl-line-height-dense: 1.4;--sl-line-height-normal: 1.8;--sl-line-height-loose: 2.2;--sl-line-height-looser: 2.6;--sl-focus-ring-color: var(--sl-color-primary-600);--sl-focus-ring-style: solid;--sl-focus-ring-width: 3px;--sl-focus-ring: var(--sl-focus-ring-style) var(--sl-focus-ring-width) var(--sl-focus-ring-color);--sl-focus-ring-offset: 1px;--sl-button-font-size-small: var(--sl-font-size-x-small);--sl-button-font-size-medium: var(--sl-font-size-small);--sl-button-font-size-large: var(--sl-font-size-medium);--sl-input-height-small: 1.875rem;--sl-input-height-medium: 2.5rem;--sl-input-height-large: 3.125rem;--sl-input-background-color: var(--sl-color-neutral-0);--sl-input-background-color-hover: var(--sl-input-background-color);--sl-input-background-color-focus: var(--sl-input-background-color);--sl-input-background-color-disabled: var(--sl-color-neutral-100);--sl-input-border-color: var(--sl-color-neutral-300);--sl-input-border-color-hover: var(--sl-color-neutral-400);--sl-input-border-color-focus: var(--sl-color-primary-500);--sl-input-border-color-disabled: var(--sl-color-neutral-300);--sl-input-border-width: 1px;--sl-input-required-content: "*";--sl-input-required-content-offset: -2px;--sl-input-required-content-color: var(--sl-input-label-color);--sl-input-border-radius-small: var(--sl-border-radius-medium);--sl-input-border-radius-medium: var(--sl-border-radius-medium);--sl-input-border-radius-large: var(--sl-border-radius-medium);--sl-input-font-family: var(--sl-font-sans);--sl-input-font-weight: var(--sl-font-weight-normal);--sl-input-font-size-small: var(--sl-font-size-small);--sl-input-font-size-medium: var(--sl-font-size-medium);--sl-input-font-size-large: var(--sl-font-size-large);--sl-input-letter-spacing: var(--sl-letter-spacing-normal);--sl-input-color: var(--sl-color-neutral-700);--sl-input-color-hover: var(--sl-color-neutral-700);--sl-input-color-focus: var(--sl-color-neutral-700);--sl-input-color-disabled: var(--sl-color-neutral-900);--sl-input-icon-color: var(--sl-color-neutral-500);--sl-input-icon-color-hover: var(--sl-color-neutral-600);--sl-input-icon-color-focus: var(--sl-color-neutral-600);--sl-input-placeholder-color: var(--sl-color-neutral-500);--sl-input-placeholder-color-disabled: var(--sl-color-neutral-600);--sl-input-spacing-small: var(--sl-spacing-small);--sl-input-spacing-medium: var(--sl-spacing-medium);--sl-input-spacing-large: var(--sl-spacing-large);--sl-input-focus-ring-color: hsl(198.6 88.7% 48.4% / 40%);--sl-input-focus-ring-offset: 0;--sl-input-filled-background-color: var(--sl-color-neutral-100);--sl-input-filled-background-color-hover: var(--sl-color-neutral-100);--sl-input-filled-background-color-focus: var(--sl-color-neutral-100);--sl-input-filled-background-color-disabled: var(--sl-color-neutral-100);--sl-input-filled-color: var(--sl-color-neutral-800);--sl-input-filled-color-hover: var(--sl-color-neutral-800);--sl-input-filled-color-focus: var(--sl-color-neutral-700);--sl-input-filled-color-disabled: var(--sl-color-neutral-800);--sl-input-label-font-size-small: var(--sl-font-size-small);--sl-input-label-font-size-medium: var(--sl-font-size-medium);--sl-input-label-font-size-large: var(--sl-font-size-large);--sl-input-label-color: inherit;--sl-input-help-text-font-size-small: var(--sl-font-size-x-small);--sl-input-help-text-font-size-medium: var(--sl-font-size-small);--sl-input-help-text-font-size-large: var(--sl-font-size-medium);--sl-input-help-text-color: var(--sl-color-neutral-500);--sl-toggle-size-small: .875rem;--sl-toggle-size-medium: 1.125rem;--sl-toggle-size-large: 1.375rem;--sl-overlay-background-color: hsl(240 3.8% 46.1% / 33%);--sl-panel-background-color: var(--sl-color-neutral-0);--sl-panel-border-color: var(--sl-color-neutral-200);--sl-panel-border-width: 1px;--sl-tooltip-border-radius: var(--sl-border-radius-medium);--sl-tooltip-background-color: var(--sl-color-neutral-800);--sl-tooltip-color: var(--sl-color-neutral-0);--sl-tooltip-font-family: var(--sl-font-sans);--sl-tooltip-font-weight: var(--sl-font-weight-normal);--sl-tooltip-font-size: var(--sl-font-size-small);--sl-tooltip-line-height: var(--sl-line-height-dense);--sl-tooltip-padding: var(--sl-spacing-2x-small) var(--sl-spacing-x-small);--sl-tooltip-arrow-size: 6px;--sl-z-index-drawer: 700;--sl-z-index-dialog: 800;--sl-z-index-dropdown: 900;--sl-z-index-toast: 950;--sl-z-index-tooltip: 1000}@supports (scrollbar-gutter: stable){.sl-scroll-lock{scrollbar-gutter:stable!important;overflow:hidden!important}}@supports not (scrollbar-gutter: stable){.sl-scroll-lock{padding-right:var(--sl-scroll-lock-size)!important;overflow:hidden!important}}.sl-toast-stack{position:fixed;top:0;inset-inline-end:0;z-index:var(--sl-z-index-toast);width:28rem;max-width:100%;max-height:100%;overflow:auto}.sl-toast-stack sl-alert{margin:var(--sl-spacing-medium)}.sl-toast-stack sl-alert::part(base){box-shadow:var(--sl-shadow-large)}*{box-sizing:border-box}:host{display:flex;align-content:center;justify-content:center;position:relative;background-color:inherit}.content{width:100%;height:100%;margin:auto}#map{width:100%;height:100%}#caption{font-family:sans-serif;width:100%;white-space:nowrap;background-color:#555;color:#fff;padding:4px 6px;bottom:0;height:32px;text-overflow:ellipsis;overflow:hidden}#lat-lng-zoom{position:absolute;font-family:sans-serif;bottom:24px;right:0;width:150px;height:32px;padding:3px 6px;font-size:.8rem;background-color:#ffffff80;color:#000;z-index:2;opacity:0;text-align:right}#lat-lng-zoom:hover{visibility:visible;opacity:1;transition:all .3s ease-in;cursor:copy;z-index:1000}.card{display:grid;grid-template-columns:1fr;grid-template-rows:auto auto auto 1fr 0px;border-radius:4px;padding:0}.card p{border:none}.card-image{grid-area:1 / 1 / 2 / 2;width:100%;height:190px}.card-title{grid-area:2 / 1 / 3 / 2;font-weight:700;font-size:1.5rem;line-height:1;padding:1.3rem .5rem .2rem;text-decoration:none}.card-metadata{grid-area:3 / 1 / 4 / 2;list-style:none;padding:.2rem .5rem;margin:0;font-size:.9rem;font-weight:400}.card-abstract{grid-area:4 / 1 / 5 / 2;align-self:flex-end;height:110px;line-height:1.4;font-size:1rem;padding:.5rem .5rem 0;overflow:hidden;display:-webkit-box;-webkit-line-clamp:5;-webkit-box-orient:vertical;margin:0 0 .5rem}.leaflet-popup-content{width:280px;margin:0}.leaflet-control-layers-toggle{background-image:url(https://unpkg.com/leaflet@1.9.3/dist/images/layers.png)}.leaflet-retina .leaflet-control-layers-toggle{background-image:url(https://unpkg.com/leaflet@1.9.3/dist/images/layers-2x.png)}sl-dialog::part(panel){max-width:unset;max-height:unset;height:100dvh}sl-dialog::part(overlay){--sl-overlay-background-color: rgba(100, 100, 100, .8)}sl-dialog::part(footer){background-color:#64646480}.leaflet-top,.leaflet-bottom{z-index:unset}
`,_H=Es(wH,[["styles",[xH]]]),kH=Xt("sl-button",{slot:"trigger"},[Xt("svg",{xmlns:"http://www.w3.org/2000/svg",slot:"prefix",width:"16",height:"16",fill:"currentColor",class:"bi bi-list",viewBox:"0 0 16 16"},[Xt("path",{"fill-rule":"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"})])],-1),EH=["onClick"],TH=["innerHTML"],SH=["innerHTML"],CH={key:1,slot:"prefix",style:{width:"1em","margin-right":"1em"}},PH=Xt("span",null,"Download as PDF",-1),MH=Xt("img",{slot:"prefix",width:"16",src:"https://upload.wikimedia.org/wikipedia/commons/2/2a/Noun_Project_PDF_icon_117327_cc.svg",alt:"PDF Download Icon"},null,-1),IH=[PH,MH],LH={class:"hs-overlay-open:mt-7 hs-overlay-open:opacity-100 hs-overlay-open:duration-500 mt-0 opacity-0 ease-out transition-all sm:max-w-lg sm:w-full m-3 sm:mx-auto min-h-[calc(100%-3.5rem)] flex items-center"},RH={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},AH={class:"p-4 overflow-y-auto flex items-center gap-4 text-black"},OH=Xt("sl-spinner",{style:{"font-size":"3rem","--indicator-color":"deeppink","--track-color":"pink"}},null,-1),zH=["innerHTML"],NH=Ro({__name:"Menu.ce",props:{contact:{type:String},pdfDownloadEnabled:{type:Boolean,default:!1}},setup(n){const r=n,t=me(null),o=Xe(()=>{var H,W;return(W=(H=t.value)==null?void 0:H.getRootNode())==null?void 0:W.host});er(o,()=>{C()});const l=me(null),u=Xe(()=>l==null?void 0:l.value),d=Xe(()=>new Mx(u.value)),f=me(null),m=Xe(()=>f==null?void 0:f.value),v=me("Generating PDF...");er(m,H=>{d.value.init(),H.addEventListener("open.hs.overlay",W=>_.value=!0),H.addEventListener("close.hs.overlay",W=>_.value=!1)});const _=me(!1);er(_,H=>{H?d.value.open(m.value):d.value.close(m.value)});const k=me([]);function C(){function H(){let W=Array.from(o.value.querySelectorAll("li")).map(j=>{var pt,ct;const V=j.querySelector("a");let nt=V.innerText.trim(),gt=(pt=j.querySelector("svg"))==null?void 0:pt.outerHTML;if(!gt){let Z=((ct=V.href.split("/").filter(at=>at).pop())==null?void 0:ct.toLowerCase())||"";Z=location.host===Z?"home":Z,G[Z]&&(gt=G[Z])}return{label:nt,icon:gt,href:V.href}});r.contact&&W.push({label:"Contact Us",icon:G.contact,href:"/contact"}),k.value=W}H(),new MutationObserver(W=>{for(let j of W)j.type==="childList"&&H()}).observe(o.value,{childList:!0,subtree:!0})}function M(H,W){var V;let j=H.href.split("/").filter(nt=>nt).pop().toLowerCase();if(j=location.host===j?"home":j,j==="contact")A();else{let nt=new URL(H.href);if(nt.origin===location.origin){let pt=`${((V=(window==null?void 0:window.config)||{})==null?void 0:V.baseurl)||""}${nt.pathname}`;location.pathname=pt}else location.href=H.href}}function A(){const H=r.contact,W=`${window.config.title} Contact`,V=`mailto:${H}?subject=${W}&body=`;window.open(V,"_blank")}async function F(){console.log(`Generating PDF for ${location.href}`),v.value="Generating PDF...",_.value=!_.value;let H=await fetch(`https://ezsitepdf-drnxe7pzjq-uc.a.run.app/pdf?url=${location.href}`);if(H.ok){v.value="Downloading PDF...";let W=await H.blob();const j=document.createElement("a");j.setAttribute("download","resume.pdf");const V=URL.createObjectURL(W);j.href=V,j.setAttribute("target","_blank"),j.click(),j.addEventListener,URL.revokeObjectURL(V)}setTimeout(()=>_.value=!1,2e3)}const G={home:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 576 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"/></svg>',about:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"/></svg>',contact:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"/></svg>'};return(H,W)=>(ke(),Ce(Fi,null,[Xt("sl-dropdown",{ref_key:"root",ref:t},[kH,Xt("sl-menu",null,[(ke(!0),Ce(Fi,null,nu(k.value,j=>(ke(),Ce("sl-menu-item",{onClick:V=>M(j)},[Xt("span",{innerHTML:j.label},null,8,TH),j.icon?(ke(),Ce("svg",{key:0,slot:"prefix",innerHTML:j.icon},null,8,SH)):(ke(),Ce("span",CH))],8,EH))),256)),n.pdfDownloadEnabled?(ke(),Ce("sl-menu-item",{key:0,onClick:F},IH)):ii("",!0)])],512),Xt("div",{ref_key:"overlayRef",ref:l},[Xt("div",{ref_key:"modalRef",ref:f,id:"hs-basic-modal",class:"hs-overlay hidden w-full h-full fixed top-0 start-0 z-[80] overflow-x-hidden overflow-y-auto pointer-events-none"},[Xt("div",LH,[Xt("div",RH,[Xt("div",AH,[OH,Xt("p",{innerHTML:v.value},null,8,zH)])])])],512)],512)],64))}}),DH=`:root,:host,.sl-theme-light{color-scheme:light;--sl-color-gray-50: hsl(0 0% 97.5%);--sl-color-gray-100: hsl(240 4.8% 95.9%);--sl-color-gray-200: hsl(240 5.9% 90%);--sl-color-gray-300: hsl(240 4.9% 83.9%);--sl-color-gray-400: hsl(240 5% 64.9%);--sl-color-gray-500: hsl(240 3.8% 46.1%);--sl-color-gray-600: hsl(240 5.2% 33.9%);--sl-color-gray-700: hsl(240 5.3% 26.1%);--sl-color-gray-800: hsl(240 3.7% 15.9%);--sl-color-gray-900: hsl(240 5.9% 10%);--sl-color-gray-950: hsl(240 7.3% 8%);--sl-color-red-50: hsl(0 85.7% 97.3%);--sl-color-red-100: hsl(0 93.3% 94.1%);--sl-color-red-200: hsl(0 96.3% 89.4%);--sl-color-red-300: hsl(0 93.5% 81.8%);--sl-color-red-400: hsl(0 90.6% 70.8%);--sl-color-red-500: hsl(0 84.2% 60.2%);--sl-color-red-600: hsl(0 72.2% 50.6%);--sl-color-red-700: hsl(0 73.7% 41.8%);--sl-color-red-800: hsl(0 70% 35.3%);--sl-color-red-900: hsl(0 62.8% 30.6%);--sl-color-red-950: hsl(0 60% 19.6%);--sl-color-orange-50: hsl(33.3 100% 96.5%);--sl-color-orange-100: hsl(34.3 100% 91.8%);--sl-color-orange-200: hsl(32.1 97.7% 83.1%);--sl-color-orange-300: hsl(30.7 97.2% 72.4%);--sl-color-orange-400: hsl(27 96% 61%);--sl-color-orange-500: hsl(24.6 95% 53.1%);--sl-color-orange-600: hsl(20.5 90.2% 48.2%);--sl-color-orange-700: hsl(17.5 88.3% 40.4%);--sl-color-orange-800: hsl(15 79.1% 33.7%);--sl-color-orange-900: hsl(15.3 74.6% 27.8%);--sl-color-orange-950: hsl(15.2 69.1% 19%);--sl-color-amber-50: hsl(48 100% 96.1%);--sl-color-amber-100: hsl(48 96.5% 88.8%);--sl-color-amber-200: hsl(48 96.6% 76.7%);--sl-color-amber-300: hsl(45.9 96.7% 64.5%);--sl-color-amber-400: hsl(43.3 96.4% 56.3%);--sl-color-amber-500: hsl(37.7 92.1% 50.2%);--sl-color-amber-600: hsl(32.1 94.6% 43.7%);--sl-color-amber-700: hsl(26 90.5% 37.1%);--sl-color-amber-800: hsl(22.7 82.5% 31.4%);--sl-color-amber-900: hsl(21.7 77.8% 26.5%);--sl-color-amber-950: hsl(22.9 74.1% 16.7%);--sl-color-yellow-50: hsl(54.5 91.7% 95.3%);--sl-color-yellow-100: hsl(54.9 96.7% 88%);--sl-color-yellow-200: hsl(52.8 98.3% 76.9%);--sl-color-yellow-300: hsl(50.4 97.8% 63.5%);--sl-color-yellow-400: hsl(47.9 95.8% 53.1%);--sl-color-yellow-500: hsl(45.4 93.4% 47.5%);--sl-color-yellow-600: hsl(40.6 96.1% 40.4%);--sl-color-yellow-700: hsl(35.5 91.7% 32.9%);--sl-color-yellow-800: hsl(31.8 81% 28.8%);--sl-color-yellow-900: hsl(28.4 72.5% 25.7%);--sl-color-yellow-950: hsl(33.1 69% 13.9%);--sl-color-lime-50: hsl(78.3 92% 95.1%);--sl-color-lime-100: hsl(79.6 89.1% 89.2%);--sl-color-lime-200: hsl(80.9 88.5% 79.6%);--sl-color-lime-300: hsl(82 84.5% 67.1%);--sl-color-lime-400: hsl(82.7 78% 55.5%);--sl-color-lime-500: hsl(83.7 80.5% 44.3%);--sl-color-lime-600: hsl(84.8 85.2% 34.5%);--sl-color-lime-700: hsl(85.9 78.4% 27.3%);--sl-color-lime-800: hsl(86.3 69% 22.7%);--sl-color-lime-900: hsl(87.6 61.2% 20.2%);--sl-color-lime-950: hsl(86.5 60.6% 13.9%);--sl-color-green-50: hsl(138.5 76.5% 96.7%);--sl-color-green-100: hsl(140.6 84.2% 92.5%);--sl-color-green-200: hsl(141 78.9% 85.1%);--sl-color-green-300: hsl(141.7 76.6% 73.1%);--sl-color-green-400: hsl(141.9 69.2% 58%);--sl-color-green-500: hsl(142.1 70.6% 45.3%);--sl-color-green-600: hsl(142.1 76.2% 36.3%);--sl-color-green-700: hsl(142.4 71.8% 29.2%);--sl-color-green-800: hsl(142.8 64.2% 24.1%);--sl-color-green-900: hsl(143.8 61.2% 20.2%);--sl-color-green-950: hsl(144.3 60.7% 12%);--sl-color-emerald-50: hsl(151.8 81% 95.9%);--sl-color-emerald-100: hsl(149.3 80.4% 90%);--sl-color-emerald-200: hsl(152.4 76% 80.4%);--sl-color-emerald-300: hsl(156.2 71.6% 66.9%);--sl-color-emerald-400: hsl(158.1 64.4% 51.6%);--sl-color-emerald-500: hsl(160.1 84.1% 39.4%);--sl-color-emerald-600: hsl(161.4 93.5% 30.4%);--sl-color-emerald-700: hsl(162.9 93.5% 24.3%);--sl-color-emerald-800: hsl(163.1 88.1% 19.8%);--sl-color-emerald-900: hsl(164.2 85.7% 16.5%);--sl-color-emerald-950: hsl(164.3 87.5% 9.4%);--sl-color-teal-50: hsl(166.2 76.5% 96.7%);--sl-color-teal-100: hsl(167.2 85.5% 89.2%);--sl-color-teal-200: hsl(168.4 83.8% 78.2%);--sl-color-teal-300: hsl(170.6 76.9% 64.3%);--sl-color-teal-400: hsl(172.5 66% 50.4%);--sl-color-teal-500: hsl(173.4 80.4% 40%);--sl-color-teal-600: hsl(174.7 83.9% 31.6%);--sl-color-teal-700: hsl(175.3 77.4% 26.1%);--sl-color-teal-800: hsl(176.1 69.4% 21.8%);--sl-color-teal-900: hsl(175.9 60.8% 19%);--sl-color-teal-950: hsl(176.5 58.6% 11.4%);--sl-color-cyan-50: hsl(183.2 100% 96.3%);--sl-color-cyan-100: hsl(185.1 95.9% 90.4%);--sl-color-cyan-200: hsl(186.2 93.5% 81.8%);--sl-color-cyan-300: hsl(187 92.4% 69%);--sl-color-cyan-400: hsl(187.9 85.7% 53.3%);--sl-color-cyan-500: hsl(188.7 94.5% 42.7%);--sl-color-cyan-600: hsl(191.6 91.4% 36.5%);--sl-color-cyan-700: hsl(192.9 82.3% 31%);--sl-color-cyan-800: hsl(194.4 69.6% 27.1%);--sl-color-cyan-900: hsl(196.4 63.6% 23.7%);--sl-color-cyan-950: hsl(196.8 61% 16.1%);--sl-color-sky-50: hsl(204 100% 97.1%);--sl-color-sky-100: hsl(204 93.8% 93.7%);--sl-color-sky-200: hsl(200.6 94.4% 86.1%);--sl-color-sky-300: hsl(199.4 95.5% 73.9%);--sl-color-sky-400: hsl(198.4 93.2% 59.6%);--sl-color-sky-500: hsl(198.6 88.7% 48.4%);--sl-color-sky-600: hsl(200.4 98% 39.4%);--sl-color-sky-700: hsl(201.3 96.3% 32.2%);--sl-color-sky-800: hsl(201 90% 27.5%);--sl-color-sky-900: hsl(202 80.3% 23.9%);--sl-color-sky-950: hsl(202.3 73.8% 16.5%);--sl-color-blue-50: hsl(213.8 100% 96.9%);--sl-color-blue-100: hsl(214.3 94.6% 92.7%);--sl-color-blue-200: hsl(213.3 96.9% 87.3%);--sl-color-blue-300: hsl(211.7 96.4% 78.4%);--sl-color-blue-400: hsl(213.1 93.9% 67.8%);--sl-color-blue-500: hsl(217.2 91.2% 59.8%);--sl-color-blue-600: hsl(221.2 83.2% 53.3%);--sl-color-blue-700: hsl(224.3 76.3% 48%);--sl-color-blue-800: hsl(225.9 70.7% 40.2%);--sl-color-blue-900: hsl(224.4 64.3% 32.9%);--sl-color-blue-950: hsl(226.2 55.3% 18.4%);--sl-color-indigo-50: hsl(225.9 100% 96.7%);--sl-color-indigo-100: hsl(226.5 100% 93.9%);--sl-color-indigo-200: hsl(228 96.5% 88.8%);--sl-color-indigo-300: hsl(229.7 93.5% 81.8%);--sl-color-indigo-400: hsl(234.5 89.5% 73.9%);--sl-color-indigo-500: hsl(238.7 83.5% 66.7%);--sl-color-indigo-600: hsl(243.4 75.4% 58.6%);--sl-color-indigo-700: hsl(244.5 57.9% 50.6%);--sl-color-indigo-800: hsl(243.7 54.5% 41.4%);--sl-color-indigo-900: hsl(242.2 47.4% 34.3%);--sl-color-indigo-950: hsl(243.5 43.6% 22.9%);--sl-color-violet-50: hsl(250 100% 97.6%);--sl-color-violet-100: hsl(251.4 91.3% 95.5%);--sl-color-violet-200: hsl(250.5 95.2% 91.8%);--sl-color-violet-300: hsl(252.5 94.7% 85.1%);--sl-color-violet-400: hsl(255.1 91.7% 76.3%);--sl-color-violet-500: hsl(258.3 89.5% 66.3%);--sl-color-violet-600: hsl(262.1 83.3% 57.8%);--sl-color-violet-700: hsl(263.4 70% 50.4%);--sl-color-violet-800: hsl(263.4 69.3% 42.2%);--sl-color-violet-900: hsl(263.5 67.4% 34.9%);--sl-color-violet-950: hsl(265.1 61.5% 21.4%);--sl-color-purple-50: hsl(270 100% 98%);--sl-color-purple-100: hsl(268.7 100% 95.5%);--sl-color-purple-200: hsl(268.6 100% 91.8%);--sl-color-purple-300: hsl(269.2 97.4% 85.1%);--sl-color-purple-400: hsl(270 95.2% 75.3%);--sl-color-purple-500: hsl(270.7 91% 65.1%);--sl-color-purple-600: hsl(271.5 81.3% 55.9%);--sl-color-purple-700: hsl(272.1 71.7% 47.1%);--sl-color-purple-800: hsl(272.9 67.2% 39.4%);--sl-color-purple-900: hsl(273.6 65.6% 32%);--sl-color-purple-950: hsl(276 59.5% 16.5%);--sl-color-fuchsia-50: hsl(289.1 100% 97.8%);--sl-color-fuchsia-100: hsl(287 100% 95.5%);--sl-color-fuchsia-200: hsl(288.3 95.8% 90.6%);--sl-color-fuchsia-300: hsl(291.1 93.1% 82.9%);--sl-color-fuchsia-400: hsl(292 91.4% 72.5%);--sl-color-fuchsia-500: hsl(292.2 84.1% 60.6%);--sl-color-fuchsia-600: hsl(293.4 69.5% 48.8%);--sl-color-fuchsia-700: hsl(294.7 72.4% 39.8%);--sl-color-fuchsia-800: hsl(295.4 70.2% 32.9%);--sl-color-fuchsia-900: hsl(296.7 63.6% 28%);--sl-color-fuchsia-950: hsl(297.1 56.8% 14.5%);--sl-color-pink-50: hsl(327.3 73.3% 97.1%);--sl-color-pink-100: hsl(325.7 77.8% 94.7%);--sl-color-pink-200: hsl(325.9 84.6% 89.8%);--sl-color-pink-300: hsl(327.4 87.1% 81.8%);--sl-color-pink-400: hsl(328.6 85.5% 70.2%);--sl-color-pink-500: hsl(330.4 81.2% 60.4%);--sl-color-pink-600: hsl(333.3 71.4% 50.6%);--sl-color-pink-700: hsl(335.1 77.6% 42%);--sl-color-pink-800: hsl(335.8 74.4% 35.3%);--sl-color-pink-900: hsl(335.9 69% 30.4%);--sl-color-pink-950: hsl(336.2 65.4% 15.9%);--sl-color-rose-50: hsl(355.7 100% 97.3%);--sl-color-rose-100: hsl(355.6 100% 94.7%);--sl-color-rose-200: hsl(352.7 96.1% 90%);--sl-color-rose-300: hsl(352.6 95.7% 81.8%);--sl-color-rose-400: hsl(351.3 94.5% 71.4%);--sl-color-rose-500: hsl(349.7 89.2% 60.2%);--sl-color-rose-600: hsl(346.8 77.2% 49.8%);--sl-color-rose-700: hsl(345.3 82.7% 40.8%);--sl-color-rose-800: hsl(343.4 79.7% 34.7%);--sl-color-rose-900: hsl(341.5 75.5% 30.4%);--sl-color-rose-950: hsl(341.3 70.1% 17.1%);--sl-color-primary-50: var(--sl-color-sky-50);--sl-color-primary-100: var(--sl-color-sky-100);--sl-color-primary-200: var(--sl-color-sky-200);--sl-color-primary-300: var(--sl-color-sky-300);--sl-color-primary-400: var(--sl-color-sky-400);--sl-color-primary-500: var(--sl-color-sky-500);--sl-color-primary-600: var(--sl-color-sky-600);--sl-color-primary-700: var(--sl-color-sky-700);--sl-color-primary-800: var(--sl-color-sky-800);--sl-color-primary-900: var(--sl-color-sky-900);--sl-color-primary-950: var(--sl-color-sky-950);--sl-color-success-50: var(--sl-color-green-50);--sl-color-success-100: var(--sl-color-green-100);--sl-color-success-200: var(--sl-color-green-200);--sl-color-success-300: var(--sl-color-green-300);--sl-color-success-400: var(--sl-color-green-400);--sl-color-success-500: var(--sl-color-green-500);--sl-color-success-600: var(--sl-color-green-600);--sl-color-success-700: var(--sl-color-green-700);--sl-color-success-800: var(--sl-color-green-800);--sl-color-success-900: var(--sl-color-green-900);--sl-color-success-950: var(--sl-color-green-950);--sl-color-warning-50: var(--sl-color-amber-50);--sl-color-warning-100: var(--sl-color-amber-100);--sl-color-warning-200: var(--sl-color-amber-200);--sl-color-warning-300: var(--sl-color-amber-300);--sl-color-warning-400: var(--sl-color-amber-400);--sl-color-warning-500: var(--sl-color-amber-500);--sl-color-warning-600: var(--sl-color-amber-600);--sl-color-warning-700: var(--sl-color-amber-700);--sl-color-warning-800: var(--sl-color-amber-800);--sl-color-warning-900: var(--sl-color-amber-900);--sl-color-warning-950: var(--sl-color-amber-950);--sl-color-danger-50: var(--sl-color-red-50);--sl-color-danger-100: var(--sl-color-red-100);--sl-color-danger-200: var(--sl-color-red-200);--sl-color-danger-300: var(--sl-color-red-300);--sl-color-danger-400: var(--sl-color-red-400);--sl-color-danger-500: var(--sl-color-red-500);--sl-color-danger-600: var(--sl-color-red-600);--sl-color-danger-700: var(--sl-color-red-700);--sl-color-danger-800: var(--sl-color-red-800);--sl-color-danger-900: var(--sl-color-red-900);--sl-color-danger-950: var(--sl-color-red-950);--sl-color-neutral-50: var(--sl-color-gray-50);--sl-color-neutral-100: var(--sl-color-gray-100);--sl-color-neutral-200: var(--sl-color-gray-200);--sl-color-neutral-300: var(--sl-color-gray-300);--sl-color-neutral-400: var(--sl-color-gray-400);--sl-color-neutral-500: var(--sl-color-gray-500);--sl-color-neutral-600: var(--sl-color-gray-600);--sl-color-neutral-700: var(--sl-color-gray-700);--sl-color-neutral-800: var(--sl-color-gray-800);--sl-color-neutral-900: var(--sl-color-gray-900);--sl-color-neutral-950: var(--sl-color-gray-950);--sl-color-neutral-0: hsl(0, 0%, 100%);--sl-color-neutral-1000: hsl(0, 0%, 0%);--sl-border-radius-small: .1875rem;--sl-border-radius-medium: .25rem;--sl-border-radius-large: .5rem;--sl-border-radius-x-large: 1rem;--sl-border-radius-circle: 50%;--sl-border-radius-pill: 9999px;--sl-shadow-x-small: 0 1px 2px hsl(240 3.8% 46.1% / 6%);--sl-shadow-small: 0 1px 2px hsl(240 3.8% 46.1% / 12%);--sl-shadow-medium: 0 2px 4px hsl(240 3.8% 46.1% / 12%);--sl-shadow-large: 0 2px 8px hsl(240 3.8% 46.1% / 12%);--sl-shadow-x-large: 0 4px 16px hsl(240 3.8% 46.1% / 12%);--sl-spacing-3x-small: .125rem;--sl-spacing-2x-small: .25rem;--sl-spacing-x-small: .5rem;--sl-spacing-small: .75rem;--sl-spacing-medium: 1rem;--sl-spacing-large: 1.25rem;--sl-spacing-x-large: 1.75rem;--sl-spacing-2x-large: 2.25rem;--sl-spacing-3x-large: 3rem;--sl-spacing-4x-large: 4.5rem;--sl-transition-x-slow: 1s;--sl-transition-slow: .5s;--sl-transition-medium: .25s;--sl-transition-fast: .15s;--sl-transition-x-fast: 50ms;--sl-font-mono: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;--sl-font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--sl-font-serif: Georgia, "Times New Roman", serif;--sl-font-size-2x-small: .625rem;--sl-font-size-x-small: .75rem;--sl-font-size-small: .875rem;--sl-font-size-medium: 1rem;--sl-font-size-large: 1.25rem;--sl-font-size-x-large: 1.5rem;--sl-font-size-2x-large: 2.25rem;--sl-font-size-3x-large: 3rem;--sl-font-size-4x-large: 4.5rem;--sl-font-weight-light: 300;--sl-font-weight-normal: 400;--sl-font-weight-semibold: 500;--sl-font-weight-bold: 700;--sl-letter-spacing-denser: -.03em;--sl-letter-spacing-dense: -.015em;--sl-letter-spacing-normal: normal;--sl-letter-spacing-loose: .075em;--sl-letter-spacing-looser: .15em;--sl-line-height-denser: 1;--sl-line-height-dense: 1.4;--sl-line-height-normal: 1.8;--sl-line-height-loose: 2.2;--sl-line-height-looser: 2.6;--sl-focus-ring-color: var(--sl-color-primary-600);--sl-focus-ring-style: solid;--sl-focus-ring-width: 3px;--sl-focus-ring: var(--sl-focus-ring-style) var(--sl-focus-ring-width) var(--sl-focus-ring-color);--sl-focus-ring-offset: 1px;--sl-button-font-size-small: var(--sl-font-size-x-small);--sl-button-font-size-medium: var(--sl-font-size-small);--sl-button-font-size-large: var(--sl-font-size-medium);--sl-input-height-small: 1.875rem;--sl-input-height-medium: 2.5rem;--sl-input-height-large: 3.125rem;--sl-input-background-color: var(--sl-color-neutral-0);--sl-input-background-color-hover: var(--sl-input-background-color);--sl-input-background-color-focus: var(--sl-input-background-color);--sl-input-background-color-disabled: var(--sl-color-neutral-100);--sl-input-border-color: var(--sl-color-neutral-300);--sl-input-border-color-hover: var(--sl-color-neutral-400);--sl-input-border-color-focus: var(--sl-color-primary-500);--sl-input-border-color-disabled: var(--sl-color-neutral-300);--sl-input-border-width: 1px;--sl-input-required-content: "*";--sl-input-required-content-offset: -2px;--sl-input-required-content-color: var(--sl-input-label-color);--sl-input-border-radius-small: var(--sl-border-radius-medium);--sl-input-border-radius-medium: var(--sl-border-radius-medium);--sl-input-border-radius-large: var(--sl-border-radius-medium);--sl-input-font-family: var(--sl-font-sans);--sl-input-font-weight: var(--sl-font-weight-normal);--sl-input-font-size-small: var(--sl-font-size-small);--sl-input-font-size-medium: var(--sl-font-size-medium);--sl-input-font-size-large: var(--sl-font-size-large);--sl-input-letter-spacing: var(--sl-letter-spacing-normal);--sl-input-color: var(--sl-color-neutral-700);--sl-input-color-hover: var(--sl-color-neutral-700);--sl-input-color-focus: var(--sl-color-neutral-700);--sl-input-color-disabled: var(--sl-color-neutral-900);--sl-input-icon-color: var(--sl-color-neutral-500);--sl-input-icon-color-hover: var(--sl-color-neutral-600);--sl-input-icon-color-focus: var(--sl-color-neutral-600);--sl-input-placeholder-color: var(--sl-color-neutral-500);--sl-input-placeholder-color-disabled: var(--sl-color-neutral-600);--sl-input-spacing-small: var(--sl-spacing-small);--sl-input-spacing-medium: var(--sl-spacing-medium);--sl-input-spacing-large: var(--sl-spacing-large);--sl-input-focus-ring-color: hsl(198.6 88.7% 48.4% / 40%);--sl-input-focus-ring-offset: 0;--sl-input-filled-background-color: var(--sl-color-neutral-100);--sl-input-filled-background-color-hover: var(--sl-color-neutral-100);--sl-input-filled-background-color-focus: var(--sl-color-neutral-100);--sl-input-filled-background-color-disabled: var(--sl-color-neutral-100);--sl-input-filled-color: var(--sl-color-neutral-800);--sl-input-filled-color-hover: var(--sl-color-neutral-800);--sl-input-filled-color-focus: var(--sl-color-neutral-700);--sl-input-filled-color-disabled: var(--sl-color-neutral-800);--sl-input-label-font-size-small: var(--sl-font-size-small);--sl-input-label-font-size-medium: var(--sl-font-size-medium);--sl-input-label-font-size-large: var(--sl-font-size-large);--sl-input-label-color: inherit;--sl-input-help-text-font-size-small: var(--sl-font-size-x-small);--sl-input-help-text-font-size-medium: var(--sl-font-size-small);--sl-input-help-text-font-size-large: var(--sl-font-size-medium);--sl-input-help-text-color: var(--sl-color-neutral-500);--sl-toggle-size-small: .875rem;--sl-toggle-size-medium: 1.125rem;--sl-toggle-size-large: 1.375rem;--sl-overlay-background-color: hsl(240 3.8% 46.1% / 33%);--sl-panel-background-color: var(--sl-color-neutral-0);--sl-panel-border-color: var(--sl-color-neutral-200);--sl-panel-border-width: 1px;--sl-tooltip-border-radius: var(--sl-border-radius-medium);--sl-tooltip-background-color: var(--sl-color-neutral-800);--sl-tooltip-color: var(--sl-color-neutral-0);--sl-tooltip-font-family: var(--sl-font-sans);--sl-tooltip-font-weight: var(--sl-font-weight-normal);--sl-tooltip-font-size: var(--sl-font-size-small);--sl-tooltip-line-height: var(--sl-line-height-dense);--sl-tooltip-padding: var(--sl-spacing-2x-small) var(--sl-spacing-x-small);--sl-tooltip-arrow-size: 6px;--sl-z-index-drawer: 700;--sl-z-index-dialog: 800;--sl-z-index-dropdown: 900;--sl-z-index-toast: 950;--sl-z-index-tooltip: 1000}@supports (scrollbar-gutter: stable){.sl-scroll-lock{scrollbar-gutter:stable!important;overflow:hidden!important}}@supports not (scrollbar-gutter: stable){.sl-scroll-lock{padding-right:var(--sl-scroll-lock-size)!important;overflow:hidden!important}}.sl-toast-stack{position:fixed;top:0;inset-inline-end:0;z-index:var(--sl-z-index-toast);width:28rem;max-width:100%;max-height:100%;overflow:auto}.sl-toast-stack sl-alert{margin:var(--sl-spacing-medium)}.sl-toast-stack sl-alert::part(base){box-shadow:var(--sl-shadow-large)}*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-\\[100\\%\\]{height:100%}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}sl-menu-item svg{width:1em;height:1em;vertical-align:middle;margin-right:1em}
`,FH=Es(NH,[["styles",[DH]]]),BH=Ro({__name:"Meta.ce",props:{title:{type:String},description:{type:String},author:{type:String},viewport:{type:String},robots:{type:String}},setup(n){return()=>{}}}),jH={class:"hs-overlay-open:mt-7 hs-overlay-open:opacity-100 hs-overlay-open:duration-500 mt-0 opacity-0 ease-out transition-all sm:max-w-lg sm:w-full m-3 sm:mx-auto min-h-[calc(100%-3.5rem)] flex items-center"},HH={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},UH={class:"p-4 overflow-y-auto"},GH={class:"mt-1 text-gray-800 dark:text-gray-400"},qH=Ro({__name:"Modal.ce",props:{open:{type:Boolean,default:!1}},setup(n){const r=n,t=me(null),o=me(null),l=Xe(()=>{var v,_;return(_=(v=t.value)==null?void 0:v.getRootNode())==null?void 0:_.host}),u=Xe(()=>t==null?void 0:t.value),d=Xe(()=>o==null?void 0:o.value),f=Xe(()=>new Mx(u.value));er(d,()=>{f.value.init(),d.value.addEventListener("open.hs.overlay",v=>m.value=!0),d.value.addEventListener("close.hs.overlay",v=>m.value=!1)});const m=me(!1);return er(m,v=>{v?(f.value.open(d.value),l.value.setAttribute("open","")):(f.value.close(d.value),l.value.removeAttribute("open"))}),er(r,()=>{m.value=r.open}),ta(()=>{m.value=r.open}),(v,_)=>(ke(),Ce("div",{ref_key:"overlayRef",ref:t},[Xt("div",{ref_key:"modalRef",ref:o,id:"hs-basic-modal",class:"hs-overlay hidden w-full h-full fixed top-0 start-0 z-[80] overflow-x-hidden overflow-y-auto pointer-events-none"},[Xt("div",jH,[Xt("div",HH,[Xt("div",UH,[Xt("p",GH,[z5(v.$slots,"default")])])])])],512)],512))}}),VH=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-\\[100\\%\\]{height:100%}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}
`,WH=Es(qH,[["styles",[VH]]]),ZH=Xt("input",{class:"search-btn",type:"checkbox",id:"search-btn"},null,-1),YH={class:"wrapper"},XH={class:"search-form"},KH={class:"input-wrapper relative"},JH=Xt("path",{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"},null,-1),QH=[JH],$H={key:0,class:"search-results"},tU=["href"],eU=["innerHTML"],rU=["innerHTML"],iU={key:0},nU=Xt("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 512 512",fill:"#fff"},[Xt("path",{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"})],-1),oU=[nU],sU="https://www.googleapis.com/customsearch/v1",aU=Ro({__name:"SiteSearch.ce",props:{searchDomain:{type:String},searchKey:{type:String},searchCx:{type:String}},setup(n){const r=n,t=me(G(r.searchDomain||"",r.searchKey||"")),o=me(null),l=Xe(()=>{var H;return(H=o==null?void 0:o.value)==null?void 0:H.parentNode}),u=me(),d=me(),f=me(""),m=me([]),v=me(0),_=me(!1);ta(()=>C());function k(H){console.log("open",H),H.preventDefault(),_.value=!0}function C(){var H,W;u.value=(H=l.value)==null?void 0:H.querySelector("#search-input"),u.value.value="",d.value=(W=l.value)==null?void 0:W.querySelector("#search-btn"),m.value=[]}er(_,()=>{var H;d.value&&(d.value.checked=_.value),_&&((H=u.value)==null||H.focus())});function M(){var nt;let H=(nt=u.value)==null?void 0:nt.value.replace(/ /,"%20"),W={q:H,start:H===f.value?m.value.length+1:1,key:t.value,cx:r.searchCx},j=Object.keys(W).map(gt=>`${gt}=${W[gt]}`).join("&"),V=`${sU}?${j}`;fetch(V).then(gt=>gt.json()).then(gt=>{v.value=parseInt(gt.searchInformation.totalResults);let pt=gt.items.map(ct=>{var at;let Z=new URL(ct.link);return ct.link=`${location.origin}${((at=window.config)==null?void 0:at.baseurl)||""}${Z.pathname}`,ct});m.value=H!==f.value?pt:[...m.value,...pt],f.value=H||""})}function A(H){H.key==="Enter"&&M()}function F(H){H.preventDefault(),H.stopPropagation(),_.value=!1,u.value&&(u.value.value=""),f.value="",v.value=0,m.value=[]}function G(H,W){const j=pt=>pt.split("").map(ct=>ct.charCodeAt(0)),V=pt=>j(H).reduce((ct,Z)=>ct^Z,pt);let nt=W.match(/.{1,2}/g);return nt?nt.map(pt=>parseInt(pt,16)).map(V).map(pt=>String.fromCharCode(pt)).join(""):""}return(H,W)=>(ke(),Ce("div",{ref_key:"root",ref:o,class:"search"},[ZH,Xt("div",YH,[Xt("div",XH,[Xt("div",KH,[Xt("input",{type:"text",id:"search-input",class:"search-input",onKeyup:A,autocomplete:"off",role:"textbox",placeholder:"Search site"},null,32)]),(ke(),Ce("svg",{onClick:F,class:"absolute top-[12px] right-[10px] z-10 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 384 512",fill:"#000"},QH))]),m.value.length>0?(ke(),Ce("ul",$H,[(ke(!0),Ce(Fi,null,nu(m.value,(j,V)=>(ke(),Ce("li",{key:`sr=${V}`},[Xt("a",{href:j.link},[Xt("h3",{innerHTML:j.htmlTitle},null,8,eU),Xt("p",{innerHTML:j.htmlSnippet},null,8,rU)],8,tU)]))),128)),v.value>m.value.length?(ke(),Ce("li",iU,[Xt("div",{class:"more",onClick:M},"More")])):ii("",!0)])):ii("",!0)]),Xt("label",{class:"search-icon",htmlFor:"search-btn"},[Xt("span",{onClick:k},oU)])],512))}}),lU=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-\\[100\\%\\]{height:100%}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}*{box-sizing:border-box}.search-icon{color:#fff;font-size:28px}.search-icon:hover{cursor:pointer}.search{position:relative;display:flex;align-items:center;gap:10px}.search-btn,.search-form,.wrapper{display:none}.wrapper{flex-direction:column;position:absolute;right:-4px}.search-form{display:flex;align-items:center}.search-input{height:42px;width:250px;border-radius:6px;padding:3px 10px;font-size:1rem;color:#000}.search-submit{background-color:#fff;border-radius:6px;padding:8px 8px 4px;height:24px;z-index:4}.search-submit:hover{background-color:#ddd;cursor:pointer}.search-results{position:absolute;top:42px;left:0;width:326px;max-height:50vh;overflow-y:scroll;z-index:2;background-color:#fff;margin:0 0 0 2px;list-style:none;padding:6px;border-radius:6px;font-size:.9rem;box-shadow:0 6px 20px #00000030}.search-results li:nth-of-type(2n){background-color:#e6e6df}.search-results li{padding:6px;margin:3px;border:1px solid #E6E6DF}.search-results li h3,.search-results li p{margin:8px 0}.search-results li a{text-decoration:none;color:#444}.search-results li a h3{font-weight:700}.search-results li a p{font-weight:300}.search-results li:hover{cursor:pointer;box-shadow:0 4px 8px #0003}.search-btn:checked~.wrapper .search-form{display:flex;width:100%}.search-btn:checked~.wrapper{display:flex}.input-wrapper{display:inline-block;position:relative}
`,cU=Es(aU,[["styles",[lU]]]);hL(()=>import("./preline-7d6f83a6.js").then(n=>n.p),[]);function uU(){customElements.define("mdp-breadcrumbs",qo(JO)),customElements.define("mdp-entity-infobox",qo(y3)),customElements.define("mdp-footer",qo(G3)),customElements.define("mdp-gallery",qo(qD)),customElements.define("mdp-header",qo(o4)),customElements.define("mdp-image",qo(g4)),customElements.define("mdp-info-card",qo(x4)),customElements.define("mdp-manifest",qo(v6)),customElements.define("mdp-manifest-popup",qo(S6)),customElements.define("mdp-map",qo(_H)),customElements.define("mdp-menu",qo(FH)),customElements.define("mdp-meta",qo(BH)),customElements.define("mdp-modal",qo(WH)),customElements.define("mdp-site-search",qo(cU))}console.log("mdpress: version=0.1.0");uU();export{ZC as g};
